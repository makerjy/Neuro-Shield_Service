function zG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l1={exports:{}},xp={},c1={exports:{}},nr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk;function HG(){if(fk)return nr;fk=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function h(P){return P===null||typeof P!="object"?null:(P=m&&P[m]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,N={};function b(P,K,Z){this.props=P,this.context=K,this.refs=N,this.updater=Z||x}b.prototype.isReactComponent={},b.prototype.setState=function(P,K){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,K,"setState")},b.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function S(){}S.prototype=b.prototype;function j(P,K,Z){this.props=P,this.context=K,this.refs=N,this.updater=Z||x}var A=j.prototype=new S;A.constructor=j,v(A,b.prototype),A.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(P,K,Z){var se,ie={},Se=null,oe=null;if(K!=null)for(se in K.ref!==void 0&&(oe=K.ref),K.key!==void 0&&(Se=""+K.key),K)E.call(K,se)&&!R.hasOwnProperty(se)&&(ie[se]=K[se]);var je=arguments.length-2;if(je===1)ie.children=Z;else if(1<je){for(var pe=Array(je),Ee=0;Ee<je;Ee++)pe[Ee]=arguments[Ee+2];ie.children=pe}if(P&&P.defaultProps)for(se in je=P.defaultProps,je)ie[se]===void 0&&(ie[se]=je[se]);return{$$typeof:e,type:P,key:Se,ref:oe,props:ie,_owner:C.current}}function O(P,K){return{$$typeof:e,type:P.type,key:K,ref:P.ref,props:P.props,_owner:P._owner}}function B(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function q(P){var K={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Z){return K[Z]})}var F=/\/+/g;function Y(P,K){return typeof P=="object"&&P!==null&&P.key!=null?q(""+P.key):K.toString(36)}function D(P,K,Z,se,ie){var Se=typeof P;(Se==="undefined"||Se==="boolean")&&(P=null);var oe=!1;if(P===null)oe=!0;else switch(Se){case"string":case"number":oe=!0;break;case"object":switch(P.$$typeof){case e:case t:oe=!0}}if(oe)return oe=P,ie=ie(oe),P=se===""?"."+Y(oe,0):se,_(ie)?(Z="",P!=null&&(Z=P.replace(F,"$&/")+"/"),D(ie,K,Z,"",function(Ee){return Ee})):ie!=null&&(B(ie)&&(ie=O(ie,Z+(!ie.key||oe&&oe.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+P)),K.push(ie)),1;if(oe=0,se=se===""?".":se+":",_(P))for(var je=0;je<P.length;je++){Se=P[je];var pe=se+Y(Se,je);oe+=D(Se,K,Z,pe,ie)}else if(pe=h(P),typeof pe=="function")for(P=pe.call(P),je=0;!(Se=P.next()).done;)Se=Se.value,pe=se+Y(Se,je++),oe+=D(Se,K,Z,pe,ie);else if(Se==="object")throw K=String(P),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return oe}function G(P,K,Z){if(P==null)return P;var se=[],ie=0;return D(P,se,"","",function(Se){return K.call(Z,Se,ie++)}),se}function U(P){if(P._status===-1){var K=P._result;K=K(),K.then(function(Z){(P._status===0||P._status===-1)&&(P._status=1,P._result=Z)},function(Z){(P._status===0||P._status===-1)&&(P._status=2,P._result=Z)}),P._status===-1&&(P._status=0,P._result=K)}if(P._status===1)return P._result.default;throw P._result}var V={current:null},M={transition:null},Q={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:M,ReactCurrentOwner:C};function J(){throw Error("act(...) is not supported in production builds of React.")}return nr.Children={map:G,forEach:function(P,K,Z){G(P,function(){K.apply(this,arguments)},Z)},count:function(P){var K=0;return G(P,function(){K++}),K},toArray:function(P){return G(P,function(K){return K})||[]},only:function(P){if(!B(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},nr.Component=b,nr.Fragment=r,nr.Profiler=s,nr.PureComponent=j,nr.StrictMode=n,nr.Suspense=u,nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,nr.act=J,nr.cloneElement=function(P,K,Z){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var se=v({},P.props),ie=P.key,Se=P.ref,oe=P._owner;if(K!=null){if(K.ref!==void 0&&(Se=K.ref,oe=C.current),K.key!==void 0&&(ie=""+K.key),P.type&&P.type.defaultProps)var je=P.type.defaultProps;for(pe in K)E.call(K,pe)&&!R.hasOwnProperty(pe)&&(se[pe]=K[pe]===void 0&&je!==void 0?je[pe]:K[pe])}var pe=arguments.length-2;if(pe===1)se.children=Z;else if(1<pe){je=Array(pe);for(var Ee=0;Ee<pe;Ee++)je[Ee]=arguments[Ee+2];se.children=je}return{$$typeof:e,type:P.type,key:ie,ref:Se,props:se,_owner:oe}},nr.createContext=function(P){return P={$$typeof:o,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:i,_context:P},P.Consumer=P},nr.createElement=I,nr.createFactory=function(P){var K=I.bind(null,P);return K.type=P,K},nr.createRef=function(){return{current:null}},nr.forwardRef=function(P){return{$$typeof:l,render:P}},nr.isValidElement=B,nr.lazy=function(P){return{$$typeof:f,_payload:{_status:-1,_result:P},_init:U}},nr.memo=function(P,K){return{$$typeof:d,type:P,compare:K===void 0?null:K}},nr.startTransition=function(P){var K=M.transition;M.transition={};try{P()}finally{M.transition=K}},nr.unstable_act=J,nr.useCallback=function(P,K){return V.current.useCallback(P,K)},nr.useContext=function(P){return V.current.useContext(P)},nr.useDebugValue=function(){},nr.useDeferredValue=function(P){return V.current.useDeferredValue(P)},nr.useEffect=function(P,K){return V.current.useEffect(P,K)},nr.useId=function(){return V.current.useId()},nr.useImperativeHandle=function(P,K,Z){return V.current.useImperativeHandle(P,K,Z)},nr.useInsertionEffect=function(P,K){return V.current.useInsertionEffect(P,K)},nr.useLayoutEffect=function(P,K){return V.current.useLayoutEffect(P,K)},nr.useMemo=function(P,K){return V.current.useMemo(P,K)},nr.useReducer=function(P,K,Z){return V.current.useReducer(P,K,Z)},nr.useRef=function(P){return V.current.useRef(P)},nr.useState=function(P){return V.current.useState(P)},nr.useSyncExternalStore=function(P,K,Z){return V.current.useSyncExternalStore(P,K,Z)},nr.useTransition=function(){return V.current.useTransition()},nr.version="18.3.1",nr}var pk;function Ny(){return pk||(pk=1,c1.exports=HG()),c1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk;function qG(){if(mk)return xp;mk=1;var e=Ny(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var f,m={},h=null,x=null;d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)n.call(u,f)&&!i.hasOwnProperty(f)&&(m[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:t,type:l,key:h,ref:x,props:m,_owner:s.current}}return xp.Fragment=r,xp.jsx=o,xp.jsxs=o,xp}var hk;function GG(){return hk||(hk=1,l1.exports=qG()),l1.exports}var a=GG(),oh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},KG={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},WG=class{#e=KG;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Wc=new WG;function VG(e){setTimeout(e,0)}var ru=typeof window>"u"||"Deno"in globalThis;function Ja(){}function YG(e,t){return typeof e=="function"?e(t):e}function cE(e){return typeof e=="number"&&e>=0&&e!==1/0}function B6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rc(e,t){return typeof e=="function"?e(t):e}function $s(e,t){return typeof e=="function"?e(t):e}function gk(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==UA(o,t.options))return!1}else if(!mm(t.queryKey,o))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function xk(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(pm(t.options.mutationKey)!==pm(i))return!1}else if(!mm(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function UA(e,t){return(t?.queryKeyHashFn||pm)(e)}function pm(e){return JSON.stringify(e,(t,r)=>dE(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function mm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>mm(e[r],t[r])):!1}var XG=Object.prototype.hasOwnProperty;function U6(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=yk(e)&&yk(t);if(!n&&!(dE(e)&&dE(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,u=n?new Array(l):{};let d=0;for(let f=0;f<l;f++){const m=n?f:o[f],h=e[m],x=t[m];if(h===x){u[m]=h,(n?f<i:XG.call(e,m))&&d++;continue}if(h===null||x===null||typeof h!="object"||typeof x!="object"){u[m]=x;continue}const v=U6(h,x,r+1);u[m]=v,v===h&&d++}return i===l&&d===i?e:u}function uE(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function yk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dE(e){if(!bk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!bk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bk(e){return Object.prototype.toString.call(e)==="[object Object]"}function QG(e){return new Promise(t=>{Wc.setTimeout(t,e)})}function fE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?U6(e,t):t}function u1(e){return e}function ZG(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function JG(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var zA=Symbol();function z6(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===zA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function H6(e,t){return typeof e=="function"?e(...t):!!e}function eK(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var tK=class extends oh{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!ru&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},HA=new tK;function pE(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var rK=VG;function nK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=rK;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ca=nK(),aK=class extends oh{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!ru&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Pg=new aK;function sK(e){return Math.min(1e3*2**e,3e4)}function q6(e){return(e??"online")==="online"?Pg.isOnline():!0}var mE=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function G6(e){let t=!1,r=0,n;const s=pE(),i=()=>s.status!=="pending",o=N=>{if(!i()){const b=new mE(N);h(b),e.onCancel?.(b)}},l=()=>{t=!0},u=()=>{t=!1},d=()=>HA.isFocused()&&(e.networkMode==="always"||Pg.isOnline())&&e.canRun(),f=()=>q6(e.networkMode)&&e.canRun(),m=N=>{i()||(n?.(),s.resolve(N))},h=N=>{i()||(n?.(),s.reject(N))},x=()=>new Promise(N=>{n=b=>{(i()||d())&&N(b)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let N;const b=r===0?e.initialPromise:void 0;try{N=b??e.fn()}catch(S){N=Promise.reject(S)}Promise.resolve(N).then(m).catch(S=>{if(i())return;const j=e.retry??(ru?0:3),A=e.retryDelay??sK,_=typeof A=="function"?A(r,S):A,E=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,S);if(t||!E){h(S);return}r++,e.onFail?.(r,S),QG(_).then(()=>d()?void 0:x()).then(()=>{t?h(S):v()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n?.(),s),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?v():x().then(v),s)}}var K6=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cE(this.gcTime)&&(this.#e=Wc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ru?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Wc.clearTimeout(this.#e),this.#e=void 0)}},iK=class extends K6{#e;#t;#r;#a;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Nk(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Nk(this.options);t.data!==void 0&&(this.setState(vk(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=fE(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Ja).catch(Ja):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>$s(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>rc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!B6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},s=()=>{const l=z6(this.options,t),d=(()=>{const f={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#i=!1,this.options.persister?this.options.persister(l,d,this):l(d)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=G6({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof mE&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#n.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof mE){if(l.silent)return this.#n.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...W6(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...vk(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ca.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function W6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:q6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vk(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Nk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var oK=class extends oh{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#i=pE(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#o;#i;#s;#h;#f;#p;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Sk(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hE(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hE(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#N(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $s(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!uE(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&wk(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||$s(this.options.enabled,this.#t)!==$s(t.enabled,this.#t)||rc(this.options.staleTime,this.#t)!==rc(t.staleTime,this.#t))&&this.#g();const s=this.#x();n&&(this.#t!==r||$s(this.options.enabled,this.#t)!==$s(t.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return cK(this,r)&&(this.#a=r,this.#o=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ja)),t}#g(){this.#v();const e=rc(this.options.staleTime,this.#t);if(ru||this.#a.isStale||!cE(e))return;const r=B6(this.#a.dataUpdatedAt,e)+1;this.#c=Wc.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#N(),this.#l=e,!(ru||$s(this.options.enabled,this.#t)===!1||!cE(this.#l)||this.#l===0)&&(this.#u=Wc.setInterval(()=>{(this.options.refetchIntervalInBackground||HA.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#x())}#v(){this.#c&&(Wc.clearTimeout(this.#c),this.#c=void 0)}#N(){this.#u&&(Wc.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,s=this.#a,i=this.#n,o=this.#o,u=e!==r?e.state:this.#r,{state:d}=e;let f={...d},m=!1,h;if(t._optimisticResults){const I=this.hasListeners(),O=!I&&Sk(e,t),B=I&&wk(e,r,t,n);(O||B)&&(f={...f,...W6(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:N}=f;h=f.data;let b=!1;if(t.placeholderData!==void 0&&h===void 0&&N==="pending"){let I;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(I=s.data,b=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#p?.state.data,this.#p):t.placeholderData,I!==void 0&&(N="success",h=fE(s?.data,I,t),m=!0)}if(t.select&&h!==void 0&&!b)if(s&&h===i?.data&&t.select===this.#h)h=this.#f;else try{this.#h=t.select,h=t.select(h),h=fE(s?.data,h,t),this.#f=h,this.#s=null}catch(I){this.#s=I}this.#s&&(x=this.#s,h=this.#f,v=Date.now(),N="error");const S=f.fetchStatus==="fetching",j=N==="pending",A=N==="error",_=j&&S,E=h!==void 0,R={status:N,fetchStatus:f.fetchStatus,isPending:j,isSuccess:N==="success",isError:A,isInitialLoading:_,isLoading:_,data:h,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!j,isLoadingError:A&&!E,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&E,isStale:qA(e,t),refetch:this.refetch,promise:this.#i,isEnabled:$s(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=R.data!==void 0,O=R.status==="error"&&!I,B=Y=>{O?Y.reject(R.error):I&&Y.resolve(R.data)},q=()=>{const Y=this.#i=R.promise=pE();B(Y)},F=this.#i;switch(F.status){case"pending":e.queryHash===r.queryHash&&B(F);break;case"fulfilled":(O||R.data!==F.value)&&q();break;case"rejected":(!O||R.error!==F.reason)&&q();break}}return R}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#o=this.options,this.#n.data!==void 0&&(this.#p=this.#t),uE(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(o=>{const l=o;return this.#a[l]!==e[l]&&i.has(l)})};this.#w({listeners:r()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#w(e){ca.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function lK(e,t){return $s(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Sk(e,t){return lK(e,t)||e.state.data!==void 0&&hE(e,t,t.refetchOnMount)}function hE(e,t,r){if($s(t.enabled,e)!==!1&&rc(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&qA(e,t)}return!1}function wk(e,t,r,n){return(e!==t||$s(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&qA(e,r)}function qA(e,t){return $s(t.enabled,e)!==!1&&e.isStaleByTime(rc(t.staleTime,e))}function cK(e,t){return!uE(e.getCurrentResult(),t)}function jk(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const m=v=>{eK(v,()=>t.signal,()=>f=!0)},h=z6(t.options,t.fetchOptions),x=async(v,N,b)=>{if(f)return Promise.reject();if(N==null&&v.pages.length)return Promise.resolve(v);const j=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:N,direction:b?"backward":"forward",meta:t.options.meta};return m(C),C})(),A=await h(j),{maxPages:_}=t.options,E=b?JG:ZG;return{pages:E(v.pages,A,_),pageParams:E(v.pageParams,N,_)}};if(s&&i.length){const v=s==="backward",N=v?uK:Ek,b={pages:i,pageParams:o},S=N(n,b);l=await x(b,S,v)}else{const v=e??i.length;do{const N=u===0?o[0]??n.initialPageParam:Ek(n,l);if(u>0&&N==null)break;l=await x(l,N),u++}while(u<v)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=d}}}function Ek(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function uK(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var dK=class extends K6{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||fK(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=G6({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",s=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:s}),this.#r.config.onMutate&&await this.#r.config.onMutate(e,this,r);const o=await this.options.onMutate?.(e,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:s})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{await this.#r.config.onError?.(i,e,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onError?.(i,e,this.state.context,r)}catch(o){Promise.reject(o)}try{await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,r)}catch(o){Promise.reject(o)}throw this.#n({type:"error",error:i}),i}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ca.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function fK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pK=class extends oh{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new dK({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=T0(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=T0(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=T0(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(s=>s.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=T0(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ca.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>xk(t,r))}findAll(e={}){return this.getAll().filter(t=>xk(e,t))}notify(e){ca.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ca.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ja))))}};function T0(e){return e.options.scope?.id}var mK=class extends oh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,s=t.queryHash??UA(n,t);let i=this.get(s);return i||(i=new iK({client:e,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ca.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>gk(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>gk(e,r)):t}notify(e){ca.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ca.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ca.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hK=class{#e;#t;#r;#a;#n;#o;#i;#s;constructor(e={}){this.#e=e.queryCache||new mK,this.#t=e.mutationCache||new pK,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=HA.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Pg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(rc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,o=YG(t,i);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ca.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;ca.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return ca.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ca.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ja).catch(Ja)}invalidateQueries(e,t={}){return ca.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ca.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ja)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ja)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(rc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ja).catch(Ja)}fetchInfiniteQuery(e){return e.behavior=jk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ja).catch(Ja)}ensureInfiniteQueryData(e){return e.behavior=jk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Pg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(pm(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{mm(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(pm(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{mm(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=UA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zA&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},y=Ny();const z=Rr(y),GA=zG({__proto__:null,default:z},[y]);var V6=y.createContext(void 0),Y6=e=>{const t=y.useContext(V6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},gK=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(V6.Provider,{value:e,children:t})),X6=y.createContext(!1),xK=()=>y.useContext(X6);X6.Provider;function yK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bK=y.createContext(yK()),vK=()=>y.useContext(bK),NK=(e,t,r)=>{const n=r?.state.error&&typeof e.throwOnError=="function"?H6(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},SK=e=>{y.useEffect(()=>{e.clearReset()},[e])},wK=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||H6(r,[e.error,n])),jK=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},EK=(e,t)=>e.isLoading&&e.isFetching&&!t,_K=(e,t)=>e?.suspense&&t.isPending,_k=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function AK(e,t,r){const n=xK(),s=vK(),i=Y6(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",jK(o),NK(o,s,l),SK(s);const u=!i.getQueryCache().get(o.queryHash),[d]=y.useState(()=>new t(i,o)),f=d.getOptimisticResult(o),m=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(h=>{const x=m?d.subscribe(ca.batchCalls(h)):Ja;return d.updateResult(),x},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),y.useEffect(()=>{d.setOptions(o)},[o,d]),_K(o,f))throw _k(o,d,s);if(wK({result:f,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!ru&&EK(f,n)&&(u?_k(o,d,s):l?.promise)?.catch(Ja).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?f:d.trackResult(f)}function d1(e,t){return AK(e,oK)}var k0={},f1={exports:{}},Xa={},p1={exports:{}},m1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak;function CK(){return Ak||(Ak=1,(function(e){function t(M,Q){var J=M.length;M.push(Q);e:for(;0<J;){var P=J-1>>>1,K=M[P];if(0<s(K,Q))M[P]=Q,M[J]=K,J=P;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var Q=M[0],J=M.pop();if(J!==Q){M[0]=J;e:for(var P=0,K=M.length,Z=K>>>1;P<Z;){var se=2*(P+1)-1,ie=M[se],Se=se+1,oe=M[Se];if(0>s(ie,J))Se<K&&0>s(oe,ie)?(M[P]=oe,M[Se]=J,P=Se):(M[P]=ie,M[se]=J,P=se);else if(Se<K&&0>s(oe,J))M[P]=oe,M[Se]=J,P=Se;else break e}}return Q}function s(M,Q){var J=M.sortIndex-Q.sortIndex;return J!==0?J:M.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,m=null,h=3,x=!1,v=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(M){for(var Q=r(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=M)n(d),Q.sortIndex=Q.expirationTime,t(u,Q);else break;Q=r(d)}}function _(M){if(N=!1,A(M),!v)if(r(u)!==null)v=!0,U(E);else{var Q=r(d);Q!==null&&V(_,Q.startTime-M)}}function E(M,Q){v=!1,N&&(N=!1,S(I),I=-1),x=!0;var J=h;try{for(A(Q),m=r(u);m!==null&&(!(m.expirationTime>Q)||M&&!q());){var P=m.callback;if(typeof P=="function"){m.callback=null,h=m.priorityLevel;var K=P(m.expirationTime<=Q);Q=e.unstable_now(),typeof K=="function"?m.callback=K:m===r(u)&&n(u),A(Q)}else n(u);m=r(u)}if(m!==null)var Z=!0;else{var se=r(d);se!==null&&V(_,se.startTime-Q),Z=!1}return Z}finally{m=null,h=J,x=!1}}var C=!1,R=null,I=-1,O=5,B=-1;function q(){return!(e.unstable_now()-B<O)}function F(){if(R!==null){var M=e.unstable_now();B=M;var Q=!0;try{Q=R(!0,M)}finally{Q?Y():(C=!1,R=null)}}else C=!1}var Y;if(typeof j=="function")Y=function(){j(F)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=F,Y=function(){G.postMessage(null)}}else Y=function(){b(F,0)};function U(M){R=M,C||(C=!0,Y())}function V(M,Q){I=b(function(){M(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,U(E))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var J=h;h=Q;try{return M()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=h;h=M;try{return Q()}finally{h=J}},e.unstable_scheduleCallback=function(M,Q,J){var P=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?P+J:P):J=P,M){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,M={id:f++,callback:Q,priorityLevel:M,startTime:J,expirationTime:K,sortIndex:-1},J>P?(M.sortIndex=J,t(d,M),r(u)===null&&M===r(d)&&(N?(S(I),I=-1):N=!0,V(_,J-P))):(M.sortIndex=K,t(u,M),v||x||(v=!0,U(E))),M},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(M){var Q=h;return function(){var J=h;h=Q;try{return M.apply(this,arguments)}finally{h=J}}}})(m1)),m1}var Ck;function TK(){return Ck||(Ck=1,p1.exports=CK()),p1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk;function kK(){if(Tk)return Xa;Tk=1;var e=Ny(),t=TK();function r(c){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(c,p){o(c,p),o(c+"Capture",p)}function o(c,p){for(s[c]=p,c=0;c<p.length;c++)n.add(p[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function h(c){return u.call(m,c)?!0:u.call(f,c)?!1:d.test(c)?m[c]=!0:(f[c]=!0,!1)}function x(c,p,g,w){if(g!==null&&g.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function v(c,p,g,w){if(p===null||typeof p>"u"||x(c,p,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function N(c,p,g,w,T,k,L){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=w,this.attributeNamespace=T,this.mustUseProperty=g,this.propertyName=c,this.type=p,this.sanitizeURL=k,this.removeEmptyString=L}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){b[c]=new N(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var p=c[0];b[p]=new N(p,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){b[c]=new N(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){b[c]=new N(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){b[c]=new N(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){b[c]=new N(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){b[c]=new N(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){b[c]=new N(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){b[c]=new N(c,5,!1,c.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function j(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var p=c.replace(S,j);b[p]=new N(p,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var p=c.replace(S,j);b[p]=new N(p,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var p=c.replace(S,j);b[p]=new N(p,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){b[c]=new N(c,1,!1,c.toLowerCase(),null,!1,!1)}),b.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){b[c]=new N(c,1,!1,c.toLowerCase(),null,!0,!0)});function A(c,p,g,w){var T=b.hasOwnProperty(p)?b[p]:null;(T!==null?T.type!==0:w||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(v(p,g,T,w)&&(g=null),w||T===null?h(p)&&(g===null?c.removeAttribute(p):c.setAttribute(p,""+g)):T.mustUseProperty?c[T.propertyName]=g===null?T.type===3?!1:"":g:(p=T.attributeName,w=T.attributeNamespace,g===null?c.removeAttribute(p):(T=T.type,g=T===3||T===4&&g===!0?"":""+g,w?c.setAttributeNS(w,p,g):c.setAttribute(p,g))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),q=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),M=Symbol.iterator;function Q(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var J=Object.assign,P;function K(c){if(P===void 0)try{throw Error()}catch(g){var p=g.stack.trim().match(/\n( *(at )?)/);P=p&&p[1]||""}return`
`+P+c}var Z=!1;function se(c,p){if(!c||Z)return"";Z=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ne){var w=Ne}Reflect.construct(c,[],p)}else{try{p.call()}catch(Ne){w=Ne}c.call(p.prototype)}else{try{throw Error()}catch(Ne){w=Ne}c()}}catch(Ne){if(Ne&&w&&typeof Ne.stack=="string"){for(var T=Ne.stack.split(`
`),k=w.stack.split(`
`),L=T.length-1,te=k.length-1;1<=L&&0<=te&&T[L]!==k[te];)te--;for(;1<=L&&0<=te;L--,te--)if(T[L]!==k[te]){if(L!==1||te!==1)do if(L--,te--,0>te||T[L]!==k[te]){var ne=`
`+T[L].replace(" at new "," at ");return c.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",c.displayName)),ne}while(1<=L&&0<=te);break}}}finally{Z=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?K(c):""}function ie(c){switch(c.tag){case 5:return K(c.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return c=se(c.type,!1),c;case 11:return c=se(c.type.render,!1),c;case 1:return c=se(c.type,!0),c;default:return""}}function Se(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case R:return"Fragment";case C:return"Portal";case O:return"Profiler";case I:return"StrictMode";case Y:return"Suspense";case D:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case q:return(c.displayName||"Context")+".Consumer";case B:return(c._context.displayName||"Context")+".Provider";case F:var p=c.render;return c=c.displayName,c||(c=p.displayName||p.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case G:return p=c.displayName||null,p!==null?p:Se(c.type)||"Memo";case U:p=c._payload,c=c._init;try{return Se(c(p))}catch{}}return null}function oe(c){var p=c.type;switch(c.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=p.render,c=c.displayName||c.name||"",p.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(p);case 8:return p===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function je(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function pe(c){var p=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ee(c){var p=pe(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,p),w=""+c[p];if(!c.hasOwnProperty(p)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,k=g.set;return Object.defineProperty(c,p,{configurable:!0,get:function(){return T.call(this)},set:function(L){w=""+L,k.call(this,L)}}),Object.defineProperty(c,p,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(L){w=""+L},stopTracking:function(){c._valueTracker=null,delete c[p]}}}}function me(c){c._valueTracker||(c._valueTracker=Ee(c))}function fe(c){if(!c)return!1;var p=c._valueTracker;if(!p)return!0;var g=p.getValue(),w="";return c&&(w=pe(c)?c.checked?"true":"false":c.value),c=w,c!==g?(p.setValue(c),!0):!1}function Xe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function H(c,p){var g=p.checked;return J({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function ve(c,p){var g=p.defaultValue==null?"":p.defaultValue,w=p.checked!=null?p.checked:p.defaultChecked;g=je(p.value!=null?p.value:g),c._wrapperState={initialChecked:w,initialValue:g,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Re(c,p){p=p.checked,p!=null&&A(c,"checked",p,!1)}function Te(c,p){Re(c,p);var g=je(p.value),w=p.type;if(g!=null)w==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}p.hasOwnProperty("value")?$e(c,p.type,g):p.hasOwnProperty("defaultValue")&&$e(c,p.type,je(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(c.defaultChecked=!!p.defaultChecked)}function Qe(c,p,g){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var w=p.type;if(!(w!=="submit"&&w!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+c._wrapperState.initialValue,g||p===c.value||(c.value=p),c.defaultValue=p}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function $e(c,p,g){(p!=="number"||Xe(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var jt=Array.isArray;function Ze(c,p,g,w){if(c=c.options,p){p={};for(var T=0;T<g.length;T++)p["$"+g[T]]=!0;for(g=0;g<c.length;g++)T=p.hasOwnProperty("$"+c[g].value),c[g].selected!==T&&(c[g].selected=T),T&&w&&(c[g].defaultSelected=!0)}else{for(g=""+je(g),p=null,T=0;T<c.length;T++){if(c[T].value===g){c[T].selected=!0,w&&(c[T].defaultSelected=!0);return}p!==null||c[T].disabled||(p=c[T])}p!==null&&(p.selected=!0)}}function De(c,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},p,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function He(c,p){var g=p.value;if(g==null){if(g=p.children,p=p.defaultValue,g!=null){if(p!=null)throw Error(r(92));if(jt(g)){if(1<g.length)throw Error(r(93));g=g[0]}p=g}p==null&&(p=""),g=p}c._wrapperState={initialValue:je(g)}}function ge(c,p){var g=je(p.value),w=je(p.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),p.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),w!=null&&(c.defaultValue=""+w)}function Jt(c){var p=c.textContent;p===c._wrapperState.initialValue&&p!==""&&p!==null&&(c.value=p)}function Vt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lr(c,p){return c==null||c==="http://www.w3.org/1999/xhtml"?Vt(p):c==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var we,Me=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,g,w,T){MSApp.execUnsafeLocalFunction(function(){return c(p,g,w,T)})}:c})(function(c,p){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=p;else{for(we=we||document.createElement("div"),we.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=we.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;p.firstChild;)c.appendChild(p.firstChild)}});function Mt(c,p){if(p){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=p;return}}c.textContent=p}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ur=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(c){Ur.forEach(function(p){p=p+c.charAt(0).toUpperCase()+c.substring(1),ar[p]=ar[c]})});function Yr(c,p,g){return p==null||typeof p=="boolean"||p===""?"":g||typeof p!="number"||p===0||ar.hasOwnProperty(c)&&ar[c]?(""+p).trim():p+"px"}function ht(c,p){c=c.style;for(var g in p)if(p.hasOwnProperty(g)){var w=g.indexOf("--")===0,T=Yr(g,p[g],w);g==="float"&&(g="cssFloat"),w?c.setProperty(g,T):c[g]=T}}var Sn=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zt(c,p){if(p){if(Sn[c]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function Lt(c,p){if(c.indexOf("-")===-1)return typeof p.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pe=null;function $t(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Nr=null,Ut=null,Xt=null;function Tr(c){if(c=rp(c)){if(typeof Nr!="function")throw Error(r(280));var p=c.stateNode;p&&(p=Hh(p),Nr(c.stateNode,c.type,p))}}function et(c){Ut?Xt?Xt.push(c):Xt=[c]:Ut=c}function rr(){if(Ut){var c=Ut,p=Xt;if(Xt=Ut=null,Tr(c),p)for(c=0;c<p.length;c++)Tr(p[c])}}function mr(c,p){return c(p)}function lr(){}var Sr=!1;function hr(c,p,g){if(Sr)return c(p,g);Sr=!0;try{return mr(c,p,g)}finally{Sr=!1,(Ut!==null||Xt!==null)&&(lr(),rr())}}function cr(c,p){var g=c.stateNode;if(g===null)return null;var w=Hh(g);if(w===null)return null;g=w[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,p,typeof g));return g}var sn=!1;if(l)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){sn=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{sn=!1}function Oe(c,p,g,w,T,k,L,te,ne){var Ne=Array.prototype.slice.call(arguments,3);try{p.apply(g,Ne)}catch(Ue){this.onError(Ue)}}var ye=!1,Ve=null,vt=!1,Ot=null,ee={onError:function(c){ye=!0,Ve=c}};function ue(c,p,g,w,T,k,L,te,ne){ye=!1,Ve=null,Oe.apply(ee,arguments)}function Ge(c,p,g,w,T,k,L,te,ne){if(ue.apply(this,arguments),ye){if(ye){var Ne=Ve;ye=!1,Ve=null}else throw Error(r(198));vt||(vt=!0,Ot=Ne)}}function st(c){var p=c,g=c;if(c.alternate)for(;p.return;)p=p.return;else{c=p;do p=c,(p.flags&4098)!==0&&(g=p.return),c=p.return;while(c)}return p.tag===3?g:null}function lt(c){if(c.tag===13){var p=c.memoizedState;if(p===null&&(c=c.alternate,c!==null&&(p=c.memoizedState)),p!==null)return p.dehydrated}return null}function St(c){if(st(c)!==c)throw Error(r(188))}function gr(c){var p=c.alternate;if(!p){if(p=st(c),p===null)throw Error(r(188));return p!==c?null:c}for(var g=c,w=p;;){var T=g.return;if(T===null)break;var k=T.alternate;if(k===null){if(w=T.return,w!==null){g=w;continue}break}if(T.child===k.child){for(k=T.child;k;){if(k===g)return St(T),c;if(k===w)return St(T),p;k=k.sibling}throw Error(r(188))}if(g.return!==w.return)g=T,w=k;else{for(var L=!1,te=T.child;te;){if(te===g){L=!0,g=T,w=k;break}if(te===w){L=!0,w=T,g=k;break}te=te.sibling}if(!L){for(te=k.child;te;){if(te===g){L=!0,g=k,w=T;break}if(te===w){L=!0,w=k,g=T;break}te=te.sibling}if(!L)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:p}function xr(c){return c=gr(c),c!==null?tt(c):null}function tt(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var p=tt(c);if(p!==null)return p;c=c.sibling}return null}var Ir=t.unstable_scheduleCallback,zt=t.unstable_cancelCallback,Js=t.unstable_shouldYield,as=t.unstable_requestPaint,Tt=t.unstable_now,Fa=t.unstable_getCurrentPriorityLevel,Ct=t.unstable_ImmediatePriority,_t=t.unstable_UserBlockingPriority,ss=t.unstable_NormalPriority,wo=t.unstable_LowPriority,Nc=t.unstable_IdlePriority,hl=null,wn=null;function Ba(c){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(hl,c,void 0,(c.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:fa,ur=Math.log,_u=Math.LN2;function fa(c){return c>>>=0,c===0?32:31-(ur(c)/_u|0)|0}var Wn=64,fn=4194304;function Ss(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function gl(c,p){var g=c.pendingLanes;if(g===0)return 0;var w=0,T=c.suspendedLanes,k=c.pingedLanes,L=g&268435455;if(L!==0){var te=L&~T;te!==0?w=Ss(te):(k&=L,k!==0&&(w=Ss(k)))}else L=g&~T,L!==0?w=Ss(L):k!==0&&(w=Ss(k));if(w===0)return 0;if(p!==0&&p!==w&&(p&T)===0&&(T=w&-w,k=p&-p,T>=k||T===16&&(k&4194240)!==0))return p;if((w&4)!==0&&(w|=g&16),p=c.entangledLanes,p!==0)for(c=c.entanglements,p&=w;0<p;)g=31-Kn(p),T=1<<g,w|=c[g],p&=~T;return w}function ws(c,p){switch(c){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sc(c,p){for(var g=c.suspendedLanes,w=c.pingedLanes,T=c.expirationTimes,k=c.pendingLanes;0<k;){var L=31-Kn(k),te=1<<L,ne=T[L];ne===-1?((te&g)===0||(te&w)!==0)&&(T[L]=ws(te,p)):ne<=p&&(c.expiredLanes|=te),k&=~te}}function $i(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function gt(){var c=Wn;return Wn<<=1,(Wn&4194240)===0&&(Wn=64),c}function Et(c){for(var p=[],g=0;31>g;g++)p.push(c);return p}function ei(c,p,g){c.pendingLanes|=p,p!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,p=31-Kn(p),c[p]=g}function ti(c,p){var g=c.pendingLanes&~p;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=p,c.mutableReadLanes&=p,c.entangledLanes&=p,p=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var T=31-Kn(g),k=1<<T;p[T]=0,w[T]=-1,c[T]=-1,g&=~k}}function Dn(c,p){var g=c.entangledLanes|=p;for(c=c.entanglements;g;){var w=31-Kn(g),T=1<<w;T&p|c[w]&p&&(c[w]|=p),g&=~T}}var yr=0;function js(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var wc,jo,is,Eo,_o,Ao=!1,os=[],Ua=null,ls=null,Vn=null,rn=new Map,Fi=new Map,ja=[],Co="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xl(c,p){switch(c){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":rn.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(p.pointerId)}}function ri(c,p,g,w,T,k){return c===null||c.nativeEvent!==k?(c={blockedOn:p,domEventName:g,eventSystemFlags:w,nativeEvent:k,targetContainers:[T]},p!==null&&(p=rp(p),p!==null&&jo(p)),c):(c.eventSystemFlags|=w,p=c.targetContainers,T!==null&&p.indexOf(T)===-1&&p.push(T),c)}function qf(c,p,g,w,T){switch(p){case"focusin":return Ua=ri(Ua,c,p,g,w,T),!0;case"dragenter":return ls=ri(ls,c,p,g,w,T),!0;case"mouseover":return Vn=ri(Vn,c,p,g,w,T),!0;case"pointerover":var k=T.pointerId;return rn.set(k,ri(rn.get(k)||null,c,p,g,w,T)),!0;case"gotpointercapture":return k=T.pointerId,Fi.set(k,ri(Fi.get(k)||null,c,p,g,w,T)),!0}return!1}function To(c){var p=Ec(c.target);if(p!==null){var g=st(p);if(g!==null){if(p=g.tag,p===13){if(p=lt(g),p!==null){c.blockedOn=p,_o(c.priority,function(){is(g)});return}}else if(p===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function pa(c){if(c.blockedOn!==null)return!1;for(var p=c.targetContainers;0<p.length;){var g=yl(c.domEventName,c.eventSystemFlags,p[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);Pe=w,g.target.dispatchEvent(w),Pe=null}else return p=rp(g),p!==null&&jo(p),c.blockedOn=g,!1;p.shift()}return!0}function jc(c,p,g){pa(c)&&g.delete(p)}function Ea(){Ao=!1,Ua!==null&&pa(Ua)&&(Ua=null),ls!==null&&pa(ls)&&(ls=null),Vn!==null&&pa(Vn)&&(Vn=null),rn.forEach(jc),Fi.forEach(jc)}function ni(c,p){c.blockedOn===p&&(c.blockedOn=null,Ao||(Ao=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ea)))}function ko(c){function p(T){return ni(T,c)}if(0<os.length){ni(os[0],c);for(var g=1;g<os.length;g++){var w=os[g];w.blockedOn===c&&(w.blockedOn=null)}}for(Ua!==null&&ni(Ua,c),ls!==null&&ni(ls,c),Vn!==null&&ni(Vn,c),rn.forEach(p),Fi.forEach(p),g=0;g<ja.length;g++)w=ja[g],w.blockedOn===c&&(w.blockedOn=null);for(;0<ja.length&&(g=ja[0],g.blockedOn===null);)To(g),g.blockedOn===null&&ja.shift()}var za=_.ReactCurrentBatchConfig,Bi=!0;function Gf(c,p,g,w){var T=yr,k=za.transition;za.transition=null;try{yr=1,na(c,p,g,w)}finally{yr=T,za.transition=k}}function _a(c,p,g,w){var T=yr,k=za.transition;za.transition=null;try{yr=4,na(c,p,g,w)}finally{yr=T,za.transition=k}}function na(c,p,g,w){if(Bi){var T=yl(c,p,g,w);if(T===null)Zb(c,p,w,Oo,g),xl(c,w);else if(qf(T,c,p,g,w))w.stopPropagation();else if(xl(c,w),p&4&&-1<Co.indexOf(c)){for(;T!==null;){var k=rp(T);if(k!==null&&wc(k),k=yl(c,p,g,w),k===null&&Zb(c,p,w,Oo,g),k===T)break;T=k}T!==null&&w.stopPropagation()}else Zb(c,p,w,null,g)}}var Oo=null;function yl(c,p,g,w){if(Oo=null,c=$t(w),c=Ec(c),c!==null)if(p=st(c),p===null)c=null;else if(g=p.tag,g===13){if(c=lt(p),c!==null)return c;c=null}else if(g===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;c=null}else p!==c&&(c=null);return Oo=c,null}function Au(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fa()){case Ct:return 1;case _t:return 4;case ss:case wo:return 16;case Nc:return 536870912;default:return 16}default:return 16}}var jn=null,bl=null,$=null;function re(){if($)return $;var c,p=bl,g=p.length,w,T="value"in jn?jn.value:jn.textContent,k=T.length;for(c=0;c<g&&p[c]===T[c];c++);var L=g-c;for(w=1;w<=L&&p[g-w]===T[k-w];w++);return $=T.slice(c,1<w?1-w:void 0)}function X(c){var p=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&p===13&&(c=13)):c=p,c===10&&(c=13),32<=c||c===13?c:0}function Ae(){return!0}function Ie(){return!1}function Fe(c){function p(g,w,T,k,L){this._reactName=g,this._targetInst=T,this.type=w,this.nativeEvent=k,this.target=L,this.currentTarget=null;for(var te in c)c.hasOwnProperty(te)&&(g=c[te],this[te]=g?g(k):k[te]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Ae:Ie,this.isPropagationStopped=Ie,this}return J(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ae)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ae)},persist:function(){},isPersistent:Ae}),p}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ft=Fe(rt),sr=J({},rt,{view:0,detail:0}),En=Fe(sr),Aa,Ha,ai,pn=J({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==ai&&(ai&&c.type==="mousemove"?(Aa=c.screenX-ai.screenX,Ha=c.screenY-ai.screenY):Ha=Aa=0,ai=c),Aa)},movementY:function(c){return"movementY"in c?c.movementY:Ha}}),Ca=Fe(pn),cs=J({},pn,{dataTransfer:0}),Rt=Fe(cs),aa=J({},sr,{relatedTarget:0}),In=Fe(aa),vl=J({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ui=Fe(vl),Yn=J({},rt,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),si=Fe(Yn),ii=J({},rt,{data:0}),us=Fe(ii),oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ub={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zb(c){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(c):(c=Ub[c])?!!p[c]:!1}function W(){return zb}var ae=J({},sr,{key:function(c){if(c.key){var p=oi[c.key]||c.key;if(p!=="Unidentified")return p}return c.type==="keypress"?(c=X(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Kf[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W,charCode:function(c){return c.type==="keypress"?X(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?X(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),xe=Fe(ae),de=J({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ce=Fe(de),We=J({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W}),ct=Fe(We),Qt=J({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),jr=Fe(Qt),dr=J({},pn,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),or=Fe(dr),br=[9,13,27,32],Ta=l&&"CompositionEvent"in window,zr=null;l&&"documentMode"in document&&(zr=document.documentMode);var kr=l&&"TextEvent"in window&&!zr,qa=l&&(!Ta||zr&&8<zr&&11>=zr),zi=" ",Wf=!1;function o5(c,p){switch(c){case"keyup":return br.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l5(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Cu=!1;function Fq(c,p){switch(c){case"compositionend":return l5(p);case"keypress":return p.which!==32?null:(Wf=!0,zi);case"textInput":return c=p.data,c===zi&&Wf?null:c;default:return null}}function Bq(c,p){if(Cu)return c==="compositionend"||!Ta&&o5(c,p)?(c=re(),$=bl=jn=null,Cu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return qa&&p.locale!=="ko"?null:p.data;default:return null}}var Uq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c5(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p==="input"?!!Uq[c.type]:p==="textarea"}function u5(c,p,g,w){et(w),p=Bh(p,"onChange"),0<p.length&&(g=new Ft("onChange","change",null,g,w),c.push({event:g,listeners:p}))}var Vf=null,Yf=null;function zq(c){C5(c,0)}function Mh(c){var p=Pu(c);if(fe(p))return c}function Hq(c,p){if(c==="change")return p}var d5=!1;if(l){var Hb;if(l){var qb="oninput"in document;if(!qb){var f5=document.createElement("div");f5.setAttribute("oninput","return;"),qb=typeof f5.oninput=="function"}Hb=qb}else Hb=!1;d5=Hb&&(!document.documentMode||9<document.documentMode)}function p5(){Vf&&(Vf.detachEvent("onpropertychange",m5),Yf=Vf=null)}function m5(c){if(c.propertyName==="value"&&Mh(Yf)){var p=[];u5(p,Yf,c,$t(c)),hr(zq,p)}}function qq(c,p,g){c==="focusin"?(p5(),Vf=p,Yf=g,Vf.attachEvent("onpropertychange",m5)):c==="focusout"&&p5()}function Gq(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Mh(Yf)}function Kq(c,p){if(c==="click")return Mh(p)}function Wq(c,p){if(c==="input"||c==="change")return Mh(p)}function Vq(c,p){return c===p&&(c!==0||1/c===1/p)||c!==c&&p!==p}var li=typeof Object.is=="function"?Object.is:Vq;function Xf(c,p){if(li(c,p))return!0;if(typeof c!="object"||c===null||typeof p!="object"||p===null)return!1;var g=Object.keys(c),w=Object.keys(p);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var T=g[w];if(!u.call(p,T)||!li(c[T],p[T]))return!1}return!0}function h5(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function g5(c,p){var g=h5(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=p&&w>=p)return{node:g,offset:p-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=h5(g)}}function x5(c,p){return c&&p?c===p?!0:c&&c.nodeType===3?!1:p&&p.nodeType===3?x5(c,p.parentNode):"contains"in c?c.contains(p):c.compareDocumentPosition?!!(c.compareDocumentPosition(p)&16):!1:!1}function y5(){for(var c=window,p=Xe();p instanceof c.HTMLIFrameElement;){try{var g=typeof p.contentWindow.location.href=="string"}catch{g=!1}if(g)c=p.contentWindow;else break;p=Xe(c.document)}return p}function Gb(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p&&(p==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||p==="textarea"||c.contentEditable==="true")}function Yq(c){var p=y5(),g=c.focusedElem,w=c.selectionRange;if(p!==g&&g&&g.ownerDocument&&x5(g.ownerDocument.documentElement,g)){if(w!==null&&Gb(g)){if(p=w.start,c=w.end,c===void 0&&(c=p),"selectionStart"in g)g.selectionStart=p,g.selectionEnd=Math.min(c,g.value.length);else if(c=(p=g.ownerDocument||document)&&p.defaultView||window,c.getSelection){c=c.getSelection();var T=g.textContent.length,k=Math.min(w.start,T);w=w.end===void 0?k:Math.min(w.end,T),!c.extend&&k>w&&(T=w,w=k,k=T),T=g5(g,k);var L=g5(g,w);T&&L&&(c.rangeCount!==1||c.anchorNode!==T.node||c.anchorOffset!==T.offset||c.focusNode!==L.node||c.focusOffset!==L.offset)&&(p=p.createRange(),p.setStart(T.node,T.offset),c.removeAllRanges(),k>w?(c.addRange(p),c.extend(L.node,L.offset)):(p.setEnd(L.node,L.offset),c.addRange(p)))}}for(p=[],c=g;c=c.parentNode;)c.nodeType===1&&p.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<p.length;g++)c=p[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Xq=l&&"documentMode"in document&&11>=document.documentMode,Tu=null,Kb=null,Qf=null,Wb=!1;function b5(c,p,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Wb||Tu==null||Tu!==Xe(w)||(w=Tu,"selectionStart"in w&&Gb(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Qf&&Xf(Qf,w)||(Qf=w,w=Bh(Kb,"onSelect"),0<w.length&&(p=new Ft("onSelect","select",null,p,g),c.push({event:p,listeners:w}),p.target=Tu)))}function Lh(c,p){var g={};return g[c.toLowerCase()]=p.toLowerCase(),g["Webkit"+c]="webkit"+p,g["Moz"+c]="moz"+p,g}var ku={animationend:Lh("Animation","AnimationEnd"),animationiteration:Lh("Animation","AnimationIteration"),animationstart:Lh("Animation","AnimationStart"),transitionend:Lh("Transition","TransitionEnd")},Vb={},v5={};l&&(v5=document.createElement("div").style,"AnimationEvent"in window||(delete ku.animationend.animation,delete ku.animationiteration.animation,delete ku.animationstart.animation),"TransitionEvent"in window||delete ku.transitionend.transition);function $h(c){if(Vb[c])return Vb[c];if(!ku[c])return c;var p=ku[c],g;for(g in p)if(p.hasOwnProperty(g)&&g in v5)return Vb[c]=p[g];return c}var N5=$h("animationend"),S5=$h("animationiteration"),w5=$h("animationstart"),j5=$h("transitionend"),E5=new Map,_5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nl(c,p){E5.set(c,p),i(p,[c])}for(var Yb=0;Yb<_5.length;Yb++){var Xb=_5[Yb],Qq=Xb.toLowerCase(),Zq=Xb[0].toUpperCase()+Xb.slice(1);Nl(Qq,"on"+Zq)}Nl(N5,"onAnimationEnd"),Nl(S5,"onAnimationIteration"),Nl(w5,"onAnimationStart"),Nl("dblclick","onDoubleClick"),Nl("focusin","onFocus"),Nl("focusout","onBlur"),Nl(j5,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zf));function A5(c,p,g){var w=c.type||"unknown-event";c.currentTarget=g,Ge(w,p,void 0,c),c.currentTarget=null}function C5(c,p){p=(p&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],T=w.event;w=w.listeners;e:{var k=void 0;if(p)for(var L=w.length-1;0<=L;L--){var te=w[L],ne=te.instance,Ne=te.currentTarget;if(te=te.listener,ne!==k&&T.isPropagationStopped())break e;A5(T,te,Ne),k=ne}else for(L=0;L<w.length;L++){if(te=w[L],ne=te.instance,Ne=te.currentTarget,te=te.listener,ne!==k&&T.isPropagationStopped())break e;A5(T,te,Ne),k=ne}}}if(vt)throw c=Ot,vt=!1,Ot=null,c}function Xr(c,p){var g=p[av];g===void 0&&(g=p[av]=new Set);var w=c+"__bubble";g.has(w)||(T5(p,c,2,!1),g.add(w))}function Qb(c,p,g){var w=0;p&&(w|=4),T5(g,c,w,p)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Jf(c){if(!c[Fh]){c[Fh]=!0,n.forEach(function(g){g!=="selectionchange"&&(Jq.has(g)||Qb(g,!1,c),Qb(g,!0,c))});var p=c.nodeType===9?c:c.ownerDocument;p===null||p[Fh]||(p[Fh]=!0,Qb("selectionchange",!1,p))}}function T5(c,p,g,w){switch(Au(p)){case 1:var T=Gf;break;case 4:T=_a;break;default:T=na}g=T.bind(null,p,g,c),T=void 0,!sn||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(T=!0),w?T!==void 0?c.addEventListener(p,g,{capture:!0,passive:T}):c.addEventListener(p,g,!0):T!==void 0?c.addEventListener(p,g,{passive:T}):c.addEventListener(p,g,!1)}function Zb(c,p,g,w,T){var k=w;if((p&1)===0&&(p&2)===0&&w!==null)e:for(;;){if(w===null)return;var L=w.tag;if(L===3||L===4){var te=w.stateNode.containerInfo;if(te===T||te.nodeType===8&&te.parentNode===T)break;if(L===4)for(L=w.return;L!==null;){var ne=L.tag;if((ne===3||ne===4)&&(ne=L.stateNode.containerInfo,ne===T||ne.nodeType===8&&ne.parentNode===T))return;L=L.return}for(;te!==null;){if(L=Ec(te),L===null)return;if(ne=L.tag,ne===5||ne===6){w=k=L;continue e}te=te.parentNode}}w=w.return}hr(function(){var Ne=k,Ue=$t(g),ze=[];e:{var Be=E5.get(c);if(Be!==void 0){var nt=Ft,ut=c;switch(c){case"keypress":if(X(g)===0)break e;case"keydown":case"keyup":nt=xe;break;case"focusin":ut="focus",nt=In;break;case"focusout":ut="blur",nt=In;break;case"beforeblur":case"afterblur":nt=In;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Rt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=ct;break;case N5:case S5:case w5:nt=Ui;break;case j5:nt=jr;break;case"scroll":nt=En;break;case"wheel":nt=or;break;case"copy":case"cut":case"paste":nt=si;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Ce}var xt=(p&4)!==0,vn=!xt&&c==="scroll",he=xt?Be!==null?Be+"Capture":null:Be;xt=[];for(var le=Ne,be;le!==null;){be=le;var Ke=be.stateNode;if(be.tag===5&&Ke!==null&&(be=Ke,he!==null&&(Ke=cr(le,he),Ke!=null&&xt.push(ep(le,Ke,be)))),vn)break;le=le.return}0<xt.length&&(Be=new nt(Be,ut,null,g,Ue),ze.push({event:Be,listeners:xt}))}}if((p&7)===0){e:{if(Be=c==="mouseover"||c==="pointerover",nt=c==="mouseout"||c==="pointerout",Be&&g!==Pe&&(ut=g.relatedTarget||g.fromElement)&&(Ec(ut)||ut[Ro]))break e;if((nt||Be)&&(Be=Ue.window===Ue?Ue:(Be=Ue.ownerDocument)?Be.defaultView||Be.parentWindow:window,nt?(ut=g.relatedTarget||g.toElement,nt=Ne,ut=ut?Ec(ut):null,ut!==null&&(vn=st(ut),ut!==vn||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(nt=null,ut=Ne),nt!==ut)){if(xt=Ca,Ke="onMouseLeave",he="onMouseEnter",le="mouse",(c==="pointerout"||c==="pointerover")&&(xt=Ce,Ke="onPointerLeave",he="onPointerEnter",le="pointer"),vn=nt==null?Be:Pu(nt),be=ut==null?Be:Pu(ut),Be=new xt(Ke,le+"leave",nt,g,Ue),Be.target=vn,Be.relatedTarget=be,Ke=null,Ec(Ue)===Ne&&(xt=new xt(he,le+"enter",ut,g,Ue),xt.target=be,xt.relatedTarget=vn,Ke=xt),vn=Ke,nt&&ut)t:{for(xt=nt,he=ut,le=0,be=xt;be;be=Ou(be))le++;for(be=0,Ke=he;Ke;Ke=Ou(Ke))be++;for(;0<le-be;)xt=Ou(xt),le--;for(;0<be-le;)he=Ou(he),be--;for(;le--;){if(xt===he||he!==null&&xt===he.alternate)break t;xt=Ou(xt),he=Ou(he)}xt=null}else xt=null;nt!==null&&k5(ze,Be,nt,xt,!1),ut!==null&&vn!==null&&k5(ze,vn,ut,xt,!0)}}e:{if(Be=Ne?Pu(Ne):window,nt=Be.nodeName&&Be.nodeName.toLowerCase(),nt==="select"||nt==="input"&&Be.type==="file")var Nt=Hq;else if(c5(Be))if(d5)Nt=Wq;else{Nt=Gq;var Pt=qq}else(nt=Be.nodeName)&&nt.toLowerCase()==="input"&&(Be.type==="checkbox"||Be.type==="radio")&&(Nt=Kq);if(Nt&&(Nt=Nt(c,Ne))){u5(ze,Nt,g,Ue);break e}Pt&&Pt(c,Be,Ne),c==="focusout"&&(Pt=Be._wrapperState)&&Pt.controlled&&Be.type==="number"&&$e(Be,"number",Be.value)}switch(Pt=Ne?Pu(Ne):window,c){case"focusin":(c5(Pt)||Pt.contentEditable==="true")&&(Tu=Pt,Kb=Ne,Qf=null);break;case"focusout":Qf=Kb=Tu=null;break;case"mousedown":Wb=!0;break;case"contextmenu":case"mouseup":case"dragend":Wb=!1,b5(ze,g,Ue);break;case"selectionchange":if(Xq)break;case"keydown":case"keyup":b5(ze,g,Ue)}var Dt;if(Ta)e:{switch(c){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else Cu?o5(c,g)&&(Ht="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(Ht="onCompositionStart");Ht&&(qa&&g.locale!=="ko"&&(Cu||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Cu&&(Dt=re()):(jn=Ue,bl="value"in jn?jn.value:jn.textContent,Cu=!0)),Pt=Bh(Ne,Ht),0<Pt.length&&(Ht=new us(Ht,c,null,g,Ue),ze.push({event:Ht,listeners:Pt}),Dt?Ht.data=Dt:(Dt=l5(g),Dt!==null&&(Ht.data=Dt)))),(Dt=kr?Fq(c,g):Bq(c,g))&&(Ne=Bh(Ne,"onBeforeInput"),0<Ne.length&&(Ue=new us("onBeforeInput","beforeinput",null,g,Ue),ze.push({event:Ue,listeners:Ne}),Ue.data=Dt))}C5(ze,p)})}function ep(c,p,g){return{instance:c,listener:p,currentTarget:g}}function Bh(c,p){for(var g=p+"Capture",w=[];c!==null;){var T=c,k=T.stateNode;T.tag===5&&k!==null&&(T=k,k=cr(c,g),k!=null&&w.unshift(ep(c,k,T)),k=cr(c,p),k!=null&&w.push(ep(c,k,T))),c=c.return}return w}function Ou(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function k5(c,p,g,w,T){for(var k=p._reactName,L=[];g!==null&&g!==w;){var te=g,ne=te.alternate,Ne=te.stateNode;if(ne!==null&&ne===w)break;te.tag===5&&Ne!==null&&(te=Ne,T?(ne=cr(g,k),ne!=null&&L.unshift(ep(g,ne,te))):T||(ne=cr(g,k),ne!=null&&L.push(ep(g,ne,te)))),g=g.return}L.length!==0&&c.push({event:p,listeners:L})}var eG=/\r\n?/g,tG=/\u0000|\uFFFD/g;function O5(c){return(typeof c=="string"?c:""+c).replace(eG,`
`).replace(tG,"")}function Uh(c,p,g){if(p=O5(p),O5(c)!==p&&g)throw Error(r(425))}function zh(){}var Jb=null,ev=null;function tv(c,p){return c==="textarea"||c==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var rv=typeof setTimeout=="function"?setTimeout:void 0,rG=typeof clearTimeout=="function"?clearTimeout:void 0,R5=typeof Promise=="function"?Promise:void 0,nG=typeof queueMicrotask=="function"?queueMicrotask:typeof R5<"u"?function(c){return R5.resolve(null).then(c).catch(aG)}:rv;function aG(c){setTimeout(function(){throw c})}function nv(c,p){var g=p,w=0;do{var T=g.nextSibling;if(c.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(w===0){c.removeChild(T),ko(p);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=T}while(g);ko(p)}function Sl(c){for(;c!=null;c=c.nextSibling){var p=c.nodeType;if(p===1||p===3)break;if(p===8){if(p=c.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return c}function P5(c){c=c.previousSibling;for(var p=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(p===0)return c;p--}else g==="/$"&&p++}c=c.previousSibling}return null}var Ru=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Ru,tp="__reactProps$"+Ru,Ro="__reactContainer$"+Ru,av="__reactEvents$"+Ru,sG="__reactListeners$"+Ru,iG="__reactHandles$"+Ru;function Ec(c){var p=c[Hi];if(p)return p;for(var g=c.parentNode;g;){if(p=g[Ro]||g[Hi]){if(g=p.alternate,p.child!==null||g!==null&&g.child!==null)for(c=P5(c);c!==null;){if(g=c[Hi])return g;c=P5(c)}return p}c=g,g=c.parentNode}return null}function rp(c){return c=c[Hi]||c[Ro],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Pu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function Hh(c){return c[tp]||null}var sv=[],Du=-1;function wl(c){return{current:c}}function Qr(c){0>Du||(c.current=sv[Du],sv[Du]=null,Du--)}function Hr(c,p){Du++,sv[Du]=c.current,c.current=p}var jl={},ma=wl(jl),Ga=wl(!1),_c=jl;function Iu(c,p){var g=c.type.contextTypes;if(!g)return jl;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===p)return w.__reactInternalMemoizedMaskedChildContext;var T={},k;for(k in g)T[k]=p[k];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=p,c.__reactInternalMemoizedMaskedChildContext=T),T}function Ka(c){return c=c.childContextTypes,c!=null}function qh(){Qr(Ga),Qr(ma)}function D5(c,p,g){if(ma.current!==jl)throw Error(r(168));Hr(ma,p),Hr(Ga,g)}function I5(c,p,g){var w=c.stateNode;if(p=p.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var T in w)if(!(T in p))throw Error(r(108,oe(c)||"Unknown",T));return J({},g,w)}function Gh(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||jl,_c=ma.current,Hr(ma,c),Hr(Ga,Ga.current),!0}function M5(c,p,g){var w=c.stateNode;if(!w)throw Error(r(169));g?(c=I5(c,p,_c),w.__reactInternalMemoizedMergedChildContext=c,Qr(Ga),Qr(ma),Hr(ma,c)):Qr(Ga),Hr(Ga,g)}var Po=null,Kh=!1,iv=!1;function L5(c){Po===null?Po=[c]:Po.push(c)}function oG(c){Kh=!0,L5(c)}function El(){if(!iv&&Po!==null){iv=!0;var c=0,p=yr;try{var g=Po;for(yr=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}Po=null,Kh=!1}catch(T){throw Po!==null&&(Po=Po.slice(c+1)),Ir(Ct,El),T}finally{yr=p,iv=!1}}return null}var Mu=[],Lu=0,Wh=null,Vh=0,Es=[],_s=0,Ac=null,Do=1,Io="";function Cc(c,p){Mu[Lu++]=Vh,Mu[Lu++]=Wh,Wh=c,Vh=p}function $5(c,p,g){Es[_s++]=Do,Es[_s++]=Io,Es[_s++]=Ac,Ac=c;var w=Do;c=Io;var T=32-Kn(w)-1;w&=~(1<<T),g+=1;var k=32-Kn(p)+T;if(30<k){var L=T-T%5;k=(w&(1<<L)-1).toString(32),w>>=L,T-=L,Do=1<<32-Kn(p)+T|g<<T|w,Io=k+c}else Do=1<<k|g<<T|w,Io=c}function ov(c){c.return!==null&&(Cc(c,1),$5(c,1,0))}function lv(c){for(;c===Wh;)Wh=Mu[--Lu],Mu[Lu]=null,Vh=Mu[--Lu],Mu[Lu]=null;for(;c===Ac;)Ac=Es[--_s],Es[_s]=null,Io=Es[--_s],Es[_s]=null,Do=Es[--_s],Es[_s]=null}var ds=null,fs=null,nn=!1,ci=null;function F5(c,p){var g=ks(5,null,null,0);g.elementType="DELETED",g.stateNode=p,g.return=c,p=c.deletions,p===null?(c.deletions=[g],c.flags|=16):p.push(g)}function B5(c,p){switch(c.tag){case 5:var g=c.type;return p=p.nodeType!==1||g.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(c.stateNode=p,ds=c,fs=Sl(p.firstChild),!0):!1;case 6:return p=c.pendingProps===""||p.nodeType!==3?null:p,p!==null?(c.stateNode=p,ds=c,fs=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(g=Ac!==null?{id:Do,overflow:Io}:null,c.memoizedState={dehydrated:p,treeContext:g,retryLane:1073741824},g=ks(18,null,null,0),g.stateNode=p,g.return=c,c.child=g,ds=c,fs=null,!0):!1;default:return!1}}function cv(c){return(c.mode&1)!==0&&(c.flags&128)===0}function uv(c){if(nn){var p=fs;if(p){var g=p;if(!B5(c,p)){if(cv(c))throw Error(r(418));p=Sl(g.nextSibling);var w=ds;p&&B5(c,p)?F5(w,g):(c.flags=c.flags&-4097|2,nn=!1,ds=c)}}else{if(cv(c))throw Error(r(418));c.flags=c.flags&-4097|2,nn=!1,ds=c}}}function U5(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ds=c}function Yh(c){if(c!==ds)return!1;if(!nn)return U5(c),nn=!0,!1;var p;if((p=c.tag!==3)&&!(p=c.tag!==5)&&(p=c.type,p=p!=="head"&&p!=="body"&&!tv(c.type,c.memoizedProps)),p&&(p=fs)){if(cv(c))throw z5(),Error(r(418));for(;p;)F5(c,p),p=Sl(p.nextSibling)}if(U5(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,p=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(p===0){fs=Sl(c.nextSibling);break e}p--}else g!=="$"&&g!=="$!"&&g!=="$?"||p++}c=c.nextSibling}fs=null}}else fs=ds?Sl(c.stateNode.nextSibling):null;return!0}function z5(){for(var c=fs;c;)c=Sl(c.nextSibling)}function $u(){fs=ds=null,nn=!1}function dv(c){ci===null?ci=[c]:ci.push(c)}var lG=_.ReactCurrentBatchConfig;function np(c,p,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var w=g.stateNode}if(!w)throw Error(r(147,c));var T=w,k=""+c;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===k?p.ref:(p=function(L){var te=T.refs;L===null?delete te[k]:te[k]=L},p._stringRef=k,p)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function Xh(c,p){throw c=Object.prototype.toString.call(p),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":c))}function H5(c){var p=c._init;return p(c._payload)}function q5(c){function p(he,le){if(c){var be=he.deletions;be===null?(he.deletions=[le],he.flags|=16):be.push(le)}}function g(he,le){if(!c)return null;for(;le!==null;)p(he,le),le=le.sibling;return null}function w(he,le){for(he=new Map;le!==null;)le.key!==null?he.set(le.key,le):he.set(le.index,le),le=le.sibling;return he}function T(he,le){return he=Pl(he,le),he.index=0,he.sibling=null,he}function k(he,le,be){return he.index=be,c?(be=he.alternate,be!==null?(be=be.index,be<le?(he.flags|=2,le):be):(he.flags|=2,le)):(he.flags|=1048576,le)}function L(he){return c&&he.alternate===null&&(he.flags|=2),he}function te(he,le,be,Ke){return le===null||le.tag!==6?(le=r1(be,he.mode,Ke),le.return=he,le):(le=T(le,be),le.return=he,le)}function ne(he,le,be,Ke){var Nt=be.type;return Nt===R?Ue(he,le,be.props.children,Ke,be.key):le!==null&&(le.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===U&&H5(Nt)===le.type)?(Ke=T(le,be.props),Ke.ref=np(he,le,be),Ke.return=he,Ke):(Ke=v0(be.type,be.key,be.props,null,he.mode,Ke),Ke.ref=np(he,le,be),Ke.return=he,Ke)}function Ne(he,le,be,Ke){return le===null||le.tag!==4||le.stateNode.containerInfo!==be.containerInfo||le.stateNode.implementation!==be.implementation?(le=n1(be,he.mode,Ke),le.return=he,le):(le=T(le,be.children||[]),le.return=he,le)}function Ue(he,le,be,Ke,Nt){return le===null||le.tag!==7?(le=Mc(be,he.mode,Ke,Nt),le.return=he,le):(le=T(le,be),le.return=he,le)}function ze(he,le,be){if(typeof le=="string"&&le!==""||typeof le=="number")return le=r1(""+le,he.mode,be),le.return=he,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case E:return be=v0(le.type,le.key,le.props,null,he.mode,be),be.ref=np(he,null,le),be.return=he,be;case C:return le=n1(le,he.mode,be),le.return=he,le;case U:var Ke=le._init;return ze(he,Ke(le._payload),be)}if(jt(le)||Q(le))return le=Mc(le,he.mode,be,null),le.return=he,le;Xh(he,le)}return null}function Be(he,le,be,Ke){var Nt=le!==null?le.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return Nt!==null?null:te(he,le,""+be,Ke);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case E:return be.key===Nt?ne(he,le,be,Ke):null;case C:return be.key===Nt?Ne(he,le,be,Ke):null;case U:return Nt=be._init,Be(he,le,Nt(be._payload),Ke)}if(jt(be)||Q(be))return Nt!==null?null:Ue(he,le,be,Ke,null);Xh(he,be)}return null}function nt(he,le,be,Ke,Nt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return he=he.get(be)||null,te(le,he,""+Ke,Nt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case E:return he=he.get(Ke.key===null?be:Ke.key)||null,ne(le,he,Ke,Nt);case C:return he=he.get(Ke.key===null?be:Ke.key)||null,Ne(le,he,Ke,Nt);case U:var Pt=Ke._init;return nt(he,le,be,Pt(Ke._payload),Nt)}if(jt(Ke)||Q(Ke))return he=he.get(be)||null,Ue(le,he,Ke,Nt,null);Xh(le,Ke)}return null}function ut(he,le,be,Ke){for(var Nt=null,Pt=null,Dt=le,Ht=le=0,Zn=null;Dt!==null&&Ht<be.length;Ht++){Dt.index>Ht?(Zn=Dt,Dt=null):Zn=Dt.sibling;var Er=Be(he,Dt,be[Ht],Ke);if(Er===null){Dt===null&&(Dt=Zn);break}c&&Dt&&Er.alternate===null&&p(he,Dt),le=k(Er,le,Ht),Pt===null?Nt=Er:Pt.sibling=Er,Pt=Er,Dt=Zn}if(Ht===be.length)return g(he,Dt),nn&&Cc(he,Ht),Nt;if(Dt===null){for(;Ht<be.length;Ht++)Dt=ze(he,be[Ht],Ke),Dt!==null&&(le=k(Dt,le,Ht),Pt===null?Nt=Dt:Pt.sibling=Dt,Pt=Dt);return nn&&Cc(he,Ht),Nt}for(Dt=w(he,Dt);Ht<be.length;Ht++)Zn=nt(Dt,he,Ht,be[Ht],Ke),Zn!==null&&(c&&Zn.alternate!==null&&Dt.delete(Zn.key===null?Ht:Zn.key),le=k(Zn,le,Ht),Pt===null?Nt=Zn:Pt.sibling=Zn,Pt=Zn);return c&&Dt.forEach(function(Dl){return p(he,Dl)}),nn&&Cc(he,Ht),Nt}function xt(he,le,be,Ke){var Nt=Q(be);if(typeof Nt!="function")throw Error(r(150));if(be=Nt.call(be),be==null)throw Error(r(151));for(var Pt=Nt=null,Dt=le,Ht=le=0,Zn=null,Er=be.next();Dt!==null&&!Er.done;Ht++,Er=be.next()){Dt.index>Ht?(Zn=Dt,Dt=null):Zn=Dt.sibling;var Dl=Be(he,Dt,Er.value,Ke);if(Dl===null){Dt===null&&(Dt=Zn);break}c&&Dt&&Dl.alternate===null&&p(he,Dt),le=k(Dl,le,Ht),Pt===null?Nt=Dl:Pt.sibling=Dl,Pt=Dl,Dt=Zn}if(Er.done)return g(he,Dt),nn&&Cc(he,Ht),Nt;if(Dt===null){for(;!Er.done;Ht++,Er=be.next())Er=ze(he,Er.value,Ke),Er!==null&&(le=k(Er,le,Ht),Pt===null?Nt=Er:Pt.sibling=Er,Pt=Er);return nn&&Cc(he,Ht),Nt}for(Dt=w(he,Dt);!Er.done;Ht++,Er=be.next())Er=nt(Dt,he,Ht,Er.value,Ke),Er!==null&&(c&&Er.alternate!==null&&Dt.delete(Er.key===null?Ht:Er.key),le=k(Er,le,Ht),Pt===null?Nt=Er:Pt.sibling=Er,Pt=Er);return c&&Dt.forEach(function(UG){return p(he,UG)}),nn&&Cc(he,Ht),Nt}function vn(he,le,be,Ke){if(typeof be=="object"&&be!==null&&be.type===R&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case E:e:{for(var Nt=be.key,Pt=le;Pt!==null;){if(Pt.key===Nt){if(Nt=be.type,Nt===R){if(Pt.tag===7){g(he,Pt.sibling),le=T(Pt,be.props.children),le.return=he,he=le;break e}}else if(Pt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===U&&H5(Nt)===Pt.type){g(he,Pt.sibling),le=T(Pt,be.props),le.ref=np(he,Pt,be),le.return=he,he=le;break e}g(he,Pt);break}else p(he,Pt);Pt=Pt.sibling}be.type===R?(le=Mc(be.props.children,he.mode,Ke,be.key),le.return=he,he=le):(Ke=v0(be.type,be.key,be.props,null,he.mode,Ke),Ke.ref=np(he,le,be),Ke.return=he,he=Ke)}return L(he);case C:e:{for(Pt=be.key;le!==null;){if(le.key===Pt)if(le.tag===4&&le.stateNode.containerInfo===be.containerInfo&&le.stateNode.implementation===be.implementation){g(he,le.sibling),le=T(le,be.children||[]),le.return=he,he=le;break e}else{g(he,le);break}else p(he,le);le=le.sibling}le=n1(be,he.mode,Ke),le.return=he,he=le}return L(he);case U:return Pt=be._init,vn(he,le,Pt(be._payload),Ke)}if(jt(be))return ut(he,le,be,Ke);if(Q(be))return xt(he,le,be,Ke);Xh(he,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,le!==null&&le.tag===6?(g(he,le.sibling),le=T(le,be),le.return=he,he=le):(g(he,le),le=r1(be,he.mode,Ke),le.return=he,he=le),L(he)):g(he,le)}return vn}var Fu=q5(!0),G5=q5(!1),Qh=wl(null),Zh=null,Bu=null,fv=null;function pv(){fv=Bu=Zh=null}function mv(c){var p=Qh.current;Qr(Qh),c._currentValue=p}function hv(c,p,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&p)!==p?(c.childLanes|=p,w!==null&&(w.childLanes|=p)):w!==null&&(w.childLanes&p)!==p&&(w.childLanes|=p),c===g)break;c=c.return}}function Uu(c,p){Zh=c,fv=Bu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&p)!==0&&(Wa=!0),c.firstContext=null)}function As(c){var p=c._currentValue;if(fv!==c)if(c={context:c,memoizedValue:p,next:null},Bu===null){if(Zh===null)throw Error(r(308));Bu=c,Zh.dependencies={lanes:0,firstContext:c}}else Bu=Bu.next=c;return p}var Tc=null;function gv(c){Tc===null?Tc=[c]:Tc.push(c)}function K5(c,p,g,w){var T=p.interleaved;return T===null?(g.next=g,gv(p)):(g.next=T.next,T.next=g),p.interleaved=g,Mo(c,w)}function Mo(c,p){c.lanes|=p;var g=c.alternate;for(g!==null&&(g.lanes|=p),g=c,c=c.return;c!==null;)c.childLanes|=p,g=c.alternate,g!==null&&(g.childLanes|=p),g=c,c=c.return;return g.tag===3?g.stateNode:null}var _l=!1;function xv(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W5(c,p){c=c.updateQueue,p.updateQueue===c&&(p.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Lo(c,p){return{eventTime:c,lane:p,tag:0,payload:null,callback:null,next:null}}function Al(c,p,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(vr&2)!==0){var T=w.pending;return T===null?p.next=p:(p.next=T.next,T.next=p),w.pending=p,Mo(c,g)}return T=w.interleaved,T===null?(p.next=p,gv(w)):(p.next=T.next,T.next=p),w.interleaved=p,Mo(c,g)}function Jh(c,p,g){if(p=p.updateQueue,p!==null&&(p=p.shared,(g&4194240)!==0)){var w=p.lanes;w&=c.pendingLanes,g|=w,p.lanes=g,Dn(c,g)}}function V5(c,p){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var T=null,k=null;if(g=g.firstBaseUpdate,g!==null){do{var L={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};k===null?T=k=L:k=k.next=L,g=g.next}while(g!==null);k===null?T=k=p:k=k.next=p}else T=k=p;g={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:k,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=p:c.next=p,g.lastBaseUpdate=p}function e0(c,p,g,w){var T=c.updateQueue;_l=!1;var k=T.firstBaseUpdate,L=T.lastBaseUpdate,te=T.shared.pending;if(te!==null){T.shared.pending=null;var ne=te,Ne=ne.next;ne.next=null,L===null?k=Ne:L.next=Ne,L=ne;var Ue=c.alternate;Ue!==null&&(Ue=Ue.updateQueue,te=Ue.lastBaseUpdate,te!==L&&(te===null?Ue.firstBaseUpdate=Ne:te.next=Ne,Ue.lastBaseUpdate=ne))}if(k!==null){var ze=T.baseState;L=0,Ue=Ne=ne=null,te=k;do{var Be=te.lane,nt=te.eventTime;if((w&Be)===Be){Ue!==null&&(Ue=Ue.next={eventTime:nt,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var ut=c,xt=te;switch(Be=p,nt=g,xt.tag){case 1:if(ut=xt.payload,typeof ut=="function"){ze=ut.call(nt,ze,Be);break e}ze=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=xt.payload,Be=typeof ut=="function"?ut.call(nt,ze,Be):ut,Be==null)break e;ze=J({},ze,Be);break e;case 2:_l=!0}}te.callback!==null&&te.lane!==0&&(c.flags|=64,Be=T.effects,Be===null?T.effects=[te]:Be.push(te))}else nt={eventTime:nt,lane:Be,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Ue===null?(Ne=Ue=nt,ne=ze):Ue=Ue.next=nt,L|=Be;if(te=te.next,te===null){if(te=T.shared.pending,te===null)break;Be=te,te=Be.next,Be.next=null,T.lastBaseUpdate=Be,T.shared.pending=null}}while(!0);if(Ue===null&&(ne=ze),T.baseState=ne,T.firstBaseUpdate=Ne,T.lastBaseUpdate=Ue,p=T.shared.interleaved,p!==null){T=p;do L|=T.lane,T=T.next;while(T!==p)}else k===null&&(T.shared.lanes=0);Rc|=L,c.lanes=L,c.memoizedState=ze}}function Y5(c,p,g){if(c=p.effects,p.effects=null,c!==null)for(p=0;p<c.length;p++){var w=c[p],T=w.callback;if(T!==null){if(w.callback=null,w=g,typeof T!="function")throw Error(r(191,T));T.call(w)}}}var ap={},qi=wl(ap),sp=wl(ap),ip=wl(ap);function kc(c){if(c===ap)throw Error(r(174));return c}function yv(c,p){switch(Hr(ip,p),Hr(sp,c),Hr(qi,ap),c=p.nodeType,c){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Lr(null,"");break;default:c=c===8?p.parentNode:p,p=c.namespaceURI||null,c=c.tagName,p=Lr(p,c)}Qr(qi),Hr(qi,p)}function zu(){Qr(qi),Qr(sp),Qr(ip)}function X5(c){kc(ip.current);var p=kc(qi.current),g=Lr(p,c.type);p!==g&&(Hr(sp,c),Hr(qi,g))}function bv(c){sp.current===c&&(Qr(qi),Qr(sp))}var on=wl(0);function t0(c){for(var p=c;p!==null;){if(p.tag===13){var g=p.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var vv=[];function Nv(){for(var c=0;c<vv.length;c++)vv[c]._workInProgressVersionPrimary=null;vv.length=0}var r0=_.ReactCurrentDispatcher,Sv=_.ReactCurrentBatchConfig,Oc=0,ln=null,Mn=null,Xn=null,n0=!1,op=!1,lp=0,cG=0;function ha(){throw Error(r(321))}function wv(c,p){if(p===null)return!1;for(var g=0;g<p.length&&g<c.length;g++)if(!li(c[g],p[g]))return!1;return!0}function jv(c,p,g,w,T,k){if(Oc=k,ln=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,r0.current=c===null||c.memoizedState===null?pG:mG,c=g(w,T),op){k=0;do{if(op=!1,lp=0,25<=k)throw Error(r(301));k+=1,Xn=Mn=null,p.updateQueue=null,r0.current=hG,c=g(w,T)}while(op)}if(r0.current=i0,p=Mn!==null&&Mn.next!==null,Oc=0,Xn=Mn=ln=null,n0=!1,p)throw Error(r(300));return c}function Ev(){var c=lp!==0;return lp=0,c}function Gi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?ln.memoizedState=Xn=c:Xn=Xn.next=c,Xn}function Cs(){if(Mn===null){var c=ln.alternate;c=c!==null?c.memoizedState:null}else c=Mn.next;var p=Xn===null?ln.memoizedState:Xn.next;if(p!==null)Xn=p,Mn=c;else{if(c===null)throw Error(r(310));Mn=c,c={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Xn===null?ln.memoizedState=Xn=c:Xn=Xn.next=c}return Xn}function cp(c,p){return typeof p=="function"?p(c):p}function _v(c){var p=Cs(),g=p.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=Mn,T=w.baseQueue,k=g.pending;if(k!==null){if(T!==null){var L=T.next;T.next=k.next,k.next=L}w.baseQueue=T=k,g.pending=null}if(T!==null){k=T.next,w=w.baseState;var te=L=null,ne=null,Ne=k;do{var Ue=Ne.lane;if((Oc&Ue)===Ue)ne!==null&&(ne=ne.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),w=Ne.hasEagerState?Ne.eagerState:c(w,Ne.action);else{var ze={lane:Ue,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};ne===null?(te=ne=ze,L=w):ne=ne.next=ze,ln.lanes|=Ue,Rc|=Ue}Ne=Ne.next}while(Ne!==null&&Ne!==k);ne===null?L=w:ne.next=te,li(w,p.memoizedState)||(Wa=!0),p.memoizedState=w,p.baseState=L,p.baseQueue=ne,g.lastRenderedState=w}if(c=g.interleaved,c!==null){T=c;do k=T.lane,ln.lanes|=k,Rc|=k,T=T.next;while(T!==c)}else T===null&&(g.lanes=0);return[p.memoizedState,g.dispatch]}function Av(c){var p=Cs(),g=p.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=g.dispatch,T=g.pending,k=p.memoizedState;if(T!==null){g.pending=null;var L=T=T.next;do k=c(k,L.action),L=L.next;while(L!==T);li(k,p.memoizedState)||(Wa=!0),p.memoizedState=k,p.baseQueue===null&&(p.baseState=k),g.lastRenderedState=k}return[k,w]}function Q5(){}function Z5(c,p){var g=ln,w=Cs(),T=p(),k=!li(w.memoizedState,T);if(k&&(w.memoizedState=T,Wa=!0),w=w.queue,Cv(t3.bind(null,g,w,c),[c]),w.getSnapshot!==p||k||Xn!==null&&Xn.memoizedState.tag&1){if(g.flags|=2048,up(9,e3.bind(null,g,w,T,p),void 0,null),Qn===null)throw Error(r(349));(Oc&30)!==0||J5(g,p,T)}return T}function J5(c,p,g){c.flags|=16384,c={getSnapshot:p,value:g},p=ln.updateQueue,p===null?(p={lastEffect:null,stores:null},ln.updateQueue=p,p.stores=[c]):(g=p.stores,g===null?p.stores=[c]:g.push(c))}function e3(c,p,g,w){p.value=g,p.getSnapshot=w,r3(p)&&n3(c)}function t3(c,p,g){return g(function(){r3(p)&&n3(c)})}function r3(c){var p=c.getSnapshot;c=c.value;try{var g=p();return!li(c,g)}catch{return!0}}function n3(c){var p=Mo(c,1);p!==null&&pi(p,c,1,-1)}function a3(c){var p=Gi();return typeof c=="function"&&(c=c()),p.memoizedState=p.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:c},p.queue=c,c=c.dispatch=fG.bind(null,ln,c),[p.memoizedState,c]}function up(c,p,g,w){return c={tag:c,create:p,destroy:g,deps:w,next:null},p=ln.updateQueue,p===null?(p={lastEffect:null,stores:null},ln.updateQueue=p,p.lastEffect=c.next=c):(g=p.lastEffect,g===null?p.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,p.lastEffect=c)),c}function s3(){return Cs().memoizedState}function a0(c,p,g,w){var T=Gi();ln.flags|=c,T.memoizedState=up(1|p,g,void 0,w===void 0?null:w)}function s0(c,p,g,w){var T=Cs();w=w===void 0?null:w;var k=void 0;if(Mn!==null){var L=Mn.memoizedState;if(k=L.destroy,w!==null&&wv(w,L.deps)){T.memoizedState=up(p,g,k,w);return}}ln.flags|=c,T.memoizedState=up(1|p,g,k,w)}function i3(c,p){return a0(8390656,8,c,p)}function Cv(c,p){return s0(2048,8,c,p)}function o3(c,p){return s0(4,2,c,p)}function l3(c,p){return s0(4,4,c,p)}function c3(c,p){if(typeof p=="function")return c=c(),p(c),function(){p(null)};if(p!=null)return c=c(),p.current=c,function(){p.current=null}}function u3(c,p,g){return g=g!=null?g.concat([c]):null,s0(4,4,c3.bind(null,p,c),g)}function Tv(){}function d3(c,p){var g=Cs();p=p===void 0?null:p;var w=g.memoizedState;return w!==null&&p!==null&&wv(p,w[1])?w[0]:(g.memoizedState=[c,p],c)}function f3(c,p){var g=Cs();p=p===void 0?null:p;var w=g.memoizedState;return w!==null&&p!==null&&wv(p,w[1])?w[0]:(c=c(),g.memoizedState=[c,p],c)}function p3(c,p,g){return(Oc&21)===0?(c.baseState&&(c.baseState=!1,Wa=!0),c.memoizedState=g):(li(g,p)||(g=gt(),ln.lanes|=g,Rc|=g,c.baseState=!0),p)}function uG(c,p){var g=yr;yr=g!==0&&4>g?g:4,c(!0);var w=Sv.transition;Sv.transition={};try{c(!1),p()}finally{yr=g,Sv.transition=w}}function m3(){return Cs().memoizedState}function dG(c,p,g){var w=Ol(c);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},h3(c))g3(p,g);else if(g=K5(c,p,g,w),g!==null){var T=Oa();pi(g,c,w,T),x3(g,p,w)}}function fG(c,p,g){var w=Ol(c),T={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(h3(c))g3(p,T);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=p.lastRenderedReducer,k!==null))try{var L=p.lastRenderedState,te=k(L,g);if(T.hasEagerState=!0,T.eagerState=te,li(te,L)){var ne=p.interleaved;ne===null?(T.next=T,gv(p)):(T.next=ne.next,ne.next=T),p.interleaved=T;return}}catch{}finally{}g=K5(c,p,T,w),g!==null&&(T=Oa(),pi(g,c,w,T),x3(g,p,w))}}function h3(c){var p=c.alternate;return c===ln||p!==null&&p===ln}function g3(c,p){op=n0=!0;var g=c.pending;g===null?p.next=p:(p.next=g.next,g.next=p),c.pending=p}function x3(c,p,g){if((g&4194240)!==0){var w=p.lanes;w&=c.pendingLanes,g|=w,p.lanes=g,Dn(c,g)}}var i0={readContext:As,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},pG={readContext:As,useCallback:function(c,p){return Gi().memoizedState=[c,p===void 0?null:p],c},useContext:As,useEffect:i3,useImperativeHandle:function(c,p,g){return g=g!=null?g.concat([c]):null,a0(4194308,4,c3.bind(null,p,c),g)},useLayoutEffect:function(c,p){return a0(4194308,4,c,p)},useInsertionEffect:function(c,p){return a0(4,2,c,p)},useMemo:function(c,p){var g=Gi();return p=p===void 0?null:p,c=c(),g.memoizedState=[c,p],c},useReducer:function(c,p,g){var w=Gi();return p=g!==void 0?g(p):p,w.memoizedState=w.baseState=p,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:p},w.queue=c,c=c.dispatch=dG.bind(null,ln,c),[w.memoizedState,c]},useRef:function(c){var p=Gi();return c={current:c},p.memoizedState=c},useState:a3,useDebugValue:Tv,useDeferredValue:function(c){return Gi().memoizedState=c},useTransition:function(){var c=a3(!1),p=c[0];return c=uG.bind(null,c[1]),Gi().memoizedState=c,[p,c]},useMutableSource:function(){},useSyncExternalStore:function(c,p,g){var w=ln,T=Gi();if(nn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=p(),Qn===null)throw Error(r(349));(Oc&30)!==0||J5(w,p,g)}T.memoizedState=g;var k={value:g,getSnapshot:p};return T.queue=k,i3(t3.bind(null,w,k,c),[c]),w.flags|=2048,up(9,e3.bind(null,w,k,g,p),void 0,null),g},useId:function(){var c=Gi(),p=Qn.identifierPrefix;if(nn){var g=Io,w=Do;g=(w&~(1<<32-Kn(w)-1)).toString(32)+g,p=":"+p+"R"+g,g=lp++,0<g&&(p+="H"+g.toString(32)),p+=":"}else g=cG++,p=":"+p+"r"+g.toString(32)+":";return c.memoizedState=p},unstable_isNewReconciler:!1},mG={readContext:As,useCallback:d3,useContext:As,useEffect:Cv,useImperativeHandle:u3,useInsertionEffect:o3,useLayoutEffect:l3,useMemo:f3,useReducer:_v,useRef:s3,useState:function(){return _v(cp)},useDebugValue:Tv,useDeferredValue:function(c){var p=Cs();return p3(p,Mn.memoizedState,c)},useTransition:function(){var c=_v(cp)[0],p=Cs().memoizedState;return[c,p]},useMutableSource:Q5,useSyncExternalStore:Z5,useId:m3,unstable_isNewReconciler:!1},hG={readContext:As,useCallback:d3,useContext:As,useEffect:Cv,useImperativeHandle:u3,useInsertionEffect:o3,useLayoutEffect:l3,useMemo:f3,useReducer:Av,useRef:s3,useState:function(){return Av(cp)},useDebugValue:Tv,useDeferredValue:function(c){var p=Cs();return Mn===null?p.memoizedState=c:p3(p,Mn.memoizedState,c)},useTransition:function(){var c=Av(cp)[0],p=Cs().memoizedState;return[c,p]},useMutableSource:Q5,useSyncExternalStore:Z5,useId:m3,unstable_isNewReconciler:!1};function ui(c,p){if(c&&c.defaultProps){p=J({},p),c=c.defaultProps;for(var g in c)p[g]===void 0&&(p[g]=c[g]);return p}return p}function kv(c,p,g,w){p=c.memoizedState,g=g(w,p),g=g==null?p:J({},p,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var o0={isMounted:function(c){return(c=c._reactInternals)?st(c)===c:!1},enqueueSetState:function(c,p,g){c=c._reactInternals;var w=Oa(),T=Ol(c),k=Lo(w,T);k.payload=p,g!=null&&(k.callback=g),p=Al(c,k,T),p!==null&&(pi(p,c,T,w),Jh(p,c,T))},enqueueReplaceState:function(c,p,g){c=c._reactInternals;var w=Oa(),T=Ol(c),k=Lo(w,T);k.tag=1,k.payload=p,g!=null&&(k.callback=g),p=Al(c,k,T),p!==null&&(pi(p,c,T,w),Jh(p,c,T))},enqueueForceUpdate:function(c,p){c=c._reactInternals;var g=Oa(),w=Ol(c),T=Lo(g,w);T.tag=2,p!=null&&(T.callback=p),p=Al(c,T,w),p!==null&&(pi(p,c,w,g),Jh(p,c,w))}};function y3(c,p,g,w,T,k,L){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,k,L):p.prototype&&p.prototype.isPureReactComponent?!Xf(g,w)||!Xf(T,k):!0}function b3(c,p,g){var w=!1,T=jl,k=p.contextType;return typeof k=="object"&&k!==null?k=As(k):(T=Ka(p)?_c:ma.current,w=p.contextTypes,k=(w=w!=null)?Iu(c,T):jl),p=new p(g,k),c.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=o0,c.stateNode=p,p._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=k),p}function v3(c,p,g,w){c=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(g,w),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(g,w),p.state!==c&&o0.enqueueReplaceState(p,p.state,null)}function Ov(c,p,g,w){var T=c.stateNode;T.props=g,T.state=c.memoizedState,T.refs={},xv(c);var k=p.contextType;typeof k=="object"&&k!==null?T.context=As(k):(k=Ka(p)?_c:ma.current,T.context=Iu(c,k)),T.state=c.memoizedState,k=p.getDerivedStateFromProps,typeof k=="function"&&(kv(c,p,k,g),T.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(p=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),p!==T.state&&o0.enqueueReplaceState(T,T.state,null),e0(c,g,T,w),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}function Hu(c,p){try{var g="",w=p;do g+=ie(w),w=w.return;while(w);var T=g}catch(k){T=`
Error generating stack: `+k.message+`
`+k.stack}return{value:c,source:p,stack:T,digest:null}}function Rv(c,p,g){return{value:c,source:null,stack:g??null,digest:p??null}}function Pv(c,p){try{console.error(p.value)}catch(g){setTimeout(function(){throw g})}}var gG=typeof WeakMap=="function"?WeakMap:Map;function N3(c,p,g){g=Lo(-1,g),g.tag=3,g.payload={element:null};var w=p.value;return g.callback=function(){m0||(m0=!0,Vv=w),Pv(c,p)},g}function S3(c,p,g){g=Lo(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var T=p.value;g.payload=function(){return w(T)},g.callback=function(){Pv(c,p)}}var k=c.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(g.callback=function(){Pv(c,p),typeof w!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var L=p.stack;this.componentDidCatch(p.value,{componentStack:L!==null?L:""})}),g}function w3(c,p,g){var w=c.pingCache;if(w===null){w=c.pingCache=new gG;var T=new Set;w.set(p,T)}else T=w.get(p),T===void 0&&(T=new Set,w.set(p,T));T.has(g)||(T.add(g),c=kG.bind(null,c,p,g),p.then(c,c))}function j3(c){do{var p;if((p=c.tag===13)&&(p=c.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return c;c=c.return}while(c!==null);return null}function E3(c,p,g,w,T){return(c.mode&1)===0?(c===p?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(p=Lo(-1,1),p.tag=2,Al(g,p,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=T,c)}var xG=_.ReactCurrentOwner,Wa=!1;function ka(c,p,g,w){p.child=c===null?G5(p,null,g,w):Fu(p,c.child,g,w)}function _3(c,p,g,w,T){g=g.render;var k=p.ref;return Uu(p,T),w=jv(c,p,g,w,k,T),g=Ev(),c!==null&&!Wa?(p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~T,$o(c,p,T)):(nn&&g&&ov(p),p.flags|=1,ka(c,p,w,T),p.child)}function A3(c,p,g,w,T){if(c===null){var k=g.type;return typeof k=="function"&&!t1(k)&&k.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(p.tag=15,p.type=k,C3(c,p,k,w,T)):(c=v0(g.type,null,w,p,p.mode,T),c.ref=p.ref,c.return=p,p.child=c)}if(k=c.child,(c.lanes&T)===0){var L=k.memoizedProps;if(g=g.compare,g=g!==null?g:Xf,g(L,w)&&c.ref===p.ref)return $o(c,p,T)}return p.flags|=1,c=Pl(k,w),c.ref=p.ref,c.return=p,p.child=c}function C3(c,p,g,w,T){if(c!==null){var k=c.memoizedProps;if(Xf(k,w)&&c.ref===p.ref)if(Wa=!1,p.pendingProps=w=k,(c.lanes&T)!==0)(c.flags&131072)!==0&&(Wa=!0);else return p.lanes=c.lanes,$o(c,p,T)}return Dv(c,p,g,w,T)}function T3(c,p,g){var w=p.pendingProps,T=w.children,k=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hr(Gu,ps),ps|=g;else{if((g&1073741824)===0)return c=k!==null?k.baseLanes|g:g,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:c,cachePool:null,transitions:null},p.updateQueue=null,Hr(Gu,ps),ps|=c,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=k!==null?k.baseLanes:g,Hr(Gu,ps),ps|=w}else k!==null?(w=k.baseLanes|g,p.memoizedState=null):w=g,Hr(Gu,ps),ps|=w;return ka(c,p,T,g),p.child}function k3(c,p){var g=p.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(p.flags|=512,p.flags|=2097152)}function Dv(c,p,g,w,T){var k=Ka(g)?_c:ma.current;return k=Iu(p,k),Uu(p,T),g=jv(c,p,g,w,k,T),w=Ev(),c!==null&&!Wa?(p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~T,$o(c,p,T)):(nn&&w&&ov(p),p.flags|=1,ka(c,p,g,T),p.child)}function O3(c,p,g,w,T){if(Ka(g)){var k=!0;Gh(p)}else k=!1;if(Uu(p,T),p.stateNode===null)c0(c,p),b3(p,g,w),Ov(p,g,w,T),w=!0;else if(c===null){var L=p.stateNode,te=p.memoizedProps;L.props=te;var ne=L.context,Ne=g.contextType;typeof Ne=="object"&&Ne!==null?Ne=As(Ne):(Ne=Ka(g)?_c:ma.current,Ne=Iu(p,Ne));var Ue=g.getDerivedStateFromProps,ze=typeof Ue=="function"||typeof L.getSnapshotBeforeUpdate=="function";ze||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(te!==w||ne!==Ne)&&v3(p,L,w,Ne),_l=!1;var Be=p.memoizedState;L.state=Be,e0(p,w,L,T),ne=p.memoizedState,te!==w||Be!==ne||Ga.current||_l?(typeof Ue=="function"&&(kv(p,g,Ue,w),ne=p.memoizedState),(te=_l||y3(p,g,te,w,Be,ne,Ne))?(ze||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(p.flags|=4194308)):(typeof L.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=w,p.memoizedState=ne),L.props=w,L.state=ne,L.context=Ne,w=te):(typeof L.componentDidMount=="function"&&(p.flags|=4194308),w=!1)}else{L=p.stateNode,W5(c,p),te=p.memoizedProps,Ne=p.type===p.elementType?te:ui(p.type,te),L.props=Ne,ze=p.pendingProps,Be=L.context,ne=g.contextType,typeof ne=="object"&&ne!==null?ne=As(ne):(ne=Ka(g)?_c:ma.current,ne=Iu(p,ne));var nt=g.getDerivedStateFromProps;(Ue=typeof nt=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(te!==ze||Be!==ne)&&v3(p,L,w,ne),_l=!1,Be=p.memoizedState,L.state=Be,e0(p,w,L,T);var ut=p.memoizedState;te!==ze||Be!==ut||Ga.current||_l?(typeof nt=="function"&&(kv(p,g,nt,w),ut=p.memoizedState),(Ne=_l||y3(p,g,Ne,w,Be,ut,ne)||!1)?(Ue||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(w,ut,ne),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(w,ut,ne)),typeof L.componentDidUpdate=="function"&&(p.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof L.componentDidUpdate!="function"||te===c.memoizedProps&&Be===c.memoizedState||(p.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&Be===c.memoizedState||(p.flags|=1024),p.memoizedProps=w,p.memoizedState=ut),L.props=w,L.state=ut,L.context=ne,w=Ne):(typeof L.componentDidUpdate!="function"||te===c.memoizedProps&&Be===c.memoizedState||(p.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&Be===c.memoizedState||(p.flags|=1024),w=!1)}return Iv(c,p,g,w,k,T)}function Iv(c,p,g,w,T,k){k3(c,p);var L=(p.flags&128)!==0;if(!w&&!L)return T&&M5(p,g,!1),$o(c,p,k);w=p.stateNode,xG.current=p;var te=L&&typeof g.getDerivedStateFromError!="function"?null:w.render();return p.flags|=1,c!==null&&L?(p.child=Fu(p,c.child,null,k),p.child=Fu(p,null,te,k)):ka(c,p,te,k),p.memoizedState=w.state,T&&M5(p,g,!0),p.child}function R3(c){var p=c.stateNode;p.pendingContext?D5(c,p.pendingContext,p.pendingContext!==p.context):p.context&&D5(c,p.context,!1),yv(c,p.containerInfo)}function P3(c,p,g,w,T){return $u(),dv(T),p.flags|=256,ka(c,p,g,w),p.child}var Mv={dehydrated:null,treeContext:null,retryLane:0};function Lv(c){return{baseLanes:c,cachePool:null,transitions:null}}function D3(c,p,g){var w=p.pendingProps,T=on.current,k=!1,L=(p.flags&128)!==0,te;if((te=L)||(te=c!==null&&c.memoizedState===null?!1:(T&2)!==0),te?(k=!0,p.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),Hr(on,T&1),c===null)return uv(p),c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((p.mode&1)===0?p.lanes=1:c.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(L=w.children,c=w.fallback,k?(w=p.mode,k=p.child,L={mode:"hidden",children:L},(w&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=L):k=N0(L,w,0,null),c=Mc(c,w,g,null),k.return=p,c.return=p,k.sibling=c,p.child=k,p.child.memoizedState=Lv(g),p.memoizedState=Mv,c):$v(p,L));if(T=c.memoizedState,T!==null&&(te=T.dehydrated,te!==null))return yG(c,p,L,w,te,T,g);if(k){k=w.fallback,L=p.mode,T=c.child,te=T.sibling;var ne={mode:"hidden",children:w.children};return(L&1)===0&&p.child!==T?(w=p.child,w.childLanes=0,w.pendingProps=ne,p.deletions=null):(w=Pl(T,ne),w.subtreeFlags=T.subtreeFlags&14680064),te!==null?k=Pl(te,k):(k=Mc(k,L,g,null),k.flags|=2),k.return=p,w.return=p,w.sibling=k,p.child=w,w=k,k=p.child,L=c.child.memoizedState,L=L===null?Lv(g):{baseLanes:L.baseLanes|g,cachePool:null,transitions:L.transitions},k.memoizedState=L,k.childLanes=c.childLanes&~g,p.memoizedState=Mv,w}return k=c.child,c=k.sibling,w=Pl(k,{mode:"visible",children:w.children}),(p.mode&1)===0&&(w.lanes=g),w.return=p,w.sibling=null,c!==null&&(g=p.deletions,g===null?(p.deletions=[c],p.flags|=16):g.push(c)),p.child=w,p.memoizedState=null,w}function $v(c,p){return p=N0({mode:"visible",children:p},c.mode,0,null),p.return=c,c.child=p}function l0(c,p,g,w){return w!==null&&dv(w),Fu(p,c.child,null,g),c=$v(p,p.pendingProps.children),c.flags|=2,p.memoizedState=null,c}function yG(c,p,g,w,T,k,L){if(g)return p.flags&256?(p.flags&=-257,w=Rv(Error(r(422))),l0(c,p,L,w)):p.memoizedState!==null?(p.child=c.child,p.flags|=128,null):(k=w.fallback,T=p.mode,w=N0({mode:"visible",children:w.children},T,0,null),k=Mc(k,T,L,null),k.flags|=2,w.return=p,k.return=p,w.sibling=k,p.child=w,(p.mode&1)!==0&&Fu(p,c.child,null,L),p.child.memoizedState=Lv(L),p.memoizedState=Mv,k);if((p.mode&1)===0)return l0(c,p,L,null);if(T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var te=w.dgst;return w=te,k=Error(r(419)),w=Rv(k,w,void 0),l0(c,p,L,w)}if(te=(L&c.childLanes)!==0,Wa||te){if(w=Qn,w!==null){switch(L&-L){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(w.suspendedLanes|L))!==0?0:T,T!==0&&T!==k.retryLane&&(k.retryLane=T,Mo(c,T),pi(w,c,T,-1))}return e1(),w=Rv(Error(r(421))),l0(c,p,L,w)}return T.data==="$?"?(p.flags|=128,p.child=c.child,p=OG.bind(null,c),T._reactRetry=p,null):(c=k.treeContext,fs=Sl(T.nextSibling),ds=p,nn=!0,ci=null,c!==null&&(Es[_s++]=Do,Es[_s++]=Io,Es[_s++]=Ac,Do=c.id,Io=c.overflow,Ac=p),p=$v(p,w.children),p.flags|=4096,p)}function I3(c,p,g){c.lanes|=p;var w=c.alternate;w!==null&&(w.lanes|=p),hv(c.return,p,g)}function Fv(c,p,g,w,T){var k=c.memoizedState;k===null?c.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:T}:(k.isBackwards=p,k.rendering=null,k.renderingStartTime=0,k.last=w,k.tail=g,k.tailMode=T)}function M3(c,p,g){var w=p.pendingProps,T=w.revealOrder,k=w.tail;if(ka(c,p,w.children,g),w=on.current,(w&2)!==0)w=w&1|2,p.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=p.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&I3(c,g,p);else if(c.tag===19)I3(c,g,p);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===p)break e;for(;c.sibling===null;){if(c.return===null||c.return===p)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(Hr(on,w),(p.mode&1)===0)p.memoizedState=null;else switch(T){case"forwards":for(g=p.child,T=null;g!==null;)c=g.alternate,c!==null&&t0(c)===null&&(T=g),g=g.sibling;g=T,g===null?(T=p.child,p.child=null):(T=g.sibling,g.sibling=null),Fv(p,!1,T,g,k);break;case"backwards":for(g=null,T=p.child,p.child=null;T!==null;){if(c=T.alternate,c!==null&&t0(c)===null){p.child=T;break}c=T.sibling,T.sibling=g,g=T,T=c}Fv(p,!0,g,null,k);break;case"together":Fv(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function c0(c,p){(p.mode&1)===0&&c!==null&&(c.alternate=null,p.alternate=null,p.flags|=2)}function $o(c,p,g){if(c!==null&&(p.dependencies=c.dependencies),Rc|=p.lanes,(g&p.childLanes)===0)return null;if(c!==null&&p.child!==c.child)throw Error(r(153));if(p.child!==null){for(c=p.child,g=Pl(c,c.pendingProps),p.child=g,g.return=p;c.sibling!==null;)c=c.sibling,g=g.sibling=Pl(c,c.pendingProps),g.return=p;g.sibling=null}return p.child}function bG(c,p,g){switch(p.tag){case 3:R3(p),$u();break;case 5:X5(p);break;case 1:Ka(p.type)&&Gh(p);break;case 4:yv(p,p.stateNode.containerInfo);break;case 10:var w=p.type._context,T=p.memoizedProps.value;Hr(Qh,w._currentValue),w._currentValue=T;break;case 13:if(w=p.memoizedState,w!==null)return w.dehydrated!==null?(Hr(on,on.current&1),p.flags|=128,null):(g&p.child.childLanes)!==0?D3(c,p,g):(Hr(on,on.current&1),c=$o(c,p,g),c!==null?c.sibling:null);Hr(on,on.current&1);break;case 19:if(w=(g&p.childLanes)!==0,(c.flags&128)!==0){if(w)return M3(c,p,g);p.flags|=128}if(T=p.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Hr(on,on.current),w)break;return null;case 22:case 23:return p.lanes=0,T3(c,p,g)}return $o(c,p,g)}var L3,Bv,$3,F3;L3=function(c,p){for(var g=p.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Bv=function(){},$3=function(c,p,g,w){var T=c.memoizedProps;if(T!==w){c=p.stateNode,kc(qi.current);var k=null;switch(g){case"input":T=H(c,T),w=H(c,w),k=[];break;case"select":T=J({},T,{value:void 0}),w=J({},w,{value:void 0}),k=[];break;case"textarea":T=De(c,T),w=De(c,w),k=[];break;default:typeof T.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=zh)}Zt(g,w);var L;g=null;for(Ne in T)if(!w.hasOwnProperty(Ne)&&T.hasOwnProperty(Ne)&&T[Ne]!=null)if(Ne==="style"){var te=T[Ne];for(L in te)te.hasOwnProperty(L)&&(g||(g={}),g[L]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(s.hasOwnProperty(Ne)?k||(k=[]):(k=k||[]).push(Ne,null));for(Ne in w){var ne=w[Ne];if(te=T?.[Ne],w.hasOwnProperty(Ne)&&ne!==te&&(ne!=null||te!=null))if(Ne==="style")if(te){for(L in te)!te.hasOwnProperty(L)||ne&&ne.hasOwnProperty(L)||(g||(g={}),g[L]="");for(L in ne)ne.hasOwnProperty(L)&&te[L]!==ne[L]&&(g||(g={}),g[L]=ne[L])}else g||(k||(k=[]),k.push(Ne,g)),g=ne;else Ne==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,te=te?te.__html:void 0,ne!=null&&te!==ne&&(k=k||[]).push(Ne,ne)):Ne==="children"?typeof ne!="string"&&typeof ne!="number"||(k=k||[]).push(Ne,""+ne):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ne)?(ne!=null&&Ne==="onScroll"&&Xr("scroll",c),k||te===ne||(k=[])):(k=k||[]).push(Ne,ne))}g&&(k=k||[]).push("style",g);var Ne=k;(p.updateQueue=Ne)&&(p.flags|=4)}},F3=function(c,p,g,w){g!==w&&(p.flags|=4)};function dp(c,p){if(!nn)switch(c.tailMode){case"hidden":p=c.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?p||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function ga(c){var p=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(p)for(var T=c.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=w,c.childLanes=g,p}function vG(c,p,g){var w=p.pendingProps;switch(lv(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ga(p),null;case 1:return Ka(p.type)&&qh(),ga(p),null;case 3:return w=p.stateNode,zu(),Qr(Ga),Qr(ma),Nv(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Yh(p)?p.flags|=4:c===null||c.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,ci!==null&&(Qv(ci),ci=null))),Bv(c,p),ga(p),null;case 5:bv(p);var T=kc(ip.current);if(g=p.type,c!==null&&p.stateNode!=null)$3(c,p,g,w,T),c.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!w){if(p.stateNode===null)throw Error(r(166));return ga(p),null}if(c=kc(qi.current),Yh(p)){w=p.stateNode,g=p.type;var k=p.memoizedProps;switch(w[Hi]=p,w[tp]=k,c=(p.mode&1)!==0,g){case"dialog":Xr("cancel",w),Xr("close",w);break;case"iframe":case"object":case"embed":Xr("load",w);break;case"video":case"audio":for(T=0;T<Zf.length;T++)Xr(Zf[T],w);break;case"source":Xr("error",w);break;case"img":case"image":case"link":Xr("error",w),Xr("load",w);break;case"details":Xr("toggle",w);break;case"input":ve(w,k),Xr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!k.multiple},Xr("invalid",w);break;case"textarea":He(w,k),Xr("invalid",w)}Zt(g,k),T=null;for(var L in k)if(k.hasOwnProperty(L)){var te=k[L];L==="children"?typeof te=="string"?w.textContent!==te&&(k.suppressHydrationWarning!==!0&&Uh(w.textContent,te,c),T=["children",te]):typeof te=="number"&&w.textContent!==""+te&&(k.suppressHydrationWarning!==!0&&Uh(w.textContent,te,c),T=["children",""+te]):s.hasOwnProperty(L)&&te!=null&&L==="onScroll"&&Xr("scroll",w)}switch(g){case"input":me(w),Qe(w,k,!0);break;case"textarea":me(w),Jt(w);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(w.onclick=zh)}w=T,p.updateQueue=w,w!==null&&(p.flags|=4)}else{L=T.nodeType===9?T:T.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Vt(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=L.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=L.createElement(g,{is:w.is}):(c=L.createElement(g),g==="select"&&(L=c,w.multiple?L.multiple=!0:w.size&&(L.size=w.size))):c=L.createElementNS(c,g),c[Hi]=p,c[tp]=w,L3(c,p,!1,!1),p.stateNode=c;e:{switch(L=Lt(g,w),g){case"dialog":Xr("cancel",c),Xr("close",c),T=w;break;case"iframe":case"object":case"embed":Xr("load",c),T=w;break;case"video":case"audio":for(T=0;T<Zf.length;T++)Xr(Zf[T],c);T=w;break;case"source":Xr("error",c),T=w;break;case"img":case"image":case"link":Xr("error",c),Xr("load",c),T=w;break;case"details":Xr("toggle",c),T=w;break;case"input":ve(c,w),T=H(c,w),Xr("invalid",c);break;case"option":T=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},T=J({},w,{value:void 0}),Xr("invalid",c);break;case"textarea":He(c,w),T=De(c,w),Xr("invalid",c);break;default:T=w}Zt(g,T),te=T;for(k in te)if(te.hasOwnProperty(k)){var ne=te[k];k==="style"?ht(c,ne):k==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Me(c,ne)):k==="children"?typeof ne=="string"?(g!=="textarea"||ne!=="")&&Mt(c,ne):typeof ne=="number"&&Mt(c,""+ne):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?ne!=null&&k==="onScroll"&&Xr("scroll",c):ne!=null&&A(c,k,ne,L))}switch(g){case"input":me(c),Qe(c,w,!1);break;case"textarea":me(c),Jt(c);break;case"option":w.value!=null&&c.setAttribute("value",""+je(w.value));break;case"select":c.multiple=!!w.multiple,k=w.value,k!=null?Ze(c,!!w.multiple,k,!1):w.defaultValue!=null&&Ze(c,!!w.multiple,w.defaultValue,!0);break;default:typeof T.onClick=="function"&&(c.onclick=zh)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return ga(p),null;case 6:if(c&&p.stateNode!=null)F3(c,p,c.memoizedProps,w);else{if(typeof w!="string"&&p.stateNode===null)throw Error(r(166));if(g=kc(ip.current),kc(qi.current),Yh(p)){if(w=p.stateNode,g=p.memoizedProps,w[Hi]=p,(k=w.nodeValue!==g)&&(c=ds,c!==null))switch(c.tag){case 3:Uh(w.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Uh(w.nodeValue,g,(c.mode&1)!==0)}k&&(p.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[Hi]=p,p.stateNode=w}return ga(p),null;case 13:if(Qr(on),w=p.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(nn&&fs!==null&&(p.mode&1)!==0&&(p.flags&128)===0)z5(),$u(),p.flags|=98560,k=!1;else if(k=Yh(p),w!==null&&w.dehydrated!==null){if(c===null){if(!k)throw Error(r(318));if(k=p.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Hi]=p}else $u(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ga(p),k=!1}else ci!==null&&(Qv(ci),ci=null),k=!0;if(!k)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=g,p):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(p.child.flags|=8192,(p.mode&1)!==0&&(c===null||(on.current&1)!==0?Ln===0&&(Ln=3):e1())),p.updateQueue!==null&&(p.flags|=4),ga(p),null);case 4:return zu(),Bv(c,p),c===null&&Jf(p.stateNode.containerInfo),ga(p),null;case 10:return mv(p.type._context),ga(p),null;case 17:return Ka(p.type)&&qh(),ga(p),null;case 19:if(Qr(on),k=p.memoizedState,k===null)return ga(p),null;if(w=(p.flags&128)!==0,L=k.rendering,L===null)if(w)dp(k,!1);else{if(Ln!==0||c!==null&&(c.flags&128)!==0)for(c=p.child;c!==null;){if(L=t0(c),L!==null){for(p.flags|=128,dp(k,!1),w=L.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),p.subtreeFlags=0,w=g,g=p.child;g!==null;)k=g,c=w,k.flags&=14680066,L=k.alternate,L===null?(k.childLanes=0,k.lanes=c,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=L.childLanes,k.lanes=L.lanes,k.child=L.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=L.memoizedProps,k.memoizedState=L.memoizedState,k.updateQueue=L.updateQueue,k.type=L.type,c=L.dependencies,k.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return Hr(on,on.current&1|2),p.child}c=c.sibling}k.tail!==null&&Tt()>Ku&&(p.flags|=128,w=!0,dp(k,!1),p.lanes=4194304)}else{if(!w)if(c=t0(L),c!==null){if(p.flags|=128,w=!0,g=c.updateQueue,g!==null&&(p.updateQueue=g,p.flags|=4),dp(k,!0),k.tail===null&&k.tailMode==="hidden"&&!L.alternate&&!nn)return ga(p),null}else 2*Tt()-k.renderingStartTime>Ku&&g!==1073741824&&(p.flags|=128,w=!0,dp(k,!1),p.lanes=4194304);k.isBackwards?(L.sibling=p.child,p.child=L):(g=k.last,g!==null?g.sibling=L:p.child=L,k.last=L)}return k.tail!==null?(p=k.tail,k.rendering=p,k.tail=p.sibling,k.renderingStartTime=Tt(),p.sibling=null,g=on.current,Hr(on,w?g&1|2:g&1),p):(ga(p),null);case 22:case 23:return Jv(),w=p.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(p.flags|=8192),w&&(p.mode&1)!==0?(ps&1073741824)!==0&&(ga(p),p.subtreeFlags&6&&(p.flags|=8192)):ga(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function NG(c,p){switch(lv(p),p.tag){case 1:return Ka(p.type)&&qh(),c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 3:return zu(),Qr(Ga),Qr(ma),Nv(),c=p.flags,(c&65536)!==0&&(c&128)===0?(p.flags=c&-65537|128,p):null;case 5:return bv(p),null;case 13:if(Qr(on),c=p.memoizedState,c!==null&&c.dehydrated!==null){if(p.alternate===null)throw Error(r(340));$u()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 19:return Qr(on),null;case 4:return zu(),null;case 10:return mv(p.type._context),null;case 22:case 23:return Jv(),null;case 24:return null;default:return null}}var u0=!1,xa=!1,SG=typeof WeakSet=="function"?WeakSet:Set,it=null;function qu(c,p){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){mn(c,p,w)}else g.current=null}function Uv(c,p,g){try{g()}catch(w){mn(c,p,w)}}var B3=!1;function wG(c,p){if(Jb=Bi,c=y5(),Gb(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var T=w.anchorOffset,k=w.focusNode;w=w.focusOffset;try{g.nodeType,k.nodeType}catch{g=null;break e}var L=0,te=-1,ne=-1,Ne=0,Ue=0,ze=c,Be=null;t:for(;;){for(var nt;ze!==g||T!==0&&ze.nodeType!==3||(te=L+T),ze!==k||w!==0&&ze.nodeType!==3||(ne=L+w),ze.nodeType===3&&(L+=ze.nodeValue.length),(nt=ze.firstChild)!==null;)Be=ze,ze=nt;for(;;){if(ze===c)break t;if(Be===g&&++Ne===T&&(te=L),Be===k&&++Ue===w&&(ne=L),(nt=ze.nextSibling)!==null)break;ze=Be,Be=ze.parentNode}ze=nt}g=te===-1||ne===-1?null:{start:te,end:ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(ev={focusedElem:c,selectionRange:g},Bi=!1,it=p;it!==null;)if(p=it,c=p.child,(p.subtreeFlags&1028)!==0&&c!==null)c.return=p,it=c;else for(;it!==null;){p=it;try{var ut=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var xt=ut.memoizedProps,vn=ut.memoizedState,he=p.stateNode,le=he.getSnapshotBeforeUpdate(p.elementType===p.type?xt:ui(p.type,xt),vn);he.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var be=p.stateNode.containerInfo;be.nodeType===1?be.textContent="":be.nodeType===9&&be.documentElement&&be.removeChild(be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){mn(p,p.return,Ke)}if(c=p.sibling,c!==null){c.return=p.return,it=c;break}it=p.return}return ut=B3,B3=!1,ut}function fp(c,p,g){var w=p.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&c)===c){var k=T.destroy;T.destroy=void 0,k!==void 0&&Uv(p,g,k)}T=T.next}while(T!==w)}}function d0(c,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==p)}}function zv(c){var p=c.ref;if(p!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof p=="function"?p(c):p.current=c}}function U3(c){var p=c.alternate;p!==null&&(c.alternate=null,U3(p)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(p=c.stateNode,p!==null&&(delete p[Hi],delete p[tp],delete p[av],delete p[sG],delete p[iG])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function z3(c){return c.tag===5||c.tag===3||c.tag===4}function H3(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||z3(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Hv(c,p,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,p?g.nodeType===8?g.parentNode.insertBefore(c,p):g.insertBefore(c,p):(g.nodeType===8?(p=g.parentNode,p.insertBefore(c,g)):(p=g,p.appendChild(c)),g=g._reactRootContainer,g!=null||p.onclick!==null||(p.onclick=zh));else if(w!==4&&(c=c.child,c!==null))for(Hv(c,p,g),c=c.sibling;c!==null;)Hv(c,p,g),c=c.sibling}function qv(c,p,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,p?g.insertBefore(c,p):g.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(qv(c,p,g),c=c.sibling;c!==null;)qv(c,p,g),c=c.sibling}var sa=null,di=!1;function Cl(c,p,g){for(g=g.child;g!==null;)q3(c,p,g),g=g.sibling}function q3(c,p,g){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(hl,g)}catch{}switch(g.tag){case 5:xa||qu(g,p);case 6:var w=sa,T=di;sa=null,Cl(c,p,g),sa=w,di=T,sa!==null&&(di?(c=sa,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):sa.removeChild(g.stateNode));break;case 18:sa!==null&&(di?(c=sa,g=g.stateNode,c.nodeType===8?nv(c.parentNode,g):c.nodeType===1&&nv(c,g),ko(c)):nv(sa,g.stateNode));break;case 4:w=sa,T=di,sa=g.stateNode.containerInfo,di=!0,Cl(c,p,g),sa=w,di=T;break;case 0:case 11:case 14:case 15:if(!xa&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){T=w=w.next;do{var k=T,L=k.destroy;k=k.tag,L!==void 0&&((k&2)!==0||(k&4)!==0)&&Uv(g,p,L),T=T.next}while(T!==w)}Cl(c,p,g);break;case 1:if(!xa&&(qu(g,p),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(te){mn(g,p,te)}Cl(c,p,g);break;case 21:Cl(c,p,g);break;case 22:g.mode&1?(xa=(w=xa)||g.memoizedState!==null,Cl(c,p,g),xa=w):Cl(c,p,g);break;default:Cl(c,p,g)}}function G3(c){var p=c.updateQueue;if(p!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new SG),p.forEach(function(w){var T=RG.bind(null,c,w);g.has(w)||(g.add(w),w.then(T,T))})}}function fi(c,p){var g=p.deletions;if(g!==null)for(var w=0;w<g.length;w++){var T=g[w];try{var k=c,L=p,te=L;e:for(;te!==null;){switch(te.tag){case 5:sa=te.stateNode,di=!1;break e;case 3:sa=te.stateNode.containerInfo,di=!0;break e;case 4:sa=te.stateNode.containerInfo,di=!0;break e}te=te.return}if(sa===null)throw Error(r(160));q3(k,L,T),sa=null,di=!1;var ne=T.alternate;ne!==null&&(ne.return=null),T.return=null}catch(Ne){mn(T,p,Ne)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)K3(p,c),p=p.sibling}function K3(c,p){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(fi(p,c),Ki(c),w&4){try{fp(3,c,c.return),d0(3,c)}catch(xt){mn(c,c.return,xt)}try{fp(5,c,c.return)}catch(xt){mn(c,c.return,xt)}}break;case 1:fi(p,c),Ki(c),w&512&&g!==null&&qu(g,g.return);break;case 5:if(fi(p,c),Ki(c),w&512&&g!==null&&qu(g,g.return),c.flags&32){var T=c.stateNode;try{Mt(T,"")}catch(xt){mn(c,c.return,xt)}}if(w&4&&(T=c.stateNode,T!=null)){var k=c.memoizedProps,L=g!==null?g.memoizedProps:k,te=c.type,ne=c.updateQueue;if(c.updateQueue=null,ne!==null)try{te==="input"&&k.type==="radio"&&k.name!=null&&Re(T,k),Lt(te,L);var Ne=Lt(te,k);for(L=0;L<ne.length;L+=2){var Ue=ne[L],ze=ne[L+1];Ue==="style"?ht(T,ze):Ue==="dangerouslySetInnerHTML"?Me(T,ze):Ue==="children"?Mt(T,ze):A(T,Ue,ze,Ne)}switch(te){case"input":Te(T,k);break;case"textarea":ge(T,k);break;case"select":var Be=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!k.multiple;var nt=k.value;nt!=null?Ze(T,!!k.multiple,nt,!1):Be!==!!k.multiple&&(k.defaultValue!=null?Ze(T,!!k.multiple,k.defaultValue,!0):Ze(T,!!k.multiple,k.multiple?[]:"",!1))}T[tp]=k}catch(xt){mn(c,c.return,xt)}}break;case 6:if(fi(p,c),Ki(c),w&4){if(c.stateNode===null)throw Error(r(162));T=c.stateNode,k=c.memoizedProps;try{T.nodeValue=k}catch(xt){mn(c,c.return,xt)}}break;case 3:if(fi(p,c),Ki(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{ko(p.containerInfo)}catch(xt){mn(c,c.return,xt)}break;case 4:fi(p,c),Ki(c);break;case 13:fi(p,c),Ki(c),T=c.child,T.flags&8192&&(k=T.memoizedState!==null,T.stateNode.isHidden=k,!k||T.alternate!==null&&T.alternate.memoizedState!==null||(Wv=Tt())),w&4&&G3(c);break;case 22:if(Ue=g!==null&&g.memoizedState!==null,c.mode&1?(xa=(Ne=xa)||Ue,fi(p,c),xa=Ne):fi(p,c),Ki(c),w&8192){if(Ne=c.memoizedState!==null,(c.stateNode.isHidden=Ne)&&!Ue&&(c.mode&1)!==0)for(it=c,Ue=c.child;Ue!==null;){for(ze=it=Ue;it!==null;){switch(Be=it,nt=Be.child,Be.tag){case 0:case 11:case 14:case 15:fp(4,Be,Be.return);break;case 1:qu(Be,Be.return);var ut=Be.stateNode;if(typeof ut.componentWillUnmount=="function"){w=Be,g=Be.return;try{p=w,ut.props=p.memoizedProps,ut.state=p.memoizedState,ut.componentWillUnmount()}catch(xt){mn(w,g,xt)}}break;case 5:qu(Be,Be.return);break;case 22:if(Be.memoizedState!==null){Y3(ze);continue}}nt!==null?(nt.return=Be,it=nt):Y3(ze)}Ue=Ue.sibling}e:for(Ue=null,ze=c;;){if(ze.tag===5){if(Ue===null){Ue=ze;try{T=ze.stateNode,Ne?(k=T.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(te=ze.stateNode,ne=ze.memoizedProps.style,L=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,te.style.display=Yr("display",L))}catch(xt){mn(c,c.return,xt)}}}else if(ze.tag===6){if(Ue===null)try{ze.stateNode.nodeValue=Ne?"":ze.memoizedProps}catch(xt){mn(c,c.return,xt)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===c)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===c)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===c)break e;Ue===ze&&(Ue=null),ze=ze.return}Ue===ze&&(Ue=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:fi(p,c),Ki(c),w&4&&G3(c);break;case 21:break;default:fi(p,c),Ki(c)}}function Ki(c){var p=c.flags;if(p&2){try{e:{for(var g=c.return;g!==null;){if(z3(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 5:var T=w.stateNode;w.flags&32&&(Mt(T,""),w.flags&=-33);var k=H3(c);qv(c,k,T);break;case 3:case 4:var L=w.stateNode.containerInfo,te=H3(c);Hv(c,te,L);break;default:throw Error(r(161))}}catch(ne){mn(c,c.return,ne)}c.flags&=-3}p&4096&&(c.flags&=-4097)}function jG(c,p,g){it=c,W3(c)}function W3(c,p,g){for(var w=(c.mode&1)!==0;it!==null;){var T=it,k=T.child;if(T.tag===22&&w){var L=T.memoizedState!==null||u0;if(!L){var te=T.alternate,ne=te!==null&&te.memoizedState!==null||xa;te=u0;var Ne=xa;if(u0=L,(xa=ne)&&!Ne)for(it=T;it!==null;)L=it,ne=L.child,L.tag===22&&L.memoizedState!==null?X3(T):ne!==null?(ne.return=L,it=ne):X3(T);for(;k!==null;)it=k,W3(k),k=k.sibling;it=T,u0=te,xa=Ne}V3(c)}else(T.subtreeFlags&8772)!==0&&k!==null?(k.return=T,it=k):V3(c)}}function V3(c){for(;it!==null;){var p=it;if((p.flags&8772)!==0){var g=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:xa||d0(5,p);break;case 1:var w=p.stateNode;if(p.flags&4&&!xa)if(g===null)w.componentDidMount();else{var T=p.elementType===p.type?g.memoizedProps:ui(p.type,g.memoizedProps);w.componentDidUpdate(T,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var k=p.updateQueue;k!==null&&Y5(p,k,w);break;case 3:var L=p.updateQueue;if(L!==null){if(g=null,p.child!==null)switch(p.child.tag){case 5:g=p.child.stateNode;break;case 1:g=p.child.stateNode}Y5(p,L,g)}break;case 5:var te=p.stateNode;if(g===null&&p.flags&4){g=te;var ne=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&g.focus();break;case"img":ne.src&&(g.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Ne=p.alternate;if(Ne!==null){var Ue=Ne.memoizedState;if(Ue!==null){var ze=Ue.dehydrated;ze!==null&&ko(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xa||p.flags&512&&zv(p)}catch(Be){mn(p,p.return,Be)}}if(p===c){it=null;break}if(g=p.sibling,g!==null){g.return=p.return,it=g;break}it=p.return}}function Y3(c){for(;it!==null;){var p=it;if(p===c){it=null;break}var g=p.sibling;if(g!==null){g.return=p.return,it=g;break}it=p.return}}function X3(c){for(;it!==null;){var p=it;try{switch(p.tag){case 0:case 11:case 15:var g=p.return;try{d0(4,p)}catch(ne){mn(p,g,ne)}break;case 1:var w=p.stateNode;if(typeof w.componentDidMount=="function"){var T=p.return;try{w.componentDidMount()}catch(ne){mn(p,T,ne)}}var k=p.return;try{zv(p)}catch(ne){mn(p,k,ne)}break;case 5:var L=p.return;try{zv(p)}catch(ne){mn(p,L,ne)}}}catch(ne){mn(p,p.return,ne)}if(p===c){it=null;break}var te=p.sibling;if(te!==null){te.return=p.return,it=te;break}it=p.return}}var EG=Math.ceil,f0=_.ReactCurrentDispatcher,Gv=_.ReactCurrentOwner,Ts=_.ReactCurrentBatchConfig,vr=0,Qn=null,_n=null,ia=0,ps=0,Gu=wl(0),Ln=0,pp=null,Rc=0,p0=0,Kv=0,mp=null,Va=null,Wv=0,Ku=1/0,Fo=null,m0=!1,Vv=null,Tl=null,h0=!1,kl=null,g0=0,hp=0,Yv=null,x0=-1,y0=0;function Oa(){return(vr&6)!==0?Tt():x0!==-1?x0:x0=Tt()}function Ol(c){return(c.mode&1)===0?1:(vr&2)!==0&&ia!==0?ia&-ia:lG.transition!==null?(y0===0&&(y0=gt()),y0):(c=yr,c!==0||(c=window.event,c=c===void 0?16:Au(c.type)),c)}function pi(c,p,g,w){if(50<hp)throw hp=0,Yv=null,Error(r(185));ei(c,g,w),((vr&2)===0||c!==Qn)&&(c===Qn&&((vr&2)===0&&(p0|=g),Ln===4&&Rl(c,ia)),Ya(c,w),g===1&&vr===0&&(p.mode&1)===0&&(Ku=Tt()+500,Kh&&El()))}function Ya(c,p){var g=c.callbackNode;Sc(c,p);var w=gl(c,c===Qn?ia:0);if(w===0)g!==null&&zt(g),c.callbackNode=null,c.callbackPriority=0;else if(p=w&-w,c.callbackPriority!==p){if(g!=null&&zt(g),p===1)c.tag===0?oG(Z3.bind(null,c)):L5(Z3.bind(null,c)),nG(function(){(vr&6)===0&&El()}),g=null;else{switch(js(w)){case 1:g=Ct;break;case 4:g=_t;break;case 16:g=ss;break;case 536870912:g=Nc;break;default:g=ss}g=ik(g,Q3.bind(null,c))}c.callbackPriority=p,c.callbackNode=g}}function Q3(c,p){if(x0=-1,y0=0,(vr&6)!==0)throw Error(r(327));var g=c.callbackNode;if(Wu()&&c.callbackNode!==g)return null;var w=gl(c,c===Qn?ia:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||p)p=b0(c,w);else{p=w;var T=vr;vr|=2;var k=ek();(Qn!==c||ia!==p)&&(Fo=null,Ku=Tt()+500,Dc(c,p));do try{CG();break}catch(te){J3(c,te)}while(!0);pv(),f0.current=k,vr=T,_n!==null?p=0:(Qn=null,ia=0,p=Ln)}if(p!==0){if(p===2&&(T=$i(c),T!==0&&(w=T,p=Xv(c,T))),p===1)throw g=pp,Dc(c,0),Rl(c,w),Ya(c,Tt()),g;if(p===6)Rl(c,w);else{if(T=c.current.alternate,(w&30)===0&&!_G(T)&&(p=b0(c,w),p===2&&(k=$i(c),k!==0&&(w=k,p=Xv(c,k))),p===1))throw g=pp,Dc(c,0),Rl(c,w),Ya(c,Tt()),g;switch(c.finishedWork=T,c.finishedLanes=w,p){case 0:case 1:throw Error(r(345));case 2:Ic(c,Va,Fo);break;case 3:if(Rl(c,w),(w&130023424)===w&&(p=Wv+500-Tt(),10<p)){if(gl(c,0)!==0)break;if(T=c.suspendedLanes,(T&w)!==w){Oa(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=rv(Ic.bind(null,c,Va,Fo),p);break}Ic(c,Va,Fo);break;case 4:if(Rl(c,w),(w&4194240)===w)break;for(p=c.eventTimes,T=-1;0<w;){var L=31-Kn(w);k=1<<L,L=p[L],L>T&&(T=L),w&=~k}if(w=T,w=Tt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*EG(w/1960))-w,10<w){c.timeoutHandle=rv(Ic.bind(null,c,Va,Fo),w);break}Ic(c,Va,Fo);break;case 5:Ic(c,Va,Fo);break;default:throw Error(r(329))}}}return Ya(c,Tt()),c.callbackNode===g?Q3.bind(null,c):null}function Xv(c,p){var g=mp;return c.current.memoizedState.isDehydrated&&(Dc(c,p).flags|=256),c=b0(c,p),c!==2&&(p=Va,Va=g,p!==null&&Qv(p)),c}function Qv(c){Va===null?Va=c:Va.push.apply(Va,c)}function _G(c){for(var p=c;;){if(p.flags&16384){var g=p.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var T=g[w],k=T.getSnapshot;T=T.value;try{if(!li(k(),T))return!1}catch{return!1}}}if(g=p.child,p.subtreeFlags&16384&&g!==null)g.return=p,p=g;else{if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Rl(c,p){for(p&=~Kv,p&=~p0,c.suspendedLanes|=p,c.pingedLanes&=~p,c=c.expirationTimes;0<p;){var g=31-Kn(p),w=1<<g;c[g]=-1,p&=~w}}function Z3(c){if((vr&6)!==0)throw Error(r(327));Wu();var p=gl(c,0);if((p&1)===0)return Ya(c,Tt()),null;var g=b0(c,p);if(c.tag!==0&&g===2){var w=$i(c);w!==0&&(p=w,g=Xv(c,w))}if(g===1)throw g=pp,Dc(c,0),Rl(c,p),Ya(c,Tt()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=p,Ic(c,Va,Fo),Ya(c,Tt()),null}function Zv(c,p){var g=vr;vr|=1;try{return c(p)}finally{vr=g,vr===0&&(Ku=Tt()+500,Kh&&El())}}function Pc(c){kl!==null&&kl.tag===0&&(vr&6)===0&&Wu();var p=vr;vr|=1;var g=Ts.transition,w=yr;try{if(Ts.transition=null,yr=1,c)return c()}finally{yr=w,Ts.transition=g,vr=p,(vr&6)===0&&El()}}function Jv(){ps=Gu.current,Qr(Gu)}function Dc(c,p){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,rG(g)),_n!==null)for(g=_n.return;g!==null;){var w=g;switch(lv(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&qh();break;case 3:zu(),Qr(Ga),Qr(ma),Nv();break;case 5:bv(w);break;case 4:zu();break;case 13:Qr(on);break;case 19:Qr(on);break;case 10:mv(w.type._context);break;case 22:case 23:Jv()}g=g.return}if(Qn=c,_n=c=Pl(c.current,null),ia=ps=p,Ln=0,pp=null,Kv=p0=Rc=0,Va=mp=null,Tc!==null){for(p=0;p<Tc.length;p++)if(g=Tc[p],w=g.interleaved,w!==null){g.interleaved=null;var T=w.next,k=g.pending;if(k!==null){var L=k.next;k.next=T,w.next=L}g.pending=w}Tc=null}return c}function J3(c,p){do{var g=_n;try{if(pv(),r0.current=i0,n0){for(var w=ln.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}n0=!1}if(Oc=0,Xn=Mn=ln=null,op=!1,lp=0,Gv.current=null,g===null||g.return===null){Ln=1,pp=p,_n=null;break}e:{var k=c,L=g.return,te=g,ne=p;if(p=ia,te.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ne=ne,Ue=te,ze=Ue.tag;if((Ue.mode&1)===0&&(ze===0||ze===11||ze===15)){var Be=Ue.alternate;Be?(Ue.updateQueue=Be.updateQueue,Ue.memoizedState=Be.memoizedState,Ue.lanes=Be.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var nt=j3(L);if(nt!==null){nt.flags&=-257,E3(nt,L,te,k,p),nt.mode&1&&w3(k,Ne,p),p=nt,ne=Ne;var ut=p.updateQueue;if(ut===null){var xt=new Set;xt.add(ne),p.updateQueue=xt}else ut.add(ne);break e}else{if((p&1)===0){w3(k,Ne,p),e1();break e}ne=Error(r(426))}}else if(nn&&te.mode&1){var vn=j3(L);if(vn!==null){(vn.flags&65536)===0&&(vn.flags|=256),E3(vn,L,te,k,p),dv(Hu(ne,te));break e}}k=ne=Hu(ne,te),Ln!==4&&(Ln=2),mp===null?mp=[k]:mp.push(k),k=L;do{switch(k.tag){case 3:k.flags|=65536,p&=-p,k.lanes|=p;var he=N3(k,ne,p);V5(k,he);break e;case 1:te=ne;var le=k.type,be=k.stateNode;if((k.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(Tl===null||!Tl.has(be)))){k.flags|=65536,p&=-p,k.lanes|=p;var Ke=S3(k,te,p);V5(k,Ke);break e}}k=k.return}while(k!==null)}rk(g)}catch(Nt){p=Nt,_n===g&&g!==null&&(_n=g=g.return);continue}break}while(!0)}function ek(){var c=f0.current;return f0.current=i0,c===null?i0:c}function e1(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Qn===null||(Rc&268435455)===0&&(p0&268435455)===0||Rl(Qn,ia)}function b0(c,p){var g=vr;vr|=2;var w=ek();(Qn!==c||ia!==p)&&(Fo=null,Dc(c,p));do try{AG();break}catch(T){J3(c,T)}while(!0);if(pv(),vr=g,f0.current=w,_n!==null)throw Error(r(261));return Qn=null,ia=0,Ln}function AG(){for(;_n!==null;)tk(_n)}function CG(){for(;_n!==null&&!Js();)tk(_n)}function tk(c){var p=sk(c.alternate,c,ps);c.memoizedProps=c.pendingProps,p===null?rk(c):_n=p,Gv.current=null}function rk(c){var p=c;do{var g=p.alternate;if(c=p.return,(p.flags&32768)===0){if(g=vG(g,p,ps),g!==null){_n=g;return}}else{if(g=NG(g,p),g!==null){g.flags&=32767,_n=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Ln=6,_n=null;return}}if(p=p.sibling,p!==null){_n=p;return}_n=p=c}while(p!==null);Ln===0&&(Ln=5)}function Ic(c,p,g){var w=yr,T=Ts.transition;try{Ts.transition=null,yr=1,TG(c,p,g,w)}finally{Ts.transition=T,yr=w}return null}function TG(c,p,g,w){do Wu();while(kl!==null);if((vr&6)!==0)throw Error(r(327));g=c.finishedWork;var T=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var k=g.lanes|g.childLanes;if(ti(c,k),c===Qn&&(_n=Qn=null,ia=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||h0||(h0=!0,ik(ss,function(){return Wu(),null})),k=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||k){k=Ts.transition,Ts.transition=null;var L=yr;yr=1;var te=vr;vr|=4,Gv.current=null,wG(c,g),K3(g,c),Yq(ev),Bi=!!Jb,ev=Jb=null,c.current=g,jG(g),as(),vr=te,yr=L,Ts.transition=k}else c.current=g;if(h0&&(h0=!1,kl=c,g0=T),k=c.pendingLanes,k===0&&(Tl=null),Ba(g.stateNode),Ya(c,Tt()),p!==null)for(w=c.onRecoverableError,g=0;g<p.length;g++)T=p[g],w(T.value,{componentStack:T.stack,digest:T.digest});if(m0)throw m0=!1,c=Vv,Vv=null,c;return(g0&1)!==0&&c.tag!==0&&Wu(),k=c.pendingLanes,(k&1)!==0?c===Yv?hp++:(hp=0,Yv=c):hp=0,El(),null}function Wu(){if(kl!==null){var c=js(g0),p=Ts.transition,g=yr;try{if(Ts.transition=null,yr=16>c?16:c,kl===null)var w=!1;else{if(c=kl,kl=null,g0=0,(vr&6)!==0)throw Error(r(331));var T=vr;for(vr|=4,it=c.current;it!==null;){var k=it,L=k.child;if((it.flags&16)!==0){var te=k.deletions;if(te!==null){for(var ne=0;ne<te.length;ne++){var Ne=te[ne];for(it=Ne;it!==null;){var Ue=it;switch(Ue.tag){case 0:case 11:case 15:fp(8,Ue,k)}var ze=Ue.child;if(ze!==null)ze.return=Ue,it=ze;else for(;it!==null;){Ue=it;var Be=Ue.sibling,nt=Ue.return;if(U3(Ue),Ue===Ne){it=null;break}if(Be!==null){Be.return=nt,it=Be;break}it=nt}}}var ut=k.alternate;if(ut!==null){var xt=ut.child;if(xt!==null){ut.child=null;do{var vn=xt.sibling;xt.sibling=null,xt=vn}while(xt!==null)}}it=k}}if((k.subtreeFlags&2064)!==0&&L!==null)L.return=k,it=L;else e:for(;it!==null;){if(k=it,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:fp(9,k,k.return)}var he=k.sibling;if(he!==null){he.return=k.return,it=he;break e}it=k.return}}var le=c.current;for(it=le;it!==null;){L=it;var be=L.child;if((L.subtreeFlags&2064)!==0&&be!==null)be.return=L,it=be;else e:for(L=le;it!==null;){if(te=it,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:d0(9,te)}}catch(Nt){mn(te,te.return,Nt)}if(te===L){it=null;break e}var Ke=te.sibling;if(Ke!==null){Ke.return=te.return,it=Ke;break e}it=te.return}}if(vr=T,El(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(hl,c)}catch{}w=!0}return w}finally{yr=g,Ts.transition=p}}return!1}function nk(c,p,g){p=Hu(g,p),p=N3(c,p,1),c=Al(c,p,1),p=Oa(),c!==null&&(ei(c,1,p),Ya(c,p))}function mn(c,p,g){if(c.tag===3)nk(c,c,g);else for(;p!==null;){if(p.tag===3){nk(p,c,g);break}else if(p.tag===1){var w=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Tl===null||!Tl.has(w))){c=Hu(g,c),c=S3(p,c,1),p=Al(p,c,1),c=Oa(),p!==null&&(ei(p,1,c),Ya(p,c));break}}p=p.return}}function kG(c,p,g){var w=c.pingCache;w!==null&&w.delete(p),p=Oa(),c.pingedLanes|=c.suspendedLanes&g,Qn===c&&(ia&g)===g&&(Ln===4||Ln===3&&(ia&130023424)===ia&&500>Tt()-Wv?Dc(c,0):Kv|=g),Ya(c,p)}function ak(c,p){p===0&&((c.mode&1)===0?p=1:(p=fn,fn<<=1,(fn&130023424)===0&&(fn=4194304)));var g=Oa();c=Mo(c,p),c!==null&&(ei(c,p,g),Ya(c,g))}function OG(c){var p=c.memoizedState,g=0;p!==null&&(g=p.retryLane),ak(c,g)}function RG(c,p){var g=0;switch(c.tag){case 13:var w=c.stateNode,T=c.memoizedState;T!==null&&(g=T.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(p),ak(c,g)}var sk;sk=function(c,p,g){if(c!==null)if(c.memoizedProps!==p.pendingProps||Ga.current)Wa=!0;else{if((c.lanes&g)===0&&(p.flags&128)===0)return Wa=!1,bG(c,p,g);Wa=(c.flags&131072)!==0}else Wa=!1,nn&&(p.flags&1048576)!==0&&$5(p,Vh,p.index);switch(p.lanes=0,p.tag){case 2:var w=p.type;c0(c,p),c=p.pendingProps;var T=Iu(p,ma.current);Uu(p,g),T=jv(null,p,w,c,T,g);var k=Ev();return p.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ka(w)?(k=!0,Gh(p)):k=!1,p.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,xv(p),T.updater=o0,p.stateNode=T,T._reactInternals=p,Ov(p,w,c,g),p=Iv(null,p,w,!0,k,g)):(p.tag=0,nn&&k&&ov(p),ka(null,p,T,g),p=p.child),p;case 16:w=p.elementType;e:{switch(c0(c,p),c=p.pendingProps,T=w._init,w=T(w._payload),p.type=w,T=p.tag=DG(w),c=ui(w,c),T){case 0:p=Dv(null,p,w,c,g);break e;case 1:p=O3(null,p,w,c,g);break e;case 11:p=_3(null,p,w,c,g);break e;case 14:p=A3(null,p,w,ui(w.type,c),g);break e}throw Error(r(306,w,""))}return p;case 0:return w=p.type,T=p.pendingProps,T=p.elementType===w?T:ui(w,T),Dv(c,p,w,T,g);case 1:return w=p.type,T=p.pendingProps,T=p.elementType===w?T:ui(w,T),O3(c,p,w,T,g);case 3:e:{if(R3(p),c===null)throw Error(r(387));w=p.pendingProps,k=p.memoizedState,T=k.element,W5(c,p),e0(p,w,null,g);var L=p.memoizedState;if(w=L.element,k.isDehydrated)if(k={element:w,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},p.updateQueue.baseState=k,p.memoizedState=k,p.flags&256){T=Hu(Error(r(423)),p),p=P3(c,p,w,g,T);break e}else if(w!==T){T=Hu(Error(r(424)),p),p=P3(c,p,w,g,T);break e}else for(fs=Sl(p.stateNode.containerInfo.firstChild),ds=p,nn=!0,ci=null,g=G5(p,null,w,g),p.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if($u(),w===T){p=$o(c,p,g);break e}ka(c,p,w,g)}p=p.child}return p;case 5:return X5(p),c===null&&uv(p),w=p.type,T=p.pendingProps,k=c!==null?c.memoizedProps:null,L=T.children,tv(w,T)?L=null:k!==null&&tv(w,k)&&(p.flags|=32),k3(c,p),ka(c,p,L,g),p.child;case 6:return c===null&&uv(p),null;case 13:return D3(c,p,g);case 4:return yv(p,p.stateNode.containerInfo),w=p.pendingProps,c===null?p.child=Fu(p,null,w,g):ka(c,p,w,g),p.child;case 11:return w=p.type,T=p.pendingProps,T=p.elementType===w?T:ui(w,T),_3(c,p,w,T,g);case 7:return ka(c,p,p.pendingProps,g),p.child;case 8:return ka(c,p,p.pendingProps.children,g),p.child;case 12:return ka(c,p,p.pendingProps.children,g),p.child;case 10:e:{if(w=p.type._context,T=p.pendingProps,k=p.memoizedProps,L=T.value,Hr(Qh,w._currentValue),w._currentValue=L,k!==null)if(li(k.value,L)){if(k.children===T.children&&!Ga.current){p=$o(c,p,g);break e}}else for(k=p.child,k!==null&&(k.return=p);k!==null;){var te=k.dependencies;if(te!==null){L=k.child;for(var ne=te.firstContext;ne!==null;){if(ne.context===w){if(k.tag===1){ne=Lo(-1,g&-g),ne.tag=2;var Ne=k.updateQueue;if(Ne!==null){Ne=Ne.shared;var Ue=Ne.pending;Ue===null?ne.next=ne:(ne.next=Ue.next,Ue.next=ne),Ne.pending=ne}}k.lanes|=g,ne=k.alternate,ne!==null&&(ne.lanes|=g),hv(k.return,g,p),te.lanes|=g;break}ne=ne.next}}else if(k.tag===10)L=k.type===p.type?null:k.child;else if(k.tag===18){if(L=k.return,L===null)throw Error(r(341));L.lanes|=g,te=L.alternate,te!==null&&(te.lanes|=g),hv(L,g,p),L=k.sibling}else L=k.child;if(L!==null)L.return=k;else for(L=k;L!==null;){if(L===p){L=null;break}if(k=L.sibling,k!==null){k.return=L.return,L=k;break}L=L.return}k=L}ka(c,p,T.children,g),p=p.child}return p;case 9:return T=p.type,w=p.pendingProps.children,Uu(p,g),T=As(T),w=w(T),p.flags|=1,ka(c,p,w,g),p.child;case 14:return w=p.type,T=ui(w,p.pendingProps),T=ui(w.type,T),A3(c,p,w,T,g);case 15:return C3(c,p,p.type,p.pendingProps,g);case 17:return w=p.type,T=p.pendingProps,T=p.elementType===w?T:ui(w,T),c0(c,p),p.tag=1,Ka(w)?(c=!0,Gh(p)):c=!1,Uu(p,g),b3(p,w,T),Ov(p,w,T,g),Iv(null,p,w,!0,c,g);case 19:return M3(c,p,g);case 22:return T3(c,p,g)}throw Error(r(156,p.tag))};function ik(c,p){return Ir(c,p)}function PG(c,p,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(c,p,g,w){return new PG(c,p,g,w)}function t1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function DG(c){if(typeof c=="function")return t1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===F)return 11;if(c===G)return 14}return 2}function Pl(c,p){var g=c.alternate;return g===null?(g=ks(c.tag,p,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=p,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,p=c.dependencies,g.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function v0(c,p,g,w,T,k){var L=2;if(w=c,typeof c=="function")t1(c)&&(L=1);else if(typeof c=="string")L=5;else e:switch(c){case R:return Mc(g.children,T,k,p);case I:L=8,T|=8;break;case O:return c=ks(12,g,p,T|2),c.elementType=O,c.lanes=k,c;case Y:return c=ks(13,g,p,T),c.elementType=Y,c.lanes=k,c;case D:return c=ks(19,g,p,T),c.elementType=D,c.lanes=k,c;case V:return N0(g,T,k,p);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case B:L=10;break e;case q:L=9;break e;case F:L=11;break e;case G:L=14;break e;case U:L=16,w=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return p=ks(L,g,p,T),p.elementType=c,p.type=w,p.lanes=k,p}function Mc(c,p,g,w){return c=ks(7,c,w,p),c.lanes=g,c}function N0(c,p,g,w){return c=ks(22,c,w,p),c.elementType=V,c.lanes=g,c.stateNode={isHidden:!1},c}function r1(c,p,g){return c=ks(6,c,null,p),c.lanes=g,c}function n1(c,p,g){return p=ks(4,c.children!==null?c.children:[],c.key,p),p.lanes=g,p.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},p}function IG(c,p,g,w,T){this.tag=p,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Et(0),this.expirationTimes=Et(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.identifierPrefix=w,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function a1(c,p,g,w,T,k,L,te,ne){return c=new IG(c,p,g,te,ne),p===1?(p=1,k===!0&&(p|=8)):p=0,k=ks(3,null,null,p),c.current=k,k.stateNode=c,k.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},xv(k),c}function MG(c,p,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:w==null?null:""+w,children:c,containerInfo:p,implementation:g}}function ok(c){if(!c)return jl;c=c._reactInternals;e:{if(st(c)!==c||c.tag!==1)throw Error(r(170));var p=c;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ka(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(Ka(g))return I5(c,g,p)}return p}function lk(c,p,g,w,T,k,L,te,ne){return c=a1(g,w,!0,c,T,k,L,te,ne),c.context=ok(null),g=c.current,w=Oa(),T=Ol(g),k=Lo(w,T),k.callback=p??null,Al(g,k,T),c.current.lanes=T,ei(c,T,w),Ya(c,w),c}function S0(c,p,g,w){var T=p.current,k=Oa(),L=Ol(T);return g=ok(g),p.context===null?p.context=g:p.pendingContext=g,p=Lo(k,L),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),c=Al(T,p,L),c!==null&&(pi(c,T,L,k),Jh(c,T,L)),L}function w0(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function ck(c,p){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<p?g:p}}function s1(c,p){ck(c,p),(c=c.alternate)&&ck(c,p)}function LG(){return null}var uk=typeof reportError=="function"?reportError:function(c){console.error(c)};function i1(c){this._internalRoot=c}j0.prototype.render=i1.prototype.render=function(c){var p=this._internalRoot;if(p===null)throw Error(r(409));S0(c,p,null,null)},j0.prototype.unmount=i1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var p=c.containerInfo;Pc(function(){S0(null,c,null,null)}),p[Ro]=null}};function j0(c){this._internalRoot=c}j0.prototype.unstable_scheduleHydration=function(c){if(c){var p=Eo();c={blockedOn:null,target:c,priority:p};for(var g=0;g<ja.length&&p!==0&&p<ja[g].priority;g++);ja.splice(g,0,c),g===0&&To(c)}};function o1(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function E0(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function dk(){}function $G(c,p,g,w,T){if(T){if(typeof w=="function"){var k=w;w=function(){var Ne=w0(L);k.call(Ne)}}var L=lk(p,w,c,0,null,!1,!1,"",dk);return c._reactRootContainer=L,c[Ro]=L.current,Jf(c.nodeType===8?c.parentNode:c),Pc(),L}for(;T=c.lastChild;)c.removeChild(T);if(typeof w=="function"){var te=w;w=function(){var Ne=w0(ne);te.call(Ne)}}var ne=a1(c,0,!1,null,null,!1,!1,"",dk);return c._reactRootContainer=ne,c[Ro]=ne.current,Jf(c.nodeType===8?c.parentNode:c),Pc(function(){S0(p,ne,g,w)}),ne}function _0(c,p,g,w,T){var k=g._reactRootContainer;if(k){var L=k;if(typeof T=="function"){var te=T;T=function(){var ne=w0(L);te.call(ne)}}S0(p,L,c,T)}else L=$G(g,p,c,T,w);return w0(L)}wc=function(c){switch(c.tag){case 3:var p=c.stateNode;if(p.current.memoizedState.isDehydrated){var g=Ss(p.pendingLanes);g!==0&&(Dn(p,g|1),Ya(p,Tt()),(vr&6)===0&&(Ku=Tt()+500,El()))}break;case 13:Pc(function(){var w=Mo(c,1);if(w!==null){var T=Oa();pi(w,c,1,T)}}),s1(c,1)}},jo=function(c){if(c.tag===13){var p=Mo(c,134217728);if(p!==null){var g=Oa();pi(p,c,134217728,g)}s1(c,134217728)}},is=function(c){if(c.tag===13){var p=Ol(c),g=Mo(c,p);if(g!==null){var w=Oa();pi(g,c,p,w)}s1(c,p)}},Eo=function(){return yr},_o=function(c,p){var g=yr;try{return yr=c,p()}finally{yr=g}},Nr=function(c,p,g){switch(p){case"input":if(Te(c,g),p=g.name,g.type==="radio"&&p!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<g.length;p++){var w=g[p];if(w!==c&&w.form===c.form){var T=Hh(w);if(!T)throw Error(r(90));fe(w),Te(w,T)}}}break;case"textarea":ge(c,g);break;case"select":p=g.value,p!=null&&Ze(c,!!g.multiple,p,!1)}},mr=Zv,lr=Pc;var FG={usingClientEntryPoint:!1,Events:[rp,Pu,Hh,et,rr,Zv]},gp={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BG={bundleType:gp.bundleType,version:gp.version,rendererPackageName:gp.rendererPackageName,rendererConfig:gp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=xr(c),c===null?null:c.stateNode},findFiberByHostInstance:gp.findFiberByHostInstance||LG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var A0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!A0.isDisabled&&A0.supportsFiber)try{hl=A0.inject(BG),wn=A0}catch{}}return Xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FG,Xa.createPortal=function(c,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o1(p))throw Error(r(200));return MG(c,p,null,g)},Xa.createRoot=function(c,p){if(!o1(c))throw Error(r(299));var g=!1,w="",T=uk;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(w=p.identifierPrefix),p.onRecoverableError!==void 0&&(T=p.onRecoverableError)),p=a1(c,1,!1,null,null,g,!1,w,T),c[Ro]=p.current,Jf(c.nodeType===8?c.parentNode:c),new i1(p)},Xa.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var p=c._reactInternals;if(p===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=xr(p),c=c===null?null:c.stateNode,c},Xa.flushSync=function(c){return Pc(c)},Xa.hydrate=function(c,p,g){if(!E0(p))throw Error(r(200));return _0(null,c,p,!0,g)},Xa.hydrateRoot=function(c,p,g){if(!o1(c))throw Error(r(405));var w=g!=null&&g.hydratedSources||null,T=!1,k="",L=uk;if(g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(k=g.identifierPrefix),g.onRecoverableError!==void 0&&(L=g.onRecoverableError)),p=lk(p,null,c,1,g??null,T,!1,k,L),c[Ro]=p.current,Jf(c),w)for(c=0;c<w.length;c++)g=w[c],T=g._getVersion,T=T(g._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[g,T]:p.mutableSourceEagerHydrationData.push(g,T);return new j0(p)},Xa.render=function(c,p,g){if(!E0(p))throw Error(r(200));return _0(null,c,p,!1,g)},Xa.unmountComponentAtNode=function(c){if(!E0(c))throw Error(r(40));return c._reactRootContainer?(Pc(function(){_0(null,null,c,!1,function(){c._reactRootContainer=null,c[Ro]=null})}),!0):!1},Xa.unstable_batchedUpdates=Zv,Xa.unstable_renderSubtreeIntoContainer=function(c,p,g,w){if(!E0(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return _0(c,p,g,!1,w)},Xa.version="18.3.1-next-f1338f8080-20240426",Xa}var kk;function Q6(){if(kk)return f1.exports;kk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),f1.exports=kK(),f1.exports}var Ok;function OK(){if(Ok)return k0;Ok=1;var e=Q6();return k0.createRoot=e.createRoot,k0.hydrateRoot=e.hydrateRoot,k0}var RK=OK();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DK=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Rk=e=>{const t=DK(e);return t.charAt(0).toUpperCase()+t.slice(1)},Z6=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},u)=>y.createElement("svg",{ref:u,...IK,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Z6("lucide",s),...l},[...o.map(([d,f])=>y.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,t)=>{const r=y.forwardRef(({className:n,...s},i)=>y.createElement(MK,{ref:i,iconNode:t,className:Z6(`lucide-${PK(Rk(e))}`,`lucide-${e}`,n),...s}));return r.displayName=Rk(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],lh=Le("activity",LK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],J6=Le("arrow-down-right",$K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xi=Le("arrow-left",FK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],UK=Le("arrow-right-left",BK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hm=Le("arrow-right",zK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],qK=Le("arrow-up-down",HK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],e7=Le("arrow-up-right",GK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],WK=Le("ban",KK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ch=Le("bell",VK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],XK=Le("bell-ring",YK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ZK=Le("book-open",QK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],eW=Le("bookmark-check",JK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],rW=Le("bookmark",tW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],t7=Le("bot",nW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],sW=Le("box",aW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],gm=Le("brain",iW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],xd=Le("building-2",oW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],r7=Le("calendar-clock",lW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],uW=Le("calendar-days",cW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wi=Le("calendar",dW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kd=Le("chart-column",fW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nu=Le("check",pW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hn=Le("chevron-down",mW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],au=Le("chevron-left",hW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vs=Le("chevron-right",gW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ks=Le("chevron-up",xW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ua=Le("circle-alert",yW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]],ic=Le("circle-arrow-right",bW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ji=Le("circle-check-big",vW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oo=Le("circle-check",NW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],wW=Le("circle-dot",SW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KA=Le("circle-help",jW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],_W=Le("circle-pause",EW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],CW=Le("circle-user",AW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Od=Le("circle-x",TW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OW=Le("circle",kW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],WA=Le("clipboard-check",RW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],n7=Le("clipboard-list",PW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],Sy=Le("clock-3",DW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],lo=Le("clock",IW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LW=Le("copy",MW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],a7=Le("cpu",$W);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],pc=Le("database",FW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],su=Le("download",BW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],zW=Le("ellipsis",UW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qn=Le("external-link",HW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gE=Le("eye-off",qW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rd=Le("eye",GW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],WW=Le("file-pen-line",KW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],YW=Le("file-search",VW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],QW=Le("file-spreadsheet",XW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iu=Le("file-text",ZW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Pd=Le("funnel",JW);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],tV=Le("git-compare",eV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],nV=Le("heart",rV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Un=Le("history",aV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]],iV=Le("hospital",sV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],wf=Le("house",oV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xm=Le("info",lV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Dd=Le("layers",cV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],uh=Le("layout-dashboard",uV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],s7=Le("link-2",dV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],xE=Le("link",fV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ym=Le("lock",pV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],VA=Le("log-out",mV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gV=Le("mail",hV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dg=Le("map-pin",xV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],i7=Le("menu",yV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ws=Le("message-square",bV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M5 12h14",key:"1ays0h"}]],NV=Le("minus",vV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],wV=Le("notebook-text",SV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],YA=Le("package",jV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],_V=Le("palette",EV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],CV=Le("pen-line",AV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]],Pk=Le("phone-call",TV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],ts=Le("phone",kV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],o7=Le("plus",OV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dk=Le("refresh-cw",RV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],DV=Le("rocket",PV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],l7=Le("save",IV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],dh=Le("search",MV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bm=Le("send",LV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],c7=Le("settings-2",$V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fh=Le("settings",FV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],u7=Le("shield-alert",BV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bu=Le("shield-check",UV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ho=Le("shield",zV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]],qV=Le("sigma",HV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],KV=Le("sliders-vertical",GV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ig=Le("sparkles",WV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],YV=Le("star-off",VV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],QV=Le("star",XV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],JV=Le("stethoscope",ZV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],tY=Le("timer",eY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nY=Le("trash-2",rY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],d7=Le("trending-up",aY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],da=Le("triangle-alert",sY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Hp=Le("user-check",iY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],lY=Le("user-round-check",oY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],h1=Le("user-x",cY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],go=Le("user",uY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],co=Le("users",dY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],XA=Le("workflow",fY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vu=Le("x",pY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Mg=Le("zap",mY),f7="/neuro-shield/logo.png";function QA({size:e=40,className:t="",showText:r=!1,textColor:n,subtitle:s,subtitleColor:i,variant:o="dark"}){const l=n||(o==="dark"?"#ffffff":"#1e293b"),u=i||(o==="dark"?"#94a3b8":"#64748b");return a.jsxs("div",{className:`flex items-center gap-2.5 ${t}`,children:[a.jsx("img",{src:f7,alt:"Neuro-Shield",width:e,height:e,className:"shrink-0 object-contain",draggable:!1}),r&&a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"font-bold text-sm leading-tight truncate",style:{color:l},children:"Neuro-Shield"}),s&&a.jsx("p",{className:"text-[10px] leading-tight truncate",style:{color:u},children:s})]})]})}function hY({size:e=80,className:t=""}){return a.jsxs("div",{className:`flex flex-col items-center ${t}`,children:[a.jsx("img",{src:f7,alt:"Neuro-Shield",width:e,height:e,className:"object-contain",draggable:!1}),a.jsx("h1",{className:"mt-4 text-4xl font-bold bg-gradient-to-r from-blue-700 via-teal-600 to-teal-500 bg-clip-text text-transparent",children:"Neuro-Shield"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"    "})]})}function p7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=p7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Gt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=p7(e))&&(n&&(n+=" "),n+=t);return n}const gY=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},xY=(e,t)=>({classGroupId:e,validator:t}),m7=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Lg="-",Ik=[],yY="arbitrary..",bY=e=>{const t=NY(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return vY(o);const l=o.split(Lg),u=l[0]===""&&l.length>1?1:0;return h7(l,u,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const u=n[o],d=r[o];return u?d?gY(d,u):u:d||Ik}return r[o]||Ik}}},h7=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],i=r.nextPart.get(s);if(i){const d=h7(e,t+1,i);if(d)return d}const o=r.validators;if(o===null)return;const l=t===0?e.join(Lg):e.slice(t).join(Lg),u=o.length;for(let d=0;d<u;d++){const f=o[d];if(f.validator(l))return f.classGroupId}},vY=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?yY+n:void 0})(),NY=e=>{const{theme:t,classGroups:r}=e;return SY(r,t)},SY=(e,t)=>{const r=m7();for(const n in e){const s=e[n];ZA(s,r,n,t)}return r},ZA=(e,t,r,n)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];wY(o,t,r,n)}},wY=(e,t,r,n)=>{if(typeof e=="string"){jY(e,t,r);return}if(typeof e=="function"){EY(e,t,r,n);return}_Y(e,t,r,n)},jY=(e,t,r)=>{const n=e===""?t:g7(t,e);n.classGroupId=r},EY=(e,t,r,n)=>{if(AY(e)){ZA(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(xY(r,e))},_Y=(e,t,r,n)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[l,u]=s[o];ZA(u,g7(t,l),r,n)}},g7=(e,t)=>{let r=e;const n=t.split(Lg),s=n.length;for(let i=0;i<s;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=m7(),r.nextPart.set(o,l)),r=l}return r},AY=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,CY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const s=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return s(i,o),o},set(i,o){i in r?r[i]=o:s(i,o)}}},yE="!",Mk=":",TY=[],Lk=(e,t,r,n,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),kY=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const i=[];let o=0,l=0,u=0,d;const f=s.length;for(let N=0;N<f;N++){const b=s[N];if(o===0&&l===0){if(b===Mk){i.push(s.slice(u,N)),u=N+1;continue}if(b==="/"){d=N;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const m=i.length===0?s:s.slice(u);let h=m,x=!1;m.endsWith(yE)?(h=m.slice(0,-1),x=!0):m.startsWith(yE)&&(h=m.slice(1),x=!0);const v=d&&d>u?d-u:void 0;return Lk(i,x,h,v)};if(t){const s=t+Mk,i=n;n=o=>o.startsWith(s)?i(o.slice(s.length)):Lk(TY,!1,o,void 0,!0)}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},OY=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let s=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",u=t.has(o);l||u?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(o)):s.push(o)}return s.length>0&&(s.sort(),n.push(...s)),n}},RY=e=>({cache:CY(e.cacheSize),parseClassName:kY(e),sortModifiers:OY(e),...bY(e)}),PY=/\s+/,DY=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],l=e.trim().split(PY);let u="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:m,modifiers:h,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:N}=r(f);if(m){u=f+(u.length>0?" "+u:u);continue}let b=!!N,S=n(b?v.substring(0,N):v);if(!S){if(!b){u=f+(u.length>0?" "+u:u);continue}if(S=n(v),!S){u=f+(u.length>0?" "+u:u);continue}b=!1}const j=h.length===0?"":h.length===1?h[0]:i(h).join(":"),A=x?j+yE:j,_=A+S;if(o.indexOf(_)>-1)continue;o.push(_);const E=s(S,b);for(let C=0;C<E.length;++C){const R=E[C];o.push(A+R)}u=f+(u.length>0?" "+u:u)}return u},IY=(...e)=>{let t=0,r,n,s="";for(;t<e.length;)(r=e[t++])&&(n=x7(r))&&(s&&(s+=" "),s+=n);return s},x7=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=x7(e[n]))&&(r&&(r+=" "),r+=t);return r},MY=(e,...t)=>{let r,n,s,i;const o=u=>{const d=t.reduce((f,m)=>m(f),e());return r=RY(d),n=r.cache.get,s=r.cache.set,i=l,l(u)},l=u=>{const d=n(u);if(d)return d;const f=DY(u,r);return s(u,f),f};return i=o,(...u)=>i(IY(...u))},LY=[],$n=e=>{const t=r=>r[e]||LY;return t.isThemeGetter=!0,t},y7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,b7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$Y=/^\d+\/\d+$/,FY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vu=e=>$Y.test(e),tr=e=>!!e&&!Number.isNaN(Number(e)),Il=e=>!!e&&Number.isInteger(Number(e)),g1=e=>e.endsWith("%")&&tr(e.slice(0,-1)),Bo=e=>FY.test(e),qY=()=>!0,GY=e=>BY.test(e)&&!UY.test(e),v7=()=>!1,KY=e=>zY.test(e),WY=e=>HY.test(e),VY=e=>!dt(e)&&!ft(e),YY=e=>jf(e,w7,v7),dt=e=>y7.test(e),Lc=e=>jf(e,j7,GY),x1=e=>jf(e,eX,tr),$k=e=>jf(e,N7,v7),XY=e=>jf(e,S7,WY),O0=e=>jf(e,E7,KY),ft=e=>b7.test(e),yp=e=>Ef(e,j7),QY=e=>Ef(e,tX),Fk=e=>Ef(e,N7),ZY=e=>Ef(e,w7),JY=e=>Ef(e,S7),R0=e=>Ef(e,E7,!0),jf=(e,t,r)=>{const n=y7.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Ef=(e,t,r=!1)=>{const n=b7.exec(e);return n?n[1]?t(n[1]):r:!1},N7=e=>e==="position"||e==="percentage",S7=e=>e==="image"||e==="url",w7=e=>e==="length"||e==="size"||e==="bg-size",j7=e=>e==="length",eX=e=>e==="number",tX=e=>e==="family-name",E7=e=>e==="shadow",rX=()=>{const e=$n("color"),t=$n("font"),r=$n("text"),n=$n("font-weight"),s=$n("tracking"),i=$n("leading"),o=$n("breakpoint"),l=$n("container"),u=$n("spacing"),d=$n("radius"),f=$n("shadow"),m=$n("inset-shadow"),h=$n("text-shadow"),x=$n("drop-shadow"),v=$n("blur"),N=$n("perspective"),b=$n("aspect"),S=$n("ease"),j=$n("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[..._(),ft,dt],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],I=()=>[ft,dt,u],O=()=>[Vu,"full","auto",...I()],B=()=>[Il,"none","subgrid",ft,dt],q=()=>["auto",{span:["full",Il,ft,dt]},Il,ft,dt],F=()=>[Il,"auto",ft,dt],Y=()=>["auto","min","max","fr",ft,dt],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...I()],V=()=>[Vu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],M=()=>[e,ft,dt],Q=()=>[..._(),Fk,$k,{position:[ft,dt]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",ZY,YY,{size:[ft,dt]}],K=()=>[g1,yp,Lc],Z=()=>["","none","full",d,ft,dt],se=()=>["",tr,yp,Lc],ie=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[tr,g1,Fk,$k],je=()=>["","none",v,ft,dt],pe=()=>["none",tr,ft,dt],Ee=()=>["none",tr,ft,dt],me=()=>[tr,ft,dt],fe=()=>[Vu,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bo],breakpoint:[Bo],color:[qY],container:[Bo],"drop-shadow":[Bo],ease:["in","out","in-out"],font:[VY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bo],shadow:[Bo],spacing:["px",tr],text:[Bo],"text-shadow":[Bo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vu,dt,ft,b]}],container:["container"],columns:[{columns:[tr,dt,ft,l]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Il,"auto",ft,dt]}],basis:[{basis:[Vu,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tr,Vu,"auto","initial","none",dt]}],grow:[{grow:["",tr,ft,dt]}],shrink:[{shrink:["",tr,ft,dt]}],order:[{order:[Il,"first","last","none",ft,dt]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[l,"screen",...V()]}],"min-w":[{"min-w":[l,"screen","none",...V()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",r,yp,Lc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ft,x1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",g1,dt]}],"font-family":[{font:[QY,dt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ft,dt]}],"line-clamp":[{"line-clamp":[tr,"none",ft,x1]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",ft,dt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,dt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[tr,"from-font","auto",ft,Lc]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[tr,"auto",ft,dt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Il,ft,dt],radial:["",ft,dt],conic:[Il,ft,dt]},JY,XY]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tr,ft,dt]}],"outline-w":[{outline:["",tr,yp,Lc]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",f,R0,O0]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",m,R0,O0]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[tr,Lc]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",h,R0,O0]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[tr,ft,dt]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tr]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[ft,dt]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[tr]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,dt]}],filter:[{filter:["","none",ft,dt]}],blur:[{blur:je()}],brightness:[{brightness:[tr,ft,dt]}],contrast:[{contrast:[tr,ft,dt]}],"drop-shadow":[{"drop-shadow":["","none",x,R0,O0]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",tr,ft,dt]}],"hue-rotate":[{"hue-rotate":[tr,ft,dt]}],invert:[{invert:["",tr,ft,dt]}],saturate:[{saturate:[tr,ft,dt]}],sepia:[{sepia:["",tr,ft,dt]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,dt]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[tr,ft,dt]}],"backdrop-contrast":[{"backdrop-contrast":[tr,ft,dt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tr,ft,dt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tr,ft,dt]}],"backdrop-invert":[{"backdrop-invert":["",tr,ft,dt]}],"backdrop-opacity":[{"backdrop-opacity":[tr,ft,dt]}],"backdrop-saturate":[{"backdrop-saturate":[tr,ft,dt]}],"backdrop-sepia":[{"backdrop-sepia":["",tr,ft,dt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,dt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tr,"initial",ft,dt]}],ease:[{ease:["linear","initial",S,ft,dt]}],delay:[{delay:[tr,ft,dt]}],animate:[{animate:["none",j,ft,dt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ft,dt]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[ft,dt,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,dt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,dt]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[tr,yp,Lc,x1]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nX=MY(rX);function ce(...e){return nX(Gt(e))}function _r({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:ce("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function un({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:ce("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function dn({className:e,...t}){return a.jsx("h4",{"data-slot":"card-title",className:ce("leading-none",e),...t})}function Yl({className:e,...t}){return a.jsx("p",{"data-slot":"card-description",className:ce("text-muted-foreground",e),...t})}function Ar({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:ce("px-6 [&:last-child]:pb-6",e),...t})}function Bk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nu(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Bk(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Bk(e[s],null)}}}}function ir(...e){return y.useCallback(Nu(...e),e)}var aX=Symbol.for("react.lazy"),$g=GA[" use ".trim().toString()];function sX(e){return typeof e=="object"&&e!==null&&"then"in e}function _7(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===aX&&"_payload"in e&&sX(e._payload)}function wy(e){const t=iX(e),r=y.forwardRef((n,s)=>{let{children:i,...o}=n;_7(i)&&typeof $g=="function"&&(i=$g(i._payload));const l=y.Children.toArray(i),u=l.find(lX);if(u){const d=u.props.children,f=l.map(m=>m===u?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:m);return a.jsx(t,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var A7=wy("Slot");function iX(e){const t=y.forwardRef((r,n)=>{let{children:s,...i}=r;if(_7(s)&&typeof $g=="function"&&(s=$g(s._payload)),y.isValidElement(s)){const o=uX(s),l=cX(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Nu(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oX=Symbol("radix.slottable");function lX(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oX}function cX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function uX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Uk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zk=Gt,JA=(e,t)=>r=>{var n;if(t?.variants==null)return zk(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(d=>{const f=r?.[d],m=i?.[d];if(f===null)return null;const h=Uk(f)||Uk(m);return s[d][h]}),l=r&&Object.entries(r).reduce((d,f)=>{let[m,h]=f;return h===void 0||(d[m]=h),d},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:m,className:h,...x}=f;return Object.entries(x).every(v=>{let[N,b]=v;return Array.isArray(b)?b.includes({...i,...l}[N]):{...i,...l}[N]===b})?[...d,m,h]:d},[]);return zk(e,o,u,r?.class,r?.className)},dX=JA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function pt({className:e,variant:t,size:r,asChild:n=!1,...s}){const i=n?A7:"button";return a.jsx(i,{"data-slot":"button",className:ce(dX({variant:t,size:r,className:e})),...s})}function fr({className:e,type:t,...r}){return a.jsx("input",{type:t,"data-slot":"input",className:ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var _f=Q6();const C7=Rr(_f);var fX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pX=fX.reduce((e,t)=>{const r=wy(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),mX="Label",T7=y.forwardRef((e,t)=>a.jsx(pX.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));T7.displayName=mX;var hX=T7;function bt({className:e,...t}){return a.jsx(hX,{"data-slot":"label",className:ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function gX(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,u=y.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:u,children:o})};n.displayName=e+"Provider";function s(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Xs(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),u=r.length;r=[...r,o];const d=m=>{const{scope:h,children:x,...v}=m,N=h?.[e]?.[u]||l,b=y.useMemo(()=>v,Object.values(v));return a.jsx(N.Provider,{value:b,children:x})};d.displayName=i+"Provider";function f(m,h){const x=h?.[e]?.[u]||l,v=y.useContext(x);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const u=l?.[e]||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return s.scopeName=e,[n,xX(s,...t)]}function xX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function wt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}var Pn=globalThis?.document?y.useLayoutEffect:()=>{},yX=GA[" useInsertionEffect ".trim().toString()]||Pn;function sl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=bX({defaultProp:t,onChange:r}),l=e!==void 0,u=l?e:s;{const f=y.useRef(e!==void 0);y.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=y.useCallback(f=>{if(l){const m=vX(f)?f(e):f;m!==e&&o.current?.(m)}else i(f)},[l,e,i,o]);return[u,d]}function bX({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),s=y.useRef(r),i=y.useRef(t);return yX(()=>{i.current=t},[t]),y.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,n,i]}function vX(e){return typeof e=="function"}function eC(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function tC(e){const[t,r]=y.useState(void 0);return Pn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function NX(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var La=e=>{const{present:t,children:r}=e,n=SX(t),s=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=ir(n.ref,wX(s));return typeof r=="function"||n.isPresent?y.cloneElement(s,{ref:i}):null};La.displayName="Presence";function SX(e){const[t,r]=y.useState(),n=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,u]=NX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=P0(n.current);i.current=l==="mounted"?d:"none"},[l]),Pn(()=>{const d=n.current,f=s.current;if(f!==e){const h=i.current,x=P0(d);e?u("MOUNT"):x==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&h!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Pn(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,m=x=>{const N=P0(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&N&&(u("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=x=>{x.target===t&&(i.current=P0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function P0(e){return e?.animationName||"none"}function wX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jX(e){const t=EX(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),u=l.find(AX);if(u){const d=u.props.children,f=l.map(m=>m===u?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:m);return a.jsx(t,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function EX(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=TX(s),l=CX(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Nu(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _X=Symbol("radix.slottable");function AX(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_X}function CX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function TX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=kX.reduce((e,t)=>{const r=jX(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function OX(e,t){e&&_f.flushSync(()=>e.dispatchEvent(t))}var jy="Checkbox",[RX]=Xs(jy),[PX,rC]=RX(jy);function DX(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:m}=e,[h,x]=sl({prop:r,defaultProp:s??!1,onChange:u,caller:jy}),[v,N]=y.useState(null),[b,S]=y.useState(null),j=y.useRef(!1),A=v?!!o||!!v.closest("form"):!0,_={checked:h,disabled:i,setChecked:x,control:v,setControl:N,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:j,required:d,defaultChecked:nc(s)?!1:s,isFormControl:A,bubbleInput:b,setBubbleInput:S};return a.jsx(PX,{scope:t,..._,children:IX(m)?m(_):n})}var k7="CheckboxTrigger",O7=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:u,required:d,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:x,bubbleInput:v}=rC(k7,e),N=ir(s,f),b=y.useRef(u);return y.useEffect(()=>{const S=i?.form;if(S){const j=()=>m(b.current);return S.addEventListener("reset",j),()=>S.removeEventListener("reset",j)}},[i,m]),a.jsx(Kt.button,{type:"button",role:"checkbox","aria-checked":nc(u)?"mixed":u,"aria-required":d,"data-state":L7(u),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:N,onKeyDown:wt(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:wt(r,S=>{m(j=>nc(j)?!0:!j),v&&x&&(h.current=S.isPropagationStopped(),h.current||S.stopPropagation())})})});O7.displayName=k7;var R7=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:u,onCheckedChange:d,form:f,...m}=e;return a.jsx(DX,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:f,value:u,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(O7,{...m,ref:t,__scopeCheckbox:r}),h&&a.jsx(M7,{__scopeCheckbox:r})]})})});R7.displayName=jy;var P7="CheckboxIndicator",D7=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=rC(P7,r);return a.jsx(La,{present:n||nc(i.checked)||i.checked===!0,children:a.jsx(Kt.span,{"data-state":L7(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});D7.displayName=P7;var I7="CheckboxBubbleInput",M7=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:u,name:d,value:f,form:m,bubbleInput:h,setBubbleInput:x}=rC(I7,e),v=ir(r,x),N=eC(i),b=tC(n);y.useEffect(()=>{const j=h;if(!j)return;const A=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(A,"checked").set,C=!s.current;if(N!==i&&E){const R=new Event("click",{bubbles:C});j.indeterminate=nc(i),E.call(j,nc(i)?!1:i),j.dispatchEvent(R)}},[h,N,i,s]);const S=y.useRef(nc(i)?!1:i);return a.jsx(Kt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:l,disabled:u,name:d,value:f,form:m,...t,tabIndex:-1,ref:v,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});M7.displayName=I7;function IX(e){return typeof e=="function"}function nc(e){return e==="indeterminate"}function L7(e){return nc(e)?"indeterminate":e?"checked":"unchecked"}function vg({className:e,...t}){return a.jsx(R7,{"data-slot":"checkbox",className:ce("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(D7,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(nu,{className:"size-3.5"})})})}const MX=JA("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function yd({className:e,variant:t,...r}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:ce(MX({variant:t}),e),...r})}function bd({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:ce("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function LX(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const $X=e=>{switch(e){case"success":return UX;case"info":return HX;case"warning":return zX;case"error":return qX;default:return null}},FX=Array(12).fill(0),BX=({visible:e,className:t})=>z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},z.createElement("div",{className:"sonner-spinner"},FX.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),UX=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zX=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HX=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qX=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GX=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),KX=()=>{const[e,t]=z.useState(document.hidden);return z.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let bE=1;class WX{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:bE++,o=this.toasts.find(u=>u.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:n}),{...u,...t,id:i,dismissible:l,title:n}):u):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=s.then(async d=>{if(o=["resolve",d],z.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(YX(d)&&!d.ok){i=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,v=typeof m=="object"&&!z.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:h,...v})}else if(d instanceof Error){i=!1;const m=typeof r.error=="function"?await r.error(d):r.error,h=typeof r.description=="function"?await r.description(d):r.description,v=typeof m=="object"&&!z.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:h,...v})}else if(r.success!==void 0){i=!1;const m=typeof r.success=="function"?await r.success(d):r.success,h=typeof r.description=="function"?await r.description(d):r.description,v=typeof m=="object"&&!z.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:h,...v})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){i=!1;const f=typeof r.error=="function"?await r.error(d):r.error,m=typeof r.description=="function"?await r.description(d):r.description,x=typeof f=="object"&&!z.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:m,...x})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,r)=>{const n=r?.id||bE++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Za=new WX,VX=(e,t)=>{const r=t?.id||bE++;return Za.addToast({title:e,...t,id:r}),r},YX=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",XX=VX,QX=()=>Za.toasts,ZX=()=>Za.getActiveToasts(),Ye=Object.assign(XX,{success:Za.success,info:Za.info,warning:Za.warning,error:Za.error,custom:Za.custom,message:Za.message,promise:Za.promise,dismiss:Za.dismiss,loading:Za.loading},{getHistory:QX,getToasts:ZX});LX("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function D0(e){return e.label!==void 0}const JX=3,eQ="24px",tQ="16px",Hk=4e3,rQ=356,nQ=14,aQ=45,sQ=200;function Wi(...e){return e.filter(Boolean).join(" ")}function iQ(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const oQ=e=>{var t,r,n,s,i,o,l,u,d;const{invert:f,toast:m,unstyled:h,interacting:x,setHeights:v,visibleToasts:N,heights:b,index:S,toasts:j,expanded:A,removeToast:_,defaultRichColors:E,closeButton:C,style:R,cancelButtonStyle:I,actionButtonStyle:O,className:B="",descriptionClassName:q="",duration:F,position:Y,gap:D,expandByDefault:G,classNames:U,icons:V,closeButtonAriaLabel:M="Close toast"}=e,[Q,J]=z.useState(null),[P,K]=z.useState(null),[Z,se]=z.useState(!1),[ie,Se]=z.useState(!1),[oe,je]=z.useState(!1),[pe,Ee]=z.useState(!1),[me,fe]=z.useState(!1),[Xe,H]=z.useState(0),[ve,Re]=z.useState(0),Te=z.useRef(m.duration||F||Hk),Qe=z.useRef(null),$e=z.useRef(null),jt=S===0,Ze=S+1<=N,De=m.type,He=m.dismissible!==!1,ge=m.className||"",Jt=m.descriptionClassName||"",Vt=z.useMemo(()=>b.findIndex(et=>et.toastId===m.id)||0,[b,m.id]),Lr=z.useMemo(()=>{var et;return(et=m.closeButton)!=null?et:C},[m.closeButton,C]),we=z.useMemo(()=>m.duration||F||Hk,[m.duration,F]),Me=z.useRef(0),Mt=z.useRef(0),ar=z.useRef(0),Ur=z.useRef(null),[Yr,ht]=Y.split("-"),Sn=z.useMemo(()=>b.reduce((et,rr,mr)=>mr>=Vt?et:et+rr.height,0),[b,Vt]),Zt=KX(),Lt=m.invert||f,Pe=De==="loading";Mt.current=z.useMemo(()=>Vt*D+Sn,[Vt,Sn]),z.useEffect(()=>{Te.current=we},[we]),z.useEffect(()=>{se(!0)},[]),z.useEffect(()=>{const et=$e.current;if(et){const rr=et.getBoundingClientRect().height;return Re(rr),v(mr=>[{toastId:m.id,height:rr,position:m.position},...mr]),()=>v(mr=>mr.filter(lr=>lr.toastId!==m.id))}},[v,m.id]),z.useLayoutEffect(()=>{if(!Z)return;const et=$e.current,rr=et.style.height;et.style.height="auto";const mr=et.getBoundingClientRect().height;et.style.height=rr,Re(mr),v(lr=>lr.find(hr=>hr.toastId===m.id)?lr.map(hr=>hr.toastId===m.id?{...hr,height:mr}:hr):[{toastId:m.id,height:mr,position:m.position},...lr])},[Z,m.title,m.description,v,m.id,m.jsx,m.action,m.cancel]);const $t=z.useCallback(()=>{Se(!0),H(Mt.current),v(et=>et.filter(rr=>rr.toastId!==m.id)),setTimeout(()=>{_(m)},sQ)},[m,_,v,Mt]);z.useEffect(()=>{if(m.promise&&De==="loading"||m.duration===1/0||m.type==="loading")return;let et;return A||x||Zt?(()=>{if(ar.current<Me.current){const lr=new Date().getTime()-Me.current;Te.current=Te.current-lr}ar.current=new Date().getTime()})():(()=>{Te.current!==1/0&&(Me.current=new Date().getTime(),et=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),$t()},Te.current))})(),()=>clearTimeout(et)},[A,x,m,De,Zt,$t]),z.useEffect(()=>{m.delete&&($t(),m.onDismiss==null||m.onDismiss.call(m,m))},[$t,m.delete]);function Nr(){var et;if(V?.loading){var rr;return z.createElement("div",{className:Wi(U?.loader,m==null||(rr=m.classNames)==null?void 0:rr.loader,"sonner-loader"),"data-visible":De==="loading"},V.loading)}return z.createElement(BX,{className:Wi(U?.loader,m==null||(et=m.classNames)==null?void 0:et.loader),visible:De==="loading"})}const Ut=m.icon||V?.[De]||$X(De);var Xt,Tr;return z.createElement("li",{tabIndex:0,ref:$e,className:Wi(B,ge,U?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,U?.default,U?.[De],m==null||(r=m.classNames)==null?void 0:r[De]),"data-sonner-toast":"","data-rich-colors":(Xt=m.richColors)!=null?Xt:E,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":Z,"data-promise":!!m.promise,"data-swiped":me,"data-removed":ie,"data-visible":Ze,"data-y-position":Yr,"data-x-position":ht,"data-index":S,"data-front":jt,"data-swiping":oe,"data-dismissible":He,"data-type":De,"data-invert":Lt,"data-swipe-out":pe,"data-swipe-direction":P,"data-expanded":!!(A||G&&Z),"data-testid":m.testId,style:{"--index":S,"--toasts-before":S,"--z-index":j.length-S,"--offset":`${ie?Xe:Mt.current}px`,"--initial-height":G?"auto":`${ve}px`,...R,...m.style},onDragEnd:()=>{je(!1),J(null),Ur.current=null},onPointerDown:et=>{et.button!==2&&(Pe||!He||(Qe.current=new Date,H(Mt.current),et.target.setPointerCapture(et.pointerId),et.target.tagName!=="BUTTON"&&(je(!0),Ur.current={x:et.clientX,y:et.clientY})))},onPointerUp:()=>{var et,rr,mr;if(pe||!He)return;Ur.current=null;const lr=Number(((et=$e.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sr=Number(((rr=$e.current)==null?void 0:rr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hr=new Date().getTime()-((mr=Qe.current)==null?void 0:mr.getTime()),cr=Q==="x"?lr:Sr,sn=Math.abs(cr)/hr;if(Math.abs(cr)>=aQ||sn>.11){H(Mt.current),m.onDismiss==null||m.onDismiss.call(m,m),K(Q==="x"?lr>0?"right":"left":Sr>0?"down":"up"),$t(),Ee(!0);return}else{var wr,Oe;(wr=$e.current)==null||wr.style.setProperty("--swipe-amount-x","0px"),(Oe=$e.current)==null||Oe.style.setProperty("--swipe-amount-y","0px")}fe(!1),je(!1),J(null)},onPointerMove:et=>{var rr,mr,lr;if(!Ur.current||!He||((rr=window.getSelection())==null?void 0:rr.toString().length)>0)return;const hr=et.clientY-Ur.current.y,cr=et.clientX-Ur.current.x;var sn;const wr=(sn=e.swipeDirections)!=null?sn:iQ(Y);!Q&&(Math.abs(cr)>1||Math.abs(hr)>1)&&J(Math.abs(cr)>Math.abs(hr)?"x":"y");let Oe={x:0,y:0};const ye=Ve=>1/(1.5+Math.abs(Ve)/20);if(Q==="y"){if(wr.includes("top")||wr.includes("bottom"))if(wr.includes("top")&&hr<0||wr.includes("bottom")&&hr>0)Oe.y=hr;else{const Ve=hr*ye(hr);Oe.y=Math.abs(Ve)<Math.abs(hr)?Ve:hr}}else if(Q==="x"&&(wr.includes("left")||wr.includes("right")))if(wr.includes("left")&&cr<0||wr.includes("right")&&cr>0)Oe.x=cr;else{const Ve=cr*ye(cr);Oe.x=Math.abs(Ve)<Math.abs(cr)?Ve:cr}(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&fe(!0),(mr=$e.current)==null||mr.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(lr=$e.current)==null||lr.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},Lr&&!m.jsx&&De!=="loading"?z.createElement("button",{"aria-label":M,"data-disabled":Pe,"data-close-button":!0,onClick:Pe||!He?()=>{}:()=>{$t(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Wi(U?.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(Tr=V?.close)!=null?Tr:GX):null,(De||m.icon||m.promise)&&m.icon!==null&&(V?.[De]!==null||m.icon)?z.createElement("div",{"data-icon":"",className:Wi(U?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Nr():null,m.type!=="loading"?Ut:null):null,z.createElement("div",{"data-content":"",className:Wi(U?.content,m==null||(i=m.classNames)==null?void 0:i.content)},z.createElement("div",{"data-title":"",className:Wi(U?.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?z.createElement("div",{"data-description":"",className:Wi(q,Jt,U?.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),z.isValidElement(m.cancel)?m.cancel:m.cancel&&D0(m.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:et=>{D0(m.cancel)&&He&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,et),$t())},className:Wi(U?.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,z.isValidElement(m.action)?m.action:m.action&&D0(m.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:et=>{D0(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,et),!et.defaultPrevented&&$t())},className:Wi(U?.actionButton,m==null||(d=m.classNames)==null?void 0:d.actionButton)},m.action.label):null)};function qk(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lQ(e,t){const r={};return[e,t].forEach((n,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?tQ:eQ;function u(d){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):u(l)}),r}const cQ=z.forwardRef(function(t,r){const{id:n,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:f,mobileOffset:m,theme:h="light",richColors:x,duration:v,style:N,visibleToasts:b=JX,toastOptions:S,dir:j=qk(),gap:A=nQ,icons:_,containerAriaLabel:E="Notifications"}=t,[C,R]=z.useState([]),I=z.useMemo(()=>n?C.filter(Z=>Z.toasterId===n):C.filter(Z=>!Z.toasterId),[C,n]),O=z.useMemo(()=>Array.from(new Set([i].concat(I.filter(Z=>Z.position).map(Z=>Z.position)))),[I,i]),[B,q]=z.useState([]),[F,Y]=z.useState(!1),[D,G]=z.useState(!1),[U,V]=z.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=z.useRef(null),Q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=z.useRef(null),P=z.useRef(!1),K=z.useCallback(Z=>{R(se=>{var ie;return(ie=se.find(Se=>Se.id===Z.id))!=null&&ie.delete||Za.dismiss(Z.id),se.filter(({id:Se})=>Se!==Z.id)})},[]);return z.useEffect(()=>Za.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{R(se=>se.map(ie=>ie.id===Z.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{C7.flushSync(()=>{R(se=>{const ie=se.findIndex(Se=>Se.id===Z.id);return ie!==-1?[...se.slice(0,ie),{...se[ie],...Z},...se.slice(ie+1)]:[Z,...se]})})})}),[C]),z.useEffect(()=>{if(h!=="system"){V(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:se})=>{V(se?"dark":"light")})}catch{Z.addListener(({matches:ie})=>{try{V(ie?"dark":"light")}catch(Se){console.error(Se)}})}},[h]),z.useEffect(()=>{C.length<=1&&Y(!1)},[C]),z.useEffect(()=>{const Z=se=>{var ie;if(o.every(je=>se[je]||se.code===je)){var oe;Y(!0),(oe=M.current)==null||oe.focus()}se.code==="Escape"&&(document.activeElement===M.current||(ie=M.current)!=null&&ie.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[o]),z.useEffect(()=>{if(M.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,P.current=!1)}},[M.current]),z.createElement("section",{ref:r,"aria-label":`${E} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((Z,se)=>{var ie;const[Se,oe]=Z.split("-");return I.length?z.createElement("ol",{key:Z,dir:j==="auto"?qk():j,tabIndex:-1,ref:M,className:d,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":Se,"data-x-position":oe,style:{"--front-toast-height":`${((ie=B[0])==null?void 0:ie.height)||0}px`,"--width":`${rQ}px`,"--gap":`${A}px`,...N,...lQ(f,m)},onBlur:je=>{P.current&&!je.currentTarget.contains(je.relatedTarget)&&(P.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||P.current||(P.current=!0,J.current=je.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{D||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},I.filter(je=>!je.position&&se===0||je.position===Z).map((je,pe)=>{var Ee,me;return z.createElement(oQ,{key:je.id,icons:_,index:pe,toast:je,defaultRichColors:x,duration:(Ee=S?.duration)!=null?Ee:v,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:s,visibleToasts:b,closeButton:(me=S?.closeButton)!=null?me:u,interacting:D,position:Z,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,closeButtonAriaLabel:S?.closeButtonAriaLabel,removeToast:K,toasts:I.filter(fe=>fe.position==je.position),heights:B.filter(fe=>fe.position==je.position),setHeights:q,expandByDefault:l,gap:A,expanded:F,swipeDirections:t.swipeDirections})})):null}))}),y1=[{email:"admin@central.gov.kr",password:"demo1234",role:"central_admin",name:"",organization:""},{email:"regional@seoul.go.kr",password:"demo1234",role:"regional_center",name:"",organization:" "},{email:"local@gangnam.go.kr",password:"demo1234",role:"local_center",name:"",organization:"  "},{email:"citizen@example.com",password:"demo1234",role:"citizen",name:""}];function uQ({onLogin:e}){const[t,r]=y.useState("select"),[n,s]=y.useState(null),[i,o]=y.useState(""),[l,u]=y.useState(""),[d,f]=y.useState(""),[m,h]=y.useState(""),[x,v]=y.useState(!1),[N,b]=y.useState(!1),[S,j]=y.useState(1),A=[{id:"citizen",title:"",description:"   ",icon:go,color:"bg-blue-600"},{id:"local_center",title:"",description:"// ",icon:xd,color:"bg-green-600"},{id:"regional_center",title:"",description:" ",icon:xd,color:"bg-purple-600"},{id:"central_admin",title:"",description:" ",icon:ho,color:"bg-red-600"}],_=O=>{s(O),r("login")},E=()=>{if(!i||!l){Ye.error("  ");return}const O=y1.find(B=>B.email===i&&B.password===l);O?(console.log("[AUDIT] Login Success:",{email:i,role:O.role,timestamp:new Date().toISOString(),ipAddress:"CLIENT_IP"}),N&&localStorage.setItem("rememberedEmail",i),Ye.success(` : ${O.name}`),e({email:O.email,role:O.role,name:O.name,organization:O.organization})):(console.log("[AUDIT] Login Failed:",{email:i,timestamp:new Date().toISOString(),reason:"Invalid credentials"}),Ye.error("    "))},C=()=>{if(S===1){if(!i||!l){Ye.error("  ");return}j(2)}else{if(!d||n!=="citizen"&&!m){Ye.error("   ");return}console.log("[AUDIT] Registration:",{email:i,role:n,name:d,organization:m,timestamp:new Date().toISOString()}),Ye.success(" "),r("login"),j(1)}},R=()=>{t==="register"&&S===2?j(1):(r("select"),s(null),j(1),o(""),u(""),f(""),h(""))},I=O=>{o(O.email),u(O.password),Ye.info(`   : ${O.name}`)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-6xl",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsx(hY,{size:88})}),t==="select"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(_r,{className:"border-2",children:[a.jsxs(un,{children:[a.jsx(dn,{className:"text-center",children:" "}),a.jsx(Yl,{className:"text-center",children:"   "})]}),a.jsx(Ar,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:A.map(O=>{const B=O.icon;return a.jsxs("button",{onClick:()=>_(O.id),className:"p-6 border-2 border-gray-300 hover:border-primary rounded transition-all hover:shadow-lg group",children:[a.jsx("div",{className:`${O.color} w-16 h-16 rounded flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform`,children:a.jsx(B,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:O.title}),a.jsx("p",{className:"text-sm text-gray-600",children:O.description})]},O.id)})})})]}),a.jsxs(_r,{className:"border-blue-300 bg-blue-50",children:[a.jsx(un,{children:a.jsxs(dn,{className:"text-blue-900 flex items-center gap-2",children:[a.jsx(ua,{className:"h-5 w-5"}),"  "]})}),a.jsxs(Ar,{children:[a.jsx("p",{className:"text-sm text-blue-800 mb-4",children:"      :"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:y1.map(O=>a.jsxs("div",{className:"bg-white p-3 rounded border border-blue-200",children:[a.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:O.name}),a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:O.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:[": ",O.password]})]},O.email))})]})]})]}),t==="login"&&n&&a.jsxs(_r,{className:"max-w-md mx-auto border-2",children:[a.jsxs(un,{children:[a.jsxs(pt,{variant:"ghost",size:"sm",onClick:R,className:"mb-2 -ml-2",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs(dn,{children:[A.find(O=>O.id===n)?.title," "]}),a.jsx(Yl,{children:"   "})]}),a.jsxs(Ar,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"email",children:""}),a.jsx(fr,{id:"email",type:"email",value:i,onChange:O=>o(O.target.value),placeholder:"example@domain.com",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"password",children:""}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(fr,{id:"password",type:x?"text":"password",value:l,onChange:O=>u(O.target.value),placeholder:""}),a.jsx("button",{type:"button",onClick:()=>v(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:x?a.jsx(gE,{className:"h-4 w-4"}):a.jsx(Rd,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vg,{id:"remember",checked:N,onCheckedChange:O=>b(O)}),a.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-700 cursor-pointer",children:" "})]}),a.jsx(pt,{className:"w-full",onClick:E,children:""}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>r("register"),className:"text-sm text-primary hover:underline",children:" ? "})}),a.jsxs(yd,{children:[a.jsx(ua,{className:"h-4 w-4"}),a.jsxs(bd,{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),a.jsx("div",{className:"space-y-1",children:y1.filter(O=>O.role===n).map(O=>a.jsxs("button",{onClick:()=>I(O),className:"text-xs text-blue-600 hover:underline block",children:[O.name," (",O.email,")"]},O.email))})]})]})]})]}),t==="register"&&n&&a.jsxs(_r,{className:"max-w-md mx-auto border-2",children:[a.jsxs(un,{children:[a.jsxs(pt,{variant:"ghost",size:"sm",onClick:R,className:"mb-2 -ml-2",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs(dn,{children:[A.find(O=>O.id===n)?.title," "]}),a.jsx(Yl,{children:S===1?"  ":"  "})]}),a.jsxs(Ar,{className:"space-y-4",children:[S===1?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"reg-email",children:" *"}),a.jsx(fr,{id:"reg-email",type:"email",value:i,onChange:O=>o(O.target.value),placeholder:"example@domain.com",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"reg-password",children:" *"}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(fr,{id:"reg-password",type:x?"text":"password",value:l,onChange:O=>u(O.target.value),placeholder:"8 "}),a.jsx("button",{type:"button",onClick:()=>v(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:x?a.jsx(gE,{className:"h-4 w-4"}):a.jsx(Rd,{className:"h-4 w-4"})})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"name",children:" *"}),a.jsx(fr,{id:"name",value:d,onChange:O=>f(O.target.value),placeholder:"",className:"mt-2"})]}),n!=="citizen"&&a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"organization",children:"  *"}),a.jsx(fr,{id:"organization",value:m,onChange:O=>h(O.target.value),placeholder:":   ",className:"mt-2"})]})]}),a.jsx(pt,{className:"w-full",onClick:C,children:S===1?"":" "}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>{r("login"),j(1)},className:"text-sm text-primary hover:underline",children:"  ? "})})]})]}),a.jsxs("div",{className:"text-center mt-8 text-sm text-gray-600",children:[a.jsx("p",{children:" 2026 Neuro-Shield. All rights reserved."}),a.jsx("p",{className:"mt-1",children:""})]})]})})}function Ni({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:ce("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var dQ=GA[" useId ".trim().toString()]||(()=>{}),fQ=0;function uo(e){const[t,r]=y.useState(dQ());return Pn(()=>{r(n=>n??String(fQ++))},[e]),e||(t?`radix-${t}`:"")}function Sa(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>t.current?.(...r),[])}function pQ(e,t=globalThis?.document){const r=Sa(e);y.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var mQ="DismissableLayer",vE="dismissableLayer.update",hQ="dismissableLayer.pointerDownOutside",gQ="dismissableLayer.focusOutside",Gk,$7=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ph=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,d=y.useContext($7),[f,m]=y.useState(null),h=f?.ownerDocument??globalThis?.document,[,x]=y.useState({}),v=ir(t,R=>m(R)),N=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=N.indexOf(b),j=f?N.indexOf(f):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,_=j>=S,E=bQ(R=>{const I=R.target,O=[...d.branches].some(B=>B.contains(I));!_||O||(s?.(R),o?.(R),R.defaultPrevented||l?.())},h),C=vQ(R=>{const I=R.target;[...d.branches].some(B=>B.contains(I))||(i?.(R),o?.(R),R.defaultPrevented||l?.())},h);return pQ(R=>{j===d.layers.size-1&&(n?.(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},h),y.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Gk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Kk(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Gk)}},[f,h,r,d]),y.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Kk())},[f,d]),y.useEffect(()=>{const R=()=>x({});return document.addEventListener(vE,R),()=>document.removeEventListener(vE,R)},[]),a.jsx(Kt.div,{...u,ref:v,style:{pointerEvents:A?_?"auto":"none":void 0,...e.style},onFocusCapture:wt(e.onFocusCapture,C.onFocusCapture),onBlurCapture:wt(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:wt(e.onPointerDownCapture,E.onPointerDownCapture)})});ph.displayName=mQ;var xQ="DismissableLayerBranch",yQ=y.forwardRef((e,t)=>{const r=y.useContext($7),n=y.useRef(null),s=ir(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Kt.div,{...e,ref:s})});yQ.displayName=xQ;function bQ(e,t=globalThis?.document){const r=Sa(e),n=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){F7(hQ,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function vQ(e,t=globalThis?.document){const r=Sa(e),n=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!n.current&&F7(gQ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Kk(){const e=new CustomEvent(vE);document.dispatchEvent(e)}function F7(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?OX(s,i):s.dispatchEvent(i)}var b1="focusScope.autoFocusOnMount",v1="focusScope.autoFocusOnUnmount",Wk={bubbles:!1,cancelable:!0},NQ="FocusScope",Ey=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,u]=y.useState(null),d=Sa(s),f=Sa(i),m=y.useRef(null),h=ir(t,N=>u(N)),x=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let N=function(A){if(x.paused||!l)return;const _=A.target;l.contains(_)?m.current=_:zl(m.current,{select:!0})},b=function(A){if(x.paused||!l)return;const _=A.relatedTarget;_!==null&&(l.contains(_)||zl(m.current,{select:!0}))},S=function(A){if(document.activeElement===document.body)for(const E of A)E.removedNodes.length>0&&zl(l)};document.addEventListener("focusin",N),document.addEventListener("focusout",b);const j=new MutationObserver(S);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",b),j.disconnect()}}},[n,l,x.paused]),y.useEffect(()=>{if(l){Yk.add(x);const N=document.activeElement;if(!l.contains(N)){const S=new CustomEvent(b1,Wk);l.addEventListener(b1,d),l.dispatchEvent(S),S.defaultPrevented||(SQ(AQ(B7(l)),{select:!0}),document.activeElement===N&&zl(l))}return()=>{l.removeEventListener(b1,d),setTimeout(()=>{const S=new CustomEvent(v1,Wk);l.addEventListener(v1,f),l.dispatchEvent(S),S.defaultPrevented||zl(N??document.body,{select:!0}),l.removeEventListener(v1,f),Yk.remove(x)},0)}}},[l,d,f,x]);const v=y.useCallback(N=>{if(!r&&!n||x.paused)return;const b=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,S=document.activeElement;if(b&&S){const j=N.currentTarget,[A,_]=wQ(j);A&&_?!N.shiftKey&&S===_?(N.preventDefault(),r&&zl(A,{select:!0})):N.shiftKey&&S===A&&(N.preventDefault(),r&&zl(_,{select:!0})):S===j&&N.preventDefault()}},[r,n,x.paused]);return a.jsx(Kt.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Ey.displayName=NQ;function SQ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(zl(n,{select:t}),document.activeElement!==r)return}function wQ(e){const t=B7(e),r=Vk(t,e),n=Vk(t.reverse(),e);return[r,n]}function B7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vk(e,t){for(const r of e)if(!jQ(r,{upTo:t}))return r}function jQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function EQ(e){return e instanceof HTMLInputElement&&"select"in e}function zl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&EQ(e)&&t&&e.select()}}var Yk=_Q();function _Q(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Xk(e,t),e.unshift(t)},remove(t){e=Xk(e,t),e[0]?.resume()}}}function Xk(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function AQ(e){return e.filter(t=>t.tagName!=="A")}var CQ="Portal",mh=y.forwardRef((e,t)=>{const{container:r,...n}=e,[s,i]=y.useState(!1);Pn(()=>i(!0),[]);const o=r||s&&globalThis?.document?.body;return o?C7.createPortal(a.jsx(Kt.div,{...n,ref:t}),o):null});mh.displayName=CQ;var N1=0;function nC(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qk()),document.body.insertAdjacentElement("beforeend",e[1]??Qk()),N1++,()=>{N1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),N1--}},[])}function Qk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var eo=function(){return eo=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},eo.apply(this,arguments)};function U7(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function TQ(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ng="right-scroll-bar-position",Sg="width-before-scroll-bar",kQ="with-scroll-bars-hidden",OQ="--removed-body-scroll-bar-size";function S1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function RQ(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var PQ=typeof window<"u"?y.useLayoutEffect:y.useEffect,Zk=new WeakMap;function DQ(e,t){var r=RQ(null,function(n){return e.forEach(function(s){return S1(s,n)})});return PQ(function(){var n=Zk.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||S1(l,null)}),i.forEach(function(l){s.has(l)||S1(l,o)})}Zk.set(r,e)},[e]),r}function IQ(e){return e}function MQ(e,t){t===void 0&&(t=IQ);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var u=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return s}function LQ(e){e===void 0&&(e={});var t=MQ(null);return t.options=eo({async:!0,ssr:!1},e),t}var z7=function(e){var t=e.sideCar,r=U7(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,eo({},r))};z7.isSideCarExport=!0;function $Q(e,t){return e.useMedium(t),z7}var H7=LQ(),w1=function(){},_y=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:w1,onWheelCapture:w1,onTouchMoveCapture:w1}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,h=e.sideCar,x=e.noRelative,v=e.noIsolation,N=e.inert,b=e.allowPinchZoom,S=e.as,j=S===void 0?"div":S,A=e.gapMode,_=U7(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,C=DQ([r,t]),R=eo(eo({},_),s);return y.createElement(y.Fragment,null,f&&y.createElement(E,{sideCar:H7,removeScrollBar:d,shards:m,noRelative:x,noIsolation:v,inert:N,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:A}),o?y.cloneElement(y.Children.only(l),eo(eo({},R),{ref:C})):y.createElement(j,eo({},R,{className:u,ref:C}),l))});_y.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_y.classNames={fullWidth:Sg,zeroRight:Ng};var FQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FQ();return t&&e.setAttribute("nonce",t),e}function UQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HQ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=BQ())&&(UQ(t,r),zQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qQ=function(){var e=HQ();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},q7=function(){var e=qQ(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},GQ={left:0,top:0,right:0,gap:0},j1=function(e){return parseInt(e||"",10)||0},KQ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[j1(r),j1(n),j1(s)]},WQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GQ;var t=KQ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},VQ=q7(),vd="data-scroll-locked",YQ=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(kQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(vd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ng,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ng," .").concat(Ng,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sg," .").concat(Sg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(vd,`] {
    `).concat(OQ,": ").concat(l,`px;
  }
`)},Jk=function(){var e=parseInt(document.body.getAttribute(vd)||"0",10);return isFinite(e)?e:0},XQ=function(){y.useEffect(function(){return document.body.setAttribute(vd,(Jk()+1).toString()),function(){var e=Jk()-1;e<=0?document.body.removeAttribute(vd):document.body.setAttribute(vd,e.toString())}},[])},QQ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;XQ();var i=y.useMemo(function(){return WQ(s)},[s]);return y.createElement(VQ,{styles:YQ(i,!t,s,r?"":"!important")})},NE=!1;if(typeof window<"u")try{var I0=Object.defineProperty({},"passive",{get:function(){return NE=!0,!0}});window.addEventListener("test",I0,I0),window.removeEventListener("test",I0,I0)}catch{NE=!1}var Yu=NE?{passive:!1}:!1,ZQ=function(e){return e.tagName==="TEXTAREA"},G7=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZQ(e)&&r[t]==="visible")},JQ=function(e){return G7(e,"overflowY")},eZ=function(e){return G7(e,"overflowX")},eO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=K7(e,n);if(s){var i=W7(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tZ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},rZ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},K7=function(e,t){return e==="v"?JQ(t):eZ(t)},W7=function(e,t){return e==="v"?tZ(t):rZ(t)},nZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},aZ=function(e,t,r,n,s){var i=nZ(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,u=t.contains(l),d=!1,f=o>0,m=0,h=0;do{if(!l)break;var x=W7(e,l),v=x[0],N=x[1],b=x[2],S=N-b-i*v;(v||S)&&K7(e,l)&&(m+=S,h+=v);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(m)<1||!f&&Math.abs(h)<1)&&(d=!0),d},M0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tO=function(e){return[e.deltaX,e.deltaY]},rO=function(e){return e&&"current"in e?e.current:e},sZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oZ=0,Xu=[];function lZ(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),s=y.useState(oZ++)[0],i=y.useState(q7)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var N=TQ([e.lockRef.current],(e.shards||[]).map(rO),!0).filter(Boolean);return N.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),N.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(N,b){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!o.current.allowPinchZoom;var S=M0(N),j=r.current,A="deltaX"in N?N.deltaX:j[0]-S[0],_="deltaY"in N?N.deltaY:j[1]-S[1],E,C=N.target,R=Math.abs(A)>Math.abs(_)?"h":"v";if("touches"in N&&R==="h"&&C.type==="range")return!1;var I=window.getSelection(),O=I&&I.anchorNode,B=O?O===C||O.contains(C):!1;if(B)return!1;var q=eO(R,C);if(!q)return!0;if(q?E=R:(E=R==="v"?"h":"v",q=eO(R,C)),!q)return!1;if(!n.current&&"changedTouches"in N&&(A||_)&&(n.current=E),!E)return!0;var F=n.current||E;return aZ(F,b,N,F==="h"?A:_)},[]),u=y.useCallback(function(N){var b=N;if(!(!Xu.length||Xu[Xu.length-1]!==i)){var S="deltaY"in b?tO(b):M0(b),j=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&sZ(E.delta,S)})[0];if(j&&j.should){b.cancelable&&b.preventDefault();return}if(!j){var A=(o.current.shards||[]).map(rO).filter(Boolean).filter(function(E){return E.contains(b.target)}),_=A.length>0?l(b,A[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),d=y.useCallback(function(N,b,S,j){var A={name:N,delta:b,target:S,should:j,shadowParent:cZ(S)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(_){return _!==A})},1)},[]),f=y.useCallback(function(N){r.current=M0(N),n.current=void 0},[]),m=y.useCallback(function(N){d(N.type,tO(N),N.target,l(N,e.lockRef.current))},[]),h=y.useCallback(function(N){d(N.type,M0(N),N.target,l(N,e.lockRef.current))},[]);y.useEffect(function(){return Xu.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",u,Yu),document.addEventListener("touchmove",u,Yu),document.addEventListener("touchstart",f,Yu),function(){Xu=Xu.filter(function(N){return N!==i}),document.removeEventListener("wheel",u,Yu),document.removeEventListener("touchmove",u,Yu),document.removeEventListener("touchstart",f,Yu)}},[]);var x=e.removeScrollBar,v=e.inert;return y.createElement(y.Fragment,null,v?y.createElement(i,{styles:iZ(s)}):null,x?y.createElement(QQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uZ=$Q(H7,lZ);var Ay=y.forwardRef(function(e,t){return y.createElement(_y,eo({},e,{ref:t,sideCar:uZ}))});Ay.classNames=_y.classNames;var dZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qu=new WeakMap,L0=new WeakMap,$0={},E1=0,V7=function(e){return e&&(e.host||V7(e.parentNode))},fZ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=V7(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},pZ=function(e,t,r,n){var s=fZ(t,Array.isArray(e)?e:[e]);$0[r]||($0[r]=new WeakMap);var i=$0[r],o=[],l=new Set,u=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var f=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))f(h);else try{var x=h.getAttribute(n),v=x!==null&&x!=="false",N=(Qu.get(h)||0)+1,b=(i.get(h)||0)+1;Qu.set(h,N),i.set(h,b),o.push(h),N===1&&v&&L0.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",h,S)}})};return f(t),l.clear(),E1++,function(){o.forEach(function(m){var h=Qu.get(m)-1,x=i.get(m)-1;Qu.set(m,h),i.set(m,x),h||(L0.has(m)||m.removeAttribute(n),L0.delete(m)),x||m.removeAttribute(r)}),E1--,E1||(Qu=new WeakMap,Qu=new WeakMap,L0=new WeakMap,$0={})}},aC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=dZ(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),pZ(n,s,r,"aria-hidden")):function(){return null}};function mZ(e){const t=hZ(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),u=l.find(xZ);if(u){const d=u.props.children,f=l.map(m=>m===u?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:m);return a.jsx(t,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function hZ(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=bZ(s),l=yZ(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Nu(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gZ=Symbol("radix.slottable");function xZ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gZ}function yZ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function bZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Cy="Dialog",[Y7]=Xs(Cy),[vZ,Oi]=Y7(Cy),X7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),u=y.useRef(null),[d,f]=sl({prop:n,defaultProp:s??!1,onChange:i,caller:Cy});return a.jsx(vZ,{scope:t,triggerRef:l,contentRef:u,contentId:uo(),titleId:uo(),descriptionId:uo(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:o,children:r})};X7.displayName=Cy;var Q7="DialogTrigger",NZ=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Oi(Q7,r),i=ir(t,s.triggerRef);return a.jsx(Kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":oC(s.open),...n,ref:i,onClick:wt(e.onClick,s.onOpenToggle)})});NZ.displayName=Q7;var sC="DialogPortal",[SZ,Z7]=Y7(sC,{forceMount:void 0}),J7=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Oi(sC,t);return a.jsx(SZ,{scope:t,forceMount:r,children:y.Children.map(n,o=>a.jsx(La,{present:r||i.open,children:a.jsx(mh,{asChild:!0,container:s,children:o})}))})};J7.displayName=sC;var Fg="DialogOverlay",e8=y.forwardRef((e,t)=>{const r=Z7(Fg,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Oi(Fg,e.__scopeDialog);return i.modal?a.jsx(La,{present:n||i.open,children:a.jsx(jZ,{...s,ref:t})}):null});e8.displayName=Fg;var wZ=mZ("DialogOverlay.RemoveScroll"),jZ=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Oi(Fg,r);return a.jsx(Ay,{as:wZ,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Kt.div,{"data-state":oC(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ou="DialogContent",t8=y.forwardRef((e,t)=>{const r=Z7(ou,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Oi(ou,e.__scopeDialog);return a.jsx(La,{present:n||i.open,children:i.modal?a.jsx(EZ,{...s,ref:t}):a.jsx(_Z,{...s,ref:t})})});t8.displayName=ou;var EZ=y.forwardRef((e,t)=>{const r=Oi(ou,e.__scopeDialog),n=y.useRef(null),s=ir(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return aC(i)},[]),a.jsx(r8,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:wt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:wt(e.onFocusOutside,i=>i.preventDefault())})}),_Z=y.forwardRef((e,t)=>{const r=Oi(ou,e.__scopeDialog),n=y.useRef(!1),s=y.useRef(!1);return a.jsx(r8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),r8=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Oi(ou,r),u=y.useRef(null),d=ir(t,u);return nC(),a.jsxs(a.Fragment,{children:[a.jsx(Ey,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(ph,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oC(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(AZ,{titleId:l.titleId}),a.jsx(TZ,{contentRef:u,descriptionId:l.descriptionId})]})]})}),iC="DialogTitle",n8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Oi(iC,r);return a.jsx(Kt.h2,{id:s.titleId,...n,ref:t})});n8.displayName=iC;var a8="DialogDescription",s8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Oi(a8,r);return a.jsx(Kt.p,{id:s.descriptionId,...n,ref:t})});s8.displayName=a8;var i8="DialogClose",o8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Oi(i8,r);return a.jsx(Kt.button,{type:"button",...n,ref:t,onClick:wt(e.onClick,()=>s.onOpenChange(!1))})});o8.displayName=i8;function oC(e){return e?"open":"closed"}var l8="DialogTitleWarning",[cTe,c8]=gX(l8,{contentName:ou,titleName:iC,docsSlug:"dialog"}),AZ=({titleId:e})=>{const t=c8(l8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},CZ="DialogDescriptionWarning",TZ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c8(CZ).contentName}}.`;return y.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},u8=X7,d8=J7,f8=e8,p8=t8,m8=n8,h8=s8,g8=o8;function Qi({...e}){return a.jsx(u8,{"data-slot":"dialog",...e})}function kZ({...e}){return a.jsx(d8,{"data-slot":"dialog-portal",...e})}function OZ({className:e,...t}){return a.jsx(f8,{"data-slot":"dialog-overlay",className:ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Zi({className:e,children:t,...r}){return a.jsxs(kZ,{"data-slot":"dialog-portal",children:[a.jsx(OZ,{}),a.jsxs(p8,{"data-slot":"dialog-content",className:ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,a.jsxs(g8,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(vu,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Bg({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:ce("flex flex-col gap-2 text-center sm:text-left",e),...t})}function SE({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:ce("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Ug({className:e,...t}){return a.jsx(m8,{"data-slot":"dialog-title",className:ce("text-lg leading-none font-semibold",e),...t})}function wE({className:e,...t}){return a.jsx(h8,{"data-slot":"dialog-description",className:ce("text-muted-foreground text-sm",e),...t})}var RZ=y.createContext(void 0);function hh(e){const t=y.useContext(RZ);return e||t||"ltr"}function jE(e,[t,r]){return Math.min(r,Math.max(t,e))}function PZ(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var lC="ScrollArea",[x8]=Xs(lC),[DZ,Qs]=x8(lC),y8=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,u]=y.useState(null),[d,f]=y.useState(null),[m,h]=y.useState(null),[x,v]=y.useState(null),[N,b]=y.useState(null),[S,j]=y.useState(0),[A,_]=y.useState(0),[E,C]=y.useState(!1),[R,I]=y.useState(!1),O=ir(t,q=>u(q)),B=hh(s);return a.jsx(DZ,{scope:r,type:n,dir:B,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:f,content:m,onContentChange:h,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:N,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:I,onCornerWidthChange:j,onCornerHeightChange:_,children:a.jsx(Kt.div,{dir:B,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});y8.displayName=lC;var b8="ScrollAreaViewport",v8=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Qs(b8,r),l=y.useRef(null),u=ir(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Kt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});v8.displayName=b8;var bo="ScrollAreaScrollbar",N8=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Qs(bo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(IZ,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(MZ,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(S8,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(cC,{...n,ref:t}):null});N8.displayName=bo;var IZ=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Qs(bo,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=s.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),o(!0)},f=()=>{u=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(La,{present:r||i,children:a.jsx(S8,{"data-state":i?"visible":"hidden",...n,ref:t})})}),MZ=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Qs(bo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=ky(()=>u("SCROLL_END"),100),[l,u]=PZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,u]),y.useEffect(()=>{const d=s.viewport,f=i?"scrollLeft":"scrollTop";if(d){let m=d[f];const h=()=>{const x=d[f];m!==x&&(u("SCROLL"),o()),m=x};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,i,u,o]),a.jsx(La,{present:r||l!=="hidden",children:a.jsx(cC,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:wt(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:wt(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),S8=y.forwardRef((e,t)=>{const r=Qs(bo,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",u=ky(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:f)}},10);return Id(r.viewport,u),Id(r.content,u),a.jsx(La,{present:n||i,children:a.jsx(cC,{"data-state":i?"visible":"hidden",...s,ref:t})})}),cC=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Qs(bo,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,u]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=A8(l.viewport,l.content),f={...n,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function m(h,x){return zZ(h,o.current,l,x)}return r==="horizontal"?a.jsx(LZ,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,x=nO(h,l,s.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=m(h,s.dir))}}):r==="vertical"?a.jsx($Z,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,x=nO(h,l);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=m(h))}}):null}),LZ=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Qs(bo,e.__scopeScrollArea),[o,l]=y.useState(),u=y.useRef(null),d=ir(t,u,i.onScrollbarXChange);return y.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),a.jsx(j8,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ty(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(i.viewport){const h=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),T8(h,m)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Hg(o.paddingLeft),paddingEnd:Hg(o.paddingRight)}})}})}),$Z=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Qs(bo,e.__scopeScrollArea),[o,l]=y.useState(),u=y.useRef(null),d=ir(t,u,i.onScrollbarYChange);return y.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),a.jsx(j8,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ty(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(i.viewport){const h=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),T8(h,m)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Hg(o.paddingTop),paddingEnd:Hg(o.paddingBottom)}})}})}),[FZ,w8]=x8(bo),j8=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:m,...h}=e,x=Qs(bo,r),[v,N]=y.useState(null),b=ir(t,O=>N(O)),S=y.useRef(null),j=y.useRef(""),A=x.viewport,_=n.content-n.viewport,E=Sa(f),C=Sa(u),R=ky(m,10);function I(O){if(S.current){const B=O.clientX-S.current.left,q=O.clientY-S.current.top;d({x:B,y:q})}}return y.useEffect(()=>{const O=B=>{const q=B.target;v?.contains(q)&&E(B,_)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[A,v,_,E]),y.useEffect(C,[n,C]),Id(v,R),Id(x.content,R),a.jsx(FZ,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Sa(i),onThumbPointerUp:Sa(o),onThumbPositionChange:C,onThumbPointerDown:Sa(l),children:a.jsx(Kt.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:wt(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),S.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),I(O))}),onPointerMove:wt(e.onPointerMove,I),onPointerUp:wt(e.onPointerUp,O=>{const B=O.target;B.hasPointerCapture(O.pointerId)&&B.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=j.current,x.viewport&&(x.viewport.style.scrollBehavior=""),S.current=null})})})}),zg="ScrollAreaThumb",E8=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=w8(zg,e.__scopeScrollArea);return a.jsx(La,{present:r||s.hasThumb,children:a.jsx(BZ,{ref:t,...n})})}),BZ=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Qs(zg,r),o=w8(zg,r),{onThumbPositionChange:l}=o,u=ir(t,m=>o.onThumbChange(m)),d=y.useRef(void 0),f=ky(()=>{d.current&&(d.current(),d.current=void 0)},100);return y.useEffect(()=>{const m=i.viewport;if(m){const h=()=>{if(f(),!d.current){const x=HZ(m,l);d.current=x,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[i.viewport,f,l]),a.jsx(Kt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:wt(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),v=m.clientX-x.left,N=m.clientY-x.top;o.onThumbPointerDown({x:v,y:N})}),onPointerUp:wt(e.onPointerUp,o.onThumbPointerUp)})});E8.displayName=zg;var uC="ScrollAreaCorner",_8=y.forwardRef((e,t)=>{const r=Qs(uC,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(UZ,{...e,ref:t}):null});_8.displayName=uC;var UZ=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Qs(uC,r),[i,o]=y.useState(0),[l,u]=y.useState(0),d=!!(i&&l);return Id(s.scrollbarX,()=>{const f=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(f),u(f)}),Id(s.scrollbarY,()=>{const f=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(f),o(f)}),d?a.jsx(Kt.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Hg(e){return e?parseInt(e,10):0}function A8(e,t){const r=e/t;return isNaN(r)?0:r}function Ty(e){const t=A8(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function zZ(e,t,r,n="ltr"){const s=Ty(r),i=s/2,o=t||i,l=s-o,u=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,m=n==="ltr"?[0,f]:[f*-1,0];return C8([u,d],m)(e)}function nO(e,t,r="ltr"){const n=Ty(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,u=r==="ltr"?[0,o]:[o*-1,0],d=jE(e,u);return C8([0,o],[0,l])(d)}function C8(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function T8(e,t){return e>0&&e<t}var HZ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function ky(e,t){const r=Sa(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Id(e,t){const r=Sa(t);Pn(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var qZ=y8,GZ=v8,KZ=_8;function WZ({className:e,children:t,...r}){return a.jsxs(qZ,{"data-slot":"scroll-area",className:ce("relative",e),...r,children:[a.jsx(GZ,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),a.jsx(VZ,{}),a.jsx(KZ,{})]})}function VZ({className:e,orientation:t="vertical",...r}){return a.jsx(N8,{"data-slot":"scroll-area-scrollbar",orientation:t,className:ce("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:a.jsx(E8,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function YZ({open:e,onOpenChange:t}){const[r,n]=y.useState([{id:"1",type:"bot",content:"!  .  ?",timestamp:new Date}]),[s,i]=y.useState(""),o=y.useRef(null),l={" ":"            .       .",:"       .     .",:" ,   1:1 ,   ,         .",:"     ,      .      .",:'   " "     .   ,    .',:"  30  ,    1   .",:"  .    .",:",    .       .",:"     .   .",:"      ,        ."},u=["  ?"," ?","    ?","  ?"];y.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[r]);const d=h=>{const x=h.toLowerCase().replace(/\s+/g,"");for(const[v,N]of Object.entries(l))if(x.includes(v.replace(/\s+/g,"")))return N;return".      .    ,    . (: 02-1234-5678)"},f=()=>{if(!s.trim())return;const h={id:Date.now().toString(),type:"user",content:s,timestamp:new Date};n(x=>[...x,h]),i(""),setTimeout(()=>{const x={id:(Date.now()+1).toString(),type:"bot",content:d(s),timestamp:new Date};n(v=>[...v,x])},500)},m=h=>{i(h),setTimeout(()=>f(),100)};return a.jsx(Qi,{open:e,onOpenChange:t,children:a.jsxs(Zi,{className:"max-w-2xl h-[600px] flex flex-col p-0",children:[a.jsx(Bg,{className:"p-6 pb-4 border-b",children:a.jsxs(Ug,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:a.jsx(t7,{className:"h-5 w-5 text-blue-600"})}),"AI "]})}),a.jsxs(WZ,{className:"flex-1 p-6",ref:o,children:[a.jsx("div",{className:"space-y-4",children:r.map(h=>a.jsx("div",{className:`flex ${h.type==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${h.type==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:h.content}),a.jsx("p",{className:`text-xs mt-1 ${h.type==="user"?"text-blue-100":"text-gray-500"}`,children:h.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})},h.id))}),r.length===1&&a.jsxs("div",{className:"mt-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"  :"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map((h,x)=>a.jsx("button",{onClick:()=>m(h),className:"p-3 text-left text-sm border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:h},x))})]})]}),a.jsxs("div",{className:"p-4 border-t",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(fr,{value:s,onChange:h=>i(h.target.value),onKeyPress:h=>h.key==="Enter"&&f(),placeholder:" ...",className:"flex-1"}),a.jsx(pt,{onClick:f,disabled:!s.trim(),children:a.jsx(bm,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"*      "})]})]})})}function aO(){const[e,t]=y.useState("home"),[r,n]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState(""),[u,d]=y.useState(""),[f,m]=y.useState(""),[h,x]=y.useState(""),[v,N]=y.useState(""),[b,S]=y.useState(""),[j,A]=y.useState(""),[_,E]=y.useState(""),[C,R]=y.useState(!1),[I,O]=y.useState(!1),[B,q]=y.useState(!1),F=[{id:"health",name:" ",address:"   426"},{id:"dementia",name:" ",address:"   524"},{id:"hospital",name:" ",address:"   81"}],Y=["09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30"],D=[{question:"  ?",answer:"            .       ."},{question:" ?",answer:".        .     ."},{question:"    ?",answer:" ,   1:1 ,   ,         ."},{question:"  ?",answer:"     ,      .      ."}],G=()=>{t("consent")},U=()=>{if(!r){Ye.error("   ");return}t("center-select")},V=me=>{l(me),t("datetime")},M=()=>{if(!u||!f){Ye.error("  ");return}t("confirm")},Q=/^01[016789]-?\d{3,4}-?\d{4}$/,J=()=>{if(!h||!v||!b){Ye.error("   ");return}if(!Q.test(v.replace(/-/g,""))){Ye.error("   ");return}if(_&&!Q.test(_.replace(/-/g,""))){Ye.error("    ");return}console.log("New Appointment:",{center:o,date:u,time:f,name:h,phone:v,birthdate:b,guardianPhone:_||void 0,consentOptional:s,notes:j,timestamp:new Date().toISOString()}),t("complete")},P=()=>{console.log("Remind Later Request:",{timestamp:new Date().toISOString(),remindDate:new Date(Date.now()+336*60*60*1e3).toISOString()}),Ye.success("2   ")},K=()=>{console.log("Stop Contact Request:",{timestamp:new Date().toISOString()}),Ye.success("   "),O(!1)},Z=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(_r,{className:"border-2 border-primary bg-gradient-to-br from-blue-50 to-white",children:a.jsx(Ar,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-primary p-3 rounded",children:a.jsx(xd,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"    "}),a.jsx("p",{className:"text-gray-700 mb-4",children:"     .      ."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ji,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx(ji,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-700",children:" 30 "})]}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx(ji,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-700",children:"  "})]})]})]})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(pt,{className:"w-full h-14 text-lg",onClick:G,children:[" ",a.jsx(vs,{className:"h-5 w-5 ml-2"})]}),a.jsxs(pt,{variant:"outline",className:"w-full h-14 text-lg",onClick:P,children:["   ",a.jsx(lo,{className:"h-5 w-5 ml-2"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>t("faq"),className:"p-4 border-2 border-gray-300 rounded hover:border-primary transition-colors",children:[a.jsx(Ws,{className:"h-6 w-6 text-primary mx-auto mb-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"  "})]}),a.jsxs("button",{onClick:()=>t("contact"),className:"p-4 border-2 border-gray-300 rounded hover:border-primary transition-colors",children:[a.jsx(ts,{className:"h-6 w-6 text-primary mx-auto mb-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"  "})]})]})]}),se=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pt,{variant:"ghost",onClick:()=>t("home"),className:"-ml-2",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600",children:"     "})]}),a.jsx(_r,{children:a.jsxs(Ar,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 border-2 border-primary rounded",children:[a.jsx(vg,{id:"required",checked:r,onCheckedChange:me=>n(me)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs(bt,{htmlFor:"required",className:"cursor-pointer",children:[a.jsx("span",{className:"font-bold text-primary",children:""}),"     "]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"   ,   ,   ."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 border-2 border-gray-300 rounded",children:[a.jsx(vg,{id:"optional",checked:s,onCheckedChange:me=>i(me)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs(bt,{htmlFor:"optional",className:"cursor-pointer",children:[a.jsx("span",{className:"text-gray-600",children:""}),"    "]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"2           ."})]})]})]})}),a.jsxs(yd,{children:[a.jsx(ua,{className:"h-4 w-4"}),a.jsx(bd,{className:"text-sm",children:"   ,      ."})]}),a.jsx(pt,{className:"w-full",onClick:U,children:""})]}),ie=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pt,{variant:"ghost",onClick:()=>t("consent"),className:"-ml-2",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600",children:"  "})]}),a.jsx("div",{className:"space-y-3",children:F.map(me=>a.jsx("button",{onClick:()=>V(me.id),className:"w-full p-4 border-2 border-gray-300 hover:border-primary rounded transition-colors text-left",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(xd,{className:"h-6 w-6 text-primary flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:me.name}),a.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[a.jsx(Dg,{className:"h-3 w-3"}),me.address]})]}),a.jsx(vs,{className:"h-5 w-5 text-gray-400 ml-auto"})]})},me.id))})]}),Se=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pt,{variant:"ghost",onClick:()=>t("center-select"),className:"-ml-2",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"   "}),a.jsx("p",{className:"text-gray-600",children:"   "})]}),a.jsx(_r,{children:a.jsxs(Ar,{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"date",children:"  *"}),a.jsx(fr,{id:"date",type:"date",value:u,onChange:me=>d(me.target.value),min:new Date().toISOString().split("T")[0],className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(bt,{children:"  *"}),a.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:Y.map(me=>a.jsx("button",{onClick:()=>m(me),className:`p-3 border-2 rounded transition-colors ${f===me?"border-primary bg-blue-50 text-primary font-semibold":"border-gray-300 hover:border-gray-400"}`,children:me},me))})]})]})}),a.jsx(pt,{className:"w-full",onClick:M,disabled:!u||!f,children:""})]}),oe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pt,{variant:"ghost",onClick:()=>t("datetime"),className:"-ml-2",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600",children:"    "})]}),a.jsx(_r,{children:a.jsxs(Ar,{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"name",children:" *"}),a.jsx(fr,{id:"name",value:h,onChange:me=>x(me.target.value),placeholder:"",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"phone",children:" *"}),a.jsx(fr,{id:"phone",type:"tel",value:v,onChange:me=>N(me.target.value),placeholder:"010-1234-5678",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"birthdate",children:" *"}),a.jsx(fr,{id:"birthdate",type:"date",value:b,onChange:me=>S(me.target.value),className:"mt-2"})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(vg,{id:"guardianToggle",checked:C,onCheckedChange:me=>{R(me),me||E("")}}),a.jsx(bt,{htmlFor:"guardianToggle",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"  "})]}),C&&a.jsxs("div",{className:"mt-2",children:[a.jsx(bt,{htmlFor:"guardianPhone",children:"  ()"}),a.jsx(fr,{id:"guardianPhone",type:"tel",value:_,onChange:me=>E(me.target.value),placeholder:"010-0000-0000",className:"mt-2"})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2 leading-relaxed",children:["        .",a.jsx("br",{}),"    ."]})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"notes",children:" ()"}),a.jsx(Ni,{id:"notes",value:j,onChange:me=>A(me.target.value),placeholder:"       ",rows:3,className:"mt-2"})]})]})}),a.jsxs(_r,{className:"border-blue-300 bg-blue-50",children:[a.jsx(un,{children:a.jsx(dn,{className:"text-blue-900",children:"  "})}),a.jsxs(Ar,{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:":"}),a.jsx("span",{className:"font-medium text-blue-900",children:F.find(me=>me.id===o)?.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:":"}),a.jsx("span",{className:"font-medium text-blue-900",children:u&&new Date(u).toLocaleDateString("ko-KR")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:":"}),a.jsx("span",{className:"font-medium text-blue-900",children:f})]})]})]}),a.jsx(pt,{className:"w-full",onClick:J,disabled:!h||!v||!b,children:" "})]}),je=()=>a.jsxs("div",{className:"space-y-6 text-center py-8",children:[a.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto",children:a.jsx(ji,{className:"h-12 w-12 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600",children:"   "})]}),a.jsx(_r,{children:a.jsxs(Ar,{className:"p-6 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:F.find(me=>me.id===o)?.name})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:u&&new Date(u).toLocaleDateString("ko-KR")})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:f})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:h})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:v})]}),_&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-medium",children:_.replace(/(\d{3})\d{4}(\d{4})/,"$1-****-$2")})]})]})}),a.jsxs(yd,{children:[a.jsx(ua,{className:"h-4 w-4"}),a.jsx(bd,{className:"text-sm",children:" 3    .    ."})]}),a.jsx(pt,{variant:"outline",className:"w-full",onClick:()=>t("home"),children:""})]}),pe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pt,{variant:"ghost",onClick:()=>t("home"),className:"-ml-2",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:"  "})]}),a.jsx("div",{className:"space-y-4",children:D.map((me,fe)=>a.jsxs(_r,{children:[a.jsx(un,{children:a.jsx(dn,{className:"text-base",children:me.question})}),a.jsx(Ar,{children:a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:me.answer})})]},fe))})]}),Ee=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pt,{variant:"ghost",onClick:()=>t("home"),className:"-ml-2",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:"    "})]}),a.jsxs(_r,{children:[a.jsx(un,{children:a.jsx(dn,{children:" "})}),a.jsxs(Ar,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ts,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"font-medium",children:"02-1234-5678"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gV,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"font-medium",children:"support@gangnam.go.kr"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Dg,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"font-medium",children:"   524"})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(pt,{variant:"outline",className:"w-full",children:"  "}),a.jsx(pt,{variant:"destructive",className:"w-full",onClick:()=>O(!0),children:"  "})]}),a.jsx(Qi,{open:I,onOpenChange:O,children:a.jsxs(Zi,{children:[a.jsxs(Bg,{children:[a.jsx(Ug,{className:"text-red-600",children:"  "}),a.jsx(wE,{children:"  ?"})]}),a.jsxs(yd,{className:"border-red-300 bg-red-50",children:[a.jsx(ua,{className:"h-4 w-4 text-red-600"}),a.jsx(bd,{className:"text-red-900 text-sm",children:"       .   ."})]}),a.jsxs(SE,{children:[a.jsx(pt,{variant:"outline",onClick:()=>O(!1),children:""}),a.jsx(pt,{variant:"destructive",onClick:K,children:" "})]})]})})]});return a.jsx("div",{className:"min-h-screen bg-gray-100 py-4 px-4",children:a.jsxs("div",{className:"max-w-lg mx-auto",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx(xd,{className:"h-8 w-8 text-primary"})}),a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:""}),a.jsx("p",{className:"text-sm text-gray-600",children:" "})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e==="home"&&Z(),e==="consent"&&se(),e==="center-select"&&ie(),e==="datetime"&&Se(),e==="confirm"&&oe(),e==="complete"&&je(),e==="faq"&&pe(),e==="contact"&&Ee()]}),a.jsx("button",{onClick:()=>q(!0),className:"fixed bottom-6 right-6 bg-primary hover:bg-primary-hover text-white rounded-full p-4 shadow-lg transition-transform hover:scale-110",children:a.jsx(t7,{className:"h-6 w-6"})}),a.jsx(YZ,{open:B,onOpenChange:q})]})})}var _1,sO;function $a(){if(sO)return _1;sO=1;var e=Array.isArray;return _1=e,_1}var A1,iO;function k8(){if(iO)return A1;iO=1;var e=typeof C0=="object"&&C0&&C0.Object===Object&&C0;return A1=e,A1}var C1,oO;function Ri(){if(oO)return C1;oO=1;var e=k8(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return C1=r,C1}var T1,lO;function Af(){if(lO)return T1;lO=1;var e=Ri(),t=e.Symbol;return T1=t,T1}var k1,cO;function XZ(){if(cO)return k1;cO=1;var e=Af(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),u=o[s];try{o[s]=void 0;var d=!0}catch{}var f=n.call(o);return d&&(l?o[s]=u:delete o[s]),f}return k1=i,k1}var O1,uO;function QZ(){if(uO)return O1;uO=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return O1=r,O1}var R1,dO;function fl(){if(dO)return R1;dO=1;var e=Af(),t=XZ(),r=QZ(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?t(l):r(l)}return R1=o,R1}var P1,fO;function Pi(){if(fO)return P1;fO=1;function e(t){return t!=null&&typeof t=="object"}return P1=e,P1}var D1,pO;function Cf(){if(pO)return D1;pO=1;var e=fl(),t=Pi(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return D1=n,D1}var I1,mO;function dC(){if(mO)return I1;mO=1;var e=$a(),t=Cf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return I1=s,I1}var M1,hO;function Di(){if(hO)return M1;hO=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return M1=e,M1}var L1,gO;function fC(){if(gO)return L1;gO=1;var e=fl(),t=Di(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var u=e(l);return u==n||u==s||u==r||u==i}return L1=o,L1}var $1,xO;function ZZ(){if(xO)return $1;xO=1;var e=Ri(),t=e["__core-js_shared__"];return $1=t,$1}var F1,yO;function JZ(){if(yO)return F1;yO=1;var e=ZZ(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return F1=r,F1}var B1,bO;function O8(){if(bO)return B1;bO=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return B1=r,B1}var U1,vO;function eJ(){if(vO)return U1;vO=1;var e=fC(),t=JZ(),r=Di(),n=O8(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,d=l.hasOwnProperty,f=RegExp("^"+u.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(h){if(!r(h)||t(h))return!1;var x=e(h)?f:i;return x.test(n(h))}return U1=m,U1}var z1,NO;function tJ(){if(NO)return z1;NO=1;function e(t,r){return t?.[r]}return z1=e,z1}var H1,SO;function Su(){if(SO)return H1;SO=1;var e=eJ(),t=tJ();function r(n,s){var i=t(n,s);return e(i)?i:void 0}return H1=r,H1}var q1,wO;function Oy(){if(wO)return q1;wO=1;var e=Su(),t=e(Object,"create");return q1=t,q1}var G1,jO;function rJ(){if(jO)return G1;jO=1;var e=Oy();function t(){this.__data__=e?e(null):{},this.size=0}return G1=t,G1}var K1,EO;function nJ(){if(EO)return K1;EO=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return K1=e,K1}var W1,_O;function aJ(){if(_O)return W1;_O=1;var e=Oy(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return W1=s,W1}var V1,AO;function sJ(){if(AO)return V1;AO=1;var e=Oy(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return V1=n,V1}var Y1,CO;function iJ(){if(CO)return Y1;CO=1;var e=Oy(),t="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?t:s,this}return Y1=r,Y1}var X1,TO;function oJ(){if(TO)return X1;TO=1;var e=rJ(),t=nJ(),r=aJ(),n=sJ(),s=iJ();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,X1=i,X1}var Q1,kO;function lJ(){if(kO)return Q1;kO=1;function e(){this.__data__=[],this.size=0}return Q1=e,Q1}var Z1,OO;function Ry(){if(OO)return Z1;OO=1;function e(t,r){return t===r||t!==t&&r!==r}return Z1=e,Z1}var J1,RO;function Py(){if(RO)return J1;RO=1;var e=Ry();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return J1=t,J1}var e2,PO;function cJ(){if(PO)return e2;PO=1;var e=Py(),t=Array.prototype,r=t.splice;function n(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return e2=n,e2}var t2,DO;function uJ(){if(DO)return t2;DO=1;var e=Py();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return t2=t,t2}var r2,IO;function dJ(){if(IO)return r2;IO=1;var e=Py();function t(r){return e(this.__data__,r)>-1}return r2=t,r2}var n2,MO;function fJ(){if(MO)return n2;MO=1;var e=Py();function t(r,n){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return n2=t,n2}var a2,LO;function Dy(){if(LO)return a2;LO=1;var e=lJ(),t=cJ(),r=uJ(),n=dJ(),s=fJ();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,a2=i,a2}var s2,$O;function pC(){if($O)return s2;$O=1;var e=Su(),t=Ri(),r=e(t,"Map");return s2=r,s2}var i2,FO;function pJ(){if(FO)return i2;FO=1;var e=oJ(),t=Dy(),r=pC();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return i2=n,i2}var o2,BO;function mJ(){if(BO)return o2;BO=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return o2=e,o2}var l2,UO;function Iy(){if(UO)return l2;UO=1;var e=mJ();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return l2=t,l2}var c2,zO;function hJ(){if(zO)return c2;zO=1;var e=Iy();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return c2=t,c2}var u2,HO;function gJ(){if(HO)return u2;HO=1;var e=Iy();function t(r){return e(this,r).get(r)}return u2=t,u2}var d2,qO;function xJ(){if(qO)return d2;qO=1;var e=Iy();function t(r){return e(this,r).has(r)}return d2=t,d2}var f2,GO;function yJ(){if(GO)return f2;GO=1;var e=Iy();function t(r,n){var s=e(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return f2=t,f2}var p2,KO;function mC(){if(KO)return p2;KO=1;var e=pJ(),t=hJ(),r=gJ(),n=xJ(),s=yJ();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,p2=i,p2}var m2,WO;function R8(){if(WO)return m2;WO=1;var e=mC(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var d=n.apply(this,o);return i.cache=u.set(l,d)||u,d};return i.cache=new(r.Cache||e),i}return r.Cache=e,m2=r,m2}var h2,VO;function bJ(){if(VO)return h2;VO=1;var e=R8(),t=500;function r(n){var s=e(n,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return h2=r,h2}var g2,YO;function vJ(){if(YO)return g2;YO=1;var e=bJ(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,l,u,d){i.push(u?d.replace(r,"$1"):l||o)}),i});return g2=n,g2}var x2,XO;function My(){if(XO)return x2;XO=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=r(t[n],n,t);return i}return x2=e,x2}var y2,QO;function NJ(){if(QO)return y2;QO=1;var e=Af(),t=My(),r=$a(),n=Cf(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return y2=o,y2}var b2,ZO;function P8(){if(ZO)return b2;ZO=1;var e=NJ();function t(r){return r==null?"":e(r)}return b2=t,b2}var v2,JO;function Ly(){if(JO)return v2;JO=1;var e=$a(),t=dC(),r=vJ(),n=P8();function s(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return v2=s,v2}var N2,eR;function gh(){if(eR)return N2;eR=1;var e=Cf();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return N2=t,N2}var S2,tR;function $y(){if(tR)return S2;tR=1;var e=Ly(),t=gh();function r(n,s){s=e(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[t(s[i++])];return i&&i==o?n:void 0}return S2=r,S2}var w2,rR;function D8(){if(rR)return w2;rR=1;var e=$y();function t(r,n,s){var i=r==null?void 0:e(r,n);return i===void 0?s:i}return w2=t,w2}var SJ=D8();const rs=Rr(SJ);var j2,nR;function wJ(){if(nR)return j2;nR=1;function e(t){return t==null}return j2=e,j2}var jJ=wJ();const It=Rr(jJ);var E2,aR;function EJ(){if(aR)return E2;aR=1;var e=fl(),t=$a(),r=Pi(),n="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return E2=s,E2}var _J=EJ();const lu=Rr(_J);var AJ=fC();const At=Rr(AJ);var CJ=Di();const Tf=Rr(CJ);var _2={exports:{}},Pr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function TJ(){if(sR)return Pr;sR=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function N(b){if(typeof b=="object"&&b!==null){var S=b.$$typeof;switch(S){case e:switch(b=b.type,b){case r:case s:case n:case d:case f:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case u:case h:case m:case i:return b;default:return S}}case t:return S}}}return Pr.ContextConsumer=o,Pr.ContextProvider=i,Pr.Element=e,Pr.ForwardRef=u,Pr.Fragment=r,Pr.Lazy=h,Pr.Memo=m,Pr.Portal=t,Pr.Profiler=s,Pr.StrictMode=n,Pr.Suspense=d,Pr.SuspenseList=f,Pr.isAsyncMode=function(){return!1},Pr.isConcurrentMode=function(){return!1},Pr.isContextConsumer=function(b){return N(b)===o},Pr.isContextProvider=function(b){return N(b)===i},Pr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Pr.isForwardRef=function(b){return N(b)===u},Pr.isFragment=function(b){return N(b)===r},Pr.isLazy=function(b){return N(b)===h},Pr.isMemo=function(b){return N(b)===m},Pr.isPortal=function(b){return N(b)===t},Pr.isProfiler=function(b){return N(b)===s},Pr.isStrictMode=function(b){return N(b)===n},Pr.isSuspense=function(b){return N(b)===d},Pr.isSuspenseList=function(b){return N(b)===f},Pr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===s||b===n||b===d||b===f||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===m||b.$$typeof===i||b.$$typeof===o||b.$$typeof===u||b.$$typeof===v||b.getModuleId!==void 0)},Pr.typeOf=N,Pr}var iR;function kJ(){return iR||(iR=1,_2.exports=TJ()),_2.exports}var OJ=kJ(),A2,oR;function I8(){if(oR)return A2;oR=1;var e=fl(),t=Pi(),r="[object Number]";function n(s){return typeof s=="number"||t(s)&&e(s)==r}return A2=n,A2}var C2,lR;function RJ(){if(lR)return C2;lR=1;var e=I8();function t(r){return e(r)&&r!=+r}return C2=t,C2}var PJ=RJ();const mc=Rr(PJ);var DJ=I8();const IJ=Rr(DJ);var Pa=function(t){return t===0?0:t>0?1:-1},Vc=function(t){return lu(t)&&t.indexOf("%")===t.length-1},qe=function(t){return IJ(t)&&!mc(t)},MJ=function(t){return It(t)},zn=function(t){return qe(t)||lu(t)},LJ=0,pl=function(t){var r=++LJ;return"".concat(t||"").concat(r)},Da=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(t)&&!lu(t))return n;var i;if(Vc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return mc(i)&&(i=n),s&&i>r&&(i=r),i},Xl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},$J=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},cn=function(t,r){return qe(t)&&qe(r)?function(n){return t+n*(r-t)}:function(){return r}};function qg(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):rs(n,t))===r})}var FJ=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,s=0,i=0,o=0,l=1/0,u=-1/0,d=0,f=0,m=0;m<r;m++)d=t[m].cx||0,f=t[m].cy||0,n+=d,s+=f,i+=d*f,o+=d*d,l=Math.min(l,d),u=Math.max(u,d);var h=r*o!==n*n?(r*i-n*s)/(r*o-n*n):0;return{xmin:l,xmax:u,a:h,b:(s-h*n)/r}},BJ=function(t,r){return qe(t)&&qe(r)?t-r:lu(t)&&lu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Nd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function EE(e){"@babel/helpers - typeof";return EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EE(e)}var UJ=["viewBox","children"],zJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cR=["points","pathLength"],T2={svg:UJ,polygon:cR,polyline:cR},hC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gg=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!Tf(n))return null;var s={};return Object.keys(n).forEach(function(i){hC.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},HJ=function(t,r,n){return function(s){return t(r,n,s),null}},oc=function(t,r,n){if(!Tf(t)||EE(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];hC.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=HJ(o,r,n))}),s},qJ=["children"],GJ=["children"];function uR(e,t){if(e==null)return{};var r=KJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _E(e){"@babel/helpers - typeof";return _E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_E(e)}var dR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},el=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},fR=null,k2=null,Fy=function e(t){if(t===fR&&Array.isArray(k2))return k2;var r=[];return y.Children.forEach(t,function(n){It(n)||(OJ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),k2=r,fR=t,r};function Ma(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return el(s)}):n=[el(t)],Fy(e).forEach(function(s){var i=rs(s,"type.displayName")||rs(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function va(e,t){var r=Ma(e,t);return r&&r[0]}var AE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!qe(n)||n<=0||!qe(s)||s<=0)},WJ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],M8=function(t){return t&&t.type&&lu(t.type)&&WJ.indexOf(t.type)>=0},L8=function(t){return t&&_E(t)==="object"&&"clipDot"in t},VJ=function(t,r,n,s){var i,o=(i=T2?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!At(t)&&(s&&o.includes(r)||zJ.includes(r))||n&&hC.includes(r)},YJ=function(t){var r=[];return Fy(t).forEach(function(n){M8(n)&&r.push(n)}),r},mt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(y.isValidElement(t)&&(s=t.props),!Tf(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;VJ((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},CE=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return pR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!pR(i,o))return!1}return!0},pR=function(t,r){if(It(t)&&It(r))return!0;if(!It(t)&&!It(r)){var n=t.props||{},s=n.children,i=uR(n,qJ),o=r.props||{},l=o.children,u=uR(o,GJ);return s&&l?Nd(i,u)&&CE(s,l):!s&&!l?Nd(i,u):!1}return!1},mR=function(t,r){var n=[],s={};return Fy(t).forEach(function(i,o){if(M8(i))n.push(i);else if(i){var l=el(i.type),u=r[l]||{},d=u.handler,f=u.once;if(d&&(!f||!s[l])){var m=d(i,l,o);n.push(m),s[l]=!0}}}),n},XJ=function(t){var r=t&&t.type;return r&&dR[r]?dR[r]:null},QJ=function(t,r){return Fy(r).indexOf(t)},ZJ=["children","width","height","viewBox","className","style","title","desc"];function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TE.apply(this,arguments)}function JJ(e,t){if(e==null)return{};var r=eee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kg(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,u=e.desc,d=JJ(e,ZJ),f=s||{width:r,height:n,x:0,y:0},m=Gt("recharts-surface",i);return z.createElement("svg",TE({},mt(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),z.createElement("title",null,l),z.createElement("desc",null,u),t)}var tee=["children","className"];function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kE.apply(this,arguments)}function ree(e,t){if(e==null)return{};var r=nee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Yt=z.forwardRef(function(e,t){var r=e.children,n=e.className,s=ree(e,tee),i=Gt("recharts-layer",n);return z.createElement("g",kE({className:i},mt(s,!0),{ref:t}),r)}),Ei=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},O2,hR;function $8(){if(hR)return O2;hR=1;function e(t,r,n){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=t[s+r];return o}return O2=e,O2}var R2,gR;function aee(){if(gR)return R2;gR=1;var e=$8();function t(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:e(r,n,s)}return R2=t,R2}var P2,xR;function F8(){if(xR)return P2;xR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function u(d){return l.test(d)}return P2=u,P2}var D2,yR;function see(){if(yR)return D2;yR=1;function e(t){return t.split("")}return D2=e,D2}var I2,bR;function iee(){if(bR)return I2;bR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+u+")",f="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",v=d+"?",N="["+i+"]?",b="(?:"+x+"(?:"+[f,m,h].join("|")+")"+N+v+")*",S=N+v+b,j="(?:"+[f+l+"?",l,m,h,o].join("|")+")",A=RegExp(u+"(?="+u+")|"+j+S,"g");function _(E){return E.match(A)||[]}return I2=_,I2}var M2,vR;function oee(){if(vR)return M2;vR=1;var e=see(),t=F8(),r=iee();function n(s){return t(s)?r(s):e(s)}return M2=n,M2}var L2,NR;function lee(){if(NR)return L2;NR=1;var e=aee(),t=F8(),r=oee(),n=P8();function s(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,u=l?l[0]:o.charAt(0),d=l?e(l,1).join(""):o.slice(1);return u[i]()+d}}return L2=s,L2}var $2,SR;function cee(){if(SR)return $2;SR=1;var e=lee(),t=e("toUpperCase");return $2=t,$2}var uee=cee();const By=Rr(uee);function Wr(e){return function(){return e}}const B8=Math.cos,Wg=Math.sin,Ii=Math.sqrt,Vg=Math.PI,Uy=2*Vg,OE=Math.PI,RE=2*OE,Hc=1e-6,dee=RE-Hc;function U8(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function fee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return U8;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class pee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?U8:fee(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,d=s-r,f=o-t,m=l-r,h=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Hc)if(!(Math.abs(m*u-d*f)>Hc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,v=s-l,N=u*u+d*d,b=x*x+v*v,S=Math.sqrt(N),j=Math.sqrt(h),A=i*Math.tan((OE-Math.acos((N+h-b)/(2*S*j)))/2),_=A/j,E=A/S;Math.abs(_-1)>Hc&&this._append`L${t+_*f},${r+_*m}`,this._append`A${i},${i},0,0,${+(m*x>f*v)},${this._x1=t+E*u},${this._y1=r+E*d}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),u=n*Math.sin(s),d=t+l,f=r+u,m=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Hc||Math.abs(this._y1-f)>Hc)&&this._append`L${d},${f}`,n&&(h<0&&(h=h%RE+RE),h>dee?this._append`A${n},${n},0,1,${m},${t-l},${r-u}A${n},${n},0,1,${m},${this._x1=d},${this._y1=f}`:h>Hc&&this._append`A${n},${n},0,${+(h>=OE)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function gC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new pee(t)}function xC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z8(e){this._context=e}z8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zy(e){return new z8(e)}function H8(e){return e[0]}function q8(e){return e[1]}function G8(e,t){var r=Wr(!0),n=null,s=zy,i=null,o=gC(l);e=typeof e=="function"?e:e===void 0?H8:Wr(e),t=typeof t=="function"?t:t===void 0?q8:Wr(t);function l(u){var d,f=(u=xC(u)).length,m,h=!1,x;for(n==null&&(i=s(x=o())),d=0;d<=f;++d)!(d<f&&r(m=u[d],d,u))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(m,d,u),+t(m,d,u));if(x)return i=null,x+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Wr(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Wr(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Wr(!!u),l):r},l.curve=function(u){return arguments.length?(s=u,n!=null&&(i=s(n)),l):s},l.context=function(u){return arguments.length?(u==null?n=i=null:i=s(n=u),l):n},l}function F0(e,t,r){var n=null,s=Wr(!0),i=null,o=zy,l=null,u=gC(d);e=typeof e=="function"?e:e===void 0?H8:Wr(+e),t=typeof t=="function"?t:Wr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?q8:Wr(+r);function d(m){var h,x,v,N=(m=xC(m)).length,b,S=!1,j,A=new Array(N),_=new Array(N);for(i==null&&(l=o(j=u())),h=0;h<=N;++h){if(!(h<N&&s(b=m[h],h,m))===S)if(S=!S)x=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=x;--v)l.point(A[v],_[v]);l.lineEnd(),l.areaEnd()}S&&(A[h]=+e(b,h,m),_[h]=+t(b,h,m),l.point(n?+n(b,h,m):A[h],r?+r(b,h,m):_[h]))}if(j)return l=null,j+""||null}function f(){return G8().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Wr(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Wr(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Wr(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Wr(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Wr(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Wr(+m),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(n).y(t)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Wr(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class K8{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mee(e){return new K8(e,!0)}function hee(e){return new K8(e,!1)}const yC={draw(e,t){const r=Ii(t/Vg);e.moveTo(r,0),e.arc(0,0,r,0,Uy)}},gee={draw(e,t){const r=Ii(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},W8=Ii(1/3),xee=W8*2,yee={draw(e,t){const r=Ii(t/xee),n=r*W8;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},bee={draw(e,t){const r=Ii(t),n=-r/2;e.rect(n,n,r,r)}},vee=.8908130915292852,V8=Wg(Vg/10)/Wg(7*Vg/10),Nee=Wg(Uy/10)*V8,See=-B8(Uy/10)*V8,wee={draw(e,t){const r=Ii(t*vee),n=Nee*r,s=See*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Uy*i/5,l=B8(o),u=Wg(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*s,u*n+l*s)}e.closePath()}},F2=Ii(3),jee={draw(e,t){const r=-Ii(t/(F2*3));e.moveTo(0,r*2),e.lineTo(-F2*r,-r),e.lineTo(F2*r,-r),e.closePath()}},Os=-.5,Rs=Ii(3)/2,PE=1/Ii(12),Eee=(PE/2+1)*3,_ee={draw(e,t){const r=Ii(t/Eee),n=r/2,s=r*PE,i=n,o=r*PE+r,l=-i,u=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(Os*n-Rs*s,Rs*n+Os*s),e.lineTo(Os*i-Rs*o,Rs*i+Os*o),e.lineTo(Os*l-Rs*u,Rs*l+Os*u),e.lineTo(Os*n+Rs*s,Os*s-Rs*n),e.lineTo(Os*i+Rs*o,Os*o-Rs*i),e.lineTo(Os*l+Rs*u,Os*u-Rs*l),e.closePath()}};function Aee(e,t){let r=null,n=gC(s);e=typeof e=="function"?e:Wr(e||yC),t=typeof t=="function"?t:Wr(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Wr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Wr(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Yg(){}function Xg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Y8(e){this._context=e}Y8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cee(e){return new Y8(e)}function X8(e){this._context=e}X8.prototype={areaStart:Yg,areaEnd:Yg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tee(e){return new X8(e)}function Q8(e){this._context=e}Q8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kee(e){return new Q8(e)}function Z8(e){this._context=e}Z8.prototype={areaStart:Yg,areaEnd:Yg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Oee(e){return new Z8(e)}function wR(e){return e<0?-1:1}function jR(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(wR(i)+wR(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ER(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function B2(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Qg(e){this._context=e}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B2(this,this._t0,ER(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,B2(this,ER(this,r=jR(this,e,t)),r);break;default:B2(this,this._t0,r=jR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function J8(e){this._context=new eF(e)}(J8.prototype=Object.create(Qg.prototype)).point=function(e,t){Qg.prototype.point.call(this,t,e)};function eF(e){this._context=e}eF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Ree(e){return new Qg(e)}function Pee(e){return new J8(e)}function tF(e){this._context=e}tF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_R(e),s=_R(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _R(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Dee(e){return new tF(e)}function Hy(e,t){this._context=e,this._t=t}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Iee(e){return new Hy(e,.5)}function Mee(e){return new Hy(e,0)}function Lee(e){return new Hy(e,1)}function Md(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function DE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $ee(e,t){return e[t]}function Fee(e){const t=[];return t.key=e,t}function Bee(){var e=Wr([]),t=DE,r=Md,n=$ee;function s(i){var o=Array.from(e.apply(this,arguments),Fee),l,u=o.length,d=-1,f;for(const m of i)for(l=0,++d;l<u;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,f=xC(t(o));l<u;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Wr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Wr(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?DE:typeof i=="function"?i:Wr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Md,s):r},s}function Uee(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Md(e,t)}}function zee(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Md(e,t)}}function Hee(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,u=0,d=0;l<o;++l){for(var f=e[t[l]],m=f[n][1]||0,h=f[n-1][1]||0,x=(m-h)/2,v=0;v<l;++v){var N=e[t[v]],b=N[n][1]||0,S=N[n-1][1]||0;x+=b-S}u+=m,d+=x*m}s[n-1][1]+=s[n-1][0]=r,u&&(r-=d/u)}s[n-1][1]+=s[n-1][0]=r,Md(e,t)}}function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}var qee=["type","size","sizeType"];function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IE.apply(this,arguments)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return t=Kee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kee(e){var t=Wee(e,"string");return vm(t)=="symbol"?t:t+""}function Wee(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vee(e,t){if(e==null)return{};var r=Yee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rF={symbolCircle:yC,symbolCross:gee,symbolDiamond:yee,symbolSquare:bee,symbolStar:wee,symbolTriangle:jee,symbolWye:_ee},Xee=Math.PI/180,Qee=function(t){var r="symbol".concat(By(t));return rF[r]||yC},Zee=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Xee;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Jee=function(t,r){rF["symbol".concat(By(t))]=r},qy=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,u=Vee(t,qee),d=CR(CR({},u),{},{type:n,size:i,sizeType:l}),f=function(){var b=Qee(n),S=Aee().type(b).size(Zee(i,l,n));return S()},m=d.className,h=d.cx,x=d.cy,v=mt(d,!0);return h===+h&&x===+x&&i===+i?z.createElement("path",IE({},v,{className:Gt("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(x,")"),d:f()})):null};qy.registerSymbol=Jee;function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ME.apply(this,arguments)}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ete(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){Nm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aF(n.key),n)}}function nte(e,t,r){return t&&rte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ate(e,t,r){return t=Zg(t),ste(e,nF()?Reflect.construct(t,r||[],Zg(e).constructor):t.apply(e,r))}function ste(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ite(e)}function ite(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!e})()}function Zg(e){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(e)}function ote(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LE(e,t)}function LE(e,t){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},LE(e,t)}function Nm(e,t,r){return t=aF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aF(e){var t=lte(e,"string");return Ld(t)=="symbol"?t:t+""}function lte(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ps=32,bC=(function(e){function t(){return tte(this,t),ate(this,t,arguments)}return ote(t,e),nte(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Ps/2,o=Ps/6,l=Ps/3,u=n.inactive?s:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ps,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ps,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ps/8,"h").concat(Ps,"v").concat(Ps*3/4,"h").concat(-Ps,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var d=ete({},n);return delete d.legendIcon,z.cloneElement(n.legendIcon,d)}return z.createElement(qy,{fill:u,cx:i,cy:i,size:Ps,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,u=s.formatter,d=s.inactiveColor,f={x:0,y:0,width:Ps,height:Ps},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,v){var N=x.formatter||u,b=Gt(Nm(Nm({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",x.inactive));if(x.type==="none")return null;var S=At(x.value)?null:x.value;Ei(!At(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=x.inactive?d:x.color;return z.createElement("li",ME({className:b,style:m,key:"legend-item-".concat(v)},oc(n.props,x,v)),z.createElement(Kg,{width:o,height:o,viewBox:f,style:h},n.renderIcon(x)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},N?N(S,x,v):S))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(y.PureComponent);Nm(bC,"displayName","Legend");Nm(bC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var U2,kR;function cte(){if(kR)return U2;kR=1;var e=Dy();function t(){this.__data__=new e,this.size=0}return U2=t,U2}var z2,OR;function ute(){if(OR)return z2;OR=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return z2=e,z2}var H2,RR;function dte(){if(RR)return H2;RR=1;function e(t){return this.__data__.get(t)}return H2=e,H2}var q2,PR;function fte(){if(PR)return q2;PR=1;function e(t){return this.__data__.has(t)}return q2=e,q2}var G2,DR;function pte(){if(DR)return G2;DR=1;var e=Dy(),t=pC(),r=mC(),n=200;function s(i,o){var l=this.__data__;if(l instanceof e){var u=l.__data__;if(!t||u.length<n-1)return u.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(i,o),this.size=l.size,this}return G2=s,G2}var K2,IR;function vC(){if(IR)return K2;IR=1;var e=Dy(),t=cte(),r=ute(),n=dte(),s=fte(),i=pte();function o(l){var u=this.__data__=new e(l);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,K2=o,K2}var W2,MR;function mte(){if(MR)return W2;MR=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return W2=t,W2}var V2,LR;function hte(){if(LR)return V2;LR=1;function e(t){return this.__data__.has(t)}return V2=e,V2}var Y2,$R;function sF(){if($R)return Y2;$R=1;var e=mC(),t=mte(),r=hte();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Y2=n,Y2}var X2,FR;function iF(){if(FR)return X2;FR=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return X2=e,X2}var Q2,BR;function oF(){if(BR)return Q2;BR=1;function e(t,r){return t.has(r)}return Q2=e,Q2}var Z2,UR;function lF(){if(UR)return Z2;UR=1;var e=sF(),t=iF(),r=oF(),n=1,s=2;function i(o,l,u,d,f,m){var h=u&n,x=o.length,v=l.length;if(x!=v&&!(h&&v>x))return!1;var N=m.get(o),b=m.get(l);if(N&&b)return N==l&&b==o;var S=-1,j=!0,A=u&s?new e:void 0;for(m.set(o,l),m.set(l,o);++S<x;){var _=o[S],E=l[S];if(d)var C=h?d(E,_,S,l,o,m):d(_,E,S,o,l,m);if(C!==void 0){if(C)continue;j=!1;break}if(A){if(!t(l,function(R,I){if(!r(A,I)&&(_===R||f(_,R,u,d,m)))return A.push(I)})){j=!1;break}}else if(!(_===E||f(_,E,u,d,m))){j=!1;break}}return m.delete(o),m.delete(l),j}return Z2=i,Z2}var J2,zR;function cF(){if(zR)return J2;zR=1;var e=Ri(),t=e.Uint8Array;return J2=t,J2}var eN,HR;function gte(){if(HR)return eN;HR=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,i){n[++r]=[i,s]}),n}return eN=e,eN}var tN,qR;function NC(){if(qR)return tN;qR=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return tN=e,tN}var rN,GR;function xte(){if(GR)return rN;GR=1;var e=Af(),t=cF(),r=Ry(),n=lF(),s=gte(),i=NC(),o=1,l=2,u="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Map]",h="[object Number]",x="[object RegExp]",v="[object Set]",N="[object String]",b="[object Symbol]",S="[object ArrayBuffer]",j="[object DataView]",A=e?e.prototype:void 0,_=A?A.valueOf:void 0;function E(C,R,I,O,B,q,F){switch(I){case j:if(C.byteLength!=R.byteLength||C.byteOffset!=R.byteOffset)return!1;C=C.buffer,R=R.buffer;case S:return!(C.byteLength!=R.byteLength||!q(new t(C),new t(R)));case u:case d:case h:return r(+C,+R);case f:return C.name==R.name&&C.message==R.message;case x:case N:return C==R+"";case m:var Y=s;case v:var D=O&o;if(Y||(Y=i),C.size!=R.size&&!D)return!1;var G=F.get(C);if(G)return G==R;O|=l,F.set(C,R);var U=n(Y(C),Y(R),O,B,q,F);return F.delete(C),U;case b:if(_)return _.call(C)==_.call(R)}return!1}return rN=E,rN}var nN,KR;function SC(){if(KR)return nN;KR=1;function e(t,r){for(var n=-1,s=r.length,i=t.length;++n<s;)t[i+n]=r[n];return t}return nN=e,nN}var aN,WR;function uF(){if(WR)return aN;WR=1;var e=SC(),t=$a();function r(n,s,i){var o=s(n);return t(n)?o:e(o,i(n))}return aN=r,aN}var sN,VR;function yte(){if(VR)return sN;VR=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return sN=e,sN}var iN,YR;function dF(){if(YR)return iN;YR=1;function e(){return[]}return iN=e,iN}var oN,XR;function wC(){if(XR)return oN;XR=1;var e=yte(),t=dF(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return n.call(o,l)}))}:t;return oN=i,oN}var lN,QR;function bte(){if(QR)return lN;QR=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return lN=e,lN}var cN,ZR;function vte(){if(ZR)return cN;ZR=1;var e=fl(),t=Pi(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return cN=n,cN}var uN,JR;function jC(){if(JR)return uN;JR=1;var e=vte(),t=Pi(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return uN=i,uN}var qp={exports:{}},dN,eP;function Nte(){if(eP)return dN;eP=1;function e(){return!1}return dN=e,dN}qp.exports;var tP;function EC(){return tP||(tP=1,(function(e,t){var r=Ri(),n=Nte(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,d=u||n;e.exports=d})(qp,qp.exports)),qp.exports}var fN,rP;function _C(){if(rP)return fN;rP=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return fN=r,fN}var pN,nP;function AC(){if(nP)return pN;nP=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return pN=t,pN}var mN,aP;function Ste(){if(aP)return mN;aP=1;var e=fl(),t=AC(),r=Pi(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",m="[object Object]",h="[object RegExp]",x="[object Set]",v="[object String]",N="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",j="[object Float32Array]",A="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",R="[object Uint8Array]",I="[object Uint8ClampedArray]",O="[object Uint16Array]",B="[object Uint32Array]",q={};q[j]=q[A]=q[_]=q[E]=q[C]=q[R]=q[I]=q[O]=q[B]=!0,q[n]=q[s]=q[b]=q[i]=q[S]=q[o]=q[l]=q[u]=q[d]=q[f]=q[m]=q[h]=q[x]=q[v]=q[N]=!1;function F(Y){return r(Y)&&t(Y.length)&&!!q[e(Y)]}return mN=F,mN}var hN,sP;function Gy(){if(sP)return hN;sP=1;function e(t){return function(r){return t(r)}}return hN=e,hN}var Gp={exports:{}};Gp.exports;var iP;function CC(){return iP||(iP=1,(function(e,t){var r=k8(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Gp,Gp.exports)),Gp.exports}var gN,oP;function fF(){if(oP)return gN;oP=1;var e=Ste(),t=Gy(),r=CC(),n=r&&r.isTypedArray,s=n?t(n):e;return gN=s,gN}var xN,lP;function pF(){if(lP)return xN;lP=1;var e=bte(),t=jC(),r=$a(),n=EC(),s=_C(),i=fF(),o=Object.prototype,l=o.hasOwnProperty;function u(d,f){var m=r(d),h=!m&&t(d),x=!m&&!h&&n(d),v=!m&&!h&&!x&&i(d),N=m||h||x||v,b=N?e(d.length,String):[],S=b.length;for(var j in d)(f||l.call(d,j))&&!(N&&(j=="length"||x&&(j=="offset"||j=="parent")||v&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||s(j,S)))&&b.push(j);return b}return xN=u,xN}var yN,cP;function TC(){if(cP)return yN;cP=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return yN=t,yN}var bN,uP;function mF(){if(uP)return bN;uP=1;function e(t,r){return function(n){return t(r(n))}}return bN=e,bN}var vN,dP;function wte(){if(dP)return vN;dP=1;var e=mF(),t=e(Object.keys,Object);return vN=t,vN}var NN,fP;function jte(){if(fP)return NN;fP=1;var e=TC(),t=wte(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return NN=s,NN}var SN,pP;function kf(){if(pP)return SN;pP=1;var e=fC(),t=AC();function r(n){return n!=null&&t(n.length)&&!e(n)}return SN=r,SN}var wN,mP;function Of(){if(mP)return wN;mP=1;var e=pF(),t=jte(),r=kf();function n(s){return r(s)?e(s):t(s)}return wN=n,wN}var jN,hP;function hF(){if(hP)return jN;hP=1;var e=uF(),t=wC(),r=Of();function n(s){return e(s,r,t)}return jN=n,jN}var EN,gP;function Ete(){if(gP)return EN;gP=1;var e=hF(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,u,d,f){var m=l&t,h=e(i),x=h.length,v=e(o),N=v.length;if(x!=N&&!m)return!1;for(var b=x;b--;){var S=h[b];if(!(m?S in o:n.call(o,S)))return!1}var j=f.get(i),A=f.get(o);if(j&&A)return j==o&&A==i;var _=!0;f.set(i,o),f.set(o,i);for(var E=m;++b<x;){S=h[b];var C=i[S],R=o[S];if(u)var I=m?u(R,C,S,o,i,f):u(C,R,S,i,o,f);if(!(I===void 0?C===R||d(C,R,l,u,f):I)){_=!1;break}E||(E=S=="constructor")}if(_&&!E){var O=i.constructor,B=o.constructor;O!=B&&"constructor"in i&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof B=="function"&&B instanceof B)&&(_=!1)}return f.delete(i),f.delete(o),_}return EN=s,EN}var _N,xP;function _te(){if(xP)return _N;xP=1;var e=Su(),t=Ri(),r=e(t,"DataView");return _N=r,_N}var AN,yP;function Ate(){if(yP)return AN;yP=1;var e=Su(),t=Ri(),r=e(t,"Promise");return AN=r,AN}var CN,bP;function gF(){if(bP)return CN;bP=1;var e=Su(),t=Ri(),r=e(t,"Set");return CN=r,CN}var TN,vP;function Cte(){if(vP)return TN;vP=1;var e=Su(),t=Ri(),r=e(t,"WeakMap");return TN=r,TN}var kN,NP;function Ky(){if(NP)return kN;NP=1;var e=_te(),t=pC(),r=Ate(),n=gF(),s=Cte(),i=fl(),o=O8(),l="[object Map]",u="[object Object]",d="[object Promise]",f="[object Set]",m="[object WeakMap]",h="[object DataView]",x=o(e),v=o(t),N=o(r),b=o(n),S=o(s),j=i;return(e&&j(new e(new ArrayBuffer(1)))!=h||t&&j(new t)!=l||r&&j(r.resolve())!=d||n&&j(new n)!=f||s&&j(new s)!=m)&&(j=function(A){var _=i(A),E=_==u?A.constructor:void 0,C=E?o(E):"";if(C)switch(C){case x:return h;case v:return l;case N:return d;case b:return f;case S:return m}return _}),kN=j,kN}var ON,SP;function Tte(){if(SP)return ON;SP=1;var e=vC(),t=lF(),r=xte(),n=Ete(),s=Ky(),i=$a(),o=EC(),l=fF(),u=1,d="[object Arguments]",f="[object Array]",m="[object Object]",h=Object.prototype,x=h.hasOwnProperty;function v(N,b,S,j,A,_){var E=i(N),C=i(b),R=E?f:s(N),I=C?f:s(b);R=R==d?m:R,I=I==d?m:I;var O=R==m,B=I==m,q=R==I;if(q&&o(N)){if(!o(b))return!1;E=!0,O=!1}if(q&&!O)return _||(_=new e),E||l(N)?t(N,b,S,j,A,_):r(N,b,R,S,j,A,_);if(!(S&u)){var F=O&&x.call(N,"__wrapped__"),Y=B&&x.call(b,"__wrapped__");if(F||Y){var D=F?N.value():N,G=Y?b.value():b;return _||(_=new e),A(D,G,S,j,_)}}return q?(_||(_=new e),n(N,b,S,j,A,_)):!1}return ON=v,ON}var RN,wP;function kC(){if(wP)return RN;wP=1;var e=Tte(),t=Pi();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,i,o,r,l)}return RN=r,RN}var PN,jP;function kte(){if(jP)return PN;jP=1;var e=vC(),t=kC(),r=1,n=2;function s(i,o,l,u){var d=l.length,f=d,m=!u;if(i==null)return!f;for(i=Object(i);d--;){var h=l[d];if(m&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++d<f;){h=l[d];var x=h[0],v=i[x],N=h[1];if(m&&h[2]){if(v===void 0&&!(x in i))return!1}else{var b=new e;if(u)var S=u(v,N,x,i,o,b);if(!(S===void 0?t(N,v,r|n,u,b):S))return!1}}return!0}return PN=s,PN}var DN,EP;function xF(){if(EP)return DN;EP=1;var e=Di();function t(r){return r===r&&!e(r)}return DN=t,DN}var IN,_P;function Ote(){if(_P)return IN;_P=1;var e=xF(),t=Of();function r(n){for(var s=t(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,e(l)]}return s}return IN=r,IN}var MN,AP;function yF(){if(AP)return MN;AP=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return MN=e,MN}var LN,CP;function Rte(){if(CP)return LN;CP=1;var e=kte(),t=Ote(),r=yF();function n(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return LN=n,LN}var $N,TP;function Pte(){if(TP)return $N;TP=1;function e(t,r){return t!=null&&r in Object(t)}return $N=e,$N}var FN,kP;function Dte(){if(kP)return FN;kP=1;var e=Ly(),t=jC(),r=$a(),n=_C(),s=AC(),i=gh();function o(l,u,d){u=e(u,l);for(var f=-1,m=u.length,h=!1;++f<m;){var x=i(u[f]);if(!(h=l!=null&&d(l,x)))break;l=l[x]}return h||++f!=m?h:(m=l==null?0:l.length,!!m&&s(m)&&n(x,m)&&(r(l)||t(l)))}return FN=o,FN}var BN,OP;function Ite(){if(OP)return BN;OP=1;var e=Pte(),t=Dte();function r(n,s){return n!=null&&t(n,s,e)}return BN=r,BN}var UN,RP;function Mte(){if(RP)return UN;RP=1;var e=kC(),t=D8(),r=Ite(),n=dC(),s=xF(),i=yF(),o=gh(),l=1,u=2;function d(f,m){return n(f)&&s(m)?i(o(f),m):function(h){var x=t(h,f);return x===void 0&&x===m?r(h,f):e(m,x,l|u)}}return UN=d,UN}var zN,PP;function Rf(){if(PP)return zN;PP=1;function e(t){return t}return zN=e,zN}var HN,DP;function Lte(){if(DP)return HN;DP=1;function e(t){return function(r){return r?.[t]}}return HN=e,HN}var qN,IP;function $te(){if(IP)return qN;IP=1;var e=$y();function t(r){return function(n){return e(n,r)}}return qN=t,qN}var GN,MP;function Fte(){if(MP)return GN;MP=1;var e=Lte(),t=$te(),r=dC(),n=gh();function s(i){return r(i)?e(n(i)):t(i)}return GN=s,GN}var KN,LP;function vo(){if(LP)return KN;LP=1;var e=Rte(),t=Mte(),r=Rf(),n=$a(),s=Fte();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):s(o)}return KN=i,KN}var WN,$P;function bF(){if($P)return WN;$P=1;function e(t,r,n,s){for(var i=t.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return WN=e,WN}var VN,FP;function Bte(){if(FP)return VN;FP=1;function e(t){return t!==t}return VN=e,VN}var YN,BP;function Ute(){if(BP)return YN;BP=1;function e(t,r,n){for(var s=n-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return YN=e,YN}var XN,UP;function zte(){if(UP)return XN;UP=1;var e=bF(),t=Bte(),r=Ute();function n(s,i,o){return i===i?r(s,i,o):e(s,t,o)}return XN=n,XN}var QN,zP;function Hte(){if(zP)return QN;zP=1;var e=zte();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return QN=t,QN}var ZN,HP;function qte(){if(HP)return ZN;HP=1;function e(t,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;)if(n(r,t[s]))return!0;return!1}return ZN=e,ZN}var JN,qP;function Gte(){if(qP)return JN;qP=1;function e(){}return JN=e,JN}var eS,GP;function Kte(){if(GP)return eS;GP=1;var e=gF(),t=Gte(),r=NC(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return eS=s,eS}var tS,KP;function Wte(){if(KP)return tS;KP=1;var e=sF(),t=Hte(),r=qte(),n=oF(),s=Kte(),i=NC(),o=200;function l(u,d,f){var m=-1,h=t,x=u.length,v=!0,N=[],b=N;if(f)v=!1,h=r;else if(x>=o){var S=d?null:s(u);if(S)return i(S);v=!1,h=n,b=new e}else b=d?[]:N;e:for(;++m<x;){var j=u[m],A=d?d(j):j;if(j=f||j!==0?j:0,v&&A===A){for(var _=b.length;_--;)if(b[_]===A)continue e;d&&b.push(A),N.push(j)}else h(b,A,f)||(b!==N&&b.push(A),N.push(j))}return N}return tS=l,tS}var rS,WP;function Vte(){if(WP)return rS;WP=1;var e=vo(),t=Wte();function r(n,s){return n&&n.length?t(n,e(s,2)):[]}return rS=r,rS}var Yte=Vte();const VP=Rr(Yte);function vF(e,t,r){return t===!0?VP(e,r):At(t)?VP(e,t):e}function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}var Xte=["ref"];function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){Wy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SF(n.key),n)}}function Zte(e,t,r){return t&&XP(e.prototype,t),r&&XP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jte(e,t,r){return t=Jg(t),ere(e,NF()?Reflect.construct(t,r||[],Jg(e).constructor):t.apply(e,r))}function ere(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tre(e)}function tre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(e)}function rre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$E(e,t)}function $E(e,t){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$E(e,t)}function Wy(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=nre(e,"string");return $d(t)=="symbol"?t:t+""}function nre(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function are(e,t){if(e==null)return{};var r=sre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ire(e){return e.value}function ore(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=are(t,Xte);return z.createElement(bC,r)}var QP=1,_i=(function(e){function t(){var r;Qte(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Jte(this,t,[].concat(s)),Wy(r,"lastBoundingBox",{width:-1,height:-1}),r}return rre(t,e),Zte(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>QP||Math.abs(s.height-this.lastBoundingBox.height)>QP)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Uo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,u=s.margin,d=s.chartWidth,f=s.chartHeight,m,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();m={left:((d||0)-x.width)/2}}else m=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((f||0)-v.height)/2}}else h=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Uo(Uo({},m),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,u=s.wrapperStyle,d=s.payloadUniqBy,f=s.payload,m=Uo(Uo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},ore(i,Uo(Uo({},this.props),{},{payload:vF(f,d,ire)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Uo(Uo({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&qe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(y.PureComponent);Wy(_i,"displayName","Legend");Wy(_i,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var nS,ZP;function lre(){if(ZP)return nS;ZP=1;var e=Af(),t=jC(),r=$a(),n=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(n&&i&&i[n])}return nS=s,nS}var aS,JP;function OC(){if(JP)return aS;JP=1;var e=SC(),t=lre();function r(n,s,i,o,l){var u=-1,d=n.length;for(i||(i=t),l||(l=[]);++u<d;){var f=n[u];s>0&&i(f)?s>1?r(f,s-1,i,o,l):e(l,f):o||(l[l.length]=f)}return l}return aS=r,aS}var sS,eD;function cre(){if(eD)return sS;eD=1;function e(t){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),u=l.length;u--;){var d=l[t?u:++i];if(n(o[d],d,o)===!1)break}return r}}return sS=e,sS}var iS,tD;function ure(){if(tD)return iS;tD=1;var e=cre(),t=e();return iS=t,iS}var oS,rD;function wF(){if(rD)return oS;rD=1;var e=ure(),t=Of();function r(n,s){return n&&e(n,s,t)}return oS=r,oS}var lS,nD;function dre(){if(nD)return lS;nD=1;var e=kf();function t(r,n){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var o=s.length,l=n?o:-1,u=Object(s);(n?l--:++l<o)&&i(u[l],l,u)!==!1;);return s}}return lS=t,lS}var cS,aD;function RC(){if(aD)return cS;aD=1;var e=wF(),t=dre(),r=t(e);return cS=r,cS}var uS,sD;function jF(){if(sD)return uS;sD=1;var e=RC(),t=kf();function r(n,s){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,u,d){o[++i]=s(l,u,d)}),o}return uS=r,uS}var dS,iD;function fre(){if(iD)return dS;iD=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return dS=e,dS}var fS,oD;function pre(){if(oD)return fS;oD=1;var e=Cf();function t(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=e(r),u=n!==void 0,d=n===null,f=n===n,m=e(n);if(!d&&!m&&!l&&r>n||l&&u&&f&&!d&&!m||i&&u&&f||!s&&f||!o)return 1;if(!i&&!l&&!m&&r<n||m&&s&&o&&!i&&!l||d&&s&&o||!u&&o||!f)return-1}return 0}return fS=t,fS}var pS,lD;function mre(){if(lD)return pS;lD=1;var e=pre();function t(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,u=o.length,d=s.length;++i<u;){var f=e(o[i],l[i]);if(f){if(i>=d)return f;var m=s[i];return f*(m=="desc"?-1:1)}}return r.index-n.index}return pS=t,pS}var mS,cD;function hre(){if(cD)return mS;cD=1;var e=My(),t=$y(),r=vo(),n=jF(),s=fre(),i=Gy(),o=mre(),l=Rf(),u=$a();function d(f,m,h){m.length?m=e(m,function(N){return u(N)?function(b){return t(b,N.length===1?N[0]:N)}:N}):m=[l];var x=-1;m=e(m,i(r));var v=n(f,function(N,b,S){var j=e(m,function(A){return A(N)});return{criteria:j,index:++x,value:N}});return s(v,function(N,b){return o(N,b,h)})}return mS=d,mS}var hS,uD;function gre(){if(uD)return hS;uD=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return hS=e,hS}var gS,dD;function EF(){if(dD)return gS;dD=1;var e=gre(),t=Math.max;function r(n,s,i){return s=t(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,u=t(o.length-s,0),d=Array(u);++l<u;)d[l]=o[s+l];l=-1;for(var f=Array(s+1);++l<s;)f[l]=o[l];return f[s]=i(d),e(n,this,f)}}return gS=r,gS}var xS,fD;function xre(){if(fD)return xS;fD=1;function e(t){return function(){return t}}return xS=e,xS}var yS,pD;function _F(){if(pD)return yS;pD=1;var e=Su(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return yS=t,yS}var bS,mD;function yre(){if(mD)return bS;mD=1;var e=xre(),t=_F(),r=Rf(),n=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return bS=n,bS}var vS,hD;function bre(){if(hD)return vS;hD=1;var e=800,t=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),u=t-(l-o);if(o=l,u>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return vS=n,vS}var NS,gD;function AF(){if(gD)return NS;gD=1;var e=yre(),t=bre(),r=t(e);return NS=r,NS}var SS,xD;function vre(){if(xD)return SS;xD=1;var e=Rf(),t=EF(),r=AF();function n(s,i){return r(t(s,i,e),s+"")}return SS=n,SS}var wS,yD;function Vy(){if(yD)return wS;yD=1;var e=Ry(),t=kf(),r=_C(),n=Di();function s(i,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?t(l)&&r(o,l.length):u=="string"&&o in l)?e(l[o],i):!1}return wS=s,wS}var jS,bD;function Nre(){if(bD)return jS;bD=1;var e=OC(),t=hre(),r=vre(),n=Vy(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return jS=s,jS}var Sre=Nre();const PC=Rr(Sre);function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FE.apply(this,arguments)}function wre(e,t){return Are(e)||_re(e,t)||Ere(e,t)||jre()}function jre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ere(e,t){if(e){if(typeof e=="string")return vD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vD(e,t)}}function vD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _re(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Are(e){if(Array.isArray(e))return e}function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ES(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){Cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cre(e,t,r){return t=Tre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tre(e){var t=kre(e,"string");return Sm(t)=="symbol"?t:t+""}function kre(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ore(e){return Array.isArray(e)&&zn(e[0])&&zn(e[1])?e.join(" ~ "):e}var Rre=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,u=t.labelStyle,d=u===void 0?{}:u,f=t.payload,m=t.formatter,h=t.itemSorter,x=t.wrapperClassName,v=t.labelClassName,N=t.label,b=t.labelFormatter,S=t.accessibilityLayer,j=S===void 0?!1:S,A=function(){if(f&&f.length){var F={padding:0,margin:0},Y=(h?PC(f,h):f).map(function(D,G){if(D.type==="none")return null;var U=ES({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),V=D.formatter||m||Ore,M=D.value,Q=D.name,J=M,P=Q;if(V&&J!=null&&P!=null){var K=V(M,Q,D,G,f);if(Array.isArray(K)){var Z=wre(K,2);J=Z[0],P=Z[1]}else J=K}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:U},zn(P)?z.createElement("span",{className:"recharts-tooltip-item-name"},P):null,zn(P)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},J),z.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:F},Y)}return null},_=ES({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=ES({margin:0},d),C=!It(N),R=C?N:"",I=Gt("recharts-default-tooltip",x),O=Gt("recharts-tooltip-label",v);C&&b&&f!==void 0&&f!==null&&(R=b(N,f));var B=j?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",FE({className:I,style:_},B),z.createElement("p",{className:O,style:E},z.isValidElement(R)?R:"".concat(R)),A())};function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function B0(e,t,r){return t=Pre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pre(e){var t=Dre(e,"string");return wm(t)=="symbol"?t:t+""}function Dre(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bp="recharts-tooltip-wrapper",Ire={visibility:"hidden"};function Mre(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Gt(bp,B0(B0(B0(B0({},"".concat(bp,"-right"),qe(r)&&t&&qe(t.x)&&r>=t.x),"".concat(bp,"-left"),qe(r)&&t&&qe(t.x)&&r<t.x),"".concat(bp,"-bottom"),qe(n)&&t&&qe(t.y)&&n>=t.y),"".concat(bp,"-top"),qe(n)&&t&&qe(t.y)&&n<t.y))}function SD(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,u=e.viewBox,d=e.viewBoxDimension;if(i&&qe(i[n]))return i[n];var f=r[n]-l-s,m=r[n]+s;if(t[n])return o[n]?f:m;if(o[n]){var h=f,x=u[n];return h<x?Math.max(m,u[n]):Math.max(f,u[n])}var v=m+l,N=u[n]+d;return v>N?Math.max(f,u[n]):Math.max(m,u[n])}function Lre(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $re(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,u=e.viewBox,d,f,m;return o.height>0&&o.width>0&&r?(f=SD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=SD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=Lre({translateX:f,translateY:m,useTranslate3d:l})):d=Ire,{cssProperties:d,cssClasses:Mre({translateX:f,translateY:m,coordinate:r})}}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){UE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TF(n.key),n)}}function Ure(e,t,r){return t&&Bre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zre(e,t,r){return t=ex(t),Hre(e,CF()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function Hre(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qre(e)}function qre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function Gre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BE(e,t)}function BE(e,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},BE(e,t)}function UE(e,t,r){return t=TF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=Kre(e,"string");return Fd(t)=="symbol"?t:t+""}function Kre(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ED=1,Wre=(function(e){function t(){var r;Fre(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=zre(this,t,[].concat(s)),UE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),UE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,u,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return Gre(t,e),Ure(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ED||Math.abs(n.height-this.state.lastBoundingBox.height)>ED)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,u=s.animationEasing,d=s.children,f=s.coordinate,m=s.hasPayload,h=s.isAnimationActive,x=s.offset,v=s.position,N=s.reverseDirection,b=s.useTranslate3d,S=s.viewBox,j=s.wrapperStyle,A=$re({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:x,position:v,reverseDirection:N,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:S}),_=A.cssClasses,E=A.cssProperties,C=jD(jD({transition:h&&i?"transform ".concat(l,"ms ").concat(u):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},j);return z.createElement("div",{tabIndex:-1,className:_,style:C,ref:function(I){n.wrapperNode=I}},d)}}])})(y.PureComponent),Vre=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ai={isSsr:Vre()};function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function _D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(r),!0).forEach(function(n){DC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OF(n.key),n)}}function Qre(e,t,r){return t&&Xre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zre(e,t,r){return t=tx(t),Jre(e,kF()?Reflect.construct(t,r||[],tx(e).constructor):t.apply(e,r))}function Jre(e,t){if(t&&(Bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ene(e)}function ene(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kF=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(e)}function tne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zE(e,t)}function zE(e,t){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zE(e,t)}function DC(e,t,r){return t=OF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=rne(e,"string");return Bd(t)=="symbol"?t:t+""}function rne(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nne(e){return e.dataKey}function ane(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(Rre,t)}var pr=(function(e){function t(){return Yre(this,t),Zre(this,t,arguments)}return tne(t,e),Qre(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,u=s.animationEasing,d=s.content,f=s.coordinate,m=s.filterNull,h=s.isAnimationActive,x=s.offset,v=s.payload,N=s.payloadUniqBy,b=s.position,S=s.reverseDirection,j=s.useTranslate3d,A=s.viewBox,_=s.wrapperStyle,E=v??[];m&&E.length&&(E=vF(v.filter(function(R){return R.value!=null&&(R.hide!==!0||n.props.includeHidden)}),N,nne));var C=E.length>0;return z.createElement(Wre,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:i,coordinate:f,hasPayload:C,offset:x,position:b,reverseDirection:S,useTranslate3d:j,viewBox:A,wrapperStyle:_},ane(d,AD(AD({},this.props),{},{payload:E})))}}])})(y.PureComponent);DC(pr,"displayName","Tooltip");DC(pr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ai.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _S,CD;function sne(){if(CD)return _S;CD=1;var e=Ri(),t=function(){return e.Date.now()};return _S=t,_S}var AS,TD;function ine(){if(TD)return AS;TD=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return AS=t,AS}var CS,kD;function one(){if(kD)return CS;kD=1;var e=ine(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return CS=r,CS}var TS,OD;function RF(){if(OD)return TS;OD=1;var e=one(),t=Di(),r=Cf(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(d){if(typeof d=="number")return d;if(r(d))return n;if(t(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=t(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=e(d);var m=i.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):s.test(d)?n:+d}return TS=u,TS}var kS,RD;function lne(){if(RD)return kS;RD=1;var e=Di(),t=sne(),r=RF(),n="Expected a function",s=Math.max,i=Math.min;function o(l,u,d){var f,m,h,x,v,N,b=0,S=!1,j=!1,A=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,e(d)&&(S=!!d.leading,j="maxWait"in d,h=j?s(r(d.maxWait)||0,u):h,A="trailing"in d?!!d.trailing:A);function _(Y){var D=f,G=m;return f=m=void 0,b=Y,x=l.apply(G,D),x}function E(Y){return b=Y,v=setTimeout(I,u),S?_(Y):x}function C(Y){var D=Y-N,G=Y-b,U=u-D;return j?i(U,h-G):U}function R(Y){var D=Y-N,G=Y-b;return N===void 0||D>=u||D<0||j&&G>=h}function I(){var Y=t();if(R(Y))return O(Y);v=setTimeout(I,C(Y))}function O(Y){return v=void 0,A&&f?_(Y):(f=m=void 0,x)}function B(){v!==void 0&&clearTimeout(v),b=0,f=N=m=v=void 0}function q(){return v===void 0?x:O(t())}function F(){var Y=t(),D=R(Y);if(f=arguments,m=this,N=Y,D){if(v===void 0)return E(N);if(j)return clearTimeout(v),v=setTimeout(I,u),_(N)}return v===void 0&&(v=setTimeout(I,u)),x}return F.cancel=B,F.flush=q,F}return kS=o,kS}var OS,PD;function cne(){if(PD)return OS;PD=1;var e=lne(),t=Di(),r="Expected a function";function n(s,i,o){var l=!0,u=!0;if(typeof s!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),e(s,i,{leading:l,maxWait:i,trailing:u})}return OS=n,OS}var une=cne();const PF=Rr(une);function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(n){dne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dne(e,t,r){return t=fne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fne(e){var t=pne(e,"string");return jm(t)=="symbol"?t:t+""}function pne(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e,t){return yne(e)||xne(e,t)||gne(e,t)||hne()}function hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gne(e,t){if(e){if(typeof e=="string")return ID(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ID(e,t)}}function ID(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function yne(e){if(Array.isArray(e))return e}var Zr=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,u=l===void 0?"100%":l,d=e.minWidth,f=d===void 0?0:d,m=e.minHeight,h=e.maxHeight,x=e.children,v=e.debounce,N=v===void 0?0:v,b=e.id,S=e.className,j=e.onResize,A=e.style,_=A===void 0?{}:A,E=y.useRef(null),C=y.useRef();C.current=j,y.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var R=y.useState({containerWidth:s.width,containerHeight:s.height}),I=mne(R,2),O=I[0],B=I[1],q=y.useCallback(function(Y,D){B(function(G){var U=Math.round(Y),V=Math.round(D);return G.containerWidth===U&&G.containerHeight===V?G:{containerWidth:U,containerHeight:V}})},[]);y.useEffect(function(){var Y=function(Q){var J,P=Q[0].contentRect,K=P.width,Z=P.height;q(K,Z),(J=C.current)===null||J===void 0||J.call(C,K,Z)};N>0&&(Y=PF(Y,N,{trailing:!0,leading:!1}));var D=new ResizeObserver(Y),G=E.current.getBoundingClientRect(),U=G.width,V=G.height;return q(U,V),D.observe(E.current),function(){D.disconnect()}},[q,N]);var F=y.useMemo(function(){var Y=O.containerWidth,D=O.containerHeight;if(Y<0||D<0)return null;Ei(Vc(o)||Vc(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),Ei(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Vc(o)?Y:o,U=Vc(u)?D:u;r&&r>0&&(G?U=G/r:U&&(G=U*r),h&&U>h&&(U=h)),Ei(G>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,U,o,u,f,m,r);var V=!Array.isArray(x)&&el(x.type).endsWith("Chart");return z.Children.map(x,function(M){return z.isValidElement(M)?y.cloneElement(M,U0({width:G,height:U},V?{style:U0({height:"100%",width:"100%",maxHeight:U,maxWidth:G},M.props.style)}:{})):M})},[r,x,u,h,m,f,O,o]);return z.createElement("div",{id:b?"".concat(b):void 0,className:Gt("recharts-responsive-container",S),style:U0(U0({},_),{},{width:o,height:u,minWidth:f,minHeight:m,maxHeight:h}),ref:E},F)}),Hs=function(t){return null};Hs.displayName="Cell";function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bne(e,t,r){return t=vne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vne(e){var t=Nne(e,"string");return Em(t)=="symbol"?t:t+""}function Nne(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zu={widthCache:{},cacheCount:0},Sne=2e3,wne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LD="recharts_measurement_span";function jne(e){var t=HE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Sd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ai.isSsr)return{width:0,height:0};var n=jne(r),s=JSON.stringify({text:t,copyStyle:n});if(Zu.widthCache[s])return Zu.widthCache[s];try{var i=document.getElementById(LD);i||(i=document.createElement("span"),i.setAttribute("id",LD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=HE(HE({},wne),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),u={width:l.width,height:l.height};return Zu.widthCache[s]=u,++Zu.cacheCount>Sne&&(Zu.cacheCount=0,Zu.widthCache={}),u}catch{return{width:0,height:0}}},Ene=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function rx(e,t){return Tne(e)||Cne(e,t)||Ane(e,t)||_ne()}function _ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ane(e,t){if(e){if(typeof e=="string")return $D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $D(e,t)}}function $D(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Tne(e){if(Array.isArray(e))return e}function kne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rne(n.key),n)}}function One(e,t,r){return t&&FD(e.prototype,t),r&&FD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rne(e){var t=Pne(e,"string");return _m(t)=="symbol"?t:t+""}function Pne(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ine=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mne=Object.keys(DF),cd="NaN";function Lne(e,t){return e*DF[t]}var z0=(function(){function e(t,r){kne(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Dne.test(r)&&(this.num=NaN,this.unit=""),Mne.includes(r)&&(this.num=Lne(t,r),this.unit="px")}return One(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Ine.exec(r))!==null&&n!==void 0?n:[],i=rx(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function IF(e){if(e.includes(cd))return cd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=BD.exec(t))!==null&&r!==void 0?r:[],s=rx(n,4),i=s[1],o=s[2],l=s[3],u=z0.parse(i??""),d=z0.parse(l??""),f=o==="*"?u.multiply(d):u.divide(d);if(f.isNaN())return cd;t=t.replace(BD,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,h=(m=UD.exec(t))!==null&&m!==void 0?m:[],x=rx(h,4),v=x[1],N=x[2],b=x[3],S=z0.parse(v??""),j=z0.parse(b??""),A=N==="+"?S.add(j):S.subtract(j);if(A.isNaN())return cd;t=t.replace(UD,A.toString())}return t}var zD=/\(([^()]*)\)/;function $ne(e){for(var t=e;t.includes("(");){var r=zD.exec(t),n=rx(r,2),s=n[1];t=t.replace(zD,IF(s))}return t}function Fne(e){var t=e.replace(/\s+/g,"");return t=$ne(t),t=IF(t),t}function Bne(e){try{return Fne(e)}catch{return cd}}function RS(e){var t=Bne(e.slice(5,-1));return t===cd?"":t}var Une=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zne=["dx","dy","angle","className","breakAll"];function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qE.apply(this,arguments)}function HD(e,t){if(e==null)return{};var r=Hne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qD(e,t){return Wne(e)||Kne(e,t)||Gne(e,t)||qne()}function qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gne(e,t){if(e){if(typeof e=="string")return GD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GD(e,t)}}function GD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Wne(e){if(Array.isArray(e))return e}var MF=/[ \f\n\r\t\v\u2028\u2029]+/,LF=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];It(r)||(n?i=r.toString().split(""):i=r.toString().split(MF));var o=i.map(function(u){return{word:u,width:Sd(u,s).width}}),l=n?0:Sd("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Vne=function(t,r,n,s,i){var o=t.maxLines,l=t.children,u=t.style,d=t.breakAll,f=qe(o),m=l,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(U,V){var M=V.word,Q=V.width,J=U[U.length-1];if(J&&(s==null||i||J.width+Q+n<Number(s)))J.words.push(M),J.width+=Q+n;else{var P={words:[M],width:Q};U.push(P)}return U},[])},x=h(r),v=function(G){return G.reduce(function(U,V){return U.width>V.width?U:V})};if(!f)return x;for(var N="",b=function(G){var U=m.slice(0,G),V=LF({breakAll:d,style:u,children:U+N}).wordsWithComputedWidth,M=h(V),Q=M.length>o||v(M).width>Number(s);return[Q,M]},S=0,j=m.length-1,A=0,_;S<=j&&A<=m.length-1;){var E=Math.floor((S+j)/2),C=E-1,R=b(C),I=qD(R,2),O=I[0],B=I[1],q=b(E),F=qD(q,1),Y=F[0];if(!O&&!Y&&(S=E+1),O&&Y&&(j=E-1),!O&&Y){_=B;break}A++}return _||x},KD=function(t){var r=It(t)?[]:t.toString().split(MF);return[{words:r}]},Yne=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ai.isSsr){var u,d,f=LF({breakAll:o,children:s,style:i});if(f){var m=f.wordsWithComputedWidth,h=f.spaceWidth;u=m,d=h}else return KD(s);return Vne({breakAll:o,children:s,maxLines:l,style:i},u,d,r,n)}return KD(s)},WD="#808080",cu=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,u=t.capHeight,d=u===void 0?"0.71em":u,f=t.scaleToFit,m=f===void 0?!1:f,h=t.textAnchor,x=h===void 0?"start":h,v=t.verticalAnchor,N=v===void 0?"end":v,b=t.fill,S=b===void 0?WD:b,j=HD(t,Une),A=y.useMemo(function(){return Yne({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:m,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,m,j.style,j.width]),_=j.dx,E=j.dy,C=j.angle,R=j.className,I=j.breakAll,O=HD(j,zne);if(!zn(n)||!zn(i))return null;var B=n+(qe(_)?_:0),q=i+(qe(E)?E:0),F;switch(N){case"start":F=RS("calc(".concat(d,")"));break;case"middle":F=RS("calc(".concat((A.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:F=RS("calc(".concat(A.length-1," * -").concat(l,")"));break}var Y=[];if(m){var D=A[0].width,G=j.width;Y.push("scale(".concat((qe(G)?G/D:1)/D,")"))}return C&&Y.push("rotate(".concat(C,", ").concat(B,", ").concat(q,")")),Y.length&&(O.transform=Y.join(" ")),z.createElement("text",qE({},mt(O,!0),{x:B,y:q,className:Gt("recharts-text",R),textAnchor:x,fill:S.includes("url")?WD:S}),A.map(function(U,V){var M=U.words.join(I?"":" ");return z.createElement("tspan",{x:B,dy:V===0?F:l,key:"".concat(M,"-").concat(V)},M)}))};function ac(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IC(e){let t,r,n;e.length!==2?(t=ac,r=(l,u)=>ac(e(l),u),n=(l,u)=>e(l)-u):(t=e===ac||e===Xne?e:Qne,r=e,n=e);function s(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const m=d+f>>>1;r(l[m],u)<0?d=m+1:f=m}while(d<f)}return d}function i(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const m=d+f>>>1;r(l[m],u)<=0?d=m+1:f=m}while(d<f)}return d}function o(l,u,d=0,f=l.length){const m=s(l,u,d,f-1);return m>d&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:s,center:o,right:i}}function Qne(){return 0}function $F(e){return e===null?NaN:+e}function*Zne(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Jne=IC(ac),xh=Jne.right;IC($F).center;class Ud{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let n=0;for(let s=0;s<this._n&&s<32;s++){const i=r[s],o=t+i,l=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);l&&(r[n++]=l),t=o}return r[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let r=this._n,n,s,i,o=0;if(r>0){for(o=t[--r];r>0&&(n=o,s=t[--r],o=n+s,i=s-(o-n),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(s=i*2,n=o+s,s==n-o&&(o=n))}return o}}class VD extends Map{constructor(t,r=rae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(YD(this,t))}has(t){return super.has(YD(this,t))}set(t,r){return super.set(eae(this,t),r)}delete(t){return super.delete(tae(this,t))}}function YD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function eae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function tae({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function rae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nae(e=ac){if(e===ac)return FF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function FF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const aae=Math.sqrt(50),sae=Math.sqrt(10),iae=Math.sqrt(2);function nx(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=aae?10:i>=sae?5:i>=iae?2:1;let l,u,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=r&&r<2?nx(e,t,r*2):[l,u,d]}function GE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?nx(t,e,r):nx(e,t,r);if(!(i>=s))return[];const l=i-s+1,u=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)u[d]=(i-d)/-o;else for(let d=0;d<l;++d)u[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(s+d)/-o;else for(let d=0;d<l;++d)u[d]=(s+d)*o;return u}function KE(e,t,r){return t=+t,e=+e,r=+r,nx(e,t,r)[2]}function WE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?KE(t,e,r):KE(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function XD(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function QD(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BF(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?FF:nae(s);n>r;){if(n-r>600){const u=n-r+1,d=t-r+1,f=Math.log(u),m=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*m*(u-m)/u)*(d-u/2<0?-1:1),x=Math.max(r,Math.floor(t-d*m/u+h)),v=Math.min(n,Math.floor(t+(u-d)*m/u+h));BF(e,t,x,v,s)}const i=e[t];let o=r,l=n;for(vp(e,r,t),s(e[n],i)>0&&vp(e,r,n);o<l;){for(vp(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?vp(e,r,l):(++l,vp(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function vp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function oae(e,t,r){if(e=Float64Array.from(Zne(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return QD(e);if(t>=1)return XD(e);var n,s=(n-1)*t,i=Math.floor(s),o=XD(BF(e,i).subarray(0,i+1)),l=QD(e.subarray(i+1));return o+(l-o)*(s-i)}}function lae(e,t,r=$F){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function*cae(e){for(const t of e)yield*t}function uae(e){return Array.from(cae(e))}function dae(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Zs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ml(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const VE=Symbol("implicit");function MC(){var e=new VD,t=[],r=[],n=VE;function s(i){let o=e.get(i);if(o===void 0){if(n!==VE)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new VD;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return MC(t,r).unknown(n)},Zs.apply(s,arguments),s}function Am(){var e=MC().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,u=0,d=0,f=.5;delete e.unknown;function m(){var h=t().length,x=s<n,v=x?s:n,N=x?n:s;i=(N-v)/Math.max(1,h-u+d*2),l&&(i=Math.floor(i)),v+=(N-v-i*(h-u))*f,o=i*(1-u),l&&(v=Math.round(v),o=Math.round(o));var b=dae(h).map(function(S){return v+i*S});return r(x?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),m()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,m()):l},e.padding=function(h){return arguments.length?(u=Math.min(1,d=+h),m()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),m()):u},e.paddingOuter=function(h){return arguments.length?(d=+h,m()):d},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),m()):f},e.copy=function(){return Am(t(),[n,s]).round(l).paddingInner(u).paddingOuter(d).align(f)},Zs.apply(m(),arguments)}function UF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return UF(t())},e}function sm(){return UF(Am.apply(null,arguments).paddingInner(1))}function LC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zF(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function yh(){}var Cm=.7,ax=1/Cm,wd="\\s*([+-]?\\d+)\\s*",Tm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fae=/^#([0-9a-f]{3,8})$/,pae=new RegExp(`^rgb\\(${wd},${wd},${wd}\\)$`),mae=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),hae=new RegExp(`^rgba\\(${wd},${wd},${wd},${Tm}\\)$`),gae=new RegExp(`^rgba\\(${fo},${fo},${fo},${Tm}\\)$`),xae=new RegExp(`^hsl\\(${Tm},${fo},${fo}\\)$`),yae=new RegExp(`^hsla\\(${Tm},${fo},${fo},${Tm}\\)$`),ZD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LC(yh,uu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:JD,formatHex:JD,formatHex8:bae,formatHsl:vae,formatRgb:eI,toString:eI});function JD(){return this.rgb().formatHex()}function bae(){return this.rgb().formatHex8()}function vae(){return HF(this).formatHsl()}function eI(){return this.rgb().formatRgb()}function uu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fae.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?tI(t):r===3?new es(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?H0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?H0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pae.exec(e))?new es(t[1],t[2],t[3],1):(t=mae.exec(e))?new es(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hae.exec(e))?H0(t[1],t[2],t[3],t[4]):(t=gae.exec(e))?H0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xae.exec(e))?aI(t[1],t[2]/100,t[3]/100,1):(t=yae.exec(e))?aI(t[1],t[2]/100,t[3]/100,t[4]):ZD.hasOwnProperty(e)?tI(ZD[e]):e==="transparent"?new es(NaN,NaN,NaN,0):null}function tI(e){return new es(e>>16&255,e>>8&255,e&255,1)}function H0(e,t,r,n){return n<=0&&(e=t=r=NaN),new es(e,t,r,n)}function Nae(e){return e instanceof yh||(e=uu(e)),e?(e=e.rgb(),new es(e.r,e.g,e.b,e.opacity)):new es}function sx(e,t,r,n){return arguments.length===1?Nae(e):new es(e,t,r,n??1)}function es(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}LC(es,sx,zF(yh,{brighter(e){return e=e==null?ax:Math.pow(ax,e),new es(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cm:Math.pow(Cm,e),new es(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new es(Jc(this.r),Jc(this.g),Jc(this.b),ix(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rI,formatHex:rI,formatHex8:Sae,formatRgb:nI,toString:nI}));function rI(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}`}function Sae(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}${Yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function nI(){const e=ix(this.opacity);return`${e===1?"rgb(":"rgba("}${Jc(this.r)}, ${Jc(this.g)}, ${Jc(this.b)}${e===1?")":`, ${e})`}`}function ix(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yc(e){return e=Jc(e),(e<16?"0":"")+e.toString(16)}function aI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Si(e,t,r,n)}function HF(e){if(e instanceof Si)return new Si(e.h,e.s,e.l,e.opacity);if(e instanceof yh||(e=uu(e)),!e)return new Si;if(e instanceof Si)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,u=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+s:2-i-s,o*=60):l=u>0&&u<1?0:o,new Si(o,l,u,e.opacity)}function wae(e,t,r,n){return arguments.length===1?HF(e):new Si(e,t,r,n??1)}function Si(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}LC(Si,wae,zF(yh,{brighter(e){return e=e==null?ax:Math.pow(ax,e),new Si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cm:Math.pow(Cm,e),new Si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new es(PS(e>=240?e-240:e+120,s,n),PS(e,s,n),PS(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Si(sI(this.h),q0(this.s),q0(this.l),ix(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ix(this.opacity);return`${e===1?"hsl(":"hsla("}${sI(this.h)}, ${q0(this.s)*100}%, ${q0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sI(e){return e=(e||0)%360,e<0?e+360:e}function q0(e){return Math.max(0,Math.min(1,e||0))}function PS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function jae(e,t,r,n,s){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*s)/6}function Eae(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),s=e[n],i=e[n+1],o=n>0?e[n-1]:2*s-i,l=n<t-1?e[n+2]:2*i-s;return jae((r-n/t)*t,o,s,i,l)}}const $C=e=>()=>e;function _ae(e,t){return function(r){return e+r*t}}function Aae(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Cae(e){return(e=+e)==1?qF:function(t,r){return r-t?Aae(t,r,e):$C(isNaN(t)?r:t)}}function qF(e,t){var r=t-e;return r?_ae(e,r):$C(isNaN(e)?t:e)}const ox=(function e(t){var r=Cae(t);function n(s,i){var o=r((s=sx(s)).r,(i=sx(i)).r),l=r(s.g,i.g),u=r(s.b,i.b),d=qF(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=u(f),s.opacity=d(f),s+""}}return n.gamma=e,n})(1);function Tae(e){return function(t){var r=t.length,n=new Array(r),s=new Array(r),i=new Array(r),o,l;for(o=0;o<r;++o)l=sx(t[o]),n[o]=l.r||0,s[o]=l.g||0,i[o]=l.b||0;return n=e(n),s=e(s),i=e(i),l.opacity=1,function(u){return l.r=n(u),l.g=s(u),l.b=i(u),l+""}}}var kae=Tae(Eae);function Oae(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Rae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Pae(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Pf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Dae(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vi(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Iae(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Pf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var YE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DS=new RegExp(YE.source,"g");function Mae(e){return function(){return e}}function Lae(e){return function(t){return e(t)+""}}function GF(e,t){var r=YE.lastIndex=DS.lastIndex=0,n,s,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=YE.exec(e))&&(s=DS.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:vi(n,s)})),r=DS.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?Lae(u[0].x):Mae(t):(t=u.length,function(d){for(var f=0,m;f<t;++f)l[(m=u[f]).i]=m.x(d);return l.join("")})}function Pf(e,t){var r=typeof t,n;return t==null||r==="boolean"?$C(t):(r==="number"?vi:r==="string"?(n=uu(t))?(t=n,ox):GF:t instanceof uu?ox:t instanceof Date?Dae:Rae(t)?Oae:Array.isArray(t)?Pae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Iae:vi)(e,t)}function FC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var iI=180/Math.PI,XE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KF(e,t,r,n,s,i){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*iI,skewX:Math.atan(u)*iI,scaleX:o,scaleY:l}}var G0;function $ae(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?XE:KF(t.a,t.b,t.c,t.d,t.e,t.f)}function Fae(e){return e==null||(G0||(G0=document.createElementNS("http://www.w3.org/2000/svg","g")),G0.setAttribute("transform",e),!(e=G0.transform.baseVal.consolidate()))?XE:(e=e.matrix,KF(e.a,e.b,e.c,e.d,e.e,e.f))}function WF(e,t,r,n){function s(d){return d.length?d.pop()+" ":""}function i(d,f,m,h,x,v){if(d!==m||f!==h){var N=x.push("translate(",null,t,null,r);v.push({i:N-4,x:vi(d,m)},{i:N-2,x:vi(f,h)})}else(m||h)&&x.push("translate("+m+t+h+r)}function o(d,f,m,h){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),h.push({i:m.push(s(m)+"rotate(",null,n)-2,x:vi(d,f)})):f&&m.push(s(m)+"rotate("+f+n)}function l(d,f,m,h){d!==f?h.push({i:m.push(s(m)+"skewX(",null,n)-2,x:vi(d,f)}):f&&m.push(s(m)+"skewX("+f+n)}function u(d,f,m,h,x,v){if(d!==m||f!==h){var N=x.push(s(x)+"scale(",null,",",null,")");v.push({i:N-4,x:vi(d,m)},{i:N-2,x:vi(f,h)})}else(m!==1||h!==1)&&x.push(s(x)+"scale("+m+","+h+")")}return function(d,f){var m=[],h=[];return d=e(d),f=e(f),i(d.translateX,d.translateY,f.translateX,f.translateY,m,h),o(d.rotate,f.rotate,m,h),l(d.skewX,f.skewX,m,h),u(d.scaleX,d.scaleY,f.scaleX,f.scaleY,m,h),d=f=null,function(x){for(var v=-1,N=h.length,b;++v<N;)m[(b=h[v]).i]=b.x(x);return m.join("")}}}var Bae=WF($ae,"px, ","px)","deg)"),Uae=WF(Fae,", ",")",")"),zae=1e-12;function oI(e){return((e=Math.exp(e))+1/e)/2}function Hae(e){return((e=Math.exp(e))-1/e)/2}function qae(e){return((e=Math.exp(2*e))-1)/(e+1)}const Gae=(function e(t,r,n){function s(i,o){var l=i[0],u=i[1],d=i[2],f=o[0],m=o[1],h=o[2],x=f-l,v=m-u,N=x*x+v*v,b,S;if(N<zae)S=Math.log(h/d)/t,b=function(R){return[l+R*x,u+R*v,d*Math.exp(t*R*S)]};else{var j=Math.sqrt(N),A=(h*h-d*d+n*N)/(2*d*r*j),_=(h*h-d*d-n*N)/(2*h*r*j),E=Math.log(Math.sqrt(A*A+1)-A),C=Math.log(Math.sqrt(_*_+1)-_);S=(C-E)/t,b=function(R){var I=R*S,O=oI(E),B=d/(r*j)*(O*qae(t*I+E)-Hae(E));return[l+B*x,u+B*v,d*O/oI(t*I+E)]}}return b.duration=S*1e3*t/Math.SQRT2,b}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,u=l*l;return e(o,l,u)},s})(Math.SQRT2,2,4);function Kae(e,t){t===void 0&&(t=e,e=Pf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Wae(e){return function(){return e}}function lx(e){return+e}var lI=[0,1];function Ia(e){return e}function QE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Wae(isNaN(t)?NaN:.5)}function Vae(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Yae(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=QE(s,n),i=r(o,i)):(n=QE(n,s),i=r(i,o)),function(l){return i(n(l))}}function Xae(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=QE(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=xh(e,l,1,n)-1;return i[u](s[u](l))}}function bh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yy(){var e=lI,t=lI,r=Pf,n,s,i,o=Ia,l,u,d;function f(){var h=Math.min(e.length,t.length);return o!==Ia&&(o=Vae(e[0],e[h-1])),l=h>2?Xae:Yae,u=d=null,m}function m(h){return h==null||isNaN(h=+h)?i:(u||(u=l(e.map(n),t,r)))(n(o(h)))}return m.invert=function(h){return o(s((d||(d=l(t,e.map(n),vi)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,lx),f()):e.slice()},m.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},m.rangeRound=function(h){return t=Array.from(h),r=FC,f()},m.clamp=function(h){return arguments.length?(o=h?!0:Ia,f()):o!==Ia},m.interpolate=function(h){return arguments.length?(r=h,f()):r},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,x){return n=h,s=x,f()}}function BC(){return Yy()(Ia,Ia)}function Qae(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cx(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zd(e){return e=cx(Math.abs(e)),e?e[1]:NaN}function Zae(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],u=0;s>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(s-=l,s+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Jae(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ese=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function km(e){if(!(t=ese.exec(e)))throw new Error("invalid format: "+e);var t;return new UC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}km.prototype=UC.prototype;function UC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}UC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tse(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var ux;function rse(e,t){var r=cx(e,t);if(!r)return ux=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(ux=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+cx(e,Math.max(0,t+i-1))[0]}function cI(e,t){var r=cx(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const uI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Qae,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cI(e*100,t),r:cI,s:rse,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dI(e){return e}var fI=Array.prototype.map,pI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nse(e){var t=e.grouping===void 0||e.thousands===void 0?dI:Zae(fI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?dI:Jae(fI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m,h){m=km(m);var x=m.fill,v=m.align,N=m.sign,b=m.symbol,S=m.zero,j=m.width,A=m.comma,_=m.precision,E=m.trim,C=m.type;C==="n"?(A=!0,C="g"):uI[C]||(_===void 0&&(_=12),E=!0,C="g"),(S||x==="0"&&v==="=")&&(S=!0,x="0",v="=");var R=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),I=(b==="$"?n:/[%p]/.test(C)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),O=uI[C],B=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function q(F){var Y=R,D=I,G,U,V;if(C==="c")D=O(F)+D,F="";else{F=+F;var M=F<0||1/F<0;if(F=isNaN(F)?u:O(Math.abs(F),_),E&&(F=tse(F)),M&&+F==0&&N!=="+"&&(M=!1),Y=(M?N==="("?N:l:N==="-"||N==="("?"":N)+Y,D=(C==="s"&&!isNaN(F)&&ux!==void 0?pI[8+ux/3]:"")+D+(M&&N==="("?")":""),B){for(G=-1,U=F.length;++G<U;)if(V=F.charCodeAt(G),48>V||V>57){D=(V===46?s+F.slice(G+1):F.slice(G))+D,F=F.slice(0,G);break}}}A&&!S&&(F=t(F,1/0));var Q=Y.length+F.length+D.length,J=Q<j?new Array(j-Q+1).join(x):"";switch(A&&S&&(F=t(J+F,J.length?j-D.length:1/0),J=""),v){case"<":F=Y+F+D+J;break;case"=":F=Y+J+F+D;break;case"^":F=J.slice(0,Q=J.length>>1)+Y+F+D+J.slice(Q);break;default:F=J+Y+F+D;break}return i(F)}return q.toString=function(){return m+""},q}function f(m,h){var x=Math.max(-8,Math.min(8,Math.floor(zd(h)/3)))*3,v=Math.pow(10,-x),N=d((m=km(m),m.type="f",m),{suffix:pI[8+x/3]});return function(b){return N(v*b)}}return{format:d,formatPrefix:f}}var K0,zC,VF;ase({thousands:",",grouping:[3],currency:["$",""]});function ase(e){return K0=nse(e),zC=K0.format,VF=K0.formatPrefix,K0}function sse(e){return Math.max(0,-zd(Math.abs(e)))}function ise(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zd(t)/3)))*3-zd(Math.abs(e)))}function ose(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zd(t)-zd(e))+1}function YF(e,t,r,n){var s=WE(e,t,r),i;switch(n=km(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=ise(s,o))&&(n.precision=i),VF(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ose(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=sse(s))&&(n.precision=i-(n.type==="%")*2);break}}return zC(n)}function hc(e){var t=e.domain;return e.ticks=function(r){var n=t();return GE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return YF(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],u,d,f=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);f-- >0;){if(d=KE(o,l,r),d===u)return n[s]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function dx(){var e=BC();return e.copy=function(){return bh(e,dx())},Zs.apply(e,arguments),hc(e)}function XF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,lx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return XF(e).unknown(t)},e=arguments.length?Array.from(e,lx):[0,1],hc(r)}function QF(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function mI(e){return Math.log(e)}function hI(e){return Math.exp(e)}function lse(e){return-Math.log(-e)}function cse(e){return-Math.exp(-e)}function use(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dse(e){return e===10?use:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fse(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gI(e){return(t,r)=>-e(-t,r)}function HC(e){const t=e(mI,hI),r=t.domain;let n=10,s,i;function o(){return s=fse(n),i=dse(n),r()[0]<0?(s=gI(s),i=gI(i),e(lse,cse)):e(mI,hI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let d=u[0],f=u[u.length-1];const m=f<d;m&&([d,f]=[f,d]);let h=s(d),x=s(f),v,N;const b=l==null?10:+l;let S=[];if(!(n%1)&&x-h<b){if(h=Math.floor(h),x=Math.ceil(x),d>0){for(;h<=x;++h)for(v=1;v<n;++v)if(N=h<0?v/i(-h):v*i(h),!(N<d)){if(N>f)break;S.push(N)}}else for(;h<=x;++h)for(v=n-1;v>=1;--v)if(N=h>0?v/i(-h):v*i(h),!(N<d)){if(N>f)break;S.push(N)}S.length*2<b&&(S=GE(d,f,b))}else S=GE(h,x,Math.min(x-h,b)).map(i);return m?S.reverse():S},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=km(u)).precision==null&&(u.trim=!0),u=zC(u)),l===1/0)return u;const d=Math.max(1,n*l/t.ticks().length);return f=>{let m=f/i(Math.round(s(f)));return m*n<n-.5&&(m*=n),m<=d?u(f):""}},t.nice=()=>r(QF(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function ZF(){const e=HC(Yy()).domain([1,10]);return e.copy=()=>bh(e,ZF()).base(e.base()),Zs.apply(e,arguments),e}function xI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qC(e){var t=1,r=e(xI(t),yI(t));return r.constant=function(n){return arguments.length?e(xI(t=+n),yI(t)):t},hc(r)}function JF(){var e=qC(Yy());return e.copy=function(){return bh(e,JF()).constant(e.constant())},Zs.apply(e,arguments)}function bI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pse(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mse(e){return e<0?-e*e:e*e}function GC(e){var t=e(Ia,Ia),r=1;function n(){return r===1?e(Ia,Ia):r===.5?e(pse,mse):e(bI(r),bI(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},hc(t)}function KC(){var e=GC(Yy());return e.copy=function(){return bh(e,KC()).exponent(e.exponent())},Zs.apply(e,arguments),e}function hse(){return KC.apply(null,arguments).exponent(.5)}function vI(e){return Math.sign(e)*e*e}function gse(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function e9(){var e=BC(),t=[0,1],r=!1,n;function s(i){var o=gse(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(vI(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,lx)).map(vI)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return e9(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Zs.apply(s,arguments),hc(s)}function t9(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=lae(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[xh(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ac),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return t9().domain(e).range(t).unknown(n)},Zs.apply(i,arguments)}function WC(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[xh(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,l()):s.slice()},o.invertExtent=function(u){var d=s.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return WC().domain([e,t]).range(s).unknown(i)},Zs.apply(hc(o),arguments)}function r9(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[xh(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return r9().domain(e).range(t).unknown(r)},Zs.apply(s,arguments)}const IS=new Date,MS=new Date;function Gn(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const u=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let d;do u.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return u},s.filter=i=>Gn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(IS.setTime(+i),MS.setTime(+o),e(IS),e(MS),Math.floor(r(IS,MS))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const fx=Gn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fx);fx.range;const Vo=1e3,qs=Vo*60,Yo=qs*60,il=Yo*24,VC=il*7,NI=il*30,LS=il*365,Xc=Gn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vo)},(e,t)=>(t-e)/Vo,e=>e.getUTCSeconds());Xc.range;const YC=Gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vo)},(e,t)=>{e.setTime(+e+t*qs)},(e,t)=>(t-e)/qs,e=>e.getMinutes());YC.range;const XC=Gn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qs)},(e,t)=>(t-e)/qs,e=>e.getUTCMinutes());XC.range;const QC=Gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vo-e.getMinutes()*qs)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getHours());QC.range;const ZC=Gn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getUTCHours());ZC.range;const vh=Gn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qs)/il,e=>e.getDate()-1);vh.range;const Xy=Gn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/il,e=>e.getUTCDate()-1);Xy.range;const n9=Gn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/il,e=>Math.floor(e/il));n9.range;function wu(e){return Gn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qs)/VC)}const Qy=wu(0),px=wu(1),xse=wu(2),yse=wu(3),Hd=wu(4),bse=wu(5),vse=wu(6);Qy.range;px.range;xse.range;yse.range;Hd.range;bse.range;vse.range;function ju(e){return Gn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/VC)}const Zy=ju(0),mx=ju(1),Nse=ju(2),Sse=ju(3),qd=ju(4),wse=ju(5),jse=ju(6);Zy.range;mx.range;Nse.range;Sse.range;qd.range;wse.range;jse.range;const JC=Gn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());JC.range;const eT=Gn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());eT.range;const ol=Gn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ol.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ol.range;const ll=Gn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ll.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ll.range;function a9(e,t,r,n,s,i){const o=[[Xc,1,Vo],[Xc,5,5*Vo],[Xc,15,15*Vo],[Xc,30,30*Vo],[i,1,qs],[i,5,5*qs],[i,15,15*qs],[i,30,30*qs],[s,1,Yo],[s,3,3*Yo],[s,6,6*Yo],[s,12,12*Yo],[n,1,il],[n,2,2*il],[r,1,VC],[t,1,NI],[t,3,3*NI],[e,1,LS]];function l(d,f,m){const h=f<d;h&&([d,f]=[f,d]);const x=m&&typeof m.range=="function"?m:u(d,f,m),v=x?x.range(d,+f+1):[];return h?v.reverse():v}function u(d,f,m){const h=Math.abs(f-d)/m,x=IC(([,,b])=>b).right(o,h);if(x===o.length)return e.every(WE(d/LS,f/LS,m));if(x===0)return fx.every(Math.max(WE(d,f,m),1));const[v,N]=o[h/o[x-1][2]<o[x][2]/h?x-1:x];return v.every(N)}return[l,u]}const[Ese,_se]=a9(ll,eT,Zy,n9,ZC,XC),[Ase,Cse]=a9(ol,JC,Qy,vh,QC,YC);function $S(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function FS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Np(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Tse(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=Sp(s),f=wp(s),m=Sp(i),h=wp(i),x=Sp(o),v=wp(o),N=Sp(l),b=wp(l),S=Sp(u),j=wp(u),A={a:V,A:M,b:Q,B:J,c:null,d:AI,e:AI,f:Zse,g:lie,G:uie,H:Yse,I:Xse,j:Qse,L:s9,m:Jse,M:eie,p:P,q:K,Q:kI,s:OI,S:tie,u:rie,U:nie,V:aie,w:sie,W:iie,x:null,X:null,y:oie,Y:cie,Z:die,"%":TI},_={a:Z,A:se,b:ie,B:Se,c:null,d:CI,e:CI,f:hie,g:Eie,G:Aie,H:fie,I:pie,j:mie,L:o9,m:gie,M:xie,p:oe,q:je,Q:kI,s:OI,S:yie,u:bie,U:vie,V:Nie,w:Sie,W:wie,x:null,X:null,y:jie,Y:_ie,Z:Cie,"%":TI},E={a:B,A:q,b:F,B:Y,c:D,d:EI,e:EI,f:Gse,g:jI,G:wI,H:_I,I:_I,j:Use,L:qse,m:Bse,M:zse,p:O,q:Fse,Q:Wse,s:Vse,S:Hse,u:Dse,U:Ise,V:Mse,w:Pse,W:Lse,x:G,X:U,y:jI,Y:wI,Z:$se,"%":Kse};A.x=C(r,A),A.X=C(n,A),A.c=C(t,A),_.x=C(r,_),_.X=C(n,_),_.c=C(t,_);function C(pe,Ee){return function(me){var fe=[],Xe=-1,H=0,ve=pe.length,Re,Te,Qe;for(me instanceof Date||(me=new Date(+me));++Xe<ve;)pe.charCodeAt(Xe)===37&&(fe.push(pe.slice(H,Xe)),(Te=SI[Re=pe.charAt(++Xe)])!=null?Re=pe.charAt(++Xe):Te=Re==="e"?" ":"0",(Qe=Ee[Re])&&(Re=Qe(me,Te)),fe.push(Re),H=Xe+1);return fe.push(pe.slice(H,Xe)),fe.join("")}}function R(pe,Ee){return function(me){var fe=Np(1900,void 0,1),Xe=I(fe,pe,me+="",0),H,ve;if(Xe!=me.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ee&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(H=FS(Np(fe.y,0,1)),ve=H.getUTCDay(),H=ve>4||ve===0?mx.ceil(H):mx(H),H=Xy.offset(H,(fe.V-1)*7),fe.y=H.getUTCFullYear(),fe.m=H.getUTCMonth(),fe.d=H.getUTCDate()+(fe.w+6)%7):(H=$S(Np(fe.y,0,1)),ve=H.getDay(),H=ve>4||ve===0?px.ceil(H):px(H),H=vh.offset(H,(fe.V-1)*7),fe.y=H.getFullYear(),fe.m=H.getMonth(),fe.d=H.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),ve="Z"in fe?FS(Np(fe.y,0,1)).getUTCDay():$S(Np(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(ve+5)%7:fe.w+fe.U*7-(ve+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,FS(fe)):$S(fe)}}function I(pe,Ee,me,fe){for(var Xe=0,H=Ee.length,ve=me.length,Re,Te;Xe<H;){if(fe>=ve)return-1;if(Re=Ee.charCodeAt(Xe++),Re===37){if(Re=Ee.charAt(Xe++),Te=E[Re in SI?Ee.charAt(Xe++):Re],!Te||(fe=Te(pe,me,fe))<0)return-1}else if(Re!=me.charCodeAt(fe++))return-1}return fe}function O(pe,Ee,me){var fe=d.exec(Ee.slice(me));return fe?(pe.p=f.get(fe[0].toLowerCase()),me+fe[0].length):-1}function B(pe,Ee,me){var fe=x.exec(Ee.slice(me));return fe?(pe.w=v.get(fe[0].toLowerCase()),me+fe[0].length):-1}function q(pe,Ee,me){var fe=m.exec(Ee.slice(me));return fe?(pe.w=h.get(fe[0].toLowerCase()),me+fe[0].length):-1}function F(pe,Ee,me){var fe=S.exec(Ee.slice(me));return fe?(pe.m=j.get(fe[0].toLowerCase()),me+fe[0].length):-1}function Y(pe,Ee,me){var fe=N.exec(Ee.slice(me));return fe?(pe.m=b.get(fe[0].toLowerCase()),me+fe[0].length):-1}function D(pe,Ee,me){return I(pe,t,Ee,me)}function G(pe,Ee,me){return I(pe,r,Ee,me)}function U(pe,Ee,me){return I(pe,n,Ee,me)}function V(pe){return o[pe.getDay()]}function M(pe){return i[pe.getDay()]}function Q(pe){return u[pe.getMonth()]}function J(pe){return l[pe.getMonth()]}function P(pe){return s[+(pe.getHours()>=12)]}function K(pe){return 1+~~(pe.getMonth()/3)}function Z(pe){return o[pe.getUTCDay()]}function se(pe){return i[pe.getUTCDay()]}function ie(pe){return u[pe.getUTCMonth()]}function Se(pe){return l[pe.getUTCMonth()]}function oe(pe){return s[+(pe.getUTCHours()>=12)]}function je(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ee=C(pe+="",A);return Ee.toString=function(){return pe},Ee},parse:function(pe){var Ee=R(pe+="",!1);return Ee.toString=function(){return pe},Ee},utcFormat:function(pe){var Ee=C(pe+="",_);return Ee.toString=function(){return pe},Ee},utcParse:function(pe){var Ee=R(pe+="",!0);return Ee.toString=function(){return pe},Ee}}}var SI={"-":"",_:" ",0:"0"},ra=/^\s*\d+/,kse=/^%/,Ose=/[\\^$*+?|[\]().{}]/g;function Cr(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Rse(e){return e.replace(Ose,"\\$&")}function Sp(e){return new RegExp("^(?:"+e.map(Rse).join("|")+")","i")}function wp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Pse(e,t,r){var n=ra.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Dse(e,t,r){var n=ra.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ise(e,t,r){var n=ra.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Mse(e,t,r){var n=ra.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Lse(e,t,r){var n=ra.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wI(e,t,r){var n=ra.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function jI(e,t,r){var n=ra.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $se(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Fse(e,t,r){var n=ra.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Bse(e,t,r){var n=ra.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function EI(e,t,r){var n=ra.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Use(e,t,r){var n=ra.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function _I(e,t,r){var n=ra.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zse(e,t,r){var n=ra.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Hse(e,t,r){var n=ra.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function qse(e,t,r){var n=ra.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Gse(e,t,r){var n=ra.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Kse(e,t,r){var n=kse.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Wse(e,t,r){var n=ra.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Vse(e,t,r){var n=ra.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function AI(e,t){return Cr(e.getDate(),t,2)}function Yse(e,t){return Cr(e.getHours(),t,2)}function Xse(e,t){return Cr(e.getHours()%12||12,t,2)}function Qse(e,t){return Cr(1+vh.count(ol(e),e),t,3)}function s9(e,t){return Cr(e.getMilliseconds(),t,3)}function Zse(e,t){return s9(e,t)+"000"}function Jse(e,t){return Cr(e.getMonth()+1,t,2)}function eie(e,t){return Cr(e.getMinutes(),t,2)}function tie(e,t){return Cr(e.getSeconds(),t,2)}function rie(e){var t=e.getDay();return t===0?7:t}function nie(e,t){return Cr(Qy.count(ol(e)-1,e),t,2)}function i9(e){var t=e.getDay();return t>=4||t===0?Hd(e):Hd.ceil(e)}function aie(e,t){return e=i9(e),Cr(Hd.count(ol(e),e)+(ol(e).getDay()===4),t,2)}function sie(e){return e.getDay()}function iie(e,t){return Cr(px.count(ol(e)-1,e),t,2)}function oie(e,t){return Cr(e.getFullYear()%100,t,2)}function lie(e,t){return e=i9(e),Cr(e.getFullYear()%100,t,2)}function cie(e,t){return Cr(e.getFullYear()%1e4,t,4)}function uie(e,t){var r=e.getDay();return e=r>=4||r===0?Hd(e):Hd.ceil(e),Cr(e.getFullYear()%1e4,t,4)}function die(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cr(t/60|0,"0",2)+Cr(t%60,"0",2)}function CI(e,t){return Cr(e.getUTCDate(),t,2)}function fie(e,t){return Cr(e.getUTCHours(),t,2)}function pie(e,t){return Cr(e.getUTCHours()%12||12,t,2)}function mie(e,t){return Cr(1+Xy.count(ll(e),e),t,3)}function o9(e,t){return Cr(e.getUTCMilliseconds(),t,3)}function hie(e,t){return o9(e,t)+"000"}function gie(e,t){return Cr(e.getUTCMonth()+1,t,2)}function xie(e,t){return Cr(e.getUTCMinutes(),t,2)}function yie(e,t){return Cr(e.getUTCSeconds(),t,2)}function bie(e){var t=e.getUTCDay();return t===0?7:t}function vie(e,t){return Cr(Zy.count(ll(e)-1,e),t,2)}function l9(e){var t=e.getUTCDay();return t>=4||t===0?qd(e):qd.ceil(e)}function Nie(e,t){return e=l9(e),Cr(qd.count(ll(e),e)+(ll(e).getUTCDay()===4),t,2)}function Sie(e){return e.getUTCDay()}function wie(e,t){return Cr(mx.count(ll(e)-1,e),t,2)}function jie(e,t){return Cr(e.getUTCFullYear()%100,t,2)}function Eie(e,t){return e=l9(e),Cr(e.getUTCFullYear()%100,t,2)}function _ie(e,t){return Cr(e.getUTCFullYear()%1e4,t,4)}function Aie(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qd(e):qd.ceil(e),Cr(e.getUTCFullYear()%1e4,t,4)}function Cie(){return"+0000"}function TI(){return"%"}function kI(e){return+e}function OI(e){return Math.floor(+e/1e3)}var Ju,c9,u9;Tie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tie(e){return Ju=Tse(e),c9=Ju.format,Ju.parse,u9=Ju.utcFormat,Ju.utcParse,Ju}function kie(e){return new Date(e)}function Oie(e){return e instanceof Date?+e:+new Date(+e)}function tT(e,t,r,n,s,i,o,l,u,d){var f=BC(),m=f.invert,h=f.domain,x=d(".%L"),v=d(":%S"),N=d("%I:%M"),b=d("%I %p"),S=d("%a %d"),j=d("%b %d"),A=d("%B"),_=d("%Y");function E(C){return(u(C)<C?x:l(C)<C?v:o(C)<C?N:i(C)<C?b:n(C)<C?s(C)<C?S:j:r(C)<C?A:_)(C)}return f.invert=function(C){return new Date(m(C))},f.domain=function(C){return arguments.length?h(Array.from(C,Oie)):h().map(kie)},f.ticks=function(C){var R=h();return e(R[0],R[R.length-1],C??10)},f.tickFormat=function(C,R){return R==null?E:d(R)},f.nice=function(C){var R=h();return(!C||typeof C.range!="function")&&(C=t(R[0],R[R.length-1],C??10)),C?h(QF(R,C)):f},f.copy=function(){return bh(f,tT(e,t,r,n,s,i,o,l,u,d))},f}function Rie(){return Zs.apply(tT(Ase,Cse,ol,JC,Qy,vh,QC,YC,Xc,c9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pie(){return Zs.apply(tT(Ese,_se,ll,eT,Zy,Xy,ZC,XC,Xc,u9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jy(){var e=0,t=1,r,n,s,i,o=Ia,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function f(m){return function(h){var x,v;return arguments.length?([x,v]=h,o=m(x,v),d):[o(0),o(1)]}}return d.range=f(Pf),d.rangeRound=f(FC),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),d}}function gc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rT(){var e=hc(Jy()(Ia));return e.copy=function(){return gc(e,rT())},ml.apply(e,arguments)}function d9(){var e=HC(Jy()).domain([1,10]);return e.copy=function(){return gc(e,d9()).base(e.base())},ml.apply(e,arguments)}function f9(){var e=qC(Jy());return e.copy=function(){return gc(e,f9()).constant(e.constant())},ml.apply(e,arguments)}function nT(){var e=GC(Jy());return e.copy=function(){return gc(e,nT()).exponent(e.exponent())},ml.apply(e,arguments)}function Die(){return nT.apply(null,arguments).exponent(.5)}function p9(){var e=[],t=Ia;function r(n){if(n!=null&&!isNaN(n=+n))return t((xh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ac),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>oae(e,i/n))},r.copy=function(){return p9(t).domain(e)},ml.apply(r,arguments)}function eb(){var e=0,t=.5,r=1,n=1,s,i,o,l,u,d=Ia,f,m=!1,h;function x(N){return isNaN(N=+N)?h:(N=.5+((N=+f(N))-i)*(n*N<n*i?l:u),d(m?Math.max(0,Math.min(1,N)):N))}x.domain=function(N){return arguments.length?([e,t,r]=N,s=f(e=+e),i=f(t=+t),o=f(r=+r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,x):[e,t,r]},x.clamp=function(N){return arguments.length?(m=!!N,x):m},x.interpolator=function(N){return arguments.length?(d=N,x):d};function v(N){return function(b){var S,j,A;return arguments.length?([S,j,A]=b,d=Kae(N,[S,j,A]),x):[d(0),d(.5),d(1)]}}return x.range=v(Pf),x.rangeRound=v(FC),x.unknown=function(N){return arguments.length?(h=N,x):h},function(N){return f=N,s=N(e),i=N(t),o=N(r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,x}}function m9(){var e=hc(eb()(Ia));return e.copy=function(){return gc(e,m9())},ml.apply(e,arguments)}function h9(){var e=HC(eb()).domain([.1,1,10]);return e.copy=function(){return gc(e,h9()).base(e.base())},ml.apply(e,arguments)}function g9(){var e=qC(eb());return e.copy=function(){return gc(e,g9()).constant(e.constant())},ml.apply(e,arguments)}function aT(){var e=GC(eb());return e.copy=function(){return gc(e,aT()).exponent(e.exponent())},ml.apply(e,arguments)}function Iie(){return aT.apply(null,arguments).exponent(.5)}const RI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Am,scaleDiverging:m9,scaleDivergingLog:h9,scaleDivergingPow:aT,scaleDivergingSqrt:Iie,scaleDivergingSymlog:g9,scaleIdentity:XF,scaleImplicit:VE,scaleLinear:dx,scaleLog:ZF,scaleOrdinal:MC,scalePoint:sm,scalePow:KC,scaleQuantile:t9,scaleQuantize:WC,scaleRadial:e9,scaleSequential:rT,scaleSequentialLog:d9,scaleSequentialPow:nT,scaleSequentialQuantile:p9,scaleSequentialSqrt:Die,scaleSequentialSymlog:f9,scaleSqrt:hse,scaleSymlog:JF,scaleThreshold:r9,scaleTime:Rie,scaleUtc:Pie,tickFormat:YF},Symbol.toStringTag,{value:"Module"}));var BS,PI;function tb(){if(PI)return BS;PI=1;var e=Cf();function t(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],u=n(l);if(u!=null&&(d===void 0?u===u&&!e(u):s(u,d)))var d=u,f=l}return f}return BS=t,BS}var US,DI;function x9(){if(DI)return US;DI=1;function e(t,r){return t>r}return US=e,US}var zS,II;function Mie(){if(II)return zS;II=1;var e=tb(),t=x9(),r=Rf();function n(s){return s&&s.length?e(s,r,t):void 0}return zS=n,zS}var Lie=Mie();const Zl=Rr(Lie);var HS,MI;function y9(){if(MI)return HS;MI=1;function e(t,r){return t<r}return HS=e,HS}var qS,LI;function $ie(){if(LI)return qS;LI=1;var e=tb(),t=y9(),r=Rf();function n(s){return s&&s.length?e(s,r,t):void 0}return qS=n,qS}var Fie=$ie();const rb=Rr(Fie);var GS,$I;function Bie(){if($I)return GS;$I=1;var e=My(),t=vo(),r=jF(),n=$a();function s(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return GS=s,GS}var KS,FI;function Uie(){if(FI)return KS;FI=1;var e=OC(),t=Bie();function r(n,s){return e(t(n,s),1)}return KS=r,KS}var zie=Uie();const Hie=Rr(zie);var WS,BI;function qie(){if(BI)return WS;BI=1;var e=kC();function t(r,n){return e(r,n)}return WS=t,WS}var Gie=qie();const lc=Rr(Gie);var Df=1e9,Kie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iT,an=!0,Ys="[DecimalError] ",eu=Ys+"Invalid argument: ",sT=Ys+"Exponent out of range: ",If=Math.floor,qc=Math.pow,Wie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ys,ea=1e7,Jr=7,b9=9007199254740991,hx=If(b9/Jr),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Jr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return tl(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return Br(tl(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return Rn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ys))throw Error(Ys+"NaN");if(r.s<1)throw Error(Ys+(r.s?"NaN":"-Infinity"));return r.eq(ys)?new n(0):(an=!1,t=tl(Om(r,i),Om(e,i),i),an=!0,Br(t,s))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S9(t,e):v9(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Ys+"NaN");return r.s?(an=!1,t=tl(r,e,0,1).times(e),an=!0,r.minus(t)):Br(new n(r),s)};ot.naturalExponential=ot.exp=function(){return N9(this)};ot.naturalLogarithm=ot.ln=function(){return Om(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v9(t,e):S9(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(eu+e);if(t=Rn(s)+1,n=s.d.length-1,r=n*Jr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,s,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Ys+"NaN")}for(e=Rn(l),an=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=no(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=If((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(s.toString()),r=u.precision,s=o=r+3;;)if(i=n,n=i.plus(tl(l,i,o+2)).times(.5),no(i.d).slice(0,o)===(t=no(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Br(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return an=!0,Br(n,r)};ot.times=ot.mul=function(e){var t,r,n,s,i,o,l,u,d,f=this,m=f.constructor,h=f.d,x=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,r=f.e+e.e,u=h.length,d=x.length,u<d&&(i=h,h=x,x=i,o=u,u=d,d=o),i=[],o=u+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,s=u+n;s>n;)l=i[s]+x[n]*h[s-n-1]+t,i[s--]=l%ea|0,t=l/ea|0;i[s]=(i[s]+t)%ea|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,an?Br(e,m.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(xo(e,0,Df),t===void 0?t=n.rounding:xo(t,0,8),Br(r,e+Rn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=du(n,!0):(xo(e,0,Df),t===void 0?t=s.rounding:xo(t,0,8),n=Br(new s(n),e+1,t),r=du(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?du(s):(xo(e,0,Df),t===void 0?t=i.rounding:xo(t,0,8),n=Br(new i(s),e+Rn(s)+1,t),r=du(n.abs(),!1,e+Rn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return Br(new t(e),Rn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,s,i,o,l=this,u=l.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(ys);if(l=new u(l),!l.s){if(e.s<1)throw Error(Ys+"Infinity");return l}if(l.eq(ys))return l;if(n=u.precision,e.eq(ys))return Br(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=b9){for(s=new u(ys),t=Math.ceil(n/Jr+4),an=!1;r%2&&(s=s.times(l),zI(s.d,t)),r=If(r/2),r!==0;)l=l.times(l),zI(l.d,t);return an=!0,e.s<0?new u(ys).div(s):Br(s,n)}}else if(i<0)throw Error(Ys+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,an=!1,s=e.times(Om(l,n+d)),an=!0,s=N9(s),s.s=i,s};ot.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Rn(s),n=du(s,r<=i.toExpNeg||r>=i.toExpPos)):(xo(e,1,Df),t===void 0?t=i.rounding:xo(t,0,8),s=Br(new i(s),e,t),r=Rn(s),n=du(s,e<=r||r<=i.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(xo(e,1,Df),t===void 0?t=n.rounding:xo(t,0,8)),Br(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rn(e),r=e.constructor;return du(e,t<=r.toExpNeg||t>=r.toExpPos)};function v9(e,t){var r,n,s,i,o,l,u,d,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),an?Br(t,m):t;if(u=e.d,d=t.d,o=e.e,s=t.e,u=u.slice(),i=o-s,i){for(i<0?(n=u,i=-i,l=d.length):(n=d,s=o,l=u.length),o=Math.ceil(m/Jr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=d.length,l-i<0&&(i=l,n=d,d=u,u=n),r=0;i;)r=(u[--i]=u[i]+d[i]+r)/ea|0,u[i]%=ea;for(r&&(u.unshift(r),++s),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=s,an?Br(t,m):t}function xo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(eu+e)}function no(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Jr-n.length,r&&(i+=Kl(r)),i+=n;o=e[t],n=o+"",r=Jr-n.length,r&&(i+=Kl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var tl=(function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%ea|0,o=i/ea|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=s[l]){u=n[l]>s[l]?1:-1;break}return u}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*ea+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,u,d,f,m,h,x,v,N,b,S,j,A,_,E,C,R,I,O=n.constructor,B=n.s==s.s?1:-1,q=n.d,F=s.d;if(!n.s)return new O(n);if(!s.s)throw Error(Ys+"Division by zero");for(u=n.e-s.e,R=F.length,E=q.length,x=new O(B),v=x.d=[],d=0;F[d]==(q[d]||0);)++d;if(F[d]>(q[d]||0)&&--u,i==null?j=i=O.precision:o?j=i+(Rn(n)-Rn(s))+1:j=i,j<0)return new O(0);if(j=j/Jr+2|0,d=0,R==1)for(f=0,F=F[0],j++;(d<E||f)&&j--;d++)A=f*ea+(q[d]||0),v[d]=A/F|0,f=A%F|0;else{for(f=ea/(F[0]+1)|0,f>1&&(F=e(F,f),q=e(q,f),R=F.length,E=q.length),_=R,N=q.slice(0,R),b=N.length;b<R;)N[b++]=0;I=F.slice(),I.unshift(0),C=F[0],F[1]>=ea/2&&++C;do f=0,l=t(F,N,R,b),l<0?(S=N[0],R!=b&&(S=S*ea+(N[1]||0)),f=S/C|0,f>1?(f>=ea&&(f=ea-1),m=e(F,f),h=m.length,b=N.length,l=t(m,N,h,b),l==1&&(f--,r(m,R<h?I:F,h))):(f==0&&(l=f=1),m=F.slice()),h=m.length,h<b&&m.unshift(0),r(N,m,b),l==-1&&(b=N.length,l=t(F,N,R,b),l<1&&(f++,r(N,R<b?I:F,b))),b=N.length):l===0&&(f++,N=[0]),v[d++]=f,l&&N[0]?N[b++]=q[_]||0:(N=[q[_]],b=1);while((_++<E||N[0]!==void 0)&&j--)}return v[0]||v.shift(),x.e=u,Br(x,o?i+Rn(x)+1:i)}})();function N9(e,t){var r,n,s,i,o,l,u=0,d=0,f=e.constructor,m=f.precision;if(Rn(e)>16)throw Error(sT+Rn(e));if(!e.s)return new f(ys);for(an=!1,l=m,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(qc(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new f(ys),f.precision=l;;){if(s=Br(s.times(e),l),r=r.times(++u),o=i.plus(tl(s,r,l)),no(o.d).slice(0,l)===no(i.d).slice(0,l)){for(;d--;)i=Br(i.times(i),l);return f.precision=m,t==null?(an=!0,Br(i,m)):i}i=o}}function Rn(e){for(var t=e.e*Jr,r=e.d[0];r>=10;r/=10)t++;return t}function VS(e,t,r){if(t>e.LN10.sd())throw an=!0,r&&(e.precision=r),Error(Ys+"LN10 precision limit exceeded");return Br(new e(e.LN10),t)}function Kl(e){for(var t="";e--;)t+="0";return t}function Om(e,t){var r,n,s,i,o,l,u,d,f,m=1,h=10,x=e,v=x.d,N=x.constructor,b=N.precision;if(x.s<1)throw Error(Ys+(x.s?"NaN":"-Infinity"));if(x.eq(ys))return new N(0);if(t==null?(an=!1,d=b):d=t,x.eq(10))return t==null&&(an=!0),VS(N,d);if(d+=h,N.precision=d,r=no(v),n=r.charAt(0),i=Rn(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=no(x.d),n=r.charAt(0),m++;i=Rn(x),n>1?(x=new N("0."+r),i++):x=new N(n+"."+r.slice(1))}else return u=VS(N,d+2,b).times(i+""),x=Om(new N(n+"."+r.slice(1)),d-h).plus(u),N.precision=b,t==null?(an=!0,Br(x,b)):x;for(l=o=x=tl(x.minus(ys),x.plus(ys),d),f=Br(x.times(x),d),s=3;;){if(o=Br(o.times(f),d),u=l.plus(tl(o,new N(s),d)),no(u.d).slice(0,d)===no(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(VS(N,d+2,b).times(i+""))),l=tl(l,new N(m),d),N.precision=b,t==null?(an=!0,Br(l,b)):l;l=u,s+=2}}function UI(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=If(r/Jr),e.d=[],n=(r+1)%Jr,r<0&&(n+=Jr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Jr;n<s;)e.d.push(+t.slice(n,n+=Jr));t=t.slice(n),n=Jr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),an&&(e.e>hx||e.e<-hx))throw Error(sT+r)}else e.s=0,e.e=0,e.d=[0];return e}function Br(e,t,r){var n,s,i,o,l,u,d,f,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Jr,s=t,d=m[f=0];else{if(f=Math.ceil((n+1)/Jr),i=m.length,f>=i)return e;for(d=i=m[f],o=1;i>=10;i/=10)o++;n%=Jr,s=n-Jr+o}if(r!==void 0&&(i=qc(10,o-s-1),l=d/i%10|0,u=t<0||m[f+1]!==void 0||d%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?s>0?d/qc(10,o-s):0:m[f-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=Rn(e),m.length=1,t=t-i-1,m[0]=qc(10,(Jr-t%Jr)%Jr),e.e=If(-t/Jr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=f,i=1,f--):(m.length=f+1,i=qc(10,Jr-n),m[f]=s>0?(d/qc(10,o-s)%qc(10,s)|0)*i:0),u)for(;;)if(f==0){(m[0]+=i)==ea&&(m[0]=1,++e.e);break}else{if(m[f]+=i,m[f]!=ea)break;m[f--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(an&&(e.e>hx||e.e<-hx))throw Error(sT+Rn(e));return e}function S9(e,t){var r,n,s,i,o,l,u,d,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),an?Br(t,x):t;if(u=e.d,m=t.d,n=t.e,d=e.e,u=u.slice(),o=d-n,o){for(f=o<0,f?(r=u,o=-o,l=m.length):(r=m,n=d,l=u.length),s=Math.max(Math.ceil(x/Jr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=u.length,l=m.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(u[s]!=m[s]){f=u[s]<m[s];break}o=0}for(f&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,s=m.length-l;s>0;--s)u[l++]=0;for(s=m.length;s>o;){if(u[--s]<m[s]){for(i=s;i&&u[--i]===0;)u[i]=ea-1;--u[i],u[s]+=ea}u[s]-=m[s]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,an?Br(t,x):t):new h(0)}function du(e,t,r){var n,s=Rn(e),i=no(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Kl(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Kl(-s-1)+i,r&&(n=r-o)>0&&(i+=Kl(n))):s>=o?(i+=Kl(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Kl(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Kl(n))),e.s<0?"-"+i:i}function zI(e,t){if(e.length>t)return e.length=t,!0}function w9(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(eu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return UI(o,i.toString())}else if(typeof i!="string")throw Error(eu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Wie.test(i))UI(o,i);else throw Error(eu+i)}if(s.prototype=ot,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=w9,s.config=s.set=Vie,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Vie(e){if(!e||typeof e!="object")throw Error(Ys+"Object expected");var t,r,n,s=["precision",1,Df,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(If(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(eu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(eu+r+": "+n);return this}var iT=w9(Kie);ys=new iT(1);const Mr=iT;function Yie(e){return Jie(e)||Zie(e)||Qie(e)||Xie()}function Xie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qie(e,t){if(e){if(typeof e=="string")return ZE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(e,t)}}function Zie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Jie(e){if(Array.isArray(e))return ZE(e)}function ZE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var eoe=function(t){return t},j9={},E9=function(t){return t===j9},HI=function(t){return function r(){return arguments.length===0||arguments.length===1&&E9(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},toe=function e(t,r){return t===1?r:HI(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==j9}).length;return o>=t?r.apply(void 0,s):e(t-o,HI(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=s.map(function(m){return E9(m)?u.shift():m});return r.apply(void 0,Yie(f).concat(u))}))})},nb=function(t){return toe(t.length,t)},JE=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},roe=nb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),noe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return eoe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,u){return u(l)},i.apply(void 0,arguments))}},e_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},_9=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,u){return l===r[u]})||(r=i,n=t.apply(void 0,i)),n}};function aoe(e){var t;return e===0?t=1:t=Math.floor(new Mr(e).abs().log(10).toNumber())+1,t}function soe(e,t,r){for(var n=new Mr(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var ioe=nb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),ooe=nb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),loe=nb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ab={rangeStep:soe,getDigitCount:aoe,interpolateNumber:ioe,uninterpolateNumber:ooe,uninterpolateTruncation:loe};function t_(e){return doe(e)||uoe(e)||A9(e)||coe()}function coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function doe(e){if(Array.isArray(e))return r_(e)}function Rm(e,t){return moe(e)||poe(e,t)||A9(e,t)||foe()}function foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A9(e,t){if(e){if(typeof e=="string")return r_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r_(e,t)}}function r_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function poe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(u){s=!0,i=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function moe(e){if(Array.isArray(e))return e}function C9(e){var t=Rm(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function T9(e,t,r){if(e.lte(0))return new Mr(0);var n=ab.getDigitCount(e.toNumber()),s=new Mr(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Mr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(s);return t?u:new Mr(Math.ceil(u))}function hoe(e,t,r){var n=1,s=new Mr(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Mr(10).pow(ab.getDigitCount(e)-1),s=new Mr(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Mr(Math.floor(e)))}else e===0?s=new Mr(Math.floor((t-1)/2)):r||(s=new Mr(Math.floor(e)));var o=Math.floor((t-1)/2),l=noe(roe(function(u){return s.add(new Mr(u-o).mul(n)).toNumber()}),JE);return l(0,t)}function k9(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Mr(0),tickMin:new Mr(0),tickMax:new Mr(0)};var i=T9(new Mr(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Mr(0):(o=new Mr(e).add(t).div(2),o=o.sub(new Mr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),u=Math.ceil(new Mr(t).sub(o).div(i).toNumber()),d=l+u+1;return d>r?k9(e,t,r,n,s+1):(d<r&&(u=t>0?u+(r-d):u,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Mr(l).mul(i)),tickMax:o.add(new Mr(u).mul(i))})}function goe(e){var t=Rm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=C9([r,n]),u=Rm(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0){var m=f===1/0?[d].concat(t_(JE(0,s-1).map(function(){return 1/0}))):[].concat(t_(JE(0,s-1).map(function(){return-1/0})),[f]);return r>n?e_(m):m}if(d===f)return hoe(d,s,i);var h=k9(d,f,o,i),x=h.step,v=h.tickMin,N=h.tickMax,b=ab.rangeStep(v,N.add(new Mr(.1).mul(x)),x);return r>n?e_(b):b}function xoe(e,t){var r=Rm(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=C9([n,s]),l=Rm(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0)return[n,s];if(u===d)return[u];var f=Math.max(t,2),m=T9(new Mr(d).sub(u).div(f-1),i,0),h=[].concat(t_(ab.rangeStep(new Mr(u),new Mr(d).sub(new Mr(.99).mul(m)),m)),[d]);return n>s?e_(h):h}var yoe=_9(goe),boe=_9(xoe),voe="Invariant failed";function fu(e,t){throw new Error(voe)}var Noe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(this,arguments)}function Soe(e,t){return _oe(e)||Eoe(e,t)||joe(e,t)||woe()}function woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function joe(e,t){if(e){if(typeof e=="string")return qI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qI(e,t)}}function qI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function _oe(e){if(Array.isArray(e))return e}function Aoe(e,t){if(e==null)return{};var r=Coe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Coe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Toe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function koe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P9(n.key),n)}}function Ooe(e,t,r){return t&&koe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Roe(e,t,r){return t=xx(t),Poe(e,O9()?Reflect.construct(t,r||[],xx(e).constructor):t.apply(e,r))}function Poe(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Doe(e)}function Doe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O9=function(){return!!e})()}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(e)}function Ioe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}function n_(e,t){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},n_(e,t)}function R9(e,t,r){return t=P9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=Moe(e,"string");return Gd(t)=="symbol"?t:t+""}function Moe(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mf=(function(e){function t(){return Toe(this,t),Roe(this,t,arguments)}return Ioe(t,e),Ooe(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,u=n.data,d=n.dataPointFormatter,f=n.xAxis,m=n.yAxis,h=Aoe(n,Noe),x=mt(h,!1);this.props.direction==="x"&&f.type!=="number"&&fu();var v=u.map(function(N){var b=d(N,l),S=b.x,j=b.y,A=b.value,_=b.errorVal;if(!_)return null;var E=[],C,R;if(Array.isArray(_)){var I=Soe(_,2);C=I[0],R=I[1]}else C=R=_;if(i==="vertical"){var O=f.scale,B=j+s,q=B+o,F=B-o,Y=O(A-C),D=O(A+R);E.push({x1:D,y1:q,x2:D,y2:F}),E.push({x1:Y,y1:B,x2:D,y2:B}),E.push({x1:Y,y1:q,x2:Y,y2:F})}else if(i==="horizontal"){var G=m.scale,U=S+s,V=U-o,M=U+o,Q=G(A-C),J=G(A+R);E.push({x1:V,y1:J,x2:M,y2:J}),E.push({x1:U,y1:Q,x2:U,y2:J}),E.push({x1:V,y1:Q,x2:M,y2:Q})}return z.createElement(Yt,gx({className:"recharts-errorBar",key:"bar-".concat(E.map(function(P){return"".concat(P.x1,"-").concat(P.x2,"-").concat(P.y1,"-").concat(P.y2)}))},x),E.map(function(P){return z.createElement("line",gx({},P,{key:"line-".concat(P.x1,"-").concat(P.x2,"-").concat(P.y1,"-").concat(P.y2)}))}))});return z.createElement(Yt,{className:"recharts-errorBars"},v)}}])})(z.Component);R9(Mf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});R9(Mf,"displayName","ErrorBar");function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){Loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Loe(e,t,r){return t=$oe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $oe(e){var t=Foe(e,"string");return Pm(t)=="symbol"?t:t+""}function Foe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D9=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=va(r,_i);if(!o)return null;var l=_i.defaultProps,u=l!==void 0?$c($c({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(f,m){var h=m.item,x=m.props,v=x.sectors||x.data||[];return f.concat(v.map(function(N){return{type:o.props.iconType||h.props.legendType,value:N.name,color:N.fill,payload:N}}))},[]):d=(n||[]).map(function(f){var m=f.item,h=m.type.defaultProps,x=h!==void 0?$c($c({},h),m.props):{},v=x.dataKey,N=x.name,b=x.legendType,S=x.hide;return{inactive:S,dataKey:v,type:u.iconType||b||"square",color:oT(m),value:N||v,payload:x}}),$c($c($c({},u),_i.getWithHeight(o,s)),{},{payload:d,item:o})};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function KI(e){return Hoe(e)||zoe(e)||Uoe(e)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uoe(e,t){if(e){if(typeof e=="string")return a_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a_(e,t)}}function zoe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hoe(e){if(Array.isArray(e))return a_(e)}function a_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(n){jd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jd(e,t,r){return t=qoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qoe(e){var t=Goe(e,"string");return Dm(t)=="symbol"?t:t+""}function Goe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e,t,r){return It(e)||It(t)?r:zn(t)?rs(e,t,r):At(t)?t(e):r}function im(e,t,r,n){var s=Hie(e,function(l){return Fr(l,t)});if(r==="number"){var i=s.filter(function(l){return qe(l)||parseFloat(l)});return i.length?[rb(i),Zl(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!It(l)}):s;return o.map(function(l){return zn(l)||l instanceof Date?l:""})}var Koe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,d=0;d<l;d++){var f=d>0?s[d-1].coordinate:s[l-1].coordinate,m=s[d].coordinate,h=d>=l-1?s[0].coordinate:s[d+1].coordinate,x=void 0;if(Pa(m-f)!==Pa(h-m)){var v=[];if(Pa(h-m)===Pa(u[1]-u[0])){x=h;var N=m+u[1]-u[0];v[0]=Math.min(N,(N+f)/2),v[1]=Math.max(N,(N+f)/2)}else{x=f;var b=h+u[1]-u[0];v[0]=Math.min(m,(b+m)/2),v[1]=Math.max(m,(b+m)/2)}var S=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){o=s[d].index;break}}else{var j=Math.min(f,h),A=Math.max(f,h);if(t>(j+m)/2&&t<=(A+m)/2){o=s[d].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},oT=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yn(yn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,u;switch(s){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:l;break;default:u=l;break}return u},Woe=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),u=0,d=l.length;u<d;u++)for(var f=i[l[u]].stackGroups,m=Object.keys(f),h=0,x=m.length;h<x;h++){var v=f[m[h]],N=v.items,b=v.cateAxisId,S=N.filter(function(R){return el(R.type).indexOf("Bar")>=0});if(S&&S.length){var j=S[0].type.defaultProps,A=j!==void 0?yn(yn({},j),S[0].props):S[0].props,_=A.barSize,E=A[b];o[E]||(o[E]=[]);var C=It(_)?r:_;o[E].push({item:S[0],stackList:S.slice(1),barSize:It(C)?void 0:Da(C,n,0)})}}return o},Voe=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,u=o.length;if(u<1)return null;var d=Da(r,s,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var h=!1,x=s/u,v=o.reduce(function(_,E){return _+E.barSize||0},0);v+=(u-1)*d,v>=s&&(v-=(u-1)*d,d=0),v>=s&&x>0&&(h=!0,x*=.9,v=u*x);var N=(s-v)/2>>0,b={offset:N-d,size:0};f=o.reduce(function(_,E){var C={item:E.item,position:{offset:b.offset+b.size+d,size:h?x:E.barSize}},R=[].concat(KI(_),[C]);return b=R[R.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){R.push({item:I,position:b})}),R},m)}else{var S=Da(n,s,0,!0);s-2*S-(u-1)*d<=0&&(d=0);var j=(s-2*S-(u-1)*d)/u;j>1&&(j>>=0);var A=l===+l?Math.min(j,l):j;f=o.reduce(function(_,E,C){var R=[].concat(KI(_),[{item:E.item,position:{offset:S+(j+d)*C+(j-A)/2,size:A}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){R.push({item:I,position:R[R.length-1].position})}),R},m)}return f},Yoe=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,u=o-(l.left||0)-(l.right||0),d=D9({children:i,legendWidth:u});if(d){var f=s||{},m=f.width,h=f.height,x=d.align,v=d.verticalAlign,N=d.layout;if((N==="vertical"||N==="horizontal"&&v==="middle")&&x!=="center"&&qe(t[x]))return yn(yn({},t),{},jd({},x,t[x]+(m||0)));if((N==="horizontal"||N==="vertical"&&x==="center")&&v!=="middle"&&qe(t[v]))return yn(yn({},t),{},jd({},v,t[v]+(h||0)))}return t},Xoe=function(t,r,n){return It(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},I9=function(t,r,n,s,i){var o=r.props.children,l=Ma(o,Mf).filter(function(d){return Xoe(s,i,d.props.direction)});if(l&&l.length){var u=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,f){var m=Fr(f,n);if(It(m))return d;var h=Array.isArray(m)?[rb(m),Zl(m)]:[m,m],x=u.reduce(function(v,N){var b=Fr(f,N,0),S=h[0]-Math.abs(Array.isArray(b)?b[0]:b),j=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(S,v[0]),Math.max(j,v[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},Qoe=function(t,r,n,s,i){var o=r.map(function(l){return I9(t,l,n,i,s)}).filter(function(l){return!It(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},M9=function(t,r,n,s,i){var o=r.map(function(u){var d=u.props.dataKey;return n==="number"&&d&&I9(t,u,d,s)||im(t,d,n,i)});if(n==="number")return o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,d){for(var f=0,m=d.length;f<m;f++)l[d[f]]||(l[d[f]]=!0,u.push(d[f]));return u},[])},L9=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},$9=function(t,r,n,s){if(s)return t.map(function(u){return u.coordinate});var i,o,l=t.map(function(u){return u.coordinate===r&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate});return i||l.push(r),o||l.push(n),l},Xo=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,u=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/u:0;if(d=t.axisType==="angleAxis"&&l?.length>=2?Pa(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(m){var h=i?i.indexOf(m):m;return{coordinate:s(h)+d,value:m,offset:d}});return f.filter(function(m){return!mc(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,h){return{coordinate:s(m)+d,value:m,index:h,offset:d}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+d,value:m,offset:d}}):s.domain().map(function(m,h){return{coordinate:s(m)+d,value:i?i[m]:m,index:h,offset:d}})},YS=new WeakMap,W0=function(t,r){if(typeof r!="function")return t;YS.has(t)||YS.set(t,new WeakMap);var n=YS.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},F9=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Am(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:dx(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sm(),realScaleType:"point"}:i==="category"?{scale:Am(),realScaleType:"band"}:{scale:dx(),realScaleType:"linear"};if(lu(s)){var u="scale".concat(By(s));return{scale:(RI[u]||sm)(),realScaleType:RI[u]?u:"point"}}return At(s)?{scale:s}:{scale:sm(),realScaleType:"point"}},VI=1e-4,B9=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-VI,o=Math.max(s[0],s[1])+VI,l=t(r[0]),u=t(r[n-1]);(l<i||l>o||u<i||u>o)&&t.domain([r[0],r[n-1]])}},Zoe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},Joe=function(t,r){if(!r||r.length!==2||!qe(r[0])||!qe(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!qe(t[0])||t[0]<n)&&(i[0]=n),(!qe(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},ele=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var u=mc(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1])}},tle=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=mc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},rle={sign:ele,expand:Uee,none:Md,silhouette:zee,wiggle:Hee,positive:tle},nle=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=rle[n],o=Bee().keys(s).value(function(l,u){return+Fr(l,u,0)}).order(DE).offset(i);return o(t)},ale=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,u={},d=l.reduce(function(m,h){var x,v=(x=h.type)!==null&&x!==void 0&&x.defaultProps?yn(yn({},h.type.defaultProps),h.props):h.props,N=v.stackId,b=v.hide;if(b)return m;var S=v[n],j=m[S]||{hasStack:!1,stackGroups:{}};if(zn(N)){var A=j.stackGroups[N]||{numericAxisId:n,cateAxisId:s,items:[]};A.items.push(h),j.hasStack=!0,j.stackGroups[N]=A}else j.stackGroups[pl("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return yn(yn({},m),{},jd({},S,j))},u),f={};return Object.keys(d).reduce(function(m,h){var x=d[h];if(x.hasStack){var v={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(N,b){var S=x.stackGroups[b];return yn(yn({},N),{},jd({},b,{numericAxisId:n,cateAxisId:s,items:S.items,stackedData:nle(t,S.items,i)}))},v)}return yn(yn({},m),{},jd({},h,x))},f)},U9=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var f=yoe(d,i,l);return t.domain([rb(f),Zl(f)]),{niceTicks:f}}if(i&&s==="number"){var m=t.domain(),h=boe(m,i,l);return{niceTicks:h}}return null};function Kd(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!It(s[t.dataKey])){var l=qg(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=Fr(s,It(o)?t.dataKey:o);return It(u)?null:t.scale(u)}var YI=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var u=Fr(o,r.dataKey,r.domain[l]);return It(u)?null:r.scale(u)-i/2+s},sle=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},ile=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yn(yn({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(zn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},ole=function(t){return t.reduce(function(r,n){return[rb(n.concat([r[0]]).filter(qe)),Zl(n.concat([r[1]]).filter(qe))]},[1/0,-1/0])},z9=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,u=l.reduce(function(d,f){var m=ole(f.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},XI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s_=function(t,r,n){if(At(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(qe(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(XI.test(t[0])){var i=+XI.exec(t[0])[1];s[0]=r[0]-i}else At(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(qe(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(QI.test(t[1])){var o=+QI.exec(t[1])[1];s[1]=r[1]+o}else At(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},yx=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=PC(r,function(m){return m.coordinate}),o=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},ZI=function(t,r,n){return!t||!t.length||lc(t,rs(n,"type.defaultProps.domain"))?r:t},H9=function(t,r){var n=t.type.defaultProps?yn(yn({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,u=n.tooltipType,d=n.chartType,f=n.hide;return yn(yn({},mt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:oT(t),value:Fr(r,s),type:u,payload:r,chartType:d,hide:f})};function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function JI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(r),!0).forEach(function(n){q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t,r){return t=lle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lle(e){var t=cle(e,"string");return Im(t)=="symbol"?t:t+""}function cle(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ule(e,t){return mle(e)||ple(e,t)||fle(e,t)||dle()}function dle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fle(e,t){if(e){if(typeof e=="string")return eM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eM(e,t)}}function eM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ple(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function mle(e){if(Array.isArray(e))return e}var bx=Math.PI/180,hle=function(t){return t*180/Math.PI},Vr=function(t,r,n,s){return{x:t+Math.cos(-bx*s)*n,y:r+Math.sin(-bx*s)*n}},G9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gle=function(t,r,n,s,i){var o=t.width,l=t.height,u=t.startAngle,d=t.endAngle,f=Da(t.cx,o,o/2),m=Da(t.cy,l,l/2),h=G9(o,l,n),x=Da(t.innerRadius,h,0),v=Da(t.outerRadius,h,h*.8),N=Object.keys(r);return N.reduce(function(b,S){var j=r[S],A=j.domain,_=j.reversed,E;if(It(j.range))s==="angleAxis"?E=[u,d]:s==="radiusAxis"&&(E=[x,v]),_&&(E=[E[1],E[0]]);else{E=j.range;var C=E,R=ule(C,2);u=R[0],d=R[1]}var I=F9(j,i),O=I.realScaleType,B=I.scale;B.domain(A).range(E),B9(B);var q=U9(B,qo(qo({},j),{},{realScaleType:O})),F=qo(qo(qo({},j),q),{},{range:E,radius:v,realScaleType:O,scale:B,cx:f,cy:m,innerRadius:x,outerRadius:v,startAngle:u,endAngle:d});return qo(qo({},b),{},q9({},S,F))},{})},xle=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},yle=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=xle({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var u=(n-i)/l,d=Math.acos(u);return s>o&&(d=2*Math.PI-d),{radius:l,angle:hle(d),angleInRadian:d}},ble=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},vle=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},tM=function(t,r){var n=t.x,s=t.y,i=yle({x:n,y:s},r),o=i.radius,l=i.angle,u=r.innerRadius,d=r.outerRadius;if(o<u||o>d)return!1;if(o===0)return!0;var f=ble(r),m=f.startAngle,h=f.endAngle,x=l,v;if(m<=h){for(;x>h;)x-=360;for(;x<m;)x+=360;v=x>=m&&x<=h}else{for(;x>m;)x-=360;for(;x<h;)x+=360;v=x>=h&&x<=m}return v?qo(qo({},r),{},{radius:o,angle:vle(x,r)}):null},K9=function(t){return!y.isValidElement(t)&&!At(t)&&typeof t!="boolean"?t.className:""};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}var Nle=["offset"];function Sle(e){return _le(e)||Ele(e)||jle(e)||wle()}function wle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jle(e,t){if(e){if(typeof e=="string")return i_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i_(e,t)}}function Ele(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _le(e){if(Array.isArray(e))return i_(e)}function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ale(e,t){if(e==null)return{};var r=Cle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){Tle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tle(e,t,r){return t=kle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kle(e){var t=Ole(e,"string");return Mm(t)=="symbol"?t:t+""}function Ole(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}var Rle=function(t){var r=t.value,n=t.formatter,s=It(t.children)?r:t.children;return At(n)?n(s):s},Ple=function(t,r){var n=Pa(r-t),s=Math.min(Math.abs(r-t),360);return n*s},Dle=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,u=i,d=u.cx,f=u.cy,m=u.innerRadius,h=u.outerRadius,x=u.startAngle,v=u.endAngle,N=u.clockWise,b=(m+h)/2,S=Ple(x,v),j=S>=0?1:-1,A,_;s==="insideStart"?(A=x+j*o,_=N):s==="insideEnd"?(A=v-j*o,_=!N):s==="end"&&(A=v+j*o,_=N),_=S<=0?_:!_;var E=Vr(d,f,b,A),C=Vr(d,f,b,A+(_?1:-1)*359),R="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),I=It(t.id)?pl("recharts-radial-line-"):t.id;return z.createElement("text",Lm({},n,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:I,d:R})),z.createElement("textPath",{xlinkHref:"#".concat(I)},r))},Ile=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,u=i.innerRadius,d=i.outerRadius,f=i.startAngle,m=i.endAngle,h=(f+m)/2;if(s==="outside"){var x=Vr(o,l,d+n,h),v=x.x,N=x.y;return{x:v,y:N,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(u+d)/2,S=Vr(o,l,b,h),j=S.x,A=S.y;return{x:j,y:A,textAnchor:"middle",verticalAnchor:"middle"}},Mle=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,u=o.y,d=o.width,f=o.height,m=f>=0?1:-1,h=m*s,x=m>0?"end":"start",v=m>0?"start":"end",N=d>=0?1:-1,b=N*s,S=N>0?"end":"start",j=N>0?"start":"end";if(i==="top"){var A={x:l+d/2,y:u-m*s,textAnchor:"middle",verticalAnchor:x};return Bn(Bn({},A),n?{height:Math.max(u-n.y,0),width:d}:{})}if(i==="bottom"){var _={x:l+d/2,y:u+f+h,textAnchor:"middle",verticalAnchor:v};return Bn(Bn({},_),n?{height:Math.max(n.y+n.height-(u+f),0),width:d}:{})}if(i==="left"){var E={x:l-b,y:u+f/2,textAnchor:S,verticalAnchor:"middle"};return Bn(Bn({},E),n?{width:Math.max(E.x-n.x,0),height:f}:{})}if(i==="right"){var C={x:l+d+b,y:u+f/2,textAnchor:j,verticalAnchor:"middle"};return Bn(Bn({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:f}:{})}var R=n?{width:d,height:f}:{};return i==="insideLeft"?Bn({x:l+b,y:u+f/2,textAnchor:j,verticalAnchor:"middle"},R):i==="insideRight"?Bn({x:l+d-b,y:u+f/2,textAnchor:S,verticalAnchor:"middle"},R):i==="insideTop"?Bn({x:l+d/2,y:u+h,textAnchor:"middle",verticalAnchor:v},R):i==="insideBottom"?Bn({x:l+d/2,y:u+f-h,textAnchor:"middle",verticalAnchor:x},R):i==="insideTopLeft"?Bn({x:l+b,y:u+h,textAnchor:j,verticalAnchor:v},R):i==="insideTopRight"?Bn({x:l+d-b,y:u+h,textAnchor:S,verticalAnchor:v},R):i==="insideBottomLeft"?Bn({x:l+b,y:u+f-h,textAnchor:j,verticalAnchor:x},R):i==="insideBottomRight"?Bn({x:l+d-b,y:u+f-h,textAnchor:S,verticalAnchor:x},R):Tf(i)&&(qe(i.x)||Vc(i.x))&&(qe(i.y)||Vc(i.y))?Bn({x:l+Da(i.x,d),y:u+Da(i.y,f),textAnchor:"end",verticalAnchor:"end"},R):Bn({x:l+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Lle=function(t){return"cx"in t&&qe(t.cx)};function ta(e){var t=e.offset,r=t===void 0?5:t,n=Ale(e,Nle),s=Bn({offset:r},n),i=s.viewBox,o=s.position,l=s.value,u=s.children,d=s.content,f=s.className,m=f===void 0?"":f,h=s.textBreakAll;if(!i||It(l)&&It(u)&&!y.isValidElement(d)&&!At(d))return null;if(y.isValidElement(d))return y.cloneElement(d,s);var x;if(At(d)){if(x=y.createElement(d,s),y.isValidElement(x))return x}else x=Rle(s);var v=Lle(i),N=mt(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Dle(s,x,N);var b=v?Ile(s):Mle(s);return z.createElement(cu,Lm({className:Gt("recharts-label",m)},N,b,{breakAll:h}),x)}ta.displayName="Label";var W9=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,u=t.radius,d=t.innerRadius,f=t.outerRadius,m=t.x,h=t.y,x=t.top,v=t.left,N=t.width,b=t.height,S=t.clockWise,j=t.labelViewBox;if(j)return j;if(qe(N)&&qe(b)){if(qe(m)&&qe(h))return{x:m,y:h,width:N,height:b};if(qe(x)&&qe(v))return{x,y:v,width:N,height:b}}return qe(m)&&qe(h)?{x:m,y:h,width:0,height:0}:qe(r)&&qe(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:f||u||l||0,clockWise:S}:t.viewBox?t.viewBox:{}},$le=function(t,r){return t?t===!0?z.createElement(ta,{key:"label-implicit",viewBox:r}):zn(t)?z.createElement(ta,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===ta?y.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(ta,{key:"label-implicit",content:t,viewBox:r}):At(t)?z.createElement(ta,{key:"label-implicit",content:t,viewBox:r}):Tf(t)?z.createElement(ta,Lm({viewBox:r},t,{key:"label-implicit"})):null:null},Fle=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=W9(t),o=Ma(s,ta).map(function(u,d){return y.cloneElement(u,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=$le(t.label,r||i);return[l].concat(Sle(o))};ta.parseViewBox=W9;ta.renderCallByParent=Fle;var XS,nM;function V9(){if(nM)return XS;nM=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return XS=e,XS}var Ble=V9();const Ule=Rr(Ble);function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}var zle=["valueAccessor"],Hle=["data","dataKey","clockWise","id","textBreakAll"];function qle(e){return Vle(e)||Wle(e)||Kle(e)||Gle()}function Gle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kle(e,t){if(e){if(typeof e=="string")return o_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o_(e,t)}}function Wle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vle(e){if(Array.isArray(e))return o_(e)}function o_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(this,arguments)}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(n){Yle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yle(e,t,r){return t=Xle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xle(e){var t=Qle(e,"string");return $m(t)=="symbol"?t:t+""}function Qle(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iM(e,t){if(e==null)return{};var r=Zle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jle=function(t){return Array.isArray(t.value)?Ule(t.value):t.value};function wa(e){var t=e.valueAccessor,r=t===void 0?Jle:t,n=iM(e,zle),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,u=n.textBreakAll,d=iM(n,Hle);return!s||!s.length?null:z.createElement(Yt,{className:"recharts-label-list"},s.map(function(f,m){var h=It(i)?r(f,m):Fr(f&&f.payload,i),x=It(l)?{}:{id:"".concat(l,"-").concat(m)};return z.createElement(ta,vx({},mt(f,!0),d,x,{parentViewBox:f.parentViewBox,value:h,textBreakAll:u,viewBox:ta.parseViewBox(It(o)?f:sM(sM({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}wa.displayName="LabelList";function ece(e,t){return e?e===!0?z.createElement(wa,{key:"labelList-implicit",data:t}):z.isValidElement(e)||At(e)?z.createElement(wa,{key:"labelList-implicit",data:t,content:e}):Tf(e)?z.createElement(wa,vx({data:t},e,{key:"labelList-implicit"})):null:null}function tce(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Ma(n,wa).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=ece(e.label,t);return[i].concat(qle(s))}wa.renderCallByParent=tce;function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(this,arguments)}function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){rce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rce(e,t,r){return t=nce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nce(e){var t=ace(e,"string");return Fm(t)=="symbol"?t:t+""}function ace(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sce=function(t,r){var n=Pa(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},V0=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,u=t.cornerRadius,d=t.cornerIsExternal,f=u*(l?1:-1)+s,m=Math.asin(u/f)/bx,h=d?i:i+o*m,x=Vr(r,n,f,h),v=Vr(r,n,s,h),N=d?i-o*m:i,b=Vr(r,n,f*Math.cos(m*bx),N);return{center:x,circleTangency:v,lineTangency:b,theta:m}},Y9=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,u=sce(o,l),d=o+u,f=Vr(r,n,i,o),m=Vr(r,n,i,d),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var x=Vr(r,n,s,o),v=Vr(r,n,s,d);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},ice=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,d=t.startAngle,f=t.endAngle,m=Pa(f-d),h=V0({cx:r,cy:n,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:u}),x=h.circleTangency,v=h.lineTangency,N=h.theta,b=V0({cx:r,cy:n,radius:i,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:u}),S=b.circleTangency,j=b.lineTangency,A=b.theta,_=u?Math.abs(d-f):Math.abs(d-f)-N-A;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Y9({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
  `);if(s>0){var C=V0({cx:r,cy:n,radius:s,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),R=C.circleTangency,I=C.lineTangency,O=C.theta,B=V0({cx:r,cy:n,radius:s,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),q=B.circleTangency,F=B.lineTangency,Y=B.theta,D=u?Math.abs(d-f):Math.abs(d-f)-O-Y;if(D<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},oce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X9=function(t){var r=lM(lM({},oce),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,m=r.endAngle,h=r.className;if(o<i||f===m)return null;var x=Gt("recharts-sector",h),v=o-i,N=Da(l,v,0,!0),b;return N>0&&Math.abs(f-m)<360?b=ice({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(N,v/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}):b=Y9({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:m}),z.createElement("path",l_({},mt(r,!0),{className:x,d:b,role:"img"}))};function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c_.apply(this,arguments)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lce(e,t,r){return t=cce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return Bm(t)=="symbol"?t:t+""}function uce(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dM={curveBasisClosed:Tee,curveBasisOpen:kee,curveBasis:Cee,curveBumpX:mee,curveBumpY:hee,curveLinearClosed:Oee,curveLinear:zy,curveMonotoneX:Ree,curveMonotoneY:Pee,curveNatural:Dee,curveStep:Iee,curveStepAfter:Lee,curveStepBefore:Mee},Y0=function(t){return t.x===+t.x&&t.y===+t.y},jp=function(t){return t.x},Ep=function(t){return t.y},dce=function(t,r){if(At(t))return t;var n="curve".concat(By(t));return(n==="curveMonotone"||n==="curveBump")&&r?dM["".concat(n).concat(r==="vertical"?"Y":"X")]:dM[n]||zy},fce=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,u=t.connectNulls,d=u===void 0?!1:u,f=dce(n,l),m=d?i.filter(function(N){return Y0(N)}):i,h;if(Array.isArray(o)){var x=d?o.filter(function(N){return Y0(N)}):o,v=m.map(function(N,b){return uM(uM({},N),{},{base:x[b]})});return l==="vertical"?h=F0().y(Ep).x1(jp).x0(function(N){return N.base.x}):h=F0().x(jp).y1(Ep).y0(function(N){return N.base.y}),h.defined(Y0).curve(f),h(v)}return l==="vertical"&&qe(o)?h=F0().y(Ep).x1(jp).x0(o):qe(o)?h=F0().x(jp).y1(Ep).y0(o):h=G8().x(jp).y(Ep),h.defined(Y0).curve(f),h(m)},sc=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?fce(t):s;return y.createElement("path",c_({},mt(t,!1),Gg(t),{className:Gt("recharts-curve",r),d:o,ref:i}))},QS={exports:{}},ZS,fM;function pce(){if(fM)return ZS;fM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ZS=e,ZS}var JS,pM;function mce(){if(pM)return JS;pM=1;var e=pce();function t(){}function r(){}return r.resetWarningCache=t,JS=function(){function n(o,l,u,d,f,m){if(m!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},JS}var mM;function hce(){return mM||(mM=1,QS.exports=mce()()),QS.exports}var gce=hce();const Dr=Rr(gce),{getOwnPropertyNames:xce,getOwnPropertySymbols:yce}=Object,{hasOwnProperty:bce}=Object.prototype;function ew(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function X0(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const u=e(r,n,s);return i.delete(r),i.delete(n),u}}function vce(e){return e?.[Symbol.toStringTag]}function hM(e){return xce(e).concat(yce(e))}const Nce=Object.hasOwn||((e,t)=>bce.call(e,t));function Eu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Sce="__v",wce="__o",jce="_owner",{getOwnPropertyDescriptor:gM,keys:xM}=Object;function Ece(e,t){return e.byteLength===t.byteLength&&Nx(new Uint8Array(e),new Uint8Array(t))}function _ce(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Ace(e,t){return e.byteLength===t.byteLength&&Nx(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Cce(e,t){return Eu(e.getTime(),t.getTime())}function Tce(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function kce(e,t){return e===t}function yM(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,u=0;for(;(o=i.next())&&!o.done;){const d=t.entries();let f=!1,m=0;for(;(l=d.next())&&!l.done;){if(s[m]){m++;continue}const h=o.value,x=l.value;if(r.equals(h[0],x[0],u,m,e,t,r)&&r.equals(h[1],x[1],h[0],x[0],e,t,r)){f=s[m]=!0;break}m++}if(!f)return!1;u++}return!0}const Oce=Eu;function Rce(e,t,r){const n=xM(e);let s=n.length;if(xM(t).length!==s)return!1;for(;s-- >0;)if(!Q9(e,t,r,n[s]))return!1;return!0}function _p(e,t,r){const n=hM(e);let s=n.length;if(hM(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!Q9(e,t,r,i)||(o=gM(e,i),l=gM(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Pce(e,t){return Eu(e.valueOf(),t.valueOf())}function Dce(e,t){return e.source===t.source&&e.flags===t.flags}function bM(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const u=t.values();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1}return!0}function Nx(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Ice(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Q9(e,t,r,n){return(n===jce||n===wce||n===Sce)&&(e.$$typeof||t.$$typeof)?!0:Nce(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Mce="[object ArrayBuffer]",Lce="[object Arguments]",$ce="[object Boolean]",Fce="[object DataView]",Bce="[object Date]",Uce="[object Error]",zce="[object Map]",Hce="[object Number]",qce="[object Object]",Gce="[object RegExp]",Kce="[object Set]",Wce="[object String]",Vce={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Yce="[object URL]",Xce=Object.prototype.toString;function Qce({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:u,arePrimitiveWrappersEqual:d,areRegExpsEqual:f,areSetsEqual:m,areTypedArraysEqual:h,areUrlsEqual:x,unknownTagComparators:v}){return function(b,S,j){if(b===S)return!0;if(b==null||S==null)return!1;const A=typeof b;if(A!==typeof S)return!1;if(A!=="object")return A==="number"?l(b,S,j):A==="function"?i(b,S,j):!1;const _=b.constructor;if(_!==S.constructor)return!1;if(_===Object)return u(b,S,j);if(Array.isArray(b))return t(b,S,j);if(_===Date)return n(b,S,j);if(_===RegExp)return f(b,S,j);if(_===Map)return o(b,S,j);if(_===Set)return m(b,S,j);const E=Xce.call(b);if(E===Bce)return n(b,S,j);if(E===Gce)return f(b,S,j);if(E===zce)return o(b,S,j);if(E===Kce)return m(b,S,j);if(E===qce)return typeof b.then!="function"&&typeof S.then!="function"&&u(b,S,j);if(E===Yce)return x(b,S,j);if(E===Uce)return s(b,S,j);if(E===Lce)return u(b,S,j);if(Vce[E])return h(b,S,j);if(E===Mce)return e(b,S,j);if(E===Fce)return r(b,S,j);if(E===$ce||E===Hce||E===Wce)return d(b,S,j);if(v){let C=v[E];if(!C){const R=vce(b);R&&(C=v[R])}if(C)return C(b,S,j)}return!1}}function Zce({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Ece,areArraysEqual:r?_p:_ce,areDataViewsEqual:Ace,areDatesEqual:Cce,areErrorsEqual:Tce,areFunctionsEqual:kce,areMapsEqual:r?ew(yM,_p):yM,areNumbersEqual:Oce,areObjectsEqual:r?_p:Rce,arePrimitiveWrappersEqual:Pce,areRegExpsEqual:Dce,areSetsEqual:r?ew(bM,_p):bM,areTypedArraysEqual:r?ew(Nx,_p):Nx,areUrlsEqual:Ice,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=X0(n.areArraysEqual),i=X0(n.areMapsEqual),o=X0(n.areObjectsEqual),l=X0(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function Jce(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function eue({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,u){const{cache:d=e?new WeakMap:void 0,meta:f}=r();return t(l,u,{cache:d,equals:n,meta:f,strict:s})};if(e)return function(l,u){return t(l,u,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,u){return t(l,u,i)}}const tue=xc();xc({strict:!0});xc({circular:!0});xc({circular:!0,strict:!0});xc({createInternalComparator:()=>Eu});xc({strict:!0,createInternalComparator:()=>Eu});xc({circular:!0,createInternalComparator:()=>Eu});xc({circular:!0,createInternalComparator:()=>Eu,strict:!0});function xc(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=Zce(e),o=Qce(i),l=r?r(o):Jce(o);return eue({circular:t,comparator:o,createState:n,equals:l,strict:s})}function rue(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function vM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):rue(s)};requestAnimationFrame(n)}function u_(e){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u_(e)}function nue(e){return oue(e)||iue(e)||sue(e)||aue()}function aue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sue(e,t){if(e){if(typeof e=="string")return NM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(e,t)}}function NM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oue(e){if(Array.isArray(e))return e}function lue(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=nue(o),u=l[0],d=l.slice(1);if(typeof u=="number"){vM(s.bind(null,d),u);return}s(u),vM(s.bind(null,d));return}u_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){Z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z9(e,t,r){return t=cue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cue(e){var t=uue(e,"string");return Um(t)==="symbol"?t:String(t)}function uue(e,t){if(Um(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var due=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},fue=function(t){return t},pue=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},om=function(t,r){return Object.keys(r).reduce(function(n,s){return wM(wM({},n),{},Z9({},s,t(s,r[s])))},{})},jM=function(t,r,n){return t.map(function(s){return"".concat(pue(s)," ").concat(r,"ms ").concat(n)}).join(",")};function mue(e,t){return xue(e)||gue(e,t)||J9(e,t)||hue()}function hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function xue(e){if(Array.isArray(e))return e}function yue(e){return Nue(e)||vue(e)||J9(e)||bue()}function bue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(e,t){if(e){if(typeof e=="string")return d_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(e,t)}}function vue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nue(e){if(Array.isArray(e))return d_(e)}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sx=1e-4,eB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},tB=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},EM=function(t,r){return function(n){var s=eB(t,r);return tB(s,n)}},Sue=function(t,r){return function(n){var s=eB(t,r),i=[].concat(yue(s.map(function(o,l){return o*l}).slice(1)),[0]);return tB(i,n)}},_M=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var d=u[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=mue(d,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var m=EM(s,o),h=EM(i,l),x=Sue(s,o),v=function(S){return S>1?1:S<0?0:S},N=function(S){for(var j=S>1?1:S,A=j,_=0;_<8;++_){var E=m(A)-j,C=x(A);if(Math.abs(E-j)<Sx||C<Sx)return h(A);A=v(A-E/C)}return h(A)};return N.isStepper=!1,N},wue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,u=function(f,m,h){var x=-(f-m)*n,v=h*i,N=h+(x-v)*l/1e3,b=h*l/1e3+f;return Math.abs(b-m)<Sx&&Math.abs(N)<Sx?[m,0]:[b,N]};return u.isStepper=!0,u.dt=l,u},jue=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _M(s);case"spring":return wue();default:if(s.split("(")[0]==="cubic-bezier")return _M(s)}return typeof s=="function"?s:null};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function AM(e){return Aue(e)||_ue(e)||rB(e)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aue(e){if(Array.isArray(e))return p_(e)}function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(n){f_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f_(e,t,r){return t=Cue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cue(e){var t=Tue(e,"string");return zm(t)==="symbol"?t:String(t)}function Tue(e,t){if(zm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kue(e,t){return Pue(e)||Rue(e,t)||rB(e,t)||Oue()}function Oue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rB(e,t){if(e){if(typeof e=="string")return p_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p_(e,t)}}function p_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Pue(e){if(Array.isArray(e))return e}var wx=function(t,r,n){return t+(r-t)*n},m_=function(t){var r=t.from,n=t.to;return r!==n},Due=function e(t,r,n){var s=om(function(i,o){if(m_(o)){var l=t(o.from,o.to,o.velocity),u=kue(l,2),d=u[0],f=u[1];return la(la({},o),{},{from:d,velocity:f})}return o},r);return n<1?om(function(i,o){return m_(o)?la(la({},o),{},{velocity:wx(o.velocity,s[i].velocity,n),from:wx(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const Iue=(function(e,t,r,n,s){var i=due(e,t),o=i.reduce(function(b,S){return la(la({},b),{},f_({},S,[e[S],t[S]]))},{}),l=i.reduce(function(b,S){return la(la({},b),{},f_({},S,{from:e[S],velocity:0,to:t[S]}))},{}),u=-1,d,f,m=function(){return null},h=function(){return om(function(S,j){return j.from},l)},x=function(){return!Object.values(l).filter(m_).length},v=function(S){d||(d=S);var j=S-d,A=j/r.dt;l=Due(r,l,A),s(la(la(la({},e),t),h())),d=S,x()||(u=requestAnimationFrame(m))},N=function(S){f||(f=S);var j=(S-f)/n,A=om(function(E,C){return wx.apply(void 0,AM(C).concat([r(j)]))},o);if(s(la(la(la({},e),t),A)),j<1)u=requestAnimationFrame(m);else{var _=om(function(E,C){return wx.apply(void 0,AM(C).concat([r(1)]))},o);s(la(la(la({},e),t),_))}};return m=r.isStepper?v:N,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}});function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}var Mue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lue(e,t){if(e==null)return{};var r=$ue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ue(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function tw(e){return zue(e)||Uue(e)||Bue(e)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(e,t){if(e){if(typeof e=="string")return h_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h_(e,t)}}function Uue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zue(e){if(Array.isArray(e))return h_(e)}function h_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){Kp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kp(e,t,r){return t=nB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function que(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nB(n.key),n)}}function Gue(e,t,r){return t&&que(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nB(e){var t=Kue(e,"string");return Wd(t)==="symbol"?t:String(t)}function Kue(e,t){if(Wd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g_(e,t)}function g_(e,t){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},g_(e,t)}function Vue(e){var t=Yue();return function(){var n=jx(e),s;if(t){var i=jx(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return x_(this,s)}}function x_(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y_(e)}function y_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(e)}var ns=(function(e){Wue(r,e);var t=Vue(r);function r(n,s){var i;Hue(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,u=o.attributeName,d=o.from,f=o.to,m=o.steps,h=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(y_(i)),i.changeStyle=i.changeStyle.bind(y_(i)),!l||x<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),x_(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof h=="function")return i.state={style:d},x_(i);i.state={style:u?Kp({},u,d):d}}else i.state={style:{}};return i}return Gue(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,u=i.attributeName,d=i.shouldReAnimate,f=i.to,m=i.from,h=this.state.style;if(l){if(!o){var x={style:u?Kp({},u,f):f};this.state&&h&&(u&&h[u]!==f||!u&&h!==f)&&this.setState(x);return}if(!(tue(s.to,f)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var N=v||d?m:s.to;if(this.state&&h){var b={style:u?Kp({},u,N):N};(u&&h[u]!==N||!u&&h!==N)&&this.setState(b)}this.runAnimation(mi(mi({},this.props),{},{from:N,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,u=s.duration,d=s.easing,f=s.begin,m=s.onAnimationEnd,h=s.onAnimationStart,x=Iue(o,l,jue(d),u,this.changeStyle),v=function(){i.stopJSAnimation=x()};this.manager.start([h,f,v,u,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,u=s.onAnimationStart,d=o[0],f=d.style,m=d.duration,h=m===void 0?0:m,x=function(N,b,S){if(S===0)return N;var j=b.duration,A=b.easing,_=A===void 0?"ease":A,E=b.style,C=b.properties,R=b.onAnimationEnd,I=S>0?o[S-1]:b,O=C||Object.keys(E);if(typeof _=="function"||_==="spring")return[].concat(tw(N),[i.runJSAnimation.bind(i,{from:I.style,to:E,duration:j,easing:_}),j]);var B=jM(O,j,_),q=mi(mi(mi({},I.style),E),{},{transition:B});return[].concat(tw(N),[q,j,R]).filter(fue)};return this.manager.start([u].concat(tw(o.reduce(x,[f,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=lue());var i=s.begin,o=s.duration,l=s.attributeName,u=s.to,d=s.easing,f=s.onAnimationStart,m=s.onAnimationEnd,h=s.steps,x=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var N=l?Kp({},l,u):u,b=jM(Object.keys(N),o,d);v.start([f,i,mi(mi({},N),{},{transition:b}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=Lue(s,Mue),d=y.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||d===0||o<=0)return i;var m=function(x){var v=x.props,N=v.style,b=N===void 0?{}:N,S=v.className,j=y.cloneElement(x,mi(mi({},u),{},{style:mi(mi({},b),f),className:S}));return j};return d===1?m(y.Children.only(i)):z.createElement("div",null,y.Children.map(i,function(h){return m(h)}))}}]),r})(y.PureComponent);ns.displayName="Animate";ns.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ns.propTypes={from:Dr.oneOfType([Dr.object,Dr.string]),to:Dr.oneOfType([Dr.object,Dr.string]),attributeName:Dr.string,duration:Dr.number,begin:Dr.number,easing:Dr.oneOfType([Dr.string,Dr.func]),steps:Dr.arrayOf(Dr.shape({duration:Dr.number.isRequired,style:Dr.object.isRequired,easing:Dr.oneOfType([Dr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Dr.func]),properties:Dr.arrayOf("string"),onAnimationEnd:Dr.func})),children:Dr.oneOfType([Dr.node,Dr.func]),isActive:Dr.bool,canBegin:Dr.bool,onAnimationEnd:Dr.func,shouldReAnimate:Dr.bool,onAnimationStart:Dr.func,onAnimationReStart:Dr.func};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(this,arguments)}function Xue(e,t){return ede(e)||Jue(e,t)||Zue(e,t)||Que()}function Que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zue(e,t){if(e){if(typeof e=="string")return kM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kM(e,t)}}function kM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ede(e){if(Array.isArray(e))return e}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){tde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tde(e,t,r){return t=rde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rde(e){var t=nde(e,"string");return Hm(t)=="symbol"?t:t+""}function nde(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PM=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,u=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],h=0,x=4;h<x;h++)m[h]=i[h]>o?o:i[h];f="M".concat(t,",").concat(r+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+u*m[0],",").concat(r)),f+="L ".concat(t+n-u*m[1],",").concat(r),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*m[1])),f+="L ".concat(t+n,",").concat(r+s-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-u*m[2],",").concat(r+s)),f+="L ".concat(t+u*m[3],",").concat(r+s),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+s-l*m[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+u*v,",").concat(r,`
            L `).concat(t+n-u*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+n-u*v,",").concat(r+s,`
            L `).concat(t+u*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t,",").concat(r+s-l*v," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return f},ade=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var d=Math.min(i,i+l),f=Math.max(i,i+l),m=Math.min(o,o+u),h=Math.max(o,o+u);return n>=d&&n<=f&&s>=m&&s<=h}return!1},sde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sb=function(t){var r=RM(RM({},sde),t),n=y.useRef(),s=y.useState(-1),i=Xue(s,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var u=r.x,d=r.y,f=r.width,m=r.height,h=r.radius,x=r.className,v=r.animationEasing,N=r.animationDuration,b=r.animationBegin,S=r.isAnimationActive,j=r.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||m!==+m||f===0||m===0)return null;var A=Gt("recharts-rectangle",x);return j?z.createElement(ns,{canBegin:o>0,from:{width:f,height:m,x:u,y:d},to:{width:f,height:m,x:u,y:d},duration:N,animationEasing:v,isActive:j},function(_){var E=_.width,C=_.height,R=_.x,I=_.y;return z.createElement(ns,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:N,isActive:S,easing:v},z.createElement("path",Ex({},mt(r,!0),{className:A,d:PM(R,I,E,C,h),ref:n})))}):z.createElement("path",Ex({},mt(r,!0),{className:A,d:PM(u,d,f,m,h)}))},ide=["points","className","baseLinePoints","connectNulls"];function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(this,arguments)}function ode(e,t){if(e==null)return{};var r=lde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DM(e){return fde(e)||dde(e)||ude(e)||cde()}function cde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ude(e,t){if(e){if(typeof e=="string")return b_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b_(e,t)}}function dde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fde(e){if(Array.isArray(e))return b_(e)}function b_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IM=function(t){return t&&t.x===+t.x&&t.y===+t.y},pde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){IM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),IM(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},lm=function(t,r){var n=pde(t);r&&(n=[n.reduce(function(i,o){return[].concat(DM(i),DM(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,u){return"".concat(o).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},mde=function(t,r,n){var s=lm(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(lm(r.reverse(),n).slice(1))},aB=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=ode(t,ide);if(!r||!r.length)return null;var l=Gt("recharts-polygon",n);if(s&&s.length){var u=o.stroke&&o.stroke!=="none",d=mde(r,s,i);return z.createElement("g",{className:l},z.createElement("path",ud({},mt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),u?z.createElement("path",ud({},mt(o,!0),{fill:"none",d:lm(r,i)})):null,u?z.createElement("path",ud({},mt(o,!0),{fill:"none",d:lm(s,i)})):null)}var f=lm(r,i);return z.createElement("path",ud({},mt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(this,arguments)}var Nh=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=Gt("recharts-dot",i);return r===+r&&n===+n&&s===+s?y.createElement("circle",v_({},mt(t,!1),Gg(t),{className:o,cx:r,cy:n,r:s})):null};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}var hde=["x","y","top","left","width","height","className"];function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){xde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xde(e,t,r){return t=yde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yde(e){var t=bde(e,"string");return qm(t)=="symbol"?t:t+""}function bde(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vde(e,t){if(e==null)return{};var r=Nde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Sde=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},wde=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,u=t.left,d=u===void 0?0:u,f=t.width,m=f===void 0?0:f,h=t.height,x=h===void 0?0:h,v=t.className,N=vde(t,hde),b=gde({x:n,y:i,top:l,left:d,width:m,height:x},N);return!qe(n)||!qe(i)||!qe(m)||!qe(x)||!qe(l)||!qe(d)?null:z.createElement("path",N_({},mt(b,!0),{className:Gt("recharts-cross",v),d:Sde(n,i,m,x,l,d)}))},rw,LM;function jde(){if(LM)return rw;LM=1;var e=tb(),t=x9(),r=vo();function n(s,i){return s&&s.length?e(s,r(i,2),t):void 0}return rw=n,rw}var Ede=jde();const _de=Rr(Ede);var nw,$M;function Ade(){if($M)return nw;$M=1;var e=tb(),t=vo(),r=y9();function n(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return nw=n,nw}var Cde=Ade();const Tde=Rr(Cde);var kde=["cx","cy","angle","ticks","axisLine"],Ode=["ticks","tick","angle","tickFormatter","stroke"];function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(n){ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BM(e,t){if(e==null)return{};var r=Rde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iB(n.key),n)}}function Dde(e,t,r){return t&&UM(e.prototype,t),r&&UM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ide(e,t,r){return t=_x(t),Mde(e,sB()?Reflect.construct(t,r||[],_x(e).constructor):t.apply(e,r))}function Mde(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lde(e)}function Lde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sB=function(){return!!e})()}function _x(e){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_x(e)}function $de(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},S_(e,t)}function ib(e,t,r){return t=iB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=Fde(e,"string");return Vd(t)=="symbol"?t:t+""}function Fde(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ob=(function(e){function t(){return Pde(this,t),Ide(this,t,arguments)}return $de(t,e),Dde(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,u=i.cy;return Vr(l,u,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,u=_de(l,function(f){return f.coordinate||0}),d=Tde(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,u=n.axisLine,d=BM(n,kde),f=l.reduce(function(v,N){return[Math.min(v[0],N.coordinate),Math.max(v[1],N.coordinate)]},[1/0,-1/0]),m=Vr(s,i,f[0],o),h=Vr(s,i,f[1],o),x=Fc(Fc(Fc({},mt(d,!1)),{},{fill:"none"},mt(u,!1)),{},{x1:m.x,y1:m.y,x2:h.x,y2:h.y});return z.createElement("line",cm({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,u=s.tickFormatter,d=s.stroke,f=BM(s,Ode),m=this.getTickTextAnchor(),h=mt(f,!1),x=mt(o,!1),v=i.map(function(N,b){var S=n.getTickValueCoord(N),j=Fc(Fc(Fc(Fc({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(S.x,", ").concat(S.y,")")},h),{},{stroke:"none",fill:d},x),{},{index:b},S),{},{payload:N});return z.createElement(Yt,cm({className:Gt("recharts-polar-radius-axis-tick",K9(o)),key:"tick-".concat(N.coordinate)},oc(n.props,N,b)),t.renderTickItem(o,j,u?u(N.value,b):N.value))});return z.createElement(Yt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:z.createElement(Yt,{className:Gt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ta.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return z.isValidElement(n)?o=z.cloneElement(n,s):At(n)?o=n(s):o=z.createElement(cu,cm({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(y.PureComponent);ib(ob,"displayName","PolarRadiusAxis");ib(ob,"axisType","radiusAxis");ib(ob,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(this,arguments)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){lb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lB(n.key),n)}}function Ude(e,t,r){return t&&HM(e.prototype,t),r&&HM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zde(e,t,r){return t=Ax(t),Hde(e,oB()?Reflect.construct(t,r||[],Ax(e).constructor):t.apply(e,r))}function Hde(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qde(e)}function qde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oB=function(){return!!e})()}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ax(e)}function Gde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},w_(e,t)}function lb(e,t,r){return t=lB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=Kde(e,"string");return Yd(t)=="symbol"?t:t+""}function Kde(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wde=Math.PI/180,qM=1e-5,cb=(function(e){function t(){return Bde(this,t),zde(this,t,arguments)}return Gde(t,e),Ude(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,u=s.orientation,d=s.tickSize,f=d||8,m=Vr(i,o,l,n.coordinate),h=Vr(i,o,l+(u==="inner"?-1:1)*f,n.coordinate);return{x1:m.x,y1:m.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*Wde),o;return i>qM?o=s==="outer"?"start":"end":i<-qM?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,u=n.axisLineType,d=Bc(Bc({},mt(this.props,!1)),{},{fill:"none"},mt(l,!1));if(u==="circle")return z.createElement(Nh,Kc({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var f=this.props.ticks,m=f.map(function(h){return Vr(s,i,o,h.coordinate)});return z.createElement(aB,Kc({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,u=s.tickFormatter,d=s.stroke,f=mt(this.props,!1),m=mt(o,!1),h=Bc(Bc({},f),{},{fill:"none"},mt(l,!1)),x=i.map(function(v,N){var b=n.getTickLineCoord(v),S=n.getTickTextAnchor(v),j=Bc(Bc(Bc({textAnchor:S},f),{},{stroke:"none",fill:d},m),{},{index:N,payload:v,x:b.x2,y:b.y2});return z.createElement(Yt,Kc({className:Gt("recharts-polar-angle-axis-tick",K9(o)),key:"tick-".concat(v.coordinate)},oc(n.props,v,N)),l&&z.createElement("line",Kc({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&t.renderTickItem(o,j,u?u(v.value,N):v.value))});return z.createElement(Yt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:z.createElement(Yt,{className:Gt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return z.isValidElement(n)?o=z.cloneElement(n,s):At(n)?o=n(s):o=z.createElement(cu,Kc({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(y.PureComponent);lb(cb,"displayName","PolarAngleAxis");lb(cb,"axisType","angleAxis");lb(cb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var aw,GM;function lT(){if(GM)return aw;GM=1;var e=mF(),t=e(Object.getPrototypeOf,Object);return aw=t,aw}var sw,KM;function cB(){if(KM)return sw;KM=1;var e=fl(),t=lT(),r=Pi(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,u=o.call(Object);function d(f){if(!r(f)||e(f)!=n)return!1;var m=t(f);if(m===null)return!0;var h=l.call(m,"constructor")&&m.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==u}return sw=d,sw}var Vde=cB();const Yde=Rr(Vde);var iw,WM;function Xde(){if(WM)return iw;WM=1;var e=fl(),t=Pi(),r="[object Boolean]";function n(s){return s===!0||s===!1||t(s)&&e(s)==r}return iw=n,iw}var Qde=Xde();const Zde=Rr(Qde);function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(this,arguments)}function Jde(e,t){return nfe(e)||rfe(e,t)||tfe(e,t)||efe()}function efe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tfe(e,t){if(e){if(typeof e=="string")return VM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VM(e,t)}}function VM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function nfe(e){if(Array.isArray(e))return e}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){afe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function afe(e,t,r){return t=sfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sfe(e){var t=ife(e,"string");return Gm(t)=="symbol"?t:t+""}function ife(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QM=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},ofe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lfe=function(t){var r=XM(XM({},ofe),t),n=y.useRef(),s=y.useState(-1),i=Jde(s,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var u=r.x,d=r.y,f=r.upperWidth,m=r.lowerWidth,h=r.height,x=r.className,v=r.animationEasing,N=r.animationDuration,b=r.animationBegin,S=r.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||m!==+m||h!==+h||f===0&&m===0||h===0)return null;var j=Gt("recharts-trapezoid",x);return S?z.createElement(ns,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:u,y:d},to:{upperWidth:f,lowerWidth:m,height:h,x:u,y:d},duration:N,animationEasing:v,isActive:S},function(A){var _=A.upperWidth,E=A.lowerWidth,C=A.height,R=A.x,I=A.y;return z.createElement(ns,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:N,easing:v},z.createElement("path",Cx({},mt(r,!0),{className:j,d:QM(R,I,_,E,C),ref:n})))}):z.createElement("g",null,z.createElement("path",Cx({},mt(r,!0),{className:j,d:QM(u,d,f,m,h)})))},cfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function ufe(e,t){if(e==null)return{};var r=dfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){ffe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ffe(e,t,r){return t=pfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pfe(e){var t=mfe(e,"string");return Km(t)=="symbol"?t:t+""}function mfe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hfe(e,t){return Tx(Tx({},t),e)}function gfe(e,t){return e==="symbols"}function JM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(sb,r);case"trapezoid":return z.createElement(lfe,r);case"sector":return z.createElement(X9,r);case"symbols":if(gfe(t))return z.createElement(qy,r);break;default:return null}}function xfe(e){return y.isValidElement(e)?e.props:e}function kx(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?hfe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,u=ufe(e,cfe),d;if(y.isValidElement(t))d=y.cloneElement(t,Tx(Tx({},u),xfe(t)));else if(At(t))d=t(u);else if(Yde(t)&&!Zde(t)){var f=s(t,u);d=z.createElement(JM,{shapeType:r,elementProps:f})}else{var m=u;d=z.createElement(JM,{shapeType:r,elementProps:m})}return l?z.createElement(Yt,{className:o},d):d}function ub(e,t){return t!=null&&"trapezoids"in e.props}function db(e,t){return t!=null&&"sectors"in e.props}function Wm(e,t){return t!=null&&"points"in e.props}function yfe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function bfe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function vfe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function Nfe(e,t){var r;return ub(e,t)?r=yfe:db(e,t)?r=bfe:Wm(e,t)&&(r=vfe),r}function Sfe(e,t){var r;return ub(e,t)?r="trapezoids":db(e,t)?r="sectors":Wm(e,t)&&(r="points"),r}function wfe(e,t){if(ub(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(db(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Wm(e,t)?t.payload:{}}function jfe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=Sfe(r,t),i=wfe(r,t),o=n.filter(function(u,d){var f=lc(i,u),m=r.props[s].filter(function(v){var N=Nfe(r,t);return N(v,t)}),h=r.props[s].indexOf(m[m.length-1]),x=d===h;return f&&x}),l=n.indexOf(o[o.length-1]);return l}var wg;function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(this,arguments)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){Bs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Efe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dB(n.key),n)}}function _fe(e,t,r){return t&&t4(e.prototype,t),r&&t4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Afe(e,t,r){return t=Ox(t),Cfe(e,uB()?Reflect.construct(t,r||[],Ox(e).constructor):t.apply(e,r))}function Cfe(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(e)}function Tfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uB=function(){return!!e})()}function Ox(e){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(e)}function kfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j_(e,t)}function j_(e,t){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},j_(e,t)}function Bs(e,t,r){return t=dB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dB(e){var t=Ofe(e,"string");return Xd(t)=="symbol"?t:t+""}function Ofe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mi=(function(e){function t(r){var n;return Efe(this,t),n=Afe(this,t,[r]),Bs(n,"pieRef",null),Bs(n,"sectorRefs",[]),Bs(n,"id",pl("recharts-pie-")),Bs(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),At(s)&&s()}),Bs(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),At(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return kfe(t,e),_fe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,u=i.dataKey,d=i.valueKey,f=mt(this.props,!1),m=mt(o,!1),h=mt(l,!1),x=o&&o.offsetRadius||20,v=n.map(function(N,b){var S=(N.startAngle+N.endAngle)/2,j=Vr(N.cx,N.cy,N.outerRadius+x,S),A=Kr(Kr(Kr(Kr({},f),N),{},{stroke:"none"},m),{},{index:b,textAnchor:t.getTextAnchor(j.x,N.cx)},j),_=Kr(Kr(Kr(Kr({},f),N),{},{fill:"none",stroke:N.fill},h),{},{index:b,points:[Vr(N.cx,N.cy,N.outerRadius,S),j]}),E=u;return It(u)&&It(d)?E="value":It(u)&&(E=d),z.createElement(Yt,{key:"label-".concat(N.startAngle,"-").concat(N.endAngle,"-").concat(N.midAngle,"-").concat(b)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,A,Fr(N,E)))});return z.createElement(Yt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,u=i.inactiveShape;return n.map(function(d,f){if(d?.startAngle===0&&d?.endAngle===0&&n.length!==1)return null;var m=s.isActiveIndex(f),h=u&&s.hasActiveIndex()?u:null,x=m?o:h,v=Kr(Kr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return z.createElement(Yt,dd({ref:function(b){b&&!s.sectorRefs.includes(b)&&s.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},oc(s.props,d,f),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(f)}),z.createElement(kx,dd({option:x,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,m=this.state,h=m.prevSectors,x=m.prevIsAnimationActive;return z.createElement(ns,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var N=v.t,b=[],S=i&&i[0],j=S.startAngle;return i.forEach(function(A,_){var E=h&&h[_],C=_>0?rs(A,"paddingAngle",0):0;if(E){var R=cn(E.endAngle-E.startAngle,A.endAngle-A.startAngle),I=Kr(Kr({},A),{},{startAngle:j+C,endAngle:j+R(N)+C});b.push(I),j=I.endAngle}else{var O=A.endAngle,B=A.startAngle,q=cn(0,O-B),F=q(N),Y=Kr(Kr({},A),{},{startAngle:j+C,endAngle:j+F+C});b.push(Y),j=Y.endAngle}}),z.createElement(Yt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!lc(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,u=s.label,d=s.cx,f=s.cy,m=s.innerRadius,h=s.outerRadius,x=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!qe(d)||!qe(f)||!qe(m)||!qe(h))return null;var N=Gt("recharts-pie",l);return z.createElement(Yt,{tabIndex:this.props.rootTabIndex,className:N,ref:function(S){n.pieRef=S}},this.renderSectors(),u&&this.renderLabels(o),ta.renderCallByParent(this.props,null,!1),(!x||v)&&wa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(z.isValidElement(n))return z.cloneElement(n,s);if(At(n))return n(s);var o=Gt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(sc,dd({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(z.isValidElement(n))return z.cloneElement(n,s);var o=i;if(At(n)&&(o=n(s),z.isValidElement(o)))return o;var l=Gt("recharts-pie-label-text",typeof n!="boolean"&&!At(n)?n.className:"");return z.createElement(cu,dd({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(y.PureComponent);wg=Mi;Bs(Mi,"displayName","Pie");Bs(Mi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ai.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Bs(Mi,"parseDeltaAngle",function(e,t){var r=Pa(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Bs(Mi,"getRealPieData",function(e){var t=e.data,r=e.children,n=mt(e,!1),s=Ma(r,Hs);return t&&t.length?t.map(function(i,o){return Kr(Kr(Kr({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Kr(Kr({},n),i.props)}):[]});Bs(Mi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=G9(s,i),l=n+Da(e.cx,s,s/2),u=r+Da(e.cy,i,i/2),d=Da(e.innerRadius,o,0),f=Da(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:m}});Bs(Mi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Kr(Kr({},t.type.defaultProps),t.props):t.props,s=wg.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,u=n.paddingAngle,d=n.dataKey,f=n.nameKey,m=n.valueKey,h=n.tooltipType,x=Math.abs(n.minAngle),v=wg.parseCoordinateOfPie(n,r),N=wg.parseDeltaAngle(o,l),b=Math.abs(N),S=d;It(d)&&It(m)?(Ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):It(d)&&(Ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=m);var j=s.filter(function(I){return Fr(I,S,0)!==0}).length,A=(b>=360?j:j-1)*u,_=b-j*x-A,E=s.reduce(function(I,O){var B=Fr(O,S,0);return I+(qe(B)?B:0)},0),C;if(E>0){var R;C=s.map(function(I,O){var B=Fr(I,S,0),q=Fr(I,f,O),F=(qe(B)?B:0)/E,Y;O?Y=R.endAngle+Pa(N)*u*(B!==0?1:0):Y=o;var D=Y+Pa(N)*((B!==0?x:0)+F*_),G=(Y+D)/2,U=(v.innerRadius+v.outerRadius)/2,V=[{name:q,value:B,payload:I,dataKey:S,type:h}],M=Vr(v.cx,v.cy,U,G);return R=Kr(Kr(Kr({percent:F,cornerRadius:i,name:q,tooltipPayload:V,midAngle:G,middleRadius:U,tooltipPosition:M},I),v),{},{value:Fr(I,S),startAngle:Y,endAngle:D,payload:I,paddingAngle:Pa(N)*u}),R})}return Kr(Kr({},v),{},{sectors:C,data:s})});var ow,r4;function Rfe(){if(r4)return ow;r4=1;var e=Math.ceil,t=Math.max;function r(n,s,i,o){for(var l=-1,u=t(e((s-n)/(i||1)),0),d=Array(u);u--;)d[o?u:++l]=n,n+=i;return d}return ow=r,ow}var lw,n4;function fB(){if(n4)return lw;n4=1;var e=RF(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return lw=n,lw}var cw,a4;function Pfe(){if(a4)return cw;a4=1;var e=Rfe(),t=Vy(),r=fB();function n(s){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,s)}}return cw=n,cw}var uw,s4;function Dfe(){if(s4)return uw;s4=1;var e=Pfe(),t=e();return uw=t,uw}var Ife=Dfe();const Rx=Rr(Ife);function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function o4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){pB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pB(e,t,r){return t=Mfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mfe(e){var t=Lfe(e,"string");return Vm(t)=="symbol"?t:t+""}function Lfe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $fe=["Webkit","Moz","O","ms"],Ffe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=$fe.reduce(function(i,o){return o4(o4({},i),{},pB({},o+n,r))},{});return s[t]=r,s};function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(this,arguments)}function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(n){gs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hB(n.key),n)}}function Ufe(e,t,r){return t&&c4(e.prototype,t),r&&c4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zfe(e,t,r){return t=Dx(t),Hfe(e,mB()?Reflect.construct(t,r||[],Dx(e).constructor):t.apply(e,r))}function Hfe(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qfe(e)}function qfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mB=function(){return!!e})()}function Dx(e){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(e)}function Gfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},E_(e,t)}function gs(e,t,r){return t=hB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=Kfe(e,"string");return Qd(t)=="symbol"?t:t+""}function Kfe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wfe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,d=sm().domain(Rx(0,u)).range([i,i+o-l]),f=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(s),scale:d,scaleValues:f}},u4=function(t){return t.changedTouches&&!!t.changedTouches.length},Zd=(function(e){function t(r){var n;return Bfe(this,t),n=zfe(this,t,[r]),gs(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),gs(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),gs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),gs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),gs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),gs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),gs(n,"handleSlideDragStart",function(s){var i=u4(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Gfe(t,e),Ufe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,u=l.gap,d=l.data,f=d.length-1,m=Math.min(s,i),h=Math.max(s,i),x=t.getIndexInRange(o,m),v=t.getIndexInRange(o,h);return{startIndex:x-x%u,endIndex:v===f?f:v-v%u}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,u=Fr(i[n],l,n);return At(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,u=this.props,d=u.x,f=u.width,m=u.travellerWidth,h=u.startIndex,x=u.endIndex,v=u.onChange,N=n.pageX-i;N>0?N=Math.min(N,d+f-m-l,d+f-m-o):N<0&&(N=Math.max(N,d-o,d-l));var b=this.getIndex({startX:o+N,endX:l+N});(b.startIndex!==h||b.endIndex!==x)&&v&&v(b),this.setState({startX:o+N,endX:l+N,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=u4(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,u=s.startX,d=this.state[o],f=this.props,m=f.x,h=f.width,x=f.travellerWidth,v=f.onChange,N=f.gap,b=f.data,S={startX:this.state.startX,endX:this.state.endX},j=n.pageX-i;j>0?j=Math.min(j,m+h-x-d):j<0&&(j=Math.max(j,m-d)),S[o]=d+j;var A=this.getIndex(S),_=A.startIndex,E=A.endIndex,C=function(){var I=b.length-1;return o==="startX"&&(l>u?_%N===0:E%N===0)||l<u&&E===I||o==="endX"&&(l>u?E%N===0:_%N===0)||l>u&&E===I};this.setState(gs(gs({},o,d+j),"brushMoveStartX",n.pageX),function(){v&&C()&&v(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,u=o.startX,d=o.endX,f=this.state[s],m=l.indexOf(f);if(m!==-1){var h=m+n;if(!(h===-1||h>=l.length)){var x=l[h];s==="startX"&&x>=d||s==="endX"&&x<=u||this.setState(gs({},s,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,u=n.fill,d=n.stroke;return z.createElement("rect",{stroke:d,fill:u,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,u=n.data,d=n.children,f=n.padding,m=y.Children.only(d);return m?z.cloneElement(m,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,u=this.props,d=u.y,f=u.travellerWidth,m=u.height,h=u.traveller,x=u.ariaLabel,v=u.data,N=u.startIndex,b=u.endIndex,S=Math.max(n,this.props.x),j=dw(dw({},mt(this.props,!1)),{},{x:S,y:d,width:f,height:m}),A=x||"Min value: ".concat((i=v[N])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[b])===null||o===void 0?void 0:o.name);return z.createElement(Yt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,j))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,u=i.stroke,d=i.travellerWidth,f=Math.min(n,s)+d,m=Math.max(Math.abs(s-n)-d,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,u=n.travellerWidth,d=n.stroke,f=this.state,m=f.startX,h=f.endX,x=5,v={pointerEvents:"none",fill:d};return z.createElement(Yt,{className:"recharts-brush-texts"},z.createElement(cu,Px({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,h)-x,y:o+l/2},v),this.getTextOfTick(s)),z.createElement(cu,Px({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,h)+u+x,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,u=n.y,d=n.width,f=n.height,m=n.alwaysShowText,h=this.state,x=h.startX,v=h.endX,N=h.isTextActive,b=h.isSlideMoving,S=h.isTravellerMoving,j=h.isTravellerFocused;if(!s||!s.length||!qe(l)||!qe(u)||!qe(d)||!qe(f)||d<=0||f<=0)return null;var A=Gt("recharts-brush",i),_=z.Children.count(o)===1,E=Ffe("userSelect","none");return z.createElement(Yt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(x,v),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(v,"endX"),(N||b||S||j||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,u=n.stroke,d=Math.floor(i+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:s,y:i,width:o,height:l,fill:u,stroke:"none"}),z.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return z.isValidElement(n)?i=z.cloneElement(n,s):At(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,u=n.travellerWidth,d=n.updateId,f=n.startIndex,m=n.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return dw({prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Wfe({data:i,width:o,x:l,travellerWidth:u,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([l,l+o-u]);var h=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var u=Math.floor((o+l)/2);n[u]>s?l=u:o=u}return s>=n[l]?l:o}}])})(y.PureComponent);gs(Zd,"displayName","Brush");gs(Zd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fw,d4;function Vfe(){if(d4)return fw;d4=1;var e=RC();function t(r,n){var s;return e(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return fw=t,fw}var pw,f4;function Yfe(){if(f4)return pw;f4=1;var e=iF(),t=vo(),r=Vfe(),n=$a(),s=Vy();function i(o,l,u){var d=n(o)?e:r;return u&&s(o,l,u)&&(l=void 0),d(o,t(l,3))}return pw=i,pw}var Xfe=Yfe();const Qfe=Rr(Xfe);var po=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},mw,p4;function cT(){if(p4)return mw;p4=1;var e=_F();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return mw=t,mw}var hw,m4;function Zfe(){if(m4)return hw;m4=1;var e=cT(),t=wF(),r=vo();function n(s,i){var o={};return i=r(i,3),t(s,function(l,u,d){e(o,u,i(l,u,d))}),o}return hw=n,hw}var Jfe=Zfe();const epe=Rr(Jfe);var gw,h4;function tpe(){if(h4)return gw;h4=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(!r(t[n],n,t))return!1;return!0}return gw=e,gw}var xw,g4;function rpe(){if(g4)return xw;g4=1;var e=RC();function t(r,n){var s=!0;return e(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return xw=t,xw}var yw,x4;function npe(){if(x4)return yw;x4=1;var e=tpe(),t=rpe(),r=vo(),n=$a(),s=Vy();function i(o,l,u){var d=n(o)?e:t;return u&&s(o,l,u)&&(l=void 0),d(o,r(l,3))}return yw=i,yw}var ape=npe();const gB=Rr(ape);var spe=["x","y"];function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(this,arguments)}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){ipe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ipe(e,t,r){return t=ope(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ope(e){var t=lpe(e,"string");return Ym(t)=="symbol"?t:t+""}function lpe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cpe(e,t){if(e==null)return{};var r=upe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function upe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dpe(e,t){var r=e.x,n=e.y,s=cpe(e,spe),i="".concat(r),o=parseInt(i,10),l="".concat(n),u=parseInt(l,10),d="".concat(t.height||s.height),f=parseInt(d,10),m="".concat(t.width||s.width),h=parseInt(m,10);return Ap(Ap(Ap(Ap(Ap({},t),s),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function b4(e){return z.createElement(kx,__({shapeType:"rectangle",propTransformer:dpe,activeClassName:"recharts-active-bar"},e))}var fpe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=qe(n)||MJ(n);return i?t(n,s):(i||fu(),r)}},ppe=["value","background"],xB;function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function mpe(e,t){if(e==null)return{};var r=hpe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ix.apply(this,arguments)}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){Jl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bB(n.key),n)}}function xpe(e,t,r){return t&&N4(e.prototype,t),r&&N4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ype(e,t,r){return t=Mx(t),bpe(e,yB()?Reflect.construct(t,r||[],Mx(e).constructor):t.apply(e,r))}function bpe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(e)}function vpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yB=function(){return!!e})()}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(e)}function Npe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A_(e,t)}function A_(e,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},A_(e,t)}function Jl(e,t,r){return t=bB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bB(e){var t=Spe(e,"string");return Jd(t)=="symbol"?t:t+""}function Spe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var On=(function(e){function t(){var r;gpe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=ype(this,t,[].concat(s)),Jl(r,"state",{isAnimationFinished:!1}),Jl(r,"id",pl("recharts-bar-")),Jl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Jl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Npe(t,e),xpe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,u=i.activeIndex,d=i.activeBar,f=mt(this.props,!1);return n&&n.map(function(m,h){var x=h===u,v=x?d:o,N=Cn(Cn(Cn({},f),m),{},{isActive:x,option:v,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return z.createElement(Yt,Ix({className:"recharts-bar-rectangle"},oc(s.props,m,h),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(h)}),z.createElement(b4,N))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,m=s.animationId,h=this.state.prevData;return z.createElement(ns,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var v=x.t,N=i.map(function(b,S){var j=h&&h[S];if(j){var A=cn(j.x,b.x),_=cn(j.y,b.y),E=cn(j.width,b.width),C=cn(j.height,b.height);return Cn(Cn({},b),{},{x:A(v),y:_(v),width:E(v),height:C(v)})}if(o==="horizontal"){var R=cn(0,b.height),I=R(v);return Cn(Cn({},b),{},{y:b.y+b.height-I,height:I})}var O=cn(0,b.width),B=O(v);return Cn(Cn({},b),{},{width:B})});return z.createElement(Yt,null,n.renderRectanglesStatically(N))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!lc(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,u=mt(this.props.background,!1);return i.map(function(d,f){d.value;var m=d.background,h=mpe(d,ppe);if(!m)return null;var x=Cn(Cn(Cn(Cn(Cn({},h),{},{fill:"#eee"},m),u),oc(n.props,d,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return z.createElement(b4,Ix({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},x))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,u=i.yAxis,d=i.layout,f=i.children,m=Ma(f,Mf);if(!m)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,x=function(b,S){var j=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:j,errorVal:Fr(b,S)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return z.createElement(Yt,v,m.map(function(N){return z.cloneElement(N,{key:"error-bar-".concat(s,"-").concat(N.props.dataKey),data:o,xAxis:l,yAxis:u,layout:d,offset:h,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,u=n.yAxis,d=n.left,f=n.top,m=n.width,h=n.height,x=n.isAnimationActive,v=n.background,N=n.id;if(s||!i||!i.length)return null;var b=this.state.isAnimationFinished,S=Gt("recharts-bar",o),j=l&&l.allowDataOverflow,A=u&&u.allowDataOverflow,_=j||A,E=It(N)?this.id:N;return z.createElement(Yt,{className:S},j||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:j?d:d-m/2,y:A?f:f-h/2,width:j?m:m*2,height:A?h:h*2}))):null,z.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,E),(!x||b)&&wa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(y.PureComponent);xB=On;Jl(On,"displayName","Bar");Jl(On,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ai.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Jl(On,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,d=e.stackedData,f=e.dataStartIndex,m=e.displayedData,h=e.offset,x=Zoe(n,r);if(!x)return null;var v=t.layout,N=r.type.defaultProps,b=N!==void 0?Cn(Cn({},N),r.props):r.props,S=b.dataKey,j=b.children,A=b.minPointSize,_=v==="horizontal"?o:i,E=d?_.scale.domain():null,C=sle({numericAxis:_}),R=Ma(j,Hs),I=m.map(function(O,B){var q,F,Y,D,G,U;d?q=Joe(d[f+B],E):(q=Fr(O,S),Array.isArray(q)||(q=[C,q]));var V=fpe(A,xB.defaultProps.minPointSize)(q[1],B);if(v==="horizontal"){var M,Q=[o.scale(q[0]),o.scale(q[1])],J=Q[0],P=Q[1];F=YI({axis:i,ticks:l,bandSize:s,offset:x.offset,entry:O,index:B}),Y=(M=P??J)!==null&&M!==void 0?M:void 0,D=x.size;var K=J-P;if(G=Number.isNaN(K)?0:K,U={x:F,y:o.y,width:D,height:o.height},Math.abs(V)>0&&Math.abs(G)<Math.abs(V)){var Z=Pa(G||V)*(Math.abs(V)-Math.abs(G));Y-=Z,G+=Z}}else{var se=[i.scale(q[0]),i.scale(q[1])],ie=se[0],Se=se[1];if(F=ie,Y=YI({axis:o,ticks:u,bandSize:s,offset:x.offset,entry:O,index:B}),D=Se-ie,G=x.size,U={x:i.x,y:Y,width:i.width,height:G},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var oe=Pa(D||V)*(Math.abs(V)-Math.abs(D));D+=oe}}return Cn(Cn(Cn({},O),{},{x:F,y:Y,width:D,height:G,value:d?q:q[1],payload:O,background:U},R&&R[B]&&R[B].props),{},{tooltipPayload:[H9(r,O)],tooltipPosition:{x:F+D/2,y:Y+G/2}})});return Cn({data:I,layout:v},h)});function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function wpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vB(n.key),n)}}function jpe(e,t,r){return t&&S4(e.prototype,t),r&&S4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){fb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fb(e,t,r){return t=vB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=Epe(e,"string");return Xm(t)=="symbol"?t:t+""}function Epe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pb=function(t,r,n,s,i){var o=t.width,l=t.height,u=t.layout,d=t.children,f=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!va(d,On);return f.reduce(function(x,v){var N=r[v],b=N.orientation,S=N.domain,j=N.padding,A=j===void 0?{}:j,_=N.mirror,E=N.reversed,C="".concat(b).concat(_?"Mirror":""),R,I,O,B,q;if(N.type==="number"&&(N.padding==="gap"||N.padding==="no-gap")){var F=S[1]-S[0],Y=1/0,D=N.categoricalDomain.sort(BJ);if(D.forEach(function(se,ie){ie>0&&(Y=Math.min((se||0)-(D[ie-1]||0),Y))}),Number.isFinite(Y)){var G=Y/F,U=N.layout==="vertical"?n.height:n.width;if(N.padding==="gap"&&(R=G*U/2),N.padding==="no-gap"){var V=Da(t.barCategoryGap,G*U),M=G*U/2;R=M-V-(M-V)/U*V}}}s==="xAxis"?I=[n.left+(A.left||0)+(R||0),n.left+n.width-(A.right||0)-(R||0)]:s==="yAxis"?I=u==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(R||0),n.top+n.height-(A.bottom||0)-(R||0)]:I=N.range,E&&(I=[I[1],I[0]]);var Q=F9(N,i,h),J=Q.scale,P=Q.realScaleType;J.domain(S).range(I),B9(J);var K=U9(J,yi(yi({},N),{},{realScaleType:P}));s==="xAxis"?(q=b==="top"&&!_||b==="bottom"&&_,O=n.left,B=m[C]-q*N.height):s==="yAxis"&&(q=b==="left"&&!_||b==="right"&&_,O=m[C]-q*N.width,B=n.top);var Z=yi(yi(yi({},N),K),{},{realScaleType:P,x:O,y:B,scale:J,width:s==="xAxis"?n.width:N.width,height:s==="yAxis"?n.height:N.height});return Z.bandSize=yx(Z,K),!N.hide&&s==="xAxis"?m[C]+=(q?-1:1)*Z.height:N.hide||(m[C]+=(q?-1:1)*Z.width),yi(yi({},x),{},fb({},v,Z))},{})},NB=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},_pe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return NB({x:r,y:n},{x:s,y:i})},SB=(function(){function e(t){wpe(this,e),this.scale=t}return jpe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();fb(SB,"EPS",1e-4);var uT=function(t){var r=Object.keys(t).reduce(function(n,s){return yi(yi({},n),{},fb({},s,SB.create(t[s])))},{});return yi(yi({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return epe(s,function(u,d){return r[d].apply(u,{bandAware:o,position:l})})},isInRange:function(s){return gB(s,function(i,o){return r[o].isInRange(i)})}})};function Ape(e){return(e%180+180)%180}var Cpe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Ape(s),o=i*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},bw,j4;function Tpe(){if(j4)return bw;j4=1;var e=vo(),t=kf(),r=Of();function n(s){return function(i,o,l){var u=Object(i);if(!t(i)){var d=e(o,3);i=r(i),o=function(m){return d(u[m],m,u)}}var f=s(i,o,l);return f>-1?u[d?i[f]:f]:void 0}}return bw=n,bw}var vw,E4;function kpe(){if(E4)return vw;E4=1;var e=fB();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return vw=t,vw}var Nw,_4;function Ope(){if(_4)return Nw;_4=1;var e=bF(),t=vo(),r=kpe(),n=Math.max;function s(i,o,l){var u=i==null?0:i.length;if(!u)return-1;var d=l==null?0:r(l);return d<0&&(d=n(u+d,0)),e(i,t(o,3),d)}return Nw=s,Nw}var Sw,A4;function Rpe(){if(A4)return Sw;A4=1;var e=Tpe(),t=Ope(),r=e(t);return Sw=r,Sw}var Ppe=Rpe();const Dpe=Rr(Ppe);var Ipe=R8();const Mpe=Rr(Ipe);var Lpe=Mpe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),dT=y.createContext(void 0),fT=y.createContext(void 0),wB=y.createContext(void 0),jB=y.createContext({}),EB=y.createContext(void 0),_B=y.createContext(0),AB=y.createContext(0),C4=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,u=t.width,d=t.height,f=Lpe(i);return z.createElement(dT.Provider,{value:n},z.createElement(fT.Provider,{value:s},z.createElement(jB.Provider,{value:i},z.createElement(wB.Provider,{value:f},z.createElement(EB.Provider,{value:o},z.createElement(_B.Provider,{value:d},z.createElement(AB.Provider,{value:u},l)))))))},$pe=function(){return y.useContext(EB)},CB=function(t){var r=y.useContext(dT);r==null&&fu();var n=r[t];return n==null&&fu(),n},Fpe=function(){var t=y.useContext(dT);return Xl(t)},Bpe=function(){var t=y.useContext(fT),r=Dpe(t,function(n){return gB(n.domain,Number.isFinite)});return r||Xl(t)},TB=function(t){var r=y.useContext(fT);r==null&&fu();var n=r[t];return n==null&&fu(),n},Upe=function(){var t=y.useContext(wB);return t},zpe=function(){return y.useContext(jB)},pT=function(){return y.useContext(AB)},mT=function(){return y.useContext(_B)};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Hpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OB(n.key),n)}}function Gpe(e,t,r){return t&&qpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kpe(e,t,r){return t=Lx(t),Wpe(e,kB()?Reflect.construct(t,r||[],Lx(e).constructor):t.apply(e,r))}function Wpe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vpe(e)}function Vpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!e})()}function Lx(e){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lx(e)}function Ype(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},C_(e,t)}function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function k4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(n){hT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hT(e,t,r){return t=OB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=Xpe(e,"string");return ef(t)=="symbol"?t:t+""}function Xpe(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qpe(e,t){return tme(e)||eme(e,t)||Jpe(e,t)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jpe(e,t){if(e){if(typeof e=="string")return O4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O4(e,t)}}function O4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function tme(e){if(Array.isArray(e))return e}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(this,arguments)}var rme=function(t,r){var n;return z.isValidElement(t)?n=z.cloneElement(t,r):At(t)?n=t(r):n=z.createElement("line",T_({},r,{className:"recharts-reference-line-line"})),n},nme=function(t,r,n,s,i,o,l,u,d){var f=i.x,m=i.y,h=i.width,x=i.height;if(n){var v=d.y,N=t.y.apply(v,{position:o});if(po(d,"discard")&&!t.y.isInRange(N))return null;var b=[{x:f+h,y:N},{x:f,y:N}];return u==="left"?b.reverse():b}if(r){var S=d.x,j=t.x.apply(S,{position:o});if(po(d,"discard")&&!t.x.isInRange(j))return null;var A=[{x:j,y:m+x},{x:j,y:m}];return l==="top"?A.reverse():A}if(s){var _=d.segment,E=_.map(function(C){return t.apply(C,{position:o})});return po(d,"discard")&&Qfe(E,function(C){return!t.isInRange(C)})?null:E}return null};function ame(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,u=e.alwaysShow,d=$pe(),f=CB(s),m=TB(i),h=Upe();if(!d||!h)return null;Ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=uT({x:f.scale,y:m.scale}),v=zn(t),N=zn(r),b=n&&n.length===2,S=nme(x,v,N,b,h,e.position,f.orientation,m.orientation,e);if(!S)return null;var j=Qpe(S,2),A=j[0],_=A.x,E=A.y,C=j[1],R=C.x,I=C.y,O=po(e,"hidden")?"url(#".concat(d,")"):void 0,B=k4(k4({clipPath:O},mt(e,!0)),{},{x1:_,y1:E,x2:R,y2:I});return z.createElement(Yt,{className:Gt("recharts-reference-line",l)},rme(o,B),ta.renderCallByParent(e,_pe({x1:_,y1:E,x2:R,y2:I})))}var Vs=(function(e){function t(){return Hpe(this,t),Kpe(this,t,arguments)}return Ype(t,e),Gpe(t,[{key:"render",value:function(){return z.createElement(ame,this.props)}}])})(z.Component);hT(Vs,"displayName","ReferenceLine");hT(Vs,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function R4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function P4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(r),!0).forEach(function(n){mb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ime(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PB(n.key),n)}}function ome(e,t,r){return t&&ime(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lme(e,t,r){return t=$x(t),cme(e,RB()?Reflect.construct(t,r||[],$x(e).constructor):t.apply(e,r))}function cme(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ume(e)}function ume(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!e})()}function $x(e){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$x(e)}function dme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}function O_(e,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},O_(e,t)}function mb(e,t,r){return t=PB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PB(e){var t=fme(e,"string");return tf(t)=="symbol"?t:t+""}function fme(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pme=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=uT({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return po(t,"discard")&&!o.isInRange(l)?null:l},Sh=(function(e){function t(){return sme(this,t),lme(this,t,arguments)}return dme(t,e),ome(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,u=n.clipPathId,d=zn(s),f=zn(i);if(Ei(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var m=pme(this.props);if(!m)return null;var h=m.x,x=m.y,v=this.props,N=v.shape,b=v.className,S=po(this.props,"hidden")?"url(#".concat(u,")"):void 0,j=P4(P4({clipPath:S},mt(this.props,!0)),{},{cx:h,cy:x});return z.createElement(Yt,{className:Gt("recharts-reference-dot",b)},t.renderDot(N,j),ta.renderCallByParent(this.props,{x:h-o,y:x-o,width:2*o,height:2*o}))}}])})(z.Component);mb(Sh,"displayName","ReferenceDot");mb(Sh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mb(Sh,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):At(e)?r=e(t):r=z.createElement(Nh,k_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(this,arguments)}function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function D4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(r),!0).forEach(function(n){hb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IB(n.key),n)}}function gme(e,t,r){return t&&hme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xme(e,t,r){return t=Fx(t),yme(e,DB()?Reflect.construct(t,r||[],Fx(e).constructor):t.apply(e,r))}function yme(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bme(e)}function bme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fx(e)}function vme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},P_(e,t)}function hb(e,t,r){return t=IB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=Nme(e,"string");return rf(t)=="symbol"?t:t+""}function Nme(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sme=function(t,r,n,s,i){var o=i.x1,l=i.x2,u=i.y1,d=i.y2,f=i.xAxis,m=i.yAxis;if(!f||!m)return null;var h=uT({x:f.scale,y:m.scale}),x={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(u,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(d,{position:"end"}):h.y.rangeMax};return po(i,"discard")&&(!h.isInRange(x)||!h.isInRange(v))?null:NB(x,v)},wh=(function(e){function t(){return mme(this,t),xme(this,t,arguments)}return vme(t,e),gme(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,u=n.className,d=n.alwaysShow,f=n.clipPathId;Ei(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=zn(s),h=zn(i),x=zn(o),v=zn(l),N=this.props.shape;if(!m&&!h&&!x&&!v&&!N)return null;var b=Sme(m,h,x,v,this.props);if(!b&&!N)return null;var S=po(this.props,"hidden")?"url(#".concat(f,")"):void 0;return z.createElement(Yt,{className:Gt("recharts-reference-area",u)},t.renderRect(N,I4(I4({clipPath:S},mt(this.props,!0)),b)),ta.renderCallByParent(this.props,b))}}])})(z.Component);hb(wh,"displayName","ReferenceArea");hb(wh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hb(wh,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):At(e)?r=e(t):r=z.createElement(sb,R_({},t,{className:"recharts-reference-area-rect"})),r});function MB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function wme(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Cpe(n,r)}function jme(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Bx(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function Eme(e,t){return MB(e,t+1)}function _me(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,u=0,d=1,f=o,m=function(){var v=n?.[u];if(v===void 0)return{v:MB(n,d)};var N=u,b,S=function(){return b===void 0&&(b=r(v,N)),b},j=v.coordinate,A=u===0||Bx(e,j,S,f,l);A||(u=0,f=o,d+=1),A&&(f=j+e*(S()/2+s),u+=d)},h;d<=i.length;)if(h=m(),h)return h.v;return[]}function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){Ame(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ame(e,t,r){return t=Cme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cme(e){var t=Tme(e,"string");return Qm(t)=="symbol"?t:t+""}function Tme(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kme(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,u=t.end,d=function(h){var x=i[h],v,N=function(){return v===void 0&&(v=r(x,h)),v};if(h===o-1){var b=e*(x.coordinate+e*N()/2-u);i[h]=x=ya(ya({},x),{},{tickCoord:b>0?x.coordinate-b*e:x.coordinate})}else i[h]=x=ya(ya({},x),{},{tickCoord:x.coordinate});var S=Bx(e,x.tickCoord,N,l,u);S&&(u=x.tickCoord-e*(N()/2+s),i[h]=ya(ya({},x),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return i}function Ome(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end;if(i){var f=n[l-1],m=r(f,l-1),h=e*(f.coordinate+e*m/2-d);o[l-1]=f=ya(ya({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var x=Bx(e,f.tickCoord,function(){return m},u,d);x&&(d=f.tickCoord-e*(m/2+s),o[l-1]=ya(ya({},f),{},{isShow:!0}))}for(var v=i?l-1:l,N=function(j){var A=o[j],_,E=function(){return _===void 0&&(_=r(A,j)),_};if(j===0){var C=e*(A.coordinate-e*E()/2-u);o[j]=A=ya(ya({},A),{},{tickCoord:C<0?A.coordinate-C*e:A.coordinate})}else o[j]=A=ya(ya({},A),{},{tickCoord:A.coordinate});var R=Bx(e,A.tickCoord,E,u,d);R&&(u=A.tickCoord+e*(E()/2+s),o[j]=ya(ya({},A),{},{isShow:!0}))},b=0;b<v;b++)N(b);return o}function gT(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,u=e.interval,d=e.tickFormatter,f=e.unit,m=e.angle;if(!s||!s.length||!n)return[];if(qe(u)||Ai.isSsr)return Eme(s,typeof u=="number"&&qe(u)?u:0);var h=[],x=l==="top"||l==="bottom"?"width":"height",v=f&&x==="width"?Sd(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},N=function(A,_){var E=At(d)?d(A.value,_):A.value;return x==="width"?wme(Sd(E,{fontSize:t,letterSpacing:r}),v,m):Sd(E,{fontSize:t,letterSpacing:r})[x]},b=s.length>=2?Pa(s[1].coordinate-s[0].coordinate):1,S=jme(i,b,x);return u==="equidistantPreserveStart"?_me(b,S,N,s,o):(u==="preserveStart"||u==="preserveStartEnd"?h=Ome(b,S,N,s,o,u==="preserveStartEnd"):h=kme(b,S,N,s,o),h.filter(function(j){return j.isShow}))}var Rme=["viewBox"],Pme=["viewBox"],Dme=["ticks"];function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function L4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(r),!0).forEach(function(n){xT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ww(e,t){if(e==null)return{};var r=Ime(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ime(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$B(n.key),n)}}function Lme(e,t,r){return t&&$4(e.prototype,t),r&&$4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $me(e,t,r){return t=Ux(t),Fme(e,LB()?Reflect.construct(t,r||[],Ux(e).constructor):t.apply(e,r))}function Fme(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bme(e)}function Bme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LB=function(){return!!e})()}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ux(e)}function Ume(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D_(e,t)}function D_(e,t){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D_(e,t)}function xT(e,t,r){return t=$B(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $B(e){var t=zme(e,"string");return nf(t)=="symbol"?t:t+""}function zme(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lf=(function(e){function t(r){var n;return Mme(this,t),n=$me(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Ume(t,e),Lme(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=ww(n,Rme),l=this.props,u=l.viewBox,d=ww(l,Pme);return!Nd(i,u)||!Nd(o,d)||!Nd(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,d=s.orientation,f=s.tickSize,m=s.mirror,h=s.tickMargin,x,v,N,b,S,j,A=m?-1:1,_=n.tickSize||f,E=qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":x=v=n.coordinate,b=o+ +!m*u,N=b-A*_,j=N-A*h,S=E;break;case"left":N=b=n.coordinate,v=i+ +!m*l,x=v-A*_,S=x-A*h,j=E;break;case"right":N=b=n.coordinate,v=i+ +m*l,x=v+A*_,S=x+A*h,j=E;break;default:x=v=n.coordinate,b=o+ +m*u,N=b+A*_,j=N+A*h,S=E;break}return{line:{x1:x,y1:N,x2:v,y2:b},tick:{x:S,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,u=n.orientation,d=n.mirror,f=n.axisLine,m=Fn(Fn(Fn({},mt(this.props,!1)),mt(f,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var h=+(u==="top"&&!d||u==="bottom"&&d);m=Fn(Fn({},m),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var x=+(u==="left"&&!d||u==="right"&&d);m=Fn(Fn({},m),{},{x1:s+x*o,y1:i,x2:s+x*o,y2:i+l})}return z.createElement("line",fd({},m,{className:Gt("recharts-cartesian-axis-line",rs(f,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,u=l.tickLine,d=l.stroke,f=l.tick,m=l.tickFormatter,h=l.unit,x=gT(Fn(Fn({},this.props),{},{ticks:n}),s,i),v=this.getTickTextAnchor(),N=this.getTickVerticalAnchor(),b=mt(this.props,!1),S=mt(f,!1),j=Fn(Fn({},b),{},{fill:"none"},mt(u,!1)),A=x.map(function(_,E){var C=o.getTickLineCoord(_),R=C.line,I=C.tick,O=Fn(Fn(Fn(Fn({textAnchor:v,verticalAnchor:N},b),{},{stroke:"none",fill:d},S),I),{},{index:E,payload:_,visibleTicksCount:x.length,tickFormatter:m});return z.createElement(Yt,fd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},oc(o.props,_,E)),u&&z.createElement("line",fd({},j,R,{className:Gt("recharts-cartesian-axis-tick-line",rs(u,"className"))})),f&&t.renderTickItem(f,O,"".concat(At(m)?m(_.value,E):_.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,u=s.ticksGenerator,d=s.className,f=s.hide;if(f)return null;var m=this.props,h=m.ticks,x=ww(m,Dme),v=h;return At(u)&&(v=h&&h.length>0?u(this.props):u(x)),o<=0||l<=0||!v||!v.length?null:z.createElement(Yt,{className:Gt("recharts-cartesian-axis",d),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),ta.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=Gt(s.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?o=z.cloneElement(n,Fn(Fn({},s),{},{className:l})):At(n)?o=n(Fn(Fn({},s),{},{className:l})):o=z.createElement(cu,fd({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(y.Component);xT(Lf,"displayName","CartesianAxis");xT(Lf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Hme=["x1","y1","x2","y2","key"],qme=["offset"];function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){Gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gme(e,t,r){return t=Kme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kme(e){var t=Wme(e,"string");return pu(t)=="symbol"?t:t+""}function Wme(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qc.apply(this,arguments)}function B4(e,t){if(e==null)return{};var r=Vme(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Yme=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,u=t.ry;return z.createElement("rect",{x:s,y:i,ry:u,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function FB(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(At(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,u=B4(t,Hme),d=mt(u,!1);d.offset;var f=B4(d,qme);r=z.createElement("line",Qc({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Xme(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,u){var d=Na(Na({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(u),index:u});return FB(s,d)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Qme(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,u){var d=Na(Na({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(u),index:u});return FB(s,d)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Zme(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,u=e.horizontal,d=u===void 0?!0:u;if(!d||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,x){return h-x});s!==f[0]&&f.unshift(0);var m=f.map(function(h,x){var v=!f[x+1],N=v?s+o-h:f[x+1]-h;if(N<=0)return null;var b=x%t.length;return z.createElement("rect",{key:"react-".concat(x),y:h,x:n,height:N,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Jme(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,u=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var f=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,x){return h-x});i!==f[0]&&f.unshift(0);var m=f.map(function(h,x){var v=!f[x+1],N=v?i+l-h:f[x+1]-h;if(N<=0)return null;var b=x%n.length;return z.createElement("rect",{key:"react-".concat(x),x:h,y:o,width:N,height:u,stroke:"none",fill:n[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var ehe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return $9(gT(Na(Na(Na({},Lf.defaultProps),n),{},{ticks:Xo(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},the=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return $9(gT(Na(Na(Na({},Lf.defaultProps),n),{},{ticks:Xo(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},ed={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kn(e){var t,r,n,s,i,o,l=pT(),u=mT(),d=zpe(),f=Na(Na({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ed.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ed.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ed.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ed.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ed.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ed.verticalFill,x:qe(e.x)?e.x:d.left,y:qe(e.y)?e.y:d.top,width:qe(e.width)?e.width:d.width,height:qe(e.height)?e.height:d.height}),m=f.x,h=f.y,x=f.width,v=f.height,N=f.syncWithTicks,b=f.horizontalValues,S=f.verticalValues,j=Fpe(),A=Bpe();if(!qe(x)||x<=0||!qe(v)||v<=0||!qe(m)||m!==+m||!qe(h)||h!==+h)return null;var _=f.verticalCoordinatesGenerator||ehe,E=f.horizontalCoordinatesGenerator||the,C=f.horizontalPoints,R=f.verticalPoints;if((!C||!C.length)&&At(E)){var I=b&&b.length,O=E({yAxis:A?Na(Na({},A),{},{ticks:I?b:A.ticks}):void 0,width:l,height:u,offset:d},I?!0:N);Ei(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pu(O),"]")),Array.isArray(O)&&(C=O)}if((!R||!R.length)&&At(_)){var B=S&&S.length,q=_({xAxis:j?Na(Na({},j),{},{ticks:B?S:j.ticks}):void 0,width:l,height:u,offset:d},B?!0:N);Ei(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pu(q),"]")),Array.isArray(q)&&(R=q)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(Yme,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),z.createElement(Xme,Qc({},f,{offset:d,horizontalPoints:C,xAxis:j,yAxis:A})),z.createElement(Qme,Qc({},f,{offset:d,verticalPoints:R,xAxis:j,yAxis:A})),z.createElement(Zme,Qc({},f,{horizontalPoints:C})),z.createElement(Jme,Qc({},f,{verticalPoints:R})))}kn.displayName="CartesianGrid";var rhe=["type","layout","connectNulls","ref"],nhe=["key"];function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function U4(e,t){if(e==null)return{};var r=ahe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ahe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(this,arguments)}function z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(r),!0).forEach(function(n){bi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function td(e){return lhe(e)||ohe(e)||ihe(e)||she()}function she(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ihe(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function ohe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lhe(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function che(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UB(n.key),n)}}function uhe(e,t,r){return t&&H4(e.prototype,t),r&&H4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dhe(e,t,r){return t=zx(t),fhe(e,BB()?Reflect.construct(t,r||[],zx(e).constructor):t.apply(e,r))}function fhe(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(e)}function phe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BB=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(e)}function mhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},M_(e,t)}function bi(e,t,r){return t=UB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=hhe(e,"string");return af(t)=="symbol"?t:t+""}function hhe(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bn=(function(e){function t(){var r;che(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=dhe(this,t,[].concat(s)),bi(r,"state",{isAnimationFinished:!0,totalLength:0}),bi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),bi(r,"getStrokeDasharray",function(o,l,u){var d=u.reduce(function(S,j){return S+j});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/d),m=o%d,h=l-o,x=[],v=0,N=0;v<u.length;N+=u[v],++v)if(N+u[v]>m){x=[].concat(td(u.slice(0,v)),[m-N]);break}var b=x.length%2===0?[0,h]:[h];return[].concat(td(t.repeat(u,f)),td(x),b).map(function(S){return"".concat(S,"px")}).join(", ")}),bi(r,"id",pl("recharts-line-")),bi(r,"pathRef",function(o){r.mainCurve=o}),bi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),bi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return mhe(t,e),uhe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,u=i.yAxis,d=i.layout,f=i.children,m=Ma(f,Mf);if(!m)return null;var h=function(N,b){return{x:N.x,y:N.y,value:N.value,errorVal:Fr(N.payload,b)}},x={clipPath:n?"url(#clipPath-".concat(s,")"):null};return z.createElement(Yt,x,m.map(function(v){return z.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:u,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,m=mt(this.props,!1),h=mt(u,!0),x=d.map(function(N,b){var S=ms(ms(ms({key:"dot-".concat(b),r:3},m),h),{},{index:b,cx:N.x,cy:N.y,value:N.value,dataKey:f,payload:N.payload,points:d});return t.renderDotItem(u,S)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return z.createElement(Yt,um({className:"recharts-line-dots",key:"dots"},v),x)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,u=l.type,d=l.layout,f=l.connectNulls;l.ref;var m=U4(l,rhe),h=ms(ms(ms({},mt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:u,layout:d,connectNulls:f});return z.createElement(sc,um({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,u=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,h=o.animationEasing,x=o.animationId,v=o.animateNewValues,N=o.width,b=o.height,S=this.state,j=S.prevPoints,A=S.totalLength;return z.createElement(ns,{begin:f,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var E=_.t;if(j){var C=j.length/l.length,R=l.map(function(F,Y){var D=Math.floor(Y*C);if(j[D]){var G=j[D],U=cn(G.x,F.x),V=cn(G.y,F.y);return ms(ms({},F),{},{x:U(E),y:V(E)})}if(v){var M=cn(N*2,F.x),Q=cn(b/2,F.y);return ms(ms({},F),{},{x:M(E),y:Q(E)})}return ms(ms({},F),{},{x:F.x,y:F.y})});return i.renderCurveStatically(R,n,s)}var I=cn(0,A),O=I(E),B;if(u){var q="".concat(u).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});B=i.getStrokeDasharray(O,A,q)}else B=i.generateSimpleStrokeDasharray(A,O);return i.renderCurveStatically(l,n,s,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.totalLength;return l&&o&&o.length&&(!d&&f>0||!lc(d,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,u=s.className,d=s.xAxis,f=s.yAxis,m=s.top,h=s.left,x=s.width,v=s.height,N=s.isAnimationActive,b=s.id;if(i||!l||!l.length)return null;var S=this.state.isAnimationFinished,j=l.length===1,A=Gt("recharts-line",u),_=d&&d.allowDataOverflow,E=f&&f.allowDataOverflow,C=_||E,R=It(b)?this.id:b,I=(n=mt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=I.r,B=O===void 0?3:O,q=I.strokeWidth,F=q===void 0?2:q,Y=L8(o)?o:{},D=Y.clipDot,G=D===void 0?!0:D,U=B*2+F;return z.createElement(Yt,{className:A},_||E?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(R)},z.createElement("rect",{x:_?h:h-x/2,y:E?m:m-v/2,width:_?x:x*2,height:E?v:v*2})),!G&&z.createElement("clipPath",{id:"clipPath-dots-".concat(R)},z.createElement("rect",{x:h-U/2,y:m-U/2,width:x+U,height:v+U}))):null,!j&&this.renderCurve(C,R),this.renderErrorBar(C,R),(j||o)&&this.renderDots(C,G,R),(!N||S)&&wa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(td(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(td(o),td(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(z.isValidElement(n))i=z.cloneElement(n,s);else if(At(n))i=n(s);else{var o=s.key,l=U4(s,nhe),u=Gt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=z.createElement(Nh,um({key:o},l,{className:u}))}return i}}])})(y.PureComponent);bi(bn,"displayName","Line");bi(bn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ai.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bi(bn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,u=e.displayedData,d=e.offset,f=t.layout,m=u.map(function(h,x){var v=Fr(h,o);return f==="horizontal"?{x:Kd({axis:r,ticks:s,bandSize:l,entry:h,index:x}),y:It(v)?null:n.scale(v),value:v,payload:h}:{x:It(v)?null:r.scale(v),y:Kd({axis:n,ticks:i,bandSize:l,entry:h,index:x}),value:v,payload:h}});return ms({points:m,layout:f},d)});var ghe=["layout","type","stroke","connectNulls","isRange","ref"],xhe=["key"],zB;function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function HB(e,t){if(e==null)return{};var r=yhe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GB(n.key),n)}}function vhe(e,t,r){return t&&G4(e.prototype,t),r&&G4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nhe(e,t,r){return t=Hx(t),She(e,qB()?Reflect.construct(t,r||[],Hx(e).constructor):t.apply(e,r))}function She(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return whe(e)}function whe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qB=function(){return!!e})()}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(e)}function jhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},L_(e,t)}function ao(e,t,r){return t=GB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GB(e){var t=Ehe(e,"string");return sf(t)=="symbol"?t:t+""}function Ehe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ci=(function(e){function t(){var r;bhe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Nhe(this,t,[].concat(s)),ao(r,"state",{isAnimationFinished:!0}),ao(r,"id",pl("recharts-area-")),ao(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),At(o)&&o()}),ao(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),At(o)&&o()}),r}return jhe(t,e),vhe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var u=this.props,d=u.dot,f=u.points,m=u.dataKey,h=mt(this.props,!1),x=mt(d,!0),v=f.map(function(b,S){var j=Hl(Hl(Hl({key:"dot-".concat(S),r:3},h),x),{},{index:S,cx:b.x,cy:b.y,dataKey:m,value:b.value,payload:b.payload,points:f});return t.renderDotItem(d,j)}),N={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return z.createElement(Yt,Zc({className:"recharts-area-dots"},N),v)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,u=o[0].x,d=o[o.length-1].x,f=n*Math.abs(u-d),m=Zl(o.map(function(h){return h.y||0}));return qe(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Zl(i.map(function(h){return h.y||0})),m)),qe(m)?z.createElement("rect",{x:u<d?u:u-f,y:0,width:f,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,u=o[0].y,d=o[o.length-1].y,f=n*Math.abs(u-d),m=Zl(o.map(function(h){return h.x||0}));return qe(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Zl(i.map(function(h){return h.x||0})),m)),qe(m)?z.createElement("rect",{x:0,y:u<d?u:u-f,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,u=l.layout,d=l.type,f=l.stroke,m=l.connectNulls,h=l.isRange;l.ref;var x=HB(l,ghe);return z.createElement(Yt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},z.createElement(sc,Zc({},mt(x,!0),{points:n,connectNulls:m,type:d,baseLine:s,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&z.createElement(sc,Zc({},mt(this.props,!1),{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:n})),f!=="none"&&h&&z.createElement(sc,Zc({},mt(this.props,!1),{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,u=o.baseLine,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,h=o.animationEasing,x=o.animationId,v=this.state,N=v.prevPoints,b=v.prevBaseLine;return z.createElement(ns,{begin:f,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(N){var A=N.length/l.length,_=l.map(function(I,O){var B=Math.floor(O*A);if(N[B]){var q=N[B],F=cn(q.x,I.x),Y=cn(q.y,I.y);return Hl(Hl({},I),{},{x:F(j),y:Y(j)})}return I}),E;if(qe(u)&&typeof u=="number"){var C=cn(b,u);E=C(j)}else if(It(u)||mc(u)){var R=cn(b,0);E=R(j)}else E=u.map(function(I,O){var B=Math.floor(O*A);if(b[B]){var q=b[B],F=cn(q.x,I.x),Y=cn(q.y,I.y);return Hl(Hl({},I),{},{x:F(j),y:Y(j)})}return I});return i.renderAreaStatically(_,E,n,s)}return z.createElement(Yt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(j))),z.createElement(Yt,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,u,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,u=i.isAnimationActive,d=this.state,f=d.prevPoints,m=d.prevBaseLine,h=d.totalLength;return u&&o&&o.length&&(!f&&h>0||!lc(f,o)||!lc(m,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,u=s.className,d=s.top,f=s.left,m=s.xAxis,h=s.yAxis,x=s.width,v=s.height,N=s.isAnimationActive,b=s.id;if(i||!l||!l.length)return null;var S=this.state.isAnimationFinished,j=l.length===1,A=Gt("recharts-area",u),_=m&&m.allowDataOverflow,E=h&&h.allowDataOverflow,C=_||E,R=It(b)?this.id:b,I=(n=mt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=I.r,B=O===void 0?3:O,q=I.strokeWidth,F=q===void 0?2:q,Y=L8(o)?o:{},D=Y.clipDot,G=D===void 0?!0:D,U=B*2+F;return z.createElement(Yt,{className:A},_||E?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(R)},z.createElement("rect",{x:_?f:f-x/2,y:E?d:d-v/2,width:_?x:x*2,height:E?v:v*2})),!G&&z.createElement("clipPath",{id:"clipPath-dots-".concat(R)},z.createElement("rect",{x:f-U/2,y:d-U/2,width:x+U,height:v+U}))):null,j?null:this.renderArea(C,R),(o||j)&&this.renderDots(C,G,R),(!N||S)&&wa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(y.PureComponent);zB=Ci;ao(Ci,"displayName","Area");ao(Ci,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ai.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ao(Ci,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(qe(l)&&typeof l=="number")return l;var u=s==="horizontal"?n:r,d=u.scale.domain();if(u.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});ao(Ci,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,u=e.dataKey,d=e.stackedData,f=e.dataStartIndex,m=e.displayedData,h=e.offset,x=t.layout,v=d&&d.length,N=zB.getBaseValue(t,r,n,s),b=x==="horizontal",S=!1,j=m.map(function(_,E){var C;v?C=d[f+E]:(C=Fr(_,u),Array.isArray(C)?S=!0:C=[N,C]);var R=C[1]==null||v&&Fr(_,u)==null;return b?{x:Kd({axis:n,ticks:i,bandSize:l,entry:_,index:E}),y:R?null:s.scale(C[1]),value:C,payload:_}:{x:R?null:n.scale(C[1]),y:Kd({axis:s,ticks:o,bandSize:l,entry:_,index:E}),value:C,payload:_}}),A;return v||S?A=j.map(function(_){var E=Array.isArray(_.value)?_.value[0]:null;return b?{x:_.x,y:E!=null&&_.y!=null?s.scale(E):null}:{x:E!=null?n.scale(E):null,y:_.y}}):A=b?s.scale(N):n.scale(N),Hl({points:j,baseLine:A,layout:x,isRange:S},h)});ao(Ci,"renderDotItem",function(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(At(e))r=e(t);else{var n=Gt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=HB(t,xhe);r=z.createElement(Nh,Zc({},i,{key:s,className:n}))}return r});function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function _he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ahe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VB(n.key),n)}}function Che(e,t,r){return t&&Ahe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function The(e,t,r){return t=qx(t),khe(e,KB()?Reflect.construct(t,r||[],qx(e).constructor):t.apply(e,r))}function khe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ohe(e)}function Ohe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KB=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(e)}function Rhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$_(e,t)}function $_(e,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$_(e,t)}function WB(e,t,r){return t=VB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VB(e){var t=Phe(e,"string");return of(t)=="symbol"?t:t+""}function Phe(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $f=(function(e){function t(){return _he(this,t),The(this,t,arguments)}return Rhe(t,e),Che(t,[{key:"render",value:function(){return null}}])})(y.Component);WB($f,"displayName","ZAxis");WB($f,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Dhe=["option","isActive"];function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function Ihe(e,t){if(e==null)return{};var r=Mhe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lhe(e){var t=e.option,r=e.isActive,n=Ihe(e,Dhe);return typeof t=="string"?y.createElement(kx,dm({option:y.createElement(qy,dm({type:t},n)),isActive:r,shapeType:"symbols"},n)):y.createElement(kx,dm({option:t,isActive:r,shapeType:"symbols"},n))}function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(this,arguments)}function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){ec(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XB(n.key),n)}}function Fhe(e,t,r){return t&&W4(e.prototype,t),r&&W4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bhe(e,t,r){return t=Gx(t),Uhe(e,YB()?Reflect.construct(t,r||[],Gx(e).constructor):t.apply(e,r))}function Uhe(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zhe(e)}function zhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YB=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(e)}function Hhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F_(e,t)}function F_(e,t){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},F_(e,t)}function ec(e,t,r){return t=XB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XB(e){var t=qhe(e,"string");return lf(t)=="symbol"?t:t+""}function qhe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ff=(function(e){function t(){var r;$he(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Bhe(this,t,[].concat(s)),ec(r,"state",{isAnimationFinished:!1}),ec(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),ec(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),ec(r,"id",pl("recharts-scatter-")),r}return Hhe(t,e),Fhe(t,[{key:"renderSymbolsStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.activeShape,u=i.activeIndex,d=mt(this.props,!1);return n.map(function(f,m){var h=u===m,x=h?l:o,v=Ls(Ls({},d),f);return z.createElement(Yt,fm({className:"recharts-scatter-symbol",key:"symbol-".concat(f?.cx,"-").concat(f?.cy,"-").concat(f?.size,"-").concat(m)},oc(s.props,f,m),{role:"img"}),z.createElement(Lhe,fm({option:x,isActive:h,key:"symbol-".concat(m)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,s=this.props,i=s.points,o=s.isAnimationActive,l=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,m=this.state.prevPoints;return z.createElement(ns,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var x=h.t,v=i.map(function(N,b){var S=m&&m[b];if(S){var j=cn(S.cx,N.cx),A=cn(S.cy,N.cy),_=cn(S.size,N.size);return Ls(Ls({},N),{},{cx:j(x),cy:A(x),size:_(x)})}var E=cn(0,N.size);return Ls(Ls({},N),{},{size:E(x)})});return z.createElement(Yt,null,n.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var n=this.props,s=n.points,i=n.isAnimationActive,o=this.state.prevPoints;return i&&s&&s.length&&(!o||!lc(o,s))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(s)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,o=s.xAxis,l=s.yAxis,u=s.children,d=Ma(u,Mf);return d?d.map(function(f,m){var h=f.props,x=h.direction,v=h.dataKey;return z.cloneElement(f,{key:"".concat(x,"-").concat(v,"-").concat(i[m]),data:i,xAxis:o,yAxis:l,layout:x==="x"?"vertical":"horizontal",dataPointFormatter:function(b,S){return{x:b.cx,y:b.cy,value:x==="x"?+b.node.x:+b.node.y,errorVal:Fr(b,S)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,s=n.points,i=n.line,o=n.lineType,l=n.lineJointType,u=mt(this.props,!1),d=mt(i,!1),f,m;if(o==="joint")f=s.map(function(A){return{x:A.cx,y:A.cy}});else if(o==="fitting"){var h=FJ(s),x=h.xmin,v=h.xmax,N=h.a,b=h.b,S=function(_){return N*_+b};f=[{x,y:S(x)},{x:v,y:S(v)}]}var j=Ls(Ls(Ls({},u),{},{fill:"none",stroke:u&&u.fill},d),{},{points:f});return z.isValidElement(i)?m=z.cloneElement(i,j):At(i)?m=i(j):m=z.createElement(sc,fm({},j,{type:l})),z.createElement(Yt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.points,o=n.line,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,m=n.top,h=n.width,x=n.height,v=n.id,N=n.isAnimationActive;if(s||!i||!i.length)return null;var b=this.state.isAnimationFinished,S=Gt("recharts-scatter",l),j=u&&u.allowDataOverflow,A=d&&d.allowDataOverflow,_=j||A,E=It(v)?this.id:v;return z.createElement(Yt,{className:S,clipPath:_?"url(#clipPath-".concat(E,")"):null},j||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:j?f:f-h/2,y:A?m:m-x/2,width:j?h:h*2,height:A?x:x*2}))):null,o&&this.renderLine(),this.renderErrorBar(),z.createElement(Yt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!N||b)&&wa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}}])})(y.PureComponent);ec(Ff,"displayName","Scatter");ec(Ff,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ai.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});ec(Ff,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,s=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,u=e.offset,d=s.props.tooltipType,f=Ma(s.props.children,Hs),m=It(t.dataKey)?s.props.dataKey:t.dataKey,h=It(r.dataKey)?s.props.dataKey:r.dataKey,x=n&&n.dataKey,v=n?n.range:$f.defaultProps.range,N=v&&v[0],b=t.scale.bandwidth?t.scale.bandwidth():0,S=r.scale.bandwidth?r.scale.bandwidth():0,j=i.map(function(A,_){var E=Fr(A,m),C=Fr(A,h),R=!It(x)&&Fr(A,x)||"-",I=[{name:It(t.dataKey)?s.props.name:t.name||t.dataKey,unit:t.unit||"",value:E,payload:A,dataKey:m,type:d},{name:It(r.dataKey)?s.props.name:r.name||r.dataKey,unit:r.unit||"",value:C,payload:A,dataKey:h,type:d}];R!=="-"&&I.push({name:n.name||n.dataKey,unit:n.unit||"",value:R,payload:A,dataKey:x,type:d});var O=Kd({axis:t,ticks:o,bandSize:b,entry:A,index:_,dataKey:m}),B=Kd({axis:r,ticks:l,bandSize:S,entry:A,index:_,dataKey:h}),q=R!=="-"?n.scale(R):N,F=Math.sqrt(Math.max(q,0)/Math.PI);return Ls(Ls({},A),{},{cx:O,cy:B,x:O-F,y:B-F,xAxis:t,yAxis:r,zAxis:n,width:2*F,height:2*F,size:q,node:{x:E,y:C,z:R},tooltipPayload:I,tooltipPosition:{x:O,y:B},payload:A},f&&f[_]&&f[_].props)});return Ls({points:j},u)});function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function Ghe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Khe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JB(n.key),n)}}function Whe(e,t,r){return t&&Khe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vhe(e,t,r){return t=Kx(t),Yhe(e,QB()?Reflect.construct(t,r||[],Kx(e).constructor):t.apply(e,r))}function Yhe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xhe(e)}function Xhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(e)}function Qhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B_(e,t)}function B_(e,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},B_(e,t)}function ZB(e,t,r){return t=JB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JB(e){var t=Zhe(e,"string");return cf(t)=="symbol"?t:t+""}function Zhe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U_.apply(this,arguments)}function Jhe(e){var t=e.xAxisId,r=pT(),n=mT(),s=CB(t);return s==null?null:y.createElement(Lf,U_({},s,{className:Gt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Xo(o,!0)}}))}var en=(function(e){function t(){return Ghe(this,t),Vhe(this,t,arguments)}return Qhe(t,e),Whe(t,[{key:"render",value:function(){return y.createElement(Jhe,this.props)}}])})(y.Component);ZB(en,"displayName","XAxis");ZB(en,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function e0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rU(n.key),n)}}function r0e(e,t,r){return t&&t0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n0e(e,t,r){return t=Wx(t),a0e(e,eU()?Reflect.construct(t,r||[],Wx(e).constructor):t.apply(e,r))}function a0e(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s0e(e)}function s0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!e})()}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(e)}function i0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z_(e,t)}function z_(e,t){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},z_(e,t)}function tU(e,t,r){return t=rU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rU(e){var t=o0e(e,"string");return uf(t)=="symbol"?t:t+""}function o0e(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H_.apply(this,arguments)}var l0e=function(t){var r=t.yAxisId,n=pT(),s=mT(),i=TB(r);return i==null?null:y.createElement(Lf,H_({},i,{className:Gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Xo(l,!0)}}))},$r=(function(e){function t(){return e0e(this,t),n0e(this,t,arguments)}return i0e(t,e),r0e(t,[{key:"render",value:function(){return y.createElement(l0e,this.props)}}])})(y.Component);tU($r,"displayName","YAxis");tU($r,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function V4(e){return f0e(e)||d0e(e)||u0e(e)||c0e()}function c0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u0e(e,t){if(e){if(typeof e=="string")return q_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q_(e,t)}}function d0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f0e(e){if(Array.isArray(e))return q_(e)}function q_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G_=function(t,r,n,s,i){var o=Ma(t,Vs),l=Ma(t,Sh),u=[].concat(V4(o),V4(l)),d=Ma(t,wh),f="".concat(s,"Id"),m=s[0],h=r;if(u.length&&(h=u.reduce(function(N,b){if(b.props[f]===n&&po(b.props,"extendDomain")&&qe(b.props[m])){var S=b.props[m];return[Math.min(N[0],S),Math.max(N[1],S)]}return N},h)),d.length){var x="".concat(m,"1"),v="".concat(m,"2");h=d.reduce(function(N,b){if(b.props[f]===n&&po(b.props,"extendDomain")&&qe(b.props[x])&&qe(b.props[v])){var S=b.props[x],j=b.props[v];return[Math.min(N[0],S,j),Math.max(N[1],S,j)]}return N},h)}return i&&i.length&&(h=i.reduce(function(N,b){return qe(b)?[Math.min(N[0],b),Math.max(N[1],b)]:N},h)),h},jw={exports:{}},Y4;function p0e(){return Y4||(Y4=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function i(u,d,f,m,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new s(f,m||u,h),v=r?r+d:d;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],x]:u._events[v].push(x):(u._events[v]=x,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)t.call(f,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,x=m.length,v=new Array(x);h<x;h++)v[h]=m[h].fn;return v},l.prototype.listenerCount=function(d){var f=r?r+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,h,x,v){var N=r?r+d:d;if(!this._events[N])return!1;var b=this._events[N],S=arguments.length,j,A;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,m),!0;case 4:return b.fn.call(b.context,f,m,h),!0;case 5:return b.fn.call(b.context,f,m,h,x),!0;case 6:return b.fn.call(b.context,f,m,h,x,v),!0}for(A=1,j=new Array(S-1);A<S;A++)j[A-1]=arguments[A];b.fn.apply(b.context,j)}else{var _=b.length,E;for(A=0;A<_;A++)switch(b[A].once&&this.removeListener(d,b[A].fn,void 0,!0),S){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,f);break;case 3:b[A].fn.call(b[A].context,f,m);break;case 4:b[A].fn.call(b[A].context,f,m,h);break;default:if(!j)for(E=1,j=new Array(S-1);E<S;E++)j[E-1]=arguments[E];b[A].fn.apply(b[A].context,j)}}return!0},l.prototype.on=function(d,f,m){return i(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return i(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,h){var x=r?r+d:d;if(!this._events[x])return this;if(!f)return o(this,x),this;var v=this._events[x];if(v.fn)v.fn===f&&(!h||v.once)&&(!m||v.context===m)&&o(this,x);else{for(var N=0,b=[],S=v.length;N<S;N++)(v[N].fn!==f||h&&!v[N].once||m&&v[N].context!==m)&&b.push(v[N]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(jw)),jw.exports}var m0e=p0e();const h0e=Rr(m0e);var Ew=new h0e,_w="recharts.syncMouseEvents";function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function g0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nU(n.key),n)}}function y0e(e,t,r){return t&&x0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aw(e,t,r){return t=nU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nU(e){var t=b0e(e,"string");return Zm(t)=="symbol"?t:t+""}function b0e(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v0e=(function(){function e(){g0e(this,e),Aw(this,"activeIndex",0),Aw(this,"coordinateList",[]),Aw(this,"layout","horizontal")}return y0e(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,u=r.layout,d=u===void 0?null:u,f=r.offset,m=f===void 0?null:f,h=r.mouseHandlerCallback,x=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,u=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+u+d,h=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:h})}}}])})();function N0e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],s=e?.[1];if(n&&s&&qe(n)&&qe(s))return!0}return!1}function S0e(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function aU(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Vr(t,r,n,s),l=Vr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function w0e(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,u=t.cy,d=t.innerRadius,f=t.outerRadius,m=t.angle,h=Vr(l,u,d,m),x=Vr(l,u,f,m);n=h.x,s=h.y,i=x.x,o=x.y}else return aU(t);return[{x:n,y:s},{x:i,y:o}]}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){j0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0e(e,t,r){return t=E0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E0e(e){var t=_0e(e,"string");return Jm(t)=="symbol"?t:t+""}function _0e(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0e(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,m=e.layout,h=e.chartName,x=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var v,N=sc;if(h==="ScatterChart")v=o,N=wde;else if(h==="BarChart")v=S0e(m,o,u,f),N=sb;else if(m==="radial"){var b=aU(o),S=b.cx,j=b.cy,A=b.radius,_=b.startAngle,E=b.endAngle;v={cx:S,cy:j,startAngle:_,endAngle:E,innerRadius:A,outerRadius:A},N=X9}else v={points:w0e(m,o,u)},N=sc;var C=Q0(Q0(Q0(Q0({stroke:"#ccc",pointerEvents:"none"},u),v),mt(x,!1)),{},{payload:l,payloadIndex:d,className:Gt("recharts-tooltip-cursor",x.className)});return y.isValidElement(x)?y.cloneElement(x,C):y.createElement(N,C)}var C0e=["item"],T0e=["children","className","width","height","style","compact","title","desc"];function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function Q4(e,t){return R0e(e)||O0e(e,t)||iU(e,t)||k0e()}function k0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function R0e(e){if(Array.isArray(e))return e}function Z4(e,t){if(e==null)return{};var r=P0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oU(n.key),n)}}function M0e(e,t,r){return t&&I0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L0e(e,t,r){return t=Vx(t),$0e(e,sU()?Reflect.construct(t,r||[],Vx(e).constructor):t.apply(e,r))}function $0e(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F0e(e)}function F0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!e})()}function Vx(e){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vx(e)}function B0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K_(e,t)}function K_(e,t){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},K_(e,t)}function ff(e){return H0e(e)||z0e(e)||iU(e)||U0e()}function U0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iU(e,t){if(e){if(typeof e=="string")return W_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W_(e,t)}}function z0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H0e(e){if(Array.isArray(e))return W_(e)}function W_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){Bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bt(e,t,r){return t=oU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oU(e){var t=q0e(e,"string");return df(t)=="symbol"?t:t+""}function q0e(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G0e={xAxis:["bottom","top"],yAxis:["left","right"]},K0e={width:"100%",height:"100%"},lU={x:0,y:0};function Z0(e){return e}var W0e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},V0e=function(t,r,n,s){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ke(ke(ke({},s),Vr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,d=s.angle;return ke(ke(ke({},s),Vr(s.cx,s.cy,u,d)),{},{angle:d,radius:u})}return lU},gb=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,u){var d=u.props.data;return d&&d.length?[].concat(ff(l),ff(d)):l},[]);return o.length>0?o:t&&t.length&&qe(s)&&qe(i)?t.slice(s,i+1):[]};function cU(e){return e==="number"?[0,"auto"]:void 0}var V_=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=gb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(u,d){var f,m=(f=d.props.data)!==null&&f!==void 0?f:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var x=m===void 0?l:m;h=qg(x,o.dataKey,s)}else h=m&&m[n]||l[n];return h?[].concat(ff(u),[H9(d,h)]):u},[])},eL=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=W0e(i,n),l=t.orderedTooltipTicks,u=t.tooltipAxis,d=t.tooltipTicks,f=Koe(o,l,d,u);if(f>=0&&d){var m=d[f]&&d[f].value,h=V_(t,r,f,m),x=V0e(n,l,f,i);return{activeTooltipIndex:f,activeLabel:m,activePayload:h,activeCoordinate:x}}return null},Y0e=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,f=t.layout,m=t.children,h=t.stackOffset,x=L9(f,i);return n.reduce(function(v,N){var b,S=N.type.defaultProps!==void 0?ke(ke({},N.type.defaultProps),N.props):N.props,j=S.type,A=S.dataKey,_=S.allowDataOverflow,E=S.allowDuplicatedCategory,C=S.scale,R=S.ticks,I=S.includeHidden,O=S[o];if(v[O])return v;var B=gb(t.data,{graphicalItems:s.filter(function(K){var Z,se=o in K.props?K.props[o]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[o];return se===O}),dataStartIndex:u,dataEndIndex:d}),q=B.length,F,Y,D;N0e(S.domain,_,j)&&(F=s_(S.domain,null,_),x&&(j==="number"||C!=="auto")&&(D=im(B,A,"category")));var G=cU(j);if(!F||F.length===0){var U,V=(U=S.domain)!==null&&U!==void 0?U:G;if(A){if(F=im(B,A,j),j==="category"&&x){var M=$J(F);E&&M?(Y=F,F=Rx(0,q)):E||(F=ZI(V,F,N).reduce(function(K,Z){return K.indexOf(Z)>=0?K:[].concat(ff(K),[Z])},[]))}else if(j==="category")E?F=F.filter(function(K){return K!==""&&!It(K)}):F=ZI(V,F,N).reduce(function(K,Z){return K.indexOf(Z)>=0||Z===""||It(Z)?K:[].concat(ff(K),[Z])},[]);else if(j==="number"){var Q=Qoe(B,s.filter(function(K){var Z,se,ie=o in K.props?K.props[o]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[o],Se="hide"in K.props?K.props.hide:(se=K.type.defaultProps)===null||se===void 0?void 0:se.hide;return ie===O&&(I||!Se)}),A,i,f);Q&&(F=Q)}x&&(j==="number"||C!=="auto")&&(D=im(B,A,"category"))}else x?F=Rx(0,q):l&&l[O]&&l[O].hasStack&&j==="number"?F=h==="expand"?[0,1]:z9(l[O].stackGroups,u,d):F=M9(B,s.filter(function(K){var Z=o in K.props?K.props[o]:K.type.defaultProps[o],se="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Z===O&&(I||!se)}),j,f,!0);if(j==="number")F=G_(m,F,O,i,R),V&&(F=s_(V,F,_));else if(j==="category"&&V){var J=V,P=F.every(function(K){return J.indexOf(K)>=0});P&&(F=J)}}return ke(ke({},v),{},Bt({},O,ke(ke({},S),{},{axisType:i,domain:F,categoricalDomain:D,duplicateDomain:Y,originalDomain:(b=S.domain)!==null&&b!==void 0?b:G,isCategorical:x,layout:f})))},{})},X0e=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,f=t.layout,m=t.children,h=gb(t.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:d}),x=h.length,v=L9(f,i),N=-1;return n.reduce(function(b,S){var j=S.type.defaultProps!==void 0?ke(ke({},S.type.defaultProps),S.props):S.props,A=j[o],_=cU("number");if(!b[A]){N++;var E;return v?E=Rx(0,x):l&&l[A]&&l[A].hasStack?(E=z9(l[A].stackGroups,u,d),E=G_(m,E,A,i)):(E=s_(_,M9(h,n.filter(function(C){var R,I,O=o in C.props?C.props[o]:(R=C.type.defaultProps)===null||R===void 0?void 0:R[o],B="hide"in C.props?C.props.hide:(I=C.type.defaultProps)===null||I===void 0?void 0:I.hide;return O===A&&!B}),"number",f),s.defaultProps.allowDataOverflow),E=G_(m,E,A,i)),ke(ke({},b),{},Bt({},A,ke(ke({axisType:i},s.defaultProps),{},{hide:!0,orientation:rs(G0e,"".concat(i,".").concat(N%2),null),domain:E,originalDomain:_,isCategorical:v,layout:f})))}return b},{})},Q0e=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,f=t.children,m="".concat(s,"Id"),h=Ma(f,i),x={};return h&&h.length?x=Y0e(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:d}):o&&o.length&&(x=X0e(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:d})),x},Z0e=function(t){var r=Xl(t),n=Xo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:PC(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:yx(r,n)}},tL=function(t){var r=t.children,n=t.defaultShowTooltip,s=va(r,Zd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},J0e=function(t){return!t||!t.length?!1:t.some(function(r){var n=el(r&&r.type);return n&&n.indexOf("Bar")>=0})},rL=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ege=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,u=l===void 0?{}:l,d=n.width,f=n.height,m=n.children,h=n.margin||{},x=va(m,Zd),v=va(m,_i),N=Object.keys(u).reduce(function(E,C){var R=u[C],I=R.orientation;return!R.mirror&&!R.hide?ke(ke({},E),{},Bt({},I,E[I]+R.width)):E},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(E,C){var R=o[C],I=R.orientation;return!R.mirror&&!R.hide?ke(ke({},E),{},Bt({},I,rs(E,"".concat(I))+R.height)):E},{top:h.top||0,bottom:h.bottom||0}),S=ke(ke({},b),N),j=S.bottom;x&&(S.bottom+=x.props.height||Zd.defaultProps.height),v&&r&&(S=Yoe(S,s,n,r));var A=d-S.left-S.right,_=f-S.top-S.bottom;return ke(ke({brushBottom:j},S),{},{width:Math.max(A,0),height:Math.max(_,0)})},tge=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},jh=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,u=t.axisComponents,d=t.legendContent,f=t.formatAxisMap,m=t.defaultProps,h=function(S,j){var A=j.graphicalItems,_=j.stackGroups,E=j.offset,C=j.updateId,R=j.dataStartIndex,I=j.dataEndIndex,O=S.barSize,B=S.layout,q=S.barGap,F=S.barCategoryGap,Y=S.maxBarSize,D=rL(B),G=D.numericAxisName,U=D.cateAxisName,V=J0e(A),M=[];return A.forEach(function(Q,J){var P=gb(S.data,{graphicalItems:[Q],dataStartIndex:R,dataEndIndex:I}),K=Q.type.defaultProps!==void 0?ke(ke({},Q.type.defaultProps),Q.props):Q.props,Z=K.dataKey,se=K.maxBarSize,ie=K["".concat(G,"Id")],Se=K["".concat(U,"Id")],oe={},je=u.reduce(function(Ze,De){var He=j["".concat(De.axisType,"Map")],ge=K["".concat(De.axisType,"Id")];He&&He[ge]||De.axisType==="zAxis"||fu();var Jt=He[ge];return ke(ke({},Ze),{},Bt(Bt({},De.axisType,Jt),"".concat(De.axisType,"Ticks"),Xo(Jt)))},oe),pe=je[U],Ee=je["".concat(U,"Ticks")],me=_&&_[ie]&&_[ie].hasStack&&ile(Q,_[ie].stackGroups),fe=el(Q.type).indexOf("Bar")>=0,Xe=yx(pe,Ee),H=[],ve=V&&Woe({barSize:O,stackGroups:_,totalSize:tge(je,U)});if(fe){var Re,Te,Qe=It(se)?Y:se,$e=(Re=(Te=yx(pe,Ee,!0))!==null&&Te!==void 0?Te:Qe)!==null&&Re!==void 0?Re:0;H=Voe({barGap:q,barCategoryGap:F,bandSize:$e!==Xe?$e:Xe,sizeList:ve[Se],maxBarSize:Qe}),$e!==Xe&&(H=H.map(function(Ze){return ke(ke({},Ze),{},{position:ke(ke({},Ze.position),{},{offset:Ze.position.offset-$e/2})})}))}var jt=Q&&Q.type&&Q.type.getComposedData;jt&&M.push({props:ke(ke({},jt(ke(ke({},je),{},{displayedData:P,props:S,dataKey:Z,item:Q,bandSize:Xe,barPosition:H,offset:E,stackedData:me,layout:B,dataStartIndex:R,dataEndIndex:I}))),{},Bt(Bt(Bt({key:Q.key||"item-".concat(J)},G,je[G]),U,je[U]),"animationId",C)),childIndex:QJ(Q,S.children),item:Q})}),M},x=function(S,j){var A=S.props,_=S.dataStartIndex,E=S.dataEndIndex,C=S.updateId;if(!AE({props:A}))return null;var R=A.children,I=A.layout,O=A.stackOffset,B=A.data,q=A.reverseStackOrder,F=rL(I),Y=F.numericAxisName,D=F.cateAxisName,G=Ma(R,n),U=ale(B,G,"".concat(Y,"Id"),"".concat(D,"Id"),O,q),V=u.reduce(function(K,Z){var se="".concat(Z.axisType,"Map");return ke(ke({},K),{},Bt({},se,Q0e(A,ke(ke({},Z),{},{graphicalItems:G,stackGroups:Z.axisType===Y&&U,dataStartIndex:_,dataEndIndex:E}))))},{}),M=ege(ke(ke({},V),{},{props:A,graphicalItems:G}),j?.legendBBox);Object.keys(V).forEach(function(K){V[K]=f(A,V[K],M,K.replace("Map",""),r)});var Q=V["".concat(D,"Map")],J=Z0e(Q),P=h(A,ke(ke({},V),{},{dataStartIndex:_,dataEndIndex:E,updateId:C,graphicalItems:G,stackGroups:U,offset:M}));return ke(ke({formattedGraphicalItems:P,graphicalItems:G,offset:M,stackGroups:U},J),V)},v=(function(b){function S(j){var A,_,E;return D0e(this,S),E=L0e(this,S,[j]),Bt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Bt(E,"accessibilityManager",new v0e),Bt(E,"handleLegendBBoxUpdate",function(C){if(C){var R=E.state,I=R.dataStartIndex,O=R.dataEndIndex,B=R.updateId;E.setState(ke({legendBBox:C},x({props:E.props,dataStartIndex:I,dataEndIndex:O,updateId:B},ke(ke({},E.state),{},{legendBBox:C}))))}}),Bt(E,"handleReceiveSyncEvent",function(C,R,I){if(E.props.syncId===C){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(R)}}),Bt(E,"handleBrushChange",function(C){var R=C.startIndex,I=C.endIndex;if(R!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var O=E.state.updateId;E.setState(function(){return ke({dataStartIndex:R,dataEndIndex:I},x({props:E.props,dataStartIndex:R,dataEndIndex:I,updateId:O},E.state))}),E.triggerSyncEvent({dataStartIndex:R,dataEndIndex:I})}}),Bt(E,"handleMouseEnter",function(C){var R=E.getMouseInfo(C);if(R){var I=ke(ke({},R),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var O=E.props.onMouseEnter;At(O)&&O(I,C)}}),Bt(E,"triggeredAfterMouseMove",function(C){var R=E.getMouseInfo(C),I=R?ke(ke({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var O=E.props.onMouseMove;At(O)&&O(I,C)}),Bt(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Bt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Bt(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),Bt(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};E.setState(R),E.triggerSyncEvent(R);var I=E.props.onMouseLeave;At(I)&&I(R,C)}),Bt(E,"handleOuterEvent",function(C){var R=XJ(C),I=rs(E.props,"".concat(R));if(R&&At(I)){var O,B;/.*touch.*/i.test(R)?B=E.getMouseInfo(C.changedTouches[0]):B=E.getMouseInfo(C),I((O=B)!==null&&O!==void 0?O:{},C)}}),Bt(E,"handleClick",function(C){var R=E.getMouseInfo(C);if(R){var I=ke(ke({},R),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var O=E.props.onClick;At(O)&&O(I,C)}}),Bt(E,"handleMouseDown",function(C){var R=E.props.onMouseDown;if(At(R)){var I=E.getMouseInfo(C);R(I,C)}}),Bt(E,"handleMouseUp",function(C){var R=E.props.onMouseUp;if(At(R)){var I=E.getMouseInfo(C);R(I,C)}}),Bt(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Bt(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),Bt(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),Bt(E,"handleDoubleClick",function(C){var R=E.props.onDoubleClick;if(At(R)){var I=E.getMouseInfo(C);R(I,C)}}),Bt(E,"handleContextMenu",function(C){var R=E.props.onContextMenu;if(At(R)){var I=E.getMouseInfo(C);R(I,C)}}),Bt(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&Ew.emit(_w,E.props.syncId,C,E.eventEmitterSymbol)}),Bt(E,"applySyncEvent",function(C){var R=E.props,I=R.layout,O=R.syncMethod,B=E.state.updateId,q=C.dataStartIndex,F=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(ke({dataStartIndex:q,dataEndIndex:F},x({props:E.props,dataStartIndex:q,dataEndIndex:F,updateId:B},E.state)));else if(C.activeTooltipIndex!==void 0){var Y=C.chartX,D=C.chartY,G=C.activeTooltipIndex,U=E.state,V=U.offset,M=U.tooltipTicks;if(!V)return;if(typeof O=="function")G=O(M,C);else if(O==="value"){G=-1;for(var Q=0;Q<M.length;Q++)if(M[Q].value===C.activeLabel){G=Q;break}}var J=ke(ke({},V),{},{x:V.left,y:V.top}),P=Math.min(Y,J.x+J.width),K=Math.min(D,J.y+J.height),Z=M[G]&&M[G].value,se=V_(E.state,E.props.data,G),ie=M[G]?{x:I==="horizontal"?M[G].coordinate:P,y:I==="horizontal"?K:M[G].coordinate}:lU;E.setState(ke(ke({},C),{},{activeLabel:Z,activeCoordinate:ie,activePayload:se,activeTooltipIndex:G}))}else E.setState(C)}),Bt(E,"renderCursor",function(C){var R,I=E.state,O=I.isTooltipActive,B=I.activeCoordinate,q=I.activePayload,F=I.offset,Y=I.activeTooltipIndex,D=I.tooltipAxisBandSize,G=E.getTooltipEventType(),U=(R=C.props.active)!==null&&R!==void 0?R:O,V=E.props.layout,M=C.key||"_recharts-cursor";return z.createElement(A0e,{key:M,activeCoordinate:B,activePayload:q,activeTooltipIndex:Y,chartName:r,element:C,isActive:U,layout:V,offset:F,tooltipAxisBandSize:D,tooltipEventType:G})}),Bt(E,"renderPolarAxis",function(C,R,I){var O=rs(C,"type.axisType"),B=rs(E.state,"".concat(O,"Map")),q=C.type.defaultProps,F=q!==void 0?ke(ke({},q),C.props):C.props,Y=B&&B[F["".concat(O,"Id")]];return y.cloneElement(C,ke(ke({},Y),{},{className:Gt(O,Y.className),key:C.key||"".concat(R,"-").concat(I),ticks:Xo(Y,!0)}))}),Bt(E,"renderPolarGrid",function(C){var R=C.props,I=R.radialLines,O=R.polarAngles,B=R.polarRadius,q=E.state,F=q.radiusAxisMap,Y=q.angleAxisMap,D=Xl(F),G=Xl(Y),U=G.cx,V=G.cy,M=G.innerRadius,Q=G.outerRadius;return y.cloneElement(C,{polarAngles:Array.isArray(O)?O:Xo(G,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(B)?B:Xo(D,!0).map(function(J){return J.coordinate}),cx:U,cy:V,innerRadius:M,outerRadius:Q,key:C.key||"polar-grid",radialLines:I})}),Bt(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,R=E.props,I=R.children,O=R.width,B=R.height,q=E.props.margin||{},F=O-(q.left||0)-(q.right||0),Y=D9({children:I,formattedGraphicalItems:C,legendWidth:F,legendContent:d});if(!Y)return null;var D=Y.item,G=Z4(Y,C0e);return y.cloneElement(D,ke(ke({},G),{},{chartWidth:O,chartHeight:B,margin:q,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Bt(E,"renderTooltip",function(){var C,R=E.props,I=R.children,O=R.accessibilityLayer,B=va(I,pr);if(!B)return null;var q=E.state,F=q.isTooltipActive,Y=q.activeCoordinate,D=q.activePayload,G=q.activeLabel,U=q.offset,V=(C=B.props.active)!==null&&C!==void 0?C:F;return y.cloneElement(B,{viewBox:ke(ke({},U),{},{x:U.left,y:U.top}),active:V,label:G,payload:V?D:[],coordinate:Y,accessibilityLayer:O})}),Bt(E,"renderBrush",function(C){var R=E.props,I=R.margin,O=R.data,B=E.state,q=B.offset,F=B.dataStartIndex,Y=B.dataEndIndex,D=B.updateId;return y.cloneElement(C,{key:C.key||"_recharts-brush",onChange:W0(E.handleBrushChange,C.props.onChange),data:O,x:qe(C.props.x)?C.props.x:q.left,y:qe(C.props.y)?C.props.y:q.top+q.height+q.brushBottom-(I.bottom||0),width:qe(C.props.width)?C.props.width:q.width,startIndex:F,endIndex:Y,updateId:"brush-".concat(D)})}),Bt(E,"renderReferenceElement",function(C,R,I){if(!C)return null;var O=E,B=O.clipPathId,q=E.state,F=q.xAxisMap,Y=q.yAxisMap,D=q.offset,G=C.type.defaultProps||{},U=C.props,V=U.xAxisId,M=V===void 0?G.xAxisId:V,Q=U.yAxisId,J=Q===void 0?G.yAxisId:Q;return y.cloneElement(C,{key:C.key||"".concat(R,"-").concat(I),xAxis:F[M],yAxis:Y[J],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:B})}),Bt(E,"renderActivePoints",function(C){var R=C.item,I=C.activePoint,O=C.basePoint,B=C.childIndex,q=C.isRange,F=[],Y=R.props.key,D=R.item.type.defaultProps!==void 0?ke(ke({},R.item.type.defaultProps),R.item.props):R.item.props,G=D.activeDot,U=D.dataKey,V=ke(ke({index:B,dataKey:U,cx:I.x,cy:I.y,r:4,fill:oT(R.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},mt(G,!1)),Gg(G));return F.push(S.renderActiveDot(G,V,"".concat(Y,"-activePoint-").concat(B))),O?F.push(S.renderActiveDot(G,ke(ke({},V),{},{cx:O.x,cy:O.y}),"".concat(Y,"-basePoint-").concat(B))):q&&F.push(null),F}),Bt(E,"renderGraphicChild",function(C,R,I){var O=E.filterFormatItem(C,R,I);if(!O)return null;var B=E.getTooltipEventType(),q=E.state,F=q.isTooltipActive,Y=q.tooltipAxis,D=q.activeTooltipIndex,G=q.activeLabel,U=E.props.children,V=va(U,pr),M=O.props,Q=M.points,J=M.isRange,P=M.baseLine,K=O.item.type.defaultProps!==void 0?ke(ke({},O.item.type.defaultProps),O.item.props):O.item.props,Z=K.activeDot,se=K.hide,ie=K.activeBar,Se=K.activeShape,oe=!!(!se&&F&&V&&(Z||ie||Se)),je={};B!=="axis"&&V&&V.props.trigger==="click"?je={onClick:W0(E.handleItemMouseEnter,C.props.onClick)}:B!=="axis"&&(je={onMouseLeave:W0(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:W0(E.handleItemMouseEnter,C.props.onMouseEnter)});var pe=y.cloneElement(C,ke(ke({},O.props),je));function Ee(De){return typeof Y.dataKey=="function"?Y.dataKey(De.payload):null}if(oe)if(D>=0){var me,fe;if(Y.dataKey&&!Y.allowDuplicatedCategory){var Xe=typeof Y.dataKey=="function"?Ee:"payload.".concat(Y.dataKey.toString());me=qg(Q,Xe,G),fe=J&&P&&qg(P,Xe,G)}else me=Q?.[D],fe=J&&P&&P[D];if(Se||ie){var H=C.props.activeIndex!==void 0?C.props.activeIndex:D;return[y.cloneElement(C,ke(ke(ke({},O.props),je),{},{activeIndex:H})),null,null]}if(!It(me))return[pe].concat(ff(E.renderActivePoints({item:O,activePoint:me,basePoint:fe,childIndex:D,isRange:J})))}else{var ve,Re=(ve=E.getItemByXY(E.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:pe},Te=Re.graphicalItem,Qe=Te.item,$e=Qe===void 0?C:Qe,jt=Te.childIndex,Ze=ke(ke(ke({},O.props),je),{},{activeIndex:jt});return[y.cloneElement($e,Ze),null,null]}return J?[pe,null,null]:[pe,null]}),Bt(E,"renderCustomized",function(C,R,I){return y.cloneElement(C,ke(ke({key:"recharts-customized-".concat(I)},E.props),E.state))}),Bt(E,"renderMap",{CartesianGrid:{handler:Z0,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Z0},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Z0},YAxis:{handler:Z0},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((A=j.id)!==null&&A!==void 0?A:pl("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=PF(E.triggeredAfterMouseMove,(_=j.throttleDelay)!==null&&_!==void 0?_:1e3/60),E.state={},E}return B0e(S,b),M0e(S,[{key:"componentDidMount",value:function(){var A,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,_=A.children,E=A.data,C=A.height,R=A.layout,I=va(_,pr);if(I){var O=I.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,q=V_(this.state,E,O,B),F=this.state.tooltipTicks[O].coordinate,Y=(this.state.offset.top+C)/2,D=R==="horizontal",G=D?{x:F,y:Y}:{y:F,x:Y},U=this.state.formattedGraphicalItems.find(function(M){var Q=M.item;return Q.type.name==="Scatter"});U&&(G=ke(ke({},G),U.props.points[O].tooltipPosition),q=U.props.points[O].tooltipPayload);var V={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:B,activePayload:q,activeCoordinate:G};this.setState(V),this.renderCursor(I),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(A){CE([va(A.children,pr)],[va(this.props.children,pr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=va(this.props.children,pr);if(A&&typeof A.props.shared=="boolean"){var _=A.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var _=this.container,E=_.getBoundingClientRect(),C=Ene(E),R={chartX:Math.round(A.pageX-C.left),chartY:Math.round(A.pageY-C.top)},I=E.width/_.offsetWidth||1,O=this.inRange(R.chartX,R.chartY,I);if(!O)return null;var B=this.state,q=B.xAxisMap,F=B.yAxisMap,Y=this.getTooltipEventType(),D=eL(this.state,this.props.data,this.props.layout,O);if(Y!=="axis"&&q&&F){var G=Xl(q).scale,U=Xl(F).scale,V=G&&G.invert?G.invert(R.chartX):null,M=U&&U.invert?U.invert(R.chartY):null;return ke(ke({},R),{},{xValue:V,yValue:M},D)}return D?ke(ke({},R),D):null}},{key:"inRange",value:function(A,_){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,R=A/E,I=_/E;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,B=R>=O.left&&R<=O.left+O.width&&I>=O.top&&I<=O.top+O.height;return B?{x:R,y:I}:null}var q=this.state,F=q.angleAxisMap,Y=q.radiusAxisMap;if(F&&Y){var D=Xl(F);return tM({x:R,y:I},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,_=this.getTooltipEventType(),E=va(A,pr),C={};E&&_==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=Gg(this.props,this.handleOuterEvent);return ke(ke({},R),C)}},{key:"addListener",value:function(){Ew.on(_w,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ew.removeListener(_w,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,_,E){for(var C=this.state.formattedGraphicalItems,R=0,I=C.length;R<I;R++){var O=C[R];if(O.item===A||O.props.key===A.key||_===el(O.item.type)&&E===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,_=this.state.offset,E=_.left,C=_.top,R=_.height,I=_.width;return z.createElement("defs",null,z.createElement("clipPath",{id:A},z.createElement("rect",{x:E,y:C,height:R,width:I})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(_,E){var C=Q4(E,2),R=C[0],I=C[1];return ke(ke({},_),{},Bt({},R,I.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(_,E){var C=Q4(E,2),R=C[0],I=C[1];return ke(ke({},_),{},Bt({},R,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[A])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(A){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[A])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(A){var _=this.state,E=_.formattedGraphicalItems,C=_.activeItem;if(E&&E.length)for(var R=0,I=E.length;R<I;R++){var O=E[R],B=O.props,q=O.item,F=q.type.defaultProps!==void 0?ke(ke({},q.type.defaultProps),q.props):q.props,Y=el(q.type);if(Y==="Bar"){var D=(B.data||[]).find(function(M){return ade(A,M)});if(D)return{graphicalItem:O,payload:D}}else if(Y==="RadialBar"){var G=(B.data||[]).find(function(M){return tM(A,M)});if(G)return{graphicalItem:O,payload:G}}else if(ub(O,C)||db(O,C)||Wm(O,C)){var U=jfe({graphicalItem:O,activeTooltipItem:C,itemData:F.data}),V=F.activeIndex===void 0?U:F.activeIndex;return{graphicalItem:ke(ke({},O),{},{childIndex:V}),payload:Wm(O,C)?F.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var A=this;if(!AE(this))return null;var _=this.props,E=_.children,C=_.className,R=_.width,I=_.height,O=_.style,B=_.compact,q=_.title,F=_.desc,Y=Z4(_,T0e),D=mt(Y,!1);if(B)return z.createElement(C4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(Kg,pd({},D,{width:R,height:I,title:q,desc:F}),this.renderClipPath(),mR(E,this.renderMap)));if(this.props.accessibilityLayer){var G,U;D.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,D.role=(U=this.props.role)!==null&&U!==void 0?U:"application",D.onKeyDown=function(M){A.accessibilityManager.keyboardEvent(M)},D.onFocus=function(){A.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return z.createElement(C4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",pd({className:Gt("recharts-wrapper",C),style:ke({position:"relative",cursor:"default",width:R,height:I},O)},V,{ref:function(Q){A.container=Q}}),z.createElement(Kg,pd({},D,{width:R,height:I,title:q,desc:F,style:K0e}),this.renderClipPath(),mR(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(y.Component);Bt(v,"displayName",r),Bt(v,"defaultProps",ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Bt(v,"getDerivedStateFromProps",function(b,S){var j=b.dataKey,A=b.data,_=b.children,E=b.width,C=b.height,R=b.layout,I=b.stackOffset,O=b.margin,B=S.dataStartIndex,q=S.dataEndIndex;if(S.updateId===void 0){var F=tL(b);return ke(ke(ke({},F),{},{updateId:0},x(ke(ke({props:b},F),{},{updateId:0}),S)),{},{prevDataKey:j,prevData:A,prevWidth:E,prevHeight:C,prevLayout:R,prevStackOffset:I,prevMargin:O,prevChildren:_})}if(j!==S.prevDataKey||A!==S.prevData||E!==S.prevWidth||C!==S.prevHeight||R!==S.prevLayout||I!==S.prevStackOffset||!Nd(O,S.prevMargin)){var Y=tL(b),D={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},G=ke(ke({},eL(S,A,R)),{},{updateId:S.updateId+1}),U=ke(ke(ke({},Y),D),G);return ke(ke(ke({},U),x(ke({props:b},U),S)),{},{prevDataKey:j,prevData:A,prevWidth:E,prevHeight:C,prevLayout:R,prevStackOffset:I,prevMargin:O,prevChildren:_})}if(!CE(_,S.prevChildren)){var V,M,Q,J,P=va(_,Zd),K=P&&(V=(M=P.props)===null||M===void 0?void 0:M.startIndex)!==null&&V!==void 0?V:B,Z=P&&(Q=(J=P.props)===null||J===void 0?void 0:J.endIndex)!==null&&Q!==void 0?Q:q,se=K!==B||Z!==q,ie=!It(A),Se=ie&&!se?S.updateId:S.updateId+1;return ke(ke({updateId:Se},x(ke(ke({props:b},S),{},{updateId:Se,dataStartIndex:K,dataEndIndex:Z}),S)),{},{prevChildren:_,dataStartIndex:K,dataEndIndex:Z})}return null}),Bt(v,"renderActiveDot",function(b,S,j){var A;return y.isValidElement(b)?A=y.cloneElement(b,S):At(b)?A=b(S):A=z.createElement(Nh,S),z.createElement(Yt,{className:"recharts-active-dot",key:j},A)});var N=y.forwardRef(function(S,j){return z.createElement(v,pd({},S,{ref:j}))});return N.displayName=v.displayName,N},Eh=jh({chartName:"LineChart",GraphicalChild:bn,axisComponents:[{axisType:"xAxis",AxisComp:en},{axisType:"yAxis",AxisComp:$r}],formatAxisMap:pb}),Qo=jh({chartName:"BarChart",GraphicalChild:On,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:en},{axisType:"yAxis",AxisComp:$r}],formatAxisMap:pb}),yT=jh({chartName:"PieChart",GraphicalChild:Mi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:cb},{axisType:"radiusAxis",AxisComp:ob}],formatAxisMap:gle,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Cw,nL;function rge(){if(nL)return Cw;nL=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s&&r(t[n],n,t)!==!1;);return t}return Cw=e,Cw}var Tw,aL;function uU(){if(aL)return Tw;aL=1;var e=cT(),t=Ry(),r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l){var u=i[o];(!(n.call(i,o)&&t(u,l))||l===void 0&&!(o in i))&&e(i,o,l)}return Tw=s,Tw}var kw,sL;function _h(){if(sL)return kw;sL=1;var e=uU(),t=cT();function r(n,s,i,o){var l=!i;i||(i={});for(var u=-1,d=s.length;++u<d;){var f=s[u],m=o?o(i[f],n[f],f,i,n):void 0;m===void 0&&(m=n[f]),l?t(i,f,m):e(i,f,m)}return i}return kw=r,kw}var Ow,iL;function nge(){if(iL)return Ow;iL=1;var e=_h(),t=Of();function r(n,s){return n&&e(s,t(s),n)}return Ow=r,Ow}var Rw,oL;function age(){if(oL)return Rw;oL=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return Rw=e,Rw}var Pw,lL;function sge(){if(lL)return Pw;lL=1;var e=Di(),t=TC(),r=age(),n=Object.prototype,s=n.hasOwnProperty;function i(o){if(!e(o))return r(o);var l=t(o),u=[];for(var d in o)d=="constructor"&&(l||!s.call(o,d))||u.push(d);return u}return Pw=i,Pw}var Dw,cL;function bT(){if(cL)return Dw;cL=1;var e=pF(),t=sge(),r=kf();function n(s){return r(s)?e(s,!0):t(s)}return Dw=n,Dw}var Iw,uL;function ige(){if(uL)return Iw;uL=1;var e=_h(),t=bT();function r(n,s){return n&&e(s,t(s),n)}return Iw=r,Iw}var Wp={exports:{}};Wp.exports;var dL;function oge(){return dL||(dL=1,(function(e,t){var r=Ri(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function u(d,f){if(f)return d.slice();var m=d.length,h=l?l(m):new d.constructor(m);return d.copy(h),h}e.exports=u})(Wp,Wp.exports)),Wp.exports}var Mw,fL;function lge(){if(fL)return Mw;fL=1;function e(t,r){var n=-1,s=t.length;for(r||(r=Array(s));++n<s;)r[n]=t[n];return r}return Mw=e,Mw}var Lw,pL;function cge(){if(pL)return Lw;pL=1;var e=_h(),t=wC();function r(n,s){return e(n,t(n),s)}return Lw=r,Lw}var $w,mL;function dU(){if(mL)return $w;mL=1;var e=SC(),t=lT(),r=wC(),n=dF(),s=Object.getOwnPropertySymbols,i=s?function(o){for(var l=[];o;)e(l,r(o)),o=t(o);return l}:n;return $w=i,$w}var Fw,hL;function uge(){if(hL)return Fw;hL=1;var e=_h(),t=dU();function r(n,s){return e(n,t(n),s)}return Fw=r,Fw}var Bw,gL;function fU(){if(gL)return Bw;gL=1;var e=uF(),t=dU(),r=bT();function n(s){return e(s,r,t)}return Bw=n,Bw}var Uw,xL;function dge(){if(xL)return Uw;xL=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var s=n.length,i=new n.constructor(s);return s&&typeof n[0]=="string"&&t.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return Uw=r,Uw}var zw,yL;function vT(){if(yL)return zw;yL=1;var e=cF();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return zw=t,zw}var Hw,bL;function fge(){if(bL)return Hw;bL=1;var e=vT();function t(r,n){var s=n?e(r.buffer):r.buffer;return new r.constructor(s,r.byteOffset,r.byteLength)}return Hw=t,Hw}var qw,vL;function pge(){if(vL)return qw;vL=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return qw=t,qw}var Gw,NL;function mge(){if(NL)return Gw;NL=1;var e=Af(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(s){return r?Object(r.call(s)):{}}return Gw=n,Gw}var Kw,SL;function hge(){if(SL)return Kw;SL=1;var e=vT();function t(r,n){var s=n?e(r.buffer):r.buffer;return new r.constructor(s,r.byteOffset,r.length)}return Kw=t,Kw}var Ww,wL;function gge(){if(wL)return Ww;wL=1;var e=vT(),t=fge(),r=pge(),n=mge(),s=hge(),i="[object Boolean]",o="[object Date]",l="[object Map]",u="[object Number]",d="[object RegExp]",f="[object Set]",m="[object String]",h="[object Symbol]",x="[object ArrayBuffer]",v="[object DataView]",N="[object Float32Array]",b="[object Float64Array]",S="[object Int8Array]",j="[object Int16Array]",A="[object Int32Array]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",C="[object Uint16Array]",R="[object Uint32Array]";function I(O,B,q){var F=O.constructor;switch(B){case x:return e(O);case i:case o:return new F(+O);case v:return t(O,q);case N:case b:case S:case j:case A:case _:case E:case C:case R:return s(O,q);case l:return new F;case u:case m:return new F(O);case d:return r(O);case f:return new F;case h:return n(O)}}return Ww=I,Ww}var Vw,jL;function xge(){if(jL)return Vw;jL=1;var e=Di(),t=Object.create,r=(function(){function n(){}return function(s){if(!e(s))return{};if(t)return t(s);n.prototype=s;var i=new n;return n.prototype=void 0,i}})();return Vw=r,Vw}var Yw,EL;function yge(){if(EL)return Yw;EL=1;var e=xge(),t=lT(),r=TC();function n(s){return typeof s.constructor=="function"&&!r(s)?e(t(s)):{}}return Yw=n,Yw}var Xw,_L;function bge(){if(_L)return Xw;_L=1;var e=Ky(),t=Pi(),r="[object Map]";function n(s){return t(s)&&e(s)==r}return Xw=n,Xw}var Qw,AL;function vge(){if(AL)return Qw;AL=1;var e=bge(),t=Gy(),r=CC(),n=r&&r.isMap,s=n?t(n):e;return Qw=s,Qw}var Zw,CL;function Nge(){if(CL)return Zw;CL=1;var e=Ky(),t=Pi(),r="[object Set]";function n(s){return t(s)&&e(s)==r}return Zw=n,Zw}var Jw,TL;function Sge(){if(TL)return Jw;TL=1;var e=Nge(),t=Gy(),r=CC(),n=r&&r.isSet,s=n?t(n):e;return Jw=s,Jw}var ej,kL;function wge(){if(kL)return ej;kL=1;var e=vC(),t=rge(),r=uU(),n=nge(),s=ige(),i=oge(),o=lge(),l=cge(),u=uge(),d=hF(),f=fU(),m=Ky(),h=dge(),x=gge(),v=yge(),N=$a(),b=EC(),S=vge(),j=Di(),A=Sge(),_=Of(),E=bT(),C=1,R=2,I=4,O="[object Arguments]",B="[object Array]",q="[object Boolean]",F="[object Date]",Y="[object Error]",D="[object Function]",G="[object GeneratorFunction]",U="[object Map]",V="[object Number]",M="[object Object]",Q="[object RegExp]",J="[object Set]",P="[object String]",K="[object Symbol]",Z="[object WeakMap]",se="[object ArrayBuffer]",ie="[object DataView]",Se="[object Float32Array]",oe="[object Float64Array]",je="[object Int8Array]",pe="[object Int16Array]",Ee="[object Int32Array]",me="[object Uint8Array]",fe="[object Uint8ClampedArray]",Xe="[object Uint16Array]",H="[object Uint32Array]",ve={};ve[O]=ve[B]=ve[se]=ve[ie]=ve[q]=ve[F]=ve[Se]=ve[oe]=ve[je]=ve[pe]=ve[Ee]=ve[U]=ve[V]=ve[M]=ve[Q]=ve[J]=ve[P]=ve[K]=ve[me]=ve[fe]=ve[Xe]=ve[H]=!0,ve[Y]=ve[D]=ve[Z]=!1;function Re(Te,Qe,$e,jt,Ze,De){var He,ge=Qe&C,Jt=Qe&R,Vt=Qe&I;if($e&&(He=Ze?$e(Te,jt,Ze,De):$e(Te)),He!==void 0)return He;if(!j(Te))return Te;var Lr=N(Te);if(Lr){if(He=h(Te),!ge)return o(Te,He)}else{var we=m(Te),Me=we==D||we==G;if(b(Te))return i(Te,ge);if(we==M||we==O||Me&&!Ze){if(He=Jt||Me?{}:v(Te),!ge)return Jt?u(Te,s(He,Te)):l(Te,n(He,Te))}else{if(!ve[we])return Ze?Te:{};He=x(Te,we,ge)}}De||(De=new e);var Mt=De.get(Te);if(Mt)return Mt;De.set(Te,He),A(Te)?Te.forEach(function(Yr){He.add(Re(Yr,Qe,$e,Yr,Te,De))}):S(Te)&&Te.forEach(function(Yr,ht){He.set(ht,Re(Yr,Qe,$e,ht,Te,De))});var ar=Vt?Jt?f:d:Jt?E:_,Ur=Lr?void 0:ar(Te);return t(Ur||Te,function(Yr,ht){Ur&&(ht=Yr,Yr=Te[ht]),r(He,ht,Re(Yr,Qe,$e,ht,Te,De))}),He}return ej=Re,ej}var tj,OL;function jge(){if(OL)return tj;OL=1;var e=$y(),t=$8();function r(n,s){return s.length<2?n:e(n,t(s,0,-1))}return tj=r,tj}var rj,RL;function Ege(){if(RL)return rj;RL=1;var e=Ly(),t=V9(),r=jge(),n=gh(),s=Object.prototype,i=s.hasOwnProperty;function o(l,u){u=e(u,l);var d=-1,f=u.length;if(!f)return!0;for(var m=l==null||typeof l!="object"&&typeof l!="function";++d<f;){var h=u[d];if(typeof h=="string"){if(h==="__proto__"&&!i.call(l,"__proto__"))return!1;if(h==="constructor"&&d+1<f&&typeof u[d+1]=="string"&&u[d+1]==="prototype"){if(m&&d===0)continue;return!1}}}var x=r(l,u);return x==null||delete x[n(t(u))]}return rj=o,rj}var nj,PL;function _ge(){if(PL)return nj;PL=1;var e=cB();function t(r){return e(r)?void 0:r}return nj=t,nj}var aj,DL;function Age(){if(DL)return aj;DL=1;var e=OC();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return aj=t,aj}var sj,IL;function Cge(){if(IL)return sj;IL=1;var e=Age(),t=EF(),r=AF();function n(s){return r(t(s,void 0,e),s+"")}return sj=n,sj}var ij,ML;function Tge(){if(ML)return ij;ML=1;var e=My(),t=wge(),r=Ege(),n=Ly(),s=_h(),i=_ge(),o=Cge(),l=fU(),u=1,d=2,f=4,m=o(function(h,x){var v={};if(h==null)return v;var N=!1;x=e(x,function(S){return S=n(S,h),N||(N=S.length>1),S}),s(h,l(h),v),N&&(v=t(v,u|d|f,i));for(var b=x.length;b--;)r(v,x[b]);return v});return ij=m,ij}var kge=Tge();const Oge=Rr(kge);var Rge=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],Pge=["width","height","className","style","children","type"];function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(this,arguments)}function Dge(e,t){if(e==null)return{};var r=Ige(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ige(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mU(n.key),n)}}function Lge(e,t,r){return t&&LL(e.prototype,t),r&&LL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ge(e,t,r){return t=Xx(t),Fge(e,pU()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function Fge(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bge(e)}function Bge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pU=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function Uge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y_(e,t)}function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Y_(e,t)}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){rl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rl(e,t,r){return t=mU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=zge(e,"string");return pf(t)=="symbol"?t:t+""}function zge(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eh="value",oj=function e(t){var r=t.depth,n=t.node,s=t.index,i=t.valueKey,o=n.children,l=r+1,u=o&&o.length?o.map(function(f,m){return e({depth:l,node:f,index:m,valueKey:i})}):null,d;return o&&o.length?d=u.reduce(function(f,m){return f+m[eh]},0):d=mc(n[i])||n[i]<=0?0:n[i],Gr(Gr({},n),{},rl(rl(rl({children:u},eh,d),"depth",r),"index",s))},Hge=function(t){return{x:t.x,y:t.y,width:t.width,height:t.height}},qge=function(t,r){var n=r<0?0:r;return t.map(function(s){var i=s[eh]*n;return Gr(Gr({},s),{},{area:mc(i)||i<=0?0:i})})},Gge=function(t,r,n){var s=r*r,i=t.area*t.area,o=t.reduce(function(d,f){return{min:Math.min(d.min,f.area),max:Math.max(d.max,f.area)}},{min:1/0,max:0}),l=o.min,u=o.max;return i?Math.max(s*u*n/i,i/(s*l*n)):1/0},Kge=function(t,r,n,s){var i=r?Math.round(t.area/r):0;(s||i>n.height)&&(i=n.height);for(var o=n.x,l,u=0,d=t.length;u<d;u++)l=t[u],l.x=o,l.y=n.y,l.height=i,l.width=Math.min(i?Math.round(l.area/i):0,n.x+n.width-o),o+=l.width;return l.width+=n.x+n.width-o,Gr(Gr({},n),{},{y:n.y+i,height:n.height-i})},Wge=function(t,r,n,s){var i=r?Math.round(t.area/r):0;(s||i>n.width)&&(i=n.width);for(var o=n.y,l,u=0,d=t.length;u<d;u++)l=t[u],l.x=n.x,l.y=o,l.width=i,l.height=Math.min(i?Math.round(l.area/i):0,n.y+n.height-o),o+=l.height;return l&&(l.height+=n.y+n.height-o),Gr(Gr({},n),{},{x:n.x+i,width:n.width-i})},FL=function(t,r,n,s){return r===n.width?Kge(t,r,n,s):Wge(t,r,n,s)},lj=function e(t,r){var n=t.children;if(n&&n.length){var s=Hge(t),i=[],o=1/0,l,u,d=Math.min(s.width,s.height),f=qge(n,s.width*s.height/t[eh]),m=f.slice();for(i.area=0;m.length>0;)i.push(l=m[0]),i.area+=l.area,u=Gge(i,d,r),u<=o?(m.shift(),o=u):(i.area-=i.pop().area,s=FL(i,d,s,!1),d=Math.min(s.width,s.height),i.length=i.area=0,o=1/0);return i.length&&(s=FL(i,d,s,!0),i.length=i.area=0),Gr(Gr({},t),{},{children:f.map(function(h){return e(h,r)})})}return t},Vge={isTooltipActive:!1,isAnimationFinished:!1,activeNode:null,formatRoot:null,currentRoot:null,nestIndex:[]},th=(function(e){function t(){var r;Mge(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=$ge(this,t,[].concat(s)),rl(r,"state",Gr({},Vge)),rl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),At(o)&&o()}),rl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),At(o)&&o()}),r}return Uge(t,e),Lge(t,[{key:"handleMouseEnter",value:function(n,s){s.persist();var i=this.props,o=i.onMouseEnter,l=i.children,u=va(l,pr);u?this.setState({isTooltipActive:!0,activeNode:n},function(){o&&o(n,s)}):o&&o(n,s)}},{key:"handleMouseLeave",value:function(n,s){s.persist();var i=this.props,o=i.onMouseLeave,l=i.children,u=va(l,pr);u?this.setState({isTooltipActive:!1,activeNode:null},function(){o&&o(n,s)}):o&&o(n,s)}},{key:"handleClick",value:function(n){var s=this.props,i=s.onClick,o=s.type;if(o==="nest"&&n.children){var l=this.props,u=l.width,d=l.height,f=l.dataKey,m=l.aspectRatio,h=oj({depth:0,node:Gr(Gr({},n),{},{x:0,y:0,width:u,height:d}),index:0,valueKey:f}),x=lj(h,m),v=this.state.nestIndex;v.push(n),this.setState({formatRoot:x,currentRoot:h,nestIndex:v})}i&&i(n)}},{key:"handleNestIndex",value:function(n,s){var i=this.state.nestIndex,o=this.props,l=o.width,u=o.height,d=o.dataKey,f=o.aspectRatio,m=oj({depth:0,node:Gr(Gr({},n),{},{x:0,y:0,width:l,height:u}),index:0,valueKey:d}),h=lj(m,f);i=i.slice(0,s+1),this.setState({formatRoot:h,currentRoot:n,nestIndex:i})}},{key:"renderItem",value:function(n,s,i){var o=this,l=this.props,u=l.isAnimationActive,d=l.animationBegin,f=l.animationDuration,m=l.animationEasing,h=l.isUpdateAnimationActive,x=l.type,v=l.animationId,N=l.colorPanel,b=this.state.isAnimationFinished,S=s.width,j=s.height,A=s.x,_=s.y,E=s.depth,C=parseInt("".concat((Math.random()*2-1)*S),10),R={};return(i||x==="nest")&&(R={onMouseEnter:this.handleMouseEnter.bind(this,s),onMouseLeave:this.handleMouseLeave.bind(this,s),onClick:this.handleClick.bind(this,s)}),u?z.createElement(ns,{begin:d,duration:f,isActive:u,easing:m,key:"treemap-".concat(v),from:{x:A,y:_,width:S,height:j},to:{x:A,y:_,width:S,height:j},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(I){var O=I.x,B=I.y,q=I.width,F=I.height;return z.createElement(ns,{from:"translate(".concat(C,"px, ").concat(C,"px)"),to:"translate(0, 0)",attributeName:"transform",begin:d,easing:m,isActive:u,duration:f},z.createElement(Yt,R,(function(){return E>2&&!b?null:o.constructor.renderContentItem(n,Gr(Gr({},s),{},{isAnimationActive:u,isUpdateAnimationActive:!h,width:q,height:F,x:O,y:B}),x,N)})()))}):z.createElement(Yt,R,this.constructor.renderContentItem(n,Gr(Gr({},s),{},{isAnimationActive:!1,isUpdateAnimationActive:!1,width:S,height:j,x:A,y:_}),x,N))}},{key:"renderNode",value:function(n,s){var i=this,o=this.props,l=o.content,u=o.type,d=Gr(Gr(Gr({},mt(this.props,!1)),s),{},{root:n}),f=!s.children||!s.children.length,m=this.state.currentRoot,h=(m.children||[]).filter(function(x){return x.depth===s.depth&&x.name===s.name});return!h.length&&n.depth&&u==="nest"?null:z.createElement(Yt,{key:"recharts-treemap-node-".concat(d.x,"-").concat(d.y,"-").concat(d.name),className:"recharts-treemap-depth-".concat(s.depth)},this.renderItem(l,d,f),s.children&&s.children.length?s.children.map(function(x){return i.renderNode(s,x)}):null)}},{key:"renderAllNodes",value:function(){var n=this.state.formatRoot;return n?this.renderNode(n,n):null}},{key:"renderTooltip",value:function(){var n=this.props,s=n.children,i=n.nameKey,o=va(s,pr);if(!o)return null;var l=this.props,u=l.width,d=l.height,f=this.state,m=f.isTooltipActive,h=f.activeNode,x={x:0,y:0,width:u,height:d},v=h?{x:h.x+h.width/2,y:h.y+h.height/2}:null,N=m&&h?[{payload:h,name:Fr(h,i,""),value:Fr(h,eh)}]:[];return z.cloneElement(o,{viewBox:x,active:m,coordinate:v,label:"",payload:N})}},{key:"renderNestIndex",value:function(){var n=this,s=this.props,i=s.nameKey,o=s.nestIndexContent,l=this.state.nestIndex;return z.createElement("div",{className:"recharts-treemap-nest-index-wrapper",style:{marginTop:"8px",textAlign:"center"}},l.map(function(u,d){var f=rs(u,i,"root"),m=null;return z.isValidElement(o)&&(m=z.cloneElement(o,u,d)),At(o)?m=o(u,d):m=f,z.createElement("div",{onClick:n.handleNestIndex.bind(n,u,d),key:"nest-index-".concat(pl()),className:"recharts-treemap-nest-index-box",style:{cursor:"pointer",display:"inline-block",padding:"0 7px",background:"#000",color:"#fff",marginRight:"3px"}},m)}))}},{key:"render",value:function(){if(!AE(this))return null;var n=this.props,s=n.width,i=n.height,o=n.className,l=n.style,u=n.children,d=n.type,f=Dge(n,Pge),m=mt(f,!1);return z.createElement("div",{className:Gt("recharts-wrapper",o),style:Gr(Gr({},l),{},{position:"relative",cursor:"default",width:s,height:i}),role:"region"},z.createElement(Kg,Yx({},m,{width:s,height:d==="nest"?i-30:i}),this.renderAllNodes(),YJ(u)),this.renderTooltip(),d==="nest"&&this.renderNestIndex())}}],[{key:"getDerivedStateFromProps",value:function(n,s){if(n.data!==s.prevData||n.type!==s.prevType||n.width!==s.prevWidth||n.height!==s.prevHeight||n.dataKey!==s.prevDataKey||n.aspectRatio!==s.prevAspectRatio){var i=oj({depth:0,node:{children:n.data,x:0,y:0,width:n.width,height:n.height},index:0,valueKey:n.dataKey}),o=lj(i,n.aspectRatio);return Gr(Gr({},s),{},{formatRoot:o,currentRoot:i,nestIndex:[i],prevAspectRatio:n.aspectRatio,prevData:n.data,prevWidth:n.width,prevHeight:n.height,prevDataKey:n.dataKey,prevType:n.type})}return null}},{key:"renderContentItem",value:function(n,s,i,o){if(z.isValidElement(n))return z.cloneElement(n,s);if(At(n))return n(s);var l=s.x,u=s.y,d=s.width,f=s.height,m=s.index,h=null;d>10&&f>10&&s.children&&i==="nest"&&(h=z.createElement(aB,{points:[{x:l+2,y:u+f/2},{x:l+6,y:u+f/2+3},{x:l+2,y:u+f/2+6}]}));var x=null,v=Sd(s.name);d>20&&f>20&&v.width<d&&v.height<f&&(x=z.createElement("text",{x:l+8,y:u+f/2+7,fontSize:14},s.name));var N=o||Rge;return z.createElement("g",null,z.createElement(sb,Yx({fill:s.depth<2?N[m%N.length]:"rgba(255,255,255,0)",stroke:"#fff"},Oge(s,"children"),{role:"img"})),h,x)}}])})(y.PureComponent);rl(th,"displayName","Treemap");rl(th,"defaultProps",{aspectRatio:.5*(1+Math.sqrt(5)),dataKey:"value",type:"flat",isAnimationActive:!Ai.isSsr,isUpdateAnimationActive:!Ai.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"linear"});var Yge=jh({chartName:"ScatterChart",GraphicalChild:Ff,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:en},{axisType:"yAxis",AxisComp:$r},{axisType:"zAxis",AxisComp:$f}],formatAxisMap:pb}),xb=jh({chartName:"ComposedChart",GraphicalChild:[bn,Ci,On,Ff],axisComponents:[{axisType:"xAxis",AxisComp:en},{axisType:"yAxis",AxisComp:$r},{axisType:"zAxis",AxisComp:$f}],formatAxisMap:pb}),Xge={value:()=>{}};function NT(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new jg(r)}function jg(e){this._=e}function Qge(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");if(s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}jg.prototype=NT.prototype={constructor:jg,on:function(e,t){var r=this._,n=Qge(e+"",r),s,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((s=(e=n[i]).type)&&(s=Zge(r[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=n[i]).type)r[s]=BL(r[s],e.name,t);else if(t==null)for(s in r)r[s]=BL(r[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new jg(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var r=new Array(s),n=0,s,i;n<s;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,s=i.length;n<s;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,i=n.length;s<i;++s)n[s].value.apply(t,r)}};function Zge(e,t){for(var r=0,n=e.length,s;r<n;++r)if((s=e[r]).name===t)return s.value}function BL(e,t,r){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=Xge,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var X_="http://www.w3.org/1999/xhtml";const UL={svg:"http://www.w3.org/2000/svg",xhtml:X_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yb(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),UL.hasOwnProperty(t)?{space:UL[t],local:e}:e}function Jge(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===X_&&t.documentElement.namespaceURI===X_?t.createElement(e):t.createElementNS(r,e)}}function exe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hU(e){var t=yb(e);return(t.local?exe:Jge)(t)}function txe(){}function ST(e){return e==null?txe:function(){return this.querySelector(e)}}function rxe(e){typeof e!="function"&&(e=ST(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=n[s]=new Array(o),u,d,f=0;f<o;++f)(u=i[f])&&(d=e.call(u,u.__data__,f,i))&&("__data__"in u&&(d.__data__=u.__data__),l[f]=d);return new Ns(n,this._parents)}function nxe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function axe(){return[]}function gU(e){return e==null?axe:function(){return this.querySelectorAll(e)}}function sxe(e){return function(){return nxe(e.apply(this,arguments))}}function ixe(e){typeof e=="function"?e=sxe(e):e=gU(e);for(var t=this._groups,r=t.length,n=[],s=[],i=0;i<r;++i)for(var o=t[i],l=o.length,u,d=0;d<l;++d)(u=o[d])&&(n.push(e.call(u,u.__data__,d,o)),s.push(u));return new Ns(n,s)}function xU(e){return function(){return this.matches(e)}}function yU(e){return function(t){return t.matches(e)}}var oxe=Array.prototype.find;function lxe(e){return function(){return oxe.call(this.children,e)}}function cxe(){return this.firstElementChild}function uxe(e){return this.select(e==null?cxe:lxe(typeof e=="function"?e:yU(e)))}var dxe=Array.prototype.filter;function fxe(){return Array.from(this.children)}function pxe(e){return function(){return dxe.call(this.children,e)}}function mxe(e){return this.selectAll(e==null?fxe:pxe(typeof e=="function"?e:yU(e)))}function hxe(e){typeof e!="function"&&(e=xU(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=n[s]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new Ns(n,this._parents)}function bU(e){return new Array(e.length)}function gxe(){return new Ns(this._enter||this._groups.map(bU),this._parents)}function Qx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Qx.prototype={constructor:Qx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xxe(e){return function(){return e}}function yxe(e,t,r,n,s,i){for(var o=0,l,u=t.length,d=i.length;o<d;++o)(l=t[o])?(l.__data__=i[o],n[o]=l):r[o]=new Qx(e,i[o]);for(;o<u;++o)(l=t[o])&&(s[o]=l)}function bxe(e,t,r,n,s,i,o){var l,u,d=new Map,f=t.length,m=i.length,h=new Array(f),x;for(l=0;l<f;++l)(u=t[l])&&(h[l]=x=o.call(u,u.__data__,l,t)+"",d.has(x)?s[l]=u:d.set(x,u));for(l=0;l<m;++l)x=o.call(e,i[l],l,i)+"",(u=d.get(x))?(n[l]=u,u.__data__=i[l],d.delete(x)):r[l]=new Qx(e,i[l]);for(l=0;l<f;++l)(u=t[l])&&d.get(h[l])===u&&(s[l]=u)}function vxe(e){return e.__data__}function Nxe(e,t){if(!arguments.length)return Array.from(this,vxe);var r=t?bxe:yxe,n=this._parents,s=this._groups;typeof e!="function"&&(e=xxe(e));for(var i=s.length,o=new Array(i),l=new Array(i),u=new Array(i),d=0;d<i;++d){var f=n[d],m=s[d],h=m.length,x=Sxe(e.call(f,f&&f.__data__,d,n)),v=x.length,N=l[d]=new Array(v),b=o[d]=new Array(v),S=u[d]=new Array(h);r(f,m,N,b,S,x,t);for(var j=0,A=0,_,E;j<v;++j)if(_=N[j]){for(j>=A&&(A=j+1);!(E=b[A])&&++A<v;);_._next=E||null}}return o=new Ns(o,n),o._enter=l,o._exit=u,o}function Sxe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wxe(){return new Ns(this._exit||this._groups.map(bU),this._parents)}function jxe(e,t,r){var n=this.enter(),s=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),r==null?i.remove():r(i),n&&s?n.merge(s).order():s}function Exe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,s=r.length,i=n.length,o=Math.min(s,i),l=new Array(s),u=0;u<o;++u)for(var d=r[u],f=n[u],m=d.length,h=l[u]=new Array(m),x,v=0;v<m;++v)(x=d[v]||f[v])&&(h[v]=x);for(;u<s;++u)l[u]=r[u];return new Ns(l,this._parents)}function _xe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],s=n.length-1,i=n[s],o;--s>=0;)(o=n[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function Axe(e){e||(e=Cxe);function t(m,h){return m&&h?e(m.__data__,h.__data__):!m-!h}for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i){for(var o=r[i],l=o.length,u=s[i]=new Array(l),d,f=0;f<l;++f)(d=o[f])&&(u[f]=d);u.sort(t)}return new Ns(s,this._parents).order()}function Cxe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Txe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kxe(){return Array.from(this)}function Oxe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length;s<i;++s){var o=n[s];if(o)return o}return null}function Rxe(){let e=0;for(const t of this)++e;return e}function Pxe(){return!this.node()}function Dxe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var s=t[r],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function Ixe(e){return function(){this.removeAttribute(e)}}function Mxe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Lxe(e,t){return function(){this.setAttribute(e,t)}}function $xe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Fxe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Bxe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Uxe(e,t){var r=yb(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Mxe:Ixe:typeof t=="function"?r.local?Bxe:Fxe:r.local?$xe:Lxe)(r,t))}function vU(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function zxe(e){return function(){this.style.removeProperty(e)}}function Hxe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function qxe(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Gxe(e,t,r){return arguments.length>1?this.each((t==null?zxe:typeof t=="function"?qxe:Hxe)(e,t,r??"")):mf(this.node(),e)}function mf(e,t){return e.style.getPropertyValue(t)||vU(e).getComputedStyle(e,null).getPropertyValue(t)}function Kxe(e){return function(){delete this[e]}}function Wxe(e,t){return function(){this[e]=t}}function Vxe(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Yxe(e,t){return arguments.length>1?this.each((t==null?Kxe:typeof t=="function"?Vxe:Wxe)(e,t)):this.node()[e]}function NU(e){return e.trim().split(/^|\s+/)}function wT(e){return e.classList||new SU(e)}function SU(e){this._node=e,this._names=NU(e.getAttribute("class")||"")}SU.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wU(e,t){for(var r=wT(e),n=-1,s=t.length;++n<s;)r.add(t[n])}function jU(e,t){for(var r=wT(e),n=-1,s=t.length;++n<s;)r.remove(t[n])}function Xxe(e){return function(){wU(this,e)}}function Qxe(e){return function(){jU(this,e)}}function Zxe(e,t){return function(){(t.apply(this,arguments)?wU:jU)(this,e)}}function Jxe(e,t){var r=NU(e+"");if(arguments.length<2){for(var n=wT(this.node()),s=-1,i=r.length;++s<i;)if(!n.contains(r[s]))return!1;return!0}return this.each((typeof t=="function"?Zxe:t?Xxe:Qxe)(r,t))}function eye(){this.textContent=""}function tye(e){return function(){this.textContent=e}}function rye(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function nye(e){return arguments.length?this.each(e==null?eye:(typeof e=="function"?rye:tye)(e)):this.node().textContent}function aye(){this.innerHTML=""}function sye(e){return function(){this.innerHTML=e}}function iye(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function oye(e){return arguments.length?this.each(e==null?aye:(typeof e=="function"?iye:sye)(e)):this.node().innerHTML}function lye(){this.nextSibling&&this.parentNode.appendChild(this)}function cye(){return this.each(lye)}function uye(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dye(){return this.each(uye)}function fye(e){var t=typeof e=="function"?e:hU(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function pye(){return null}function mye(e,t){var r=typeof e=="function"?e:hU(e),n=t==null?pye:typeof t=="function"?t:ST(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function hye(){var e=this.parentNode;e&&e.removeChild(this)}function gye(){return this.each(hye)}function xye(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yye(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bye(e){return this.select(e?yye:xye)}function vye(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Nye(e){return function(t){e.call(this,t,this.__data__)}}function Sye(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function wye(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,s=t.length,i;r<s;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function jye(e,t,r){return function(){var n=this.__on,s,i=Nye(t);if(n){for(var o=0,l=n.length;o<l;++o)if((s=n[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=t;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(s):this.__on=[s]}}function Eye(e,t,r){var n=Sye(e+""),s,i=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,f;u<d;++u)for(s=0,f=l[u];s<i;++s)if((o=n[s]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?jye:wye,s=0;s<i;++s)this.each(l(n[s],t,r));return this}function EU(e,t,r){var n=vU(e),s=n.CustomEvent;typeof s=="function"?s=new s(t,r):(s=n.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function _ye(e,t){return function(){return EU(this,e,t)}}function Aye(e,t){return function(){return EU(this,e,t.apply(this,arguments))}}function Cye(e,t){return this.each((typeof t=="function"?Aye:_ye)(e,t))}function*Tye(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length,o;s<i;++s)(o=n[s])&&(yield o)}var _U=[null];function Ns(e,t){this._groups=e,this._parents=t}function Ah(){return new Ns([[document.documentElement]],_U)}function kye(){return this}Ns.prototype=Ah.prototype={constructor:Ns,select:rxe,selectAll:ixe,selectChild:uxe,selectChildren:mxe,filter:hxe,data:Nxe,enter:gxe,exit:wxe,join:jxe,merge:Exe,selection:kye,order:_xe,sort:Axe,call:Txe,nodes:kxe,node:Oxe,size:Rxe,empty:Pxe,each:Dxe,attr:Uxe,style:Gxe,property:Yxe,classed:Jxe,text:nye,html:oye,raise:cye,lower:dye,append:fye,insert:mye,remove:gye,clone:bye,datum:vye,on:Eye,dispatch:Cye,[Symbol.iterator]:Tye};function Ko(e){return typeof e=="string"?new Ns([[document.querySelector(e)]],[document.documentElement]):new Ns([[e]],_U)}function Oye(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ql(e,t){if(e=Oye(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const Q_={capture:!0,passive:!1};function Z_(e){e.preventDefault(),e.stopImmediatePropagation()}function Rye(e){var t=e.document.documentElement,r=Ko(e).on("dragstart.drag",Z_,Q_);"onselectstart"in t?r.on("selectstart.drag",Z_,Q_):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Pye(e,t){var r=e.document.documentElement,n=Ko(e).on("dragstart.drag",null);t&&(n.on("click.drag",Z_,Q_),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var hf=0,Vp=0,Cp=0,AU=1e3,Zx,Yp,Jx=0,mu=0,bb=0,rh=typeof performance=="object"&&performance.now?performance:Date,CU=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function jT(){return mu||(CU(Dye),mu=rh.now()+bb)}function Dye(){mu=0}function ey(){this._call=this._time=this._next=null}ey.prototype=TU.prototype={constructor:ey,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?jT():+r)+(t==null?0:+t),!this._next&&Yp!==this&&(Yp?Yp._next=this:Zx=this,Yp=this),this._call=e,this._time=r,J_()},stop:function(){this._call&&(this._call=null,this._time=1/0,J_())}};function TU(e,t,r){var n=new ey;return n.restart(e,t,r),n}function Iye(){jT(),++hf;for(var e=Zx,t;e;)(t=mu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hf}function zL(){mu=(Jx=rh.now())+bb,hf=Vp=0;try{Iye()}finally{hf=0,Lye(),mu=0}}function Mye(){var e=rh.now(),t=e-Jx;t>AU&&(bb-=t,Jx=e)}function Lye(){for(var e,t=Zx,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Zx=r);Yp=e,J_(n)}function J_(e){if(!hf){Vp&&(Vp=clearTimeout(Vp));var t=e-mu;t>24?(e<1/0&&(Vp=setTimeout(zL,e-rh.now()-bb)),Cp&&(Cp=clearInterval(Cp))):(Cp||(Jx=rh.now(),Cp=setInterval(Mye,AU)),hf=1,CU(zL))}}function HL(e,t,r){var n=new ey;return t=t==null?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,r),n}var $ye=NT("start","end","cancel","interrupt"),Fye=[],kU=0,qL=1,eA=2,Eg=3,GL=4,tA=5,_g=6;function vb(e,t,r,n,s,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;Bye(e,r,{name:t,index:n,group:s,on:$ye,tween:Fye,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:kU})}function ET(e,t){var r=Li(e,t);if(r.state>kU)throw new Error("too late; already scheduled");return r}function No(e,t){var r=Li(e,t);if(r.state>Eg)throw new Error("too late; already running");return r}function Li(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Bye(e,t,r){var n=e.__transition,s;n[t]=r,r.timer=TU(i,0,r.time);function i(d){r.state=qL,r.timer.restart(o,r.delay,r.time),r.delay<=d&&o(d-r.delay)}function o(d){var f,m,h,x;if(r.state!==qL)return u();for(f in n)if(x=n[f],x.name===r.name){if(x.state===Eg)return HL(o);x.state===GL?(x.state=_g,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete n[f]):+f<t&&(x.state=_g,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete n[f])}if(HL(function(){r.state===Eg&&(r.state=GL,r.timer.restart(l,r.delay,r.time),l(d))}),r.state=eA,r.on.call("start",e,e.__data__,r.index,r.group),r.state===eA){for(r.state=Eg,s=new Array(h=r.tween.length),f=0,m=-1;f<h;++f)(x=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(s[++m]=x);s.length=m+1}}function l(d){for(var f=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(u),r.state=tA,1),m=-1,h=s.length;++m<h;)s[m].call(e,f);r.state===tA&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=_g,r.timer.stop(),delete n[t];for(var d in n)return;delete e.__transition}}function Ag(e,t){var r=e.__transition,n,s,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}s=n.state>eA&&n.state<tA,n.state=_g,n.timer.stop(),n.on.call(s?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}function Uye(e){return this.each(function(){Ag(this,e)})}function zye(e,t){var r,n;return function(){var s=No(this,e),i=s.tween;if(i!==r){n=r=i;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}s.tween=n}}function Hye(e,t,r){var n,s;if(typeof r!="function")throw new Error;return function(){var i=No(this,e),o=i.tween;if(o!==n){s=(n=o).slice();for(var l={name:t,value:r},u=0,d=s.length;u<d;++u)if(s[u].name===t){s[u]=l;break}u===d&&s.push(l)}i.tween=s}}function qye(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Li(this.node(),r).tween,s=0,i=n.length,o;s<i;++s)if((o=n[s]).name===e)return o.value;return null}return this.each((t==null?zye:Hye)(r,e,t))}function _T(e,t,r){var n=e._id;return e.each(function(){var s=No(this,n);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return Li(s,n).value[t]}}function OU(e,t){var r;return(typeof t=="number"?vi:t instanceof uu?ox:(r=uu(t))?(t=r,ox):GF)(e,t)}function Gye(e){return function(){this.removeAttribute(e)}}function Kye(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wye(e,t,r){var n,s=r+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===n?i:i=t(n=o,r)}}function Vye(e,t,r){var n,s=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===n?i:i=t(n=o,r)}}function Yye(e,t,r){var n,s,i;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===n&&u===s?i:(s=u,i=t(n=o,l)))}}function Xye(e,t,r){var n,s,i;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===n&&u===s?i:(s=u,i=t(n=o,l)))}}function Qye(e,t){var r=yb(e),n=r==="transform"?Uae:OU;return this.attrTween(e,typeof t=="function"?(r.local?Xye:Yye)(r,n,_T(this,"attr."+e,t)):t==null?(r.local?Kye:Gye)(r):(r.local?Vye:Wye)(r,n,t))}function Zye(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Jye(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function ebe(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Jye(e,i)),r}return s._value=t,s}function tbe(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Zye(e,i)),r}return s._value=t,s}function rbe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=yb(e);return this.tween(r,(n.local?ebe:tbe)(n,t))}function nbe(e,t){return function(){ET(this,e).delay=+t.apply(this,arguments)}}function abe(e,t){return t=+t,function(){ET(this,e).delay=t}}function sbe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nbe:abe)(t,e)):Li(this.node(),t).delay}function ibe(e,t){return function(){No(this,e).duration=+t.apply(this,arguments)}}function obe(e,t){return t=+t,function(){No(this,e).duration=t}}function lbe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ibe:obe)(t,e)):Li(this.node(),t).duration}function cbe(e,t){if(typeof t!="function")throw new Error;return function(){No(this,e).ease=t}}function ube(e){var t=this._id;return arguments.length?this.each(cbe(t,e)):Li(this.node(),t).ease}function dbe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;No(this,e).ease=r}}function fbe(e){if(typeof e!="function")throw new Error;return this.each(dbe(this._id,e))}function pbe(e){typeof e!="function"&&(e=xU(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=n[s]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new cl(n,this._parents,this._name,this._id)}function mbe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,s=r.length,i=Math.min(n,s),o=new Array(n),l=0;l<i;++l)for(var u=t[l],d=r[l],f=u.length,m=o[l]=new Array(f),h,x=0;x<f;++x)(h=u[x]||d[x])&&(m[x]=h);for(;l<n;++l)o[l]=t[l];return new cl(o,this._parents,this._name,this._id)}function hbe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function gbe(e,t,r){var n,s,i=hbe(t)?ET:No;return function(){var o=i(this,e),l=o.on;l!==n&&(s=(n=l).copy()).on(t,r),o.on=s}}function xbe(e,t){var r=this._id;return arguments.length<2?Li(this.node(),r).on.on(e):this.each(gbe(r,e,t))}function ybe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function bbe(){return this.on("end.remove",ybe(this._id))}function vbe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ST(e));for(var n=this._groups,s=n.length,i=new Array(s),o=0;o<s;++o)for(var l=n[o],u=l.length,d=i[o]=new Array(u),f,m,h=0;h<u;++h)(f=l[h])&&(m=e.call(f,f.__data__,h,l))&&("__data__"in f&&(m.__data__=f.__data__),d[h]=m,vb(d[h],t,r,h,d,Li(f,r)));return new cl(i,this._parents,t,r)}function Nbe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=gU(e));for(var n=this._groups,s=n.length,i=[],o=[],l=0;l<s;++l)for(var u=n[l],d=u.length,f,m=0;m<d;++m)if(f=u[m]){for(var h=e.call(f,f.__data__,m,u),x,v=Li(f,r),N=0,b=h.length;N<b;++N)(x=h[N])&&vb(x,t,r,N,h,v);i.push(h),o.push(f)}return new cl(i,o,t,r)}var Sbe=Ah.prototype.constructor;function wbe(){return new Sbe(this._groups,this._parents)}function jbe(e,t){var r,n,s;return function(){var i=mf(this,e),o=(this.style.removeProperty(e),mf(this,e));return i===o?null:i===r&&o===n?s:s=t(r=i,n=o)}}function RU(e){return function(){this.style.removeProperty(e)}}function Ebe(e,t,r){var n,s=r+"",i;return function(){var o=mf(this,e);return o===s?null:o===n?i:i=t(n=o,r)}}function _be(e,t,r){var n,s,i;return function(){var o=mf(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),mf(this,e))),o===u?null:o===n&&u===s?i:(s=u,i=t(n=o,l))}}function Abe(e,t){var r,n,s,i="style."+t,o="end."+i,l;return function(){var u=No(this,e),d=u.on,f=u.value[i]==null?l||(l=RU(t)):void 0;(d!==r||s!==f)&&(n=(r=d).copy()).on(o,s=f),u.on=n}}function Cbe(e,t,r){var n=(e+="")=="transform"?Bae:OU;return t==null?this.styleTween(e,jbe(e,n)).on("end.style."+e,RU(e)):typeof t=="function"?this.styleTween(e,_be(e,n,_T(this,"style."+e,t))).each(Abe(this._id,e)):this.styleTween(e,Ebe(e,n,t),r).on("end.style."+e,null)}function Tbe(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function kbe(e,t,r){var n,s;function i(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&Tbe(e,o,r)),n}return i._value=t,i}function Obe(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,kbe(e,t,r??""))}function Rbe(e){return function(){this.textContent=e}}function Pbe(e){return function(){var t=e(this);this.textContent=t??""}}function Dbe(e){return this.tween("text",typeof e=="function"?Pbe(_T(this,"text",e)):Rbe(e==null?"":e+""))}function Ibe(e){return function(t){this.textContent=e.call(this,t)}}function Mbe(e){var t,r;function n(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&Ibe(s)),t}return n._value=e,n}function Lbe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Mbe(e))}function $be(){for(var e=this._name,t=this._id,r=PU(),n=this._groups,s=n.length,i=0;i<s;++i)for(var o=n[i],l=o.length,u,d=0;d<l;++d)if(u=o[d]){var f=Li(u,t);vb(u,e,r,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new cl(n,this._parents,e,r)}function Fbe(){var e,t,r=this,n=r._id,s=r.size();return new Promise(function(i,o){var l={value:o},u={value:function(){--s===0&&i()}};r.each(function(){var d=No(this,n),f=d.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),d.on=t}),s===0&&i()})}var Bbe=0;function cl(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function PU(){return++Bbe}var zo=Ah.prototype;cl.prototype={constructor:cl,select:vbe,selectAll:Nbe,selectChild:zo.selectChild,selectChildren:zo.selectChildren,filter:pbe,merge:mbe,selection:wbe,transition:$be,call:zo.call,nodes:zo.nodes,node:zo.node,size:zo.size,empty:zo.empty,each:zo.each,on:xbe,attr:Qye,attrTween:rbe,style:Cbe,styleTween:Obe,text:Dbe,textTween:Lbe,remove:bbe,tween:qye,delay:sbe,duration:lbe,ease:ube,easeVarying:fbe,end:Fbe,[Symbol.iterator]:zo[Symbol.iterator]};function Ube(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zbe={time:null,delay:0,duration:250,ease:Ube};function Hbe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function qbe(e){var t,r;e instanceof cl?(t=e._id,e=e._name):(t=PU(),(r=zbe).time=jT(),e=e==null?null:e+"");for(var n=this._groups,s=n.length,i=0;i<s;++i)for(var o=n[i],l=o.length,u,d=0;d<l;++d)(u=o[d])&&vb(u,e,t,d,o,r||Hbe(u,t));return new cl(n,this._parents,e,t)}Ah.prototype.interrupt=Uye;Ah.prototype.transition=qbe;var Ed=1e-6,AT=Math.PI,Gbe=AT*2,Kbe=180/AT,Wbe=AT/180,_d=Math.abs,Vbe=Math.cos,Ybe=Math.sin,CT=Math.sqrt;function Gs(){}function ty(e,t){e&&WL.hasOwnProperty(e.type)&&WL[e.type](e,t)}var KL={Feature:function(e,t){ty(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,s=r.length;++n<s;)ty(r[n].geometry,t)}},WL={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){rA(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)rA(r[n],t,0)},Polygon:function(e,t){VL(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)VL(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,s=r.length;++n<s;)ty(r[n],t)}};function rA(e,t,r){var n=-1,s=e.length-r,i;for(t.lineStart();++n<s;)i=e[n],t.point(i[0],i[1],i[2]);t.lineEnd()}function VL(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)rA(e[r],t,1);t.polygonEnd()}function od(e,t){e&&KL.hasOwnProperty(e.type)?KL[e.type](e,t):ty(e,t)}function Xbe(){var e=[],t;return{point:function(r,n,s){t.push([r,n,s])},lineStart:function(){e.push(t=[])},lineEnd:Gs,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function Qbe(e,t){return _d(e[0]-t[0])<Ed&&_d(e[1]-t[1])<Ed}function J0(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Zbe(e,t,r,n,s){var i=[],o=[],l,u;if(e.forEach(function(v){if(!((N=v.length-1)<=0)){var N,b=v[0],S=v[N],j;if(Qbe(b,S)){if(!b[2]&&!S[2]){for(s.lineStart(),l=0;l<N;++l)s.point((b=v[l])[0],b[1]);s.lineEnd();return}S[0]+=2*Ed}i.push(j=new J0(b,v,null,!0)),o.push(j.o=new J0(b,null,j,!1)),i.push(j=new J0(S,v,null,!1)),o.push(j.o=new J0(S,null,j,!0))}}),!!i.length){for(o.sort(t),YL(i),YL(o),l=0,u=o.length;l<u;++l)o[l].e=r=!r;for(var d=i[0],f,m;;){for(var h=d,x=!0;h.v;)if((h=h.n)===d)return;f=h.z,s.lineStart();do{if(h.v=h.o.v=!0,h.e){if(x)for(l=0,u=f.length;l<u;++l)s.point((m=f[l])[0],m[1]);else n(h.x,h.n.x,1,s);h=h.n}else{if(x)for(f=h.p.z,l=f.length-1;l>=0;--l)s.point((m=f[l])[0],m[1]);else n(h.x,h.p.x,-1,s);h=h.p}h=h.o,f=h.z,x=!x}while(!h.v);s.lineEnd()}}}function YL(e){if(t=e.length){for(var t,r=0,n=e[0],s;++r<t;)n.n=s=e[r],s.p=n,n=s;n.n=s=e[0],s.p=n}}function Jbe(e,t,r,n,s,i){var o=e[0],l=e[1],u=t[0],d=t[1],f=0,m=1,h=u-o,x=d-l,v;if(v=r-o,!(!h&&v>0)){if(v/=h,h<0){if(v<f)return;v<m&&(m=v)}else if(h>0){if(v>m)return;v>f&&(f=v)}if(v=s-o,!(!h&&v<0)){if(v/=h,h<0){if(v>m)return;v>f&&(f=v)}else if(h>0){if(v<f)return;v<m&&(m=v)}if(v=n-l,!(!x&&v>0)){if(v/=x,x<0){if(v<f)return;v<m&&(m=v)}else if(x>0){if(v>m)return;v>f&&(f=v)}if(v=i-l,!(!x&&v<0)){if(v/=x,x<0){if(v>m)return;v>f&&(f=v)}else if(x>0){if(v<f)return;v<m&&(m=v)}return f>0&&(e[0]=o+f*h,e[1]=l+f*x),m<1&&(t[0]=o+m*h,t[1]=l+m*x),!0}}}}}var Xp=1e9,eg=-Xp;function eve(e,t,r,n){function s(d,f){return e<=d&&d<=r&&t<=f&&f<=n}function i(d,f,m,h){var x=0,v=0;if(d==null||(x=o(d,m))!==(v=o(f,m))||u(d,f)<0^m>0)do h.point(x===0||x===3?e:r,x>1?n:t);while((x=(x+m+4)%4)!==v);else h.point(f[0],f[1])}function o(d,f){return _d(d[0]-e)<Ed?f>0?0:3:_d(d[0]-r)<Ed?f>0?2:1:_d(d[1]-t)<Ed?f>0?1:0:f>0?3:2}function l(d,f){return u(d.x,f.x)}function u(d,f){var m=o(d,1),h=o(f,1);return m!==h?m-h:m===0?f[1]-d[1]:m===1?d[0]-f[0]:m===2?d[1]-f[1]:f[0]-d[0]}return function(d){var f=d,m=Xbe(),h,x,v,N,b,S,j,A,_,E,C,R={point:I,lineStart:F,lineEnd:Y,polygonStart:B,polygonEnd:q};function I(G,U){s(G,U)&&f.point(G,U)}function O(){for(var G=0,U=0,V=x.length;U<V;++U)for(var M=x[U],Q=1,J=M.length,P=M[0],K,Z,se=P[0],ie=P[1];Q<J;++Q)K=se,Z=ie,P=M[Q],se=P[0],ie=P[1],Z<=n?ie>n&&(se-K)*(n-Z)>(ie-Z)*(e-K)&&++G:ie<=n&&(se-K)*(n-Z)<(ie-Z)*(e-K)&&--G;return G}function B(){f=m,h=[],x=[],C=!0}function q(){var G=O(),U=C&&G,V=(h=uae(h)).length;(U||V)&&(d.polygonStart(),U&&(d.lineStart(),i(null,null,1,d),d.lineEnd()),V&&Zbe(h,l,G,i,d),d.polygonEnd()),f=d,h=x=v=null}function F(){R.point=D,x&&x.push(v=[]),E=!0,_=!1,j=A=NaN}function Y(){h&&(D(N,b),S&&_&&m.rejoin(),h.push(m.result())),R.point=I,_&&f.lineEnd()}function D(G,U){var V=s(G,U);if(x&&v.push([G,U]),E)N=G,b=U,S=V,E=!1,V&&(f.lineStart(),f.point(G,U));else if(V&&_)f.point(G,U);else{var M=[j=Math.max(eg,Math.min(Xp,j)),A=Math.max(eg,Math.min(Xp,A))],Q=[G=Math.max(eg,Math.min(Xp,G)),U=Math.max(eg,Math.min(Xp,U))];Jbe(M,Q,e,t,r,n)?(_||(f.lineStart(),f.point(M[0],M[1])),f.point(Q[0],Q[1]),V||f.lineEnd(),C=!1):V&&(f.lineStart(),f.point(G,U),C=!1)}j=G,A=U,_=V}return R}}const nA=e=>e;var cj=new Ud,aA=new Ud,DU,IU,sA,iA,Wo={point:Gs,lineStart:Gs,lineEnd:Gs,polygonStart:function(){Wo.lineStart=tve,Wo.lineEnd=nve},polygonEnd:function(){Wo.lineStart=Wo.lineEnd=Wo.point=Gs,cj.add(_d(aA)),aA=new Ud},result:function(){var e=cj/2;return cj=new Ud,e}};function tve(){Wo.point=rve}function rve(e,t){Wo.point=MU,DU=sA=e,IU=iA=t}function MU(e,t){aA.add(iA*e-sA*t),sA=e,iA=t}function nve(){MU(DU,IU)}var gf=1/0,ry=gf,nh=-gf,ny=nh,ay={point:ave,lineStart:Gs,lineEnd:Gs,polygonStart:Gs,polygonEnd:Gs,result:function(){var e=[[gf,ry],[nh,ny]];return nh=ny=-(ry=gf=1/0),e}};function ave(e,t){e<gf&&(gf=e),e>nh&&(nh=e),t<ry&&(ry=t),t>ny&&(ny=t)}var oA=0,lA=0,Qp=0,sy=0,iy=0,md=0,cA=0,uA=0,Zp=0,LU,$U,to,ro,Us={point:hu,lineStart:XL,lineEnd:QL,polygonStart:function(){Us.lineStart=ove,Us.lineEnd=lve},polygonEnd:function(){Us.point=hu,Us.lineStart=XL,Us.lineEnd=QL},result:function(){var e=Zp?[cA/Zp,uA/Zp]:md?[sy/md,iy/md]:Qp?[oA/Qp,lA/Qp]:[NaN,NaN];return oA=lA=Qp=sy=iy=md=cA=uA=Zp=0,e}};function hu(e,t){oA+=e,lA+=t,++Qp}function XL(){Us.point=sve}function sve(e,t){Us.point=ive,hu(to=e,ro=t)}function ive(e,t){var r=e-to,n=t-ro,s=CT(r*r+n*n);sy+=s*(to+e)/2,iy+=s*(ro+t)/2,md+=s,hu(to=e,ro=t)}function QL(){Us.point=hu}function ove(){Us.point=cve}function lve(){FU(LU,$U)}function cve(e,t){Us.point=FU,hu(LU=to=e,$U=ro=t)}function FU(e,t){var r=e-to,n=t-ro,s=CT(r*r+n*n);sy+=s*(to+e)/2,iy+=s*(ro+t)/2,md+=s,s=ro*e-to*t,cA+=s*(to+e),uA+=s*(ro+t),Zp+=s*3,hu(to=e,ro=t)}function BU(e){this._context=e}BU.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Gbe);break}}},result:Gs};var dA=new Ud,uj,UU,zU,Jp,em,ah={point:Gs,lineStart:function(){ah.point=uve},lineEnd:function(){uj&&HU(UU,zU),ah.point=Gs},polygonStart:function(){uj=!0},polygonEnd:function(){uj=null},result:function(){var e=+dA;return dA=new Ud,e}};function uve(e,t){ah.point=HU,UU=Jp=e,zU=em=t}function HU(e,t){Jp-=e,em-=t,dA.add(CT(Jp*Jp+em*em)),Jp=e,em=t}let ZL,oy,JL,e$;class t${constructor(t){this._append=t==null?qU:dve(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==JL||this._append!==oy){const n=this._radius,s=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,JL=n,oy=this._append,e$=this._,this._=s}this._+=e$;break}}}result(){const t=this._;return this._="",t.length?t:null}}function qU(e){let t=1;this._+=e[0];for(const r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function dve(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return qU;if(t!==ZL){const r=10**t;ZL=t,oy=function(s){let i=1;this._+=s[0];for(const o=s.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+s[i]}}return oy}function fve(e,t){let r=3,n=4.5,s,i;function o(l){return l&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),od(l,s(i))),i.result()}return o.area=function(l){return od(l,s(Wo)),Wo.result()},o.measure=function(l){return od(l,s(ah)),ah.result()},o.bounds=function(l){return od(l,s(ay)),ay.result()},o.centroid=function(l){return od(l,s(Us)),Us.result()},o.projection=function(l){return arguments.length?(s=l==null?(e=null,nA):(e=l).stream,o):e},o.context=function(l){return arguments.length?(i=l==null?(t=null,new t$(r)):new BU(t=l),typeof n!="function"&&i.pointRadius(n),o):t},o.pointRadius=function(l){return arguments.length?(n=typeof l=="function"?l:(i.pointRadius(+l),+l),o):n},o.digits=function(l){if(!arguments.length)return r;if(l==null)r=null;else{const u=Math.floor(l);if(!(u>=0))throw new RangeError(`invalid digits: ${l}`);r=u}return t===null&&(i=new t$(r)),o},o.projection(e).digits(r).context(t)}function pve(e){return function(t){var r=new fA;for(var n in e)r[n]=e[n];return r.stream=t,r}}function fA(){}fA.prototype={constructor:fA,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function TT(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),od(r,e.stream(ay)),t(ay.result()),n!=null&&e.clipExtent(n),e}function GU(e,t,r){return TT(e,function(n){var s=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(s/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),l=+t[0][0]+(s-o*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([l,u])},r)}function mve(e,t,r){return GU(e,[[0,0],t],r)}function hve(e,t,r){return TT(e,function(n){var s=+t,i=s/(n[1][0]-n[0][0]),o=(s-i*(n[1][0]+n[0][0]))/2,l=-i*n[0][1];e.scale(150*i).translate([o,l])},r)}function gve(e,t,r){return TT(e,function(n){var s=+t,i=s/(n[1][1]-n[0][1]),o=-i*n[0][0],l=(s-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,l])},r)}function xve(){var e=1,t=0,r=0,n=1,s=1,i=0,o,l,u=null,d,f,m,h=1,x=1,v=pve({point:function(_,E){var C=A([_,E]);this.stream.point(C[0],C[1])}}),N=nA,b,S;function j(){return h=e*n,x=e*s,b=S=null,A}function A(_){var E=_[0]*h,C=_[1]*x;if(i){var R=C*o-E*l;E=E*o+C*l,C=R}return[E+t,C+r]}return A.invert=function(_){var E=_[0]-t,C=_[1]-r;if(i){var R=C*o+E*l;E=E*o-C*l,C=R}return[E/h,C/x]},A.stream=function(_){return b&&S===_?b:b=v(N(S=_))},A.postclip=function(_){return arguments.length?(N=_,u=d=f=m=null,j()):N},A.clipExtent=function(_){return arguments.length?(N=_==null?(u=d=f=m=null,nA):eve(u=+_[0][0],d=+_[0][1],f=+_[1][0],m=+_[1][1]),j()):u==null?null:[[u,d],[f,m]]},A.scale=function(_){return arguments.length?(e=+_,j()):e},A.translate=function(_){return arguments.length?(t=+_[0],r=+_[1],j()):[t,r]},A.angle=function(_){return arguments.length?(i=_%360*Wbe,l=Ybe(i),o=Vbe(i),j()):i*Kbe},A.reflectX=function(_){return arguments.length?(n=_?-1:1,j()):n<0},A.reflectY=function(_){return arguments.length?(s=_?-1:1,j()):s<0},A.fitExtent=function(_,E){return GU(A,_,E)},A.fitSize=function(_,E){return mve(A,_,E)},A.fitWidth=function(_,E){return hve(A,_,E)},A.fitHeight=function(_,E){return gve(A,_,E)},A}function yve(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const bve=e=>kae(e[e.length-1]);var vve=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(yve);const Nve=bve(vve),tg=e=>()=>e;function Sve(e,{sourceEvent:t,target:r,transform:n,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function Zo(e,t,r){this.k=e,this.x=t,this.y=r}Zo.prototype={constructor:Zo,scale:function(e){return e===1?this:new Zo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Zo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ly=new Zo(1,0,0);Zo.prototype;function dj(e){e.stopImmediatePropagation()}function Tp(e){e.preventDefault(),e.stopImmediatePropagation()}function wve(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function jve(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function r$(){return this.__zoom||ly}function Eve(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _ve(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ave(e,t,r){var n=e.invertX(t[0][0])-r[0][0],s=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(s>n?(n+s)/2:Math.min(0,n)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Cve(){var e=wve,t=jve,r=Ave,n=Eve,s=_ve,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=Gae,d=NT("start","zoom","end"),f,m,h,x=500,v=150,N=0,b=10;function S(D){D.property("__zoom",r$).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",B).filter(s).on("touchstart.zoom",q).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(D,G,U,V){var M=D.selection?D.selection():D;M.property("__zoom",r$),D!==M?E(D,G,U,V):M.interrupt().each(function(){C(this,arguments).event(V).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},S.scaleBy=function(D,G,U,V){S.scaleTo(D,function(){var M=this.__zoom.k,Q=typeof G=="function"?G.apply(this,arguments):G;return M*Q},U,V)},S.scaleTo=function(D,G,U,V){S.transform(D,function(){var M=t.apply(this,arguments),Q=this.__zoom,J=U==null?_(M):typeof U=="function"?U.apply(this,arguments):U,P=Q.invert(J),K=typeof G=="function"?G.apply(this,arguments):G;return r(A(j(Q,K),J,P),M,o)},U,V)},S.translateBy=function(D,G,U,V){S.transform(D,function(){return r(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof U=="function"?U.apply(this,arguments):U),t.apply(this,arguments),o)},null,V)},S.translateTo=function(D,G,U,V,M){S.transform(D,function(){var Q=t.apply(this,arguments),J=this.__zoom,P=V==null?_(Q):typeof V=="function"?V.apply(this,arguments):V;return r(ly.translate(P[0],P[1]).scale(J.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof U=="function"?-U.apply(this,arguments):-U),Q,o)},V,M)};function j(D,G){return G=Math.max(i[0],Math.min(i[1],G)),G===D.k?D:new Zo(G,D.x,D.y)}function A(D,G,U){var V=G[0]-U[0]*D.k,M=G[1]-U[1]*D.k;return V===D.x&&M===D.y?D:new Zo(D.k,V,M)}function _(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function E(D,G,U,V){D.on("start.zoom",function(){C(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(V).end()}).tween("zoom",function(){var M=this,Q=arguments,J=C(M,Q).event(V),P=t.apply(M,Q),K=U==null?_(P):typeof U=="function"?U.apply(M,Q):U,Z=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),se=M.__zoom,ie=typeof G=="function"?G.apply(M,Q):G,Se=u(se.invert(K).concat(Z/se.k),ie.invert(K).concat(Z/ie.k));return function(oe){if(oe===1)oe=ie;else{var je=Se(oe),pe=Z/je[2];oe=new Zo(pe,K[0]-je[0]*pe,K[1]-je[1]*pe)}J.zoom(null,oe)}})}function C(D,G,U){return!U&&D.__zooming||new R(D,G)}function R(D,G){this.that=D,this.args=G,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,G),this.taps=0}R.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,G){return this.mouse&&D!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var G=Ko(this.that).datum();d.call(D,this.that,new Sve(D,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:d}),G)}};function I(D,...G){if(!e.apply(this,arguments))return;var U=C(this,G).event(D),V=this.__zoom,M=Math.max(i[0],Math.min(i[1],V.k*Math.pow(2,n.apply(this,arguments)))),Q=ql(D);if(U.wheel)(U.mouse[0][0]!==Q[0]||U.mouse[0][1]!==Q[1])&&(U.mouse[1]=V.invert(U.mouse[0]=Q)),clearTimeout(U.wheel);else{if(V.k===M)return;U.mouse=[Q,V.invert(Q)],Ag(this),U.start()}Tp(D),U.wheel=setTimeout(J,v),U.zoom("mouse",r(A(j(V,M),U.mouse[0],U.mouse[1]),U.extent,o));function J(){U.wheel=null,U.end()}}function O(D,...G){if(h||!e.apply(this,arguments))return;var U=D.currentTarget,V=C(this,G,!0).event(D),M=Ko(D.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",Z,!0),Q=ql(D,U),J=D.clientX,P=D.clientY;Rye(D.view),dj(D),V.mouse=[Q,this.__zoom.invert(Q)],Ag(this),V.start();function K(se){if(Tp(se),!V.moved){var ie=se.clientX-J,Se=se.clientY-P;V.moved=ie*ie+Se*Se>N}V.event(se).zoom("mouse",r(A(V.that.__zoom,V.mouse[0]=ql(se,U),V.mouse[1]),V.extent,o))}function Z(se){M.on("mousemove.zoom mouseup.zoom",null),Pye(se.view,V.moved),Tp(se),V.event(se).end()}}function B(D,...G){if(e.apply(this,arguments)){var U=this.__zoom,V=ql(D.changedTouches?D.changedTouches[0]:D,this),M=U.invert(V),Q=U.k*(D.shiftKey?.5:2),J=r(A(j(U,Q),V,M),t.apply(this,G),o);Tp(D),l>0?Ko(this).transition().duration(l).call(E,J,V,D):Ko(this).call(S.transform,J,V,D)}}function q(D,...G){if(e.apply(this,arguments)){var U=D.touches,V=U.length,M=C(this,G,D.changedTouches.length===V).event(D),Q,J,P,K;for(dj(D),J=0;J<V;++J)P=U[J],K=ql(P,this),K=[K,this.__zoom.invert(K),P.identifier],M.touch0?!M.touch1&&M.touch0[2]!==K[2]&&(M.touch1=K,M.taps=0):(M.touch0=K,Q=!0,M.taps=1+!!f);f&&(f=clearTimeout(f)),Q&&(M.taps<2&&(m=K[0],f=setTimeout(function(){f=null},x)),Ag(this),M.start())}}function F(D,...G){if(this.__zooming){var U=C(this,G).event(D),V=D.changedTouches,M=V.length,Q,J,P,K;for(Tp(D),Q=0;Q<M;++Q)J=V[Q],P=ql(J,this),U.touch0&&U.touch0[2]===J.identifier?U.touch0[0]=P:U.touch1&&U.touch1[2]===J.identifier&&(U.touch1[0]=P);if(J=U.that.__zoom,U.touch1){var Z=U.touch0[0],se=U.touch0[1],ie=U.touch1[0],Se=U.touch1[1],oe=(oe=ie[0]-Z[0])*oe+(oe=ie[1]-Z[1])*oe,je=(je=Se[0]-se[0])*je+(je=Se[1]-se[1])*je;J=j(J,Math.sqrt(oe/je)),P=[(Z[0]+ie[0])/2,(Z[1]+ie[1])/2],K=[(se[0]+Se[0])/2,(se[1]+Se[1])/2]}else if(U.touch0)P=U.touch0[0],K=U.touch0[1];else return;U.zoom("touch",r(A(J,P,K),U.extent,o))}}function Y(D,...G){if(this.__zooming){var U=C(this,G).event(D),V=D.changedTouches,M=V.length,Q,J;for(dj(D),h&&clearTimeout(h),h=setTimeout(function(){h=null},x),Q=0;Q<M;++Q)J=V[Q],U.touch0&&U.touch0[2]===J.identifier?delete U.touch0:U.touch1&&U.touch1[2]===J.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(J=ql(J,this),Math.hypot(m[0]-J[0],m[1]-J[1])<b)){var P=Ko(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return S.wheelDelta=function(D){return arguments.length?(n=typeof D=="function"?D:tg(+D),S):n},S.filter=function(D){return arguments.length?(e=typeof D=="function"?D:tg(!!D),S):e},S.touchable=function(D){return arguments.length?(s=typeof D=="function"?D:tg(!!D),S):s},S.extent=function(D){return arguments.length?(t=typeof D=="function"?D:tg([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),S):t},S.scaleExtent=function(D){return arguments.length?(i[0]=+D[0],i[1]=+D[1],S):[i[0],i[1]]},S.translateExtent=function(D){return arguments.length?(o[0][0]=+D[0][0],o[1][0]=+D[1][0],o[0][1]=+D[0][1],o[1][1]=+D[1][1],S):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},S.constrain=function(D){return arguments.length?(r=D,S):r},S.duration=function(D){return arguments.length?(l=+D,S):l},S.interpolate=function(D){return arguments.length?(u=D,S):u},S.on=function(){var D=d.on.apply(d,arguments);return D===d?S:D},S.clickDistance=function(D){return arguments.length?(N=(D=+D)*D,S):Math.sqrt(N)},S.tapDistance=function(D){return arguments.length?(b=+D,S):b},S}function Tve(){const e=y.useRef(null),[t,r]=y.useState({width:0,height:0});return y.useEffect(()=>{if(!e.current)return;const n=e.current,s=n.getBoundingClientRect();s.width>0&&s.height>0&&r({width:s.width,height:s.height});const i=new ResizeObserver(o=>{const l=o[0];if(!l)return;const{width:u,height:d}=l.contentRect;r({width:u,height:d})});return i.observe(n),()=>i.disconnect()},[]),{ref:e,width:t.width,height:t.height}}const Ra=e=>`${e.level}:${e.code}`,xn=e=>String(e??"").trim(),n$=e=>e==="ctprvn"?"REGION":e==="sig"?"SIGUNGU":"EUPMYEONDONG",Vi=e=>{if(!e)return null;const t=e.split(":");return t.length>=2?t.slice(1).join(":").trim()||null:xn(e)||null},rg=50;function fj(e){return xn(e?.properties?.code??e?.properties?.adm_cd??e?.properties?.ADM_CD??e?.properties?.sggnm_cd??e?.properties?.SGGNM_CD??e?.properties?.sigungu_cd??e?.properties?.SIGUNGU_CD??e?.properties?.emd_cd??e?.properties?.EMD_CD??e?.properties?.CTPRVN_CD??e?.properties?.SIG_CD??e?.properties?.EMD_CD??"")}function a$(e){return String(e?.properties?.name??e?.properties?.CTP_KOR_NM??e?.properties?.SIG_KOR_NM??e?.properties?.EMD_KOR_NM??"-")}function kve({level:e,features:t,stats:r,onSelect:n,indicatorLabel:s="",unit:i="",year:o,valueFormatter:l,colorPalette:u,getTooltipExtraLines:d}){const{ref:f,width:m,height:h}=Tve(),[x,v]=y.useState(null),[N,b]=y.useState(null),S=y.useRef(null),j=y.useRef(null),A=y.useRef(null),[_,E]=y.useState(ly),C=12,R=8,I=260,O=140,B=y.useMemo(()=>new Map(r.map(M=>[M.code,M.value])),[r]),q=y.useMemo(()=>({type:"FeatureCollection",features:t}),[t]),F=y.useMemo(()=>{const M=r.map(K=>K.value),Q=M.length?Math.min(...M):0,J=M.length?Math.max(...M):100,P=Q===J?[Q-1,J+1]:[Q,J];return u&&u.length>0?WC().domain(P).range(u):rT(K=>Nve(.15+.85*K)).domain(P)},[r,u]),Y=y.useMemo(()=>m<rg||h<rg||!t.length?null:xve().reflectY(!0).fitSize([m,h],q),[m,h,q,t.length]),D=y.useMemo(()=>Y?fve(Y):null,[Y]),G=y.useMemo(()=>D?t.map(M=>{const Q=fj(M),J=a$(M),[P,K]=D.centroid(M);return{code:Q,name:J,x:P,y:K}}):[],[t,D]),U=M=>{j.current&&Ko(j.current).attr("transform",M.toString()),E(M)};y.useEffect(()=>{if(!S.current)return;const M=Cve().scaleExtent([1,5]).on("zoom",J=>{U(J.transform)});Ko(S.current).call(M),A.current=M},[m,h]);const V=M=>{const Q=fj(M);Q&&(e==="ctprvn"?n("sig",Q):e==="sig"&&n("emd",Q))};return a.jsxs("div",{ref:f,className:"relative w-full h-full",children:[m<rg||h<rg||!D?a.jsx("div",{className:"p-3 text-sm text-gray-500",children:t.length===0?"  .":"    ."}):a.jsxs("svg",{ref:S,width:m,height:h,className:"block",style:{touchAction:"none",cursor:"grab"},onWheel:M=>{M.preventDefault();const Q=M.deltaY>0?.9:1.1,J=Math.max(1,Math.min(5,_.k*Q)),P=ql(M,S.current),K=P[0]-(P[0]-_.x)/_.k*J,Z=P[1]-(P[1]-_.y)/_.k*J;U(ly.translate(K,Z).scale(J))},children:[a.jsx("rect",{width:m,height:h,fill:"transparent",style:{pointerEvents:"all"}}),a.jsxs("g",{ref:j,transform:`translate(${_.x}, ${_.y}) scale(${_.k})`,children:[t.map(M=>{const Q=fj(M),J=B.get(Q)??0,P=F(J),K=D(M)||void 0,Z=N===Q;return a.jsx("path",{d:K,fill:P,stroke:Z?"#0b1020":"#111827",strokeWidth:Z?2.2:.9,fillOpacity:N&&!Z?.65:.95,style:{cursor:e==="emd"?"default":"pointer",...Z?{filter:"drop-shadow(0 3px 6px rgba(15, 23, 42, 0.35))"}:{}},onMouseMove:se=>{const ie=f.current?.getBoundingClientRect();if(!ie)return;const Se=se.clientX-ie.left+C,oe=se.clientY-ie.top+C,je=Math.min(Math.max(R,Se),Math.max(R,m-I-R)),pe=Math.min(Math.max(R,oe),Math.max(R,h-O-R));v({x:je,y:pe,name:a$(M),value:J,code:Q}),b(Q)},onMouseLeave:()=>{v(null),b(null)},onClick:()=>V(M)},Q)}),G.map(M=>a.jsx("text",{x:M.x,y:M.y,fontSize:e==="ctprvn"?12:10,fill:"#1e3a8a",textAnchor:"middle",pointerEvents:"none",style:{paintOrder:"stroke",stroke:"#fff",strokeWidth:3},children:M.name},`label-${M.code}`))]})]}),x&&a.jsxs("div",{className:"pointer-events-none absolute z-[80] max-w-[260px] rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-900 shadow-2xl",style:{left:x.x,top:x.y},children:[a.jsx("div",{className:"text-sm font-semibold mb-1",children:x.name}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-[11px] text-slate-500",children:s}),a.jsxs("span",{className:"text-base font-bold",children:[l?l(x.value):x.value,!l&&i?a.jsxs("span",{className:"text-xs ml-1",children:["(",i,")"]}):null]})]}),typeof o=="number"&&a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:[": ",o,""]}),d?.({level:e,code:x.code,name:x.name,value:x.value}).slice(0,3).map((M,Q)=>a.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:M},Q))]})]})}const s$=[{id:"total_cases",label:"  ",unit:"",scale:[120,2200]},{id:"completion",label:" ",unit:"%",scale:[60,98]},{id:"referral",label:"SLA ",unit:"%",scale:[85,99]},{id:"consultation_time",label:"SLA ",unit:"%",scale:[1,15]},{id:"wait_time",label:" ",unit:"",scale:[6,40]},{id:"recontact",label:" ",unit:"%",scale:[80,99]},{id:"followup_dropout",label:" ",unit:"%",scale:[1,20]},{id:"high_risk_rate",label:" ",unit:"%",scale:[5,35]},{id:"screening_coverage",label:"1  ",unit:"%",scale:[50,95]},{id:"dropout",label:"  ",unit:"%",scale:[3,25]},{id:"waitlist_pressure",label:"/ ",unit:"",scale:[30,95]},{id:"accessibility_score",label:" ",unit:"",scale:[40,98]},{id:"regional_sla_violation",label:" SLA ",unit:"%",scale:[2,34]},{id:"regional_queue_risk",label:"  ",unit:"",scale:[15,95]},{id:"regional_recontact_rate",label:"  ",unit:"%",scale:[4,38]},{id:"regional_data_readiness",label:"  ",unit:"%",scale:[62,99]},{id:"regional_governance_missing",label:"  ",unit:"%",scale:[1,28]},{id:"regional_ad_transition_hotspot",label:" AD   ",unit:"",scale:[18,92]},{id:"regional_dx_delay_hotspot",label:"   ",unit:"",scale:[9,68]},{id:"regional_screen_to_dx_rate",label:"  ",unit:"%",scale:[34,91]}];function Ove(e){return s$.find(t=>t.id===e)??s$[0]}function Ds(e,t){return t.unit==="%"?`${e.toFixed(1)}%`:t.unit===""?`${Math.round(e)}`:t.unit===""?`${Math.round(e)}`:t.unit===""?`${Math.round(e)}`:`${Math.round(e)}${t.unit}`}const cy=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t},pA=(e,t)=>{const[r,n]=t.scale,s=e%1e3/1e3;return r+(n-r)*s},Rve=e=>xn(e?.properties?.code??e?.properties?.adm_cd??e?.properties?.ADM_CD??e?.properties?.sggnm_cd??e?.properties?.SGGNM_CD??e?.properties?.sigungu_cd??e?.properties?.SIGUNGU_CD??e?.properties?.emd_cd??e?.properties?.EMD_CD??e?.properties?.CTPRVN_CD??e?.properties?.SIG_CD??e?.properties?.EMD_CD??""),Pve=e=>String(e?.properties?.name??e?.properties?.CTP_KOR_NM??e?.properties?.SIG_KOR_NM??e?.properties?.EMD_KOR_NM??"-"),Dve=(e,t,r)=>{const n=e.map(i=>{const o=Rve(i),l=Pve(i),u=cy(`${o}-${t.id}-${r}`),d=cy(`${o}-${t.id}-${r-1}`),f=pA(u,t),m=pA(d,t),h=f-m;return{code:o,name:l,value:f,yoy:h,rank:0}});return[...n].sort((i,o)=>o.value-i.value).forEach((i,o)=>{i.rank=o+1}),n},Ive=(e,t,r)=>r.map(n=>{const s=cy(`${e}-${t.id}-${n}`);return{year:n,value:pA(s,t)}}),Mve=e=>{const r=40+cy(e)%40,n=100-r;return[{name:"",value:r},{name:"",value:n}]},Wl={blue:["#eff6ff","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8"],red:["#fef2f2","#fecaca","#fca5a5","#f87171","#ef4444","#dc2626","#b91c1c"],green:["#f0fdf4","#bbf7d0","#86efac","#4ade80","#22c55e","#16a34a","#15803d"],teal:["#f0fdfa","#ccfbf1","#99f6e4","#5eead4","#2dd4bf","#14b8a6","#0f766e"],orange:["#fff7ed","#fed7aa","#fdba74","#fb923c","#f97316","#ea580c","#c2410c"],purple:["#faf5ff","#e9d5ff","#d8b4fe","#c084fc","#a855f7","#9333ea","#7e22ce"],heat:["#fef3c7","#fde68a","#fcd34d","#fbbf24","#f59e0b","#d97706","#b45309"],risk:["#ecfdf3","#bbf7d0","#86efac","#fde68a","#fbbf24","#f97316","#dc2626"]};class Lve{values;mode;steps;colors;bins;constructor(t,r="quantile",n=6,s="blue"){this.values=t.filter(i=>i!=null&&!isNaN(i)).sort((i,o)=>i-o),this.mode=r,this.steps=Math.min(n,this.values.length),this.colors=Wl[s].slice(0,this.steps),this.bins=this.buildBins()}buildBins(){if(this.values.length===0)return[];const t=[],r=Math.min(...this.values),n=Math.max(...this.values);if(this.mode==="quantile")for(let s=0;s<this.steps;s++){const i=Math.floor(s/this.steps*this.values.length),o=Math.floor((s+1)/this.steps*this.values.length)-1,l=this.values[i],u=this.values[Math.min(o,this.values.length-1)];this.values.filter(d=>d>=l&&(s===this.steps-1?d<=u:d<(t[s-1]?.max??l))).length,t.push({min:l,max:u,color:this.colors[s],count:Math.max(1,Math.floor(this.values.length/this.steps))})}else{const s=(n-r)/this.steps;for(let i=0;i<this.steps;i++){const o=r+s*i,l=i===this.steps-1?n:r+s*(i+1),u=this.values.filter(d=>d>=o&&d<=l).length;t.push({min:Math.round(o),max:Math.round(l),color:this.colors[i],count:u})}}return t}getColor(t){if(t==null||isNaN(t))return"#e5e7eb";for(let r=0;r<this.bins.length;r++){const n=this.bins[r];if(t>=n.min&&(r===this.bins.length-1?t<=n.max:t<this.bins[r+1]?.min))return n.color}return t<this.bins[0]?.min?this.colors[0]:this.colors[this.colors.length-1]}getLegendBins(){return this.bins}getStats(){if(this.values.length===0)return{min:0,max:0,avg:0,median:0,total:0};const t=this.values.reduce((n,s)=>n+s,0),r=Math.floor(this.values.length/2);return{min:Math.min(...this.values),max:Math.max(...this.values),avg:Math.round(t/this.values.length),median:this.values.length%2?this.values[r]:Math.round((this.values[r-1]+this.values[r])/2),total:t}}}function ng(e,t){if(e==null||isNaN(e))return"-";const r=e>=1e4?`${(e/1e4).toFixed(1)}`:e>=1e3?`${(e/1e3).toFixed(1)}`:e.toLocaleString();return t?`${r}${t}`:r}const $ve={blue:" (Blue)",green:" (Green)",teal:" (Teal)",purple:" (Purple)",orange:" (Orange)",red:" (Red)",heat:" (Heat)",risk:" ()"},i$=e=>Wl[e],pj={ctprvn:"https://raw.githubusercontent.com/southkorea/southkorea-maps/master/kostat/2018/json/skorea-provinces-2018-geo.json",sig:"https://raw.githubusercontent.com/southkorea/southkorea-maps/master/kostat/2018/json/skorea-municipalities-2018-geo.json",emd:"https://raw.githubusercontent.com/southkorea/southkorea-maps/master/kostat/2018/json/skorea-submunicipalities-2018-geo.json"},o$={ctprvn:"",sig:"//",emd:"//"};function hs(e){return xn(e?.properties?.code??e?.properties?.adm_cd??e?.properties?.ADM_CD??e?.properties?.sggnm_cd??e?.properties?.SGGNM_CD??e?.properties?.sigungu_cd??e?.properties?.SIGUNGU_CD??e?.properties?.emd_cd??e?.properties?.EMD_CD??e?.properties?.CTPRVN_CD??e?.properties?.SIG_CD??e?.properties?.EMD_CD??"")}function gi(e){return String(e?.properties?.name??e?.properties?.CTP_KOR_NM??e?.properties?.SIG_KOR_NM??e?.properties?.EMD_KOR_NM??"-")}function mj(e,t){return e.map(r=>{const n=hs(r),s=gi(r),i={level:t,code:n};return{...r,id:Ra(i),properties:{...r.properties,code:n,name:s,level:t,regionId:Ra(i)}}})}function hj(e,t=[]){return t.length?e.filter(r=>{const n=hs(r);return t.some(s=>n.startsWith(s))}):e}function kT({title:e,indicatorId:t,year:r=2026,scope:n={mode:"national"},fixedLevel:s,lockedSigCode:i,lockedSigName:o,hideBreadcrumb:l=!1,hintText:u,variant:d="default",mapHeight:f=420,className:m,externalLevel:h,externalSelectedCode:x,onRegionSelect:v,onGoBack:N,externalColorScheme:b,hideLegendPanel:S=!1,onSubRegionsChange:j,getTooltipExtraLines:A}){const _=Ove(t),E=JSON.stringify(n),C=n.mode==="regional",R=d==="portal",[I,O]=y.useState(null),[B,q]=y.useState(null),[F,Y]=y.useState(null),[D,G]=y.useState(!0),[U,V]=y.useState(null),M=y.useMemo(()=>{const Oe=n.ctprvnCodes?.[0];if(!I||Oe&&I.some(Ve=>hs(Ve)===Oe)||!n.label)return Oe;const ye=I.find(Ve=>{const vt=gi(Ve);return vt===n.label||vt.includes(n.label)||n.label.includes(vt)});return ye?hs(ye):Oe},[I,n.ctprvnCodes,n.label]),Q=M?[M]:n.ctprvnCodes,J=Q?.[0],P=C&&Q?.length===1?"sig":"ctprvn",[K,Z]=y.useState(P),[se,ie]=y.useState({ctprvn:J}),[Se,oe]=y.useState({}),[je,pe]=y.useState("blue"),[Ee,me]=y.useState(!0),[fe,Xe]=y.useState(!0),[H,ve]=y.useState(!1),Re=y.useRef(""),Te=b??je;y.useEffect(()=>{let Oe=!0;return(async()=>{G(!0),V(null);try{const[Ve,vt,Ot]=await Promise.all([fetch(pj.ctprvn),fetch(pj.sig),fetch(pj.emd)]),[ee,ue,Ge]=await Promise.all([Ve.json(),vt.json(),Ot.json()]);if(!Oe)return;O(mj(ee?.features??[],"REGION")),q(mj(ue?.features??[],"SIGUNGU")),Y(mj(Ge?.features??[],"EUPMYEONDONG"))}catch{if(!Oe)return;V("    .")}finally{Oe&&G(!1)}})(),()=>{Oe=!1}},[]),y.useEffect(()=>{Z(s??P),ie({ctprvn:Q?.[0]}),oe(n.label?{ctprvn:n.label}:{})},[E,n.label,P,Q?.[0],s]),y.useEffect(()=>{s&&K!==s&&Z(s)},[s,K]),y.useEffect(()=>{i&&(ie(Oe=>({...Oe,sig:i})),o&&oe(Oe=>({...Oe,sig:o})))},[i,o]),y.useEffect(()=>{if(C&&Q?.length){const Oe=Q[0];se.ctprvn!==Oe&&ie({ctprvn:Oe})}},[C,se.ctprvn,Q]),y.useEffect(()=>{C&&n.label&&!Se.ctprvn&&oe(Oe=>({...Oe,ctprvn:n.label}))},[C,n.label,Se.ctprvn]),y.useEffect(()=>{C&&Q?.length&&K==="ctprvn"&&Z("sig")},[C,Q,K]),y.useEffect(()=>{if(h){if(h==="ctprvn"){Z("ctprvn"),ie({}),oe({});return}if(h==="sig"&&x){const Oe=x.slice(0,2),ye=x.length>2?x.slice(0,5):void 0;Z("sig"),ie({ctprvn:Oe,...ye?{sig:ye}:{}});const Ve=I?.find(Ot=>hs(Ot).startsWith(Oe)),vt=ye?B?.find(Ot=>hs(Ot)===ye):void 0;Ve&&oe({ctprvn:gi(Ve),...vt?{sig:gi(vt)}:{}});return}if(h==="emd"&&x){const Oe=x.slice(0,2),ye=x.slice(0,5),Ve=x.length>5?x:void 0;Z("emd"),ie({ctprvn:Oe,sig:ye,...Ve?{emd:Ve}:{}});const vt=I?.find(ue=>hs(ue).startsWith(Oe)),Ot=B?.find(ue=>hs(ue)===ye),ee=Ve?F?.find(ue=>hs(ue)===Ve):void 0;oe({ctprvn:vt?gi(vt):void 0,sig:Ot?gi(Ot):void 0,...ee?{emd:gi(ee)}:{}});return}}},[h,x,I,B,F]);const Qe=y.useMemo(()=>I?hj(I,Q):[],[I,Q]),$e=y.useMemo(()=>{if(!B)return[];const Oe=C?Q?.[0]:se.ctprvn;return Oe?hj(B,[Oe]):[]},[B,se.ctprvn,Q,C]),jt=y.useMemo(()=>{const Oe=i??se.sig;return!F||!Oe?[]:hj(F,[Oe])},[F,se.sig,i]);y.useEffect(()=>{if(K!=="sig"||se.sig||!$e.length)return;const Oe=$e[0],ye=hs(Oe);ye&&(ie(Ve=>({ctprvn:Ve.ctprvn,sig:ye})),oe(Ve=>({ctprvn:Ve.ctprvn,sig:gi(Oe)})))},[K,$e,se.sig]),y.useEffect(()=>{if(K!=="emd"||se.emd||!jt.length)return;const Oe=jt[0],ye=hs(Oe);ye&&(ie(Ve=>({...Ve,emd:ye})),oe(Ve=>({...Ve,emd:gi(Oe)})))},[K,jt,se.emd]);const Ze=y.useMemo(()=>K==="ctprvn"?Qe:K==="sig"?$e:jt,[K,Qe,$e,jt]);y.useEffect(()=>{if(!j||!Ze.length)return;const Oe=n$(K),ye=new Set,Ve=Ze.map(Ot=>{const ee=hs(Ot),ue=gi(Ot);return{code:ee,name:ue,regionKey:{level:Oe,code:ee,name:ue},regionId:Ra({level:Oe,code:ee})}}).filter(Ot=>!Ot.code||ye.has(Ot.code)?!1:(ye.add(Ot.code),!0));if(!Ve.length)return;const vt=`${Oe}|${Ve.slice().sort((Ot,ee)=>Ot.code.localeCompare(ee.code,"ko-KR")).map(Ot=>`${Ot.code}:${Ot.name}`).join("|")}`;Re.current!==vt&&(Re.current=vt,j(Ve))},[Ze,K,j]);const De=y.useMemo(()=>Ze.length?Dve(Ze,_,r):[],[Ze,_,r]),He=y.useMemo(()=>De.map(Oe=>({code:Oe.code,value:Oe.value})),[De]),ge=(Oe,ye)=>{const Ve=Ze.find(ue=>hs(ue)===ye),vt=Ve?gi(Ve):ye,Ot={level:n$(K),code:ye,name:vt},ee=Ra(Ot);if(s){s==="ctprvn"?(ie({ctprvn:ye}),oe({ctprvn:vt}),v?.({level:"sig",code:ye,name:vt,regionKey:Ot,regionId:ee})):s==="sig"?(ie(ue=>({ctprvn:ue.ctprvn,sig:ye})),oe(ue=>({ctprvn:ue.ctprvn,sig:vt})),v?.({level:"emd",code:ye,name:vt,regionKey:Ot,regionId:ee})):(ie(ue=>({...ue,emd:ye})),oe(ue=>({...ue,emd:vt})),v?.({level:"emd",code:ye,name:vt,regionKey:Ot,regionId:ee}));return}if(h){K==="ctprvn"?(ie({ctprvn:ye}),oe({ctprvn:vt})):K==="sig"?(ie(ue=>({ctprvn:ue.ctprvn,sig:ye})),oe(ue=>({ctprvn:ue.ctprvn,sig:vt}))):(ie(ue=>({...ue,emd:ye})),oe(ue=>({...ue,emd:vt}))),v?.({level:Oe,code:ye,name:vt,regionKey:Ot,regionId:ee});return}if(K==="ctprvn"){ie({ctprvn:ye}),oe({ctprvn:vt}),Z(Oe),v?.({level:Oe,code:ye,name:vt,regionKey:Ot,regionId:ee});return}if(K==="sig"){ie(ue=>({ctprvn:ue.ctprvn,sig:ye})),oe(ue=>({ctprvn:ue.ctprvn,sig:vt})),Z(Oe),v?.({level:Oe,code:ye,name:vt,regionKey:Ot,regionId:ee});return}K==="emd"&&(ie(ue=>({...ue,emd:ye})),oe(ue=>({...ue,emd:vt})),v?.({level:"emd",code:ye,name:vt,regionKey:Ot,regionId:ee}))},Jt=()=>{s||C||(Z("ctprvn"),ie({}),oe({}),N?.())},Vt=()=>{if(!s&&!(C&&K==="sig")){if(K==="emd"){Z("sig"),ie(Oe=>({ctprvn:Oe.ctprvn,sig:Oe.sig})),oe(Oe=>({ctprvn:Oe.ctprvn,sig:Oe.sig})),N?.();return}K==="sig"&&(Z("ctprvn"),ie({ctprvn:se.ctprvn}),oe({ctprvn:Se.ctprvn}),N?.())}},Lr=[{label:"",disabled:C,onClick:Jt},...Se.ctprvn?[{label:Se.ctprvn,disabled:K==="ctprvn",onClick:()=>Z("sig")}]:[],...Se.sig?[{label:Se.sig,disabled:K==="sig",onClick:()=>Z("sig")}]:[],...Se.emd?[{label:Se.emd,disabled:!0}]:[]],we=y.useMemo(()=>[...De].sort((Oe,ye)=>ye.value-Oe.value),[De]),Me=De.length?De.reduce((Oe,ye)=>Oe+ye.value,0)/De.length:null,Mt=we[0]??null,ar=we.length?we[we.length-1]:null,Ur=we.slice(0,5),Yr=[...we].reverse().slice(0,5),ht=we.length?we[Math.floor(we.length/2)]?.value:null,Sn=K==="ctprvn"?se.ctprvn:K==="sig"?se.sig:se.emd,Lt=(Sn?De.find(Oe=>Oe.code===Sn):null)??we[0]??null,Pe=Lt?.name??" ",$t=Lt?.rank??0,Nr=De.length,Ut=Nr>1&&$t?Math.round((1-($t-1)/(Nr-1))*100):Nr===1?100:0,Xt=y.useMemo(()=>Array.from({length:7}).map((Oe,ye)=>r-6+ye),[r]),Tr=y.useMemo(()=>Lt?Ive(Lt.code,_,Xt):[],[Lt,_,Xt]),et=y.useMemo(()=>{if(Tr.length<2)return"";const Oe=Tr.map(ee=>ee.value),ye=Math.min(...Oe),Ve=Math.max(...Oe),vt=220,Ot=70;return Tr.map((ee,ue)=>{const Ge=ue/(Tr.length-1)*vt,st=Ve===ye?.5:(ee.value-ye)/(Ve-ye),lt=Ot-st*(Ot-10)-5;return`${Ge},${lt}`}).join(" ")},[Tr]),rr=y.useMemo(()=>Lt?Mve(Lt.code):[],[Lt]),mr=y.useMemo(()=>{if(!De.length)return[];const Oe=new Array(12).fill(0),ye=De.map(ee=>ee.value),Ve=Math.min(...ye),vt=Math.max(...ye);De.forEach(ee=>{const ue=vt===Ve?.5:(ee.value-Ve)/(vt-Ve),Ge=Math.min(Oe.length-1,Math.floor(ue*Oe.length));Oe[Ge]+=1});const Ot=Math.max(...Oe,1);return Oe.map(ee=>ee/Ot)},[De]),lr=y.useMemo(()=>{const Oe=De.map(ye=>ye.value);return Oe.length===0?null:new Lve(Oe,"quantile",7,Te)},[De,Te]),Sr=y.useMemo(()=>i$(Te),[Te]),hr=y.useMemo(()=>lr?.getLegendBins()??[],[lr]),cr=y.useMemo(()=>lr?.getStats()??{min:0,max:0,avg:0,total:0},[lr]),sn=Oe=>{const ye=Oe>=0?"+":"";return _.unit==="%"?`${ye}${Oe.toFixed(1)}%p`:`${ye}${Ds(Math.abs(Oe),_)}`},wr=y.useMemo(()=>!Lt||!A?[]:A({level:K,code:Lt.code,name:Lt.name,value:Lt.value}),[Lt,A,K]);return a.jsxs("div",{className:`${R?"border border-gray-200":"border-2 border-gray-300"} bg-white ${m||""}`,children:[a.jsx("div",{className:`${R?"border-b border-gray-200":"border-b-2 border-gray-300"} px-4 py-3`,children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:e}),a.jsxs("p",{className:"text-xs text-gray-500",children:[_.label,"  ",o$[K]]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[C&&n.label&&a.jsxs("span",{className:"rounded-full bg-blue-50 px-2 py-1 text-blue-700",children:[n.label," "]}),a.jsxs("span",{className:"rounded-full bg-gray-100 px-2 py-1",children:[" ",r]})]})]})}),!l&&a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[Lr.map((Oe,ye)=>a.jsxs(z.Fragment,{children:[a.jsx("button",{type:"button",disabled:Oe.disabled,onClick:Oe.onClick,className:`font-medium ${Oe.disabled?"text-gray-400":"text-blue-600 hover:underline"}`,children:Oe.label}),ye<Lr.length-1&&a.jsx("span",{children:"/"})]},`${Oe.label}-${ye}`)),K!=="ctprvn"&&!(C&&K==="sig")&&a.jsx("button",{type:"button",onClick:Vt,className:"ml-2 rounded-full border border-gray-200 px-2 py-0.5 text-gray-600",children:""})]})}),a.jsxs("div",{className:"px-4 pb-8",children:[!R&&De.length>0&&a.jsxs("div",{className:"mb-4 grid grid-cols-2 lg:grid-cols-4 gap-3 text-xs",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"text-base font-semibold text-gray-900",children:Me!==null?Ds(Me,_):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Mt?.name??"-"}),a.jsx("div",{className:"text-xs text-gray-500",children:Mt?Ds(Mt.value,_):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ar?.name??"-"}),a.jsx("div",{className:"text-xs text-gray-500",children:ar?Ds(ar.value,_):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Pe}),a.jsx("div",{className:"text-xs text-gray-500",children:Lt?Ds(Lt.value,_):"-"}),wr.length>0&&a.jsx("div",{className:"mt-2 space-y-1",children:wr.slice(0,3).map((Oe,ye)=>a.jsx("div",{className:"text-[11px] text-gray-500",children:Oe},ye))})]})]}),(()=>{const Oe=a.jsxs("div",{children:[a.jsxs("div",{className:`${R?"rounded-sm":"rounded-lg"} border border-gray-200 bg-gray-50`,style:{height:f,minHeight:f},children:[D&&a.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500",children:"  ..."}),U&&a.jsx("div",{className:"flex h-full items-center justify-center text-sm text-red-600",children:U}),!D&&!U&&a.jsx(kve,{level:K,features:Ze,stats:He,onSelect:ge,indicatorLabel:_.label,unit:_.unit,year:r,valueFormatter:ye=>Ds(ye,_),colorPalette:Sr,getTooltipExtraLines:A})]}),!S&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"mt-3 relative rounded-xl border border-gray-200 bg-white/95 px-4 py-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[Ee&&a.jsxs("div",{className:"flex-1",children:[a.jsxs("button",{onClick:()=>Xe(!fe),className:"flex items-center gap-1.5 text-xs text-gray-700 hover:text-gray-900 mb-1.5 font-semibold",children:[fe?a.jsx(Hn,{className:"h-4 w-4"}):a.jsx(Ks,{className:"h-4 w-4"}),a.jsxs("span",{children:[_.label,"  ()"]})]}),!fe&&a.jsxs("div",{className:"space-y-1.5 pl-4 border-l-2 border-gray-200",children:[hr.length>0?hr.map((ye,Ve)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("div",{className:"w-5 h-3.5 rounded-sm border border-gray-300",style:{backgroundColor:ye.color}}),a.jsxs("span",{className:"text-gray-700",children:[ng(ye.min)," ~ ",ng(ye.max)]}),ye.count!==void 0&&a.jsxs("span",{className:"text-gray-400",children:["(",ye.count,")"]})]},Ve)):Sr.slice(0,7).map((ye,Ve)=>{const vt=De.map(St=>St.value),Ot=Math.min(...vt,_.scale[0]),ee=Math.max(...vt,_.scale[1]),Ge=(ee-Ot)/7,st=Ot+Ve*Ge,lt=Ve===6?ee:Ot+(Ve+1)*Ge;return a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("div",{className:"w-5 h-3.5 rounded-sm border border-gray-300",style:{backgroundColor:ye}}),a.jsxs("span",{className:"text-gray-700",children:[Ds(st,_)," ~ ",Ds(lt,_)]})]},Ve)}),cr.total>0&&a.jsxs("div",{className:"mt-1.5 pt-1.5 border-t border-gray-200 text-[11px] text-gray-500",children:[a.jsxs("span",{children:[" : ",a.jsx("strong",{children:cr.total.toLocaleString()})]}),a.jsxs("span",{className:"ml-3",children:[": ",a.jsx("strong",{children:cr.avg.toLocaleString()})]})]})]}),fe&&a.jsxs("div",{className:"flex items-center gap-1 pl-4",children:[Sr.slice(0,7).map((ye,Ve)=>a.jsx("div",{className:"w-5 h-3 rounded-sm",style:{backgroundColor:ye}},Ve)),a.jsxs("span",{className:"ml-3 text-xs text-gray-600",children:[ng(cr.min)," ~ ",ng(cr.max)]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>ve(!H),className:"flex items-center gap-1.5 h-9 px-3 text-xs text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[a.jsx(c7,{className:"h-4 w-4"}),a.jsx("span",{children:" "}),a.jsx(Hn,{className:`h-4 w-4 transition-transform ${H?"rotate-180":""}`})]}),H&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>ve(!1)}),a.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white border border-gray-200 rounded-xl shadow-lg z-50 p-3",children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 mb-1.5 block",children:[a.jsx(_V,{className:"h-3.5 w-3.5 inline mr-1"})," "]}),a.jsx("select",{value:je,onChange:ye=>pe(ye.target.value),className:"w-full px-2.5 py-1.5 text-xs border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:Object.entries($ve).map(([ye,Ve])=>a.jsx("option",{value:ye,children:Ve},ye))}),a.jsx("div",{className:"flex gap-1 mt-1.5",children:i$(je).slice(0,7).map((ye,Ve)=>a.jsx("div",{className:"flex-1 h-3 rounded-sm",style:{backgroundColor:ye}},Ve))})]}),a.jsx("div",{className:"border-t border-gray-200 pt-2",children:a.jsxs("button",{onClick:()=>me(!Ee),className:"flex items-center gap-2 w-full px-2.5 py-1.5 text-xs text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-medium",children:[Ee?a.jsx(Rd,{className:"h-4 w-4"}):a.jsx(gE,{className:"h-4 w-4"}),a.jsx("span",{children:Ee?" ":" "})]})}),a.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2 text-[11px] text-gray-400",children:u??"     "})]})]})]})]})})})]});return R?Oe:a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,1fr)] gap-4",children:[Oe,De.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:" "}),a.jsx("div",{className:"text-base font-semibold text-gray-900",children:Pe})]}),a.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-gray-600",children:o$[K]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3 text-sm",children:[a.jsxs("div",{className:"rounded-md bg-slate-50 p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:""}),a.jsx("div",{className:"font-semibold text-gray-900",children:Lt?Ds(Lt.value,_):"-"})]}),a.jsxs("div",{className:"rounded-md bg-slate-50 p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:" "}),a.jsx("div",{className:`font-semibold ${Lt&&Lt.yoy>=0?"text-emerald-600":"text-red-600"}`,children:Lt?sn(Lt.yoy):"-"})]}),a.jsxs("div",{className:"rounded-md bg-slate-50 p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:""}),a.jsx("div",{className:"font-semibold text-gray-900",children:$t?`${$t} / ${Nr}`:"-"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:" 7 "}),a.jsx("svg",{width:"220",height:"70",className:"block",children:a.jsx("polyline",{points:et,fill:"none",stroke:"#2563eb",strokeWidth:"2"})}),a.jsxs("div",{className:"mt-1 text-[11px] text-gray-500",children:[" ",Ut,"% "]})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:" "}),rr.map(ye=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[a.jsx("span",{children:ye.name}),a.jsxs("span",{children:[ye.value,"%"]})]}),a.jsx("div",{className:"h-2 rounded-full bg-gray-100",children:a.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${ye.value}%`}})})]},ye.name))]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:" "}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500 mb-2",children:" 5"}),a.jsx("div",{className:"space-y-2",children:Ur.map((ye,Ve)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-gray-700",children:[Ve+1,". ",ye.name]}),a.jsx("span",{className:"font-semibold text-gray-900",children:Ds(ye.value,_)})]},ye.code))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500 mb-2",children:" 5"}),a.jsx("div",{className:"space-y-2",children:Yr.map((ye,Ve)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-gray-700",children:[Nr-Yr.length+Ve+1,". ",ye.name]}),a.jsx("span",{className:"font-semibold text-gray-900",children:Ds(ye.value,_)})]},ye.code))})]})]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:" "}),a.jsx("div",{className:"flex items-end gap-1 h-20",children:mr.map((ye,Ve)=>a.jsx("div",{className:"w-2 rounded-sm bg-blue-200",style:{height:`${Math.round(ye*100)}%`}},`bucket-${Ve}`))}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[" ",Nr,"    ",ht?Ds(ht,_):"-"]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["   ",Ut,"% "]})]})]})]})})()]})]})}const nl=[{id:"seoul",name:"",label:"",ctprvnCode:"11"},{id:"busan",name:"",label:"",ctprvnCode:"21"},{id:"daegu",name:"",label:"",ctprvnCode:"22"},{id:"incheon",name:"",label:"",ctprvnCode:"23"},{id:"gwangju",name:"",label:"",ctprvnCode:"24"},{id:"daejeon",name:"",label:"",ctprvnCode:"25"},{id:"ulsan",name:"",label:"",ctprvnCode:"26"},{id:"sejong",name:"",label:"",ctprvnCode:"29"},{id:"gyeonggi",name:"",label:"",ctprvnCode:"31"},{id:"gangwon",name:"",label:"",ctprvnCode:"32"},{id:"chungbuk",name:"",label:"",ctprvnCode:"33"},{id:"chungnam",name:"",label:"",ctprvnCode:"34"},{id:"jeonbuk",name:"",label:"",ctprvnCode:"35"},{id:"jeonnam",name:"",label:"",ctprvnCode:"36"},{id:"gyeongbuk",name:"",label:"",ctprvnCode:"37"},{id:"gyeongnam",name:"",label:"",ctprvnCode:"38"},{id:"jeju",name:"",label:"",ctprvnCode:"39"}];function Fve(e){return e?nl.find(r=>e.includes(r.name)||e.includes(r.label))??nl[0]:nl[0]}const kp=({label:e,value:t,change:r,isUp:n,color:s,onClick:i})=>a.jsxs("div",{onClick:i,className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col gap-2 group",children:[a.jsx("span",{className:"text-gray-500 text-xs font-semibold group-hover:text-blue-600 transition-colors",children:e}),a.jsxs("div",{className:"flex items-baseline justify-between",children:[a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t}),a.jsxs("div",{className:ce("flex items-center text-[10px] font-bold px-1.5 py-0.5 rounded",n?"text-emerald-600 bg-emerald-50":"text-red-600 bg-red-50"),children:[n?a.jsx(e7,{size:12}):a.jsx(J6,{size:12}),r]})]}),a.jsx("div",{className:"mt-2 h-1 w-full bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:ce("h-full",s),style:{width:"65%"}})})]}),gj=[{name:"Low",value:45,color:"#059669"},{name:"Moderate",value:35,color:"#d97706"},{name:"High",value:20,color:"#dc2626"}],Bve=[{id:"CASE-0121",age:69,probability:"85%",period:"6",nextAction:"3  "},{id:"CASE-0254",age:74,probability:"78%",period:"12",nextAction:" "},{id:"CASE-0310",age:81,probability:"92%",period:"3",nextAction:"3  "}],Uve=[{name:"1 ",count:1240,rate:100,drop:5,wait:1.2},{name:"2 ",count:850,rate:68,drop:12,wait:4.5},{name:"MCI",count:320,rate:25,drop:8,wait:7.2},{name:"High MCI",count:145,rate:11,drop:4,wait:12},{name:"3 ",count:88,rate:7,drop:2,wait:15.4}],zve=[{id:"CASE-0012",age:78,stage:"Stage 2",reason:"  ( )",action:"",sla:"1h "},{id:"CASE-0045",age:82,stage:"Stage 3",reason:"  3 ",action:"",sla:""},{id:"CASE-0092",age:75,stage:"Stage 1",reason:"  ",action:"",sla:"3h "},{id:"CASE-0121",age:69,stage:"Stage 2",reason:" MCI  ",action:"3",sla:"5h "}],Hve={:"11010",:"11020",:"11030",:"11040",:"11050",:"11060",:"11070",:"11080",:"11090",:"11100",:"11110",:"11120",:"11130",:"11140",:"11150",:"11160",:"11170",:"11180",:"11190",:"11200",:"11210",:"11220",:"11230",:"11240",:"11250"};function qve(e){const t=nl.find(l=>e?.includes(l.name)||e?.includes(l.label))??nl[0],r=Object.entries(Hve).find(([l])=>e?.includes(l)),n=r?.[1]??"11230",s=r?.[0]??"",i=n.slice(0,2)||t.ctprvnCode,o=nl.find(l=>l.ctprvnCode===i)?.label??t.label;return{ctprvnCode:i,ctprvnLabel:o,sigCode:n,sigLabel:s}}function l$({onNavigateToCases:e,onSelectCase:t,centerName:r}){const n=qve(r),[s,i]=y.useState(null);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[a.jsx(kp,{label:"  ",value:"42",change:"+12%",isUp:!0,color:"bg-blue-600",onClick:()=>e("SLA ")}),a.jsx(kp,{label:"2 ",value:"128",change:"-4%",isUp:!1,color:"bg-orange-500",onClick:()=>e(" ")}),a.jsx(kp,{label:" MCI",value:"14",change:"+2",isUp:!0,color:"bg-red-600",onClick:()=>e("High MCI")}),a.jsx(kp,{label:"3 ",value:"31",change:"+5%",isUp:!0,color:"bg-purple-600",onClick:()=>e("3 ")}),a.jsx(kp,{label:"",value:"8",change:"-12%",isUp:!1,color:"bg-gray-500",onClick:()=>e(" ")})]}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-gray-200 bg-gradient-to-b from-white to-slate-50/80 p-6 shadow-sm",children:[a.jsx("div",{className:"pointer-events-none absolute -right-14 -top-14 h-40 w-40 rounded-full bg-blue-100/60 blur-3xl"}),a.jsx("div",{className:"pointer-events-none absolute -left-20 bottom-0 h-28 w-52 rounded-full bg-indigo-100/40 blur-3xl"}),a.jsxs("div",{className:"relative z-10 mb-5 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"       ."})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-[10px]",children:[a.jsx("span",{className:"rounded-full border border-blue-200 bg-blue-50 px-2 py-1 font-semibold text-blue-700",children:" "}),a.jsx("span",{className:"rounded-full border border-rose-200 bg-rose-50 px-2 py-1 font-semibold text-rose-700",children:" "})]})]}),a.jsx("div",{className:"relative z-10 overflow-x-auto pb-1",children:a.jsx("div",{className:"grid min-w-[980px] grid-cols-5 gap-5",children:Uve.map((o,l)=>{const u=l===0?"from-blue-600 to-cyan-500":l===1?"from-indigo-600 to-blue-500":l===2?"from-sky-600 to-blue-500":l===3?"from-violet-600 to-indigo-500":"from-blue-700 to-indigo-700",d=Math.max(8,Math.min(o.rate,100)),f=s===o.name;return a.jsxs("button",{onClick:()=>e(o.name),onPointerEnter:m=>{m.pointerType!=="touch"&&i(o.name)},onPointerMove:m=>{m.pointerType!=="touch"&&i(o.name)},onPointerLeave:()=>i(m=>m===o.name?null:m),onMouseEnter:()=>i(o.name),onMouseLeave:()=>i(m=>m===o.name?null:m),onFocus:()=>i(o.name),onBlur:()=>i(m=>m===o.name?null:m),className:ce("relative text-left rounded-2xl border border-slate-200 bg-white transition-all duration-200",f?"-translate-y-1 shadow-[0_18px_34px_rgba(37,99,235,0.22)]":"shadow-[0_14px_28px_rgba(15,23,42,0.08)]"),children:[a.jsx("div",{className:ce("pointer-events-none absolute inset-x-4 -bottom-2 h-3 rounded-xl blur-sm transition-colors",f?"bg-blue-300/60":"bg-slate-300/60")}),a.jsxs("div",{className:"relative rounded-2xl",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[11px] font-semibold tracking-wide text-slate-700",children:o.name}),a.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-500",children:["Stage ",l+1]})]}),a.jsxs("div",{className:"mt-2 flex items-end justify-between",children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 leading-none",children:o.count.toLocaleString()}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] text-slate-400",children:""}),a.jsxs("p",{className:"text-sm font-bold text-blue-700",children:[o.rate,"%"]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-slate-100",children:a.jsx("div",{className:ce("h-full rounded-full bg-gradient-to-r",u),style:{width:`${d}%`}})})}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"rounded-lg border border-rose-100 bg-rose-50 px-2 py-1.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-rose-500",children:""}),a.jsxs("p",{className:"text-xs font-bold text-rose-700",children:[o.drop,"%"]})]}),a.jsxs("div",{className:"rounded-lg border border-amber-100 bg-amber-50 px-2 py-1.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-amber-600",children:" "}),a.jsxs("p",{className:"text-xs font-bold text-amber-700",children:[o.wait,""]})]})]})]}),l<4&&a.jsxs("div",{className:"pointer-events-none absolute top-1/2 -right-2 hidden -translate-y-1/2 md:flex items-center",children:[a.jsx("span",{className:"h-px w-3 bg-slate-200"}),a.jsx(vs,{size:12,className:"text-slate-300"})]})]})]},o.name)})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[a.jsxs("div",{className:"lg:col-span-8 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-5 border-b border-gray-100 flex items-center justify-between",children:[a.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(da,{className:"text-amber-500",size:18}),"  "]}),a.jsxs("button",{onClick:()=>e("SLA "),className:"text-xs font-semibold text-blue-600 hover:underline flex items-center gap-1",children:["  ",a.jsx(vs,{size:14})]})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:[a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:"ID"}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:""}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:" Stage"}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:"SLA"}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100 text-right",children:" "})]})}),a.jsx("tbody",{className:"text-sm",children:zve.map(o=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[a.jsx("td",{className:"px-5 py-4 font-mono font-medium text-gray-900 group-hover:text-blue-600 cursor-pointer",onClick:()=>t(o.id,o.stage),children:o.id}),a.jsxs("td",{className:"px-5 py-4 text-gray-600",children:[o.age,""]}),a.jsx("td",{className:"px-5 py-4",children:a.jsx("span",{className:ce("px-2 py-0.5 rounded text-[10px] font-bold border",o.stage==="Stage 1"?"bg-emerald-50 text-emerald-700 border-emerald-100":o.stage==="Stage 2"?"bg-blue-50 text-blue-700 border-blue-100":"bg-purple-50 text-purple-700 border-purple-100"),children:o.stage})}),a.jsx("td",{className:"px-5 py-4 text-gray-600 max-w-[200px] truncate",children:o.reason}),a.jsx("td",{className:"px-5 py-4",children:a.jsx("span",{className:ce("px-2 py-0.5 rounded text-[10px] font-bold",o.sla===""?"bg-red-50 text-red-700":"bg-orange-50 text-orange-700"),children:o.sla})}),a.jsx("td",{className:"px-5 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"",children:a.jsx(ts,{size:14})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"",children:a.jsx(wi,{size:14})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"",children:a.jsx(xE,{size:14})})]})})]},o.id))})]})}),a.jsx("div",{className:"p-3 bg-gray-50 text-[10px] text-gray-500 italic text-center",children:"*  : SLA            ."})]}),a.jsxs("div",{className:"lg:col-span-4 bg-white rounded-xl border border-gray-200 shadow-sm p-5 flex flex-col",children:[a.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"MCI  "}),a.jsxs("div",{className:"flex gap-4 items-center mb-6",children:[a.jsx("div",{className:"h-32 w-32 shrink-0",children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(yT,{children:[a.jsx(Mi,{data:gj,cx:"50%",cy:"50%",innerRadius:30,outerRadius:45,paddingAngle:5,dataKey:"value",children:gj.map((o,l)=>a.jsx(Hs,{fill:o.color},`cell-${l}`))}),a.jsx(pr,{})]})})}),a.jsx("div",{className:"space-y-1.5 flex-1",children:gj.map(o=>a.jsxs("div",{className:"flex items-center justify-between text-[10px] font-bold",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:o.color}}),a.jsxs("span",{className:"text-gray-500",children:[o.name," MCI"]})]}),a.jsxs("span",{children:[o.value,"%"]})]},o.name))})]}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" MCI  (High)"}),Bve.map(o=>a.jsxs("div",{className:"p-2.5 bg-gray-50 rounded-lg border border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-bold text-blue-600",children:[o.id," ",a.jsxs("span",{className:"text-gray-400 text-[10px]",children:["(",o.age,")"]})]}),a.jsxs("p",{className:"text-[9px] text-red-600 font-bold",children:["  ",o.probability," | ",o.period]})]}),a.jsx("button",{onClick:()=>t(o.id,"Stage 2"),className:"px-2 py-1 bg-white border border-gray-200 rounded text-[9px] font-bold text-gray-600 hover:bg-gray-100",children:o.nextAction})]},o.id))]}),a.jsx("button",{className:"mt-4 w-full py-2 bg-red-50 text-red-700 text-xs font-bold rounded-lg hover:bg-red-100 transition-colors",children:"3    "})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"relative bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center justify-between",children:["   (//)",a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-blue-50 rounded text-blue-700",children:n.sigLabel}),a.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-gray-100 rounded text-gray-500",children:"emd "})]})]}),a.jsx(kT,{title:`${n.sigLabel} // `,indicatorId:"total_cases",year:2026,scope:{mode:"regional",ctprvnCodes:[n.ctprvnCode],label:n.ctprvnLabel},fixedLevel:"emd",lockedSigCode:n.sigCode,lockedSigName:n.sigLabel,hideBreadcrumb:!0,variant:"portal",mapHeight:320,externalColorScheme:"risk",hideLegendPanel:!0,hintText:"//     .",className:"rounded-lg overflow-hidden"}),a.jsxs("div",{className:"pointer-events-none absolute left-8 top-[92px] z-10 rounded-md border border-slate-200 bg-white/95 px-4 py-3 shadow-md backdrop-blur-sm",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700",children:"  "}),a.jsxs("div",{className:"mt-2 space-y-1.5 text-[10px] font-semibold text-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-[#ef4444]"}),a.jsx("span",{children:" ( )"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-[#f59e0b]"}),a.jsx("span",{children:" ( )"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-[#10b981]"}),a.jsx("span",{children:"/"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-bold text-gray-800",children:"   "}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600"})," "]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#d97706]"})," "]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#059669]"})," "]})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Eh,{data:[{date:"02/05",screen:72,evaluation:65,completed:58},{date:"02/06",screen:75,evaluation:68,completed:55},{date:"02/07",screen:82,evaluation:62,completed:62},{date:"02/08",screen:80,evaluation:70,completed:65},{date:"02/09",screen:88,evaluation:74,completed:68},{date:"02/10",screen:92,evaluation:81,completed:72},{date:"02/11",screen:89,evaluation:85,completed:75}],children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(en,{dataKey:"date",fontSize:9,axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),a.jsx($r,{fontSize:9,axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"},unit:"%"}),a.jsx(pr,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),a.jsx(bn,{type:"monotone",dataKey:"screen",stroke:"#2563eb",strokeWidth:2.5,dot:{r:3}}),a.jsx(bn,{type:"monotone",dataKey:"evaluation",stroke:"#d97706",strokeWidth:2.5,dot:{r:3}}),a.jsx(bn,{type:"monotone",dataKey:"completed",stroke:"#059669",strokeWidth:2.5,dot:{r:3}})]})})}),a.jsxs("div",{className:"mt-4 flex items-center justify-around border-t border-gray-50 pt-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"  "}),a.jsx("p",{className:"text-sm font-bold text-emerald-600",children:"+4.2%"})]}),a.jsx("div",{className:"w-px h-6 bg-gray-100"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"  "}),a.jsx("p",{className:"text-sm font-bold text-red-600",children:"115%"})]})]})]})]}),a.jsx("div",{className:"p-3 bg-gray-50 text-[10px] text-gray-500 italic text-center rounded-lg",children:"*  :         100%  .      ."})]})}const Cg=["","SLA "," ","MCI "," "," ","High MCI"],mA=[{level:"L0",label:"( )",tone:"text-gray-700 bg-gray-100 border-gray-200",purpose:"    ",whenToUse:"      ",actions:["    ","  ","/   "]},{level:"L1",label:"(/)",tone:"text-blue-700 bg-blue-50 border-blue-200",purpose:"    ",whenToUse:"     ",actions:["    ","  / "," (:  7) "]},{level:"L2",label:"(  )",tone:"text-orange-700 bg-orange-50 border-orange-200",purpose:"       ",whenToUse:"SLA ,  ,    ",actions:["      ","     ","2    "]},{level:"L3",label:" (2  )",tone:"text-purple-700 bg-purple-50 border-purple-200",purpose:"Stage 1     ",whenToUse:"   SLA/   ",actions:["2   ","/ ","       "]}],Tg=[{id:"CASE-2026-001",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:"1  ",updated:"2026-02-11 09:30",quality:"",profile:{name:"",age:78,phone:"010-2481-9320",guardianPhone:"010-8821-1209"},alertTags:["SLA "," "]},{id:"CASE-2026-002",stage:"Stage 2",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-11 10:15",quality:"",profile:{name:"",age:73,phone:"010-3841-5520"},alertTags:[" "]},{id:"CASE-2026-003",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:"  ",updated:"2026-02-10 16:45",quality:"",profile:{name:"",age:81,phone:"010-5510-2840"},alertTags:[" "," "]},{id:"CASE-2026-004",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:"",updated:"2026-02-11 11:00",quality:"",profile:{name:"",age:66,phone:"010-7652-9213",guardianPhone:"010-4312-5591"},alertTags:[]},{id:"CASE-2026-005",stage:"Stage 2",risk:"",path:"High MCI ",status:"",manager:"",action:" ",updated:"2026-02-11 11:20",quality:"",profile:{name:"",age:75,phone:"010-4288-7712"},alertTags:["SLA ","High MCI","MCI "]},{id:"CASE-2026-006",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:"  ",updated:"2026-02-11 11:45",quality:"",profile:{name:"",age:69,phone:"010-6721-2098"},alertTags:[]},{id:"CASE-2026-007",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-09 14:00",quality:"",profile:{name:"",age:84,phone:"010-9191-2504"},alertTags:["SLA "," "]},{id:"CASE-2026-008",stage:"Stage 2",risk:"",path:"MCI ",status:"",manager:"",action:"MCI  ",updated:"2026-02-10 09:50",quality:"",profile:{name:"",age:72,phone:"010-2351-9801"},alertTags:["MCI "," "]},{id:"CASE-2026-009",stage:"Stage 3",risk:"",path:"3  ",status:"",manager:"",action:"3  ",updated:"2026-02-11 08:35",quality:"",profile:{name:"",age:79,phone:"010-4089-1302"},alertTags:["SLA "," "]},{id:"CASE-2026-010",stage:"Stage 1",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-10 13:20",quality:"",profile:{name:"",age:64,phone:"010-7413-8267",guardianPhone:"010-3755-6401"},alertTags:[" "]},{id:"CASE-2026-011",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:"  ",updated:"2026-02-11 12:05",quality:"",profile:{name:"",age:83,phone:"010-6671-2104",guardianPhone:"010-7201-5543"},alertTags:["SLA "]},{id:"CASE-2026-012",stage:"Stage 2",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-08 10:10",quality:"",profile:{name:"",age:71,phone:"010-5870-3370"},alertTags:[]},{id:"CASE-2026-013",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-07 17:40",quality:"",profile:{name:"",age:68,phone:"010-8901-0061"},alertTags:[]},{id:"CASE-2026-014",stage:"Stage 2",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-11 07:55",quality:"",profile:{name:"",age:70,phone:"010-3520-9912"},alertTags:[" "]},{id:"CASE-2026-015",stage:"Stage 1",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-09 11:25",quality:"",profile:{name:"",age:76,phone:"010-1002-4451",guardianPhone:"010-9001-1112"},alertTags:[" ","SLA "]},{id:"CASE-2026-016",stage:"Stage 2",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-09 08:10",quality:"",profile:{name:"",age:82,phone:"010-4721-2004"},alertTags:["High MCI","SLA "," "]},{id:"CASE-2026-017",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-06 15:25",quality:"",profile:{name:"",age:74,phone:"010-7790-6631"},alertTags:[]},{id:"CASE-2026-018",stage:"Stage 1",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-10 15:50",quality:"",profile:{name:"",age:63,phone:"010-8101-3321",guardianPhone:"010-7750-4012"},alertTags:[]},{id:"CASE-2026-019",stage:"Stage 2",risk:"",path:"  ",status:"",manager:"",action:"  ",updated:"2026-02-11 06:50",quality:"",profile:{name:"",age:77,phone:"010-3124-8823"},alertTags:["SLA "," "]},{id:"CASE-2026-020",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:"  ",updated:"2026-02-08 17:05",quality:"",profile:{name:"",age:80,phone:"010-8823-2240"},alertTags:[" "," "]},{id:"CASE-2026-021",stage:"Stage 1",risk:"",path:"MCI  ",status:"",manager:"",action:" ",updated:"2026-02-10 08:45",quality:"",profile:{name:"",age:85,phone:"010-6012-5566",guardianPhone:"010-2201-8890"},alertTags:["MCI "," "]},{id:"CASE-2026-022",stage:"Stage 2",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-07 13:15",quality:"",profile:{name:"",age:67,phone:"010-4781-0190"},alertTags:[]},{id:"CASE-2026-023",stage:"Stage 3",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-09 19:20",quality:"",profile:{name:"",age:72,phone:"010-2441-5567"},alertTags:[" "]},{id:"CASE-2026-024",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-05 16:20",quality:"",profile:{name:"",age:62,phone:"010-7140-0013"},alertTags:[]}],Gve={"1 ":"Stage 1","1":"Stage 1","Stage 1":"Stage 1","2 ":"Stage 2","2 ":"Stage 2","2":"Stage 2","Stage 2":"Stage 2",MCI:"Stage 2","High MCI":"Stage 2","3 ":"Stage 3","3":"Stage 3","3 ":"Stage 3","Stage 3":"Stage 3"};function Kve(e){if(!e)return{alertFilter:"",stageFilter:"all"};const t=e.trim();if(Cg.includes(t))return{alertFilter:t,stageFilter:"all"};const r=Gve[t];return r?{alertFilter:"",stageFilter:r}:{alertFilter:"",stageFilter:"all"}}function c$(e,t){return t===""?!0:e.alertTags.includes(t)}function Ch(e){return Tg.find(t=>t.id===e)}function KU(e){return!e||e.stage!=="Stage 1"?{label:"",tone:"text-blue-700 bg-blue-50 border-blue-200"}:e.status===""||e.status===""||e.alertTags.includes("SLA ")?{label:"",tone:"text-red-700 bg-red-50 border-red-200"}:e.status===""||e.alertTags.includes(" ")||e.alertTags.includes(" ")||e.alertTags.includes("MCI ")?{label:"",tone:"text-orange-700 bg-orange-50 border-orange-200"}:e.status===""?{label:"",tone:"text-blue-700 bg-blue-50 border-blue-200"}:{label:"",tone:"text-emerald-700 bg-emerald-50 border-emerald-200"}}function Wve(){return mA}function Vve(e){const t=mA[1];if(!e||e.stage!=="Stage 1")return{level:t.level,guide:t,exceptionState:null};const r=e.status===""||e.status===""||e.alertTags.includes("SLA ")||e.alertTags.includes(" "),n=e.risk===""||e.alertTags.includes(" ")||e.alertTags.includes("MCI "),s=e.status===""||e.alertTags.includes(" ");let i="L0",o=null,l;e.quality===""?(i="L0",o="",l="      "):n&&(r||s)?i="L3":r||n?i="L2":(s||e.quality==="")&&(i="L1"),!o&&e.status===""&&!r&&!n&&(o="",l="7   ");const u=mA.find(d=>d.level===i)??t;return{level:i,guide:u,exceptionState:o,exceptionReason:l}}function xf(e){return e<70?"60":e<80?"70":"80"}function Yve(e){return e?e.length===1?`${e}*`:e.length===2?`${e[0]}*`:`${e[0]}${"*".repeat(e.length-2)}${e[e.length-1]}`:"-"}function so(e){const t=e.match(/^(\d{3})-(\d{3,4})-(\d{4})$/);if(!t)return e;const[,r,n,s]=t;return`${r}-${"*".repeat(n.length)}-${s}`}const Xve=[{label:"Stage 1",value:"Stage 1"},{label:"Stage 2",value:"Stage 2"},{label:"Stage 3",value:"Stage 3"}],Qve=[{label:"",value:"ALL"},{label:"Agent",value:"AGENT"},{label:"",value:"HUMAN"},{label:"",value:"UNASSIGNED"}],Zve=[{label:"",value:"ALL"},{label:"L3",value:"L3_ONLY"},{label:"L2~L3",value:"L2_L3"},{label:"L0~L1",value:"L0_L1"}],Jve=[{label:"",value:"ALL"},{label:"",value:"NOT_TRIED"},{label:" ",value:"RETRY_NEEDED"},{label:"",value:"IN_PROGRESS"},{label:"",value:"SUCCESS"}];function WU(e){const t=new Date(e.replace(" ","T"));return Number.isNaN(t.getTime())?0:t.getTime()}function e1e(e){return e.length>16?e.slice(0,16):e}function t1e(e,t){const r=new Date(e.replace(" ","T"));return Number.isNaN(r.getTime())?e.slice(0,10):(r.setDate(r.getDate()+t),`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`)}function Ml(e){return Math.max(0,Math.min(1,e))}function r1e(e){return Math.max(0,Math.min(100,e))}function n1e(e){return e>=85?"L3":e>=70?"L2":e>=50?"L1":"L0"}function a1e(e){return e==="L3"?"bg-red-50 text-red-700 border-red-200":e==="L2"?"bg-orange-50 text-orange-700 border-orange-200":e==="L1"?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-100 text-gray-700 border-gray-200"}function u$(e){return e==="L3"?" ":e==="L2"?"":e==="L1"?"":""}function s1e(e){return e==="L3"?"2   ":e==="L2"?"   ":e==="L1"?"/  ":"/ "}function i1e(e){return e==="AGENT"?"bg-indigo-50 text-indigo-700 border-indigo-200":e==="HUMAN"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-100 text-gray-700 border-gray-200"}function hA(e){return e==="AGENT"?"Agent":e==="HUMAN"?"":""}function o1e(e){return[...e.priorityFactors].sort((t,r)=>r.contribution-t.contribution).slice(0,3)}function l1e(e,t){return t==="ALL"?!0:t==="NOT_TRIED"?e==="":t==="RETRY_NEEDED"?e===" "||e==="":t==="IN_PROGRESS"?e==="":e===""}function c1e(e,t){return t==="ALL"?!0:t==="L3_ONLY"?e==="L3":t==="L2_L3"?e==="L3"||e==="L2":e==="L1"||e==="L0"}function u1e(e,t,r){return e.quality===""||e.profile.phone.trim().length===0?{ownerType:"UNASSIGNED",ownerName:void 0,ownerReason:"         ."}:e.path.includes("")||e.action.includes("")?{ownerType:"AGENT",ownerName:"  Agent",ownerReason:"     /   ."}:e.risk===""||e.alertTags.includes(" ")||r===""&&(t===" "||t==="")?{ownerType:"HUMAN",ownerName:e.manager,ownerReason:"         ."}:{ownerType:"HUMAN",ownerName:e.manager,ownerReason:"       ."}}function d1e(e,t,r,n){const s=e.alertTags.includes("SLA "),i=e.status===""||e.status===""||s?1:e.status===""?.5:e.status===""?.35:e.status===""?.2:0,o=n>0?(Date.now()-n)/(1e3*60*60):0,l=t===""?.6:o>=48?1:o>=24?.85:o>=12?.55:o>=6?.3:o>=3?.2:.1,u=e.risk===""?1:e.risk===""?.6:.25,d=e.alertTags.includes("High MCI")||e.alertTags.includes(" ")?.2:0,f=Ml(u+d),m=t===" "||t===""?1:t===""?.6:t===""?.2:0,h=e.quality===""?.65:e.quality===""?.35:.1,x=Ml(h+(r===""?.2:0)+(!e.profile.guardianPhone&&(t===""||t===" ")?.2:0)),v=[{key:"SLA_URGENCY",label:"SLA ",weight:40,value:Ml(i),contribution:0},{key:"CONTACT_STALENESS",label:" ",weight:25,value:Ml(l),contribution:0},{key:"RISK_LEVEL",label:" ",weight:20,value:Ml(f),contribution:0},{key:"RETRY_NEEDED",label:" ",weight:10,value:Ml(m),contribution:0},{key:"CHANNEL_FRICTION",label:" ",weight:5,value:Ml(x),contribution:0}].map(b=>({...b,contribution:Number((b.weight*b.value).toFixed(1))})),N=Math.round(r1e(v.reduce((b,S)=>b+S.contribution,0)));return{priorityScore:N,priorityTier:n1e(N),priorityFactors:v,slaUrgencyScore:Ml(i)}}function f1e(e){return e===" "?"bg-red-50 text-red-700 border-red-200":e===""?"bg-orange-50 text-orange-700 border-orange-200":e===""?"bg-blue-50 text-blue-700 border-blue-200":e===""?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-100 text-gray-700 border-gray-200"}function p1e(e){return e===""?"bg-violet-50 text-violet-700 border-violet-200":e===""?"bg-blue-50 text-blue-700 border-blue-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}function m1e(e){return e===" "?"bg-gray-100 text-gray-700 border-gray-200":e===" "||e==="Stage2 "?"bg-indigo-50 text-indigo-700 border-indigo-200":e===" "?"bg-violet-50 text-violet-700 border-violet-200":e===" "?"bg-blue-50 text-blue-700 border-blue-200":"bg-orange-50 text-orange-700 border-orange-200"}function h1e(e){return e==="AD"?"bg-red-50 text-red-700 border-red-200":e==="MCI"?"bg-orange-50 text-orange-700 border-orange-200":e===""?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-100 text-gray-700 border-gray-200"}function g1e(e){return e===""?"bg-blue-50 text-blue-700 border-blue-200":"bg-amber-50 text-amber-700 border-amber-200"}function x1e(e){return e==="Stage3"?"bg-violet-50 text-violet-700 border-violet-200":e===""?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-orange-50 text-orange-700 border-orange-200"}function y1e(e){return e===" "?"bg-red-50 text-red-700 border-red-200":e===""?"bg-orange-50 text-orange-700 border-orange-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}function b1e(e){return e===""?"bg-red-50 text-red-700 border-red-200":e===""?"bg-orange-50 text-orange-700 border-orange-200":"bg-blue-50 text-blue-700 border-blue-200"}function v1e(e){const t=e.status===""?"":e.status===""?"":e.status===""?"":e.status===""?" ":"",r=e.action.includes("")?"":e.action.includes("")||(t===""||t===" ")&&e.profile.guardianPhone?"":"",n=t===""&&(e.risk===""||e.alertTags.includes(" "))?"Stage2 ":t===""||t===""?" ":r!==""&&e.profile.guardianPhone?" ":"",s={" ":5,:4,:3,:2,:1},i=WU(e.updated),o=u1e(e,t,r),l=d1e(e,t,r,i),u=o.ownerType==="UNASSIGNED"?" ":o.ownerType==="AGENT"&&(l.priorityTier==="L3"||l.priorityTier==="L2")?" ":n;return{kind:"Stage 1",stage:"Stage 1",caseId:e.id,manager:e.manager,updated:e.updated,source:e,contactStatus:t,lastContactAttemptAt:e1e(e.updated),channel:r,nextAction:u,ownerType:o.ownerType,ownerName:o.ownerName,ownerReason:o.ownerReason,priorityScore:l.priorityScore,priorityTier:l.priorityTier,priorityFactors:l.priorityFactors,statusRank:s[t],lastContactMs:i,slaUrgencyScore:l.slaUrgencyScore,slaHint:e.status===""||e.status===""?e.status:void 0}}function N1e(e){const t=e.path.includes("High MCI")||e.risk===""&&e.quality===""?"AD":e.path.includes("MCI")||e.alertTags.includes("MCI ")?"MCI":e.risk===""&&e.status===""?"":"",r=e.status===""?"":"",n=t===""||e.quality===""?" ":t===""?"":"Stage3",s=[e.path];e.alertTags.length>0&&s.push(` ${e.alertTags.slice(0,2).join(", ")}`),e.quality!==""&&s.push(` ${e.quality}`);const i={AD:4,MCI:3,:2,:1};return{kind:"Stage 2",stage:"Stage 2",caseId:e.id,manager:e.manager,updated:e.updated,source:e,classification:t,rationale:s.join("  "),confirmation:r,nextPath:n,confirmationRank:r===""?2:1,classificationRank:i[t],updatedMs:WU(e.updated)}}function S1e(e){const t=e.alertTags.includes(" ")||e.status===""?" ":e.risk===""||e.status===""?"":"",r=t===" "?"":t===""?"":"",n=t1e(e.updated,t===""?30:t===""?14:7),s=new Date(`${n}T09:00:00`).getTime();return{kind:"Stage 3",stage:"Stage 3",caseId:e.id,manager:e.manager,updated:e.updated,source:e,trackingStatus:t,recentEvent:e.action,nextEvalDate:n,intensity:r,intensityRank:r===""?3:r===""?2:1,nextEvalMs:s}}const w1e={"Stage 1":{operationQuestion:"   ?  ?   ?",operationHint:"Stage 1 /   .",sortLabel:"  ",defaultSortDescending:!0,mapRow:e=>v1e(e),compare:(e,t)=>{const r=e,n=t;return n.priorityScore!==r.priorityScore?n.priorityScore-r.priorityScore:n.slaUrgencyScore!==r.slaUrgencyScore?n.slaUrgencyScore-r.slaUrgencyScore:r.lastContactMs!==n.lastContactMs?r.lastContactMs-n.lastContactMs:n.statusRank-r.statusRank},searchBlob:e=>{const t=e;return[t.caseId,t.contactStatus,t.channel,t.nextAction,t.manager,hA(t.ownerType),t.ownerName??"",t.priorityTier,String(t.priorityScore)].join(" ")},summary:e=>{const t=e;return[{label:" ",value:t.length.toLocaleString(),color:"text-slate-900",icon:co},{label:" ",value:t.filter(r=>r.contactStatus!=="").length.toLocaleString(),color:"text-blue-600",icon:ts},{label:" ",value:t.filter(r=>r.contactStatus===" "||r.contactStatus==="").length.toLocaleString(),color:"text-red-600",icon:ua},{label:"  ",value:t.filter(r=>r.nextAction===" ").length.toLocaleString(),color:"text-indigo-600",icon:wi},{label:"Stage2  ",value:t.filter(r=>r.nextAction==="Stage2 ").length.toLocaleString(),color:"text-violet-600",icon:qn}]},quickActions:e=>{const t=e;return t.ownerType==="UNASSIGNED"?[{key:"precheck",label:" ",icon:Pd,tone:"text-gray-700 bg-gray-100 border-gray-200 hover:bg-gray-200"},{key:"verify-channel",label:" ",icon:Ws,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"}]:t.ownerType==="AGENT"?[{key:"agent-run",label:t.priorityTier==="L3"||t.priorityTier==="L2"?" Agent ":"Agent  ",icon:Ws,tone:"text-indigo-700 bg-indigo-50 border-indigo-100 hover:bg-indigo-100"},{key:"agent-status",label:" ",icon:Un,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"}]:[{key:"call",label:"",icon:ts,tone:"text-emerald-700 bg-emerald-50 border-emerald-100 hover:bg-emerald-100"},{key:"guardian",label:" ",icon:Hp,tone:t.source.profile.guardianPhone?"text-violet-700 bg-violet-50 border-violet-100 hover:bg-violet-100":"text-gray-400 bg-gray-100 border-gray-200",disabled:!t.source.profile.guardianPhone},{key:"reserve",label:" ",icon:wi,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"}]}},"Stage 2":{operationQuestion:"    ,  ?",operationHint:"Stage 2    .",sortLabel:"  ",defaultSortDescending:!0,mapRow:e=>N1e(e),compare:(e,t)=>{const r=e,n=t;return n.confirmationRank!==r.confirmationRank?n.confirmationRank-r.confirmationRank:n.classificationRank!==r.classificationRank?n.classificationRank-r.classificationRank:n.updatedMs-r.updatedMs},searchBlob:e=>{const t=e;return[t.caseId,t.classification,t.confirmation,t.nextPath,t.rationale,t.manager].join(" ")},summary:e=>{const t=e;return[{label:" ",value:t.length.toLocaleString(),color:"text-slate-900",icon:co},{label:" ",value:t.filter(r=>r.confirmation==="").length.toLocaleString(),color:"text-amber-600",icon:ua},{label:" ",value:t.filter(r=>r.confirmation==="").length.toLocaleString(),color:"text-blue-600",icon:Hp},{label:"Stage3 ",value:t.filter(r=>r.nextPath==="Stage3").length.toLocaleString(),color:"text-violet-600",icon:qn},{label:"  ",value:t.filter(r=>r.nextPath===" ").length.toLocaleString(),color:"text-orange-600",icon:Un}]},quickActions:()=>[{key:"edit-classification",label:" ",icon:Pd,tone:"text-indigo-700 bg-indigo-50 border-indigo-100 hover:bg-indigo-100"},{key:"review-rationale",label:" ",icon:Un,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"},{key:"move-stage3",label:"Stage3 ",icon:qn,tone:"text-violet-700 bg-violet-50 border-violet-100 hover:bg-violet-100"}]},"Stage 3":{operationQuestion:" , ,   ?",operationHint:"Stage 3 /  .",sortLabel:"  ",defaultSortDescending:!0,mapRow:e=>S1e(e),compare:(e,t)=>{const r=e,n=t;return n.intensityRank!==r.intensityRank?n.intensityRank-r.intensityRank:r.nextEvalMs-n.nextEvalMs},searchBlob:e=>{const t=e;return[t.caseId,t.trackingStatus,t.intensity,t.recentEvent,t.nextEvalDate,t.manager].join(" ")},summary:e=>{const t=e;return[{label:" ",value:t.length.toLocaleString(),color:"text-slate-900",icon:co},{label:" ",value:t.filter(r=>r.trackingStatus===" ").length.toLocaleString(),color:"text-red-600",icon:ua},{label:"",value:t.filter(r=>r.trackingStatus==="").length.toLocaleString(),color:"text-orange-600",icon:Un},{label:" ",value:t.filter(r=>r.intensity==="").length.toLocaleString(),color:"text-red-600",icon:Hp},{label:"7  ",value:t.filter(r=>r.nextEvalMs-Date.now()<=10080*60*1e3).length.toLocaleString(),color:"text-blue-600",icon:wi}]},quickActions:()=>[{key:"add-tracking",label:"  ",icon:Un,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"},{key:"book-recheck",label:" ",icon:wi,tone:"text-orange-700 bg-orange-50 border-orange-100 hover:bg-orange-100"},{key:"adjust-intensity",label:"  ",icon:Hp,tone:"text-violet-700 bg-violet-50 border-violet-100 hover:bg-violet-100"}]}};function j1e({onSelectCase:e,initialFilter:t}){const[r,n]=y.useState(""),[s,i]=y.useState("Stage 1"),[o,l]=y.useState(""),[u,d]=y.useState("ALL"),[f,m]=y.useState("ALL"),[h,x]=y.useState("ALL"),[v,N]=y.useState(!1),[b,S]=y.useState(!0),[j,A]=y.useState(null),_=y.useRef(null),E=y.useRef(null);y.useEffect(()=>{const P=Kve(t);n(P.alertFilter),i(P.stageFilter==="all"?"Stage 1":P.stageFilter)},[t]);const C=y.useMemo(()=>w1e[s],[s]);y.useEffect(()=>{S(C.defaultSortDescending)},[C.defaultSortDescending,s]),y.useEffect(()=>{s!=="Stage 1"&&N(!1)},[s]),y.useEffect(()=>{if(!v)return;const P=K=>{E.current&&(E.current.contains(K.target)||N(!1))};return window.addEventListener("pointerdown",P),()=>window.removeEventListener("pointerdown",P)},[v]);const R=y.useMemo(()=>{const P=o.trim().toLowerCase();return Tg.filter(K=>K.stage===s).map(K=>{const Z=C.mapRow(K);return{item:K,row:Z,searchBlob:C.searchBlob(Z).toLowerCase()}}).filter(K=>P?K.searchBlob.includes(P):!0)},[C,o,s]),I=y.useMemo(()=>{const P=Object.fromEntries(Cg.map(K=>[K,0]));P.=R.length;for(const K of Cg)K!==""&&(P[K]=R.reduce((Z,se)=>Z+(c$(se.item,K)?1:0),0));return P},[R]),O=y.useMemo(()=>{const P={"Stage 1":0,"Stage 2":0,"Stage 3":0};for(const K of Tg)(K.stage==="Stage 1"||K.stage==="Stage 2"||K.stage==="Stage 3")&&(P[K.stage]+=1);return P},[]),B=y.useMemo(()=>{const P=R.filter(se=>c$(se.item,r)).map(se=>se.row),Z=[...s==="Stage 1"?P.filter(se=>{const ie=u==="ALL"?!0:se.ownerType===u,Se=c1e(se.priorityTier,f),oe=l1e(se.contactStatus,h);return ie&&Se&&oe}):P].sort(C.compare);return b||Z.reverse(),Z},[r,C,u,f,R,b,s,h]),q=y.useMemo(()=>C.summary(B),[C,B]),F=y.useMemo(()=>B.find(P=>P.caseId===j)??null,[j,B]),Y=u!=="ALL"||f!=="ALL"||h!=="ALL",D=+(u!=="ALL")+ +(f!=="ALL")+ +(h!=="ALL"),G=r!==""||o.trim().length>0||s==="Stage 1"&&Y,U=()=>{d("ALL"),m("ALL"),x("ALL")},V=()=>{n(""),l(""),U()},M=()=>{_.current&&(clearTimeout(_.current),_.current=null)},Q=(P,K=0)=>{if(M(),K<=0){A(P);return}_.current=setTimeout(()=>{A(P),_.current=null},K)},J=(P=140)=>{M(),j&&(_.current=setTimeout(()=>{A(null),_.current=null},P))};return y.useEffect(()=>()=>M(),[]),a.jsxs("div",{className:"h-full flex flex-col gap-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:q.map((P,K)=>a.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:P.label}),a.jsx("p",{className:ce("text-xl font-bold mt-1",P.color),children:P.value})]}),a.jsx("div",{className:ce("p-2 rounded-lg bg-gray-50",P.color),children:a.jsx(P.icon,{size:20,className:"opacity-20"})})]},K))}),a.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:a.jsxs("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/30 space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 md:pb-0 scrollbar-hide",children:Cg.map(P=>a.jsxs("button",{onClick:()=>n(P),className:ce("group whitespace-nowrap rounded-xl border px-4 py-2 text-[12px] font-bold transition-all duration-200 ease-out active:scale-[0.98]",r===P?"border-blue-600 bg-gradient-to-b from-blue-500 to-blue-700 text-white shadow-[0_10px_20px_-12px_rgba(37,99,235,0.9)]":"border-gray-200 bg-white text-gray-600 shadow-[0_2px_8px_rgba(15,23,42,0.08)] hover:-translate-y-0.5 hover:scale-[1.03] hover:border-blue-200 hover:text-blue-700 hover:shadow-[0_12px_24px_-16px_rgba(37,99,235,0.75)]"),children:[P,a.jsxs("span",{className:ce("ml-1 text-[10px] font-semibold",r===P?"text-blue-100":"text-gray-400 transition-colors group-hover:text-blue-500"),children:["(",I[P].toLocaleString(),")"]})]},P))}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>S(P=>!P),className:"flex items-center gap-1 text-[10px] font-bold text-gray-600 bg-white px-2 py-1 border border-gray-200 rounded",children:[C.sortLabel,a.jsx(qK,{size:10})]}),a.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg border border-gray-200",title:"",children:a.jsx(su,{size:16})})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-bold text-gray-500 bg-white border border-gray-200 rounded px-2 py-1",children:[a.jsx(Pd,{size:10}),"Stage "]}),Xve.map(P=>a.jsxs("button",{onClick:()=>i(P.value),className:ce("group rounded-lg border px-3.5 py-1.5 text-[12px] font-semibold transition-all duration-200 ease-out active:scale-[0.98]",s===P.value?"border-[#163b6f] bg-gradient-to-b from-[#244f87] to-[#163b6f] text-white shadow-[0_8px_18px_-12px_rgba(22,59,111,0.9)]":"border-gray-200 bg-white text-gray-600 shadow-[0_1px_6px_rgba(15,23,42,0.06)] hover:-translate-y-0.5 hover:scale-[1.03] hover:border-[#9eb5d8] hover:text-[#163b6f] hover:shadow-[0_10px_20px_-14px_rgba(30,64,175,0.6)]"),children:[P.label,a.jsxs("span",{className:ce("ml-1 text-[10px] font-semibold",s===P.value?"text-blue-100":"text-gray-400 transition-colors group-hover:text-[#295a9d]"),children:["(",O[P.value].toLocaleString(),")"]})]},P.value)),s==="Stage 1"&&a.jsxs("div",{ref:E,className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>N(P=>!P),"aria-expanded":v,className:ce("inline-flex items-center gap-2 rounded-lg border px-3 py-1.5 text-[11px] font-semibold transition-colors",Y?"border-blue-200 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-600 hover:bg-gray-50"),children:[a.jsx(Pd,{size:12})," ",D>0&&a.jsx("span",{className:"rounded bg-blue-600 px-1.5 py-0.5 text-[10px] font-bold text-white",children:D})]}),v&&a.jsx("div",{className:"absolute left-0 top-[calc(100%+8px)] z-40 w-[360px] rounded-xl border border-gray-200 bg-white p-3 shadow-xl",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-[11px] font-bold text-gray-600",children:""}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Qve.map(P=>a.jsx("button",{onClick:()=>d(P.value),className:ce("rounded-md border px-2 py-1 text-[11px] font-semibold transition-colors",u===P.value?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:P.label},P.value))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-[11px] font-bold text-gray-600",children:" "}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Zve.map(P=>a.jsx("button",{onClick:()=>m(P.value),className:ce("rounded-md border px-2 py-1 text-[11px] font-semibold transition-colors",f===P.value?"border-orange-200 bg-orange-50 text-orange-700":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:P.label},P.value))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-[11px] font-bold text-gray-600",children:""}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Jve.map(P=>a.jsx("button",{onClick:()=>x(P.value),className:ce("rounded-md border px-2 py-1 text-[11px] font-semibold transition-colors",h===P.value?"border-blue-200 bg-blue-50 text-blue-700":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:P.label},P.value))})]}),a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-2",children:[a.jsx("span",{className:"text-[10px] text-gray-500",children:"   ."}),a.jsx("button",{type:"button",onClick:U,className:"text-[11px] font-semibold text-blue-600 hover:text-blue-700",children:"  "})]})]})})]}),s==="Stage 1"&&a.jsx("span",{className:"text-[10px] text-gray-500",children:" //   "}),a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:"inline-flex h-7 w-7 cursor-help items-center justify-center rounded-lg border border-blue-100 bg-blue-50 text-blue-700 shadow-sm transition-colors hover:bg-blue-100",children:a.jsx(xm,{size:13})}),a.jsxs("div",{className:"pointer-events-none invisible absolute left-0 top-full z-30 mt-2 w-[320px] rounded-lg border border-blue-100 bg-white p-3 opacity-0 shadow-xl transition-all duration-150 group-hover:visible group-hover:opacity-100",children:[a.jsx("p",{className:"text-[11px] font-bold text-blue-800",children:" "}),a.jsx("p",{className:"mt-1 text-xs text-gray-800",children:C.operationQuestion}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:C.operationHint})]})]}),a.jsxs("div",{className:"ml-auto flex w-full md:w-[280px] items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-1.5",children:[a.jsx(dh,{size:14,className:"text-gray-400"}),a.jsx("input",{value:o,onChange:P=>l(P.target.value),placeholder:"ID///  ",className:"w-full bg-transparent text-xs text-gray-700 outline-none placeholder:text-gray-400"})]}),G&&a.jsx("button",{onClick:V,className:"text-[11px] font-semibold text-blue-600 hover:text-blue-700",children:" "})]})]}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[s==="Stage 1"&&a.jsxs(a.Fragment,{children:[a.jsx("thead",{className:"sticky top-0 bg-white z-20 shadow-sm",children:a.jsxs("tr",{className:"bg-gray-50/80 text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:[a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:""}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "})]})}),a.jsxs("tbody",{className:"text-sm",children:[B.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-16 text-center text-xs text-gray-400",children:"   ."})}),B.map(P=>a.jsxs("tr",{"data-case-id":P.caseId,className:ce("cursor-pointer transition-colors border-b border-gray-50 last:border-0",j===P.caseId?"bg-blue-50/60":"hover:bg-gray-50/70"),onClick:()=>e(P.caseId,P.stage),onMouseEnter:()=>Q(P.caseId,30),onMouseLeave:()=>J(150),children:[a.jsxs("td",{className:"px-4 py-3.5",children:[a.jsx("p",{className:"font-mono font-medium text-gray-900",children:P.caseId}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",P.manager]})]}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsxs("div",{className:"group relative inline-flex flex-col",children:[a.jsx("span",{className:ce("inline-flex w-fit rounded border px-2 py-0.5 text-[10px] font-semibold",i1e(P.ownerType)),children:hA(P.ownerType)}),a.jsx("p",{className:"mt-1 text-[10px] text-gray-500",children:P.ownerName??" "}),a.jsx("div",{className:"pointer-events-none invisible absolute left-0 top-[calc(100%+6px)] z-20 w-56 rounded-lg border border-gray-200 bg-white p-2 text-[11px] text-gray-700 opacity-0 shadow-xl transition-all duration-150 group-hover:visible group-hover:opacity-100",children:P.ownerReason})]})}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsxs("div",{className:"group relative inline-flex flex-col",children:[a.jsxs("span",{className:ce("inline-flex w-fit rounded border px-2 py-0.5 text-[10px] font-semibold",a1e(P.priorityTier)),children:[P.priorityTier,"  ",u$(P.priorityTier)]}),a.jsxs("p",{className:"mt-1 text-[10px] text-gray-500",children:[s1e(P.priorityTier),"   ",P.priorityScore]}),a.jsxs("div",{className:"pointer-events-none invisible absolute left-0 top-[calc(100%+6px)] z-20 w-60 rounded-lg border border-gray-200 bg-white p-2 text-[11px] text-gray-700 opacity-0 shadow-xl transition-all duration-150 group-hover:visible group-hover:opacity-100",children:[a.jsx("p",{className:"font-semibold text-gray-800",children:"  "}),o1e(P).map(K=>a.jsxs("p",{className:"mt-1",children:[" ",K.label," ",K.contribution.toFixed(1),""]},`${P.caseId}-${K.key}`))]})]})}),a.jsxs("td",{className:"px-4 py-3.5",children:[a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",f1e(P.contactStatus)),children:P.contactStatus}),P.slaHint?a.jsxs("p",{className:"mt-1 text-[10px] text-gray-500",children:["SLA  : ",P.slaHint]}):null]}),a.jsx("td",{className:"px-4 py-3.5 text-xs text-gray-700",children:P.lastContactAttemptAt}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",p1e(P.channel)),children:P.channel})}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",m1e(P.nextAction)),children:P.nextAction})})]},P.caseId))]})]}),s==="Stage 2"&&a.jsxs(a.Fragment,{children:[a.jsx("thead",{className:"sticky top-0 bg-white z-20 shadow-sm",children:a.jsxs("tr",{className:"bg-gray-50/80 text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:[a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "})]})}),a.jsxs("tbody",{className:"text-sm",children:[B.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-16 text-center text-xs text-gray-400",children:"   ."})}),B.map(P=>a.jsxs("tr",{"data-case-id":P.caseId,className:ce("cursor-pointer transition-colors border-b border-gray-50 last:border-0",j===P.caseId?"bg-blue-50/60":"hover:bg-gray-50/70"),onClick:()=>e(P.caseId,P.stage),onMouseEnter:()=>Q(P.caseId,30),onMouseLeave:()=>J(150),children:[a.jsxs("td",{className:"px-4 py-3.5",children:[a.jsx("p",{className:"font-mono font-medium text-gray-900",children:P.caseId}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",P.manager]})]}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",h1e(P.classification)),children:P.classification})}),a.jsx("td",{className:"px-4 py-3.5 text-xs text-gray-700",children:P.rationale}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",g1e(P.confirmation)),children:P.confirmation})}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",x1e(P.nextPath)),children:P.nextPath})})]},P.caseId))]})]}),s==="Stage 3"&&a.jsxs(a.Fragment,{children:[a.jsx("thead",{className:"sticky top-0 bg-white z-20 shadow-sm",children:a.jsxs("tr",{className:"bg-gray-50/80 text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:[a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "})]})}),a.jsxs("tbody",{className:"text-sm",children:[B.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-16 text-center text-xs text-gray-400",children:"   ."})}),B.map(P=>a.jsxs("tr",{"data-case-id":P.caseId,className:ce("cursor-pointer transition-colors border-b border-gray-50 last:border-0",j===P.caseId?"bg-blue-50/60":"hover:bg-gray-50/70"),onClick:()=>e(P.caseId,P.stage),onMouseEnter:()=>Q(P.caseId,30),onMouseLeave:()=>J(150),children:[a.jsxs("td",{className:"px-4 py-3.5",children:[a.jsx("p",{className:"font-mono font-medium text-gray-900",children:P.caseId}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",P.manager]})]}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",y1e(P.trackingStatus)),children:P.trackingStatus})}),a.jsx("td",{className:"px-4 py-3.5 text-xs text-gray-700",children:P.recentEvent}),a.jsx("td",{className:"px-4 py-3.5 text-xs font-semibold text-gray-700",children:P.nextEvalDate}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",b1e(P.intensity)),children:P.intensity})})]},P.caseId))]})]})]}),F&&a.jsxs("div",{className:"fixed z-50 w-64 rounded-xl border border-gray-200 bg-white p-4 shadow-2xl",style:{top:(()=>{const P=document.querySelector(`tr[data-case-id="${F.caseId}"]`);if(!P)return 180;const K=P.getBoundingClientRect(),Z=250,se=K.top+K.height/2-Z/2;return Math.max(80,Math.min(se,window.innerHeight-Z-20))})(),right:24},onMouseEnter:()=>M(),onMouseLeave:()=>J(120),children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wide text-gray-400",children:" "}),a.jsx("p",{className:"mt-0.5 font-mono text-sm font-bold text-blue-700",children:F.caseId}),a.jsxs("p",{className:"mt-0.5 text-[11px] text-gray-500",children:[" ",F.manager]})]}),a.jsxs("div",{className:"mb-3 rounded-lg border border-gray-100 bg-gray-50 p-2 text-[11px] text-gray-700",children:[F.kind==="Stage 1"&&a.jsxs("p",{children:[hA(F.ownerType),"  ",F.priorityTier," ",u$(F.priorityTier),"(",F.priorityScore,")   ",F.contactStatus,"   ",F.nextAction]}),F.kind==="Stage 2"&&a.jsxs("p",{children:[" ",F.classification,"  ",F.confirmation,"   ",F.nextPath]}),F.kind==="Stage 3"&&a.jsxs("p",{children:[" ",F.trackingStatus,"   ",F.intensity,"   ",F.nextEvalDate]})]}),a.jsx("div",{className:"mb-3 grid grid-cols-2 gap-1.5",children:C.quickActions(F).map(P=>a.jsxs("button",{onClick:K=>K.stopPropagation(),disabled:P.disabled,className:ce("inline-flex items-center gap-1 rounded-lg border px-2 py-2 text-[11px] font-semibold",P.tone,P.disabled?"cursor-not-allowed opacity-70":"cursor-pointer"),children:[a.jsx(P.icon,{size:12}),P.label]},`${F.caseId}-${P.key}`))}),a.jsx("button",{className:"w-full rounded-lg bg-blue-600 py-2 text-[11px] font-bold text-white hover:bg-blue-700",onClick:()=>e(F.caseId,F.stage),children:" "})]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 text-[10px] text-gray-500 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("span",{children:[s,"  : 1 - ",B.length," of ",Tg.filter(P=>P.stage===s).length]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"italic",children:"Stage  ///  ."}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx(Un,{size:10}),"   "]})]})]})]})})]})}function qt(e){let t=0;for(let r=0;r<e.length;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return(t>>>0)%1e4/1e4}function rd(e,t){return e[Math.floor(qt(t)*e.length)]}function ba(e,t,r){return new Date(e,t-1,1+r).toISOString().split("T")[0]}const E1e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_1e=["","","",""],A1e=["MRI","PET","BLOOD","ETC"],C1e=["CENTER_SCREEN","PUBLIC_HEALTH","HOSPITAL_REFERRAL"],T1e=["  ,  ","    ","1   ,  ","MMSE   ","   ","  ,  ","  ,  ","    "],k1e=[" "," "," ",""," "," ","",""];function O1e(e,t){const r=[],n=ba(2026,1,Math.floor(qt(`${t}-reg`)*20)+5);if(r.push(` : ${n}`),e.smsHistory.length>0&&e.smsHistory.forEach((s,i)=>{r.push(` (${s.templateId}): ${s.sentAt}  ${s.result==="SUCCESS"?"":""}`)}),e.contactStatus==="REACHED"){const s=ba(2026,1,Math.floor(qt(`${t}-cont`)*25)+10);r.push(` : ${s} ${String(9+Math.floor(qt(`${t}-ch`)*8)).padStart(2,"0")}:${String(Math.floor(qt(`${t}-cm`)*60)).padStart(2,"0")}`)}if(e.consultStatus==="IN_PROGRESS"?r.push(` : ${ba(2026,1,Math.floor(qt(`${t}-cip`)*25)+15)} (1)`):e.consultStatus==="DONE"&&r.push(` : ${ba(2026,1,Math.floor(qt(`${t}-cd`)*20)+18)} (1)`),e.reservation){const s=e.reservation.type==="CENTER_SCREEN"?" ":e.reservation.type==="PUBLIC_HEALTH"?" ":" ";r.push(` : ${e.reservation.date} ${e.reservation.time} ${s} / : ${e.reservation.reasonText.slice(0,20)}`)}return e.secondExamStatus==="SCHEDULED"?r.push(`2  : ${ba(2026,2,Math.floor(qt(`${t}-se`)*20)+5)} (${e.secondExamType||"MRI"})`):e.secondExamStatus==="DONE"?r.push(`2  : ${ba(2026,2,Math.floor(qt(`${t}-sed`)*15)+1)}`):e.secondExamStatus==="RESULT_CONFIRMED"&&(r.push(`2  : ${ba(2026,1,Math.floor(qt(`${t}-sedc`)*15)+20)}`),r.push(`2    : ${ba(2026,2,Math.floor(qt(`${t}-serc`)*10)+1)}`)),qt(`${t}-churn`)<.12&&(r.push("  (3):    "),r.push(`   1: ${ba(2026,1,Math.floor(qt(`${t}-ns`)*20)+10)}`)),r}function R1e(){return E1e.map((e,t)=>{const r=`CASE-2026-${String(t+1).padStart(3,"0")}`,n=`${r}-seed`,s=qt(n),i=s<.25?"high":s<.7?"medium":"low",o=qt(`${n}-cs`)<.28?"UNREACHED":"REACHED";let l="NOT_STARTED";if(o==="REACHED"){const _=qt(`${n}-cons`);l=_<.15?"NOT_STARTED":_<.45?"IN_PROGRESS":"DONE"}let u="not_contacted";o==="REACHED"&&(l==="DONE"?u=qt(`${n}-apt`)<.55?"appointment_scheduled":"consultation_complete":u="contacted");let d="NONE";const f=qt(`${n}-se`);l==="DONE"?d=f<.35?"NONE":f<.6?"SCHEDULED":f<.82?"DONE":"RESULT_CONFIRMED":l==="IN_PROGRESS"&&f>.85&&(d="SCHEDULED");const m=d!=="NONE"?rd(A1e,`${n}-set`):void 0;let h=null;qt(`${n}-res`)<.35&&o==="REACHED"&&(h={type:rd(C1e,`${n}-rt`),date:ba(2026,2,Math.floor(qt(`${n}-rd`)*25)+3),time:`${String(9+Math.floor(qt(`${n}-rh`)*8)).padStart(2,"0")}:${qt(`${n}-rm`)<.5?"00":"30"}`,reasonText:rd(T1e,`${n}-rr`),locationText:rd(k1e,`${n}-rl`)});const x=[],v=Math.floor(qt(`${n}-sms`)*4);for(let _=0;_<v;_++){const C=rd([" "," ","  ","  "],`${n}-sms-${_}`);x.push({sentAt:`${ba(2026,1,Math.floor(qt(`${n}-smsd-${_}`)*30)+1)} ${String(9+Math.floor(qt(`${n}-smsh-${_}`)*9)).padStart(2,"0")}:${String(Math.floor(qt(`${n}-smsm-${_}`)*60)).padStart(2,"0")}`,templateId:C,previewText:`[] ${C}  .`,to:`010-****-${String(1e3+t*100+_).slice(-4)}`,result:qt(`${n}-smsr-${_}`)<.85?"SUCCESS":"FAIL"})}const N=60+Math.floor(qt(`${n}-age`)*25),b=qt(`${n}-gen`)<.55?"":"",S=o==="REACHED"?ba(2026,1,Math.floor(qt(`${n}-lc`)*30)+1):null,A=O1e({contactStatus:o,consultStatus:l,secondExamStatus:d,secondExamType:m,reservation:h,smsHistory:x},n);return{id:r,patientName:e,age:N,gender:b,riskLevel:i,riskScore:i==="high"?65+Math.floor(qt(`${n}-rs`)*30):i==="medium"?35+Math.floor(qt(`${n}-rs`)*30):5+Math.floor(qt(`${n}-rs`)*30),lastContact:S,status:u,counselor:rd(_1e,`${n}-coun`),isFavorite:qt(`${n}-fav`)<.15,phone:`010-${String(1e3+Math.floor(qt(`${n}-p1`)*9e3)).padStart(4,"0")}-${String(1e3+Math.floor(qt(`${n}-p2`)*9e3)).padStart(4,"0")}`,registeredDate:ba(2026,1,Math.floor(qt(`${n}-reg`)*20)+1),secondExamStatus:d,secondExamType:m,contactStatus:o,consultStatus:l,reservation:h,autoMemo:{lastUpdatedAt:A.length>0?ba(2026,2,Math.floor(qt(`${n}-mu`)*5)+1):ba(2026,1,15),lines:A},smsHistory:x,guardianPhone:qt(`${n}-gp`)<.3?`010-${String(2e3+Math.floor(qt(`${n}-gp1`)*8e3)).padStart(4,"0")}-${String(1e3+Math.floor(qt(`${n}-gp2`)*9e3)).padStart(4,"0")}`:void 0}})}function P1e(e){const t=[];let r=0;return e.forEach(n=>{if(!n.reservation)return;r++;const s=n.reservation.type==="CENTER_SCREEN"?" ":n.reservation.type==="PUBLIC_HEALTH"?" ":" ";t.push({id:`APT-${String(r).padStart(3,"0")}`,caseId:n.id,patientName:n.patientName,patientAge:n.age,date:n.reservation.date,time:n.reservation.time,type:s,reservationType:n.reservation.type,reasonText:n.reservation.reasonText,status:qt(`${n.id}-aptst`)<.3?"confirmed":qt(`${n.id}-aptst`)<.55?"reminder_sent":qt(`${n.id}-aptst`)<.75?"pending":"completed",riskLevel:n.riskLevel,counselor:n.counselor,phone:n.phone,reminderSent:qt(`${n.id}-rem`)<.6,notes:n.reservation.reasonText,caseContactStatus:n.contactStatus,caseConsultStatus:n.consultStatus,caseSecondExamStatus:n.secondExamStatus,autoMemoRecent:n.autoMemo.lines.slice(-3)})}),e.forEach(n=>{n.secondExamStatus==="SCHEDULED"&&(r++,t.push({id:`APT-${String(r).padStart(3,"0")}`,caseId:n.id,patientName:n.patientName,patientAge:n.age,date:ba(2026,2,Math.floor(qt(`${n.id}-se-apt`)*20)+5),time:`${String(9+Math.floor(qt(`${n.id}-se-h`)*8)).padStart(2,"0")}:00`,type:`2  (${n.secondExamType||"MRI"})`,status:"confirmed",riskLevel:n.riskLevel,counselor:n.counselor,phone:n.phone,reminderSent:!1,notes:`2  (${n.secondExamType}) `,caseContactStatus:n.contactStatus,caseConsultStatus:n.consultStatus,caseSecondExamStatus:n.secondExamStatus,autoMemoRecent:n.autoMemo.lines.slice(-3)}))}),t}const xj={NONE:"",SCHEDULED:"",DONE:"",RESULT_CONFIRMED:""},yj={UNREACHED:"",REACHED:""},bj={NOT_STARTED:"",IN_PROGRESS:"",DONE:""},vj={CENTER_SCREEN:" ",PUBLIC_HEALTH:" ",HOSPITAL_REFERRAL:" "};function d$(e){return e.replace(/(\d{3})-(\d{4})-(\d{4})/,"$1-****-$3")}function Ji(e){return String(e).padStart(2,"0")}function Ql(e){return`${e.getFullYear()}-${Ji(e.getMonth()+1)}-${Ji(e.getDate())}`}function ag(e){const[t,r,n]=e.split("-").map(Number);return new Date(t,(r||1)-1,n||1)}function kg(e,t){const r=new Date(e);return r.setDate(e.getDate()+t),r}function D1e(e,t){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return Math.round((n-r)/(1440*60*1e3))}function I1e(e){return e==="pending"?"":e==="completed"?"":e==="cancelled"?"":""}function M1e(e){return e.includes("2 ")?"":e.includes("")?"":e.includes("")?"":e.includes("")?"":""}function Nj(e,t){return t===""||e==="high"?"":e==="medium"?"":""}function f$(e){return e===""?{icon:ts,chip:"bg-blue-500 text-white"}:e===""?{icon:wi,chip:"bg-emerald-500 text-white"}:e===""?{icon:wf,chip:"bg-violet-500 text-white"}:e===""?{icon:JV,chip:"bg-indigo-600 text-white"}:{icon:qn,chip:"bg-cyan-600 text-white"}}function p$(e){return e===""?"text-red-700 bg-red-50 border-red-100":e===""?"text-amber-700 bg-amber-50 border-amber-100":e===""?"text-gray-600 bg-gray-50 border-gray-200":e===""?"text-slate-600 bg-slate-100 border-slate-200":"text-emerald-700 bg-emerald-50 border-emerald-100"}function m$(e){return e===""?"text-red-700 bg-red-50 border-red-100":e===""?"text-orange-700 bg-orange-50 border-orange-100":"text-blue-700 bg-blue-50 border-blue-100"}function Sj(e){return e==="high"?{label:"",tone:"text-red-700 bg-red-50 border-red-100"}:e==="medium"?{label:"",tone:"text-amber-700 bg-amber-50 border-amber-100"}:{label:"",tone:"text-emerald-700 bg-emerald-50 border-emerald-100"}}function h$(e){return{title:"",caseId:"",patientName:"",patientAge:"70",date:e,time:"09:00",durationMinutes:"30",type:"",status:"",priority:"",riskLevel:"medium",assignee:"",location:"",reservationType:"",contactStatus:"",consultStatus:"",secondExamStatus:"",phone:"",guardianPhone:"",reminderSent:!1,reminderChannel:"SMS",followUpRequired:!1,reasonText:"",notes:""}}function L1e(e){return{title:e.title,caseId:e.caseId,patientName:e.patientName,patientAge:String(e.patientAge||70),date:e.date,time:e.time,durationMinutes:String(e.durationMinutes||30),type:e.type,status:e.status,priority:e.priority,riskLevel:e.riskLevel,assignee:e.assignee,location:e.location??"",reservationType:e.reservationType??"",contactStatus:e.contactStatus??"",consultStatus:e.consultStatus??"",secondExamStatus:e.secondExamStatus??"",phone:e.phone??"",guardianPhone:e.guardianPhone??"",reminderSent:e.reminderSent,reminderChannel:e.reminderChannel,followUpRequired:e.followUpRequired,reasonText:e.reasonText??"",notes:e.notes??""}}function $1e(e){const t=R1e(),r=P1e(t).slice(0,24),n=new Map(t.map(l=>[l.id,l])),s=r.map((l,u)=>{const d=I1e(l.status),f=M1e(l.type),m=Ql(kg(e,u%17-6)),h=u%2===0?"00":"30",x=n.get(l.caseId);return{id:`SCH-APT-${Ji(u+1)}`,caseId:l.caseId,patientName:l.patientName,patientAge:l.patientAge||0,date:m,time:l.time||`${Ji(9+u%8)}:${h}`,durationMinutes:f===""?60:30,type:f,status:d,priority:Nj(l.riskLevel,d),riskLevel:l.riskLevel,title:l.type,assignee:l.counselor,location:x?.reservation?.locationText,reservationType:l.reservationType,contactStatus:l.caseContactStatus,consultStatus:l.caseConsultStatus,secondExamStatus:l.caseSecondExamStatus,phone:l.phone,guardianPhone:x?.guardianPhone,reminderSent:l.status==="reminder_sent"||!!l.reminderSent,reminderChannel:"SMS",followUpRequired:d===""||l.riskLevel==="high",reasonText:l.reasonText,notes:l.notes,autoMemoRecent:l.autoMemoRecent}}),i=t.filter(l=>l.contactStatus==="UNREACHED").slice(0,8).map((l,u)=>{const d=u%4===0?"":u%3===0?"":"";return{id:`SCH-CALL-${Ji(u+1)}`,caseId:l.id,patientName:l.patientName,patientAge:l.age,date:Ql(kg(e,u%9-2)),time:`${Ji(10+u%6)}:${u%2===0?"00":"30"}`,durationMinutes:20,type:"",status:d,priority:Nj(l.riskLevel,d),riskLevel:l.riskLevel,title:"  ",assignee:l.counselor,contactStatus:l.contactStatus,consultStatus:l.consultStatus,secondExamStatus:l.secondExamStatus,phone:l.phone,guardianPhone:l.guardianPhone,reminderSent:!1,reminderChannel:"",followUpRequired:!0,reasonText:"    ",notes:"3      ",autoMemoRecent:l.autoMemo.lines.slice(-3)}}),o=t.filter(l=>l.consultStatus!=="NOT_STARTED").slice(0,8).map((l,u)=>{const d=u%2===0,f=u%5===0?"":"";return{id:`SCH-SVC-${Ji(u+1)}`,caseId:l.id,patientName:l.patientName,patientAge:l.age,date:Ql(kg(e,u+1)),time:`${Ji(9+u%7)}:${u%3===0?"00":"30"}`,durationMinutes:d?50:40,type:d?"":"",status:f,priority:Nj(l.riskLevel,f),riskLevel:l.riskLevel,title:d?"  ":"   ",assignee:l.counselor,location:d?l.reservation?.locationText??"    ":" /",reservationType:l.reservation?.type,contactStatus:l.contactStatus,consultStatus:l.consultStatus,secondExamStatus:l.secondExamStatus,phone:l.phone,guardianPhone:l.guardianPhone,reminderSent:u%3===0,reminderChannel:d?"":"SMS",followUpRequired:l.secondExamStatus==="SCHEDULED"||f==="",reasonText:l.reservation?.reasonText??"   ",notes:l.autoMemo.lines.slice(-2).join(" / "),autoMemoRecent:l.autoMemo.lines.slice(-3)}});return[...s,...i,...o].sort((l,u)=>`${l.date} ${l.time}`.localeCompare(`${u.date} ${u.time}`))}function F1e(){const[e,t]=y.useState("month"),[r,n]=y.useState(()=>{const H=new Date;return new Date(H.getFullYear(),H.getMonth(),1)}),[s,i]=y.useState(()=>Ql(new Date)),[o,l]=y.useState(!1),[u,d]=y.useState(null),[f,m]=y.useState(!1),[h,x]=y.useState("create"),[v,N]=y.useState(null),[b,S]=y.useState(()=>h$(Ql(new Date))),[j,A]=y.useState(""),[_,E]=y.useState(""),[C,R]=y.useState(""),[I,O]=y.useState(""),B=new Date,q=Ql(B),[F,Y]=y.useState(()=>$1e(B)),D=y.useMemo(()=>F.find(H=>H.id===u)??null,[F,u]),G=y.useMemo(()=>Array.from(new Set(F.map(H=>H.assignee))).sort((H,ve)=>H.localeCompare(ve,"ko")),[F]),U=y.useMemo(()=>{const H=j.trim().toLowerCase();return F.filter(ve=>_!==""&&ve.status!==_||C!==""&&ve.type!==C||I!==""&&ve.assignee!==I?!1:H?[ve.caseId,ve.patientName,ve.title,ve.assignee,ve.location,ve.reasonText].filter(Boolean).join(" ").toLowerCase().includes(H):!0)},[F,j,_,C,I]),V=y.useMemo(()=>{const H=r.getFullYear(),ve=r.getMonth(),Re=new Date(H,ve,1).getDay(),Te=new Date(H,ve+1,0).getDate(),Qe=[];for(let $e=0;$e<Re;$e+=1)Qe.push(null);for(let $e=1;$e<=Te;$e+=1)Qe.push($e);for(;Qe.length%7!==0;)Qe.push(null);return Qe},[r]),M=y.useMemo(()=>{const H=new Map;for(const ve of U){const Re=H.get(ve.date)??[];Re.push(ve),H.set(ve.date,Re)}for(const ve of H.values())ve.sort((Re,Te)=>Re.time.localeCompare(Te.time));return H},[U]),Q=y.useMemo(()=>U.filter(H=>{if(H.status!==""&&H.status!==""||H.reminderSent)return!1;const ve=D1e(B,ag(H.date));return ve>=0&&ve<=3}),[U,B]),J=U.filter(H=>H.status===""),P=U.filter(H=>H.riskLevel==="high"),K=M.get(q)??[],Z=M.get(s)??[],se=y.useMemo(()=>{if(e==="month")return[];if(e==="day")return[s];const H=ag(s),ve=new Date(H);return ve.setDate(H.getDate()-H.getDay()),Array.from({length:7}).map((Re,Te)=>Ql(kg(ve,Te)))},[e,s]),ie=`${r.getFullYear()} ${r.getMonth()+1}`,Se=H=>{n(ve=>new Date(ve.getFullYear(),ve.getMonth()+H,1))},oe=()=>{A(""),E(""),R(""),O("")},je=()=>{x("create"),N(null),S(h$(s)),m(!0)},pe=H=>{d(H),l(!0)},Ee=()=>{D&&(x("edit"),N(D.id),S(L1e(D)),l(!1),m(!0))},me=(H,ve)=>{S(Re=>({...Re,[H]:ve}))},fe=()=>{if(!b.title.trim()||!b.caseId.trim()||!b.patientName.trim()||!b.date||!b.time||!b.assignee.trim()){window.alert(" (,  ID, , , , ) .");return}const H=Number(b.patientAge),ve=Number(b.durationMinutes),Re=b.notes.trim(),Te=h==="create"?`SCH-${Date.now()}`:v??`SCH-${Date.now()}`,Qe={id:Te,caseId:b.caseId.trim(),patientName:b.patientName.trim(),patientAge:Number.isFinite(H)&&H>0?Math.round(H):0,date:b.date,time:b.time,durationMinutes:Number.isFinite(ve)&&ve>0?Math.round(ve):30,type:b.type,status:b.status,priority:b.priority,riskLevel:b.riskLevel,title:b.title.trim(),assignee:b.assignee.trim(),location:b.location.trim()||void 0,reservationType:b.reservationType||void 0,contactStatus:b.contactStatus||void 0,consultStatus:b.consultStatus||void 0,secondExamStatus:b.secondExamStatus||void 0,phone:b.phone.trim()||void 0,guardianPhone:b.guardianPhone.trim()||void 0,reminderSent:b.reminderSent,reminderChannel:b.reminderChannel,followUpRequired:b.followUpRequired,reasonText:b.reasonText.trim()||void 0,notes:Re||void 0,autoMemoRecent:Re?Re.split(`
`).map(jt=>jt.trim()).filter(Boolean).slice(0,3).map(jt=>`: ${jt}`):void 0};h==="create"?Y(jt=>[Qe,...jt]):(Y(jt=>jt.map(Ze=>Ze.id===Te?Qe:Ze)),d(Te),l(!0));const $e=ag(Qe.date);i(Qe.date),n(new Date($e.getFullYear(),$e.getMonth(),1)),m(!1),N(null)},Xe=()=>{!D||!window.confirm("  ?")||(Y(ve=>ve.filter(Re=>Re.id!==D.id)),d(null),l(!1))};return a.jsxs("div",{className:"space-y-5",children:[Q.length>0&&a.jsx("section",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(XK,{size:16,className:"text-amber-700"}),a.jsxs("p",{className:"text-sm font-semibold text-amber-900",children:["   ",Q.length,""]})]}),a.jsx("span",{className:"rounded-md border border-amber-300 bg-white px-2.5 py-1 text-[11px] font-semibold text-amber-800",children:"3  / "})]})}),a.jsxs("section",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-[11px] font-semibold text-gray-500",children:"  "}),a.jsx("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:U.length}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[" ",F.length," "]})]}),a.jsxs("div",{className:"rounded-xl border border-blue-200 bg-blue-50 p-4",children:[a.jsx("p",{className:"text-[11px] font-semibold text-blue-700",children:" "}),a.jsx("p",{className:"mt-1 text-2xl font-bold text-blue-900",children:K.length}),a.jsx("p",{className:"mt-1 text-[11px] text-blue-700",children:"   "})]}),a.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4",children:[a.jsx("p",{className:"text-[11px] font-semibold text-red-700",children:" "}),a.jsx("p",{className:"mt-1 text-2xl font-bold text-red-900",children:J.length}),a.jsx("p",{className:"mt-1 text-[11px] text-red-700",children:"SLA  "})]}),a.jsxs("div",{className:"rounded-xl border border-orange-200 bg-orange-50 p-4",children:[a.jsx("p",{className:"text-[11px] font-semibold text-orange-700",children:" "}),a.jsx("p",{className:"mt-1 text-2xl font-bold text-orange-900",children:P.length}),a.jsx("p",{className:"mt-1 text-[11px] text-orange-700",children:"  "})]})]}),a.jsx("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[a.jsxs("div",{className:"min-w-[220px] flex-1",children:[a.jsx(bt,{className:"text-xs text-gray-600",children:""}),a.jsxs("div",{className:"relative mt-1.5",children:[a.jsx(dh,{size:14,className:"pointer-events-none absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx(fr,{value:j,onChange:H=>A(H.target.value),className:"pl-8",placeholder:" ID, , , "})]})]}),a.jsxs("div",{className:"w-[150px]",children:[a.jsx(bt,{className:"text-xs text-gray-600",children:""}),a.jsx("select",{value:_,onChange:H=>E(H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","","","","",""].map(H=>a.jsx("option",{value:H,children:H},H))})]}),a.jsxs("div",{className:"w-[150px]",children:[a.jsx(bt,{className:"text-xs text-gray-600",children:""}),a.jsx("select",{value:C,onChange:H=>R(H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","","","","",""].map(H=>a.jsx("option",{value:H,children:H},H))})]}),a.jsxs("div",{className:"w-[150px]",children:[a.jsx(bt,{className:"text-xs text-gray-600",children:""}),a.jsxs("select",{value:I,onChange:H=>O(H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:""}),G.map(H=>a.jsx("option",{value:H,children:H},H))]})]}),a.jsxs(pt,{variant:"outline",onClick:oe,className:"h-9",children:[a.jsx(Pd,{size:14,className:"mr-1"})," "]})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 xl:grid-cols-12",children:[a.jsxs("section",{className:"xl:col-span-8 rounded-xl border border-gray-200 bg-white shadow-sm",children:[a.jsx("header",{className:"border-b border-gray-100 px-4 py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:ie}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>Se(-1),className:"rounded border border-gray-200 p-1 text-gray-600 hover:bg-gray-50",children:a.jsx(au,{size:15})}),a.jsx("button",{onClick:()=>Se(1),className:"rounded border border-gray-200 p-1 text-gray-600 hover:bg-gray-50",children:a.jsx(vs,{size:15})})]}),a.jsx("button",{onClick:()=>{const H=new Date;n(new Date(H.getFullYear(),H.getMonth(),1)),i(Ql(H))},className:"text-xs font-semibold text-gray-500 hover:text-gray-800",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-1 text-[11px] font-semibold",children:["month","week","day"].map(H=>a.jsx("button",{onClick:()=>t(H),className:ce("rounded-md px-2.5 py-1",e===H?"bg-white text-gray-900 shadow-sm":"text-gray-500"),children:H==="month"?"":H==="week"?"":""},H))}),a.jsxs("button",{onClick:je,className:"inline-flex items-center gap-1 rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white",children:[a.jsx(o7,{size:13})," "]})]})]})}),a.jsx("div",{className:"px-3 pb-3 pt-2",children:e==="month"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-7 border-b border-gray-100 pb-2 text-center text-[10px] font-bold uppercase tracking-wider text-gray-400",children:["","","","","","",""].map(H=>a.jsx("div",{children:H},H))}),a.jsx("div",{className:"grid grid-cols-7 gap-1 pt-2",children:V.map((H,ve)=>{if(!H)return a.jsx("div",{className:"min-h-[92px] rounded-lg border border-transparent bg-gray-50/40"},`empty-${ve}`);const Re=`${r.getFullYear()}-${Ji(r.getMonth()+1)}-${Ji(H)}`,Te=M.get(Re)??[],Qe=Re===q,$e=Re===s;return a.jsxs("button",{onClick:()=>i(Re),className:ce("min-h-[92px] rounded-lg border p-2 text-left transition-colors",$e?"border-blue-300 bg-blue-50":"border-gray-100 bg-white hover:border-gray-200 hover:bg-gray-50",Qe&&!$e?"border-emerald-300":""),children:[a.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[a.jsx("span",{className:ce("inline-flex h-5 w-5 items-center justify-center rounded-full text-[10px] font-bold",Qe?"bg-emerald-500 text-white":"text-gray-600"),children:H}),a.jsx("span",{className:"text-[10px] text-gray-400",children:Te.length?`${Te.length}`:""})]}),a.jsxs("div",{className:"space-y-1",children:[Te.slice(0,3).map(jt=>{const Ze=f$(jt.type),De=Ze.icon;return a.jsxs("button",{onClick:He=>{He.stopPropagation(),pe(jt.id)},className:ce("flex w-full items-center gap-1 rounded px-1 py-0.5 text-[10px] font-semibold transition-opacity hover:opacity-90",Ze.chip,jt.riskLevel==="high"?"ring-1 ring-red-300":""),children:[a.jsx(De,{size:9}),a.jsxs("span",{className:"truncate",children:[jt.time," ",jt.patientName]})]},jt.id)}),Te.length>3?a.jsxs("p",{className:"text-[10px] text-gray-500",children:["+",Te.length-3,""]}):null]})]},Re)})}),a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2 border-t border-gray-100 pt-3 text-[11px] md:grid-cols-5",children:["","","","",""].map(H=>{const Re=f$(H).icon;return a.jsxs("div",{className:"inline-flex items-center gap-1 rounded border border-gray-100 bg-gray-50 px-2 py-1 text-gray-600",children:[a.jsx(Re,{size:11}),H]},H)})})]}):a.jsx("div",{className:"space-y-3 pt-2",children:se.map(H=>{const ve=M.get(H)??[],Re=ag(H).toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"});return a.jsxs("section",{className:"rounded-lg border border-gray-200",children:[a.jsxs("header",{className:"flex items-center justify-between border-b border-gray-100 px-3 py-2",children:[a.jsx("button",{onClick:()=>i(H),className:ce("text-sm font-semibold",H===s?"text-blue-700":"text-gray-800"),children:Re}),a.jsxs("span",{className:"text-[11px] text-gray-500",children:[ve.length,""]})]}),a.jsx("div",{className:"space-y-2 p-2",children:ve.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:"  ."}):ve.map(Te=>a.jsxs("button",{onClick:()=>pe(Te.id),className:"w-full rounded-md border border-gray-100 bg-white px-3 py-2 text-left text-xs transition-colors hover:border-blue-200 hover:bg-blue-50/30",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[Te.time,"  ",Te.title]}),a.jsx("span",{className:ce("rounded border px-1.5 py-0.5 text-[10px] font-semibold",p$(Te.status)),children:Te.status})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-600",children:[Te.caseId,"  ",Te.patientName,"   ",Te.assignee]})]},Te.id))})]},H)})})})]}),a.jsxs("aside",{className:"space-y-4 xl:col-span-4 xl:sticky xl:top-4 xl:self-start xl:max-h-[calc(100vh-132px)] xl:overflow-y-auto xl:pr-1",children:[a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-gray-900",children:[a.jsx(Sy,{size:14,className:"text-blue-600"})," "]}),a.jsx("div",{className:"mt-3 space-y-2",children:K.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:"  ."}):K.map(H=>a.jsxs("button",{onClick:()=>pe(H.id),className:"w-full rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-left text-xs transition-colors hover:border-blue-200 hover:bg-blue-50/40",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("p",{className:"font-semibold text-gray-800",children:[H.time,"  ",H.title]}),a.jsx("span",{className:ce("rounded border px-1.5 py-0.5 text-[10px] font-semibold",m$(H.priority)),children:H.priority})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[H.caseId,"  ",H.patientName]})]},H.id))})]}),a.jsxs("section",{className:"rounded-xl border border-red-200 bg-red-50 p-4",children:[a.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-red-800",children:[a.jsx(ua,{size:14})," "]}),a.jsx("div",{className:"mt-3 space-y-2",children:J.length===0?a.jsx("p",{className:"rounded-md border border-red-100 bg-white px-3 py-2 text-xs text-red-700",children:"  ."}):J.slice(0,8).map(H=>a.jsxs("button",{onClick:()=>pe(H.id),className:"w-full rounded-md border border-red-100 bg-white px-3 py-2 text-left text-xs transition-colors hover:border-red-200 hover:bg-red-50",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[H.caseId,"  ",H.patientName]}),a.jsx("p",{className:"mt-0.5 text-red-700",children:H.title}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[H.date," ",H.time]})]},H.id))})]}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:s}),a.jsx("div",{className:"mt-3 space-y-2",children:Z.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:"   ."}):Z.map(H=>{const ve=Sj(H.riskLevel);return a.jsxs("button",{onClick:()=>pe(H.id),className:"w-full rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-left text-xs transition-colors hover:border-gray-200 hover:bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[H.time,"  ",H.type]}),a.jsx("span",{className:ce("rounded border px-1.5 py-0.5 text-[10px] font-semibold",ve.tone),children:ve.label})]}),a.jsx("p",{className:"mt-1 text-gray-700",children:H.title}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[H.caseId,"   ",H.assignee]})]},H.id)})})]})]})]}),a.jsx(Qi,{open:f,onOpenChange:m,children:a.jsxs(Zi,{className:"max-h-[85vh] max-w-3xl overflow-y-auto",children:[a.jsxs(Bg,{children:[a.jsx(Ug,{children:h==="create"?" ":" "}),a.jsx(wE,{children:"v1         ."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(bt,{children:" *"}),a.jsx(fr,{value:b.title,onChange:H=>me("title",H.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(bt,{children:" ID *"}),a.jsx(fr,{value:b.caseId,onChange:H=>me("caseId",H.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(bt,{children:" *"}),a.jsx(fr,{value:b.patientName,onChange:H=>me("patientName",H.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(bt,{children:""}),a.jsx(fr,{type:"number",min:0,value:b.patientAge,onChange:H=>me("patientAge",H.target.value),className:"mt-1.5"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[a.jsxs("div",{children:[a.jsx(bt,{children:" *"}),a.jsx(fr,{type:"date",value:b.date,onChange:H=>me("date",H.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(bt,{children:" *"}),a.jsx(fr,{type:"time",value:b.time,onChange:H=>me("time",H.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(bt,{children:"()"}),a.jsx(fr,{type:"number",min:10,step:10,value:b.durationMinutes,onChange:H=>me("durationMinutes",H.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(bt,{children:" *"}),a.jsx(fr,{value:b.assignee,onChange:H=>me("assignee",H.target.value),className:"mt-1.5"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[a.jsxs("div",{children:[a.jsx(bt,{children:" "}),a.jsx("select",{value:b.type,onChange:H=>me("type",H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","","","",""].map(H=>a.jsx("option",{value:H,children:H},H))})]}),a.jsxs("div",{children:[a.jsx(bt,{children:""}),a.jsx("select",{value:b.status,onChange:H=>me("status",H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","","","",""].map(H=>a.jsx("option",{value:H,children:H},H))})]}),a.jsxs("div",{children:[a.jsx(bt,{children:""}),a.jsx("select",{value:b.priority,onChange:H=>me("priority",H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","",""].map(H=>a.jsx("option",{value:H,children:H},H))})]}),a.jsxs("div",{children:[a.jsx(bt,{children:""}),a.jsxs("select",{value:b.riskLevel,onChange:H=>me("riskLevel",H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"high",children:""}),a.jsx("option",{value:"medium",children:""}),a.jsx("option",{value:"low",children:""})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(bt,{children:" (v1 )"}),a.jsxs("select",{value:b.reservationType,onChange:H=>me("reservationType",H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:" "}),Object.keys(vj).map(H=>a.jsx("option",{value:H,children:vj[H]},H))]})]}),a.jsxs("div",{children:[a.jsx(bt,{children:""}),a.jsx(fr,{value:b.location,onChange:H=>me("location",H.target.value),className:"mt-1.5"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(bt,{children:""}),a.jsx(fr,{value:b.phone,onChange:H=>me("phone",H.target.value),className:"mt-1.5",placeholder:"010-1234-5678"})]}),a.jsxs("div",{children:[a.jsx(bt,{children:" "}),a.jsx(fr,{value:b.guardianPhone,onChange:H=>me("guardianPhone",H.target.value),className:"mt-1.5",placeholder:"010-8765-4321"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx(bt,{children:" (v1)"}),a.jsxs("select",{value:b.contactStatus,onChange:H=>me("contactStatus",H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:" "}),Object.keys(yj).map(H=>a.jsx("option",{value:H,children:yj[H]},H))]})]}),a.jsxs("div",{children:[a.jsx(bt,{children:" (v1)"}),a.jsxs("select",{value:b.consultStatus,onChange:H=>me("consultStatus",H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:" "}),Object.keys(bj).map(H=>a.jsx("option",{value:H,children:bj[H]},H))]})]}),a.jsxs("div",{children:[a.jsx(bt,{children:"2 (v1)"}),a.jsxs("select",{value:b.secondExamStatus,onChange:H=>me("secondExamStatus",H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:" "}),Object.keys(xj).map(H=>a.jsx("option",{value:H,children:xj[H]},H))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(bt,{children:" "}),a.jsx("select",{value:b.reminderChannel,onChange:H=>me("reminderChannel",H.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["SMS","",""].map(H=>a.jsx("option",{value:H,children:H},H))})]}),a.jsxs("div",{className:"flex items-center gap-6 pt-7",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:b.reminderSent,onChange:H=>me("reminderSent",H.target.checked),className:"h-4 w-4 rounded border-gray-300"}),"  "]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:b.followUpRequired,onChange:H=>me("followUpRequired",H.target.checked),className:"h-4 w-4 rounded border-gray-300"})," "]})]})]}),a.jsxs("div",{children:[a.jsx(bt,{children:"/ "}),a.jsx(Ni,{value:b.reasonText,onChange:H=>me("reasonText",H.target.value),className:"mt-1.5",rows:2})]}),a.jsxs("div",{children:[a.jsx(bt,{children:" "}),a.jsx(Ni,{value:b.notes,onChange:H=>me("notes",H.target.value),className:"mt-1.5",rows:3})]})]}),a.jsxs(SE,{className:"gap-2 sm:gap-0",children:[a.jsx(pt,{variant:"outline",onClick:()=>m(!1),children:""}),a.jsx(pt,{onClick:fe,children:h==="create"?"":" "})]})]})}),a.jsx(Qi,{open:o,onOpenChange:l,children:a.jsxs(Zi,{className:"max-w-2xl",children:[a.jsxs(Bg,{children:[a.jsx(Ug,{children:" "}),a.jsx(wE,{children:"    /"})]}),D?a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("p",{className:"text-base font-bold text-gray-900",children:D.title}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",p$(D.status)),children:D.status}),a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",m$(D.priority)),children:D.priority}),a.jsx("span",{className:ce("rounded border px-2 py-0.5 text-[10px] font-semibold",Sj(D.riskLevel).tone),children:Sj(D.riskLevel).label})]})]}),a.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:[D.caseId,"  ",D.patientName]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:" "}),a.jsxs("p",{className:"mt-1 font-semibold text-gray-900",children:[D.date," ",D.time," (",D.durationMinutes,")"]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:" "}),a.jsx("p",{className:"mt-1 font-semibold text-gray-900",children:D.type})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsxs("p",{className:"mt-1 flex items-center gap-1 font-semibold text-gray-900",children:[a.jsx(go,{size:13,className:"text-gray-400"}),D.assignee]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsxs("p",{className:"mt-1 font-semibold text-gray-900",children:[D.reminderChannel,"  ",D.reminderSent?" ":""]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"mt-1 font-semibold text-gray-900",children:D.phone?d$(D.phone):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:" "}),a.jsx("p",{className:"mt-1 font-semibold text-gray-900",children:D.guardianPhone?d$(D.guardianPhone):"-"})]})]}),D.location?a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:D.location})]}):null,(D.contactStatus||D.consultStatus||D.secondExamStatus)&&a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsxs("p",{className:"mb-2 flex items-center gap-1 text-xs font-semibold text-slate-700",children:[a.jsx(u7,{size:13}),"  (v1 )"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-700",children:[D.contactStatus?a.jsxs("span",{children:[": ",a.jsx("strong",{children:yj[D.contactStatus]})]}):null,D.consultStatus?a.jsxs("span",{children:[": ",a.jsx("strong",{children:bj[D.consultStatus]})]}):null,D.secondExamStatus?a.jsxs("span",{children:["2: ",a.jsx("strong",{children:xj[D.secondExamStatus]})]}):null,D.reservationType?a.jsxs("span",{children:[": ",a.jsx("strong",{children:vj[D.reservationType]})]}):null]})]}),D.reasonText?a.jsxs("div",{className:"rounded-lg border border-purple-100 bg-purple-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"/ "}),a.jsx("p",{className:"mt-1 text-sm text-purple-900",children:D.reasonText})]}):null,D.autoMemoRecent&&D.autoMemoRecent.length>0?a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("p",{className:"mb-2 flex items-center gap-1 text-xs font-semibold text-gray-700",children:[a.jsx(Ws,{size:13}),"  "]}),a.jsx("ul",{className:"space-y-1",children:D.autoMemoRecent.map((H,ve)=>a.jsxs("li",{className:"text-xs text-gray-700",children:[" ",H]},`${H}-${ve}`))})]}):null,D.notes?a.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-blue-700",children:""}),a.jsx("p",{className:"mt-1 text-sm text-blue-900",children:D.notes})]}):null,a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-white px-3 py-2",children:[a.jsx("span",{className:"text-xs text-gray-600",children:D.followUpRequired?"  .":"   ."}),a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-emerald-700",children:[a.jsx(oo,{size:13}),"  "]})]}),a.jsxs(SE,{className:"gap-2 sm:gap-0",children:[a.jsx(pt,{variant:"outline",onClick:()=>l(!1),children:""}),a.jsxs(pt,{variant:"outline",onClick:Ee,children:[a.jsx(CV,{size:14,className:"mr-1"}),""]}),a.jsxs(pt,{variant:"destructive",onClick:Xe,children:[a.jsx(nY,{size:14,className:"mr-1"}),""]})]})]}):null]})})]})}function B1e(){const e=[{name:"   ",type:"PDF",lastRun:"2026-02-01",status:""},{name:"Stage   ",type:"XLSX",lastRun:"2026-02-10",status:""},{name:"   ( )",type:"CSV",lastRun:"2026-02-11",status:""},{name:"  ",type:"PDF",lastRun:"2026-01-31",status:""}];return a.jsxs("div",{className:"space-y-6 pb-12",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2 flex items-center gap-2 text-xs font-semibold shadow-sm",children:[a.jsx(Pd,{size:14,className:"text-gray-400"}),": 2026-01-01 ~ 2026-01-31"]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2 flex items-center gap-2 text-xs font-semibold shadow-sm text-gray-400",children:": "})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-xs font-bold rounded-lg shadow-sm",children:[a.jsx(su,{size:16}),"    "]})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsxs("div",{className:"col-span-8 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-5 border-b border-gray-100 flex items-center justify-between",children:a.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(iu,{size:18,className:"text-blue-600"})," "]})}),a.jsx("div",{className:"divide-y divide-gray-50",children:e.map((t,r)=>a.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center justify-between group cursor-pointer transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:ce("w-10 h-10 rounded-lg flex items-center justify-center",t.type==="PDF"?"bg-red-50 text-red-600":t.type==="XLSX"?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"),children:t.type==="PDF"?a.jsx(iu,{size:20}):a.jsx(QW,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-[10px] text-gray-500",children:[" : ",t.lastRun," | ",a.jsx("span",{className:"text-blue-600 font-bold",children:t.status})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"px-3 py-1.5 border border-gray-200 rounded text-[10px] font-bold text-gray-600 hover:bg-white",children:""}),a.jsx("button",{className:"px-3 py-1.5 bg-gray-900 text-white rounded text-[10px] font-bold hover:bg-black",children:""})]})]},r))}),a.jsx("div",{className:"p-4 bg-gray-50 flex items-center justify-center border-t border-gray-100",children:a.jsxs("button",{className:"text-xs font-bold text-gray-500 hover:text-blue-600 flex items-center gap-1",children:["    ",a.jsx(vs,{size:14})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center justify-between",children:["   ",a.jsx("span",{className:"text-[10px] text-emerald-600 font-bold",children:"   12% "})]}),a.jsx("div",{className:"h-64",children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:[{name:"",target:2,actual:1.2},{name:"",target:5,actual:4.5},{name:"",target:14,actual:15.4},{name:"",target:7,actual:5.2},{name:"",target:180,actual:192}],children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1}),a.jsx(en,{dataKey:"name",fontSize:10,axisLine:!1,tickLine:!1}),a.jsx($r,{fontSize:10,axisLine:!1,tickLine:!1}),a.jsx(pr,{}),a.jsx(On,{dataKey:"target",fill:"#e2e8f0",radius:[4,4,0,0],barSize:20}),a.jsx(On,{dataKey:"actual",fill:"#2563eb",radius:[4,4,0,0],barSize:20})]})})})]})]}),a.jsxs("div",{className:"col-span-4 space-y-6",children:[a.jsxs("div",{className:"bg-blue-600 text-white rounded-xl p-6 shadow-md",children:[a.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[a.jsx(d7,{size:18}),"  (AI )"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 bg-white/10 rounded-lg border border-white/10",children:[a.jsx("p",{className:"text-[10px] font-bold text-white/60 uppercase",children:" "}),a.jsx("p",{className:"text-sm font-medium mt-1",children:"2      15% , 3      ."})]}),a.jsxs("div",{className:"p-3 bg-white/10 rounded-lg border border-white/10",children:[a.jsx("p",{className:"text-[10px] font-bold text-white/60 uppercase",children:" "}),a.jsx("p",{className:"text-sm font-medium mt-1",children:"        8% .     ."})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsx("h3",{className:"font-bold text-gray-800 mb-4 text-sm",children:"  "}),a.jsx("div",{className:"space-y-4",children:[{label:"   ",value:"+4.2%",color:"text-emerald-600"},{label:" ",value:"92%",color:"text-blue-600"},{label:"  ",value:"115%",color:"text-red-600"}].map((t,r)=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50 last:border-0",children:[a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:t.label}),a.jsx("span",{className:ce("text-sm font-bold",t.color),children:t.value})]},r))})]})]})]}),a.jsx("div",{className:"p-3 bg-gray-50 text-[10px] text-gray-500 italic text-center rounded-lg border border-gray-200",children:"*  :      ,           ."})]})}function U1e(){const[e,t]=y.useState(""),r=[{title:"  ( )",id:"",icon:lo,items:[{label:"   (Stage 1)",value:"3",type:"number",desc:"  2        "},{label:"SLA   (/)",value:"24",type:"number",desc:"   SLA   "},{label:"  ( )",value:"10%",type:"number",desc:"        "},{label:"   ()",value:"3",type:"number",desc:"    "}]},{title:"   ",id:"",icon:ch,items:[{label:"   ",value:"On",type:"toggle"},{label:"    ",value:"On",type:"toggle"},{label:"   ",value:"Off",type:"toggle"},{label:"    ",value:"On",type:"toggle"}]}];return a.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-12",children:[a.jsx("div",{className:"flex gap-1 border-b border-gray-200",children:["","","/",""].map(n=>a.jsx("button",{onClick:()=>t(n),className:ce("px-6 py-3 text-sm font-bold border-b-2 transition-all",e===n?"border-blue-600 text-blue-600":"border-transparent text-gray-400 hover:text-gray-600"),children:n},n))}),a.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[a.jsx("div",{className:"col-span-8 space-y-8",children:r.map((n,s)=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-gray-100 flex items-center gap-3 bg-gray-50/50",children:[a.jsx(n.icon,{className:"text-blue-600",size:20}),a.jsx("h3",{className:"font-bold text-gray-800",children:n.title})]}),a.jsx("div",{className:"p-0",children:n.items.map((i,o)=>a.jsxs("div",{className:"p-5 flex items-start justify-between border-b border-gray-50 last:border-0 hover:bg-gray-50/50 transition-colors",children:[a.jsxs("div",{className:"max-w-[70%]",children:[a.jsx("p",{className:"text-sm font-bold text-gray-700",children:i.label}),a.jsx("p",{className:"text-[11px] text-gray-400 mt-0.5",children:i.desc})]}),a.jsx("div",{className:"flex flex-col items-end gap-2",children:i.type==="number"?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:i.value,readOnly:!0,className:"w-16 text-right px-2 py-1.5 bg-gray-100 border border-gray-200 rounded-lg text-xs font-bold text-blue-600"}),a.jsx("button",{className:"text-[10px] font-bold text-blue-600 hover:underline",children:""})]}):a.jsx("div",{className:ce("w-10 h-5 rounded-full relative cursor-pointer transition-colors shadow-inner",i.value==="On"?"bg-emerald-500":"bg-gray-200"),children:a.jsx("div",{className:ce("absolute top-0.5 w-4 h-4 bg-white rounded-full shadow-md transition-transform",i.value==="On"?"translate-x-5.5":"translate-x-0.5")})})})]},o))})]},s))}),a.jsxs("div",{className:"col-span-4 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2",children:[a.jsx(u7,{className:"text-orange-500",size:20}),"  "]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ym,{size:14,className:"text-gray-400"}),a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "})]}),a.jsx("p",{className:"text-sm font-bold text-gray-900 leading-tight",children:",  (L2 )"}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsx("span",{className:"text-[9px] text-emerald-600 font-bold bg-emerald-50 px-1.5 py-0.5 rounded",children:"2FA "}),a.jsx("button",{className:"text-[10px] font-bold text-blue-600 hover:underline",children:" "})]})]}),a.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(pc,{size:14,className:"text-gray-400"}),a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"   "})]}),a.jsx("p",{className:"text-sm font-bold text-gray-900",children:"  5 ( )"}),a.jsx("p",{className:"text-[9px] text-gray-400 mt-2",children:"  : 2026-12-31"})]})]})]}),a.jsxs("div",{className:"bg-blue-600 text-white rounded-2xl p-6 shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(Un,{size:120})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[a.jsx(Un,{className:"text-blue-400",size:20}),"  "]}),a.jsxs("div",{className:"space-y-4 text-xs leading-relaxed text-white/70",children:[a.jsx("p",{children:"  , ,    ID, IP ,      ."}),a.jsxs("div",{className:"p-3 bg-white/10 rounded-xl border border-white/10",children:[a.jsxs("p",{className:"text-[10px] font-bold text-blue-400 uppercase mb-1 flex items-center gap-1",children:[a.jsx(Rd,{size:10}),"   "]}),a.jsx("p",{className:"text-white/80",children:" (Stage 2)       ."})]}),a.jsx("p",{children:"        ."})]}),a.jsx("button",{className:"mt-6 w-full py-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl text-xs font-bold transition-all",children:"    "})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-xl flex items-center gap-4 shadow-sm",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center text-orange-600 shrink-0",children:a.jsx(ua,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"   "}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"     ,        . (  )"})]})]})]})}function z1e({activeTab:e,setActiveTab:t,userName:r,centerName:n,userRole:s,onLogout:i}){const o=[{id:"main",label:"  ",icon:uh},{id:"cases",label:" ",icon:co},{id:"calendar",label:"",icon:wi},{id:"reports",label:"",icon:kd},{id:"settings",label:"",icon:fh}];return a.jsxs("aside",{className:"w-64 bg-slate-800 border-r border-slate-700 text-white flex flex-col shrink-0",children:[a.jsx("div",{className:"p-4 border-b border-slate-700",children:a.jsx(QA,{size:36,showText:!0,subtitle:" ",variant:"dark"})}),a.jsx("nav",{className:"flex-1 py-4 px-3 space-y-1",children:o.map(l=>a.jsxs("button",{onClick:()=>t(l.id),className:ce("w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors",e===l.id?"bg-blue-600 text-white shadow-sm":"text-slate-300 hover:bg-slate-700 hover:text-white"),children:[a.jsx(l.icon,{size:20}),l.label]},l.id))}),a.jsxs("div",{className:"p-4 border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 text-slate-700 flex items-center justify-center text-xs font-bold",children:r.slice(0,1)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate",children:r}),a.jsxs("p",{className:"text-[10px] text-slate-300 truncate",children:[n," / ",s==="center_manager"?"":""]})]})]}),a.jsxs("button",{onClick:i,className:"mt-3 w-full flex items-center justify-center gap-2 rounded-lg border border-red-400/40 px-3 py-2 text-xs font-semibold text-red-200 hover:bg-red-500/10 hover:text-red-100 transition-colors",children:[a.jsx(VA,{size:14}),""]})]})]})}const OT={"national-dashboard":{title:"  ",subtitle:"Neuro-Shield  "},"model-apply":{title:"  ",subtitle:"Neuro-Shield  "},"model-governance":{title:"/  ",subtitle:"Neuro-Shield  "},"quality-monitoring":{title:"& ",subtitle:"Neuro-Shield  "},"compliance-audit":{title:"   ",subtitle:"Neuro-Shield  "},"kpi-dictionary":{title:"KPI ",subtitle:"Neuro-Shield  "},settings:{title:"",subtitle:"Neuro-Shield  "},overview:{title:"  ",subtitle:"Neuro-Shield   "},cause:{title:" ",subtitle:"Neuro-Shield   "},interventions:{title:" ",subtitle:"Neuro-Shield   "},reports:{title:"",subtitle:"Neuro-Shield   "},"regional-settings":{title:"",subtitle:"Neuro-Shield   "},dashboard:{title:" ",subtitle:"Neuro-Shield   "},calendar:{title:" ",subtitle:"Neuro-Shield   "},"audit-log":{title:" ",subtitle:"Neuro-Shield   "},main:{title:"  ",subtitle:"Neuro-Shield   "},cases:{title:" ",subtitle:"Neuro-Shield   "}};function RT({title:e,subtitle:t,icon:r,iconBg:n="from-blue-600 to-blue-700"}){return a.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[a.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br ${n} shadow-sm shrink-0`,"aria-hidden":"true",children:r??a.jsx(wf,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h2",{className:"text-[15px] font-bold text-slate-800 leading-[1.1] whitespace-nowrap overflow-hidden text-ellipsis",children:e}),a.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-[1.1] mt-[2px] whitespace-nowrap overflow-hidden text-ellipsis",children:t})]})]})}const H1e={main:uh,cases:co,calendar:wi,reports:kd,settings:fh};function q1e({activeTab:e}){const t=H1e[e]||uh,r=OT[e];return a.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0 z-10",children:[a.jsx("div",{className:"flex items-center gap-6",children:a.jsx(RT,{title:r?.title??e,subtitle:r?.subtitle??"Neuro-Shield   ",icon:a.jsx(t,{className:"h-4 w-4 text-white"})})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:a.jsx(dh,{size:16,className:"text-gray-400"})}),a.jsx("input",{type:"text",placeholder:" ID,  ...",className:"bg-gray-100 border-none rounded-full pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 w-64 transition-all focus:w-80 outline-none"})]}),a.jsxs("button",{className:"relative p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:[a.jsx(ch,{size:20}),a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white"})]}),a.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[a.jsx("span",{className:"w-8 h-8 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center border border-emerald-200",children:a.jsx(oo,{size:16})}),a.jsx("span",{children:" "})]})]})]})}const g$=new Map;let x$=1,y$=1;function G1e(){return new Date().toISOString()}function b$(e){return new Date(Date.now()+e*60*60*1e3).toISOString()}function VU(){return globalThis?.__NEURO_SHIELD_USE_REAL_API__===!0}function K1e(){return globalThis?.__NEURO_SHIELD_FORCE_CALENDAR_ERROR__===!0}async function YU(e=160){await new Promise(t=>setTimeout(t,e))}async function XU(e,t){const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...t.headers??{}},...t});if(!r.ok)throw new Error(`HTTP ${r.status}`);return await r.json()}function W1e(e){return e?{R1_SELF_REJECT:" ",R2_GUARDIAN_REJECT:" ",R3_OTHER_INSTITUTION:"  ",R4_ALREADY_DIAGNOSED:" / ",R5_CONTACT_INVALID:" ",R6_EMOTIONAL_BACKLASH:"  ",R7_OTHER:""}[e]:"  "}function V1e(e){return{CALL_RETRY:" ",SMS_RETRY:" ",TIME_CHANGE:"   ",PROTECTOR_CONTACT:"  ",AGENT_SMS:"  "}[e]}function QU(e){const t=[];if(e.outcomeType==="NO_RESPONSE"&&e.noResponse?.nextContactAt&&t.push({caseId:e.caseId,type:"RECONTACT",title:`${V1e(e.noResponse.strategy)} `,startAt:e.noResponse.nextContactAt,durationMin:20,priority:e.noResponse.escalateLevel==="L3"?"HIGH":"NORMAL",payload:{strategy:e.noResponse.strategy,escalateLevel:e.noResponse.escalateLevel}}),e.outcomeType==="LATER"){const r=e.noResponse?.nextContactAt??b$(72);t.push({caseId:e.caseId,type:"RECONTACT",title:"  ",startAt:r,durationMin:20,priority:"NORMAL",payload:{memo:e.memo}})}return e.outcomeType==="REJECT"&&(e.reject?.followup?.createFollowupEvent||e.reject?.followup?.followupAt)&&t.push({caseId:e.caseId,type:"FOLLOWUP",title:`   (${W1e(e.reject?.code)})`,startAt:e.reject?.followup?.followupAt??b$(168),durationMin:20,priority:e.reject?.level==="FINAL"?"HIGH":"NORMAL",payload:{rejectCode:e.reject?.code,rejectLevel:e.reject?.level}}),t}async function Y1e(e,t){if(await YU(),VU())return XU(`/api/cases/${e}/outcomes`,{body:JSON.stringify(t)});const r=`OUT-${e}-${String(x$).padStart(5,"0")}`;x$+=1;const n=QU({caseId:e,outcomeType:t.outcomeType,memo:t.memo,reject:t.reject,noResponse:t.noResponse});return{ok:!0,outcomeId:r,timelinePatch:{at:G1e(),outcomeType:t.outcomeType},nextAction:n.length?{type:"CREATE_CALENDAR_EVENT",events:n}:void 0}}async function v$(e){if(await YU(),VU())return XU("/api/calendar/events",{body:JSON.stringify(e)});if(K1e())throw new Error("CALENDAR_FORCED_FAILURE");const t=g$.get(e.idempotencyKey);if(t)return t;const r={ok:!0,eventId:`CAL-${String(y$).padStart(6,"0")}`};return y$+=1,g$.set(e.idempotencyKey,r),r}function X1e(){return new Date().toISOString()}function wj(e){return e instanceof Error?e.message:typeof e=="string"?e:"    ."}function N$(e){return{idempotencyKey:e.idempotencyKey,caseId:e.caseId,outcomeId:e.outcomeId,event:e.event,eventType:e.event.type,title:e.event.title,scheduledAt:e.event.startAt,errorMessage:e.errorMessage,retryCount:e.retryCount,recordedAt:X1e()}}function Q1e(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),[s,i]=y.useState([]),[o,l]=y.useState({}),u=y.useCallback(async({caseId:h,payload:x})=>{if(e)return null;t(!0),n(null);try{const v=await Y1e(h,x),N=v.nextAction?.events??QU({caseId:h,outcomeType:x.outcomeType,memo:x.memo,reject:x.reject,noResponse:x.noResponse}),b=[],S=[];for(let j=0;j<N.length;j+=1){const A=N[j],_=`${h}:${v.outcomeId}:${A.type}:${j}`;try{const E=await v$({idempotencyKey:_,event:A});b.push({idempotencyKey:_,eventId:E.eventId,event:A})}catch(E){S.push(N$({idempotencyKey:_,caseId:h,outcomeId:v.outcomeId,event:A,errorMessage:wj(E),retryCount:0}))}}return i(j=>{const A=j.filter(_=>!S.some(E=>E.idempotencyKey===_.idempotencyKey));return[...S,...A]}),{outcome:v,calendar:{created:b,failed:S}}}catch(v){return n(wj(v)),null}finally{t(!1)}},[e]),d=y.useCallback(async h=>{const x=s.find(v=>v.idempotencyKey===h);if(!x)return{ok:!1};l(v=>({...v,[h]:!0}));try{const v=await v$({idempotencyKey:x.idempotencyKey,event:x.event});return i(N=>N.filter(b=>b.idempotencyKey!==h)),{ok:!0,eventId:v.eventId}}catch(v){const N=N$({idempotencyKey:x.idempotencyKey,caseId:x.caseId,outcomeId:x.outcomeId,event:x.event,errorMessage:wj(v),retryCount:x.retryCount+1});return i(b=>b.map(S=>S.idempotencyKey===h?N:S)),{ok:!1,failure:N}}finally{l(v=>{const N={...v};return delete N[h],N})}},[s]),f=y.useMemo(()=>Object.values(o).some(Boolean),[o]),m=y.useCallback(()=>n(null),[]);return{isSaving:e,submitError:r,calendarFailures:s,retryingKeys:o,isRetrying:f,submit:u,retryCalendarFailure:d,clearSubmitError:m}}const Z1e=JA("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function tn({className:e,variant:t,asChild:r=!1,...n}){const s=r?A7:"span";return a.jsx(s,{"data-slot":"badge",className:ce(Z1e({variant:t}),e),...n})}const jj="/api/outreach/send-sms";function J1e(){return`${window.location.origin}${"/neuro-shield/".replace(/\/$/,"")}/#citizen`}async function ZU(e){const t=J1e(),r={case_id:e.caseId,center_id:e.centerId,citizen_phone:e.citizenPhone,template_id:e.templateId,variables:{template:e.renderedMessage,link_url:t,guideLink:t},dedupe_key:e.dedupeKey||`${e.caseId}-${Date.now()}`,guardian_phone:e.guardianPhone};try{const n=await fetch(jj,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const i=await n.text();return console.warn(`[SMS] ${jj}  ${n.status}:`,i),{success:!1,error:`  (${n.status}): ${i}`}}const s=await n.json();return{success:!0,providerMessageId:s.provider_message_id,status:s.status,actualTo:s.actual_to,intendedTo:s.intended_to,renderedMessage:s.rendered_message}}catch(n){return console.warn(`[SMS] ${jj}  :`,n),{success:!1,error:"SMS    .  ."}}}function e2e(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`}const Ej={CONTACT:"",BOOKING:"",REMINDER:""},t2e={CONTACT:"bg-blue-100 text-blue-800",BOOKING:"bg-emerald-100 text-emerald-800",REMINDER:"bg-amber-100 text-amber-800"},r2e=[{step:"greeting",title:"1:    ",content:".   .   ?       .",tips:["  ","    ","   "],checkpoints:["  ","/ ","   "]},{step:"purpose",title:"2:   ",content:"       .     , /    .",tips:["  ","   ","   "],checkpoints:["   ","   ","  "]},{step:"assessment",title:"3:   ",content:"   ,   , /    .",tips:["  ","  ","   "],checkpoints:["  ","   ","    "]},{step:"scheduling",title:"4:   ",content:"     , / ,   .",tips:["  1 ","   ","  "],checkpoints:["  ","   ","  "]}];function n2e(){return typeof window<"u"?`${window.location.origin}${"/neuro-shield/".replace(/\/$/,"")}/#citizen`:"http://146.56.162.226/neuro-shield/#citizen"}const a2e={centerName:" ",centerPhone:"02-555-0199",guideLink:n2e(),bookingLink:"(  )"};function s2e({stageLabel:e,templates:t,defaultVars:r,caseId:n,centerId:s="center-001",citizenPhone:i="010-****-1234",guardianPhone:o,onSmsSent:l,onConsultation:u,callScripts:d,onNavigateLink:f,showLinkageTab:m=!1,compact:h=!1}){const x={...a2e,...r},v=d??r2e,[N,b]=y.useState("CALL"),[S,j]=y.useState("citizen"),[A,_]=y.useState(0),[E,C]=y.useState({}),[R,I]=y.useState(!1),[O,B]=y.useState(0),[q,F]=y.useState("SUCCESS"),[Y,D]=y.useState("");y.useEffect(()=>{if(!R)return;const we=setInterval(()=>B(Me=>Me+1),1e3);return()=>clearInterval(we)},[R]);const G=`${String(Math.floor(O/60)).padStart(2,"0")}:${String(O%60).padStart(2,"0")}`,U=v[A]??v[0],V=()=>{u?.(`[] : ${S==="citizen"?"":""} / : ${q} / : ${G}
${Y}`,"CONTACT",` (${e})`),D(""),I(!1),B(0),C({}),_(0)},[M,Q]=y.useState("CONTACT"),[J,P]=y.useState(t[0]?.id??""),[K,Z]=y.useState(""),[se,ie]=y.useState("NOW"),[Se,oe]=y.useState(""),[je,pe]=y.useState(""),[Ee,me]=y.useState(x),[fe,Xe]=y.useState(!1),[H,ve]=y.useState(!1),[Re,Te]=y.useState(null),[Qe,$e]=y.useState([]),[jt,Ze]=y.useState(!1),De=y.useMemo(()=>t.filter(we=>we.type===M),[t,M]),He=y.useMemo(()=>t.find(we=>we.id===J)??t[0],[t,J]);y.useEffect(()=>{De.some(we=>we.id===J)||P(De[0]?.id??t[0]?.id??"")},[De,J,t]);const ge=y.useMemo(()=>!He||typeof He.body!="function"?"":He.body(Ee),[He,Ee]),Jt=we=>{Q(we);const Me=t.find(Mt=>Mt.type===we);Me&&P(Me.id)},Vt=async()=>{if(se==="SCHEDULE"&&!Se.trim()){Te({success:!1,error:"   ."});return}ve(!0),Te(null);const we=await ZU({caseId:n,centerId:s,citizenPhone:K===""&&o?o:i,templateId:He.id,renderedMessage:ge,guardianPhone:K===""?o:void 0});ve(!1),Te(we);const Me={id:`SMS-${Date.now()}`,at:se==="SCHEDULE"?Se.replace("T"," "):e2e(),templateLabel:He.label,type:He.type,mode:se,recipient:K,status:we.success?se==="SCHEDULE"?"SCHEDULED":"SENT":"FAILED",preview:ge,note:je.trim(),providerMessageId:we.providerMessageId};$e(Mt=>[Me,...Mt]),l?.(Me),we.success&&pe("")},Lr=()=>{u?.(je.trim(),M,He.label),pe("")};return a.jsxs("div",{className:"bg-white rounded-xl overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx(Pk,{className:"h-4 w-4 text-blue-300"})," ",a.jsx(tn,{className:"ml-1 bg-blue-500/20 text-blue-200 border-blue-400/30 text-[10px]",children:e})]}),a.jsxs("p",{className:"text-[11px] text-slate-300 mt-1",children:["  ",m?"  ":"","   "]})]}),Qe.length>0&&a.jsxs(tn,{className:"bg-white/10 text-white border-white/20 text-xs px-2.5 py-1",children:[Qe.length," "]})]})}),a.jsx("div",{className:"border-b border-slate-200 bg-slate-50",children:a.jsx("div",{className:"flex",children:[{key:"CALL",icon:Pk,label:""},{key:"SMS",icon:Ws,label:""},...m?[{key:"LINK",icon:Dd,label:""}]:[]].map(({key:we,icon:Me,label:Mt})=>a.jsxs("button",{onClick:()=>b(we),className:ce("flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold transition-all border-b-2",N===we?"border-blue-600 text-blue-700 bg-white":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-white/50"),children:[a.jsx(Me,{className:"h-4 w-4"}),Mt]},we))})}),N==="CALL"&&a.jsxs("div",{className:"px-6 py-5 space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50/80 px-4 py-2.5 text-xs text-amber-800 flex items-start gap-2",children:[a.jsx(ua,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:" :"})," /AI   .   .   ."]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:" "}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"citizen",label:" ",sub:"  ",icon:go},{key:"guardian",label:"",sub:o?"  ":"  ",icon:co}].map(({key:we,label:Me,sub:Mt,icon:ar})=>a.jsxs("button",{onClick:()=>{j(we),_(0),C({})},disabled:we==="guardian"&&!o,className:ce("flex items-center gap-3 rounded-xl border-2 px-4 py-3 text-left transition-all",S===we?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-slate-200 bg-white hover:border-slate-300",we==="guardian"&&!o&&"opacity-40 cursor-not-allowed"),children:[a.jsx("div",{className:ce("h-8 w-8 rounded-full flex items-center justify-center",S===we?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500"),children:a.jsx(ar,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Me}),a.jsx("p",{className:"text-[11px] text-slate-500",children:Mt})]}),S===we&&a.jsx(nu,{className:"h-4 w-4 text-blue-600 ml-auto"})]},we))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:" "}),a.jsx("div",{className:"grid grid-cols-4 gap-1 rounded-xl border border-slate-200 bg-slate-50 p-1",children:v.map((we,Me)=>a.jsxs("button",{onClick:()=>_(Me),className:ce("rounded-lg px-2 py-2 text-xs font-semibold transition-all",A===Me?"bg-white text-slate-900 shadow-sm ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700 hover:bg-white/50"),children:[Me+1,""]},we.step))}),a.jsxs("div",{className:"mt-3 rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50/50 p-4",children:[a.jsx("p",{className:"text-sm font-bold text-blue-900 mb-2",children:U.title}),a.jsx("p",{className:"text-xs leading-relaxed text-blue-800/90",children:U.content})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50/80 p-3",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700 mb-2",children:"  "}),a.jsx("ul",{className:"space-y-1",children:U.tips.map(we=>a.jsxs("li",{className:"text-[11px] text-slate-600 flex items-start gap-1.5",children:[a.jsx("span",{className:"text-blue-400 mt-0.5",children:""})," ",we]},we))})]}),a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50/80 p-3",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700 mb-2",children:" "}),a.jsx("div",{className:"space-y-1.5",children:U.checkpoints.map(we=>a.jsxs("label",{className:"flex items-center gap-2 text-[11px] text-slate-600 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:!!E[we],onChange:Me=>C(Mt=>({...Mt,[we]:Me.target.checked})),className:"h-3.5 w-3.5 rounded border-slate-300 text-blue-600"}),a.jsx("span",{className:E[we]?"line-through text-slate-400":"",children:we})]},we))})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:" "}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:"SUCCESS",label:"",icon:oo,ac:"border-emerald-500 bg-emerald-50 text-emerald-700"},{value:"NO_ANSWER",label:"",icon:Sy,ac:"border-amber-500 bg-amber-50 text-amber-700"},{value:"REJECTED",label:"",icon:Od,ac:"border-red-500 bg-red-50 text-red-700"},{value:"WRONG_NUMBER",label:"",icon:vu,ac:"border-slate-500 bg-slate-50 text-slate-700"}].map(({value:we,label:Me,icon:Mt,ac:ar})=>a.jsxs("button",{onClick:()=>F(we),className:ce("flex flex-col items-center gap-1.5 rounded-xl border-2 px-3 py-3 text-xs font-semibold transition-all",q===we?ar:"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:[a.jsx(Mt,{className:"h-4 w-4"}),Me]},we))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1.5 block",children:" "}),a.jsx(Ni,{value:Y,onChange:we=>D(we.target.value),className:"min-h-[80px] text-xs rounded-lg border-slate-200",placeholder:"    "})]}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsxs("div",{className:ce("inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-bold",R?"bg-red-50 text-red-700 border border-red-200":"bg-slate-100 text-slate-600"),children:[a.jsx(tY,{className:"h-4 w-4"}),R?`  ${G}`:""]}),a.jsxs("div",{className:"flex gap-2",children:[R?a.jsxs(pt,{onClick:()=>I(!1),variant:"outline",className:"h-10 border-red-300 text-red-700 hover:bg-red-50 text-sm font-semibold gap-2 rounded-xl",children:[a.jsx(oo,{className:"h-4 w-4"})," "]}):a.jsxs(pt,{onClick:()=>{I(!0),B(0)},className:"h-10 bg-blue-600 text-sm font-semibold text-white hover:bg-blue-700 gap-2 px-5 rounded-xl",children:[a.jsx(ts,{className:"h-4 w-4"}),""]}),a.jsxs(pt,{onClick:V,className:"h-10 bg-slate-800 text-sm font-semibold text-white hover:bg-slate-900 gap-2 px-5 rounded-xl",children:[a.jsx(nu,{className:"h-4 w-4"}),"  "]})]})]})]}),N==="SMS"&&a.jsxs("div",{className:"px-6 py-5 space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50/80 px-4 py-2.5 text-xs text-amber-800 flex items-start gap-2",children:[a.jsx(ua,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:" :"}),"  /AI   .   ."]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-1.5 rounded-xl border border-slate-200 bg-slate-50 p-1.5",children:["CONTACT","BOOKING","REMINDER"].map(we=>a.jsx("button",{onClick:()=>Jt(we),className:ce("rounded-lg px-3 py-2.5 text-xs font-semibold transition-all",M===we?"bg-white text-slate-900 shadow-sm ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700 hover:bg-white/50"),children:Ej[we]},we))}),a.jsx("select",{value:J,onChange:we=>P(we.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",children:De.map(we=>a.jsx("option",{value:we.id,children:we.label},we.id))}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:""}),a.jsx("div",{className:"flex gap-2",children:["",""].map(we=>a.jsxs("button",{onClick:()=>Z(we),disabled:we===""&&!o,className:ce("flex-1 flex items-center justify-center gap-2 rounded-xl border-2 px-3 py-2.5 text-xs font-semibold transition-all",K===we?"border-blue-500 bg-blue-50 text-blue-800 ring-1 ring-blue-200":"border-slate-200 bg-white text-slate-500 hover:border-slate-300",we===""&&!o&&"opacity-40 cursor-not-allowed"),children:[we===""?a.jsx(go,{className:"h-3.5 w-3.5"}):a.jsx(co,{className:"h-3.5 w-3.5"}),we]},we))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:" "}),a.jsx("div",{className:"grid grid-cols-2 gap-1.5 rounded-xl border border-slate-200 bg-slate-50 p-1.5",children:[{key:"NOW",icon:bm,label:""},{key:"SCHEDULE",icon:r7,label:""}].map(({key:we,icon:Me,label:Mt})=>a.jsxs("button",{onClick:()=>ie(we),className:ce("flex items-center justify-center gap-1.5 rounded-lg px-3 py-2.5 text-xs font-semibold transition-all",se===we?"bg-white text-slate-900 shadow-sm ring-1 ring-slate-200":"text-slate-500"),children:[a.jsx(Me,{className:"h-3.5 w-3.5"})," ",Mt]},we))})]})]}),a.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-slate-100 bg-slate-50/50 px-4 py-2.5",children:[a.jsx("span",{className:"text-xs text-slate-500",children:":"}),a.jsx("span",{className:"text-xs font-medium text-slate-700",children:K===""&&o?` ${o}`:` ${i}`}),a.jsx("span",{className:"text-[10px] text-slate-400 ml-auto",children:"(: TEST_SMS_TO  )"})]}),se==="SCHEDULE"&&a.jsx("input",{type:"datetime-local",value:Se,onChange:we=>oe(we.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100"}),a.jsxs("button",{onClick:()=>Xe(!fe),className:"flex items-center gap-1.5 text-xs text-blue-600 hover:text-blue-800 font-medium",children:[fe?a.jsx(Ks,{className:"h-3.5 w-3.5"}):a.jsx(Hn,{className:"h-3.5 w-3.5"}),"  ",fe?"":""]}),fe&&a.jsx("div",{className:"grid grid-cols-2 gap-3 rounded-xl border border-slate-200 bg-slate-50/50 p-4",children:[["centerName",""],["centerPhone"," "],["guideLink"," "],["bookingLink"," "]].map(([we,Me])=>a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-slate-500",children:Me}),a.jsx("input",{type:"text",value:Ee[we],onChange:Mt=>me(ar=>({...ar,[we]:Mt.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs outline-none focus:border-blue-400"})]},we))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[11px] font-bold text-slate-600",children:""}),a.jsx(tn,{variant:"outline",className:ce("text-[10px]",t2e[M]),children:Ej[M]})]}),a.jsx("p",{className:"whitespace-pre-wrap text-xs leading-relaxed text-slate-700 min-h-[80px]",children:ge}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-[10px] text-slate-400 border-t border-slate-200 pt-2",children:[a.jsxs("span",{children:[ge.length,"  ",ge.length>90?"LMS":"SMS"]}),a.jsxs("span",{children:[": ",K]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-[11px] font-bold text-slate-600 mb-1.5",children:"/ "}),a.jsx(Ni,{value:je,onChange:we=>pe(we.target.value),className:"flex-1 min-h-[120px] text-xs rounded-lg border-slate-200",placeholder:"    ()"})]})]}),Re&&a.jsx("div",{className:ce("rounded-xl border px-4 py-3 text-xs flex items-center gap-2",Re.success?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-red-200 bg-red-50 text-red-800"),children:Re.success?a.jsxs(a.Fragment,{children:[a.jsx(oo,{className:"h-4 w-4 shrink-0"}),a.jsxs("span",{children:["  ",Re.actualTo&&`(: ${Re.actualTo})`]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Od,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:Re.error??" "})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-1",children:[a.jsxs(pt,{variant:"outline",className:"h-11 text-sm font-semibold gap-2 rounded-xl border-slate-300",onClick:Lr,children:[a.jsx(ts,{className:"h-4 w-4"})," "]}),a.jsxs(pt,{className:"h-11 bg-blue-600 text-sm font-semibold text-white hover:bg-blue-700 gap-2 rounded-xl",onClick:Vt,disabled:H,children:[a.jsx(Ws,{className:"h-4 w-4"}),H?" ...":se==="NOW"?" ":" "]})]}),Qe.length>0&&a.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[a.jsxs("button",{onClick:()=>Ze(!jt),className:"flex items-center gap-1.5 text-xs font-semibold text-slate-600",children:[jt?a.jsx(Ks,{className:"h-3.5 w-3.5"}):a.jsx(Hn,{className:"h-3.5 w-3.5"}),"  (",Qe.length,")"]}),jt&&a.jsx("div",{className:"mt-3 space-y-2 max-h-[240px] overflow-y-auto",children:Qe.map(we=>a.jsxs("div",{className:ce("rounded-xl border p-3 text-xs",we.status==="SENT"?"border-emerald-200 bg-emerald-50/50":we.status==="SCHEDULED"?"border-blue-200 bg-blue-50/50":"border-red-200 bg-red-50/50"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:we.templateLabel}),a.jsx(tn,{variant:"outline",className:ce("text-[10px]",we.status==="SENT"?"text-emerald-700 border-emerald-300":we.status==="SCHEDULED"?"text-blue-700 border-blue-300":"text-red-700 border-red-300"),children:we.status==="SENT"?"":we.status==="SCHEDULED"?"":""})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-500",children:[we.at,"  ",we.recipient,"  ",Ej[we.type]]}),we.note&&a.jsxs("p",{className:"mt-1 text-[11px] text-slate-600 italic",children:[": ",we.note]})]},we.id))})]})]}),N==="LINK"&&m&&a.jsxs("div",{className:"px-6 py-5 space-y-4",children:[a.jsx("p",{className:"text-xs text-slate-500",children:" ,  ,      ."}),a.jsx("div",{className:"space-y-2",children:[{entry:"program",icon:Dd,bg:"bg-blue-100 text-blue-700",label:" ",sub:"    "},{entry:"call",icon:ts,bg:"bg-emerald-100 text-emerald-700",label:"  ",sub:"v1    "},{entry:"sms",icon:Ws,bg:"bg-amber-100 text-amber-700",label:"/ ",sub:"v1  /  "}].map(({entry:we,icon:Me,bg:Mt,label:ar,sub:Ur})=>a.jsxs("button",{onClick:()=>f?.(we),className:"w-full flex items-center justify-between rounded-xl border-2 border-slate-200 bg-white px-4 py-3.5 text-left hover:border-blue-300 hover:bg-blue-50/30 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:ce("h-9 w-9 rounded-lg flex items-center justify-center",Mt),children:a.jsx(Me,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ar}),a.jsx("p",{className:"text-[11px] text-slate-500",children:Ur})]})]}),a.jsx(ic,{className:"h-5 w-5 text-slate-400"})]},we))})]})]})}const JU=["","","",""],cc=[{top:"",mid:"",sub:" ",code:"H-PH-001",label:"  ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-PH-002",label:"  ( 3 )",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:"",sub:" ",code:"H-PH-003",label:"   ",keywords:["","","",""],stageFit:[2],mciSeverityFit:[""],dementiaFit:!1},{top:"",mid:"",sub:" ",code:"H-PH-004",label:"    ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-PH-005",label:" ( )",keywords:["","",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"H-CG-001",label:"  (8)",keywords:["","","","8"],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:"",sub:"",code:"H-CG-002",label:"   ",keywords:["","","",""],stageFit:[2],mciSeverityFit:[""],dementiaFit:!1},{top:"",mid:"",sub:"",code:"H-CG-003",label:"  (1:1)",keywords:["","","","1:1"],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-CG-004",label:"    ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-CG-005",label:"/  ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"H-PR-001",label:"   ",keywords:["","",""],stageFit:[3],dementiaFit:!0},{top:"",mid:"",sub:"",code:"H-PR-002",label:" MRI/PET  ",keywords:["MRI","PET",""],stageFit:[3],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-PR-003",label:"    ",keywords:["","","",""],stageFit:[2,3],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"L-DA-001",label:"   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"L-DA-002",label:"  ()",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"L-DA-003",label:" /   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"L-AD-001",label:"  (/)",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:"",sub:"",code:"L-AD-002",label:"  /",keywords:["","",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"L-EN-001",label:"   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"L-EN-002",label:"   ",keywords:["","",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"L-SP-001",label:"  ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"L-SP-002",label:"   ",keywords:["","",""],stageFit:[2],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:"",sub:"",code:"S-FA-001",label:"   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-FA-002",label:"    ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-WA-001",label:" /",keywords:["","","GPS",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-WA-002",label:"   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"119",code:"S-EM-001",label:"119  ",keywords:["119","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-EM-002",label:"    ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-ME-001",label:"  (/)",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-ME-002",label:"    ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"F-ED-001",label:"   (1)",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"F-ED-002",label:"   (2)",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"F-ED-003",label:"    ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:" ",sub:" ",code:"F-RC-001",label:"  ()",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"F-RC-002",label:"  ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-CO-001",label:"  ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-CO-002",label:"/  ",keywords:["","","",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-DS-001",label:"  /",keywords:["","",""],stageFit:[3],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-DS-002",label:"  ",keywords:["","",""],stageFit:[2,3],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-DS-003",label:"   ",keywords:["","",""],stageFit:[3],dementiaFit:!0}];function i2e(e){const t=new Set;for(const r of cc)r.top===e&&t.add(r.mid);return Array.from(t)}function o2e(e,t){return cc.filter(r=>r.top===e&&r.mid===t)}function l2e(e){if(!e.trim())return cc;const t=e.toLowerCase().trim();return cc.filter(r=>r.label.toLowerCase().includes(t)||r.code.toLowerCase().includes(t)||r.keywords.some(n=>n.toLowerCase().includes(t))||r.mid.toLowerCase().includes(t)||r.sub.toLowerCase().includes(t))}function c2e(e){const t=[];e.stage===2&&(e.resultLabel==="MCI"?(e.mciSeverity===""?(qr(t,"H-PH-002","rule","","MCI        "),qr(t,"H-CG-001","rule","","   MCI    "),qr(t,"S-ME-001","rule","","   MCI     ")):e.mciSeverity===""?(qr(t,"H-CG-003","rule","","MCI  :      (  )"),qr(t,"H-PH-004","rule","","        "),qr(t,"F-ED-001","rule","","  MCI    (  )"),qr(t,"L-DA-001","rule","","      ")):e.mciSeverity===""&&(qr(t,"H-CG-003","rule","","MCI :   +     "),qr(t,"H-CG-005","rule","","/     (  )"),qr(t,"F-ED-002","rule","","        "),qr(t,"S-FA-001","rule","","     MCI   "),qr(t,"F-RC-001","rule","","         ")),e.riskTags.includes("")&&qr(t,"S-FA-002","rule","","         "),e.riskTags.includes("")&&qr(t,"S-WA-001","rule","","       "),e.riskTags.includes("")&&qr(t,"F-RC-001","rule","","        ")):e.resultLabel===""&&(qr(t,"H-PR-003","rule","","        "),qr(t,"F-DS-001","rule","","    (  )"),qr(t,"F-ED-002","rule","","     "))),e.stage===3&&(qr(t,"H-PR-001","rule","","Stage3       (  )"),qr(t,"H-PR-002","rule",""," MRI/PET    "),qr(t,"H-CG-003","rule","","       "),e.resultLabel===""&&(qr(t,"F-DS-001","rule","","      "),qr(t,"F-DS-002","rule","","    (  )")),e.riskTags.includes("")&&(qr(t,"S-EM-001","rule","","   119     "),qr(t,"L-DA-003","rule","","      (  )")),e.riskTags.includes("")&&qr(t,"S-ME-002","rule","","         "));const r=new Set;return t.filter(n=>r.has(n.code)?!1:(r.add(n.code),!0)).slice(0,5)}function qr(e,t,r,n,s){const i=cc.find(o=>o.code===t);i&&e.push({code:i.code,label:i.label,top:i.top,mid:i.mid,reasonSummary:s,evidenceSnippets:[],source:r,confidenceLabel:n})}function u2e(e){const t=[];if(e.stage===2&&e.resultLabel==="MCI"&&e.mciSeverity===""){const r=cc.find(n=>n.code==="H-CG-004");r&&t.push({code:r.code,label:r.label,top:r.top,mid:r.mid,reasonSummary:"MCI          (  )",evidenceSnippets:["   3.2: MCI      ,     ."," :     ,      ."],source:"rag",confidenceLabel:""})}if(e.stage===3){const r=cc.find(n=>n.code==="F-CO-002");r&&t.push({code:r.code,label:r.label,top:r.top,mid:r.mid,reasonSummary:"Stage3         (  )",evidenceSnippets:["   :          ."],source:"rag",confidenceLabel:""})}return t.slice(0,3)}function d2e(e){const t=c2e(e),r=u2e(e),n=new Set(t.map(i=>i.code)),s=[...t];for(const i of r)n.has(i.code)||(n.add(i.code),s.push(i));return s.slice(0,5)}let S$=0;function f2e(e,t,r,n,s,i){return S$+=1,{eventId:`AE-${Date.now()}-${S$}`,caseId:e,actorId:t,actorName:r,at:new Date().toISOString(),type:n,payload:s,sourceMeta:i}}const p2e={ADD_SELECTED:"  ",REMOVE_SELECTED:"  ",UPDATE_EXECUTION:"  ",PIN:" ",UNPIN:" ",ADD_FROM_RECO:"  ",HOLD_RECO:"  ",STATUS_CHANGE:" "},m2e=["","","","",""],h2e=["","","",""],ez={:"bg-blue-100 text-blue-700",:"bg-amber-100 text-amber-700",:"bg-green-100 text-green-700",:"bg-gray-100 text-gray-500"};function g2e(e){const t=new Date;return t.setDate(t.getDate()+e),`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}const tz={:a.jsx(nV,{className:"h-4 w-4"}),:a.jsx(wf,{className:"h-4 w-4"}),:a.jsx(ho,{className:"h-4 w-4"}),:a.jsx(co,{className:"h-4 w-4"})};function x2e({caseId:e,stage:t,resultLabel:r,mciSeverity:n,riskTags:s=[],actorId:i="OP-001",actorName:o="",readOnly:l=!1}){const[u,d]=y.useState([]),[f,m]=y.useState(new Set),[h,x]=y.useState(new Set),[v,N]=y.useState(!1),[b,S]=y.useState(""),[j,A]=y.useState(""),[_,E]=y.useState(new Set),[C,R]=y.useState([]),[I,O]=y.useState(null),[B,q]=y.useState(!1),[F,Y]=y.useState(new Set),[D,G]=y.useState("picker"),U=y.useMemo(()=>({stage:t,resultLabel:r,mciSeverity:n,riskTags:s}),[t,r,n,s]),V=y.useMemo(()=>d2e(U),[U]),M=y.useCallback((H,ve,Re)=>{const Te=f2e(e,i,o,H,ve,Re);R(Qe=>[Te,...Qe])},[e,i,o]),Q=y.useCallback(H=>{m(ve=>{const Re=new Set(ve);if(Re.has(H))Re.delete(H),d(Te=>Te.filter(Qe=>Qe.code!==H)),M("REMOVE_SELECTED",{code:H});else{Re.add(H);const Te=cc.find(Qe=>Qe.code===H);if(Te){const Qe={code:Te.code,label:Te.label,top:Te.top,mid:Te.mid,mode:"",dueDate:"",assigneeId:i,assigneeName:o,notes:"",status:"",addedAt:new Date().toISOString(),addedSource:"manual"};d($e=>[...$e,Qe]),M("ADD_SELECTED",{code:H,label:Te.label})}}return Re})},[i,o,M]),J=y.useCallback(H=>{if(f.has(H.code))return;m(Re=>new Set(Re).add(H.code));const ve={code:H.code,label:H.label,top:H.top,mid:H.mid,mode:"",dueDate:"",assigneeId:i,assigneeName:o,notes:"",status:"",addedAt:new Date().toISOString(),addedSource:H.source};d(Re=>[...Re,ve]),M("ADD_FROM_RECO",{code:H.code,label:H.label,source:H.source},{source:H.source,code:H.code})},[f,i,o,M]),P=y.useCallback(H=>{x(ve=>{const Re=new Set(ve);return Re.has(H)?(Re.delete(H),M("UNPIN",{code:H})):(Re.add(H),M("PIN",{code:H})),Re})},[M]),K=y.useCallback(()=>{if(l)return;const H=V.filter(ve=>!f.has(ve.code)).slice(0,3);if(H.length!==0)for(const ve of H)J(ve)},[J,f,V,l]),Z=y.useCallback(()=>{l||(d(H=>H.map((ve,Re)=>{const Te=t===2?r===""?"":r==="MCI"?Re%2===0?"":"":"":Re%3===0?"":Re%3===1?"":"",Qe=ve.status===""?"":"",$e=ve.dueDate||g2e(t===2?3+Re:2+Re);return{...ve,mode:Te,status:Qe,dueDate:$e}})),M("STATUS_CHANGE",{reason:"  ",stage:t,resultLabel:r}))},[M,l,r,t]),se=y.useMemo(()=>u.filter(H=>H.addedSource&&H.addedSource!=="manual").length,[u]),ie=y.useMemo(()=>u.filter(H=>H.status==="").length,[u]),Se=y.useMemo(()=>u.filter(H=>H.status==="").length,[u]),oe=y.useMemo(()=>u.filter(H=>H.status!==""&&!H.dueDate).length,[u]),je=y.useMemo(()=>{if(V.length===0)return 0;const H=V.filter(ve=>f.has(ve.code)).length;return Math.round(H/V.length*100)},[f,V]),pe=y.useMemo(()=>t===2?["1)      ","2)  // ","3)   "]:["1) /   ","2)   /  ","3)     "],[t]),Ee=y.useCallback(H=>{O({...H}),q(!0)},[]),me=y.useCallback(H=>{d(ve=>ve.map(Re=>Re.code===H.code?H:Re)),M("UPDATE_EXECUTION",{code:H.code,mode:H.mode,status:H.status,dueDate:H.dueDate,assigneeName:H.assigneeName}),q(!1),O(null)},[M]),fe=y.useMemo(()=>{if(!b.trim())return null;let H=l2e(b);return v&&(H=H.filter(ve=>h.has(ve.code))),H},[b,v,h]),Xe=y.useCallback(H=>{E(ve=>{const Re=new Set(ve);return Re.has(H)?Re.delete(H):Re.add(H),Re})},[]);return a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-3",children:[a.jsxs("div",{className:"xl:col-span-8 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(tn,{variant:"outline",className:"text-xs",children:["Stage ",t]}),a.jsx(tn,{variant:"outline",className:"text-xs",children:r}),n&&a.jsxs(tn,{variant:"outline",className:"text-xs",children:["MCI ",n]}),s.map(H=>a.jsx(tn,{variant:"destructive",className:"text-xs",children:H},H))]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),a.jsxs("p",{className:"mt-1 text-sm font-bold text-slate-900",children:[je,"%"]}),a.jsx("div",{className:"mt-1.5 h-1.5 w-full rounded-full bg-gray-200 overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-blue-500 transition-all",style:{width:`${je}%`}})}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",V.length,"  ",se," "]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),a.jsxs("p",{className:"mt-1 text-sm font-bold text-slate-900",children:[u.length===0?0:Math.round(ie/u.length*100),"%"]}),a.jsx("div",{className:"mt-1.5 h-1.5 w-full rounded-full bg-gray-200 overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${u.length===0?0:Math.round(ie/u.length*100)}%`}})}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",ie," /  ",Se]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),a.jsxs("p",{className:"mt-1 text-sm font-bold text-slate-900",children:[oe,""]}),a.jsx("p",{className:"text-[10px] text-slate-500",children:"/  "})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),pe.map(H=>a.jsx("p",{className:"mt-1 text-[10px] text-slate-600",children:H},H))]})]}),!l&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(pt,{size:"sm",variant:"outline",onClick:K,children:[a.jsx(Ig,{className:"mr-1 h-3.5 w-3.5"}),"  3  "]}),a.jsxs(pt,{size:"sm",variant:"outline",onClick:Z,children:[a.jsx(lo,{className:"mr-1 h-3.5 w-3.5"}),"   "]})]}),a.jsx("div",{className:"flex gap-1 border-b border-gray-200 pb-0",children:["picker","selected","audit"].map(H=>a.jsxs("button",{onClick:()=>G(H),className:ce("px-3 py-2 text-sm font-medium border-b-2 transition-colors",D===H?"border-blue-600 text-blue-700":"border-transparent text-gray-500 hover:text-gray-700"),children:[H==="picker"&&a.jsxs(a.Fragment,{children:[a.jsx(YA,{className:"inline h-3.5 w-3.5 mr-1"})," "]}),H==="selected"&&a.jsxs(a.Fragment,{children:[a.jsx(nu,{className:"inline h-3.5 w-3.5 mr-1"})," (",u.length,")"]}),H==="audit"&&a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"inline h-3.5 w-3.5 mr-1"}),"  (",C.length,")"]})]},H))}),D==="picker"&&a.jsx(y2e,{activeTop:j,setActiveTop:A,expandedMids:_,toggleMid:Xe,checkedCodes:f,toggleCheck:Q,pinnedCodes:h,togglePin:P,showPinnedOnly:v,setShowPinnedOnly:N,searchQuery:b,setSearchQuery:S,searchResults:fe,readOnly:l}),D==="selected"&&a.jsx(b2e,{items:u,onOpenDrawer:Ee,readOnly:l}),D==="audit"&&a.jsx(S2e,{events:C})]}),a.jsx("div",{className:"xl:col-span-4",children:a.jsx("div",{className:"sticky top-4",children:a.jsx(N2e,{recommendations:V,checkedCodes:f,heldCodes:F,onAdd:J,onHold:H=>{Y(ve=>new Set(ve).add(H)),M("HOLD_RECO",{code:H})},readOnly:l})})}),B&&I&&a.jsx(v2e,{item:I,onSave:me,onClose:()=>{q(!1),O(null)},readOnly:l})]})}function y2e({activeTop:e,setActiveTop:t,expandedMids:r,toggleMid:n,checkedCodes:s,toggleCheck:i,pinnedCodes:o,togglePin:l,showPinnedOnly:u,setShowPinnedOnly:d,searchQuery:f,setSearchQuery:m,searchResults:h,readOnly:x}){const v=y.useRef(null);return a.jsxs(_r,{children:[a.jsxs(un,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(dn,{className:"text-sm flex items-center gap-1.5",children:[a.jsx(YA,{className:"h-4 w-4 text-blue-600"})," "]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{onClick:()=>d(!u),className:ce("flex items-center gap-1 text-xs px-2 py-1 rounded-md transition-colors",u?"bg-amber-100 text-amber-700":"text-gray-500 hover:bg-gray-100"),children:[u?a.jsx(eW,{className:"h-3 w-3"}):a.jsx(rW,{className:"h-3 w-3"})," "]})})]}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(dh,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-gray-400"}),a.jsx(fr,{value:f,onChange:N=>m(N.target.value),placeholder:", ,  ...",className:"pl-8 h-8 text-xs"}),f&&a.jsx("button",{onClick:()=>m(""),className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:a.jsx(vu,{className:"h-3.5 w-3.5"})})]})]}),a.jsx(Ar,{className:"pt-0",children:h!==null?a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[h.length,"  "]}),a.jsx("div",{ref:v,className:"max-h-[400px] overflow-y-auto space-y-0.5 pr-1",children:h.length===0?a.jsx("div",{className:"text-center text-xs text-gray-400 py-8",children:"  "}):h.map(N=>a.jsx(w$,{item:N,checked:s.has(N.code),pinned:o.has(N.code),onToggle:()=>i(N.code),onPin:()=>l(N.code),readOnly:x,showBreadcrumb:!0},N.code))})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-4 gap-1.5 mt-2 mb-3",children:JU.map(N=>{const b=e===N;return a.jsxs("button",{onClick:()=>t(N),className:ce("flex flex-col items-center gap-1 py-2.5 rounded-lg text-xs font-medium transition-all border",b?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-200 bg-white text-gray-600 hover:bg-gray-50"),children:[a.jsx("span",{className:ce("p-1.5 rounded-md",b?"bg-blue-100":"bg-gray-100"),children:tz[N]}),N]},N)})}),a.jsx("div",{ref:v,className:"max-h-[400px] overflow-y-auto space-y-1 pr-1",children:i2e(e).map(N=>{const b=r.has(N);let S=o2e(e,N);return u&&(S=S.filter(j=>o.has(j.code))),a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>n(N),className:"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-700 bg-gray-50 hover:bg-gray-100 transition-colors","aria-expanded":b,children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[b?a.jsx(Hn,{className:"h-3.5 w-3.5"}):a.jsx(vs,{className:"h-3.5 w-3.5"}),N,a.jsx(tn,{variant:"secondary",className:"text-[10px] ml-1",children:S.length})]}),S.some(j=>s.has(j.code))&&a.jsxs(tn,{className:"text-[10px] bg-blue-600",children:[S.filter(j=>s.has(j.code)).length," "]})]}),b&&a.jsx("div",{className:"border-t border-gray-100 divide-y divide-gray-50",children:S.length===0?a.jsx("div",{className:"text-xs text-gray-400 text-center py-3",children:u?"   ":" "}):S.map(j=>a.jsx(w$,{item:j,checked:s.has(j.code),pinned:o.has(j.code),onToggle:()=>i(j.code),onPin:()=>l(j.code),readOnly:x},j.code))})]},N)})})]})})]})}function w$({item:e,checked:t,pinned:r,onToggle:n,onPin:s,readOnly:i,showBreadcrumb:o=!1}){return a.jsxs("div",{className:ce("flex items-center gap-2 px-3 py-2 text-xs transition-colors group",t?"bg-blue-50/60":"hover:bg-gray-50"),children:[!i&&a.jsx("button",{onClick:n,className:ce("w-4 h-4 rounded border flex items-center justify-center shrink-0 transition-colors",t?"bg-blue-600 border-blue-600 text-white":"border-gray-300 hover:border-blue-400"),"aria-label":`${e.label} ${t?" ":""}`,children:t&&a.jsx(nu,{className:"h-3 w-3"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-800 truncate",children:e.label}),o&&a.jsxs("div",{className:"text-[10px] text-gray-400 truncate mt-0.5",children:[e.top,"  ",e.mid,"  ",e.sub]})]}),a.jsx("span",{className:"text-[10px] text-gray-400 font-mono shrink-0",children:e.code}),a.jsx("button",{onClick:s,className:ce("p-0.5 rounded transition-colors shrink-0",r?"text-amber-500":"text-gray-300 opacity-0 group-hover:opacity-100"),"aria-label":`${e.label} ${r?" ":" "}`,children:r?a.jsx(QV,{className:"h-3 w-3 fill-current"}):a.jsx(YV,{className:"h-3 w-3"})})]})}function b2e({items:e,onOpenDrawer:t,readOnly:r}){if(e.length===0)return a.jsx(_r,{children:a.jsxs(Ar,{className:"py-8 text-center",children:[a.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mb-3",children:a.jsx(YA,{className:"h-6 w-6 text-blue-400"})}),a.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"   "}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1.5 max-w-[280px] mx-auto",children:['" "    ,',a.jsx("br",{}),"        ."]}),a.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:a.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-md border border-blue-200 bg-blue-50 px-3 py-1.5 text-[11px] text-blue-700",children:[a.jsx(Ig,{className:"h-3.5 w-3.5"}),"       "]})})]})});const n=e.reduce((s,i)=>((s[i.top]??=[]).push(i),s),{});return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[a.jsxs("span",{children:[" ",e.length," "]}),a.jsx("span",{children:""}),a.jsxs("span",{className:"text-green-600",children:[e.filter(s=>s.status==="").length," "]}),a.jsxs("span",{className:"text-amber-600",children:[e.filter(s=>s.status==="").length," "]}),a.jsxs("span",{className:"text-blue-600",children:[e.filter(s=>s.status==="").length," "]}),a.jsxs("span",{className:"text-gray-400",children:[e.filter(s=>s.status==="").length," "]})]}),JU.filter(s=>n[s]?.length).map(s=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[a.jsx("span",{className:"p-1 rounded bg-gray-100",children:tz[s]}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:s}),a.jsx(tn,{variant:"secondary",className:"text-[10px]",children:n[s].length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:n[s].map(i=>a.jsxs("button",{onClick:()=>!r&&t(i),className:ce("text-left border rounded-lg p-3 transition-all",r?"cursor-default":"hover:shadow-md hover:border-blue-300 cursor-pointer","bg-white border-gray-200"),children:[a.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-800 flex-1 min-w-0 truncate",children:i.label}),a.jsx(tn,{className:ce("text-[10px] shrink-0 ml-2",ez[i.status]),children:i.status})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 text-[11px] text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(iu,{className:"h-3 w-3"}),i.mode]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(go,{className:"h-3 w-3"}),i.assigneeName]}),i.dueDate&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(uW,{className:"h-3 w-3"}),i.dueDate]}),i.orgLink?.name&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Dg,{className:"h-3 w-3"}),i.orgLink.name]})]}),i.notes&&a.jsxs("div",{className:"text-[10px] text-gray-400 mt-1.5 truncate",children:[" ",i.notes]}),i.addedSource&&i.addedSource!=="manual"&&a.jsxs("div",{className:"text-[10px] text-purple-500 mt-1",children:[a.jsx(Ig,{className:"inline h-3 w-3 mr-0.5"}),i.addedSource==="rule"?"   ":"   "," "]}),!r&&a.jsxs("div",{className:"text-[10px] mt-2 text-blue-600 font-medium flex items-center gap-1",children:[a.jsx(qn,{className:"h-3 w-3"}),"  "]})]},i.code))})]},s))]})}function v2e({item:e,onSave:t,onClose:r,readOnly:n}){const[s,i]=y.useState({...e}),o=(u,d)=>{i(f=>({...f,[u]:d}))},l=(u,d)=>{i(f=>({...f,orgLink:{...f.orgLink,name:f.orgLink?.name??"",[u]:d}}))};return a.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:r}),a.jsxs("div",{className:"relative w-full max-w-md bg-white shadow-xl flex flex-col animate-in slide-in-from-right duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"  "}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:s.label})]}),a.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-gray-200 text-gray-500",children:a.jsx(vu,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ll,{children:" "}),a.jsx("div",{className:"text-xs text-gray-600 bg-gray-50 px-2 py-1.5 rounded font-mono",children:s.code})]}),a.jsxs("div",{children:[a.jsx(Ll,{children:""}),a.jsxs("div",{className:"text-xs text-gray-600",children:[s.top,"  ",s.mid]})]}),a.jsxs("div",{children:[a.jsx(Ll,{children:" "}),a.jsx("div",{className:"grid grid-cols-5 gap-1 mt-1",children:m2e.map(u=>a.jsx("button",{onClick:()=>!n&&o("mode",u),disabled:n,className:ce("text-xs py-1.5 rounded-md border transition-colors text-center",s.mode===u?"bg-blue-600 text-white border-blue-600":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:u},u))})]}),a.jsxs("div",{children:[a.jsx(Ll,{children:""}),a.jsx("div",{className:"grid grid-cols-4 gap-1 mt-1",children:h2e.map(u=>a.jsx("button",{onClick:()=>!n&&o("status",u),disabled:n,className:ce("text-xs py-1.5 rounded-md border transition-colors text-center",s.status===u?ez[u]+" border-transparent font-medium":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:u},u))})]}),a.jsxs("div",{children:[a.jsx(Ll,{children:""}),a.jsx(fr,{value:s.assigneeName,onChange:u=>o("assigneeName",u.target.value),className:"h-8 text-xs mt-1",disabled:n})]}),a.jsxs("div",{children:[a.jsx(Ll,{children:""}),a.jsx(fr,{type:"date",value:s.dueDate,onChange:u=>o("dueDate",u.target.value),className:"h-8 text-xs mt-1",disabled:n})]}),a.jsxs("div",{children:[a.jsx(Ll,{children:" "}),a.jsxs("div",{className:"space-y-1.5 mt-1",children:[a.jsx(fr,{placeholder:"",value:s.orgLink?.name??"",onChange:u=>l("name",u.target.value),className:"h-8 text-xs",disabled:n}),a.jsx(fr,{placeholder:"",value:s.orgLink?.phone??"",onChange:u=>l("phone",u.target.value),className:"h-8 text-xs",disabled:n}),a.jsx(fr,{placeholder:"",value:s.orgLink?.note??"",onChange:u=>l("note",u.target.value),className:"h-8 text-xs",disabled:n})]})]}),a.jsxs("div",{children:[a.jsx(Ll,{children:" (/)"}),a.jsx(Ni,{value:s.notes,onChange:u=>o("notes",u.target.value),className:"text-xs mt-1 min-h-[60px]",placeholder:" ...",disabled:n})]})]}),!n&&a.jsxs("div",{className:"flex items-center justify-end gap-2 px-4 py-3 border-t bg-gray-50",children:[a.jsx(pt,{variant:"outline",size:"sm",onClick:r,children:""}),a.jsx(pt,{size:"sm",onClick:()=>t(s),children:""})]})]})]})}function Ll({children:e}){return a.jsx("label",{className:"text-xs font-medium text-gray-700",children:e})}function N2e({recommendations:e,checkedCodes:t,heldCodes:r,onAdd:n,onHold:s,readOnly:i}){const[o,l]=y.useState(new Set),u=d=>{l(f=>{const m=new Set(f);return m.has(d)?m.delete(d):m.add(d),m})};return a.jsxs(_r,{className:"border-purple-200",children:[a.jsxs(un,{className:"pb-2",children:[a.jsxs(dn,{className:"text-sm flex items-center gap-1.5",children:[a.jsx(Ig,{className:"h-4 w-4 text-purple-600"}),"   "]}),a.jsxs("div",{className:"flex items-start gap-1.5 bg-amber-50 border border-amber-200 rounded-md px-2.5 py-2 mt-2",children:[a.jsx(xm,{className:"h-3.5 w-3.5 text-amber-600 mt-0.5 shrink-0"}),a.jsx("p",{className:"text-[11px] text-amber-800 leading-relaxed",children:" ,      ."})]})]}),a.jsx(Ar,{className:"pt-0 space-y-2",children:e.length===0?a.jsx("div",{className:"text-center text-xs text-gray-400 py-6",children:"      "}):e.map(d=>{const f=t.has(d.code),m=r.has(d.code),h=o.has(d.code);return a.jsxs("div",{className:ce("border rounded-lg p-2.5 transition-colors",f?"border-green-300 bg-green-50/50":m?"border-gray-200 bg-gray-50 opacity-60":"border-gray-200 bg-white"),children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-800 flex-1",children:d.label}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx(tn,{variant:"outline",className:ce("text-[10px]",d.source==="rule"?"border-blue-300 text-blue-600":"border-purple-300 text-purple-600"),children:d.source==="rule"?"":" "}),a.jsx(tn,{variant:"outline",className:ce("text-[10px]",d.confidenceLabel===""?"border-green-300 text-green-600":d.confidenceLabel===""?"border-amber-300 text-amber-600":"border-gray-300 text-gray-500"),children:d.confidenceLabel})]})]}),a.jsx("p",{className:"text-[11px] text-gray-600 leading-relaxed mb-2",children:d.reasonSummary}),d.evidenceSnippets.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsxs("button",{onClick:()=>u(d.code),className:"text-[10px] text-purple-600 hover:underline flex items-center gap-0.5",children:[h?a.jsx(Ks,{className:"h-3 w-3"}):a.jsx(Hn,{className:"h-3 w-3"}),"  "]}),h&&a.jsx("div",{className:"mt-1.5 space-y-1.5",children:d.evidenceSnippets.map((x,v)=>a.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded px-2 py-1.5 text-[10px] text-gray-600 leading-relaxed",children:x},v))})]}),!i&&!f&&!m&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs(pt,{size:"sm",variant:"outline",className:"text-[11px] h-7",onClick:()=>n(d),children:[a.jsx(o7,{className:"h-3 w-3 mr-0.5"}),"  "]}),a.jsx(pt,{size:"sm",variant:"ghost",className:"text-[11px] h-7 text-gray-400",onClick:()=>s(d.code),children:""})]}),f&&a.jsxs("div",{className:"text-[10px] text-green-600 flex items-center gap-1",children:[a.jsx(nu,{className:"h-3 w-3"}),"  "]}),m&&!f&&a.jsx("div",{className:"text-[10px] text-gray-400 flex items-center gap-1",children:"  (  )"})]},d.code)})})]})}function S2e({events:e}){return e.length===0?a.jsx(_r,{children:a.jsxs(Ar,{className:"py-8 text-center",children:[a.jsx(Un,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"  "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" /   "})]})}):a.jsxs(_r,{children:[a.jsx(un,{className:"pb-2",children:a.jsxs(dn,{className:"text-sm flex items-center gap-1.5",children:[a.jsx(Un,{className:"h-4 w-4 text-gray-600"}),"  ",a.jsxs(tn,{variant:"secondary",className:"text-[10px] ml-1",children:[e.length,""]})]})}),a.jsx(Ar,{className:"pt-0",children:a.jsx("div",{className:"relative space-y-0 max-h-[400px] overflow-y-auto",children:e.map((t,r)=>a.jsxs("div",{className:"flex gap-3 pb-3",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:ce("w-2 h-2 rounded-full mt-1.5 shrink-0",t.type==="ADD_SELECTED"||t.type==="ADD_FROM_RECO"?"bg-blue-500":t.type==="UPDATE_EXECUTION"?"bg-amber-500":t.type==="REMOVE_SELECTED"?"bg-red-500":"bg-gray-400")}),r<e.length-1&&a.jsx("div",{className:"flex-1 w-px bg-gray-200 mt-1"})]}),a.jsxs("div",{className:"flex-1 min-w-0 pb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("span",{className:"font-medium text-gray-800",children:p2e[t.type]}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-gray-400",children:t.actorName})]}),a.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5",children:new Date(t.at).toLocaleString("ko-KR")}),t.payload&&a.jsx("div",{className:"text-[10px] text-gray-500 mt-1 bg-gray-50 rounded px-2 py-1",children:Object.entries(t.payload).map(([n,s])=>a.jsxs("span",{className:"mr-2",children:[n,": ",a.jsx("strong",{children:String(s)})]},n))}),t.sourceMeta&&a.jsxs("div",{className:"text-[10px] text-purple-500 mt-0.5",children:[": ",t.sourceMeta.source==="rule"?" ":" "]})]})]},t.eventId))})})]})}const w2e=["AGE_OVER_THRESHOLD","HAS_MCI_HISTORY","HAS_DEMENTIA_HISTORY","HAS_COMPLAINT_HISTORY","HAS_REFUSAL_HISTORY","GUARDIAN_PRIMARY","COMPREHENSION_DIFFICULTY"],rz=new Set(w2e);function j2e(e){const t=[];e.age>=80&&t.push("AGE_OVER_THRESHOLD"),e.dxHistory.hasMCI&&t.push("HAS_MCI_HISTORY"),e.dxHistory.hasDementia&&t.push("HAS_DEMENTIA_HISTORY"),e.contactHistory.hasComplaint&&t.push("HAS_COMPLAINT_HISTORY"),e.contactHistory.hasRefusal&&t.push("HAS_REFUSAL_HISTORY"),e.guardian.isPrimaryContact&&t.push("GUARDIAN_PRIMARY"),e.contactHistory.needsGuardian&&t.push("NEEDS_GUARDIAN_SUPPORT"),e.contactHistory.comprehensionDifficultyFlag&&t.push("COMPREHENSION_DIFFICULTY"),t.length===0&&t.push("STANDARD_CONTACT_PATH");const r=t.some(s=>rz.has(s))?"HUMAN_FIRST":"AI_FIRST";return{strategy:r,triggers:t,policyNote:r==="HUMAN_FIRST"?"       .      .":" ()  /   .        .",confidence:"RULE"}}function PT(e){return e.some(t=>rz.has(t))}function E2e({outcomeCode:e,execution:t,linkageStatus:r,contactPlan:n}){const s=e==="REQUEST_HUMAN"||e==="REQUEST_GUARDIAN"||e==="CONFUSED"||e==="EMOTIONAL";let i=t.status;e==="CONTINUE_SELF"&&(i="DONE"),e==="SCHEDULE_LATER"&&(i="WAITING_RESPONSE"),e==="NO_RESPONSE"&&(i="RETRY_NEEDED"),e==="REFUSE"&&(i="STOPPED"),s&&(i="HANDOFF_TO_HUMAN");const o=e==="NO_RESPONSE"?t.retryCount+1:t.retryCount;let l=r,u=" ";e==="CONTINUE_SELF"?(l=r==="BOOKING_IN_PROGRESS"?"BOOKING_DONE":"BOOKING_IN_PROGRESS",u=l==="BOOKING_DONE"?"     ":"  "):e==="SCHEDULE_LATER"?(l="BOOKING_IN_PROGRESS",u="  "):s?(l="REFERRAL_CREATED",u="   /  "):e==="REFUSE"?(l="NOT_CREATED",u="   "):e==="NO_RESPONSE"&&(u="  ");let d=n;d&&e==="SCHEDULE_LATER"&&(d={...d});let f=!1;return d&&e==="NO_RESPONSE"&&o>=2&&d.channel!=="HYBRID"&&(d={...d,channel:"HYBRID"},f=!0),{executionStatus:i,retryCount:o,linkageStatus:l,contactPlan:d,requiresHandoffMemo:s,recommendedNextAction:u,recontactAfterHours:e==="SCHEDULE_LATER"?72:e==="NO_RESPONSE"?24:e==="REFUSE"?168:48,switchedToHybrid:f}}const tu="",j$=" ",Gc="02-555-0199";function _2e(){return typeof window<"u"?`${window.location.origin}${"/neuro-shield/".replace(/\/$/,"")}/#citizen`:"http://146.56.162.226/neuro-shield/#citizen"}const A2e=_2e(),Nb=" 080-000-0000",DT=[{id:"S1_CONTACT_BASE",messageType:"CONTACT",label:"1 ()",body:({centerName:e,guideLink:t,centerPhone:r})=>`[:${e}]     .  (/)   .      : ${t} / : ${r}`},{id:"S1_CONTACT_GUARDIAN",messageType:"CONTACT",label:"1 ( )",body:({centerName:e,guideLink:t,centerPhone:r})=>`[:${e}]        ()   .  / : ${t} / : ${r}`},{id:"S1_BOOKING_BASE",messageType:"BOOKING",label:"1 (/)",body:({centerName:e,centerPhone:t,reservationLink:r})=>`[:${e}]  . ${r}     ${t}  .`},{id:"S1_BOOKING_CHANNEL",messageType:"BOOKING",label:"1 (/ )",body:({centerName:e,centerPhone:t,reservationLink:r})=>`[:${e}]   . ${r}  /   . : ${t}`},{id:"S1_REMINDER_FIRST",messageType:"REMINDER",label:"1 (1 )",body:({centerName:e,centerPhone:t,unsubscribe:r})=>`[:${e}]       .    . : ${t} / ${r}`},{id:"S1_REMINDER_FINAL",messageType:"REMINDER",label:"1 ()",body:({centerName:e,centerPhone:t})=>`[:${e}]    .      . : ${t}`}],IT=[{id:"S2_CONTACT_BASE",messageType:"CONTACT",label:"2 ( )",body:({centerName:e,guideLink:t,centerPhone:r})=>`[:${e}] 1    2 (/) .       . / : ${t} / : ${r}`},{id:"S2_CONTACT_RELIEF",messageType:"CONTACT",label:"2 ( )",body:({centerName:e,guideLink:t})=>`[:${e}]    2  .      . / : ${t}`},{id:"S2_BOOKING_NEURO",messageType:"BOOKING",label:"2 ()",body:({centerName:e,reservationLink:t})=>`[:${e}] 2 1 ()  .   : ${t}`},{id:"S2_BOOKING_CLINICAL",messageType:"BOOKING",label:"2 (/)",body:({centerName:e,reservationLink:t})=>`[:${e}] 2 2 ( / ) .     : ${t}`},{id:"S2_REMINDER_BOOKING",messageType:"REMINDER",label:"2 ()",body:({centerName:e,reservationLink:t})=>`[:${e}] 2     .        . ${t}`},{id:"S2_REMINDER_NOSHOW",messageType:"REMINDER",label:"2 ( )",body:({centerName:e,reservationLink:t})=>`[:${e}]      .    . ${t}`}],MT=[{id:"S3_CONTACT_BASE",messageType:"CONTACT",label:"3  ( )",body:({centerName:e,centerPhone:t})=>`[:${e}]     . /    . : ${t}`},{id:"S3_BOOKING_REEVAL",messageType:"BOOKING",label:"3  ",body:({centerName:e,reservationLink:t,centerPhone:r})=>`[:${e}]      .  : ${t} / : ${r}`},{id:"S3_REMINDER_TRACK",messageType:"REMINDER",label:"3 ( )",body:({centerName:e,centerPhone:t})=>`[:${e}]     .      . : ${t}`}],C2e=[{step:"greeting",title:"1:    ",content:".   .   ?       .",tips:["  ","    ","   "],checkpoints:["  ","/ ","   "]},{step:"purpose",title:"2:  ",content:"       . /     .",tips:["   ","   ","   "],checkpoints:["  ","   ","  "]},{step:"assessment",title:"3:   ",content:"   ,  (//), /    .       .",tips:["  ","  ","  "],checkpoints:["  ","  ","    "]},{step:"scheduling",title:"4:   ",content:"     , / ,   .     .",tips:["  1 ","   ","  "],checkpoints:["  ","   ","  "]}],T2e=[{step:"greeting",title:"1:   / ",content:".   .   ?       .",tips:["    ","/   ","   "],checkpoints:["  ","/ ","  "]},{step:"purpose",title:"2: 2  ",content:"  2 (/)   .        .",tips:["     ","   ","   "],checkpoints:["2   ","   ","   "]},{step:"assessment",title:"3: /  ",content:"   ,   ,     .       .",tips:["    ","   ","/    "],checkpoints:["/  ","/  ","  "]},{step:"scheduling",title:"4:    ",content:"     , / ,    .     .",tips:["  1 ","   ","  "],checkpoints:["  ","/  ","  "]}];function er(){return new Date().toISOString()}function Wt(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function at(e){return new Date(Date.now()+e*60*60*1e3).toISOString()}function uy(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const r=t.getTimezoneOffset();return new Date(t.getTime()-r*60*1e3).toISOString().slice(0,16)}function dy(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString()}function k2e(e,t){const r=e==="stage1"?C2e:T2e;return t?r.map((n,s)=>({...n,content:s===1?`${n.content}

 : ${t.scriptBody}`:n.content,tips:s===0?[...n.tips,` : ${t.useCase}`]:s===2?[...n.tips,...t.evidence.slice(0,2)]:n.tips})):r}function fy(e){if(!e||!e.scheduledAt)return"(  )";const t=e.place?.trim()||"  ",r=e.contactGuide?.trim()||Gc;return`${e.reservationType} / ${Wt(e.scheduledAt)} / ${t} /  ${r}`}function O2e(e){return e===""?10:e===""?7:e===""?6:e===""?3:1}function R2e(e){return e===""?{level:"OVERDUE",dueAt:at(-4)}:e===""||e===""?{level:"DUE_SOON",dueAt:at(18)}:{level:"OK",dueAt:at(72)}}function Sb(e){return e===""?{level:"EXCLUDE",score:58,notes:["  ","/  "]}:e===""?{level:"WARN",score:79,notes:["   "]}:{level:"GOOD",score:96,notes:["  "]}}function gA(e){const t={:62,:76,:24,:88,:94},r={:0,:8,:16},n={:0,:6,:18};if(!e)return 60;const s=Math.min(e.alertTags.length*3,12),i=t[e.status]+r[e.risk]+s-n[e.quality];return Math.max(5,Math.min(99,i))}function P2e(e){return e>=85?{label:"",tone:"border-red-200 bg-red-50 text-red-700",bar:"bg-red-500",guide:"24   "}:e>=65?{label:"",tone:"border-orange-200 bg-orange-50 text-orange-700",bar:"bg-orange-500",guide:" /  "}:e>=45?{label:"",tone:"border-blue-200 bg-blue-50 text-blue-700",bar:"bg-blue-500",guide:"  "}:{label:"",tone:"border-emerald-200 bg-emerald-50 text-emerald-700",bar:"bg-emerald-500",guide:"/ "}}function nz(e){return e==="TRACKING"?"":e==="REEVAL_DUE"?" ":e==="REEVAL_PENDING"?" ":e==="LINKAGE_PENDING"?" ":e==="PLAN_NEEDS_UPDATE"?"  ":e==="CHURN_RISK"?" ":""}function LT(e){return e==="ACTIVE"?"ACTIVE":e==="PAUSED"?"PAUSED":"NEEDS_UPDATE"}function D2e(e){return e?e.status===""?"CLOSED":e.alertTags.includes(" ")?"CHURN_RISK":e.alertTags.includes(" ")?"LINKAGE_PENDING":e.alertTags.includes(" ")?e.status===""||e.status===""?"REEVAL_DUE":"REEVAL_PENDING":e.status===""?"PLAN_NEEDS_UPDATE":"TRACKING":"TRACKING"}function I2e(e){return e?e.status===""?"PAUSED":e.status===""||e.alertTags.includes(" ")?"NEEDS_UPDATE":"ACTIVE":"ACTIVE"}function M2e(e){return e?e.alertTags.includes(" ")||e.status===""?"HIGH":e.risk===""||e.status===""?"MID":"LOW":"MID"}function L2e(e){const t=D2e(e),r=I2e(e),n=M2e(e),s=e?.risk===""?14:e?.risk===""?21:30,i=at(e?.status===""?12:e?.status===""?-6:72),o=at(e?.status===""?8:36),l=at(e?.risk===""?120:168);return{opsStatus:t,nextReevalAt:i,nextTrackingContactAt:o,nextProgramAt:l,planStatus:r,trackingCycleDays:s,churnRisk:n}}function $2e(e,t){const r=[],n=e?.alertTags.includes(" ")??!0,s=e?.alertTags.includes(" ")??!1,i=e?.alertTags.includes(" ")??!1,o=Sb(e?.quality).level;return(n||t.opsStatus==="REEVAL_DUE"||t.opsStatus==="REEVAL_PENDING")&&r.push({id:"s3-action-reeval",type:"SCHEDULE_REEVAL",title:"  ",reason:"      .",severity:t.opsStatus==="REEVAL_DUE"?"HIGH":"MID",requiresApproval:!0,decision:"PENDING"}),(s||t.churnRisk==="HIGH")&&r.push({id:"s3-action-reminder",type:"SEND_REMINDER",title:" / ",reason:"/      .",severity:"HIGH",requiresApproval:!1,decision:"PENDING"}),t.planStatus==="NEEDS_UPDATE"&&r.push({id:"s3-action-plan",type:"UPDATE_PLAN",title:"  ",reason:"       .",severity:"MID",requiresApproval:!0,decision:"PENDING"}),(i||t.opsStatus==="LINKAGE_PENDING")&&r.push({id:"s3-action-escalate",type:"ESCALATE_LEVEL",title:" /  ",reason:"       .",severity:i?"MID":"LOW",requiresApproval:!0,decision:"PENDING"}),o==="EXCLUDE"&&r.unshift({id:"s3-action-quality",type:"SEND_REMINDER",title:"  ",reason:"      .",severity:"HIGH",requiresApproval:!1,decision:"PENDING"}),r.slice(0,3)}function Fs(e){return Math.max(0,Math.min(1,e))}function Jo(e){return Math.round(Fs(e)*100)}function F2e(e){const t=gA(e),r=Fs(t/100),n=e?.risk===""?.12:e?.risk===""?.05:0,s=e?.status===""?.1:e?.status===""?.06:e?.status===""?-.08:0,i=Fs(r+n+s),l=(e?.status===""?[.18,.14,.1,.06,.03,0]:e?.status===""?[-.1,-.07,-.05,-.03,-.01,0]:[.04,.02,.03,.01,.005,0]).map((h,x)=>{const v=Fs(i-h),N=e?.quality===""?.08:e?.quality===""?.06:.04;return{t:at(-(720*(5-x))),risk2y:v,ciLow:Fs(v-N),ciHigh:Fs(v+N),source:"model"}}),u=l[0]?.risk2y??i,d=i-u,m=Math.max(...l.map((h,x)=>x===0?0:Math.abs(h.risk2y-(l[x-1]?.risk2y??h.risk2y))))>=.08?"VOLATILE":d>=.04?"UP":d<=-.04?"DOWN":"FLAT";return{risk2y_now:i,risk2y_label:i>=.7?"HIGH":i>=.45?"MID":"LOW",trend:m,variabilityNote:m==="VOLATILE"?"  /     .":void 0,updatedAt:er(),modelVersion:"stage3-risk-v1.2",series:l}}function B2e(e){const t=e?.risk===""||e?.status==="";return[{id:"program-precision-diff-neuro",major:" ",middle:" ",leaf:"  ",pinned:t},{id:"program-precision-mri-route",major:" ",middle:" ",leaf:" / ",pinned:t},{id:"program-case-followup-weekly",major:" ",middle:" ",leaf:"     ",pinned:!0},{id:"program-case-caregiver",major:" ",middle:" ",leaf:"  "},{id:"program-support-homevisit",major:"",middle:" ",leaf:" / "},{id:"program-support-education",major:"",middle:"",leaf:"   ",pinned:e?.quality!==""},{id:"program-family-rest",major:"/ ",middle:"",leaf:"    "},{id:"program-family-counseling",major:"/ ",middle:"",leaf:"  "}]}function U2e(e){const t=new Set(["program-precision-diff-neuro","program-case-followup-weekly","program-support-education"]);return e.filter(r=>t.has(r.id)).map(r=>({...r,selected:!0,execution:{owner:tu,status:"PLANNED",dueDate:at(72),method:""}}))}function z2e(e){return e?e==="CONTINUE_SELF"?"":e==="NO_RESPONSE"||e==="REFUSE"?"":" ":" "}function H2e(e){const t=Sb(e?.quality).level,r=!!e?.profile.guardianPhone;return[{key:"CONSENT_OK",label:" ",status:t==="EXCLUDE"?"FAIL":"PASS",failReason:t==="EXCLUDE"?"   ":void 0,fixAction:t==="EXCLUDE"?{label:" ",action:"REQUEST_CONSENT"}:void 0},{key:"CONTACTABLE_TIME_OK",label:"   ",status:e?.status===""?"UNKNOWN":"PASS",failReason:e?.status===""?"   ":void 0,fixAction:e?.status===""?{label:" ",action:"CONFIRM_CONTACT_TIME"}:void 0},{key:"PHONE_VERIFIED",label:" ",status:t==="GOOD"?"PASS":"FAIL",failReason:t==="GOOD"?void 0:"  ",fixAction:t==="GOOD"?void 0:{label:" ",action:"VERIFY_PHONE"}},{key:"GUARDIAN_OPTIONAL",label:" ",status:r?"PASS":"UNKNOWN",failReason:r?void 0:"   ",fixAction:r?void 0:{label:" ",action:"ADD_GUARDIAN"}}]}function q2e(e,t="stage1"){if(t==="stage3")return{topFactors:[{title:"  ",description:"       .",recency:at(-14)},{title:"  ",description:"    /  .",recency:at(-20),isMissing:e?.quality!==""},{title:"  ",description:"    /  .",recency:at(-32)}],computedAt:er(),version:"stage3-risk-v1.2"};const r=e?.risk??"";return{topFactors:r===""?[{title:"   ",description:" 2       .",recency:at(-16)},{title:"  ",description:"       .",recency:at(-30)},{title:"   ",description:"        .",recency:at(-40),isMissing:e?.quality===""}]:r===""?[{title:"  ",description:"     .",recency:at(-18)},{title:"   ",description:"     L0/L1   .",recency:at(-34)},{title:"  ",description:"       .",recency:at(-45),isMissing:e?.quality!==""}]:[{title:"  ",description:"     .",recency:at(-20)},{title:"  ",description:"       .",recency:at(-32)},{title:"  ",description:"      .",recency:at(-46),isMissing:e?.quality!==""}],computedAt:er(),version:t==="stage2"?"stage2-risk-v2.4":"stage1-risk-v2.4"}}function G2e(e,t="stage1",r){if(t==="stage3"&&r){const o=Sb(e?.quality),l=r.recommendedActions.length,u=r.recommendedActions.some(h=>h.severity==="HIGH")?"HIGH":r.recommendedActions.some(h=>h.severity==="MID")?"MID":"LOW",d=e?.status===""?94:e?.status===""?58:e?.status===""?67:76,f=Jo(r.transitionRisk.risk2y_now),m=r.reevalStatus==="COMPLETED"?"COMPLETED":r.reevalStatus==="SCHEDULED"?"SCHEDULED":r.reevalStatus==="NOSHOW"?"NOSHOW":"PENDING";return[{label:"2  ( )",value:f,unit:"%",updatedAt:r.transitionRisk.updatedAt,flags:[r.transitionRisk.risk2y_label,r.transitionRisk.trend]},{label:" ",value:l,unit:"",updatedAt:r.headerMeta.nextReevalAt??er(),flags:[` ${u}`,m]},{label:" ",value:d,unit:"%",updatedAt:r.headerMeta.nextTrackingContactAt??er(),flags:d<70?[" "]:void 0},{label:" ",value:r.planProgressPct,unit:"%",updatedAt:er(),flags:[LT(r.headerMeta.planStatus)]},{label:" ",value:o.score,unit:"%",updatedAt:er(),flags:o.level==="GOOD"?["  "]:["  "]}]}const n=e?.risk??"",s=Number(e?.id.slice(-2)??0)%5,i=n===""?[41,53,47,44]:n===""?[79,83,86,82]:[61,68,65,66];return[{label:"CIST ",value:Math.max(0,Math.min(100,i[0]-s)),unit:"",updatedAt:at(-12),flags:n===""?[" "]:void 0},{label:"  ",value:Math.max(0,Math.min(100,i[1]-s)),unit:"",updatedAt:at(-14),flags:n!==""?[""]:void 0},{label:"  ",value:Math.max(0,Math.min(100,i[2]+s)),unit:"",updatedAt:at(-26),flags:e?.quality!==""?[" "]:void 0},{label:"  ",value:Math.max(0,Math.min(100,i[3])),unit:"",updatedAt:at(-8),flags:e?.status===""||e?.status===""?[" "]:void 0}]}function xA(e,t){const r={L0:[{id:"todo-L0-1",title:"    ",priority:1,status:"OPEN",suggestedAction:"VERIFY"},{id:"todo-L0-2",title:"   ",priority:2,status:"OPEN",suggestedAction:"SCHEDULE"},{id:"todo-L0-3",title:"  ",priority:2,status:"OPEN",suggestedAction:"VERIFY"}],L1:[{id:"todo-L1-1",title:"  ",priority:1,status:"OPEN",suggestedAction:"SMS"},{id:"todo-L1-2",title:"  ",priority:2,status:"OPEN",suggestedAction:"VERIFY"},{id:"todo-L1-3",title:"   ",priority:3,status:"OPEN",suggestedAction:"HOLD"}],L2:[{id:"todo-L2-1",title:"1  1 ",priority:1,status:"OPEN",suggestedAction:"CALL"},{id:"todo-L2-2",title:"    ",priority:1,status:"OPEN",suggestedAction:"SCHEDULE"},{id:"todo-L2-3",title:"2   ",priority:2,status:"OPEN",suggestedAction:"SMS"}],L3:[{id:"todo-L3-1",title:"2     ",priority:1,status:"OPEN",suggestedAction:"VERIFY"},{id:"todo-L3-2",title:"   ",priority:1,status:"OPEN",suggestedAction:"SMS"},{id:"todo-L3-3",title:"    ",priority:2,status:"OPEN",suggestedAction:"SCHEDULE"}]};return t==="EXCLUDE"?[{id:"todo-q-1",title:"   ",priority:1,status:"OPEN",suggestedAction:"VERIFY"},{id:"todo-q-2",title:"   ",priority:2,status:"OPEN",suggestedAction:"EXCLUDE"},{id:"todo-q-3",title:"   ",priority:3,status:"CANCELED",suggestedAction:"HOLD"}]:t==="WARN"?r[e].map((n,s)=>s===0?{...n,priority:2}:n):r[e]}function K2e(e,t,r="stage1"){const n=e?.status??"",s=e?.manager??tu,i=r==="stage2"?"Stage2":r==="stage3"?"Stage3":"Stage1",o=r==="stage2"?"S2_CONTACT_BASE":r==="stage3"?"S3_CONTACT_BASE":"S1_CONTACT_BASE",l=[{type:"STATUS_CHANGE",at:at(-72),from:"",to:n,reason:`${i}  `,by:s},{type:"LEVEL_CHANGE",at:at(-48),from:"L0",to:t,reason:"   SLA  ",by:s}];return n!==""&&l.unshift({type:"CALL_ATTEMPT",at:at(-18),result:"NO_ANSWER",note:"  ",by:s}),e?.alertTags.includes(" ")&&l.unshift({type:"SMS_SENT",at:at(-14),templateId:o,status:"PENDING",by:s}),r==="stage3"&&(l.unshift({type:"RISK_SERIES_UPDATED",at:at(-12),by:s,summary:"2    "}),l.unshift({type:"RISK_REVIEWED",at:at(-11),by:s,summary:"    "}),l.unshift({type:"DIFF_RECO_CREATED",at:at(-9),by:s,summary:"  "}),l.unshift({type:"PLAN_UPDATED",at:at(-10),by:s,summary:"     "}),l.unshift({type:"REEVAL_SCHEDULED",at:at(-8),scheduledAt:at(72),by:s,reason:"   "})),l}function _j(e,t="stage1"){const r=Vve(e),n=Sb(e?.quality),s=yNe(e),i=bNe(s),o=uz(i.strategy,e,t),l=vNe(),u="NOT_CREATED",d=t==="stage3"?L2e(e):void 0,f=t==="stage3"?F2e(e):void 0,m=t==="stage3"&&d?$2e(e,d):[],h=t==="stage3"?B2e(e):[],x=t==="stage3"?U2e(h):[],v=m.length>0?"RECOMMENDED":"NONE",N=d?.opsStatus==="REEVAL_DUE"||d?.opsStatus==="REEVAL_PENDING"?"PENDING":"SCHEDULED",b=t==="stage3"?d?.planStatus==="ACTIVE"?72:d?.planStatus==="NEEDS_UPDATE"?48:91:void 0,S=[];return PT(i.triggers)&&S.push("  :   "),i.triggers.includes("GUARDIAN_PRIMARY")&&S.push("  "),i.triggers.includes("HAS_COMPLAINT_HISTORY")&&S.push("   "),i.triggers.includes("HAS_REFUSAL_HISTORY")&&S.push("   "),t==="stage3"&&S.push(" :       "),{header:{caseId:e?.id??"CASE-UNKNOWN",stage:t==="stage2"?"STAGE2":t==="stage3"?"STAGE3":"STAGE1",assigneeName:e?.manager??tu,statusLabel:t==="stage3"&&d?nz(d.opsStatus):e?.status===""?"":e?.status===""?"":e?.status??"",waitDays:O2e(e?.status),sla:R2e(e?.status),dataQuality:n,contactStrategy:i.strategy,effectiveStrategy:i.strategy,riskGuardrails:S.length>0?S:void 0},policyGates:H2e(e),interventionLevel:r.level,riskEvidence:q2e(e,t),scoreSummary:G2e(e,t,t==="stage3"&&d&&f&&b!=null?{headerMeta:d,transitionRisk:f,recommendedActions:m,planProgressPct:b,reevalStatus:N}:void 0),todos:xA(r.level,n.level),timeline:K2e(e,r.level,t),preTriageInput:s,preTriageResult:i,contactPlan:o,contactExecution:l,contactFlowSteps:Is(l,i,u,t),linkageStatus:u,contactExecutor:i.strategy==="AI_FIRST"?"AGENT_SEND_ONLY":"HUMAN",agentExecutionLogs:[],stage3:t==="stage3"&&d&&f&&b!=null?{headerMeta:d,transitionRisk:f,reevalStatus:N,riskReviewedAt:void 0,diffPathStatus:v,triggersReviewedAt:void 0,planProgressPct:b,planUpdatedAt:d.planStatus==="NEEDS_UPDATE"?void 0:at(-10),recommendedActions:m,programs:x}:void 0}}function E$(e,t,r="stage1"){const n=e?.manager??tu,s=r==="stage2"?"Stage2":r==="stage3"?"Stage3":"Stage1";return[{id:`audit-${t.header.caseId}-1`,at:Wt(at(-72)),actor:n,message:"  :   "},{id:`audit-${t.header.caseId}-2`,at:Wt(at(-48)),actor:n,message:r==="stage3"?`  : ${t.stage3?.headerMeta.trackingCycleDays??21}  /  ${LT(t.stage3?.headerMeta.planStatus??"ACTIVE")}`:`${r==="stage2"?" ":" "} : ${t.preTriageResult?.strategy==="HUMAN_FIRST"?" ":" "}`},{id:`audit-${t.header.caseId}-3`,at:Wt(at(-32)),actor:n,message:`  : ${t.interventionLevel}`},{id:`audit-${t.header.caseId}-4`,at:Wt(at(-18)),actor:n,message:`${s}   : `}]}function W2e(e,t="stage1"){const r=e.riskEvidence.topFactors.map(d=>d.title).slice(0,2),n=PT(e.preTriageResult?.triggers??[]),s=e.preTriageInput?.contactHistory.hasComplaint??!1,i=e.preTriageInput?.contactHistory.hasRefusal??!1,o=e.header.sla.level!=="OK",l=e.contactExecutor==="AGENT_SEND_ONLY";return t==="stage3"?[{id:"RAG-S3-01",title:"  ",useCase:"    Stage3 ",evidence:[` : ${r.join(", ")||" "}`,"      .","        ."],scriptBody:"      ,     ."},{id:"RAG-S3-02",title:" /",useCase:"      ",evidence:["        .",o?"     .":"    .","    /   ."],scriptBody:"          ."},{id:"RAG-S3-03",title:" /",useCase:"      ",evidence:[" /       .",l?"Agent      .":"     .","/     ."],scriptBody:"/     .     ."}]:t==="stage2"?[{id:"RAG-S2-01",title:"2  ",useCase:"2 1/2    ",evidence:[` : ${r.join(", ")||"  "}`,"          .","      ."],scriptBody:"  2     .    ,      ."},{id:"RAG-S2-02",title:s||i?"  ":"  ",useCase:s||i?"/      ":"  /   ",evidence:[s?"       .":"       .",i?"        .":"       .","   /   ."],scriptBody:"         ,   ."},{id:"RAG-S2-03",title:o?"  ":" ",useCase:o?"SLA /    ":"      ",evidence:[o?"SLA    /   .":"   //   .",l?"Agent       .":"/     .","        ."],scriptBody:o?"       ,    .":"        ."}]:[{id:"RAG-GUIDE-01",title:n?"  ":" ",useCase:n?"   /  ":" ,   ",evidence:[` : ${r.join(", ")||"  "}`,n?"       .":"       .","     /  ."],scriptBody:n?"      .       .":"        .      ."},{id:"RAG-GUIDE-02",title:s||i?"  ":" ",useCase:s||i?"/   ":"     ",evidence:[s?"         .":"        .",i?"         .":"   /   .","        ."],scriptBody:"     .        ."},{id:"RAG-GUIDE-03",title:l?"Agent  ":"SLA  ",useCase:l?"      ":"SLA /  ",evidence:[o?"SLA /     .":" SLA       .",l?"Agent     Step3/4    .":"/        .","     ."],scriptBody:l?"   .     .":"          ."}].slice(0,3)}function V2e(e){return e.type==="CALL_ATTEMPT"?"CALL":e.type==="SMS_SENT"||e.type==="AGENT_SMS_SENT"?"SMS":"STATUS"}function az(e){return e.type==="CALL_ATTEMPT"?e.result==="SUCCESS"?" ":e.result==="NO_ANSWER"?"":e.result==="REJECTED"?" ":" ":e.type==="SMS_SENT"?`  (${nNe(e.templateId)})`:e.type==="LEVEL_CHANGE"?`   ${e.from}  ${e.to}`:e.type==="POLICY_GATE_UPDATE"?`   (${e.key})`:e.type==="OUTCOME_RECORDED"?`   (${uc[e.outcomeCode].label})`:e.type==="CALENDAR_SYNC"?e.status==="SUCCESS"?"  ":"   ":e.type==="STRATEGY_CHANGE"?`   ${Vl[e.from]}  ${Vl[e.to]}`:e.type==="AGENT_JOB_QUEUED"?"Agent   ":e.type==="AGENT_JOB_STARTED"?"Agent   ":e.type==="AGENT_SMS_SENT"?"Agent  ":e.type==="AGENT_JOB_SUCCEEDED"?"Agent   ":e.type==="AGENT_JOB_FAILED"?"Agent   ":e.type==="AGENT_JOB_CANCELED"?"Agent   ":e.type==="CONTACT_STRATEGY_CHANGED"?"  ":e.type==="OPERATOR_OVERRIDE_TO_HUMAN"?"  ":e.type==="REEVAL_SCHEDULED"?"  ":e.type==="REEVAL_RESCHEDULED"?"  ":e.type==="REEVAL_COMPLETED"?" ":e.type==="REEVAL_NOSHOW"?" ":e.type==="PLAN_CREATED"?" ":e.type==="PLAN_UPDATED"?" ":e.type==="PROGRAM_STARTED"?" ":e.type==="PROGRAM_COMPLETED"?" ":e.type==="PROGRAM_STOPPED"?" ":e.type==="LINKAGE_CREATED"?" ":e.type==="LINKAGE_APPROVED"?" ":e.type==="LINKAGE_COMPLETED"?" ":e.type==="STAGE3_ACTION_DECISION"?"Stage3  ":e.type==="RISK_SERIES_UPDATED"?"   ":e.type==="RISK_REVIEWED"?"  ":e.type==="DIFF_RECO_CREATED"?"  ":e.type==="DIFF_REFER_CREATED"?"  ":e.type==="DIFF_SCHEDULED"?"  ":e.type==="DIFF_COMPLETED"?" ":e.type==="DIFF_RESULT_APPLIED"?"  ":e.type==="PROGRAM_SELECTED"?" ":e.type==="PROGRAM_EXEC_UPDATED"?"  ":e.type==="PROGRAM_EXEC_COMPLETED"?"  ":e.type==="NEXT_TRACKING_SET"?"   ":`  ${e.from}  ${e.to}`}function sz(e){if(e.type==="CALL_ATTEMPT")return e.note??"  ";if(e.type==="SMS_SENT")return` : ${e.status}`;if(e.type==="LEVEL_CHANGE")return e.reason;if(e.type==="POLICY_GATE_UPDATE")return`: ${e.status}`;if(e.type==="OUTCOME_RECORDED"){const t=[];return e.rejectCode&&t.push(` ${e.rejectCode}`),e.rejectLevel&&t.push(` ${e.rejectLevel}`),e.recontactStrategy&&t.push(`  ${e.recontactStrategy}`),e.nextContactAt&&t.push(`  ${Wt(e.nextContactAt)}`),e.note&&t.push(e.note),t.length>0?t.join("  "):"  "}if(e.type==="CALENDAR_SYNC"){const t=`${e.title}  ${Wt(e.scheduledAt)}`;return e.status==="FAILED"?`${t}  ${e.error??" "}`:t}return e.type==="AGENT_SMS_SENT"?`${e.summary}   ${bA[e.channelResult]}${e.detail?`  ${e.detail}`:""}`:e.type==="AGENT_JOB_QUEUED"||e.type==="AGENT_JOB_STARTED"||e.type==="AGENT_JOB_SUCCEEDED"||e.type==="AGENT_JOB_FAILED"||e.type==="AGENT_JOB_CANCELED"||e.type==="CONTACT_STRATEGY_CHANGED"||e.type==="OPERATOR_OVERRIDE_TO_HUMAN"?[e.summary,e.detail].filter(Boolean).join("  "):e.type==="REEVAL_SCHEDULED"?`${Wt(e.scheduledAt)}  ${e.reason??"  "}`:e.type==="REEVAL_RESCHEDULED"?`${Wt(e.from)}  ${Wt(e.to)}${e.reason?`  ${e.reason}`:""}`:e.type==="REEVAL_COMPLETED"||e.type==="REEVAL_NOSHOW"?e.note??"   ":e.type==="PLAN_CREATED"||e.type==="PLAN_UPDATED"||e.type==="PROGRAM_STARTED"||e.type==="PROGRAM_COMPLETED"||e.type==="PROGRAM_STOPPED"?e.summary:e.type==="LINKAGE_CREATED"||e.type==="LINKAGE_APPROVED"||e.type==="LINKAGE_COMPLETED"?`${e.linkageType}  ${e.summary??"  "}`:e.type==="STAGE3_ACTION_DECISION"?`${e.actionId}  ${e.decision}${e.note?`  ${e.note}`:""}`:e.type==="RISK_SERIES_UPDATED"||e.type==="RISK_REVIEWED"||e.type==="DIFF_RECO_CREATED"||e.type==="DIFF_REFER_CREATED"||e.type==="DIFF_SCHEDULED"||e.type==="DIFF_COMPLETED"||e.type==="DIFF_RESULT_APPLIED"||e.type==="PROGRAM_SELECTED"||e.type==="PROGRAM_EXEC_UPDATED"||e.type==="PROGRAM_EXEC_COMPLETED"?e.summary:e.type==="NEXT_TRACKING_SET"?`${Wt(e.nextAt)}${e.summary?`  ${e.summary}`:""}`:e.reason}function Y2e(e){return e==="OK"?"":e==="DUE_SOON"?"":""}function X2e(e){return e==="PASS"?"border-emerald-200 bg-emerald-50 text-emerald-700":e==="FAIL"?"border-red-200 bg-red-50 text-red-700":"border-gray-200 bg-gray-50 text-gray-600"}function _$(e){return e==="OK"?"border-emerald-200 bg-emerald-50 text-emerald-700":e==="RESTRICTED"?"border-red-200 bg-red-50 text-red-700":"border-gray-200 bg-gray-50 text-gray-600"}function A$(e){return e==="OK"?"":e==="RESTRICTED"?"":" "}function Uc(e){return e==="OK"?" ":e==="RESTRICTED"?"/ ":"  "}function C$(e){return e?/|||/.test(e):!1}function Q2e(e){const t=["CONSENT_OK","CONTACTABLE_TIME_OK","PHONE_VERIFIED"],r=e.filter(n=>t.includes(n.key));return r.some(n=>n.status==="FAIL")?"BLOCKED":r.some(n=>n.status!=="PASS")?"NEEDS_CHECK":"PASS"}function Z2e(e,t,r,n){return`${e}:${t}:${r}:${n}`}function J2e(e){return e==="AUTO_ON_ENTER"?"   ":e==="AUTO_ON_STRATEGY"?"    ":e==="AUTO_ON_RETRY_DUE"?"   ":e==="MANUAL_RETRY_NOW"?"  ":"  "}function eNe({caseRecord:e,gates:t,attemptNo:r}){const n=t.find(i=>i.key==="PHONE_VERIFIED"),s=e?.profile.phone;return n?.status!=="PASS"||!s?{success:!1,channelResult:"FAILED",errorCode:"PHONE_INVALID",errorMessage:"      ."}:(e?.alertTags??[]).includes(" ")&&r===1?{success:!1,channelResult:"FAILED",errorCode:"CHANNEL_TEMP_ERROR",errorMessage:"     ."}:{success:!0,channelResult:"SENT"}}const T$={queueSms({caseId:e,idempotencyKey:t}){return{ok:!0,jobId:`agent-job:${e}:${t}`,queuedAt:er()}},cancelJob(e){return e?{ok:!0}:{ok:!1}}};function k$(e,t){const r=e.find(n=>t.includes(n.key)&&n.status!=="PASS");return r?.failReason??(r?`${r.label}  `:void 0)}function tNe(e){return e==="SUCCESS"?" ":e==="NO_ANSWER"?"":e==="REJECTED"?"":" "}function rNe(e){return e==="CONTACT"?"":e==="BOOKING"?"":""}function nNe(e){const t=e.split("(")[0],r=[...DT,...IT,...MT].find(n=>n.id===t);return r?`${rNe(r.messageType)}  ${r.label}`:e}const Vl={HUMAN_FIRST:" ",AI_FIRST:" ",MANUAL_OVERRIDE:" "},O$={HUMAN_FIRST:"border-red-200 bg-red-50 text-red-700",AI_FIRST:"border-blue-200 bg-blue-50 text-blue-700",MANUAL_OVERRIDE:"border-amber-200 bg-amber-50 text-amber-700"},aNe="   ()  ,  /  .",sNe={AGE_OVER_THRESHOLD:"      .",HAS_MCI_HISTORY:"      .",HAS_DEMENTIA_HISTORY:"       .",HAS_COMPLAINT_HISTORY:"       .",HAS_REFUSAL_HISTORY:"       .",GUARDIAN_PRIMARY:"       .",NEEDS_GUARDIAN_SUPPORT:"        .",COMPREHENSION_DIFFICULTY:"       .",STANDARD_CONTACT_PATH:"      .",CALL_RESPONSE_POOR:"       .",SMS_RESPONSE_POOR:"       ."};function R$(e){return e.startsWith(" :")?`   : ${e.replace(" :","").trim()}`:sNe[e]??e}const uc={CONTINUE_SELF:{label:" ",tone:"border-emerald-200 bg-emerald-50 text-emerald-700"},SCHEDULE_LATER:{label:"",tone:"border-blue-200 bg-blue-50 text-blue-700"},REQUEST_GUARDIAN:{label:" ",tone:"border-violet-200 bg-violet-50 text-violet-700"},REQUEST_HUMAN:{label:" ",tone:"border-orange-200 bg-orange-50 text-orange-700"},REFUSE:{label:"/",tone:"border-red-200 bg-red-50 text-red-700"},NO_RESPONSE:{label:" ",tone:"border-gray-200 bg-gray-50 text-gray-600"},CONFUSED:{label:" ",tone:"border-amber-200 bg-amber-50 text-amber-700"},EMOTIONAL:{label:" ",tone:"border-yellow-200 bg-yellow-50 text-yellow-700"}},iNe={CONTINUE_SELF:"PROCEED",SCHEDULE_LATER:"LATER",REQUEST_GUARDIAN:"PROTECTOR_LINK",REQUEST_HUMAN:"COUNSELOR_LINK",REFUSE:"REJECT",NO_RESPONSE:"NO_RESPONSE",CONFUSED:"HARD_TO_UNDERSTAND",EMOTIONAL:"EMOTIONAL"},zs={HUMAN:"  ",AGENT_SEND_ONLY:"Agent ( )"},yA={HUMAN:"border-blue-200 bg-blue-50 text-blue-700",AGENT_SEND_ONLY:"border-violet-200 bg-violet-50 text-violet-700"},$T={SENT_SUCCESS:" ",SENT_FAILED:" ",NO_RESPONSE:" ",WAITING:" "},iz={IDLE:"",QUEUED:"",RUNNING:"",SUCCEEDED:"",FAILED:"",CANCELED:""},bA={SENT:"",DELIVERED:" ",FAILED:"",UNKNOWN:" "},sg={RECOMMEND_DIFF:"  ",HOLD:"  ",UPDATE_PLAN:"  "},P$=[{status:"NONE",label:"NONE",artifact:"  "},{status:"RECOMMENDED",label:"RECOMMENDED",artifact:" / "},{status:"REFERRED",label:"REFERRED",artifact:"//"},{status:"SCHEDULED",label:"SCHEDULED",artifact:" //"},{status:"COMPLETED",label:"COMPLETED",artifact:" /  "}],oNe=[{id:"CREATE_RECO",title:" ",description:"  / .",completionHint:" :   ",eventHint:": DIFF_RECO_CREATED",tone:"border-blue-200 bg-blue-50 text-blue-800"},{id:"CREATE_REFER",title:" ",description:"/    .",completionHint:" :   ",eventHint:": DIFF_REFER_CREATED",tone:"border-slate-200 bg-slate-50 text-slate-800"},{id:"SCHEDULE",title:" /",description:"/    .",completionHint:" :  SCHEDULED",eventHint:": DIFF_SCHEDULED, REEVAL_SCHEDULED",tone:"border-indigo-200 bg-indigo-50 text-indigo-800"},{id:"APPLY_RESULT",title:" /",description:"     .",completionHint:" :   ",eventHint:": DIFF_RESULT_APPLIED",tone:"border-amber-200 bg-amber-50 text-amber-800"},{id:"COMPLETE",title:" ",description:"   .",completionHint:" :  COMPLETED",eventHint:": DIFF_COMPLETED",tone:"border-emerald-200 bg-emerald-50 text-emerald-800"},{id:"RESCHEDULE_REEVAL",title:"  ",description:" /  .",completionHint:" :   ",eventHint:": REEVAL_RESCHEDULED",tone:"border-violet-200 bg-violet-50 text-violet-800"}],Ad={CENTER_VISIT_BOOKING:{label:"  ",description:"    / ",linkageStatus:"BOOKING_IN_PROGRESS",reservationType:" ",defaultPlace:" "},HOSPITAL_REFERRAL_BOOKING:{label:" /",description:"     ",linkageStatus:"REFERRAL_CREATED",reservationType:" /",defaultPlace:" "},COUNSELING_CENTER_BOOKING:{label:" ",description:"   ",linkageStatus:"BOOKING_DONE",reservationType:" ",defaultPlace:" "},HOLD_TRACKING:{label:"/",description:"   ",linkageStatus:"NOT_CREATED",reservationType:" ",defaultPlace:"/ "}},lNe=[{code:"R1_SELF_REJECT",label:" "},{code:"R2_GUARDIAN_REJECT",label:" "},{code:"R3_OTHER_INSTITUTION",label:"  "},{code:"R4_ALREADY_DIAGNOSED",label:" / "},{code:"R5_CONTACT_INVALID",label:" "},{code:"R6_EMOTIONAL_BACKLASH",label:"  "},{code:"R7_OTHER",label:""}],cNe=[{value:"TEMP",label:" "},{value:"FINAL",label:" "}],uNe=[{value:"CALL_RETRY",label:" ",hint:"  "},{value:"SMS_RETRY",label:" ",hint:"  "},{value:"TIME_CHANGE",label:" ",hint:"  "},{value:"PROTECTOR_CONTACT",label:"  ",hint:"   "},{value:"AGENT_SMS",label:"  ",hint:" / "}],oz=[{step:"PRE_TRIAGE",label:"A.  ",description:"   "},{step:"STRATEGY",label:"B.  ",description:" /  "},{step:"COMPOSE",label:"C.  ",description:"/  "},{step:"SEND",label:"D.  ",description:"   "},{step:"RESPONSE",label:"E.  ",description:"/// "},{step:"OUTCOME",label:"F.  ",description:"// "}],lz=[{step:"PRE_TRIAGE",label:"A.  ",description:"2     "},{step:"STRATEGY",label:"B.  ",description:"     "},{step:"COMPOSE",label:"C.  ",description:"/MCI/AD     "},{step:"SEND",label:"D.  ",description:" // "},{step:"RESPONSE",label:"E.  ",description:"/    "},{step:"OUTCOME",label:"F. /",description:"    "}],cz=[{step:"PRE_TRIAGE",label:"A.   ",description:" /  "},{step:"STRATEGY",label:"A-2.  ",description:"/// "},{step:"COMPOSE",label:"B.  ",description:"/  "},{step:"SEND",label:"B-2. /",description:"/   "},{step:"RESPONSE",label:"C.  ",description:"    "},{step:"OUTCOME",label:"D.  ()",description:"  /  "}],dNe=[{id:"PRECHECK",title:"  ",description:"/   ",relatedSteps:["PRE_TRIAGE","STRATEGY"],action:"OPEN_PRECHECK"},{id:"CONTACT_EXECUTION",title:" ",description:"   ",relatedSteps:["COMPOSE","SEND"],action:"OPEN_CONTACT_EXECUTION"},{id:"RESPONSE_HANDLING",title:" ",description:" //  ",relatedSteps:["RESPONSE"],action:"OPEN_RESPONSE_HANDLING"},{id:"FOLLOW_UP",title:" ",description:"   ",relatedSteps:["OUTCOME"],action:"OPEN_FOLLOW_UP"}],fNe=[{id:"PRECHECK",title:"2   ",description:" / ",relatedSteps:["PRE_TRIAGE","STRATEGY"],action:"OPEN_PRECHECK"},{id:"CONTACT_EXECUTION",title:"/ ",description:"/MCI/AD   ",relatedSteps:["COMPOSE","SEND"],action:"OPEN_CONTACT_EXECUTION"},{id:"RESPONSE_HANDLING",title:"/ ",description:"//  ",relatedSteps:["RESPONSE"],action:"OPEN_RESPONSE_HANDLING"},{id:"FOLLOW_UP",title:"/",description:"     ",relatedSteps:["OUTCOME"],action:"OPEN_FOLLOW_UP"}],pNe=[{id:"PRECHECK",title:"  ()",description:" /  ",relatedSteps:["PRE_TRIAGE","STRATEGY"],action:"OPEN_PRECHECK"},{id:"CONTACT_EXECUTION",title:" ",description:"// ",relatedSteps:["COMPOSE","SEND"],action:"OPEN_CONTACT_EXECUTION"},{id:"RESPONSE_HANDLING",title:" ",description:" /  ",relatedSteps:["RESPONSE"],action:"OPEN_RESPONSE_HANDLING"},{id:"FOLLOW_UP",title:" ()",description:"  /  ",relatedSteps:["OUTCOME"],action:"OPEN_FOLLOW_UP"}],mNe={OPEN_PRECHECK:"PRECHECK",OPEN_CONTACT_EXECUTION:"CONTACT_EXECUTION",OPEN_RESPONSE_HANDLING:"RESPONSE_HANDLING",OPEN_FOLLOW_UP:"FOLLOW_UP"};function Og(e,t){const r=e.findIndex(i=>i.id===t);if(r<=0)return null;const n=e.slice(0,r).find(i=>i.status!=="COMPLETED");if(!n)return null;const s=e[r]?.title??"";return`${n.title}    ${s}    .`}const hNe={COMPLETED:{label:"",icon:oo,cardTone:"border-emerald-200 bg-emerald-50/70 text-emerald-900 shadow-sm hover:shadow-emerald-200/70",chipTone:"border border-emerald-200 bg-emerald-100 text-emerald-700",reasonTone:"border-emerald-200 bg-white/70 text-emerald-800"},PENDING:{label:"",icon:Sy,cardTone:"border-sky-200 bg-sky-50/70 text-slate-900 shadow-sm hover:shadow-sky-200/60",chipTone:"border border-sky-200 bg-sky-100 text-sky-700",reasonTone:"border-sky-200 bg-white/70 text-slate-700"},BLOCKED:{label:"",icon:ua,cardTone:"border-rose-200 bg-rose-50/80 text-rose-900 shadow-inner hover:shadow-rose-200/50",chipTone:"border border-rose-200 bg-rose-100 text-rose-700",reasonTone:"border-rose-200 bg-white/70 text-rose-800"}},gNe={NOT_STARTED:"",SENT:" ",WAITING_RESPONSE:" ",RETRY_NEEDED:" ",HANDOFF_TO_HUMAN:" ",PAUSED:"",STOPPED:"",DONE:""},tc={NOT_CREATED:"",BOOKING_IN_PROGRESS:"",BOOKING_DONE:"",REFERRAL_CREATED:""},vA={CENTER_LINKAGE:{title:" ",description:"  / ",nextStatus:"BOOKING_IN_PROGRESS",note:"    ."},HOSPITAL_LINKAGE:{title:" ",description:"     ",nextStatus:"REFERRAL_CREATED",note:"    ."},COUNSELING_LINKAGE:{title:" ",description:"     ",nextStatus:"BOOKING_DONE",note:"      ."}};function xNe(e,t){return y.useMemo(()=>{const r=t==="stage2",n=t==="stage3",s=n?pNe:r?fNe:dNe,i=n?cz:r?lz:oz,o=e.policyGates.filter(j=>j.status==="FAIL").length,l=!!e.preTriageInput&&e.header.dataQuality.level!=="EXCLUDE",u=!!e.preTriageResult?.strategy,d=e.contactExecution.status!=="NOT_STARTED",f=!!(e.contactExecution.lastOutcomeCode||e.contactExecution.lastResponseAt),m=e.linkageStatus!=="NOT_CREATED"||e.contactExecution.status==="DONE"||e.contactExecution.status==="STOPPED",h=new Map(e.contactFlowSteps.map(j=>[j.step,j.status])),x=new Map(i.map(j=>[j.step,j.label])),v=j=>j.map(A=>`${x.get(A)??A}:${h.get(A)??"WAITING"}`).join(" / ");if(n){const j=e.stage3,A=l&&u,_=j?.recommendedActions.filter(D=>D.requiresApproval&&D.decision==="PENDING").length??0,E=!!j?.riskReviewedAt,C=j?.diffPathStatus??"NONE",R=C==="SCHEDULED"||C==="COMPLETED",I=j?.programs.some(D=>{const G=D.execution?.status;return G==="PLANNED"||G==="IN_PROGRESS"||G==="DONE"})??!1,O=!!j?.planUpdatedAt||e.linkageStatus!=="NOT_CREATED",B=!!j?.headerMeta.nextTrackingContactAt,q=s.map(D=>{const G=v(D.relatedSteps);return D.id==="PRECHECK"?A?E?{...D,status:"COMPLETED",reason:"       .",nextActionHint:"/     .",metricLabel:`    ${G}`,isCurrent:!1}:{...D,status:"PENDING",reason:"2       .",nextActionHint:"   '   '  .",metricLabel:`    ${G}`,isCurrent:!1}:{...D,status:"PENDING",reason:" (//)    .",nextActionHint:"        .",metricLabel:`   ${G}`,isCurrent:!1}:D.id==="CONTACT_EXECUTION"?!A||!E?{...D,status:"BLOCKED",reason:"STEP1(   )       .",nextActionHint:"STEP1      .",metricLabel:`   ${G}`,isCurrent:!1}:_>0?{...D,status:"PENDING",reason:`   ${_}  .`,nextActionHint:"    / .",metricLabel:`   ${_}  ${G}`,isCurrent:!1}:R?{...D,status:"COMPLETED",reason:"/   .",nextActionHint:"     .",metricLabel:` ${C}  ${G}`,isCurrent:!1}:{...D,status:"PENDING",reason:"/      .",nextActionHint:"   /  .",metricLabel:` ${C}  ${G}`,isCurrent:!1}:D.id==="RESPONSE_HANDLING"?!R||_>0?{...D,status:"BLOCKED",reason:" /         .",nextActionHint:"STEP2         .",metricLabel:`   ${G}`,isCurrent:!1}:I?{...D,status:"COMPLETED",reason:"    .",nextActionHint:" ()    .",metricLabel:`     ${G}`,isCurrent:!1}:{...D,status:"PENDING",reason:"   (////)   .",nextActionHint:"       .",metricLabel:`    ${G}`,isCurrent:!1}:I?O&&B?{...D,status:"COMPLETED",reason:"/        .",nextActionHint:"/    .",metricLabel:` +     ${G}`,isCurrent:!1}:{...D,status:"PENDING",reason:" / /      .",nextActionHint:"      .",metricLabel:`    ${G}`,isCurrent:!1}:{...D,status:"BLOCKED",reason:"    1   ()    .",nextActionHint:"STEP3     .",metricLabel:`    ${G}`,isCurrent:!1}}),F=q.findIndex(D=>D.status!=="COMPLETED"),Y=F===-1?q.length-1:F;return q.map((D,G)=>({...D,isCurrent:G===Y}))}const N=s.map(j=>{const A=v(j.relatedSteps);if(j.id==="PRECHECK")return o>0||!l?{...j,status:"BLOCKED",reason:o>0?r?`  ${o}   .`:`  ${o}   .`:r?"      .":"       .",nextActionHint:r?"/      .":" /     .",metricLabel:o>0?`${r?" ":""} FAIL ${o}  ${A}`:`${r?"  ":"  "}  ${A}`,isCurrent:!1}:u?{...j,status:"COMPLETED",reason:r?"2     .":"    .",nextActionHint:r?"/      .":"    / .",metricLabel:`${r?" ":""} ${e.preTriageResult?.strategy??""}  ${A}`,isCurrent:!1}:{...j,status:"PENDING",reason:r?"     .":"      .",nextActionHint:r?" /     .":"       .",metricLabel:`${r?" ":" "}   ${A}`,isCurrent:!1};if(j.id==="CONTACT_EXECUTION"){const E=(e.header.effectiveStrategy??e.preTriageResult?.strategy)==="AI_FIRST"&&e.contactExecutor==="AGENT_SEND_ONLY"?r?"Agent      ":"Agent      ":j.description;return!l||!u?{...j,description:E,status:"BLOCKED",reason:r?"    /  .":"      .",nextActionHint:r?"      .":"       .",metricLabel:`${r?" ":""}   ${A}`,isCurrent:!1}:d?{...j,description:E,status:"COMPLETED",reason:e.contactExecutor==="AGENT_SEND_ONLY"?r?"Agent    /   .":"Agent   .":r?"/   .":"   .",nextActionHint:r?"/      .":"      .",metricLabel:`${gNe[e.contactExecution.status]}  ${zs[e.contactExecutor]}  ${A}`,isCurrent:!1}:{...j,description:E,status:"PENDING",reason:e.contactExecutor==="AGENT_SEND_ONLY"?r?"Agent     .":"Agent      .":r?" /   .":" /   .",nextActionHint:e.contactExecutor==="AGENT_SEND_ONLY"?r?"/   Agent     .":"   Agent     .":r?"/      .":"/    1  .",metricLabel:`${r?" ":""}  ${zs[e.contactExecutor]}  ${A}`,isCurrent:!1}}return j.id==="RESPONSE_HANDLING"?d?f?{...j,status:"COMPLETED",reason:r?"/   .":"     .",nextActionHint:r?"/      .":"   // .",metricLabel:e.contactExecution.lastOutcomeCode?`${uc[e.contactExecution.lastOutcomeCode].label}  ${A}`:`${r?"  ":"  "}  ${A}`,isCurrent:!1}:{...j,status:"PENDING",reason:r?"     .":"     .",nextActionHint:r?"       .":"       .",metricLabel:`${r?"   ":"  "}  ${A}`,isCurrent:!1}:{...j,status:"BLOCKED",reason:r?"/   /   .":"       .",nextActionHint:r?"/     .":"    / .",metricLabel:`${r?"  ":" "}  ${A}`,isCurrent:!1}:f?m?{...j,status:"COMPLETED",reason:r?"     .":"    .",nextActionHint:r?"       .":"      .",metricLabel:`${tc[e.linkageStatus]}  ${A}`,isCurrent:!1}:{...j,status:"PENDING",reason:r?"      .":"      .",nextActionHint:r?"       .":"   // .",metricLabel:`${tc[e.linkageStatus]}  ${A}`,isCurrent:!1}:{...j,status:"BLOCKED",reason:r?"/    /   .":"       .",nextActionHint:r?"/     .":"   Outcome  .",metricLabel:`${tc[e.linkageStatus]}  ${A}`,isCurrent:!1}}),b=N.findIndex(j=>j.status!=="COMPLETED"),S=b===-1?N.length-1:b;return N.map((j,A)=>({...j,isCurrent:A===S}))},[e,t])}function yNe(e){const t=e?.profile.age??70,r=!!e?.profile.guardianPhone,n=e?.quality===""||!!e?.alertTags.includes(" "),s=e?.status===""||!!e?.alertTags.includes(" "),i=!r&&t>=75,o=t>=80||e?.risk==="",l=!!(e?.alertTags.includes("High MCI")||e?.alertTags.includes(" ")),u=e?.risk===""&&t>=80;return{age:t,dxHistory:{hasMCI:l,hasDementia:u},contactHistory:{hasComplaint:n,hasRefusal:s,needsGuardian:i,comprehensionDifficultyFlag:o},guardian:{exists:r,isPrimaryContact:r&&(i||o)},responseHistory:{smsResponseGood:e?.risk!=="",callResponseGood:e?.status!=="",lastOutcome:e?.status===""?"NO_RESPONSE":void 0}}}function bNe(e){return j2e(e)}function uz(e,t,r="stage1"){const n=r==="stage2",s=r==="stage3",i=n?t?.profile.guardianPhone?"S2_CONTACT_RELIEF":"S2_CONTACT_BASE":s?"S3_CONTACT_BASE":t?.profile.guardianPhone?"S1_CONTACT_GUARDIAN":"S1_CONTACT_BASE",o=n?"S2_CONTACT_BASE":s?"S3_CONTACT_BASE":"S1_CONTACT_BASE";return e==="HUMAN_FIRST"?{channel:"HYBRID",templateId:i,maxRetryPolicy:{maxRetries:3,intervalHours:24}}:{channel:"SMS",templateId:o,maxRetryPolicy:{maxRetries:2,intervalHours:24}}}function vNe(){return{status:"NOT_STARTED",retryCount:0}}function Is(e,t,r="NOT_CREATED",n="stage1"){const s=!!t,i=!!t?.strategy,o=e.status!=="NOT_STARTED",l=!!(e.lastOutcomeCode||e.lastResponseAt),u=e.status==="HANDOFF_TO_HUMAN"||e.status==="STOPPED"||e.status==="RETRY_NEEDED";return(n==="stage2"?lz:n==="stage3"?cz:oz).map(({step:f,label:m,description:h})=>{let x="WAITING";return f==="PRE_TRIAGE"?x=s?"DONE":"MISSING":f==="STRATEGY"?x=i?"DONE":"MISSING":f==="COMPOSE"?x=i?o||n==="stage3"?"DONE":"WAITING":"MISSING":f==="SEND"?x=o||n==="stage3"?l?"DONE":"WAITING":"MISSING":f==="RESPONSE"?x=l?u?"WARNING":"DONE":o||n==="stage3"?"WAITING":"MISSING":f==="OUTCOME"&&(l?r==="NOT_CREATED"?x="WAITING":x="DONE":x="MISSING"),{step:f,label:m,status:x,description:h}})}const NNe=DT.map(e=>({id:e.id,type:e.messageType,label:e.label,body:t=>e.body({caseId:"",centerName:t.centerName,centerPhone:t.centerPhone,guideLink:t.guideLink,reservationLink:t.bookingLink,unsubscribe:Nb})})),SNe=IT.map(e=>({id:e.id,type:e.messageType,label:e.label,body:t=>e.body({caseId:"",centerName:t.centerName,centerPhone:t.centerPhone,guideLink:t.guideLink,reservationLink:t.bookingLink,unsubscribe:Nb})})),wNe=MT.map(e=>({id:e.id,type:e.messageType,label:e.label,body:t=>e.body({caseId:"",centerName:t.centerName,centerPhone:t.centerPhone,guideLink:t.guideLink,reservationLink:t.bookingLink,unsubscribe:Nb})}));function FT({caseRecord:e,onHeaderSummaryChange:t,onPrimaryActionChange:r,mode:n="stage1"}){const s=n==="stage2",i=n==="stage3",o=s?"2":i?"3":"1",l=s?IT:i?MT:DT,u=s?SNe:i?wNe:NNe,d=l[0]?.id??"",[f,m]=y.useState(()=>_j(e,n)),[h,x]=y.useState(()=>E$(e,_j(e,n),n)),[v,N]=y.useState("ALL"),[b,S]=y.useState(null),[j,A]=y.useState("citizen"),[_,E]=y.useState(!1),[C,R]=y.useState(0),[I,O]=y.useState(""),[B,q]=y.useState("SUCCESS"),[F,Y]=y.useState({citizen:!0,guardian:!1}),[D,G]=y.useState(d),[U,V]=y.useState("NOW"),[M,Q]=y.useState(""),[J,P]=y.useState(!0),[K,Z]=y.useState(null),[se,ie]=y.useState(null),[Se,oe]=y.useState(!1),[je,pe]=y.useState(Date.now()),[Ee,me]=y.useState(at(24)),[fe,Xe]=y.useState(!1),[H,ve]=y.useState(""),[Re,Te]=y.useState("HUMAN_FIRST"),[Qe,$e]=y.useState(null),[jt,Ze]=y.useState(""),[De,He]=y.useState(!0),[ge,Jt]=y.useState(!1),[Vt,Lr]=y.useState(null),[we,Me]=y.useState(""),[Mt,ar]=y.useState("ALL"),[Ur,Yr]=y.useState(!1),[ht,Sn]=y.useState(null),[Zt,Lt]=y.useState({owner:e?.manager??tu,status:"PLANNED",method:""}),[Pe,$t]=y.useState({diffNeeded:!0,priority:"HIGH",caregiverNeeded:!1,sensitiveHistory:!1,resultLinkedChecked:!1,strategyMemo:""}),[Nr,Ut]=y.useState({orgName:" ",orgPhone:"02-555-0199",note:"",resultSummary:"",resultLabel:"",riskReady:!1,abeta:"",tau:""}),[Xt,Tr]=y.useState({memo:"",nextAction:"RECOMMEND_DIFF"}),[et,rr]=y.useState({nextTrackingAt:at(504),reminderDaysBefore:2,reminderTime:"09:00",retryCount:2}),[mr,lr]=y.useState(null),[Sr,hr]=y.useState({code:null,level:"TEMP",detail:"",createFollowupEvent:!1,followupAt:at(168)}),[cr,sn]=y.useState(!1),[wr,Oe]=y.useState({strategy:null,nextContactAt:at(24),applyL3:!1}),[ye,Ve]=y.useState([]),[vt,Ot]=y.useState(!1),[ee,ue]=y.useState(null),[Ge,st]=y.useState(""),[lt,St]=y.useState({route:"CENTER_VISIT_BOOKING",scheduledAt:at(72),place:Ad.CENTER_VISIT_BOOKING.defaultPlace,contactGuide:Gc,note:""}),[gr,xr]=y.useState(!1),[tt,Ir]=y.useState(""),[zt,Js]=y.useState({status:"IDLE",attemptNo:0}),as=y.useRef(0),Tt=y.useRef(new Set),Fa=y.useRef(new Set),Ct=y.useRef(!1),{isSaving:_t,submitError:ss,calendarFailures:wo,retryingKeys:Nc,submit:hl,retryCalendarFailure:wn,clearSubmitError:Ba}=Q1e();y.useEffect(()=>{const W=_j(e,n);m(W),x(E$(e,W,n)),N("ALL"),S(null),A("citizen"),E(!1),R(0),O(""),q("SUCCESS"),Y({citizen:!0,guardian:!1}),G(d),V("NOW"),Q(""),P(!0),Z(null),ie(null),oe(!1),me(at(24)),He(!0),Jt(!1),Lr(null),Me(""),ar("ALL"),Yr(!1),Sn(null),Lt({owner:e?.manager??tu,status:"PLANNED",method:""}),$t({diffNeeded:!0,priority:e?.risk===""?"HIGH":e?.risk===""?"MID":"LOW",caregiverNeeded:!!e?.profile.guardianPhone,sensitiveHistory:!!e?.alertTags.includes(" "),strategyMemo:""}),Ut({orgName:" ",orgPhone:Gc,note:"",resultSummary:""}),Tr({memo:"",nextAction:"RECOMMEND_DIFF"}),rr({nextTrackingAt:at((W.stage3?.headerMeta.trackingCycleDays??21)*24),reminderDaysBefore:2,reminderTime:"09:00",retryCount:2}),lr(null),hr({code:null,level:"TEMP",detail:"",createFollowupEvent:!1,followupAt:at(168)}),sn(!1),Oe({strategy:null,nextContactAt:at(24),applyL3:!1}),Ve([]),Ot(!1),ue(null),st(""),St({route:"CENTER_VISIT_BOOKING",scheduledAt:at(72),place:Ad.CENTER_VISIT_BOOKING.defaultPlace,contactGuide:Gc,note:""}),Js({status:"IDLE",attemptNo:0}),as.current=0,Tt.current=new Set,Fa.current=new Set,Ct.current=!1,Ba()},[e?.id,Ba,d,n]),y.useEffect(()=>{const W=window.setInterval(()=>pe(Date.now()),1e3);return()=>window.clearInterval(W)},[]),y.useEffect(()=>{if(!_)return;const W=window.setInterval(()=>{R(ae=>ae+1)},1e3);return()=>window.clearInterval(W)},[_]),y.useEffect(()=>{if(b!=="CONTACT_EXECUTION")return;Ot(!0);const W=window.setTimeout(()=>{const ae=W2e(f,n);Ve(ae);const xe=ae[0];ue(xe?.id??null),st(xe?.scriptBody??""),Ot(!1)},180);return()=>window.clearTimeout(W)},[b,f,n]);const Kn=y.useMemo(()=>Wve(),[]),ur=y.useMemo(()=>f.todos.find(W=>W.status==="OPEN"),[f.todos]),_u=y.useMemo(()=>v==="ALL"?f.timeline:f.timeline.filter(W=>V2e(W)===v),[f.timeline,v]),fa=y.useMemo(()=>l.find(W=>W.id===D)??l[0],[l,D]),Wn=y.useMemo(()=>fa.body({caseId:f.header.caseId,centerName:j$,centerPhone:Gc,guideLink:A2e,reservationLink:fy(f.reservationInfo),unsubscribe:Nb}),[f.header.caseId,f.reservationInfo,fa]),fn=y.useMemo(()=>ye.find(W=>W.id===ee)??null,[ye,ee]),Ss=y.useMemo(()=>k2e(n,fn??void 0),[n,fn]),gl=y.useMemo(()=>f.contactExecutor==="AGENT_SEND_ONLY"?u.filter(W=>W.type!=="BOOKING"):f.reservationInfo?u:u.filter(W=>W.type!=="BOOKING"),[f.contactExecutor,f.reservationInfo,u]),ws=!!e?.profile.guardianPhone;k$(f.policyGates,["CONSENT_OK","CONTACTABLE_TIME_OK","PHONE_VERIFIED"]),k$(f.policyGates,["CONSENT_OK","CONTACTABLE_TIME_OK","PHONE_VERIFIED"])??((F.guardian&&!ws||!F.citizen&&!F.guardian)&&!F.citizen&&F.guardian);const $i=[f.preTriageInput?.contactHistory.hasComplaint?" ":null,f.preTriageInput?.contactHistory.hasRefusal?" ":null].filter(Boolean);new Date(je).getHours();const gt=W=>{const ae={id:`audit-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,at:Wt(er()),actor:f.header.assigneeName||tu,message:W};x(xe=>[ae,...xe])},Et=W=>{m(ae=>({...ae,timeline:[W,...ae.timeline]}))},ei=W=>{const ae={...W,id:`agent-log-${Date.now()}-${Math.random().toString(36).slice(2,7)}`};m(xe=>({...xe,agentExecutionLogs:[ae,...xe.agentExecutionLogs]}))},ti=(W,ae,xe)=>{m(de=>({...de,policyGates:de.policyGates.map(Ce=>Ce.key===W?{...Ce,status:ae,failReason:void 0}:Ce)})),Et({type:"POLICY_GATE_UPDATE",at:er(),key:W,status:ae,by:f.header.assigneeName}),gt(`   (${xe})`)},Dn=(W,ae)=>{m(xe=>{const de=new Set(xe.todos.filter(We=>We.status==="DONE").map(We=>We.title)),Ce=xA(W,ae).map(We=>de.has(We.title)?{...We,status:"DONE"}:We);return{...xe,todos:Ce}})},yr=(W,ae)=>{m(de=>({...de,todos:de.todos.map(Ce=>Ce.id===W?{...Ce,status:ae}:Ce)}));const xe=f.todos.find(de=>de.id===W);xe&&(Et({type:"STATUS_CHANGE",at:er(),from:xe.status,to:ae,reason:`To-Do : ${xe.title}`,by:f.header.assigneeName}),gt(`To-Do : ${xe.title}`),Ye.success(" ( )"))},js=W=>{const ae=f.todos.find(xe=>xe.status==="OPEN"&&xe.suggestedAction===W);ae&&yr(ae.id,"DONE")},wc=W=>{const ae=W.fixAction?.action;if(ae){if(ae==="CONFIRM_CONTACT_TIME"){ti("CONTACTABLE_TIME_OK","PASS","   "),Ye.success(" ( )"),gt("   ");return}if(ae==="REQUEST_CONSENT"){ti("CONSENT_OK","PASS","  "),Ye.success(" ( )");return}if(ae==="VERIFY_PHONE"){ti("PHONE_VERIFIED","PASS"," "),Ye.success(" ( )");return}ae==="ADD_GUARDIAN"&&(ti("GUARDIAN_OPTIONAL","PASS","  "),Ye.success(" ( )"))}},jo=W=>{W!==f.interventionLevel&&Z({mode:"LEVEL",title:`   (${f.interventionLevel}  ${W})`,confirmLabel:" ",nextLevel:W,reason:""})},is=W=>{Z({mode:"STATUS",title:`${W}   `,confirmLabel:`${W} `,nextStatus:W,reason:""})},Eo=W=>{const ae=vA[W],xe=f.linkageStatus,de=ae.nextStatus;m(Ce=>{const We={...Ce.contactExecution,status:Ce.contactExecution.status==="STOPPED"?"STOPPED":Ce.contactExecution.status==="DONE"?"DONE":"HANDOFF_TO_HUMAN"};return{...Ce,linkageStatus:de,contactExecution:We,contactFlowSteps:Is(We,Ce.preTriageResult,de,n)}}),Et({type:"STATUS_CHANGE",at:er(),from:tc[xe],to:tc[de],reason:`${ae.title} `,by:f.header.assigneeName}),gt(` : ${ae.title}`),Ye.success(`${ae.title} .`)},_o=(W,ae)=>{if(!i)return;const xe=f.stage3?.recommendedActions.find(Ce=>Ce.id===W);if(!xe)return;const de=er();m(Ce=>{if(!Ce.stage3)return Ce;const We=Ce.stage3.recommendedActions.map(Ta=>Ta.id===W?{...Ta,decision:ae}:Ta),ct=We.filter(Ta=>Ta.requiresApproval&&Ta.decision==="PENDING").length;let Qt=Ce.stage3.reevalStatus,jr=Ce.stage3.headerMeta.planStatus,dr=Ce.stage3.planUpdatedAt,or=Ce.linkageStatus;ae==="APPROVED"&&(xe.type==="SCHEDULE_REEVAL"&&(Qt="SCHEDULED"),xe.type==="UPDATE_PLAN"&&(jr="ACTIVE",dr=de),xe.type==="ESCALATE_LEVEL"&&(or="BOOKING_IN_PROGRESS"));const br={...Ce.stage3,reevalStatus:Qt,planUpdatedAt:dr,triggersReviewedAt:ct===0?de:Ce.stage3.triggersReviewedAt,recommendedActions:We,headerMeta:{...Ce.stage3.headerMeta,planStatus:jr,opsStatus:jr==="NEEDS_UPDATE"?"PLAN_NEEDS_UPDATE":Qt==="PENDING"?"REEVAL_PENDING":or!=="NOT_CREATED"?"LINKAGE_PENDING":"TRACKING"}};return{...Ce,linkageStatus:or,stage3:br,contactFlowSteps:Is(Ce.contactExecution,Ce.preTriageResult,or,n)}}),Et({type:"STAGE3_ACTION_DECISION",at:de,by:f.header.assigneeName,actionId:W,decision:ae,note:xe.title}),ae==="APPROVED"&&(xe.type==="SCHEDULE_REEVAL"?Et({type:"REEVAL_SCHEDULED",at:de,scheduledAt:f.stage3?.headerMeta.nextReevalAt??at(72),by:f.header.assigneeName,reason:"  "}):xe.type==="UPDATE_PLAN"?Et({type:"PLAN_UPDATED",at:de,by:f.header.assigneeName,summary:"    "}):xe.type==="ESCALATE_LEVEL"?Et({type:"LINKAGE_CREATED",at:de,by:f.header.assigneeName,linkageType:"CENTER",summary:"   "}):xe.type==="SEND_REMINDER"&&Et({type:"SMS_SENT",at:de,templateId:"S3_REMINDER_TRACK",status:"PENDING",by:f.header.assigneeName})),gt(`Stage3  ${ae==="APPROVED"?"":""}: ${xe.title}`),Ye.success(` (  ): ${xe.title}`)},Ao=W=>{if(!i)return;const ae=er(),xe=f.stage3?.headerMeta.nextReevalAt??at(72),de=at(120);m(Ce=>Ce.stage3?{...Ce,stage3:{...Ce.stage3,reevalStatus:"SCHEDULED",headerMeta:{...Ce.stage3.headerMeta,nextReevalAt:de,opsStatus:"REEVAL_PENDING"}},contactFlowSteps:Is(Ce.contactExecution,Ce.preTriageResult,Ce.linkageStatus,n)}:Ce),Et({type:"REEVAL_RESCHEDULED",at:ae,from:xe,to:de,by:f.header.assigneeName,reason:" "}),gt(`  : ${Wt(xe)}  ${Wt(de)}`),Ye.success(" ( )")},os=W=>{if(!i)return;const ae=er(),xe=W?.summary??"    ";m(de=>{if(!de.stage3)return de;const Ce=[...de.stage3.transitionRisk.series],We=Ce[Ce.length-1],ct=We?{t:ae,risk2y:We.risk2y,ciLow:We.ciLow,ciHigh:We.ciHigh,source:"manual",event:"REEVAL"}:{t:ae,risk2y:de.stage3.transitionRisk.risk2y_now,source:"manual",event:"REEVAL"},Qt=[...Ce.slice(-11),ct];return{...de,stage3:{...de.stage3,riskReviewedAt:ae,transitionRisk:{...de.stage3.transitionRisk,updatedAt:ae,series:Qt}}}}),Et({type:"RISK_REVIEWED",at:ae,by:f.header.assigneeName,summary:xe}),Et({type:"RISK_SERIES_UPDATED",at:ae,by:f.header.assigneeName,summary:"     "}),gt(`Stage3    : ${xe}`),W?.nextAction&&lr({at:ae,memo:xe,nextAction:W.nextAction}),W?.silentToast||Ye.success("   .")},Ua=W=>{if(!i)return;const ae=er();if(m(xe=>{if(!xe.stage3)return xe;let de=xe.stage3.diffPathStatus,Ce=xe.stage3.reevalStatus,We=xe.stage3.headerMeta.planStatus,ct=xe.stage3.planUpdatedAt,Qt=xe.stage3.headerMeta.nextReevalAt,jr=xe.stage3.transitionRisk;if(W==="CREATE_RECO")de="RECOMMENDED";else if(W==="CREATE_REFER")de="REFERRED";else if(W==="SCHEDULE"){de="SCHEDULED",Ce="SCHEDULED",Qt=at(72);const or=xe.stage3.transitionRisk.series[xe.stage3.transitionRisk.series.length-1];jr={...xe.stage3.transitionRisk,updatedAt:ae,series:[...xe.stage3.transitionRisk.series.slice(-11),{t:ae,risk2y:or?.risk2y??xe.stage3.transitionRisk.risk2y_now,ciLow:or?.ciLow,ciHigh:or?.ciHigh,source:"manual",event:"REEVAL"}]}}else if(W==="COMPLETE"){de="COMPLETED",Ce="COMPLETED";const or=xe.stage3.transitionRisk.series[xe.stage3.transitionRisk.series.length-1],br=Fs((or?.risk2y??xe.stage3.transitionRisk.risk2y_now)-.03);jr={...xe.stage3.transitionRisk,risk2y_now:br,risk2y_label:br>=.7?"HIGH":br>=.45?"MID":"LOW",updatedAt:ae,series:[...xe.stage3.transitionRisk.series.slice(-11),{t:ae,risk2y:br,ciLow:Fs(br-.04),ciHigh:Fs(br+.04),source:"manual",event:"REEVAL"}]}}else if(W==="APPLY_RESULT"){de="COMPLETED",We="NEEDS_UPDATE",ct=ae;const or=xe.stage3.transitionRisk.series[xe.stage3.transitionRisk.series.length-1],br=Fs((or?.risk2y??xe.stage3.transitionRisk.risk2y_now)+.04);jr={...xe.stage3.transitionRisk,risk2y_now:br,risk2y_label:br>=.7?"HIGH":br>=.45?"MID":"LOW",updatedAt:ae,series:[...xe.stage3.transitionRisk.series.slice(-11),{t:ae,risk2y:br,ciLow:Fs(br-.05),ciHigh:Fs(br+.05),source:"manual",event:"DIFF_RESULT_APPLIED"}]}}const dr=We==="NEEDS_UPDATE"?"PLAN_NEEDS_UPDATE":de==="REFERRED"||de==="SCHEDULED"?"LINKAGE_PENDING":Ce==="PENDING"?"REEVAL_PENDING":"TRACKING";return{...xe,stage3:{...xe.stage3,diffPathStatus:de,reevalStatus:Ce,planUpdatedAt:ct,transitionRisk:jr,headerMeta:{...xe.stage3.headerMeta,planStatus:We,nextReevalAt:Qt,opsStatus:dr}},linkageStatus:W==="CREATE_REFER"||W==="SCHEDULE"?"REFERRAL_CREATED":xe.linkageStatus}}),W==="CREATE_RECO")Et({type:"DIFF_RECO_CREATED",at:ae,by:f.header.assigneeName,summary:"/  "}),gt("  ");else if(W==="CREATE_REFER")Et({type:"DIFF_REFER_CREATED",at:ae,by:f.header.assigneeName,summary:"  "}),Et({type:"LINKAGE_CREATED",at:ae,by:f.header.assigneeName,linkageType:"HOSPITAL",summary:"   "}),gt("  ");else if(W==="SCHEDULE"){const xe=at(72);Et({type:"DIFF_SCHEDULED",at:ae,by:f.header.assigneeName,summary:"  "}),Et({type:"REEVAL_SCHEDULED",at:ae,by:f.header.assigneeName,scheduledAt:xe,reason:"  "}),gt("  ")}else W==="COMPLETE"?(Et({type:"DIFF_COMPLETED",at:ae,by:f.header.assigneeName,summary:"  "}),Et({type:"REEVAL_COMPLETED",at:ae,by:f.header.assigneeName,note:" "}),gt("  ")):(Et({type:"DIFF_RESULT_APPLIED",at:ae,by:f.header.assigneeName,summary:"       "}),gt("  "));Ye.success(" (  )")},ls=(W,ae)=>{if(!i)return;const xe=er();m(de=>{if(!de.stage3)return de;const Ce=de.stage3.programs.map(We=>{if(We.id!==W)return We;const ct=ae??!We.selected;return{...We,selected:ct,execution:ct?We.execution??{owner:de.header.assigneeName,dueDate:at(72),status:"PLANNED",method:""}:void 0}});return{...de,stage3:{...de.stage3,programs:Ce}}}),Et({type:"PROGRAM_SELECTED",at:xe,by:f.header.assigneeName,summary:`  : ${W}`}),gt(`  : ${W}`)},Vn=(W,ae)=>{if(!i)return;const xe=er();m(de=>{if(!de.stage3)return de;const Ce=de.stage3.programs.map(We=>We.id!==W?We:{...We,selected:!0,execution:{owner:de.header.assigneeName,...We.execution,...ae}});return{...de,stage3:{...de.stage3,programs:Ce}}}),Et({type:ae.status==="DONE"?"PROGRAM_EXEC_COMPLETED":"PROGRAM_EXEC_UPDATED",at:xe,by:f.header.assigneeName,summary:`  : ${W}`}),gt(`  : ${W}`),Ye.success("   .")},rn=()=>{if(!i)return;const W=er();m(ae=>{if(!ae.stage3)return ae;const xe=ae.stage3.transitionRisk.series[ae.stage3.transitionRisk.series.length-1],de=xe?.risk2y??ae.stage3.transitionRisk.risk2y_now;return{...ae,stage3:{...ae.stage3,planUpdatedAt:W,transitionRisk:{...ae.stage3.transitionRisk,updatedAt:W,series:[...ae.stage3.transitionRisk.series.slice(-11),{t:W,risk2y:de,ciLow:xe?.ciLow,ciHigh:xe?.ciHigh,source:"manual",event:"PLAN_UPDATED"}]},headerMeta:{...ae.stage3.headerMeta,planStatus:"ACTIVE",opsStatus:"TRACKING"}}}}),Et({type:"PLAN_UPDATED",at:W,by:f.header.assigneeName,summary:"   "}),gt("  "),Ye.success("  .")},Fi=()=>{if(!i)return;const W=er(),ae=at((f.stage3?.headerMeta.trackingCycleDays??21)*24);m(xe=>xe.stage3?{...xe,stage3:{...xe.stage3,headerMeta:{...xe.stage3.headerMeta,nextTrackingContactAt:ae}}}:xe),Et({type:"NEXT_TRACKING_SET",at:W,by:f.header.assigneeName,nextAt:ae,summary:"   "}),gt(`   : ${Wt(ae)}`),Ye.success("   .")},ja=y.useCallback(()=>{if(!i)return;const W=f.stage3?.recommendedActions.find(xe=>xe.decision==="PENDING");if(W){_o(W.id,"APPROVED");return}if(!f.stage3?.riskReviewedAt){os();return}if(f.stage3.diffPathStatus==="NONE"){Ua("CREATE_RECO");return}if(!f.stage3.programs.some(xe=>xe.selected&&(xe.execution?.status==="PLANNED"||xe.execution?.status==="IN_PROGRESS"||xe.execution?.status==="DONE"))){const xe=f.stage3.programs[0];if(xe){ls(xe.id,!0),Vn(xe.id,{status:"PLANNED",method:"",dueDate:at(72)});return}}if(f.stage3.headerMeta.planStatus==="NEEDS_UPDATE"){rn();return}Fi()},[_o,rn,f.stage3,Ua,os,i,Fi,ls,Vn]),Co=W=>{if(W===f.contactExecutor)return;const ae=f.contactExecutor,xe=er(),de=_a==="AI_FIRST"&&W==="HUMAN";de&&Ui({actor:"operator",summary:"     .",detailMessage:"    ",moveToHuman:!0}),m(Ce=>({...Ce,contactExecutor:W})),Et({type:"STATUS_CHANGE",at:xe,from:zs[ae],to:zs[W],reason:"  ",by:f.header.assigneeName}),de&&(Et({type:"OPERATOR_OVERRIDE_TO_HUMAN",at:xe,actor:"operator",caseId:f.header.caseId,summary:"  ",detail:"      ",by:f.header.assigneeName}),gt("  :     ")),gt(`  : ${zs[ae]}  ${zs[W]}`),Ye.success("  .")},xl=W=>{ue(W.id),st(W.scriptBody)},ri=()=>{const W=Ad[lt.route];if(lt.route!=="HOLD_TRACKING"&&!lt.scheduledAt){Ye.error("/  .");return}const ae=lt.route==="HOLD_TRACKING"?void 0:{route:lt.route,reservationType:W.reservationType,scheduledAt:lt.scheduledAt,place:lt.place||W.defaultPlace,contactGuide:lt.contactGuide||Gc,note:lt.note||void 0},xe=f.linkageStatus,de=W.linkageStatus;m(Ce=>({...Ce,linkageStatus:de,reservationInfo:ae,contactFlowSteps:Is(Ce.contactExecution,Ce.preTriageResult,de,n)})),ae?.scheduledAt&&me(ae.scheduledAt),Et({type:"STATUS_CHANGE",at:er(),from:tc[xe],to:tc[de],reason:`${W.label} `,by:f.header.assigneeName}),gt(`  : ${W.label}`),Ye.success("  .")},qf=()=>{if(!K||!K.reason.trim())return;if(K.mode==="LEVEL"){const xe=K.nextLevel,de=f.interventionLevel,Ce=f.header.dataQuality.level;m(We=>({...We,interventionLevel:xe})),Dn(xe,Ce),Et({type:"LEVEL_CHANGE",at:er(),from:de,to:xe,reason:K.reason,by:f.header.assigneeName}),gt(`  : ${de}  ${xe} (${K.reason})`),Ye.success(" ( )"),Z(null);return}const W=f.header.statusLabel,ae=K.nextStatus;m(xe=>{const de=ae===" "?{level:"EXCLUDE",score:Math.min(xe.header.dataQuality.score,60),notes:["  ","    "]}:xe.header.dataQuality;return{...xe,header:{...xe.header,statusLabel:ae,dataQuality:de},todos:ae===" "?xA(xe.interventionLevel,"EXCLUDE"):xe.todos}}),Et({type:"STATUS_CHANGE",at:er(),from:W,to:ae,reason:K.reason,by:f.header.assigneeName}),gt(` : ${W}  ${ae} (${K.reason})`),Ye.success(" ( )"),Z(null)},To=async()=>{if(!se)return;if(oe(!0),se.mode==="CALL"){const ct=er(),Qt=se.result,jr=se.note.trim();Et({type:"CALL_ATTEMPT",at:ct,result:Qt,note:jr||void 0,by:f.header.assigneeName}),gt(`  : ${tNe(Qt)}${jr?` (${jr})`:""}`),m(dr=>({...dr,header:{...dr.header,waitDays:Qt==="SUCCESS"?0:dr.header.waitDays+1,statusLabel:Qt==="SUCCESS"?"":dr.header.statusLabel}})),Qt==="SUCCESS"?(js("CALL"),me(at(72))):me(at(Qt==="NO_ANSWER"?6:24)),O(""),R(0),oe(!1),ie(null),Ye.success(" ( )");return}const W=se.result,ae=Wn,xe=[{key:"citizen",label:"",phone:e?.profile.phone},{key:"guardian",label:"",phone:e?.profile.guardianPhone}].filter(ct=>F[ct.key]),de=se.scheduled&&M?new Date(M).toISOString():er();let Ce=0,We=0;for(const ct of xe){let Qt=W;!se.scheduled&&ct.phone&&W!=="FAILED"&&((await ZU({caseId:f.header.caseId,citizenPhone:ct.phone,templateId:D,renderedMessage:ae,dedupeKey:`${f.header.caseId}-${D}-${ct.label}-${Date.now()}`})).success||(Qt="FAILED")),(Qt==="DELIVERED"||Qt==="PENDING")&&(Ce+=1),Qt==="FAILED"&&(We+=1),Et({type:"SMS_SENT",at:de,templateId:`${D}(${ct.label})`,status:Qt,by:f.header.assigneeName})}gt(` ${se.scheduled?"":""}: ${fa.label} (${xe.length}, / ${Ce},  ${We})`),Ce>0&&(js("SMS"),me(at(48))),oe(!1),ie(null),Ye.success(" ( )")};`${String(Math.floor(C/60)).padStart(2,"0")}${String(C%60).padStart(2,"0")}`;const pa=()=>{if(!H.trim())return;const W=f.header.effectiveStrategy??f.preTriageResult?.strategy??"AI_FIRST",ae=Re,xe=PT(f.preTriageResult?.triggers??[]);if(ae==="AI_FIRST"&&xe&&H.trim().length<12){Ye.error("        12   .");return}m(de=>{const Ce={strategy:ae,triggers:[...de.preTriageResult?.triggers??[],` : ${H}`],policyNote:`    (${Vl[ae]}). : ${H}`,confidence:"RULE"};return{...de,header:{...de.header,contactStrategy:"MANUAL_OVERRIDE",effectiveStrategy:ae},contactExecutor:ae==="AI_FIRST"?"AGENT_SEND_ONLY":"HUMAN",preTriageResult:Ce,contactPlan:uz(ae,e,n),contactFlowSteps:Is(de.contactExecution,Ce,de.linkageStatus,n)}}),Et({type:"STRATEGY_CHANGE",at:er(),from:W,to:ae,reason:H,by:f.header.assigneeName}),Et({type:"CONTACT_STRATEGY_CHANGED",at:er(),actor:"operator",caseId:f.header.caseId,summary:`  : ${Vl[W]}  ${Vl[ae]}`,detail:H,by:f.header.assigneeName}),ae==="HUMAN_FIRST"&&Ui({actor:"operator",summary:"     .",detailMessage:H,moveToHuman:!0}),gt(`   : ${Vl[W]}  ${Vl[ae]} (${H})`),Ye.success("  ."),Xe(!1),ve("")},jc=()=>{Ba();const W=f.header.sla.level!=="OK"||f.contactExecution.retryCount>=2||gA(e)>=85;Oe({strategy:null,nextContactAt:at(24),applyL3:W}),sn(!0)},Ea=async({code:W,note:ae,reject:xe,noResponse:de})=>{const Ce=ae.trim(),We=de?.nextContactAt,ct={outcomeType:iNe[W],memo:Ce||void 0};W==="REFUSE"&&xe?.code&&(ct.reject={code:xe.code,level:xe.level,detail:xe.detail.trim()||void 0,followup:{createFollowupEvent:xe.createFollowupEvent,followupAt:xe.createFollowupEvent?xe.followupAt:void 0}}),W==="NO_RESPONSE"&&de?.strategy&&We&&(ct.noResponse={strategy:de.strategy,nextContactAt:We,escalateLevel:de.applyL3?"L3":void 0});const Qt=await hl({caseId:f.header.caseId,payload:ct});if(!Qt)return Ye.error("   .   ."),!1;const jr=er();let dr=null,or="",br=!1;m(kr=>{const qa=E2e({outcomeCode:W,execution:kr.contactExecution,linkageStatus:kr.linkageStatus,contactPlan:kr.contactPlan});or=qa.recommendedNextAction,br=qa.switchedToHybrid;let zi=qa.contactPlan;zi&&W==="SCHEDULE_LATER"&&(zi={...zi,scheduledAt:at(qa.recontactAfterHours)}),zi&&W==="NO_RESPONSE"&&We&&(zi={...zi,scheduledAt:We}),qa.requiresHandoffMemo&&(dr={triggers:kr.preTriageResult?.triggers??[],lastContactSummary:` : ${Wt(kr.contactExecution.lastSentAt??jr)}`,currentOutcome:W,recommendedNextAction:or,generatedAt:jr});const Wf={...kr.contactExecution,status:qa.executionStatus,lastOutcomeCode:W,lastResponseAt:jr,retryCount:qa.retryCount,handoffMemo:dr??kr.contactExecution.handoffMemo};return{...kr,linkageStatus:qa.linkageStatus,contactPlan:zi,contactExecution:Wf,contactFlowSteps:Is(Wf,kr.preTriageResult,qa.linkageStatus,n)}}),Et({type:"OUTCOME_RECORDED",at:jr,outcomeCode:W,note:Ce||void 0,rejectCode:ct.reject?.code,rejectLevel:ct.reject?.level,recontactStrategy:ct.noResponse?.strategy,nextContactAt:ct.noResponse?.nextContactAt??ct.reject?.followup?.followupAt,outcomeId:Qt.outcome.outcomeId,by:f.header.assigneeName}),gt(`  : ${uc[W].label}${Ce?` (${Ce.slice(0,60)})`:""}`);const Ta=Qt.outcome.nextAction?.events?.[0]?.startAt??ct.noResponse?.nextContactAt??ct.reject?.followup?.followupAt;if(me(Ta??at(W==="SCHEDULE_LATER"?72:W==="NO_RESPONSE"?24:W==="REFUSE"?168:48)),br&&gt("     : HYBRID"),ct.noResponse?.escalateLevel==="L3"&&f.interventionLevel!=="L3"){const kr=f.interventionLevel;m(qa=>({...qa,interventionLevel:"L3"})),Dn("L3",f.header.dataQuality.level),Et({type:"LEVEL_CHANGE",at:jr,from:kr,to:"L3",reason:"       ",by:f.header.assigneeName}),gt(`  : ${kr}  L3 (   )`)}return Qt.calendar.created.forEach(kr=>{Et({type:"CALENDAR_SYNC",at:er(),status:"SUCCESS",eventType:kr.event.type,title:kr.event.title,scheduledAt:kr.event.startAt,idempotencyKey:kr.idempotencyKey,by:f.header.assigneeName})}),Qt.calendar.failed.forEach(kr=>{Et({type:"CALENDAR_SYNC",at:er(),status:"FAILED",eventType:kr.eventType,title:kr.title,scheduledAt:kr.scheduledAt,idempotencyKey:kr.idempotencyKey,error:kr.errorMessage,by:f.header.assigneeName})}),Qt.calendar.failed.length>0?(gt(`  : ${Qt.calendar.failed.length} ( )`),Ye.error("      .  .")):Qt.calendar.created.length>0?(gt(`  : ${Qt.calendar.created.length}`),Ye.success("   .")):Ye.success("  ."),dr&&(Ir(`[ ]
 ( ): ${f.header.effectiveStrategy??f.preTriageResult?.strategy??"AI_FIRST"}
: ${dr.triggers.join(", ")}
${dr.lastContactSummary}
 : ${uc[W].label}
  : ${dr.recommendedNextAction}`),xr(!0)),S(null),$e(null),Ze(""),sn(!1),!0},ni=async()=>{if(!(!Qe||_t)){if(Qe==="REFUSE"){if(!Sr.code){Ye.error("     .");return}if(Sr.code==="R7_OTHER"&&!Sr.detail.trim()){Ye.error("     .");return}if(Sr.createFollowupEvent&&!Sr.followupAt){Ye.error("   .");return}await Ea({code:"REFUSE",note:jt,reject:Sr});return}if(Qe==="NO_RESPONSE"){jc();return}await Ea({code:Qe,note:jt})}},ko=async()=>{if(!_t&&!(!Qe||Qe!=="NO_RESPONSE")){if(!wr.strategy){Ye.error("      .");return}if(!wr.nextContactAt){Ye.error("      .");return}await Ea({code:"NO_RESPONSE",note:jt,noResponse:wr})}},za=y.useMemo(()=>gA(e),[e]),Bi=y.useMemo(()=>P2e(za),[za]),Gf=y.useMemo(()=>KU(e),[e]),_a=f.header.effectiveStrategy??f.preTriageResult?.strategy??"AI_FIRST",na=f.header.contactStrategy??_a,Oo=f.contactFlowSteps.filter(W=>W.status==="MISSING").length,yl=f.contactFlowSteps.filter(W=>W.status==="WARNING").length,Au=!!f.preTriageInput&&f.header.dataQuality.level!=="EXCLUDE",jn=xNe(f,n),bl=f.stage3?.transitionRisk,$=f.stage3?.programs??[],re=y.useMemo(()=>$.filter(W=>{if(Mt!=="ALL"&&W.major!==Mt||Ur&&!W.pinned)return!1;if(!we.trim())return!0;const ae=we.trim().toLowerCase();return`${W.major} ${W.middle} ${W.leaf}`.toLowerCase().includes(ae)}),[Mt,Ur,we,$]);y.useMemo(()=>re.slice(0,24),[re]),y.useMemo(()=>$.filter(W=>W.selected),[$]);const X=y.useMemo(()=>$.some(W=>W.selected&&(W.execution?.status==="PLANNED"||W.execution?.status==="IN_PROGRESS"||W.execution?.status==="DONE")),[$]),Ae=y.useMemo(()=>f.stage3?.recommendedActions.filter(W=>W.requiresApproval&&W.decision==="PENDING").length??0,[f.stage3?.recommendedActions]),Ie=f.stage3?.diffPathStatus==="SCHEDULED"||f.stage3?.diffPathStatus==="COMPLETED",Fe=y.useMemo(()=>$.find(W=>W.id===ht)??null,[ht,$]),rt=["PRECHECK","CONTACT_EXECUTION","RESPONSE_HANDLING","FOLLOW_UP"],Ft=Vt?rt.indexOf(Vt):-1,sr=Vt?jn.find(W=>W.id===Vt)??null:null,En=e?.risk===""?"":e?.risk===""?"MCI":"",Aa=e?.risk===""?"":e?.risk===""?"":"",Ha=jn.find(W=>W.id==="FOLLOW_UP")?.status==="BLOCKED",ai=i?Ha:!s,pn=y.useMemo(()=>Q2e(f.policyGates),[f.policyGates]),Ca=_a==="AI_FIRST"&&f.contactExecutor==="AGENT_SEND_ONLY",cs=f.contactPlan?.maxRetryPolicy.intervalHours??24,Rt=f.contactPlan?.maxRetryPolicy.maxRetries??2,aa=f.contactPlan?.templateId??(s?"S2_CONTACT_BASE":i?"S3_CONTACT_BASE":"S1_CONTACT_BASE"),In=y.useCallback(()=>{S(null)},[]),vl=y.useCallback(()=>{Lr(null)},[]),Ui=y.useCallback(({actor:W,summary:ae,detailMessage:xe,moveToHuman:de=!1})=>{if(zt.status!=="QUEUED"&&zt.status!=="RUNNING")return;const Ce=er(),We=as.current+1;as.current=We,zt.idempotencyKey&&Tt.current.delete(zt.idempotencyKey),T$.cancelJob(zt.jobId),Js(ct=>({...ct,status:"CANCELED",finishedAt:Ce,summary:ae,lastError:xe})),de&&m(ct=>{const Qt={...ct.contactExecution,status:"HANDOFF_TO_HUMAN"};return{...ct,contactExecution:Qt,contactFlowSteps:Is(Qt,ct.preTriageResult,ct.linkageStatus,n)}}),Et({type:"AGENT_JOB_CANCELED",at:Ce,actor:W,caseId:f.header.caseId,attemptNo:zt.attemptNo,idempotencyKey:zt.idempotencyKey??`${f.header.caseId}:0:SMS:${aa}`,summary:ae,detail:xe,by:W}),gt(`Agent   : ${ae}${xe?` (${xe})`:""}`)},[zt.attemptNo,zt.idempotencyKey,zt.status,aa,gt,f.header.caseId]),Yn=y.useCallback(({trigger:W,runAfterMs:ae=250,force:xe=!1})=>{if(_a!=="AI_FIRST"||f.contactExecutor!=="AGENT_SEND_ONLY"||pn!=="PASS"||!xe&&!["NOT_STARTED","RETRY_NEEDED"].includes(f.contactExecution.status)||!xe&&["QUEUED","RUNNING"].includes(zt.status))return!1;const de=f.contactExecution.retryCount+1;if(de>Rt)return gt(`Agent   :   ${Rt} .`),!1;if(!xe&&f.contactExecution.status==="RETRY_NEEDED"&&f.contactExecution.lastSentAt&&Date.now()-new Date(f.contactExecution.lastSentAt).getTime()<cs*60*60*1e3)return!1;const Ce=Z2e(f.header.caseId,de,"SMS",aa);if(Tt.current.has(Ce))return!1;const We=T$.queueSms({caseId:f.header.caseId,idempotencyKey:Ce}),ct=We.queuedAt,Qt=`${J2e(W)}    `;Js({status:"QUEUED",attemptNo:de,jobId:We.jobId,idempotencyKey:Ce,queuedAt:ct,startedAt:void 0,finishedAt:void 0,nextRetryAt:ae>5e3?new Date(Date.now()+ae).toISOString():void 0,channelResult:void 0,lastError:void 0,summary:Qt}),Tt.current.add(Ce),Et({type:"AGENT_JOB_QUEUED",at:ct,actor:"system",caseId:f.header.caseId,attemptNo:de,idempotencyKey:Ce,summary:Qt,detail:`trigger=${W}`,by:"system"}),gt(`Agent   : attempt ${de} (${Ce})`);const jr=as.current+1;return as.current=jr,window.setTimeout(()=>{if(as.current!==jr)return;const dr=er();Js(or=>or.idempotencyKey!==Ce||or.status!=="QUEUED"?or:{...or,status:"RUNNING",startedAt:dr,summary:"Agent    "}),Et({type:"AGENT_JOB_STARTED",at:dr,actor:"agent",caseId:f.header.caseId,attemptNo:de,idempotencyKey:Ce,summary:"Agent    ",detail:`attempt ${de}`,by:"agent"}),gt(`Agent   : attempt ${de}`),window.setTimeout(()=>{if(as.current!==jr)return;const or=er(),br=eNe({caseRecord:e,gates:f.policyGates,attemptNo:de});if(br.success){Js(zr=>({...zr,status:"SUCCEEDED",attemptNo:de,idempotencyKey:Ce,finishedAt:or,channelResult:br.channelResult,lastError:void 0,nextRetryAt:void 0,summary:"Agent    "})),m(zr=>{const kr={...zr.contactExecution,status:"SENT",lastSentAt:or,retryCount:Math.max(zr.contactExecution.retryCount,de)};return{...zr,contactExecution:kr,contactFlowSteps:Is(kr,zr.preTriageResult,zr.linkageStatus,n)}}),me(at(48)),Et({type:"AGENT_SMS_SENT",at:or,actor:"agent",caseId:f.header.caseId,attemptNo:de,idempotencyKey:Ce,channelResult:br.channelResult,summary:"Agent    ",detail:bA[br.channelResult],by:"agent"}),Et({type:"AGENT_JOB_SUCCEEDED",at:or,actor:"agent",caseId:f.header.caseId,attemptNo:de,idempotencyKey:Ce,summary:"Agent   ",detail:bA[br.channelResult],by:"agent"}),ei({at:or,result:"SENT_SUCCESS",summary:"Agent    ",recommendationId:ee??void 0,recommendationTitle:ye.find(zr=>zr.id===ee)?.title,actor:"agent"}),gt(`Agent   : attempt ${de} (${Ce})`);return}const Ta=new Date(Date.now()+cs*60*60*1e3).toISOString();Js(zr=>({...zr,status:"FAILED",attemptNo:de,idempotencyKey:Ce,finishedAt:or,channelResult:br.channelResult,lastError:br.errorMessage,nextRetryAt:Ta,summary:"Agent    "})),m(zr=>{const kr={...zr.contactExecution,status:"RETRY_NEEDED",lastSentAt:or,retryCount:Math.max(zr.contactExecution.retryCount,de)};return{...zr,contactExecution:kr,contactFlowSteps:Is(kr,zr.preTriageResult,zr.linkageStatus,n)}}),me(Ta),Et({type:"AGENT_JOB_FAILED",at:or,actor:"agent",caseId:f.header.caseId,attemptNo:de,idempotencyKey:Ce,summary:"Agent   ",detail:br.errorMessage,errorCode:br.errorCode,by:"agent"}),ei({at:or,result:"SENT_FAILED",summary:br.errorMessage??"Agent    ",recommendationId:ee??void 0,recommendationTitle:ye.find(zr=>zr.id===ee)?.title,actor:"agent"}),gt(`Agent   : ${br.errorMessage??br.errorCode??"unknown"}`)},1e3)},ae),!0},[pn,zt.status,Rt,cs,aa,gt,e,f.contactExecution.lastSentAt,f.contactExecution.retryCount,f.contactExecution.status,f.contactExecutor,f.header.caseId,f.policyGates,_a,ye,ee]),si=y.useCallback(()=>{if(!Yn({trigger:"MANUAL_RETRY_NOW",runAfterMs:200,force:!0})){Ye.error("    .");return}Ye.success("Agent   .")},[Yn]),ii=y.useCallback(()=>{if(!Yn({trigger:"MANUAL_RETRY_SCHEDULE",runAfterMs:cs*60*60*1e3,force:!0})){Ye.error("    .");return}Ye.success(` ${cs}  .`)},[cs,Yn]);y.useEffect(()=>{if(!Ca||pn!=="PASS"||f.contactExecution.status!=="NOT_STARTED"&&f.contactExecution.status!=="RETRY_NEEDED")return;const W=f.header.caseId;Fa.current.has(W)||(Fa.current.add(W),Yn({trigger:"AUTO_ON_ENTER",runAfterMs:250}))},[pn,f.contactExecution.status,f.header.caseId,Ca,Yn]),y.useEffect(()=>{!Ct.current&&Ca&&pn==="PASS"&&Yn({trigger:"AUTO_ON_STRATEGY",runAfterMs:250}),Ct.current=Ca},[pn,Ca,Yn]),y.useEffect(()=>{!Ca||pn!=="PASS"||f.contactExecution.status!=="RETRY_NEEDED"||!f.contactExecution.lastSentAt||Date.now()-new Date(f.contactExecution.lastSentAt).getTime()<cs*60*60*1e3||Yn({trigger:"AUTO_ON_RETRY_DUE",runAfterMs:200})},[pn,cs,f.contactExecution.lastSentAt,f.contactExecution.status,Ca,je,Yn]),y.useEffect(()=>{Ca||zt.status!=="QUEUED"&&zt.status!=="RUNNING"||Ui({actor:"system",summary:"     .",moveToHuman:!0})},[zt.status,Ui,Ca]);const us=y.useCallback(W=>{const ae=Og(jn,W);if(ae){Ye.error(ae);return}if(i){Lr(W);return}S(W),W==="FOLLOW_UP"&&xr(!0)},[i,jn]),oi=y.useCallback(W=>{if(!Vt)return;const ae=rt.indexOf(Vt),xe=rt[ae+W];if(!xe)return;const de=Og(jn,xe);if(de){Ye.error(de);return}Lr(xe)},[jn,Vt,rt]),Kf=y.useCallback(()=>{if(!Vt||!f.stage3)return;const W=er();if(Vt==="PRECHECK"){if(!Pe.strategyMemo.trim()){Ye.error("     .");return}m(de=>{if(!de.stage3)return de;const Ce=[...de.stage3.transitionRisk.series],We=Ce[Ce.length-1],ct={t:W,risk2y:We?.risk2y??de.stage3.transitionRisk.risk2y_now,ciLow:We?.ciLow,ciHigh:We?.ciHigh,source:"manual",event:"REEVAL"},Qt=[...Ce.slice(-11),ct],jr=de.header.effectiveStrategy??de.preTriageResult?.strategy??"HUMAN_FIRST";return{...de,preTriageResult:de.preTriageResult??{strategy:jr,triggers:["STAGE3_REVIEW_BASELINE_CONFIRMED"],policyNote:"Stage3      .",confidence:"RULE"},policyGates:de.policyGates.map(dr=>dr.key==="CONSENT_OK"||dr.key==="PHONE_VERIFIED"||dr.key==="CONTACTABLE_TIME_OK"?{...dr,status:"PASS",failReason:void 0}:dr),stage3:{...de.stage3,riskReviewedAt:W,transitionRisk:{...de.stage3.transitionRisk,updatedAt:W,series:Qt}}}});const ae=[Pe.diffNeeded?" ":null,Pe.caregiverNeeded?"  ":null,Pe.sensitiveHistory?"  ":null,Pe.resultLinkedChecked?"  ":null].filter(Boolean).join(", "),xe=`      ${Pe.priority}${ae?`   ${ae}`:""}  : ${Pe.strategyMemo.slice(0,80)}`;Et({type:"RISK_REVIEWED",at:W,by:f.header.assigneeName,summary:xe}),gt(`Stage3   : ${ae||" "}  ${Pe.strategyMemo}`),lr({at:W,memo:Pe.strategyMemo,nextAction:"RECOMMEND_DIFF"}),Ye.success("STEP1  ."),oi(1);return}if(Vt==="CONTACT_EXECUTION"){if(Ae>0){Ye.error("     .");return}if(!Ie){Ye.error("      STEP3   .");return}gt(`   : ${f.stage3.diffPathStatus}`),Ye.success("STEP2  ."),oi(1);return}if(Vt==="RESPONSE_HANDLING"){if(!Ie){Ye.error(" /      .");return}if(!Xt.memo.trim()){Ye.error("      .");return}const ae=`  : ${Xt.memo.slice(0,120)}   : ${sg[Xt.nextAction]}`;os({summary:ae,nextAction:Xt.nextAction,silentToast:!0}),Ye.success("STEP3    ."),oi(1);return}if(!X){Ye.error("   1     .");return}if(!et.nextTrackingAt){Ye.error("      .");return}m(ae=>ae.stage3?{...ae,stage3:{...ae.stage3,planUpdatedAt:W,headerMeta:{...ae.stage3.headerMeta,planStatus:"ACTIVE",opsStatus:"TRACKING",nextTrackingContactAt:et.nextTrackingAt}}}:ae),Et({type:"PLAN_UPDATED",at:W,by:f.header.assigneeName,summary:"    ."}),Et({type:"NEXT_TRACKING_SET",at:W,by:f.header.assigneeName,nextAt:et.nextTrackingAt,summary:` D-${et.reminderDaysBefore} / ${et.reminderTime}   ${et.retryCount}`}),gt(`Stage3  () :   ${Wt(et.nextTrackingAt)}   D-${et.reminderDaysBefore}`),Ye.success("STEP4  () ."),vl()},[vl,f.header.assigneeName,f.stage3,os,oi,Ie,X,Ae,Pe.caregiverNeeded,Pe.diffNeeded,Pe.priority,Pe.resultLinkedChecked,Pe.sensitiveHistory,Pe.strategyMemo,Xt.memo,Xt.nextAction,Vt,et.nextTrackingAt,et.reminderDaysBefore,et.reminderTime,et.retryCount]),Ub=y.useCallback(W=>{const ae=mNe[W];us(ae)},[us]),zb=y.useCallback(async W=>{if(!(await wn(W)).ok){Ye.error("   .");return}const xe=wo.find(de=>de.idempotencyKey===W);xe&&(Et({type:"CALENDAR_SYNC",at:er(),status:"SUCCESS",eventType:xe.eventType,title:xe.title,scheduledAt:xe.scheduledAt,idempotencyKey:xe.idempotencyKey,by:f.header.assigneeName}),gt(`   : ${xe.title}`)),Ye.success("  .")},[gt,wo,f.header.assigneeName,wn]);return y.useEffect(()=>{const W=f.stage3?.recommendedActions.find(ae=>ae.decision==="PENDING");t?.({contactMode:na,effectiveMode:_a,slaLevel:f.header.sla.level,qualityScore:f.header.dataQuality.score,missingCount:Oo,warningCount:yl,lastUpdatedAt:f.timeline[0]?.at,nextActionLabel:n==="stage3"?W?`${W.title} `:"  ":void 0,stage3Meta:n==="stage3"&&f.stage3?{opsStatus:f.stage3.headerMeta.opsStatus,risk2yNowPct:Jo(f.stage3.transitionRisk.risk2y_now),risk2yLabel:f.stage3.transitionRisk.risk2y_label,trend:f.stage3.transitionRisk.trend,modelVersion:f.stage3.transitionRisk.modelVersion,riskUpdatedAt:f.stage3.transitionRisk.updatedAt,nextReevalAt:f.stage3.headerMeta.nextReevalAt,nextTrackingContactAt:f.stage3.headerMeta.nextTrackingContactAt,nextProgramAt:f.stage3.headerMeta.nextProgramAt,planStatus:f.stage3.headerMeta.planStatus,trackingCycleDays:f.stage3.headerMeta.trackingCycleDays,churnRisk:f.stage3.headerMeta.churnRisk}:void 0})},[f.header.sla.level,f.header.dataQuality.score,f.stage3,f.timeline,_a,Oo,n,t,na,yl]),y.useEffect(()=>{if(r){if(n!=="stage3"){r(null);return}r(()=>ja())}},[n,r,ja]),y.useEffect(()=>{Fe&&Lt({owner:Fe.execution?.owner??f.header.assigneeName,dueDate:Fe.execution?.dueDate,institution:Fe.execution?.institution,method:Fe.execution?.method??"",status:Fe.execution?.status??"PLANNED",note:Fe.execution?.note??""})},[Fe,f.header.assigneeName]),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 xl:grid-cols-12",children:[a.jsxs("section",{className:"space-y-4 xl:col-span-8",children:[a.jsx(ONe,{scoreSummary:f.scoreSummary,modelPriorityValue:za,modelPriorityMeta:Bi,contactPriority:Gf,interventionLevel:f.interventionLevel,stage3Risk:bl,stage3DiffPathStatus:f.stage3?.diffPathStatus,stage3RiskReviewedAt:f.stage3?.riskReviewedAt,onStage3MarkRiskReviewed:os,mode:n}),a.jsx(CNe,{flowCards:jn,onAction:Ub,mode:n}),a.jsx(jNe,{strategy:_a,strategyBadge:na,contactExecutor:f.contactExecutor,executionStatus:f.contactExecution.status,lastSentAt:f.contactExecution.lastSentAt,lastOutcome:f.contactExecution.lastOutcomeCode,retryCount:f.contactExecution.retryCount,linkageStatus:f.linkageStatus,memoCount:h.length,lastContactAt:f.contactExecution.lastResponseAt??f.contactExecution.lastSentAt,timelineCount:f.timeline.length,preTriage:f.preTriageResult,riskGuardrails:f.header.riskGuardrails,onOpenStrategyOverride:()=>Xe(!0),mode:n}),i?a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"rounded-xl border border-indigo-200 bg-indigo-50 p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-indigo-900",children:" "}),a.jsx("p",{className:"mt-1 text-[11px] text-indigo-800",children:"Step    //   .      ."}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-[11px]",children:[a.jsxs("span",{className:"rounded-md border border-indigo-300 bg-white px-2 py-1",children:["  ",Wt(f.stage3?.headerMeta.nextReevalAt)]}),a.jsxs("span",{className:"rounded-md border border-indigo-300 bg-white px-2 py-1",children:[" ",LT(f.stage3?.headerMeta.planStatus??"ACTIVE")]}),a.jsxs("span",{className:"rounded-md border border-indigo-300 bg-white px-2 py-1",children:["  ",f.stage3?.headerMeta.trackingCycleDays??21,""]})]})]}),a.jsx(Cj,{level:f.interventionLevel,statusLabel:f.header.statusLabel,guides:Kn,onChangeLevel:jo,onHold:()=>is(""),onExclude:()=>is(" "),mode:n})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsx(D$,{mode:n,contactExecutor:f.contactExecutor,executionStatus:f.contactExecution.status,strategy:_a,lastSentAt:f.contactExecution.lastSentAt,sensitivityFlags:$i,latestAgentLog:f.agentExecutionLogs[0],selectedRecommendation:fn,agentJob:zt,gateStatus:pn,onSwitchExecutor:Co,onOpen:()=>us("CONTACT_EXECUTION"),onRetryNow:si,onScheduleRetry:ii}),a.jsx(I$,{linkageStatus:f.linkageStatus,reservationInfo:f.reservationInfo,locked:ai,lockReason:ai?"STEP4    /  .":void 0,onOpenStep4:()=>us("FOLLOW_UP"),onAction:Eo})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsx(Aj,{expanded:De,onToggle:()=>He(W=>!W),selectedOutcomeCode:Qe,onSelectOutcomeCode:$e,rejectReasonDraft:Sr,onRejectReasonDraftChange:hr,outcomeNote:jt,onOutcomeNoteChange:Ze,isSaving:_t,submitError:ss,onClearError:Ba,onConfirm:ni,mode:n}),a.jsx(M$,{expanded:gr||!!f.contactExecution.handoffMemo,onToggle:()=>xr(W=>!W),memoText:tt,onMemoChange:Ir,onSave:()=>{gt(`  : ${tt.slice(0,80)}...`),Ye.success("  ."),xr(!1)},mode:n})]}),a.jsx(Cj,{level:f.interventionLevel,statusLabel:f.header.statusLabel,guides:Kn,onChangeLevel:jo,onHold:()=>is(""),onExclude:()=>is(" "),mode:n})]})]}),a.jsxs("aside",{className:"space-y-4 xl:col-span-4 xl:sticky xl:top-0 self-start",children:[i?a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"rounded-xl border border-indigo-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"  "}),a.jsx("button",{onClick:()=>us("CONTACT_EXECUTION"),className:"rounded-md border border-indigo-200 bg-indigo-50 px-2 py-1 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100",children:"STEP2  "})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[" ",f.stage3?.diffPathStatus??"NONE","    ",Ae,"   "," ",Wt(f.stage3?.headerMeta.nextReevalAt)]}),a.jsx("p",{className:"mt-2 text-[10px] text-indigo-700",children:" :   /        ."})]}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("button",{onClick:()=>Jt(W=>!W),className:"flex w-full items-center justify-between text-left",children:[a.jsx("span",{className:"text-sm font-bold text-slate-900",children:"/  (/)"}),a.jsx("span",{className:"text-[11px] font-semibold text-slate-500",children:ge?"":""})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"      ."}),ge?a.jsxs("div",{className:"mt-3",children:[a.jsx(D$,{mode:n,contactExecutor:f.contactExecutor,executionStatus:f.contactExecution.status,strategy:_a,lastSentAt:f.contactExecution.lastSentAt,sensitivityFlags:$i,latestAgentLog:f.agentExecutionLogs[0],selectedRecommendation:fn,agentJob:zt,gateStatus:pn,onSwitchExecutor:Co,onOpen:()=>us("CONTACT_EXECUTION"),onRetryNow:si,onScheduleRetry:ii}),a.jsx("div",{className:"mt-3",children:a.jsx(Aj,{expanded:De,onToggle:()=>He(W=>!W),selectedOutcomeCode:Qe,onSelectOutcomeCode:$e,rejectReasonDraft:Sr,onRejectReasonDraftChange:hr,outcomeNote:jt,onOutcomeNoteChange:Ze,isSaving:_t,submitError:ss,onClearError:Ba,onConfirm:ni,mode:n})})]}):null]}),mr?a.jsxs("section",{className:"rounded-xl border border-indigo-200 bg-indigo-50 p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-indigo-900",children:"   "}),a.jsx("p",{className:"mt-1 text-[11px] text-indigo-800",children:mr.memo}),a.jsxs("p",{className:"mt-1 text-[10px] text-indigo-700",children:[Wt(mr.at),"    ",sg[mr.nextAction]]})]}):null,a.jsx(L$,{evidence:f.riskEvidence,quality:f.header.dataQuality,mode:n}),a.jsx($$,{timeline:_u,filter:v,onFilterChange:N,listClassName:"max-h-[300px] overflow-y-auto pr-1",mode:n})]}):a.jsxs(a.Fragment,{children:[a.jsx(L$,{evidence:f.riskEvidence,quality:f.header.dataQuality,mode:n}),a.jsx($$,{timeline:_u,filter:v,onFilterChange:N,listClassName:"max-h-[340px] overflow-y-auto pr-1",mode:n}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"  ( )"}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"    : Step   ."}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 text-xs",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-slate-500",children:"  "}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-900",children:[f.todos.filter(W=>W.status==="OPEN").length,""]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-slate-500",children:"  "}),a.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:Wt(Ee)}),wo.length>0?a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsxs("p",{className:"text-[11px] font-semibold text-red-600",children:["   ",wo.length,""]}),wo.slice(0,2).map(W=>a.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 px-2 py-1.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-red-700",children:W.title}),a.jsx("p",{className:"text-[10px] text-red-600",children:Wt(W.scheduledAt)}),a.jsx("button",{onClick:()=>zb(W.idempotencyKey),disabled:!!Nc[W.idempotencyKey],className:"mt-1 inline-flex items-center rounded-md border border-red-300 px-2 py-0.5 text-[10px] font-semibold text-red-700 hover:bg-red-100 disabled:opacity-50",children:Nc[W.idempotencyKey]?" ...":""})]},W.idempotencyKey))]}):null]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-slate-500",children:"  "}),a.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:ur?.title??"   ."})]})]})]})]}),a.jsx(ANe,{logs:f.agentExecutionLogs})]})]}),a.jsx(Qi,{open:!!ht,onOpenChange:W=>{W||Sn(null)},children:a.jsxs(Zi,{className:"max-w-2xl p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"ProgramExecutionDrawer"}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"     Stage3 Step3  ."}),Fe?a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsx("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2",children:a.jsxs("p",{className:"text-xs font-semibold text-slate-900",children:[Fe.major," / ",Fe.middle," / ",Fe.leaf]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:["",a.jsx("input",{value:Zt.owner,onChange:W=>Lt(ae=>({...ae,owner:W.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:["Due Date",a.jsx("input",{type:"datetime-local",value:uy(Zt.dueDate),onChange:W=>Lt(ae=>({...ae,dueDate:dy(W.target.value)||void 0})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsxs("select",{value:Zt.method??"",onChange:W=>Lt(ae=>({...ae,method:W.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:["",a.jsxs("select",{value:Zt.status??"PLANNED",onChange:W=>Lt(ae=>({...ae,status:W.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300",children:[a.jsx("option",{value:"PLANNED",children:""}),a.jsx("option",{value:"IN_PROGRESS",children:""}),a.jsx("option",{value:"DONE",children:""}),a.jsx("option",{value:"HOLD",children:""})]})]}),a.jsxs("label",{className:"text-[11px] text-slate-600 md:col-span-2",children:["",a.jsx("input",{value:Zt.institution??"",onChange:W=>Lt(ae=>({...ae,institution:W.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600 md:col-span-2",children:["",a.jsx("textarea",{value:Zt.note??"",onChange:W=>Lt(ae=>({...ae,note:W.target.value})),className:"mt-1 h-20 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-blue-300"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>Sn(null),className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:()=>{ht&&(Vn(ht,Zt),Sn(null))},className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white",children:""})]})]}):null]})}),a.jsx(Qi,{open:i&&!!Vt,onOpenChange:W=>{W||vl()},children:a.jsx(Zi,{className:"w-[96vw] max-w-[96vw] sm:max-w-[1460px] max-h-[92vh] overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-indigo-900",children:["Stage3   ",sr?.title??" "]}),a.jsx("p",{className:"text-[11px] text-indigo-700",children:"   .      ."})]}),a.jsxs("span",{className:"rounded-md border border-indigo-300 bg-white px-2 py-1 text-[11px] font-semibold text-indigo-700",children:[" ",Ft+1,"/",rt.length]})]}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1.5 md:grid-cols-4",children:rt.map((W,ae)=>{const xe=jn.find(Ce=>Ce.id===W),de=Vt===W;return a.jsxs("button",{type:"button",onClick:()=>{const Ce=Og(jn,W);if(Ce){Ye.error(Ce);return}Lr(W)},className:ce("rounded-md border px-2 py-1.5 text-left text-[11px]",de?"border-indigo-300 bg-white text-indigo-800":"border-indigo-100 bg-indigo-50/60 text-indigo-700"),children:[a.jsxs("p",{className:"font-semibold",children:["STEP ",ae+1]}),a.jsx("p",{className:"mt-0.5 truncate",children:xe?.title??W})]},W)})})]}),Vt==="PRECHECK"?(()=>{const W=f.stage3?.transitionRisk??bl,ae=f.header.dataQuality.level==="GOOD"?"HIGH":f.header.dataQuality.level==="WARN"?"MID":"LOW",xe=(()=>{const We=W?.series??[];if(We.length<4)return" 3   .";const ct=We.slice(-4),Qt=ct.slice(1).map((dr,or)=>Jo(dr.risk2y-ct[or].risk2y)),jr=Qt.reduce((dr,or)=>dr+or,0);return Math.max(...Qt.map(dr=>Math.abs(dr)))>=10?" 3  ":jr>0?` 3 +${jr}%p `:jr<0?` 3 ${jr}%p `:" 3   "})(),de=Ae>0?`   ${Ae}`:f.stage3?.recommendedActions[0]?.reason??"  ",Ce=[...f.timeline].filter(We=>["RISK_REVIEWED","RISK_SERIES_UPDATED","DIFF_RESULT_APPLIED","PLAN_UPDATED","REEVAL_SCHEDULED","REEVAL_COMPLETED"].includes(We.type)).sort((We,ct)=>new Date(ct.at).getTime()-new Date(We.at).getTime()).slice(0,3);return a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"   &  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:"Stage2Stage3  ,   ,      ."}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 rounded-lg border border-indigo-200 bg-indigo-50 p-2 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-md border border-indigo-100 bg-white p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:"  "}),a.jsx("p",{className:"mt-1 text-xs font-semibold text-slate-900",children:de}),a.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:"     "})]}),a.jsxs("div",{className:"rounded-md border border-indigo-100 bg-white p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:" (2)"}),a.jsxs("p",{className:"mt-1 text-xs font-semibold text-slate-900",children:[Jo(W?.risk2y_now??0),"%  ",W?.risk2y_label??"LOW"]}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",ae]})]}),a.jsxs("div",{className:"rounded-md border border-indigo-100 bg-white p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:" "}),a.jsx("p",{className:"mt-1 text-xs font-semibold text-slate-900",children:W?.trend??"FLAT"}),a.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:xe})]}),a.jsxs("div",{className:"rounded-md border border-indigo-100 bg-white p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:" "}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-600",children:[" ",Wt(f.stage3?.headerMeta.nextReevalAt)]}),a.jsxs("p",{className:"text-[10px] text-slate-600",children:["  ",Wt(f.stage3?.headerMeta.nextTrackingContactAt)]})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 xl:grid-cols-[1.4fr_1fr]",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:"Stage1 "}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-600",children:[" ",za," / ",Bi.label]})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:"Stage2 "}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-600",children:[En,En==="MCI"?`(${Aa})`:"","  ",Wt(e?.updated)]})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:"Stage3 "}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-600",children:[nz(f.stage3?.headerMeta.opsStatus??"TRACKING"),"   ",f.header.assigneeName]})]})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:" ( )"}),W?a.jsx(NA,{risk:W,stageBadge:f.stage3?.diffPathStatus}):null]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:"/ "}),a.jsx("div",{className:"mt-2 space-y-1.5",children:Ce.length>0?Ce.map(We=>a.jsxs("div",{className:"rounded border border-slate-200 bg-white px-2 py-1",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-700",children:az(We)}),a.jsxs("p",{className:"text-[10px] text-slate-500",children:[Wt(We.at),"  ",sz(We)]})]},`${We.type}-${We.at}`)):a.jsx("p",{className:"text-[11px] text-slate-500",children:"   ."})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:" ()"}),a.jsxs("div",{className:"mt-2 space-y-1 text-[11px] text-slate-700",children:[a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Pe.diffNeeded,onChange:We=>$t(ct=>({...ct,diffNeeded:We.target.checked}))}),"/  "]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Pe.caregiverNeeded,onChange:We=>$t(ct=>({...ct,caregiverNeeded:We.target.checked}))}),"  "]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Pe.sensitiveHistory,onChange:We=>$t(ct=>({...ct,sensitiveHistory:We.target.checked}))}),"  "]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Pe.resultLinkedChecked,onChange:We=>$t(ct=>({...ct,resultLinkedChecked:We.target.checked}))})," /   "]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-[11px] font-semibold text-slate-600",children:""}),a.jsxs("select",{value:Pe.priority,onChange:We=>$t(ct=>({...ct,priority:We.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300",children:[a.jsx("option",{value:"HIGH",children:"HIGH"}),a.jsx("option",{value:"MID",children:"MID"}),a.jsx("option",{value:"LOW",children:"LOW"})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-[11px] font-semibold text-slate-600",children:" ()"}),a.jsx("textarea",{value:Pe.strategyMemo,onChange:We=>$t(ct=>({...ct,strategyMemo:We.target.value})),className:"mt-1 h-28 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-indigo-300",placeholder:`1) Stage3  
2)  
3)  / `})]})]}),a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("p",{className:"text-[11px] text-indigo-800",children:"   `STAGE3_REVIEW_DONE`, `RISK_REVIEWED`  / ."}),a.jsx("button",{type:"button",onClick:()=>oi(1),className:"mt-2 w-full rounded-md border border-indigo-300 bg-white px-2 py-1.5 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100",children:"Step2 "})]})]})]})]})})():null,Vt==="CONTACT_EXECUTION"?(()=>{const W=f.stage3?.diffPathStatus??"NONE",ae=P$.findIndex(de=>de.status===W),xe=Ae===0;return a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"/   "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:"   ,      ."}),a.jsxs("div",{className:"mt-3 rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-indigo-900",children:"Path Progress"}),a.jsxs("span",{className:"rounded border border-indigo-200 bg-white px-2 py-0.5 text-[10px] font-semibold text-indigo-700",children:["  ",W,"   ",Ae,""]})]}),a.jsx("div",{className:"mt-2 grid grid-cols-1 gap-1.5 md:grid-cols-5",children:P$.map((de,Ce)=>{const We=ae>=Ce,ct=de.status===W;return a.jsxs("div",{className:ce("rounded border px-2 py-1.5 text-[10px]",ct?"border-indigo-300 bg-white text-indigo-800":We?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-slate-200 bg-white text-slate-600"),children:[a.jsx("p",{className:"font-semibold",children:de.label}),a.jsx("p",{className:"mt-0.5 leading-relaxed",children:de.artifact})]},de.status)})})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 xl:grid-cols-[1.1fr_1fr]",children:[a.jsxs("div",{className:"space-y-2 rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:"  "}),oNe.map(de=>a.jsxs("div",{className:ce("rounded-md border p-2",de.tone),children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-semibold",children:de.title}),a.jsx("p",{className:"text-[10px] opacity-80",children:de.description})]}),a.jsx("button",{type:"button",onClick:()=>{if(de.id==="RESCHEDULE_REEVAL"){Ao();return}Ua(de.id)},className:"rounded border border-current/40 bg-white px-2 py-1 text-[10px] font-semibold",children:""})]}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[10px]",children:[a.jsx("span",{children:de.completionHint}),a.jsx("span",{className:"opacity-70",children:de.eventHint})]})]},de.id))]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:" /"}),a.jsxs("label",{className:"mt-2 block text-[11px] text-slate-600",children:["",a.jsx("input",{value:Nr.orgName,onChange:de=>Ut(Ce=>({...Ce,orgName:de.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsxs("label",{className:"mt-2 block text-[11px] text-slate-600",children:["",a.jsx("input",{value:Nr.orgPhone,onChange:de=>Ut(Ce=>({...Ce,orgPhone:de.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsxs("label",{className:"mt-2 block text-[11px] text-slate-600",children:[" ( )",a.jsxs("select",{value:Nr.resultLabel,onChange:de=>Ut(Ce=>({...Ce,resultLabel:de.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300",children:[a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:"",children:""})]})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[a.jsxs("label",{className:"block text-[11px] text-slate-600",children:["A ()",a.jsx("input",{value:Nr.abeta??"",onChange:de=>Ut(Ce=>({...Ce,abeta:de.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsxs("label",{className:"block text-[11px] text-slate-600",children:["tau ()",a.jsx("input",{value:Nr.tau??"",onChange:de=>Ut(Ce=>({...Ce,tau:de.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]})]}),a.jsxs("label",{className:"mt-2 block text-[11px] text-slate-600",children:[" ",a.jsx("textarea",{value:Nr.resultSummary,onChange:de=>Ut(Ce=>({...Ce,resultSummary:de.target.value})),className:"mt-1 h-16 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-indigo-300",placeholder:" /  ."})]}),a.jsxs("label",{className:"mt-2 flex items-center gap-1 text-[11px] text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:Nr.riskReady,onChange:de=>Ut(Ce=>({...Ce,riskReady:de.target.checked}))}),"  Step3   "]}),a.jsxs("label",{className:"mt-2 block text-[11px] text-slate-600",children:[" ",a.jsx("textarea",{value:Nr.note,onChange:de=>Ut(Ce=>({...Ce,note:de.target.value})),className:"mt-1 h-14 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsx("div",{className:"mt-2 rounded-md border border-indigo-100 bg-indigo-50 px-2 py-1 text-[10px] text-indigo-700",children:" :  SCHEDULED  COMPLETED +   0.    Step3   ."}),xe?null:a.jsx("p",{className:"mt-1 text-[10px] text-amber-700",children:"         ."})]})]}),a.jsxs("div",{className:"mt-3 rounded-md border border-gray-200 bg-gray-50 p-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-700",children:"  "}),a.jsxs("div",{className:"mt-1 space-y-1",children:[(f.stage3?.recommendedActions??[]).filter(de=>de.requiresApproval).map(de=>a.jsxs("div",{className:"flex items-center justify-between rounded border border-slate-200 bg-white px-2 py-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-800",children:de.title}),a.jsx("p",{className:"text-[10px] text-slate-500",children:de.reason})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>_o(de.id,"APPROVED"),className:"rounded border border-emerald-200 bg-emerald-50 px-1.5 py-0.5 text-[10px] font-semibold text-emerald-700",children:""}),a.jsx("button",{onClick:()=>_o(de.id,"HOLD"),className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[10px] font-semibold text-slate-700",children:""})]})]},de.id)),(f.stage3?.recommendedActions??[]).filter(de=>de.requiresApproval).length===0?a.jsx("p",{className:"rounded border border-slate-200 bg-white px-2 py-1 text-[10px] text-slate-500",children:"   ."}):null]})]})]})})():null,Vt==="RESPONSE_HANDLING"?a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"    /"}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:" /        ."}),Ie?a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-indigo-900",children:["2   ",Jo(f.stage3?.transitionRisk.risk2y_now??0),"%"]}),a.jsxs("p",{className:"mt-1 text-[11px] text-indigo-800",children:[" ",f.stage3?.transitionRisk.risk2y_label,"   ",f.stage3?.transitionRisk.trend,"   ",f.stage3?.transitionRisk.modelVersion]}),f.stage3?a.jsx(NA,{risk:f.stage3.transitionRisk}):null]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:["  ()",a.jsx("textarea",{value:Xt.memo,onChange:W=>Tr(ae=>({...ae,memo:W.target.value})),className:"mt-1 h-24 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-indigo-300",placeholder:"  /,     ."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-slate-600",children:" "}),a.jsx("select",{value:Xt.nextAction,onChange:W=>Tr(ae=>({...ae,nextAction:W.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300",children:Object.entries(sg).map(([W,ae])=>a.jsx("option",{value:W,children:ae},W))}),a.jsx("button",{onClick:()=>os({summary:` : ${Xt.memo||" "}   : ${sg[Xt.nextAction]}`,nextAction:Xt.nextAction}),className:"mt-3 rounded-md border border-indigo-200 bg-indigo-50 px-3 py-1.5 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100",children:"  "})]})]})]}):a.jsxs("div",{className:"mt-3 rounded-md border border-amber-200 bg-amber-50 p-3 text-[11px] text-amber-800",children:["  ",f.stage3?.diffPathStatus??"NONE"," . STEP2       ."]})]}):null,Vt==="FOLLOW_UP"?a.jsxs("section",{className:"space-y-3 rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:" ()"}),a.jsx("p",{className:"text-[11px] text-gray-600",children:"   UI  /    ."}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-white p-3",children:[a.jsxs("p",{className:"mb-2 text-[11px] text-slate-600",children:["  ,    UI / .",a.jsx("span",{className:"ml-1 font-semibold text-slate-800",children:"  3  "}),"  ."]}),a.jsx(x2e,{caseId:f.header.caseId,stage:3,resultLabel:En,mciSeverity:Aa,riskTags:f.header.riskGuardrails??[],actorName:f.header.assigneeName})]}),a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-indigo-900",children:"  "}),a.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-indigo-800",children:["  ",a.jsx("input",{type:"datetime-local",value:uy(et.nextTrackingAt),onChange:W=>rr(ae=>({...ae,nextTrackingAt:dy(W.target.value)||ae.nextTrackingAt})),className:"mt-1 h-8 w-full rounded-md border border-indigo-200 px-2 text-[11px] outline-none focus:border-indigo-400"})]}),a.jsxs("label",{className:"text-[11px] text-indigo-800",children:[" ",a.jsx("input",{type:"time",value:et.reminderTime,onChange:W=>rr(ae=>({...ae,reminderTime:W.target.value})),className:"mt-1 h-8 w-full rounded-md border border-indigo-200 px-2 text-[11px] outline-none focus:border-indigo-400"})]})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 md:grid-cols-4",children:[a.jsxs("label",{className:"text-[11px] text-indigo-800",children:["D-Day",a.jsx("input",{type:"number",min:0,max:7,value:et.reminderDaysBefore,onChange:W=>rr(ae=>({...ae,reminderDaysBefore:Number(W.target.value)||0})),className:"mt-1 h-8 w-full rounded-md border border-indigo-200 px-2 text-[11px] outline-none focus:border-indigo-400"})]}),a.jsxs("label",{className:"text-[11px] text-indigo-800",children:[" ",a.jsx("input",{type:"number",min:0,max:5,value:et.retryCount,onChange:W=>rr(ae=>({...ae,retryCount:Number(W.target.value)||0})),className:"mt-1 h-8 w-full rounded-md border border-indigo-200 px-2 text-[11px] outline-none focus:border-indigo-400"})]})]})]})]}):null,a.jsxs("div",{className:"sticky bottom-0 z-10 flex flex-wrap items-center justify-end gap-2 rounded-lg border border-slate-200 bg-white/95 p-3 backdrop-blur",children:[a.jsx("button",{onClick:vl,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:()=>oi(-1),disabled:Ft<=0,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 disabled:opacity-40",children:""}),a.jsx("button",{onClick:()=>oi(1),disabled:Ft<0||Ft>=rt.length-1,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 disabled:opacity-40",children:""}),a.jsx("button",{onClick:Kf,className:"rounded-md bg-[#15386a] px-3 py-1.5 text-xs font-semibold text-white",children:" "})]})]})})}),a.jsx(Qi,{open:!i&&b==="PRECHECK",onOpenChange:W=>{W||In()},children:a.jsxs(Zi,{className:"max-w-3xl max-h-[90vh] overflow-y-auto p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:i?"  (/)":s?"2   ":"  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:i?"   ,  (//)   .":s?"/  ,      .":"  ,       ."}),a.jsx("div",{className:"mt-3",children:a.jsx(kNe,{gates:f.policyGates,onFix:wc,mode:n})})]})}),a.jsx(Qi,{open:!i&&b==="CONTACT_EXECUTION",onOpenChange:W=>{W||In()},children:a.jsx(Zi,{className:"w-[96vw] max-w-[96vw] sm:max-w-[1700px] max-h-[92vh] overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:i?" (  )":s?"/ ":" "}),a.jsx("p",{className:"text-[11px] text-slate-600",children:i?"   //     .":s?"       .":"     ."})]}),a.jsx("span",{className:ce("rounded-full border px-2.5 py-1 text-[11px] font-semibold",yA[f.contactExecutor]),children:zs[f.contactExecutor]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-[minmax(340px,0.8fr)_minmax(600px,1.2fr)]",children:[a.jsx(ENe,{loading:vt,recommendations:ye,selectedId:ee,editedScript:Ge,onSelect:xl,onEditScript:st}),f.contactExecutor==="HUMAN"?a.jsx(s2e,{stageLabel:o,templates:gl,defaultVars:{centerName:j$,centerPhone:Gc,bookingLink:fy(f.reservationInfo)},caseId:f.header.caseId,citizenPhone:e?.profile.phone?s||i?e.profile.phone:so(e.profile.phone):"010-****-1234",guardianPhone:e?.profile.guardianPhone?s||i?e.profile.guardianPhone:so(e.profile.guardianPhone):void 0,callScripts:Ss,onSmsSent:W=>{if(W.type==="BOOKING"&&!f.reservationInfo){Ye.error("       ."),gt("  :   ");return}Et({type:"SMS_SENT",at:er(),templateId:W.templateLabel,status:W.status==="SENT"?"DELIVERED":W.status==="SCHEDULED"?"PENDING":"FAILED",by:f.header.assigneeName}),gt(`${o}  ${W.mode==="NOW"?"":""}: ${W.templateLabel} (${W.status})`),W.status==="SENT"&&(js("SMS"),me(at(48)),m(ae=>{const xe={...ae.contactExecution,status:"SENT",lastSentAt:er(),retryCount:ae.contactExecution.retryCount+1};return{...ae,contactExecution:xe,contactFlowSteps:Is(xe,ae.preTriageResult,ae.linkageStatus,n)}}))},onConsultation:(W,ae,xe)=>{Et({type:"CALL_ATTEMPT",at:er(),result:"SUCCESS",note:W||void 0,by:f.header.assigneeName});const de=fn?` /  : ${fn.title}`:"";gt(`${o}  : ${xe}${W?` (${W.slice(0,60)})`:""}${de}`),ae==="CONTACT"&&js("CALL"),m(Ce=>{const We={...Ce.contactExecution,status:"WAITING_RESPONSE",lastSentAt:er(),retryCount:Ce.contactExecution.retryCount+1};return{...Ce,contactExecution:We,contactFlowSteps:Is(We,Ce.preTriageResult,Ce.linkageStatus,n)}}),Ye.success("  .")}}):a.jsxs("section",{className:"rounded-xl border border-violet-200 bg-violet-50/70 p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-violet-900",children:"Agent   "}),a.jsx("p",{className:"mt-1 text-[11px] text-violet-700",children:"       .      ."}),a.jsxs("div",{className:"mt-3 rounded-lg border border-violet-200 bg-white p-3 text-xs text-slate-700",children:[a.jsxs("p",{children:[" : ",a.jsx("strong",{children:iz[zt.status]})]}),a.jsxs("p",{className:"mt-1",children:[" : ",a.jsx("strong",{children:pn==="PASS"?"":pn==="NEEDS_CHECK"?" ":""})]}),a.jsxs("p",{className:"mt-1",children:[" : ",a.jsx("strong",{children:zt.attemptNo||f.contactExecution.retryCount+1})]}),a.jsxs("p",{children:[" :"," ",a.jsx("strong",{children:f.agentExecutionLogs[0]?`${Wt(f.agentExecutionLogs[0].at)}  ${$T[f.agentExecutionLogs[0].result]}`:" "})]}),zt.idempotencyKey?a.jsxs("p",{className:"mt-1",children:["  : ",a.jsx("strong",{children:zt.idempotencyKey})]}):null,zt.lastError?a.jsxs("p",{className:"mt-1 text-red-700",children:[" : ",a.jsx("strong",{children:zt.lastError})]}):null,zt.nextRetryAt?a.jsxs("p",{className:"mt-1",children:[" : ",a.jsx("strong",{children:Wt(zt.nextRetryAt)})]}):null,a.jsx("p",{className:"mt-1",children:"STEP3/STEP4     ."})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsx("button",{onClick:()=>Ye(" Agent   ."),className:"rounded-md border border-violet-200 bg-violet-50 px-3 py-2 text-xs font-semibold text-violet-700",children:"Agent   "}),(zt.status==="FAILED"||zt.status==="CANCELED")&&pn==="PASS"?a.jsx("button",{onClick:si,className:"rounded-md border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs font-semibold text-emerald-700",children:" "}):null,zt.status==="FAILED"&&pn==="PASS"?a.jsx("button",{onClick:ii,className:"rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-semibold text-amber-700",children:" "}):null,zt.status==="QUEUED"||zt.status==="RUNNING"?a.jsx("button",{onClick:()=>Ui({actor:"operator",summary:"  Agent  .",moveToHuman:!1}),className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-xs font-semibold text-rose-700",children:" "}):null,a.jsx("button",{onClick:()=>Co("HUMAN"),className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"   "})]})]})]})]})})}),a.jsx(Qi,{open:!i&&b==="RESPONSE_HANDLING",onOpenChange:W=>{W||In()},children:a.jsxs(Zi,{className:"max-w-xl max-h-[90vh] overflow-y-auto p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:i?"  ":" "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:i?"   //     .":"     //   ."}),a.jsx("div",{className:"mt-3",children:a.jsx(Aj,{expanded:!0,onToggle:In,selectedOutcomeCode:Qe,onSelectOutcomeCode:$e,rejectReasonDraft:Sr,onRejectReasonDraftChange:hr,outcomeNote:jt,onOutcomeNoteChange:Ze,isSaving:_t,submitError:ss,onClearError:Ba,onConfirm:ni,mode:n})})]})}),a.jsx(Qi,{open:!i&&b==="FOLLOW_UP",onOpenChange:W=>{W||In()},children:a.jsxs(Zi,{className:"max-w-3xl max-h-[90vh] overflow-y-auto p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:i?" ()":s?"/":" "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:i?"   ,  ,    .":s?"   ,   ,    .":"  ///     ."}),a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsx(_Ne,{draft:lt,reservationInfo:f.reservationInfo,onChange:St,onSave:ri}),a.jsx(I$,{linkageStatus:f.linkageStatus,reservationInfo:f.reservationInfo,onAction:Eo,mode:n}),a.jsx(TNe,{mode:n,execution:f.contactExecution,strategy:_a,preTriageReady:Au,strategyDecided:!!f.preTriageResult?.strategy,hasVulnerableGuardrail:!!f.header.riskGuardrails?.length,linkageStatus:f.linkageStatus,onOpenSmsModal:()=>us("CONTACT_EXECUTION"),onOpenOutcomeTriage:()=>us("RESPONSE_HANDLING"),onOpenHandoffMemo:()=>xr(!0),onOpenStrategyOverride:()=>Xe(!0)}),a.jsx(M$,{expanded:gr||!!f.contactExecution.handoffMemo,onToggle:()=>xr(W=>!W),memoText:tt,onMemoChange:Ir,onSave:()=>{gt(`  : ${tt.slice(0,80)}...`),Ye.success("  ."),xr(!1)},mode:n}),a.jsx(Cj,{level:f.interventionLevel,statusLabel:f.header.statusLabel,guides:Kn,onChangeLevel:jo,onHold:()=>is(""),onExclude:()=>is(" "),mode:n})]})]})}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-2",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Un,{size:15,className:"text-slate-500"}),"    "]}),a.jsx("span",{className:"rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700",children:"  "})]}),a.jsx("div",{className:"mt-3 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full border-collapse text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-600",children:[a.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left font-semibold",children:""}),a.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left font-semibold",children:""}),a.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left font-semibold",children:""}),a.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left font-semibold",children:""})]})}),a.jsx("tbody",{children:h.map(W=>{const[ae,...xe]=W.message.split(":"),de=xe.join(":").trim();return a.jsxs("tr",{className:"odd:bg-white even:bg-gray-50/60",children:[a.jsx("td",{className:"border border-gray-200 px-3 py-2 text-gray-600",children:W.at}),a.jsx("td",{className:"border border-gray-200 px-3 py-2 text-gray-700",children:W.actor}),a.jsx("td",{className:"border border-gray-200 px-3 py-2 font-semibold text-slate-800",children:ae.trim()}),a.jsx("td",{className:"border border-gray-200 px-3 py-2 text-gray-600",children:de||"-"})]},W.id)})})]})})]}),a.jsx(RNe,{draft:K,onClose:()=>Z(null),onChangeReason:W=>Z(ae=>ae&&{...ae,reason:W}),onConfirm:qf}),a.jsx(PNe,{draft:se,loading:Se,onClose:()=>{Se||ie(null)},onChangeResult:W=>ie(ae=>ae&&(ae.mode==="CALL"?{...ae,result:W}:{...ae,result:W})),onChangeNote:W=>ie(ae=>ae&&{...ae,note:W}),onConfirm:To}),a.jsx(DNe,{open:cr,draft:wr,saving:_t,errorMessage:ss,note:jt,retryCount:f.contactExecution.retryCount,lastContactAt:f.contactExecution.lastResponseAt??f.contactExecution.lastSentAt,slaLevel:f.header.sla.level,currentLevel:f.interventionLevel,priorityValue:za,onClose:()=>{_t||sn(!1)},onChange:W=>{Ba(),Oe(W)},onChangeNote:W=>{Ba(),Ze(W)},onConfirm:ko}),fe&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/35 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white p-5 shadow-2xl",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(ho,{size:15,className:"text-amber-600"}),"   "]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:aNe}),f.header.riskGuardrails&&f.header.riskGuardrails.length>0&&a.jsxs("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[a.jsxs("p",{className:"text-[11px] font-semibold text-amber-800 flex items-center gap-1",children:[a.jsx(da,{size:12}),"   "]}),a.jsx("ul",{className:"mt-1 space-y-0.5",children:f.header.riskGuardrails.map(W=>a.jsxs("li",{className:"text-[11px] text-amber-700",children:[" ",W]},W))}),Re==="AI_FIRST"?a.jsx("p",{className:"mt-2 text-[10px] font-semibold text-amber-900",children:"          ."}):null]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:"  "}),a.jsx("div",{className:"mt-1 grid grid-cols-2 gap-2",children:["HUMAN_FIRST","AI_FIRST"].map(W=>a.jsx("button",{onClick:()=>Te(W),className:ce("rounded-lg border-2 px-3 py-2 text-xs font-semibold transition-colors",Re===W?O$[W].replace("bg-","border-").split(" ")[0]+" "+O$[W]:"border-gray-200 bg-gray-50 text-gray-500"),children:Vl[W]},W))})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:"  ()"}),a.jsx("textarea",{value:H,onChange:W=>ve(W.target.value),className:"mt-1 h-20 w-full rounded-lg border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400",placeholder:"    (  )"})]}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>Xe(!1),className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:pa,disabled:!H.trim(),className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:"  "})]})]})})]})}function jNe({strategy:e,strategyBadge:t,contactExecutor:r,executionStatus:n,lastSentAt:s,lastOutcome:i,retryCount:o,linkageStatus:l,memoCount:u,lastContactAt:d,timelineCount:f,preTriage:m,riskGuardrails:h,onOpenStrategyOverride:x,mode:v="stage1"}){const[N,b]=y.useState(null),S=v==="stage3",j={NOT_STARTED:{label:"",tone:"text-gray-600"},SENT:{label:"",tone:"text-blue-700"},WAITING_RESPONSE:{label:"",tone:"text-amber-700"},RETRY_NEEDED:{label:"",tone:"text-orange-700"},HANDOFF_TO_HUMAN:{label:"",tone:"text-red-700"},PAUSED:{label:"",tone:"text-gray-600"},STOPPED:{label:"",tone:"text-red-700"},DONE:{label:"",tone:"text-emerald-700"}},A={NOT_CREATED:"",BOOKING_IN_PROGRESS:"",BOOKING_DONE:"",REFERRAL_CREATED:""},_=e==="HUMAN_FIRST"?" ":" ",E=t==="MANUAL_OVERRIDE"?"   ":"   ",C=[...(m?.triggers??[]).slice(0,4).map(R$),...(h??[]).slice(0,2)];e==="HUMAN_FIRST"&&C.length===0&&C.push("      .");const R=S?[{title:" ",value:o>=3?"HIGH":o>=1?"MID":"LOW",sub:` ${z2e(i)}   ${f}`,helperTitle:" ",helper:[` : ${Wt(d)}`,` : ${o}`,"        ."],tone:o>=3?"border-red-200 bg-red-50 text-red-700":"border-amber-200 bg-amber-50 text-amber-700",icon:ho},{title:" ",value:`${(h?.length??0)+(m?.triggers.length??0)}`,sub:"/ ",helperTitle:" ",helper:[...h?.slice(0,2)??[],...(m?.triggers??[]).slice(0,2).map(R$)].slice(0,3),tone:"border-slate-200 bg-slate-50 text-slate-700",icon:ua},{title:" ",value:j[n].label,sub:l==="NOT_CREATED"?"  ":` ${A[l]}`,helperTitle:" ",helper:[`/ : ${A[l]}`,`  : ${j[n].label}`,l==="NOT_CREATED"?"    Workboard  .":"  ."],tone:l==="NOT_CREATED"?"border-red-200 bg-red-50 text-red-700":"border-emerald-200 bg-emerald-50 text-emerald-700",icon:Mg},{title:"/",value:` ${u}`,sub:`${Wt(d)}   ${f}`,helperTitle:" ",helper:[` : ${Wt(d)}`,` : ${f}`,"     ."],tone:"border-gray-200 bg-gray-50 text-gray-700",icon:Un}]:[{title:" ",value:_,sub:`${E}  ${zs[r]}`,helperTitle:" ",helper:C.length>0?[...C.slice(0,2),`  : ${zs[r]}`]:["       .",`  : ${zs[r]}`,"       ."],tone:e==="HUMAN_FIRST"?"border-red-200 bg-red-50 text-red-700":"border-blue-200 bg-blue-50 text-blue-700",icon:ho},{title:" ",value:j[n].label,sub:i?` : ${uc[i].label}`:` ${o}`,helperTitle:" ",helper:[` /: ${Wt(s)}`,`  : ${o}`,s?"    ":"     "],tone:`border-slate-200 bg-slate-50 ${j[n].tone}`,icon:Mg},{title:"/",value:A[l],sub:s?` : ${Wt(s)}`:" ",helperTitle:" ",helper:[l==="NOT_CREATED"?"  .":` : ${A[l]}`,"       .",l==="NOT_CREATED"?"     ":"    "],tone:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:oo},{title:" ",value:` ${u}`,sub:`${Wt(d)}   ${f}`,helperTitle:" ",helper:[` : ${Wt(d)}`,` : ${f}`,f===0?"    ":"    "],tone:"border-gray-200 bg-gray-50 text-gray-700",icon:Un}];return a.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3",children:R.map((I,O)=>a.jsxs("article",{onMouseEnter:()=>b(O),onMouseLeave:()=>b(B=>B===O?null:B),onFocus:()=>b(O),onBlur:()=>b(B=>B===O?null:B),className:ce("relative rounded-xl border p-3 shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md",I.tone),children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(I.icon,{size:14}),a.jsx("p",{className:"text-[11px] font-semibold opacity-80",children:I.title})]}),O===0&&!S?a.jsx("button",{type:"button",onClick:x,className:"rounded-md border border-current/40 bg-white/70 px-2 py-0.5 text-[10px] font-semibold",children:" "}):null]}),a.jsx("p",{className:"mt-1 text-lg font-bold",children:I.value}),a.jsx("p",{className:"mt-0.5 text-[10px] opacity-70",children:I.sub}),a.jsxs("div",{className:ce("pointer-events-none absolute inset-x-2 top-[calc(100%+8px)] z-20 rounded-lg border border-slate-200 bg-white p-3 text-slate-700 shadow-lg transition-all duration-150",N===O?"translate-y-0 opacity-100":"-translate-y-1 opacity-0"),children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-900",children:I.helperTitle}),a.jsx("div",{className:"mt-1 space-y-0.5 text-[11px] text-slate-600",children:I.helper.map(B=>a.jsxs("p",{children:["- ",B]},`${I.title}-${B}`))})]})]},I.title))})}function D$({mode:e="stage1",contactExecutor:t,executionStatus:r,strategy:n,lastSentAt:s,sensitivityFlags:i,latestAgentLog:o,selectedRecommendation:l,agentJob:u,gateStatus:d,onSwitchExecutor:f,onOpen:m,onRetryNow:h,onScheduleRetry:x}){const v=e==="stage2",N=e==="stage3",b={NOT_STARTED:"",SENT:"",WAITING_RESPONSE:"",RETRY_NEEDED:"",HANDOFF_TO_HUMAN:"",PAUSED:"",STOPPED:"",DONE:""};return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Ws,{size:15,className:"text-[#15386a]"}),"/  (",N?"/":v?"2":"1",")"]}),a.jsx("span",{className:ce("rounded-full border px-2 py-0.5 text-[10px] font-semibold",yA[t]),children:zs[t]})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:t==="HUMAN"?N?"        .":v?" /     .":"/    .":N?"Agent   /  .   /  .":v?"Agent   /  .    .":"Agent   /  .    ."}),n==="AI_FIRST"?a.jsx("p",{className:"mt-1 text-[11px] text-violet-700",children:"    : Agent        "}):null,a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:["HUMAN","AGENT_SEND_ONLY"].map(S=>a.jsx("button",{onClick:()=>f(S),className:ce("rounded-md border px-2.5 py-1.5 text-[11px] font-semibold transition-colors",t===S?yA[S]:"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100"),children:zs[S]},S))}),a.jsx("button",{type:"button",onClick:m,className:ce("mt-3 h-11 w-full rounded-lg text-sm font-semibold text-white transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md",t==="HUMAN"?"bg-[#15386a] hover:bg-[#102b4e]":"bg-violet-700 hover:bg-violet-800"),children:t==="HUMAN"?N?"   ":v?" /  ":"/  ":"Agent   "}),a.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 text-[11px] text-slate-700",children:[a.jsxs("p",{children:[" : ",a.jsx("strong",{children:b[r]})]}),a.jsxs("p",{className:"mt-0.5",children:[N||v?" ":" ",": ",a.jsx("strong",{children:n==="HUMAN_FIRST"?" ":" "})]}),a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:Wt(s)})]}),a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:i.length>0?i.join(", "):"  "})]}),t==="AGENT_SEND_ONLY"?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"mt-0.5",children:["Agent  : ",a.jsx("strong",{children:iz[u.status]})]}),a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:d==="PASS"?"":d==="NEEDS_CHECK"?" ":""})]}),a.jsxs("p",{className:"mt-0.5",children:[" Agent :"," ",a.jsx("strong",{children:o?`${Wt(o.at)}  ${$T[o.result]}`:" "})]}),u.status==="FAILED"?a.jsxs("p",{className:"mt-0.5 text-red-700",children:[" : ",a.jsx("strong",{children:u.lastError??" "})]}):null,u.nextRetryAt?a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:Wt(u.nextRetryAt)})]}):null,(u.status==="FAILED"||u.status==="CANCELED")&&d==="PASS"?a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[a.jsx("button",{type:"button",onClick:h,className:"rounded-md border border-violet-200 bg-violet-50 px-2 py-1 text-[10px] font-semibold text-violet-700 hover:bg-violet-100",children:" "}),a.jsx("button",{type:"button",onClick:x,className:"rounded-md border border-slate-200 bg-white px-2 py-1 text-[10px] font-semibold text-slate-700 hover:bg-slate-100",children:" "})]}):null]}):l?a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:l.title})]}):null]})]})}function I$({linkageStatus:e,reservationInfo:t,locked:r=!1,lockReason:n,onOpenStep4:s,onAction:i,mode:o="stage1"}){const l=o==="stage3";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(qn,{size:15,className:"text-[#15386a]"}),l?"/ ":" "]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:l?" /   ()  .":" /    ."}),r?a.jsxs("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-amber-800",children:n??"    ."}),a.jsx("button",{onClick:s,className:"mt-2 rounded-md border border-amber-300 bg-white px-2.5 py-1 text-[11px] font-semibold text-amber-800 hover:bg-amber-100",children:"STEP4 "})]}):null,a.jsx("div",{className:"mt-3 space-y-2",children:Object.keys(vA).map(u=>{const d=vA[u];return a.jsxs("button",{type:"button",disabled:r,onClick:()=>i(u),className:ce("w-full rounded-lg border border-slate-200 px-3 py-2 text-left transition-colors",r?"cursor-not-allowed bg-slate-100 text-slate-400":"bg-slate-50 hover:bg-slate-100"),children:[a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:d.title}),a.jsx("p",{className:"mt-0.5 text-[11px] text-slate-600",children:d.description})]},u)})}),a.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-[11px] text-emerald-800",children:[a.jsxs("p",{children:[" / : ",a.jsx("strong",{children:tc[e]})]}),a.jsxs("p",{className:"mt-0.5",children:[" :"," ",a.jsx("strong",{children:t?fy(t):"  ."})]}),a.jsx("p",{className:"mt-0.5",children:"       ."})]})]})}function ENe({loading:e,recommendations:t,selectedId:r,editedScript:n,onSelect:s,onEditScript:i}){return a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-xs font-bold text-slate-900",children:"RAG / "}),a.jsx("span",{className:"text-[10px] text-slate-500",children:" ,    ."})]}),e?a.jsx("div",{className:"mt-2 rounded-md border border-slate-200 bg-white px-3 py-2 text-[11px] text-slate-500",children:"   ..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-2 grid grid-cols-1 gap-2",children:t.map(o=>a.jsxs("button",{onClick:()=>s(o),className:ce("rounded-lg border px-3 py-2 text-left transition-colors",r===o.id?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:o.title}),a.jsx("p",{className:"mt-0.5 text-[11px] text-slate-600",children:o.useCase}),a.jsx("div",{className:"mt-1 space-y-0.5 text-[10px] text-slate-500",children:o.evidence.slice(0,3).map(l=>a.jsxs("p",{children:["- ",l]},`${o.id}-${l}`))})]},o.id))}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-[11px] font-semibold text-slate-600",children:"  "}),a.jsx("textarea",{value:n,onChange:o=>i(o.target.value),className:"mt-1 h-20 w-full rounded-md border border-slate-200 bg-white px-2 py-1.5 text-xs outline-none focus:border-blue-400",placeholder:"    "})]})]})]})}function _Ne({draft:e,reservationInfo:t,onChange:r,onSave:n}){const s=Ad[e.route],i=e.route!=="HOLD_TRACKING";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(qn,{size:15,className:"text-blue-600"}),"STEP4  "]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"/    ."}),a.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:Object.keys(Ad).map(o=>{const l=Ad[o];return a.jsxs("button",{onClick:()=>r({...e,route:o,place:l.defaultPlace}),className:ce("rounded-lg border px-3 py-2 text-left transition-colors",e.route===o?"border-blue-300 bg-blue-50":"border-gray-200 bg-gray-50 hover:bg-gray-100"),children:[a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:l.label}),a.jsx("p",{className:"mt-0.5 text-[11px] text-slate-600",children:l.description})]},o)})}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("input",{type:"datetime-local",value:uy(e.scheduledAt),onChange:o=>r({...e,scheduledAt:dy(o.target.value)||e.scheduledAt}),disabled:!i,className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("input",{value:e.place,onChange:o=>r({...e,place:o.target.value}),disabled:!i,className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400 disabled:bg-gray-100"})]})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:"/ "}),a.jsx("input",{value:e.contactGuide,onChange:o=>r({...e,contactGuide:o.target.value}),disabled:!i,className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("input",{value:e.note,onChange:o=>r({...e,note:o.target.value}),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400"})]})]}),a.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-700",children:[a.jsxs("p",{children:[" : ",a.jsx("strong",{children:s.label})]}),a.jsx("p",{className:"mt-0.5",children:"       ."}),a.jsxs("p",{className:"mt-0.5",children:["  : ",a.jsx("strong",{children:t?fy(t):""})]})]}),a.jsx("div",{className:"mt-3 flex justify-end",children:a.jsx("button",{onClick:n,className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white",children:"  "})})]})}function ANe({logs:e}){return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Agent  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"   ( )"}),a.jsx("div",{className:"mt-3 space-y-2",children:e.length===0?a.jsx("p",{className:"rounded-md border border-gray-200 bg-gray-50 px-3 py-2 text-[11px] text-gray-500",children:"           ."}):e.slice(0,4).map(t=>a.jsxs("div",{className:"rounded-md border border-violet-200 bg-violet-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-violet-800",children:$T[t.result]}),a.jsx("p",{className:"mt-0.5 text-[11px] text-violet-700",children:t.summary}),a.jsxs("p",{className:"mt-0.5 text-[10px] text-violet-600",children:[Wt(t.at),t.recommendationTitle?`   ${t.recommendationTitle}`:""]})]},t.id))})]})}function CNe({flowCards:e,onAction:t,mode:r="stage1"}){const n=r==="stage2"?"Stage2  ":r==="stage3"?"Stage3  ":"Stage1  ",s=e.filter(i=>i.status==="COMPLETED").length;return a.jsxs("section",{className:"relative z-10 rounded-2xl border border-gray-200 bg-gradient-to-b from-white to-slate-50 p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Mg,{size:15,className:"text-blue-600"}),n]}),a.jsxs("span",{className:"text-[11px] text-gray-500",children:[s,"/",e.length,"  "]})]}),a.jsx("div",{className:"mt-4 overflow-x-auto overflow-y-visible pt-1 pb-3",children:a.jsx("ol",{className:"relative z-10 mx-auto flex w-max items-stretch justify-center gap-3 px-2",children:e.map((i,o)=>{const l=hNe[i.status],u=l.icon,d=Og(e,i.id),f=!!d;return a.jsxs(z.Fragment,{children:[a.jsx("li",{className:"shrink-0 py-1",children:a.jsxs("button",{type:"button",onClick:()=>{if(f){Ye.error(d??"    .");return}t(i.action)},"aria-disabled":f,title:f?d??void 0:void 0,className:ce("group relative z-0 w-[230px] transform-gpu rounded-2xl border p-4 text-left transition-all duration-200 ease-out focus-visible:z-20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-300",l.cardTone,!f&&"hover:z-20 hover:-translate-y-0.5 hover:scale-[1.02]",f&&"cursor-not-allowed opacity-75 saturate-75",!f&&i.isCurrent&&"ring-2 ring-offset-1 ring-blue-300 motion-safe:animate-pulse"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-semibold tracking-wide text-slate-500",children:["STEP ",o+1]}),a.jsx("span",{className:ce("rounded-full px-2 py-0.5 text-[10px] font-semibold",l.chipTone),children:l.label})]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(u,{size:14,className:"shrink-0"}),a.jsx("p",{className:"text-sm font-bold tracking-tight",children:i.title})]}),a.jsx("p",{className:"mt-1 text-[11px] text-slate-600",children:i.description}),a.jsx("p",{className:"mt-2 text-xs font-semibold text-slate-800",children:i.metricLabel}),a.jsxs("div",{className:ce("mt-2 rounded-lg border px-2.5 py-2 text-[11px] leading-relaxed",l.reasonTone),children:[a.jsx("p",{className:"font-semibold",children:" "}),a.jsx("p",{className:"mt-0.5",children:i.reason})]}),f?a.jsxs("div",{className:"mt-2 rounded-lg border border-amber-300 bg-amber-50 px-2.5 py-2 text-[11px] leading-relaxed text-amber-900",children:[a.jsx("p",{className:"font-semibold",children:"  "}),a.jsx("p",{className:"mt-0.5",children:d})]}):a.jsxs("div",{className:"mt-2 max-h-0 overflow-hidden rounded-lg border border-dashed border-slate-300 bg-white/70 px-2.5 py-0 text-[11px] text-slate-700 opacity-0 transition-all duration-200 group-hover:max-h-24 group-hover:py-2 group-hover:opacity-100 group-focus-visible:max-h-24 group-focus-visible:py-2 group-focus-visible:opacity-100",children:[a.jsx("p",{className:"font-semibold text-slate-800",children:" "}),a.jsx("p",{className:"mt-0.5",children:i.nextActionHint})]}),a.jsx("span",{className:"mt-2 inline-flex rounded-md border border-current/40 px-2.5 py-1 text-[11px] font-semibold",children:f?"  ":" "})]})}),o<e.length-1?a.jsx("li",{className:"flex shrink-0 items-center text-slate-300","aria-hidden":"true",children:a.jsx(vs,{size:18})}):null]},i.id)})})}),a.jsx("p",{className:"mt-3 text-[11px] text-gray-500",children:r==="stage3"?"      .    .":"       .     ."})]})}function TNe({mode:e="stage1",execution:t,strategy:r,preTriageReady:n,strategyDecided:s,hasVulnerableGuardrail:i,linkageStatus:o,onOpenSmsModal:l,onOpenOutcomeTriage:u,onOpenHandoffMemo:d,onOpenStrategyOverride:f}){const m=e==="stage2",h=e==="stage3",x=[],v=[];return n||x.push({label:h?"    ":m?"2    ":"    ",action:f,tone:"bg-red-600 text-white hover:bg-red-700"}),(!s||i)&&x.push({label:h?" / ":m?"/ ":"  / ",action:f,tone:"bg-amber-600 text-white hover:bg-amber-700"}),(t.status==="NOT_STARTED"||t.status==="RETRY_NEEDED")&&x.push({label:h?"  /":m?`   (${r==="HUMAN_FIRST"?" ":" "})`:`1   (${r==="HUMAN_FIRST"?" ":" "})`,action:l,tone:"bg-[#15386a] text-white hover:bg-[#102b4e]"}),(t.status==="SENT"||t.status==="WAITING_RESPONSE")&&x.push({label:h?" / ":m?"/  ":"  ",action:u,tone:"bg-blue-600 text-white hover:bg-blue-700"}),(t.status==="HANDOFF_TO_HUMAN"||t.status==="PAUSED")&&x.push({label:h?"  / ":m?" / ":"   /",action:d,tone:"bg-red-600 text-white hover:bg-red-700"}),t.status==="STOPPED"&&v.push({label:h?" (/) ":m?"/  ":"   ",action:d,tone:"border-red-200 bg-red-50 text-red-700 hover:bg-red-100"}),t.status==="RETRY_NEEDED"&&v.push({label:h?" /  ":m?"   ":"    ",action:l,tone:"border-orange-200 bg-orange-50 text-orange-700 hover:bg-orange-100"}),(o==="BOOKING_IN_PROGRESS"||o==="REFERRAL_CREATED")&&v.push({label:h?"/   ":m?"/   ":"/   ",action:d,tone:"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Mg,{size:15,className:"text-orange-600"}),"  "]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"     "}),x.length>0&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-red-700",children:"P1   "}),x.map(N=>a.jsx("button",{onClick:N.action,className:ce("w-full rounded-lg border px-3 py-2.5 text-xs font-semibold transition-colors",N.tone),children:N.label},N.label))]}),v.length>0&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-blue-700",children:"P2   "}),v.map(N=>a.jsx("button",{onClick:N.action,className:ce("w-full rounded-lg border px-3 py-2 text-xs font-semibold transition-colors",N.tone),children:N.label},N.label))]}),t.lastOutcomeCode&&a.jsx("div",{className:"mt-3 rounded-md border border-gray-100 bg-gray-50 px-3 py-2",children:a.jsxs("p",{className:"text-[11px] text-gray-600",children:[" : ",a.jsx("strong",{children:uc[t.lastOutcomeCode].label})]})})]})}function Aj({expanded:e,onToggle:t,selectedOutcomeCode:r,onSelectOutcomeCode:n,rejectReasonDraft:s,onRejectReasonDraftChange:i,outcomeNote:o,onOutcomeNoteChange:l,isSaving:u,submitError:d,onClearError:f,onConfirm:m,mode:h="stage1"}){const x=h==="stage3";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(ic,{size:15,className:"text-blue-600"}),x?"   ()":"  "]}),a.jsx("button",{onClick:t,className:"rounded-md border border-gray-200 px-2 py-1 text-[11px] font-semibold text-gray-600 hover:bg-gray-50",children:e?"":""})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:x?"/     .":"     "}),e?a.jsxs("div",{className:"mt-3 space-y-3",children:[d?a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-3 py-2",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("p",{className:"text-[11px] font-semibold text-red-700",children:[" : ",d]}),a.jsx("button",{onClick:f,className:"rounded border border-red-200 px-1.5 py-0.5 text-[10px] font-semibold text-red-700 hover:bg-red-100",children:""})]})}):null,a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(uc).map(v=>{const N=uc[v];return v==="REFUSE"?a.jsxs("div",{className:"group/refuse relative",children:[a.jsx("button",{onClick:()=>{f(),n(v)},className:ce("w-full rounded-lg border-2 px-3 py-2 text-left transition-colors",r===v?`${N.tone} border-current`:"border-gray-200 bg-gray-50 hover:bg-gray-100"),children:a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:N.label})}),a.jsxs("div",{className:ce("pointer-events-none absolute left-0 top-[calc(100%+6px)] z-40 w-[320px] rounded-lg border border-red-200 bg-white p-3 shadow-xl transition-all","opacity-0 translate-y-1","group-hover/refuse:pointer-events-auto group-hover/refuse:opacity-100 group-hover/refuse:translate-y-0","group-focus-within/refuse:pointer-events-auto group-focus-within/refuse:opacity-100 group-focus-within/refuse:translate-y-0"),children:[a.jsx("p",{className:"text-[11px] font-semibold text-red-700",children:"   ( )"}),a.jsx("p",{className:"mt-0.5 text-[10px] text-gray-500",children:"    ."}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-[10px] font-semibold text-gray-600",children:" "}),a.jsxs("select",{value:s.code??"",onChange:b=>{f();const S=b.target.value||null;i({...s,code:S})},className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-2 py-1.5 text-[11px] outline-none focus:border-red-300",children:[a.jsx("option",{value:"",children:" "}),lNe.map(b=>a.jsx("option",{value:b.code,children:b.label},b.code))]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-[10px] font-semibold text-gray-600",children:" "}),a.jsx("div",{className:"mt-1 grid grid-cols-2 gap-1",children:cNe.map(b=>a.jsx("button",{type:"button",onClick:()=>{f(),i({...s,level:b.value})},className:ce("rounded-md border px-2 py-1 text-[10px] font-semibold",s.level===b.value?"border-red-300 bg-red-50 text-red-700":"border-gray-200 bg-gray-50 text-gray-600"),children:b.label},b.value))})]}),s.code==="R7_OTHER"?a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-[10px] font-semibold text-gray-600",children:"  ()"}),a.jsx("textarea",{value:s.detail,onChange:b=>{f(),i({...s,detail:b.target.value})},className:"mt-1 h-14 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-red-300"})]}):null]})]},v):a.jsx("button",{onClick:()=>{f(),n(v)},className:ce("rounded-lg border-2 px-3 py-2 text-left transition-colors",r===v?`${N.tone} border-current`:"border-gray-200 bg-gray-50 hover:bg-gray-100"),children:a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:N.label})},v)})}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:" ()"}),a.jsx("textarea",{value:o,onChange:v=>{f(),l(v.target.value)},className:"mt-1 h-16 w-full rounded-md border border-gray-200 px-2 py-1 text-xs outline-none focus:border-blue-400",placeholder:"   "})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{n(null),l(""),i({code:null,level:"TEMP",detail:"",createFollowupEvent:!1,followupAt:at(168)})},className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:m,disabled:!r||u,className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:u?" ...":""})]})]}):null]})}function M$({expanded:e,onToggle:t,memoText:r,onMemoChange:n,onSave:s,mode:i="stage1"}){const o=i==="stage3";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(WW,{size:15,className:"text-blue-600"}),o?" / ":"  "]}),a.jsx("button",{onClick:t,className:"rounded-md border border-gray-200 px-2 py-1 text-[11px] font-semibold text-gray-600 hover:bg-gray-50",children:e?"":""})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:o?" /   .":"     "}),e?a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("textarea",{value:r,onChange:l=>n(l.target.value),className:"h-40 w-full rounded-md border border-gray-200 px-3 py-2 text-xs font-mono outline-none focus:border-blue-400",placeholder:`[ ]
 ( ): ...
: ...
 : ...
 : ...
  : ...`}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:s,disabled:!r.trim(),className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:""})})]}):null]})}function kNe({gates:e,onFix:t,mode:r="stage1"}){const n=r==="stage3",s=new Map(e.map(j=>[j.key,j])),o=["CONSENT_OK","PHONE_VERIFIED","GUARDIAN_OPTIONAL"].map(j=>s.get(j)).filter(j=>!!j),l=s.get("CONSENT_OK"),u=s.get("PHONE_VERIFIED"),d=s.get("GUARDIAN_OPTIONAL"),f=u?.status==="PASS"?"OK":u?.status==="FAIL"&&C$(u.failReason)?"RESTRICTED":"NEEDS_CHECK",m=l?.status==="FAIL"?"RESTRICTED":u?.status==="PASS"?"OK":u?.status==="FAIL"&&C$(u.failReason)?"RESTRICTED":"NEEDS_CHECK",h=d?.status==="PASS"?"OK":d?.status==="FAIL"?"RESTRICTED":"NEEDS_CHECK",x=f==="OK"?Uc(f):u?.failReason??Uc(f),v=m==="OK"?Uc(m):l?.status==="FAIL"?l.failReason??Uc(m):u?.failReason??Uc(m),N=h==="OK"?Uc(h):d?.failReason??Uc(h),b=[{key:"CALL",label:"",state:f,detail:x,actionLabel:f==="NEEDS_CHECK"?" ":f==="RESTRICTED"?"  ":void 0,onAction:f==="NEEDS_CHECK"&&u?.fixAction?.action==="VERIFY_PHONE"?()=>t(u):f==="RESTRICTED"?()=>Ye.error(x):void 0},{key:"SMS",label:"",state:m,detail:v,actionLabel:m==="NEEDS_CHECK"?"  ":m==="RESTRICTED"?"  ":void 0,onAction:m==="NEEDS_CHECK"?()=>Ye("    ."):m==="RESTRICTED"?()=>Ye.error(v):void 0},{key:"GUARDIAN",label:"",state:h,detail:N,actionLabel:h==="RESTRICTED"?"  ":h==="NEEDS_CHECK"&&d?.fixAction?d.fixAction.label:void 0,onAction:h==="RESTRICTED"?()=>Ye.error(N):h==="NEEDS_CHECK"&&d?.fixAction?()=>t(d):void 0}],S=b.some(j=>j.state==="RESTRICTED")?"RESTRICTED":b.some(j=>j.state==="NEEDS_CHECK")?"NEEDS_CHECK":"OK";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Hp,{size:15,className:"text-slate-500"}),n?"  ":"  "]}),a.jsx("span",{className:"text-[11px] text-gray-500",children:n?"   Step2 .":"     "})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2",children:[o.map(j=>a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:j.label}),a.jsx("span",{className:ce("rounded px-2 py-0.5 text-[10px] font-semibold",X2e(j.status)),children:j.status==="PASS"?"":j.status==="FAIL"?"":" "})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:j.failReason??"  "}),j.fixAction&&j.status!=="PASS"&&a.jsxs("button",{onClick:()=>t(j),className:"mt-2 inline-flex items-center gap-1 rounded-md border border-blue-200 bg-blue-50 px-2 py-1 text-[11px] font-semibold text-blue-700 hover:bg-blue-100",children:[a.jsx(ic,{size:11})," ",j.fixAction.label]})]},j.key)),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:"  "}),a.jsx("span",{className:ce("rounded px-2 py-0.5 text-[10px] font-semibold",_$(S)),children:A$(S)})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"//   "}),a.jsx("div",{className:"mt-2 space-y-2",children:b.map(j=>a.jsxs("div",{className:"rounded-md border border-gray-100 bg-white px-2.5 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-700",children:j.label}),a.jsx("span",{className:ce("rounded px-2 py-0.5 text-[10px] font-semibold",_$(j.state)),children:A$(j.state)})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:j.detail}),j.onAction&&j.actionLabel?a.jsxs("button",{onClick:j.onAction,className:"mt-1.5 inline-flex items-center gap-1 rounded-md border border-blue-200 bg-blue-50 px-2 py-1 text-[11px] font-semibold text-blue-700 hover:bg-blue-100",children:[a.jsx(ic,{size:11})," ",j.actionLabel]}):null]},j.key))})]})]}),a.jsxs("p",{className:"mt-3 text-[11px] text-gray-500",children:["    : ",n?"/     ":"/     "]})]})}function L$({evidence:e,quality:t,mode:r="stage1"}){const n=r==="stage3";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Dd,{size:15,className:"text-slate-500"}),n?"  ( )":"  "]}),a.jsxs("span",{className:"text-[11px] text-gray-500",children:["  ",Wt(e.computedAt),"  ",e.version]})]}),a.jsx("div",{className:"mt-3 space-y-2",children:e.topFactors.slice(0,3).map(s=>a.jsxs("div",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:s.title}),s.isMissing&&a.jsx("span",{className:"rounded bg-red-100 px-1.5 py-0.5 text-[10px] font-semibold text-red-700",children:" "})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:s.description}),a.jsxs("p",{className:"mt-1 text-[10px] text-gray-400",children:[": ",Wt(s.recency)]})]},s.title))}),a.jsxs("div",{className:"mt-3 rounded-md border border-gray-100 bg-white px-3 py-2 text-[11px] text-gray-600",children:[a.jsx("p",{children:" :  48   "}),a.jsxs("p",{title:"   ,  ,    .",children:[" : ",t.score,"% (  )"]}),a.jsxs("p",{children:[" : ",t.notes?.join(", ")??""]}),n?a.jsx("p",{children:" :       ."}):null]})]})}function NA({risk:e,stageBadge:t,threshold:r=60}){const n=y.useId().replace(/:/g,""),s=e.series.map(m=>{const h=m.event??(m.source==="manual"?"REEVAL":void 0),x=h==="DIFF_RESULT_APPLIED"?" ":h==="PLAN_UPDATED"?" ":h==="REEVAL"?"":void 0,v=(()=>{const b=new Date(m.t);if(!Number.isNaN(b.getTime())){const S=String(b.getMonth()+1).padStart(2,"0"),j=String(b.getDate()).padStart(2,"0");return`${S}-${j}`}return m.t.slice(5,10)})(),N=Jo(m.risk2y);return{t:m.t,axisLabel:v,riskPct:N,riskHighPct:N>=r?N:null,ciLowPct:m.ciLow==null?void 0:Jo(m.ciLow),ciHighPct:m.ciHigh==null?void 0:Jo(m.ciHigh),eventLabel:x}}),i=s.some(m=>m.ciLowPct!=null&&m.ciHighPct!=null),o=s[s.length-1],l=s.filter(m=>!!m.eventLabel).slice(-3),u=(()=>{if(s.length<4)return"      .";const m=s.slice(-4),h=m.slice(1).map((b,S)=>b.riskPct-m[S].riskPct),x=h.filter(b=>b>0).length,v=h.filter(b=>b<0).length;return Math.max(...h.map(b=>Math.abs(b)))>=10?" 3  . /    .":x>=2?" 3    .":v>=2?" 3    .":"     ."})(),d=t==="COMPLETED"?" :   ":t==="SCHEDULED"?" :  ":t==="REFERRED"?" :  ":t==="RECOMMENDED"?" :  ":" :  ",f=({active:m,payload:h,label:x})=>{if(!m||!h||h.length===0)return null;const v=h[0]?.payload;return v?a.jsxs("div",{className:"rounded-md border border-slate-200 bg-white px-2 py-1.5 text-[10px] shadow-sm",children:[a.jsxs("p",{className:"font-semibold text-slate-800",children:[v.axisLabel,"    "]}),a.jsxs("p",{className:"mt-0.5 text-slate-700",children:["2 () ",v.riskPct,"%"]}),v.ciLowPct!=null&&v.ciHighPct!=null?a.jsxs("p",{className:"text-slate-500",children:[" ",v.ciLowPct,"% ~ ",v.ciHighPct,"%"]}):null,v.eventLabel?a.jsxs("p",{className:"text-slate-500",children:[" ",v.eventLabel]}):null,x?a.jsx("p",{className:"text-slate-400",children:x}):null]}):null};return a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50 px-2 py-2",children:[a.jsx("div",{className:"h-52 w-full",children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Eh,{data:s,margin:{top:10,right:20,left:0,bottom:4},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`risk-grad-${n}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#60a5fa",stopOpacity:.35}),a.jsx("stop",{offset:"100%",stopColor:"#60a5fa",stopOpacity:.05})]})}),a.jsx(kn,{stroke:"#e5e7eb",strokeDasharray:"4 4"}),a.jsx(en,{dataKey:"t",tick:{fontSize:10,fill:"#64748b"},axisLine:!1,tickLine:!1,interval:"preserveStartEnd",tickMargin:8,tickFormatter:m=>{const h=new Date(m);if(Number.isNaN(h.getTime()))return m.slice(5,10);const x=String(h.getMonth()+1).padStart(2,"0"),v=String(h.getDate()).padStart(2,"0");return`${x}-${v}`}}),a.jsx($r,{domain:[0,100],ticks:[0,25,50,75,100],tickFormatter:m=>`${m}%`,tick:{fontSize:10,fill:"#64748b"},axisLine:!1,tickLine:!1,width:34}),a.jsx(pr,{content:a.jsx(f,{})}),a.jsx(wh,{y1:r,y2:100,fill:"#fecaca",fillOpacity:.35}),a.jsx(Vs,{y:r,stroke:"#dc2626",strokeDasharray:"4 3"}),l.map((m,h)=>a.jsx(Vs,{x:m.t,stroke:"#94a3b8",strokeDasharray:"3 3",label:{value:m.eventLabel,position:"insideTop",fill:"#64748b",fontSize:9}},`event-${m.t}-${h}`)),i?a.jsx(Ci,{type:"monotone",dataKey:"ciHighPct",stroke:"none",fill:"#bfdbfe",fillOpacity:.28,isAnimationActive:!1}):null,i?a.jsx(bn,{type:"monotone",dataKey:"ciLowPct",stroke:"#60a5fa",strokeDasharray:"4 3",strokeWidth:1,dot:!1,isAnimationActive:!1}):null,a.jsx(Ci,{type:"monotone",dataKey:"riskPct",stroke:"none",fill:`url(#risk-grad-${n})`,isAnimationActive:!1}),a.jsx(bn,{type:"monotone",dataKey:"riskPct",stroke:"#64748b",strokeWidth:2,isAnimationActive:!1,dot:m=>{if(m.cx==null||m.cy==null)return null;const h=Number(m.payload?.riskPct??0)>=r;return a.jsx("circle",{cx:m.cx,cy:m.cy,r:h?4:3,fill:h?"#dc2626":"#64748b",stroke:"#ffffff",strokeWidth:1.2})},activeDot:{r:5}}),a.jsx(bn,{type:"monotone",dataKey:"riskHighPct",stroke:"#dc2626",strokeWidth:2.8,dot:!1,connectNulls:!1,isAnimationActive:!1}),o?a.jsx(Sh,{x:o.t,y:o.riskPct,r:5,fill:"#dc2626",stroke:"#fff",strokeWidth:1.5,label:{value:`${o.axisLabel} ${o.riskPct}%`,position:"top",fill:"#991b1b",fontSize:10}}):null]})})}),o?a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:["  ",o.axisLabel,"  ",o.riskPct,"%   ",e.modelVersion]}):null,a.jsx("p",{className:"mt-0.5 text-[10px] text-slate-600",children:d}),a.jsx("p",{className:"mt-0.5 text-[10px] text-slate-500",children:u})]})}function ONe({scoreSummary:e,modelPriorityValue:t,modelPriorityMeta:r,contactPriority:n,interventionLevel:s,stage3Risk:i,stage3DiffPathStatus:o,stage3RiskReviewedAt:l,onStage3MarkRiskReviewed:u,mode:d="stage1"}){const f=d==="stage2",m=d==="stage3",h=Math.max(0,Math.min(100,t)),x=Math.max(1,100-h),v=h>=85?"":h>=65?"":h>=45?"":"",N=v===""?"text-red-600":v===""?"text-orange-600":v===""?"text-blue-600":"text-emerald-600",b=[{key:"",range:"0-44",tone:"border-emerald-300 bg-emerald-50 text-emerald-700",dot:"bg-emerald-500",guide:"/"},{key:"",range:"45-64",tone:"border-blue-300 bg-blue-50 text-blue-700",dot:"bg-blue-500",guide:"  "},{key:"",range:"65-84",tone:"border-orange-300 bg-orange-50 text-orange-700",dot:"bg-orange-500",guide:"  "},{key:"",range:"85-100",tone:"border-red-300 bg-red-50 text-red-700",dot:"bg-red-500",guide:"24  "}];return m&&i?a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"2 AD   ( )"}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:"           ."})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{className:"rounded-full border border-blue-200 bg-blue-50 px-2.5 py-1 text-[11px] font-semibold text-blue-700",children:["2  ",Jo(i.risk2y_now),"%"]}),a.jsxs("span",{className:"rounded-full border border-indigo-200 bg-indigo-50 px-2.5 py-1 text-[11px] font-semibold text-indigo-700",children:[" ",i.risk2y_label]}),a.jsxs("span",{className:ce("rounded-full border px-2.5 py-1 text-[11px] font-semibold",n.tone),children:["  ",n.label]})]})]}),a.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2 xl:grid-cols-5",children:e.map(S=>a.jsxs("article",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-gray-500",children:S.label}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-900",children:[S.value,S.unit?a.jsx("span",{className:"ml-0.5 text-xs text-gray-400",children:S.unit}):null]}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",Wt(S.updatedAt)]}),S.flags?.length?a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:S.flags.map(j=>a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-semibold text-amber-700",children:j},`${S.label}-${j}`))}):a.jsx("span",{className:"mt-1 inline-flex rounded bg-emerald-100 px-1.5 py-0.5 text-[10px] font-semibold text-emerald-700",children:""})]},S.label))}),a.jsxs("div",{className:"mt-4 rounded-xl border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-indigo-900",children:"  (6)"}),a.jsxs("p",{className:"text-[11px] text-indigo-700",children:[" ",i.trend,"   ",Wt(i.updatedAt),"   ",i.modelVersion]})]}),a.jsx("button",{type:"button",onClick:u,className:"rounded-md border border-indigo-300 bg-white px-2.5 py-1 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100",children:l?"   ":"   "})]}),a.jsx("div",{className:"mt-2",children:a.jsx(NA,{risk:i,stageBadge:o})}),a.jsx("p",{className:"mt-2 text-[11px] text-indigo-700",children:i.variabilityNote??" :     //  ."})]}),a.jsxs("details",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[a.jsx("summary",{className:"cursor-pointer text-[11px] font-semibold text-slate-800",children:" () "}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-4 xl:grid-cols-[210px,1fr]",children:[a.jsxs("div",{className:"rounded-lg border border-white bg-white px-3 py-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-gray-500",children:"   /  "}),a.jsxs("p",{className:ce("mt-1 text-3xl font-black",N),children:[h," ",a.jsxs("span",{className:"text-lg font-bold text-slate-600",children:["/ ",s]})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsx("span",{className:ce("rounded-full border px-2 py-0.5 text-[10px] font-semibold",r.tone),children:v}),a.jsxs("span",{className:"text-[10px] font-semibold text-gray-500",children:[" ",x,"% "]})]})]}),a.jsx("div",{className:"rounded-lg border border-white bg-white px-3 py-3",children:a.jsx("div",{className:"grid grid-cols-2 gap-2 lg:grid-cols-4",children:b.map(S=>{const j=S.key===v;return a.jsxs("div",{className:ce("rounded-lg border px-2 py-2 transition-colors",j?S.tone:"border-gray-200 bg-gray-50 text-gray-500"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[11px] font-bold",children:S.key}),a.jsx("span",{className:ce("h-2 w-2 rounded-full",j?S.dot:"bg-gray-300")})]}),a.jsx("p",{className:"mt-0.5 text-[10px] font-semibold",children:S.range}),a.jsx("p",{className:"mt-1 text-[10px]",children:S.guide})]},S.key)})})})]})]})]}):a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:f?"2   ":"1  "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:ce("rounded-full border px-2.5 py-1 text-[11px] font-semibold",n.tone),children:[f?" ":" "," ",n.label]}),a.jsxs("span",{className:ce("rounded-full border px-2.5 py-1 text-[11px] font-semibold",r.tone),children:[f?"  ":"  "," ",r.label," ",t]})]})]}),a.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2 xl:grid-cols-4",children:e.map(S=>a.jsxs("article",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-gray-500",children:S.label}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-900",children:[S.value,S.unit?a.jsx("span",{className:"ml-0.5 text-xs text-gray-400",children:S.unit}):null]}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",Wt(S.updatedAt)]})]},S.label))}),a.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-[11px] text-slate-700",children:[a.jsxs("span",{className:"relative inline-flex items-center gap-1 font-semibold group",children:[f?"   Bullet Chart":"  Bullet Chart",a.jsx(ua,{size:13,className:"text-slate-400"}),a.jsxs("span",{className:"pointer-events-none absolute left-0 top-[calc(100%+8px)] z-30 w-64 rounded-lg border border-slate-200 bg-white p-2 text-[11px] text-slate-600 opacity-0 shadow-md transition-opacity duration-150 group-hover:opacity-100 group-focus-within:opacity-100",children:[a.jsx("span",{className:"block font-semibold text-slate-900",children:"  "}),a.jsx("span",{className:"mt-1 block",children:"- //   ."}),a.jsx("span",{className:"block",children:"-     ."}),a.jsx("span",{className:"block",children:"-  (///)   ."})]})]}),a.jsx("span",{children:r.guide})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-4 xl:grid-cols-[210px,1fr]",children:[a.jsxs("div",{className:"rounded-lg border border-white bg-white px-3 py-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-gray-500",children:"   /  "}),a.jsxs("p",{className:ce("mt-1 text-3xl font-black",N),children:[h," ",a.jsxs("span",{className:"text-lg font-bold text-slate-600",children:["/ ",s]})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsx("span",{className:ce("rounded-full border px-2 py-0.5 text-[10px] font-semibold",r.tone),children:v}),a.jsxs("span",{className:"text-[10px] font-semibold text-gray-500",children:[" ",x,"% "]})]})]}),a.jsxs("div",{className:"rounded-lg border border-white bg-white px-3 py-3",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2 lg:grid-cols-4",children:b.map(S=>{const j=S.key===v;return a.jsxs("div",{className:ce("rounded-lg border px-2 py-2 transition-colors",j?S.tone:"border-gray-200 bg-gray-50 text-gray-500"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[11px] font-bold",children:S.key}),a.jsx("span",{className:ce("h-2 w-2 rounded-full",j?S.dot:"bg-gray-300")})]}),a.jsx("p",{className:"mt-0.5 text-[10px] font-semibold",children:S.range}),a.jsx("p",{className:"mt-1 text-[10px]",children:S.guide})]},S.key)})}),a.jsxs("div",{className:"mt-2 rounded-md border border-gray-100 bg-gray-50 px-2 py-1.5 text-[11px] text-gray-600",children:[" : ",a.jsx("span",{className:ce("font-bold",N),children:v}),"   ",h," / ",s]})]})]})]})]})}function $$({timeline:e,filter:t,onFilterChange:r,listClassName:n,mode:s="stage1"}){const i=s==="stage3";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Un,{size:15,className:"text-slate-500"}),i?"/// ":"// "]}),a.jsx("div",{className:"flex items-center gap-1 rounded-lg border border-gray-200 bg-gray-50 p-1 text-[11px] font-semibold",children:[{key:"ALL",label:""},{key:"CALL",label:""},{key:"SMS",label:""},{key:"STATUS",label:""}].map(o=>a.jsx("button",{onClick:()=>r(o.key),className:ce("rounded-md px-2 py-1 transition-colors",t===o.key?"bg-white text-slate-900 shadow-sm":"text-gray-500 hover:bg-white"),children:o.label},o.key))})]}),a.jsx("div",{className:ce("mt-3 space-y-2",n),children:e.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:i?"           .":"   ."}):e.map((o,l)=>a.jsxs("div",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:az(o)}),a.jsx("span",{className:"text-[11px] text-gray-500",children:Wt(o.at)})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:sz(o)}),a.jsxs("p",{className:"mt-1 text-[10px] text-gray-400",children:[": ",o.by]})]},`${o.type}-${o.at}-${l}`))}),a.jsx("p",{className:"mt-3 text-[11px] text-gray-500",children:i?"    : ///       ":"    :  3    "})]})}function Cj({level:e,statusLabel:t,guides:r,onChangeLevel:n,onHold:s,onExclude:i,mode:o="stage1"}){const l=o==="stage3";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Dd,{size:15,className:"text-slate-500"}),l?"  ( )":"  ( )"]}),a.jsx("div",{className:"mt-3 space-y-2",children:r.map(u=>a.jsxs("button",{onClick:()=>n(u.level),title:`${u.purpose} /  : ${u.whenToUse}`,className:ce("w-full rounded-lg border px-3 py-2 text-left transition-colors",u.level===e?u.tone:"border-gray-200 bg-gray-50 hover:bg-gray-100"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs font-semibold",children:[u.level,"  ",u.label]}),u.level===e?a.jsx(oo,{size:13}):null]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:u.purpose})]},u.level))}),a.jsx("div",{className:"mt-3 rounded-md border border-gray-100 bg-gray-50 p-2",children:a.jsxs("p",{className:"text-[11px] text-gray-600",children:[" : ",a.jsx("strong",{children:t})]})}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:s,className:"inline-flex items-center justify-center gap-1 rounded-md border border-orange-200 bg-orange-50 px-2 py-1.5 text-[11px] font-semibold text-orange-700",children:[a.jsx(_W,{size:12})," "]}),a.jsxs("button",{onClick:i,className:"inline-flex items-center justify-center gap-1 rounded-md border border-red-200 bg-red-50 px-2 py-1.5 text-[11px] font-semibold text-red-700",children:[a.jsx(WK,{size:12}),"  "]})]})]})}function RNe({draft:e,onClose:t,onChangeReason:r,onConfirm:n}){return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/35 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white p-4 shadow-2xl",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:e.title}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"     ."}),a.jsx("textarea",{value:e.reason,onChange:s=>r(s.target.value),className:"mt-3 h-24 w-full rounded-lg border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400",placeholder:"  "}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{onClick:t,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:n,disabled:!e.reason.trim(),className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:e.confirmLabel})]})]})}):null}function PNe({draft:e,loading:t,onClose:r,onChangeResult:n,onChangeNote:s,onConfirm:i}){if(!e)return null;const o=[{value:"SUCCESS",label:" "},{value:"NO_ANSWER",label:""},{value:"REJECTED",label:""},{value:"WRONG_NUMBER",label:" "}],l=[{value:"DELIVERED",label:" "},{value:"FAILED",label:" "},{value:"PENDING",label:" "}];return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/35 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white p-4 shadow-2xl",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:e.title}),e.mode==="CALL"?a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" : ",String(Math.floor(e.durationSec/60)).padStart(2,"0"),":",String(e.durationSec%60).padStart(2,"0")]}):a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e.scheduled?"   ":"   "}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("select",{value:e.result,onChange:u=>n(u.target.value),className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-2 py-2 text-xs outline-none focus:border-blue-400",children:(e.mode==="CALL"?o:l).map(u=>a.jsx("option",{value:u.value,children:u.label},u.value))})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("textarea",{value:e.note,onChange:u=>s(u.target.value),className:"mt-1 h-20 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400",placeholder:"  "})]}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{onClick:r,disabled:t,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 disabled:opacity-50",children:""}),a.jsx("button",{onClick:i,disabled:t,className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:t?" ...":""})]})]})})}function DNe({open:e,draft:t,saving:r,errorMessage:n,note:s,retryCount:i,lastContactAt:o,slaLevel:l,currentLevel:u,priorityValue:d,onClose:f,onChange:m,onChangeNote:h,onConfirm:x}){if(!e)return null;const v=l!=="OK"||i>=2||d>=85,N=!!(t.strategy&&t.nextContactAt);return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/35 p-4",children:a.jsxs("div",{className:"w-full max-w-xl rounded-xl border border-gray-200 bg-white p-4 shadow-2xl",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"  "}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"       ."}),n?a.jsxs("p",{className:"mt-2 rounded-md border border-red-200 bg-red-50 px-2 py-1.5 text-[11px] font-semibold text-red-700",children:[" : ",n]}):null,a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 rounded-md border border-gray-200 bg-gray-50 p-3 text-[11px]",children:[a.jsxs("p",{className:"text-gray-600",children:[" : ",a.jsxs("strong",{className:"text-slate-900",children:[i,""]})]}),a.jsxs("p",{className:"text-gray-600",children:[" SLA: ",a.jsx("strong",{className:"text-slate-900",children:Y2e(l)})]}),a.jsxs("p",{className:"text-gray-600",children:[" : ",a.jsx("strong",{className:"text-slate-900",children:Wt(o)})]}),a.jsxs("p",{className:"text-gray-600",children:["  : ",a.jsx("strong",{className:"text-slate-900",children:u})]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-gray-600",children:"  ()"}),a.jsx("div",{className:"mt-1 grid grid-cols-1 gap-1.5 md:grid-cols-2",children:uNe.map(b=>a.jsxs("button",{onClick:()=>m({...t,strategy:b.value}),className:ce("rounded-md border px-2.5 py-2 text-left",t.strategy===b.value?"border-blue-300 bg-blue-50 text-blue-700":"border-gray-200 bg-gray-50 text-gray-700"),children:[a.jsx("p",{className:"text-xs font-semibold",children:b.label}),a.jsx("p",{className:"mt-0.5 text-[10px] text-gray-500",children:b.hint})]},b.value))})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:"   ()"}),a.jsx("input",{type:"datetime-local",value:uy(t.nextContactAt),onChange:b=>{const S=dy(b.target.value);m({...t,nextContactAt:S||t.nextContactAt})},className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400"}),a.jsx("p",{className:"mt-1 text-[10px] text-gray-500",children:" :  14:00~16:00 (  )"})]}),a.jsxs("div",{className:"mt-3 rounded-md border border-amber-200 bg-amber-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-amber-800",children:v?"L3   .":" L3    ."}),a.jsxs("label",{className:"mt-1 flex items-center gap-2 text-[11px] text-amber-900",children:[a.jsx("input",{type:"checkbox",checked:t.applyL3,onChange:b=>m({...t,applyL3:b.target.checked})})," L3 "]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:"  ()"}),a.jsx("textarea",{value:s,onChange:b=>h(b.target.value),className:"mt-1 h-16 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400",placeholder:"   "})]}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{onClick:f,disabled:r,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 disabled:opacity-50",children:""}),a.jsx("button",{onClick:x,disabled:!N||r,className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:r?" ...":""})]})]})})}function INe(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function MNe(e){return e?e.contactMode==="MANUAL_OVERRIDE"?`  (${e.effectiveMode==="HUMAN_FIRST"?" ":" "})`:e.effectiveMode==="HUMAN_FIRST"?" ":" ":"-"}function LNe(e){return e?e.slaLevel==="OVERDUE"?"":e.slaLevel==="DUE_SOON"?"":"":"-"}function $Ne(e){return e??""}function dz({caseId:e,onBack:t}){const r=y.useMemo(()=>Ch(e),[e]),[n,s]=y.useState(null),[i,o]=y.useState(null),l=r?.profile.phone??"-",u=r?` ${xf(r.profile.age)}   ${l}   ${r.id}`:` ${e}`;return a.jsxs("div",{className:"flex h-full flex-col bg-[#f4f7fb]",children:[a.jsxs("div",{className:"sticky top-0 z-20 border-b border-slate-200 bg-white/95 px-6 py-4 shadow-sm backdrop-blur",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"rounded-full border border-slate-200 bg-white p-2 transition-colors hover:bg-slate-50",children:a.jsx(au,{size:20})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e}),a.jsx("span",{className:"rounded border border-blue-200 bg-blue-50 px-3.5 py-1.5 text-sm font-bold text-blue-700",children:"Stage 2"})]}),a.jsxs("p",{className:"mt-0.5 flex items-center gap-2 text-xs text-gray-500",children:[a.jsxs("span",{className:"font-bold text-gray-700",children:[": ",r?.manager??" "]}),a.jsx("span",{className:"h-2 w-px bg-gray-200"}),a.jsxs("span",{children:[" : ",a.jsx("span",{className:"font-bold text-blue-700",children:$Ne(r?.status)})]}),a.jsx("span",{className:"h-2 w-px bg-gray-200"}),a.jsx("span",{className:"text-gray-600",children:u})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-xs font-bold text-slate-700 hover:bg-slate-50",children:[a.jsx(lh,{size:14}),"   "]}),a.jsxs("button",{onClick:()=>i?.(),className:"flex items-center gap-2 rounded-lg bg-[#15386a] px-4 py-2 text-xs font-bold text-white shadow-sm transition-all hover:shadow-md",children:["  1  ",a.jsx(ic,{size:14})]})]})]}),n?a.jsxs("div",{className:"mt-3 rounded-xl border border-slate-700 bg-gradient-to-r from-slate-900 to-slate-800 px-3 py-2 text-white",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold",children:[a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["/  ",MNe(n)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["SLA ",LNe(n)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",n.qualityScore,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",n.missingCount,""]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",n.warningCount,""]})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-200",children:["  ",INe(n.lastUpdatedAt),"   : //     ."]})]}):null]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-6 p-6",children:a.jsx(FT,{caseRecord:r,onHeaderSummaryChange:s,onPrimaryActionChange:o,mode:"stage2"})})]})}function Op(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function FNe(e){return e?e.contactMode==="MANUAL_OVERRIDE"?`  (${e.effectiveMode==="HUMAN_FIRST"?" ":" "})`:e.effectiveMode==="HUMAN_FIRST"?" ":" ":"-"}function BNe(e){return e?e.slaLevel==="OVERDUE"?"":e.slaLevel==="DUE_SOON"?"":"":"-"}function F$(e){return e?.status??""}function B$(e){return e?e==="TRACKING"?"":e==="REEVAL_DUE"?" ":e==="REEVAL_PENDING"?" ":e==="LINKAGE_PENDING"?" ":e==="PLAN_NEEDS_UPDATE"?"  ":e==="CHURN_RISK"?" ":"":"-"}function UNe({caseId:e,stage:t,onBack:r}){const n=y.useMemo(()=>Ch(e),[e]),[s,i]=y.useState(null),[o,l]=y.useState(null),u=t==="Stage 2",d=t==="Stage 3",f=n?.profile.phone??"-",m=n?.profile.name??" ",h=n?.profile.age,x=d?m:e,v=n?d?` ${m}   ${h??"-"}   ${f}`:` ${xf(n.profile.age)}   ${u?f:so(n.profile.phone)}   ${n.id}`:d?"/  ":` ${e}`;return a.jsxs("div",{className:"flex h-full flex-col bg-[#f4f7fb]",children:[a.jsxs("div",{className:"sticky top-0 z-20 border-b border-slate-200 bg-white/95 px-6 py-4 shadow-sm backdrop-blur",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:r,className:"rounded-full border border-slate-200 bg-white p-2 transition-colors hover:bg-slate-50",children:a.jsx(au,{size:20})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:x}),a.jsx("span",{className:"rounded border border-blue-200 bg-blue-50 px-3.5 py-1.5 text-sm font-bold text-blue-700",children:t})]}),a.jsxs("p",{className:"mt-0.5 flex items-center gap-2 text-xs text-gray-500",children:[a.jsxs("span",{className:"font-bold text-gray-700",children:[": ",n?.manager??" "]}),a.jsx("span",{className:"h-2 w-px bg-gray-200"}),a.jsxs("span",{children:[" : ",a.jsx("span",{className:"font-bold text-blue-700",children:d&&s?.stage3Meta?B$(s.stage3Meta.opsStatus):F$(n)})]}),a.jsx("span",{className:"h-2 w-px bg-gray-200"}),a.jsx("span",{className:"text-gray-600",children:v})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-xs font-bold text-slate-700 hover:bg-slate-50",children:[a.jsx(lh,{size:14}),"   "]}),a.jsxs("button",{onClick:()=>o?.(),className:"flex items-center gap-2 rounded-lg bg-[#15386a] px-4 py-2 text-xs font-bold text-white shadow-sm transition-all hover:shadow-md",children:[d&&s?.nextActionLabel?s.nextActionLabel:"  1 "," ",a.jsx(ic,{size:14})]})]})]}),s?a.jsx("div",{className:"mt-3 rounded-xl border border-slate-700 bg-gradient-to-r from-slate-900 to-slate-800 px-3 py-2 text-white",children:d&&s.stage3Meta?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold",children:[a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",B$(s.stage3Meta.opsStatus)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["2  ",s.stage3Meta.risk2yNowPct,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.stage3Meta.risk2yLabel]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.stage3Meta.trend]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.stage3Meta.modelVersion]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",Op(s.stage3Meta.nextReevalAt)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["   ",Op(s.stage3Meta.nextTrackingContactAt)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.stage3Meta.planStatus]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",s.stage3Meta.trackingCycleDays,""]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",s.stage3Meta.churnRisk]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",s.qualityScore,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.missingCount,""]})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-200",children:["  ",Op(s.lastUpdatedAt),"    ",Op(s.stage3Meta.riskUpdatedAt),"   :     //     ."]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold",children:[a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[u?"/ ":" "," ",FNe(s)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["SLA ",BNe(s)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[u?" ":" "," ",s.qualityScore,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.missingCount,""]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[u?" ":""," ",s.warningCount,""]})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-200",children:["  ",Op(s.lastUpdatedAt),"   : ",u?"//     .":"        ."]})]})}):null]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:a.jsx(FT,{caseRecord:n,onHeaderSummaryChange:i,onPrimaryActionChange:N=>{l(()=>N)},mode:u?"stage2":"stage3"})})]})}function fz({caseId:e,onBack:t}){return a.jsx(UNe,{caseId:e,stage:"Stage 3",onBack:t})}function zNe(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function HNe(e){return e?e.contactMode==="MANUAL_OVERRIDE"?`  (${e.effectiveMode==="HUMAN_FIRST"?" ":" "})`:e.effectiveMode==="HUMAN_FIRST"?" ":" ":"-"}function qNe(e){return e?e.slaLevel==="OVERDUE"?"":e.slaLevel==="DUE_SOON"?"":"":"-"}function GNe({caseId:e,stage:t,onBack:r}){const n=y.useMemo(()=>Ch(e),[e]),[s,i]=y.useState(null),o=t==="Stage 1",l=o&&n?` ${xf(n.profile.age)}   ${so(n.profile.phone)}   ${n.id}`:null;return t==="Stage 2"?a.jsx(dz,{caseId:e,onBack:r}):t==="Stage 3"?a.jsx(fz,{caseId:e,onBack:r}):a.jsxs("div",{className:"flex h-full flex-col bg-[#f4f7fb]",children:[a.jsxs("div",{className:"sticky top-0 z-20 border-b border-slate-200 bg-white/95 px-6 py-4 shadow-sm backdrop-blur",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:r,className:"rounded-full border border-slate-200 bg-white p-2 transition-colors hover:bg-slate-50",children:a.jsx(au,{size:20})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e}),a.jsx("span",{className:"rounded border border-blue-200 bg-blue-50 px-3.5 py-1.5 text-sm font-bold text-blue-700",children:t})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 flex items-center gap-2",children:[a.jsxs("span",{className:"font-bold text-gray-700",children:[": ",n?.manager??" "]}),a.jsx("span",{className:"w-px h-2 bg-gray-200"}),a.jsxs("span",{children:[" : ",a.jsx("span",{className:"font-bold text-blue-700",children:n?.status??""})]}),l?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"w-px h-2 bg-gray-200"}),a.jsx("span",{className:"text-gray-600",children:l})]}):null]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-xs font-bold text-slate-700 hover:bg-slate-50",children:[a.jsx(lh,{size:14}),"   "]}),a.jsxs("button",{className:"flex items-center gap-2 rounded-lg bg-[#15386a] px-4 py-2 text-xs font-bold text-white shadow-sm transition-all hover:shadow-md",children:["  1  ",a.jsx(ic,{size:14})]})]})]}),o&&s?a.jsxs("div",{className:"mt-3 rounded-xl border border-slate-700 bg-gradient-to-r from-slate-900 to-slate-800 px-3 py-2 text-white",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold",children:[a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",HNe(s)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["SLA ",qNe(s)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",s.qualityScore,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.missingCount,""]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.warningCount,""]})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-200",children:["  ",zNe(s.lastUpdatedAt),"   :         ."]})]}):null]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:o?a.jsx(a.Fragment,{children:a.jsx(FT,{caseRecord:n,onHeaderSummaryChange:i})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(CW,{size:16,className:"text-gray-500"})," "]}),a.jsx("span",{className:"text-[10px] font-semibold text-gray-500 bg-gray-100 px-2 py-1 rounded",children:t==="Stage 1"?"Stage 1: ID  ":"Stage 2+:   "})]}),n?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-xs",children:[a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:" "}),a.jsx("p",{className:"mt-1 font-bold text-gray-800",children:t==="Stage 1"?n.id:`${Yve(n.profile.name)} (${n.id})`})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:""}),a.jsx("p",{className:"mt-1 font-bold text-gray-800",children:t==="Stage 1"?xf(n.profile.age):`${n.profile.age}`})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:""}),a.jsx("p",{className:"mt-1 font-bold text-gray-800",children:so(n.profile.phone)}),t==="Stage 1"&&n.profile.guardianPhone&&a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[": ",so(n.profile.guardianPhone)]})]})]}):a.jsx("p",{className:"text-xs text-gray-500",children:"       ."})]}),t==="Stage 2"&&a.jsx(KNe,{}),t==="Stage 3"&&a.jsx(WNe,{}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-100",children:[a.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Un,{size:16,className:"text-gray-400"}),"    "]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded flex items-center gap-1",children:[a.jsx(bu,{size:10}),"   "]}),a.jsx("button",{className:"text-[10px] font-bold text-gray-400 hover:text-gray-600",children:" "})]})]}),a.jsx("div",{className:"space-y-3",children:[{time:"2026-02-11 11:20",user:"",action:"  ",reason:"   (  15% )",logId:"LOG-9921"},{time:"2026-02-10 14:45",user:"",action:"  ",reason:"    ",logId:"LOG-8842"},{time:"2026-02-09 10:00",user:"System",action:"Stage ",reason:"2       ",logId:"LOG-7710"}].map((u,d)=>a.jsxs("div",{className:"flex gap-4 text-xs group",children:[a.jsx("div",{className:"w-32 shrink-0 font-mono text-gray-400",children:u.time}),a.jsx("div",{className:"shrink-0 font-bold text-gray-700 w-20",children:u.user}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("span",{className:"font-bold text-[#163b6f]",children:[u.action,": "]}),a.jsx("span",{className:"text-gray-600",children:u.reason})]}),a.jsxs("div",{className:"shrink-0 font-mono text-[10px] text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity",children:["#",u.logId]})]},d))})]})]})})]})}function KNe(){const[e,t]=y.useState(!1),r=()=>{t(!0),Ye.info("      .",{description:": ,  : 2026-02-11 11:50"})};return a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-12",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm px-6 py-4 flex items-center justify-between border-l-8 border-[#163b6f]",children:[a.jsxs("div",{className:"flex items-center gap-12",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("span",{className:"text-xl font-bold text-[#163b6f]",children:"  "})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("span",{className:"text-sm font-bold text-orange-600",children:"2   ()"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:"   "})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:a.jsx(ts,{size:16})}),a.jsx("button",{className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:a.jsx(wi,{size:16})})]})]})}),a.jsxs("div",{className:"col-span-8 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsx("h3",{className:"font-bold text-gray-800 mb-6",children:"  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-white border border-gray-200 flex items-center justify-center font-bold text-[#163b6f] shadow-sm text-lg",children:"1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:"1   (CIST)"}),a.jsx("p",{className:"text-[11px] text-gray-500",children:"2026-01-15  |  "})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl font-bold text-orange-600",children:"18 / 30"}),a.jsx("p",{className:"text-[10px] text-gray-400",children:": "})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#163b6f]/5 rounded-xl border border-[#163b6f]/20 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-[#163b6f] flex items-center justify-center font-bold text-white shadow-lg text-lg",children:"2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-[#163b6f]",children:"2   (SNSB)"}),a.jsx("p",{className:"text-[11px] text-gray-500",children:"2026-02-10  |   "})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl font-bold text-[#163b6f]",children:"-2.1 SD"}),a.jsx("p",{className:"text-[10px] text-red-600 font-bold",children:" 1 ( )"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-100/80 px-6 py-3 border-b border-gray-200 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xs font-bold text-gray-600 uppercase flex items-center gap-2",children:[a.jsx(ym,{size:14,className:"text-orange-500"}),"   (  )"]}),!e&&a.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1 bg-white border border-[#163b6f] rounded text-[10px] font-bold text-[#163b6f] hover:bg-blue-50 transition-colors shadow-sm",children:[a.jsx(Rd,{size:12}),"   "]})]}),a.jsx("div",{className:"p-8 min-h-[140px] flex items-center justify-center bg-gray-50/30",children:e?a.jsxs("div",{className:"w-full grid grid-cols-2 gap-6 animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-5 border border-red-200 bg-red-50/50 rounded-2xl text-center shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 mb-1 uppercase",children:"  "}),a.jsx("p",{className:"text-2xl font-bold text-red-700",children:"MCI (High)"})]}),a.jsxs("div",{className:"p-5 border border-blue-200 bg-blue-50/50 rounded-2xl text-center shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 mb-1 uppercase",children:"    "}),a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:"82%"})]})]}):a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(ym,{size:24,className:"text-gray-300"}),a.jsx("p",{className:"text-sm text-gray-400 italic",children:"     ."})]})})]})]}),a.jsx("div",{className:"col-span-4 space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2",children:[a.jsx(ic,{size:18,className:"text-[#163b6f]"}),"   "]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[10px] font-bold text-[#163b6f] uppercase border-l-2 border-[#163b6f] pl-2",children:"  "}),a.jsxs("button",{className:"w-full py-3 bg-[#163b6f] text-white text-xs font-bold rounded-xl hover:bg-[#0f2a50] flex items-center justify-center gap-2 shadow-md",children:[a.jsx(iu,{size:16}),"    "]}),a.jsx("button",{className:"w-full py-2 border border-gray-200 text-gray-700 text-xs font-bold rounded-lg hover:bg-gray-50",children:"   "})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase border-l-2 border-gray-200 pl-2",children:"MCI  "}),a.jsx("button",{className:"w-full py-2 border border-gray-200 text-gray-700 text-xs font-bold rounded-lg hover:bg-gray-50",children:"   (CRF)"}),a.jsx("button",{className:"w-full py-2 border border-gray-200 text-gray-700 text-xs font-bold rounded-lg hover:bg-gray-50",children:"/  "})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase border-l-2 border-gray-200 pl-2",children:"  "}),a.jsx("button",{className:"w-full py-2 border border-gray-200 text-gray-400 text-xs font-bold rounded-lg cursor-not-allowed",disabled:!0,children:"  ( )"})]})]})]})}),a.jsx("div",{className:"col-span-12",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 overflow-x-auto",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-8 flex items-center gap-2",children:[a.jsx(Un,{size:16})," --- "]}),a.jsx("div",{className:"flex items-center min-w-[800px]",children:[{step:"",date:"01-15",status:"",color:"bg-emerald-500"},{step:"2",date:"02-10",status:"",color:"bg-emerald-500"},{step:"",date:"",status:"",color:"bg-orange-500"},{step:"",date:"",status:"",color:"bg-gray-200"},{step:"/",date:"",status:"",color:"bg-gray-200"}].map((n,s,i)=>a.jsxs(z.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[a.jsx("div",{className:ce("w-10 h-10 rounded-full flex items-center justify-center text-white shadow-lg",n.color),children:n.status===""?a.jsx(oo,{size:20}):a.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),a.jsx("p",{className:"text-[11px] font-bold text-gray-900 mt-2",children:n.step}),a.jsx("p",{className:"text-[10px] text-gray-400",children:n.date})]}),s<i.length-1&&a.jsx("div",{className:ce("flex-1 h-1 mx-2",n.status===""&&i[s+1].status===""?"bg-emerald-500":"bg-gray-100")})]},s))})]})})]})}function WNe(){const e=[{name:"24-Q3",score:85,trigger:!1},{name:"24-Q4",score:82,trigger:!1},{name:"25-Q1",score:75,trigger:!0},{name:"25-Q2",score:72,trigger:!0},{name:"26-Q1",score:68,trigger:!0}];return a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-12",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm px-6 py-4 flex items-center justify-between border-l-8 border-red-600",children:[a.jsxs("div",{className:"flex items-center gap-12",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"  "}),a.jsx("span",{className:"text-xl font-bold text-red-600",children:"  (Danger Zone)"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("span",{className:"text-sm font-bold text-[#163b6f]",children:"3  ()"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-bold text-red-600",children:"  "})]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-100 px-2 py-1 rounded",children:" : 95%"})})]})}),a.jsxs("div",{className:"col-span-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"2  ()"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:"-2.4 SD"}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"  15% "})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"MRI "}),a.jsx("p",{className:"text-sm font-bold text-orange-600",children:"  "}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"MTA Scale 3"})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"33%"}),a.jsx("p",{className:"text-[10px] text-red-600 font-bold mt-1",children:"3  "})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"font-bold text-gray-800",children:"  "}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-500",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-600"}),"  "]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-500",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-200"}),"  "]})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Eh,{data:e,children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(en,{dataKey:"name",fontSize:10,axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),a.jsx($r,{fontSize:10,axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),a.jsx(pr,{}),a.jsx(bn,{type:"monotone",dataKey:"score",stroke:"#dc2626",strokeWidth:3,dot:{r:4,fill:"#dc2626"}}),a.jsx(bn,{type:"monotone",dataKey:"threshold",stroke:"#e2e8f0",strokeDasharray:"5 5",dot:!1,strokeWidth:2})]})})})]})]}),a.jsxs("div",{className:"col-span-4 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2 text-sm",children:[a.jsx(da,{size:16,className:"text-red-600"}),"   "]}),a.jsx("div",{className:"space-y-4",children:[{label:"  (10% )",value:"15% ",status:"",color:"text-red-600 bg-red-50"},{label:"  (2 )",value:"1 ",status:"",color:"text-gray-400 bg-gray-50"},{label:"  (3 )",value:"4 ",status:"",color:"text-red-600 bg-red-50"}].map((t,r)=>a.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-gray-50 pb-3 last:border-0 last:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-gray-700",children:t.label}),a.jsx("span",{className:ce("text-[9px] font-bold px-1.5 py-0.5 rounded",t.color),children:t.status})]}),a.jsxs("p",{className:"text-[10px] text-gray-500",children:[" : ",t.value]})]},r))})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{className:"w-full py-3 bg-red-600 text-white text-xs font-bold rounded-xl flex flex-col items-center gap-1 shadow-lg hover:bg-red-700 transition-all",children:[a.jsx(wi,{size:18}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{className:"py-2.5 border border-gray-200 rounded-lg text-[10px] font-bold text-gray-700 hover:bg-gray-50",children:"  "}),a.jsx("button",{className:"py-2.5 border border-gray-200 rounded-lg text-[10px] font-bold text-gray-700 hover:bg-gray-50",children:"/ "})]}),a.jsx("button",{className:"w-full py-2.5 border-2 border-orange-500 text-orange-600 text-[10px] font-bold rounded-lg hover:bg-orange-50",children:"  "})]})]})]}),a.jsx("div",{className:"col-span-12",children:a.jsx("div",{className:"bg-red-50 border border-red-100 rounded-xl p-3 text-[10px] text-red-700 font-bold italic text-center",children:"*       : 26-Q1            (  )"})})]})}function U$(e){const t=VNe(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),u=l.find(XNe);if(u){const d=u.props.children,f=l.map(m=>m===u?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:m);return a.jsx(t,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function VNe(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=ZNe(s),l=QNe(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Nu(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YNe=Symbol("radix.slottable");function XNe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YNe}function QNe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function ZNe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function pz(e){const t=e+"CollectionProvider",[r,n]=Xs(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=N=>{const{scope:b,children:S}=N,j=z.useRef(null),A=z.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:A,collectionRef:j,children:S})};o.displayName=t;const l=e+"CollectionSlot",u=U$(l),d=z.forwardRef((N,b)=>{const{scope:S,children:j}=N,A=i(l,S),_=ir(b,A.collectionRef);return a.jsx(u,{ref:_,children:j})});d.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",h=U$(f),x=z.forwardRef((N,b)=>{const{scope:S,children:j,...A}=N,_=z.useRef(null),E=ir(b,_),C=i(f,S);return z.useEffect(()=>(C.itemMap.set(_,{ref:_,...A}),()=>void C.itemMap.delete(_))),a.jsx(h,{[m]:"",ref:E,children:j})});x.displayName=f;function v(N){const b=i(e+"CollectionConsumer",N);return z.useCallback(()=>{const j=b.collectionRef.current;if(!j)return[];const A=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(b.itemMap.values()).sort((C,R)=>A.indexOf(C.ref.current)-A.indexOf(R.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},v,n]}const JNe=["top","right","bottom","left"],dc=Math.min,xs=Math.max,py=Math.round,ig=Math.floor,mo=e=>({x:e,y:e}),eSe={left:"right",right:"left",bottom:"top",top:"bottom"},tSe={start:"end",end:"start"};function SA(e,t,r){return xs(e,dc(t,r))}function ul(e,t){return typeof e=="function"?e(t):e}function dl(e){return e.split("-")[0]}function Bf(e){return e.split("-")[1]}function BT(e){return e==="x"?"y":"x"}function UT(e){return e==="y"?"height":"width"}const rSe=new Set(["top","bottom"]);function io(e){return rSe.has(dl(e))?"y":"x"}function zT(e){return BT(io(e))}function nSe(e,t,r){r===void 0&&(r=!1);const n=Bf(e),s=zT(e),i=UT(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=my(o)),[o,my(o)]}function aSe(e){const t=my(e);return[wA(e),t,wA(t)]}function wA(e){return e.replace(/start|end/g,t=>tSe[t])}const z$=["left","right"],H$=["right","left"],sSe=["top","bottom"],iSe=["bottom","top"];function oSe(e,t,r){switch(e){case"top":case"bottom":return r?t?H$:z$:t?z$:H$;case"left":case"right":return t?sSe:iSe;default:return[]}}function lSe(e,t,r,n){const s=Bf(e);let i=oSe(dl(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(wA)))),i}function my(e){return e.replace(/left|right|bottom|top/g,t=>eSe[t])}function cSe(e){return{top:0,right:0,bottom:0,left:0,...e}}function mz(e){return typeof e!="number"?cSe(e):{top:e,right:e,bottom:e,left:e}}function hy(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function q$(e,t,r){let{reference:n,floating:s}=e;const i=io(t),o=zT(t),l=UT(o),u=dl(t),d=i==="y",f=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let x;switch(u){case"top":x={x:f,y:n.y-s.height};break;case"bottom":x={x:f,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:m};break;case"left":x={x:n.x-s.width,y:m};break;default:x={x:n.x,y:n.y}}switch(Bf(t)){case"start":x[o]-=h*(r&&d?-1:1);break;case"end":x[o]+=h*(r&&d?-1:1);break}return x}async function uSe(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:h=!1,padding:x=0}=ul(t,e),v=mz(x),b=l[h?m==="floating"?"reference":"floating":m],S=hy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),j=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},E=hy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:A,strategy:u}):j);return{top:(S.top-E.top+v.top)/_.y,bottom:(E.bottom-S.bottom+v.bottom)/_.y,left:(S.left-E.left+v.left)/_.x,right:(E.right-S.right+v.right)/_.x}}const dSe=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:m}=q$(d,n,u),h=n,x={},v=0;for(let b=0;b<l.length;b++){var N;const{name:S,fn:j}=l[b],{x:A,y:_,data:E,reset:C}=await j({x:f,y:m,initialPlacement:n,placement:h,strategy:s,middlewareData:x,rects:d,platform:{...o,detectOverflow:(N=o.detectOverflow)!=null?N:uSe},elements:{reference:e,floating:t}});f=A??f,m=_??m,x={...x,[S]:{...x[S],...E}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:f,y:m}=q$(d,h,u)),b=-1)}return{x:f,y:m,placement:h,strategy:s,middlewareData:x}},fSe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=t,{element:d,padding:f=0}=ul(e,t)||{};if(d==null)return{};const m=mz(f),h={x:r,y:n},x=zT(s),v=UT(x),N=await o.getDimensions(d),b=x==="y",S=b?"top":"left",j=b?"bottom":"right",A=b?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[x]-h[x]-i.floating[v],E=h[x]-i.reference[x],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let R=C?C[A]:0;(!R||!await(o.isElement==null?void 0:o.isElement(C)))&&(R=l.floating[A]||i.floating[v]);const I=_/2-E/2,O=R/2-N[v]/2-1,B=dc(m[S],O),q=dc(m[j],O),F=B,Y=R-N[v]-q,D=R/2-N[v]/2+I,G=SA(F,D,Y),U=!u.arrow&&Bf(s)!=null&&D!==G&&i.reference[v]/2-(D<F?B:q)-N[v]/2<0,V=U?D<F?D-F:D-Y:0;return{[x]:h[x]+V,data:{[x]:G,centerOffset:D-G-V,...U&&{alignmentOffset:V}},reset:U}}}),pSe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:N=!0,...b}=ul(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const S=dl(s),j=io(l),A=dl(l)===l,_=await(u.isRTL==null?void 0:u.isRTL(d.floating)),E=h||(A||!N?[my(l)]:aSe(l)),C=v!=="none";!h&&C&&E.push(...lSe(l,N,v,_));const R=[l,...E],I=await u.detectOverflow(t,b),O=[];let B=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&O.push(I[S]),m){const D=nSe(s,o,_);O.push(I[D[0]],I[D[1]])}if(B=[...B,{placement:s,overflows:O}],!O.every(D=>D<=0)){var q,F;const D=(((q=i.flip)==null?void 0:q.index)||0)+1,G=R[D];if(G&&(!(m==="alignment"?j!==io(G):!1)||B.every(M=>io(M.placement)===j?M.overflows[0]>0:!0)))return{data:{index:D,overflows:B},reset:{placement:G}};let U=(F=B.filter(V=>V.overflows[0]<=0).sort((V,M)=>V.overflows[1]-M.overflows[1])[0])==null?void 0:F.placement;if(!U)switch(x){case"bestFit":{var Y;const V=(Y=B.filter(M=>{if(C){const Q=io(M.placement);return Q===j||Q==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(Q=>Q>0).reduce((Q,J)=>Q+J,0)]).sort((M,Q)=>M[1]-Q[1])[0])==null?void 0:Y[0];V&&(U=V);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function G$(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function K$(e){return JNe.some(t=>e[t]>=0)}const mSe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=ul(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=G$(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:K$(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=G$(o,r.floating);return{data:{escapedOffsets:l,escaped:K$(l)}}}default:return{}}}}},hz=new Set(["left","top"]);async function hSe(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=dl(r),l=Bf(r),u=io(r)==="y",d=hz.has(o)?-1:1,f=i&&u?-1:1,m=ul(t,e);let{mainAxis:h,crossAxis:x,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(x=l==="end"?v*-1:v),u?{x:x*f,y:h*d}:{x:h*d,y:x*f}}const gSe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,u=await hSe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},xSe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:S=>{let{x:j,y:A}=S;return{x:j,y:A}}},...d}=ul(e,t),f={x:r,y:n},m=await i.detectOverflow(t,d),h=io(dl(s)),x=BT(h);let v=f[x],N=f[h];if(o){const S=x==="y"?"top":"left",j=x==="y"?"bottom":"right",A=v+m[S],_=v-m[j];v=SA(A,v,_)}if(l){const S=h==="y"?"top":"left",j=h==="y"?"bottom":"right",A=N+m[S],_=N-m[j];N=SA(A,N,_)}const b=u.fn({...t,[x]:v,[h]:N});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[x]:o,[h]:l}}}}}},ySe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=ul(e,t),f={x:r,y:n},m=io(s),h=BT(m);let x=f[h],v=f[m];const N=ul(l,t),b=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(u){const A=h==="y"?"height":"width",_=i.reference[h]-i.floating[A]+b.mainAxis,E=i.reference[h]+i.reference[A]-b.mainAxis;x<_?x=_:x>E&&(x=E)}if(d){var S,j;const A=h==="y"?"width":"height",_=hz.has(dl(s)),E=i.reference[m]-i.floating[A]+(_&&((S=o.offset)==null?void 0:S[m])||0)+(_?0:b.crossAxis),C=i.reference[m]+i.reference[A]+(_?0:((j=o.offset)==null?void 0:j[m])||0)-(_?b.crossAxis:0);v<E?v=E:v>C&&(v=C)}return{[h]:x,[m]:v}}}},bSe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:u=()=>{},...d}=ul(e,t),f=await o.detectOverflow(t,d),m=dl(s),h=Bf(s),x=io(s)==="y",{width:v,height:N}=i.floating;let b,S;m==="top"||m==="bottom"?(b=m,S=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=m,b=h==="end"?"top":"bottom");const j=N-f.top-f.bottom,A=v-f.left-f.right,_=dc(N-f[b],j),E=dc(v-f[S],A),C=!t.middlewareData.shift;let R=_,I=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=A),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=j),C&&!h){const B=xs(f.left,0),q=xs(f.right,0),F=xs(f.top,0),Y=xs(f.bottom,0);x?I=v-2*(B!==0||q!==0?B+q:xs(f.left,f.right)):R=N-2*(F!==0||Y!==0?F+Y:xs(f.top,f.bottom))}await u({...t,availableWidth:I,availableHeight:R});const O=await o.getDimensions(l.floating);return v!==O.width||N!==O.height?{reset:{rects:!0}}:{}}}};function wb(){return typeof window<"u"}function Uf(e){return gz(e)?(e.nodeName||"").toLowerCase():"#document"}function bs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function So(e){var t;return(t=(gz(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gz(e){return wb()?e instanceof Node||e instanceof bs(e).Node:!1}function Ti(e){return wb()?e instanceof Element||e instanceof bs(e).Element:!1}function yo(e){return wb()?e instanceof HTMLElement||e instanceof bs(e).HTMLElement:!1}function W$(e){return!wb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bs(e).ShadowRoot}const vSe=new Set(["inline","contents"]);function Th(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=ki(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!vSe.has(s)}const NSe=new Set(["table","td","th"]);function SSe(e){return NSe.has(Uf(e))}const wSe=[":popover-open",":modal"];function jb(e){return wSe.some(t=>{try{return e.matches(t)}catch{return!1}})}const jSe=["transform","translate","scale","rotate","perspective"],ESe=["transform","translate","scale","rotate","perspective","filter"],_Se=["paint","layout","strict","content"];function HT(e){const t=qT(),r=Ti(e)?ki(e):e;return jSe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||ESe.some(n=>(r.willChange||"").includes(n))||_Se.some(n=>(r.contain||"").includes(n))}function ASe(e){let t=fc(e);for(;yo(t)&&!yf(t);){if(HT(t))return t;if(jb(t))return null;t=fc(t)}return null}function qT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CSe=new Set(["html","body","#document"]);function yf(e){return CSe.has(Uf(e))}function ki(e){return bs(e).getComputedStyle(e)}function Eb(e){return Ti(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fc(e){if(Uf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||W$(e)&&e.host||So(e);return W$(t)?t.host:t}function xz(e){const t=fc(e);return yf(t)?e.ownerDocument?e.ownerDocument.body:e.body:yo(t)&&Th(t)?t:xz(t)}function sh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=xz(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=bs(s);if(i){const l=jA(o);return t.concat(o,o.visualViewport||[],Th(s)?s:[],l&&r?sh(l):[])}return t.concat(s,sh(s,[],r))}function jA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yz(e){const t=ki(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=yo(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=py(r)!==i||py(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function GT(e){return Ti(e)?e:e.contextElement}function Cd(e){const t=GT(e);if(!yo(t))return mo(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=yz(t);let o=(i?py(r.width):r.width)/n,l=(i?py(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TSe=mo(0);function bz(e){const t=bs(e);return!qT()||!t.visualViewport?TSe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kSe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==bs(e)?!1:t}function gu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=GT(e);let o=mo(1);t&&(n?Ti(n)&&(o=Cd(n)):o=Cd(e));const l=kSe(i,r,n)?bz(i):mo(0);let u=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,m=s.height/o.y;if(i){const h=bs(i),x=n&&Ti(n)?bs(n):n;let v=h,N=jA(v);for(;N&&n&&x!==v;){const b=Cd(N),S=N.getBoundingClientRect(),j=ki(N),A=S.left+(N.clientLeft+parseFloat(j.paddingLeft))*b.x,_=S.top+(N.clientTop+parseFloat(j.paddingTop))*b.y;u*=b.x,d*=b.y,f*=b.x,m*=b.y,u+=A,d+=_,v=bs(N),N=jA(v)}}return hy({width:f,height:m,x:u,y:d})}function _b(e,t){const r=Eb(e).scrollLeft;return t?t.left+r:gu(So(e)).left+r}function vz(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-_b(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function OSe(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=So(n),l=t?jb(t.floating):!1;if(n===o||l&&i)return r;let u={scrollLeft:0,scrollTop:0},d=mo(1);const f=mo(0),m=yo(n);if((m||!m&&!i)&&((Uf(n)!=="body"||Th(o))&&(u=Eb(n)),yo(n))){const x=gu(n);d=Cd(n),f.x=x.x+n.clientLeft,f.y=x.y+n.clientTop}const h=o&&!m&&!i?vz(o,u):mo(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+f.x+h.x,y:r.y*d.y-u.scrollTop*d.y+f.y+h.y}}function RSe(e){return Array.from(e.getClientRects())}function PSe(e){const t=So(e),r=Eb(e),n=e.ownerDocument.body,s=xs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=xs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+_b(e);const l=-r.scrollTop;return ki(n).direction==="rtl"&&(o+=xs(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const V$=25;function DSe(e,t){const r=bs(e),n=So(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const f=qT();(!f||f&&t==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}const d=_b(n);if(d<=0){const f=n.ownerDocument,m=f.body,h=getComputedStyle(m),x=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-m.clientWidth-x);v<=V$&&(i-=v)}else d<=V$&&(i+=d);return{width:i,height:o,x:l,y:u}}const ISe=new Set(["absolute","fixed"]);function MSe(e,t){const r=gu(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=yo(e)?Cd(e):mo(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,u=s*i.x,d=n*i.y;return{width:o,height:l,x:u,y:d}}function Y$(e,t,r){let n;if(t==="viewport")n=DSe(e,r);else if(t==="document")n=PSe(So(e));else if(Ti(t))n=MSe(t,r);else{const s=bz(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return hy(n)}function Nz(e,t){const r=fc(e);return r===t||!Ti(r)||yf(r)?!1:ki(r).position==="fixed"||Nz(r,t)}function LSe(e,t){const r=t.get(e);if(r)return r;let n=sh(e,[],!1).filter(l=>Ti(l)&&Uf(l)!=="body"),s=null;const i=ki(e).position==="fixed";let o=i?fc(e):e;for(;Ti(o)&&!yf(o);){const l=ki(o),u=HT(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&ISe.has(s.position)||Th(o)&&!u&&Nz(e,o))?n=n.filter(f=>f!==o):s=l,o=fc(o)}return t.set(e,n),n}function $Se(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?jb(t)?[]:LSe(t,this._c):[].concat(r),n],l=o[0],u=o.reduce((d,f)=>{const m=Y$(t,f,s);return d.top=xs(m.top,d.top),d.right=dc(m.right,d.right),d.bottom=dc(m.bottom,d.bottom),d.left=xs(m.left,d.left),d},Y$(t,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function FSe(e){const{width:t,height:r}=yz(e);return{width:t,height:r}}function BSe(e,t,r){const n=yo(t),s=So(t),i=r==="fixed",o=gu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const u=mo(0);function d(){u.x=_b(s)}if(n||!n&&!i)if((Uf(t)!=="body"||Th(s))&&(l=Eb(t)),n){const x=gu(t,!0,i,t);u.x=x.x+t.clientLeft,u.y=x.y+t.clientTop}else s&&d();i&&!n&&s&&d();const f=s&&!n&&!i?vz(s,l):mo(0),m=o.left+l.scrollLeft-u.x-f.x,h=o.top+l.scrollTop-u.y-f.y;return{x:m,y:h,width:o.width,height:o.height}}function Tj(e){return ki(e).position==="static"}function X$(e,t){if(!yo(e)||ki(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return So(e)===r&&(r=r.ownerDocument.body),r}function Sz(e,t){const r=bs(e);if(jb(e))return r;if(!yo(e)){let s=fc(e);for(;s&&!yf(s);){if(Ti(s)&&!Tj(s))return s;s=fc(s)}return r}let n=X$(e,t);for(;n&&SSe(n)&&Tj(n);)n=X$(n,t);return n&&yf(n)&&Tj(n)&&!HT(n)?r:n||ASe(e)||r}const USe=async function(e){const t=this.getOffsetParent||Sz,r=this.getDimensions,n=await r(e.floating);return{reference:BSe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zSe(e){return ki(e).direction==="rtl"}const HSe={convertOffsetParentRelativeRectToViewportRelativeRect:OSe,getDocumentElement:So,getClippingRect:$Se,getOffsetParent:Sz,getElementRects:USe,getClientRects:RSe,getDimensions:FSe,getScale:Cd,isElement:Ti,isRTL:zSe};function wz(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qSe(e,t){let r=null,n;const s=So(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=e.getBoundingClientRect(),{left:f,top:m,width:h,height:x}=d;if(l||t(),!h||!x)return;const v=ig(m),N=ig(s.clientWidth-(f+h)),b=ig(s.clientHeight-(m+x)),S=ig(f),A={rootMargin:-v+"px "+-N+"px "+-b+"px "+-S+"px",threshold:xs(0,dc(1,u))||1};let _=!0;function E(C){const R=C[0].intersectionRatio;if(R!==u){if(!_)return o();R?o(!1,R):n=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!wz(d,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(E,{...A,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,A)}r.observe(e)}return o(!0),i}function GSe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=GT(e),f=s||i?[...d?sh(d):[],...sh(t)]:[];f.forEach(S=>{s&&S.addEventListener("scroll",r,{passive:!0}),i&&S.addEventListener("resize",r)});const m=d&&l?qSe(d,r):null;let h=-1,x=null;o&&(x=new ResizeObserver(S=>{let[j]=S;j&&j.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var A;(A=x)==null||A.observe(t)})),r()}),d&&!u&&x.observe(d),x.observe(t));let v,N=u?gu(e):null;u&&b();function b(){const S=gu(e);N&&!wz(N,S)&&r(),N=S,v=requestAnimationFrame(b)}return r(),()=>{var S;f.forEach(j=>{s&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),m?.(),(S=x)==null||S.disconnect(),x=null,u&&cancelAnimationFrame(v)}}const KSe=gSe,WSe=xSe,VSe=pSe,YSe=bSe,XSe=mSe,Q$=fSe,QSe=ySe,ZSe=(e,t,r)=>{const n=new Map,s={platform:HSe,...r},i={...s.platform,_c:n};return dSe(e,t,{...s,platform:i})};var JSe=typeof document<"u",ewe=function(){},Rg=JSe?y.useLayoutEffect:ewe;function gy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gy(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!gy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function jz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Z$(e,t){const r=jz(e);return Math.round(t*r)/r}function kj(e){const t=y.useRef(e);return Rg(()=>{t.current=e}),t}function twe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,m]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,x]=y.useState(n);gy(h,n)||x(n);const[v,N]=y.useState(null),[b,S]=y.useState(null),j=y.useCallback(M=>{M!==C.current&&(C.current=M,N(M))},[]),A=y.useCallback(M=>{M!==R.current&&(R.current=M,S(M))},[]),_=i||v,E=o||b,C=y.useRef(null),R=y.useRef(null),I=y.useRef(f),O=u!=null,B=kj(u),q=kj(s),F=kj(d),Y=y.useCallback(()=>{if(!C.current||!R.current)return;const M={placement:t,strategy:r,middleware:h};q.current&&(M.platform=q.current),ZSe(C.current,R.current,M).then(Q=>{const J={...Q,isPositioned:F.current!==!1};D.current&&!gy(I.current,J)&&(I.current=J,_f.flushSync(()=>{m(J)}))})},[h,t,r,q,F]);Rg(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,m(M=>({...M,isPositioned:!1})))},[d]);const D=y.useRef(!1);Rg(()=>(D.current=!0,()=>{D.current=!1}),[]),Rg(()=>{if(_&&(C.current=_),E&&(R.current=E),_&&E){if(B.current)return B.current(_,E,Y);Y()}},[_,E,Y,B,O]);const G=y.useMemo(()=>({reference:C,floating:R,setReference:j,setFloating:A}),[j,A]),U=y.useMemo(()=>({reference:_,floating:E}),[_,E]),V=y.useMemo(()=>{const M={position:r,left:0,top:0};if(!U.floating)return M;const Q=Z$(U.floating,f.x),J=Z$(U.floating,f.y);return l?{...M,transform:"translate("+Q+"px, "+J+"px)",...jz(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:J}},[r,l,U.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:Y,refs:G,elements:U,floatingStyles:V}),[f,Y,G,U,V])}const rwe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Q$({element:n.current,padding:s}).fn(r):{}:n?Q$({element:n,padding:s}).fn(r):{}}}},nwe=(e,t)=>({...KSe(e),options:[e,t]}),awe=(e,t)=>({...WSe(e),options:[e,t]}),swe=(e,t)=>({...QSe(e),options:[e,t]}),iwe=(e,t)=>({...VSe(e),options:[e,t]}),owe=(e,t)=>({...YSe(e),options:[e,t]}),lwe=(e,t)=>({...XSe(e),options:[e,t]}),cwe=(e,t)=>({...rwe(e),options:[e,t]});var uwe="Arrow",Ez=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Kt.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ez.displayName=uwe;var dwe=Ez,KT="Popper",[_z,zf]=Xs(KT),[fwe,Az]=_z(KT),Cz=e=>{const{__scopePopper:t,children:r}=e,[n,s]=y.useState(null);return a.jsx(fwe,{scope:t,anchor:n,onAnchorChange:s,children:r})};Cz.displayName=KT;var Tz="PopperAnchor",kz=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=Az(Tz,r),o=y.useRef(null),l=ir(t,o),u=y.useRef(null);return y.useEffect(()=>{const d=u.current;u.current=n?.current||o.current,d!==u.current&&i.onAnchorChange(u.current)}),n?null:a.jsx(Kt.div,{...s,ref:l})});kz.displayName=Tz;var WT="PopperContent",[pwe,mwe]=_z(WT),Oz=y.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:x="optimized",onPlaced:v,...N}=e,b=Az(WT,r),[S,j]=y.useState(null),A=ir(t,oe=>j(oe)),[_,E]=y.useState(null),C=tC(_),R=C?.width??0,I=C?.height??0,O=n+(i!=="center"?"-"+i:""),B=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},q=Array.isArray(d)?d:[d],F=q.length>0,Y={padding:B,boundary:q.filter(gwe),altBoundary:F},{refs:D,floatingStyles:G,placement:U,isPositioned:V,middlewareData:M}=twe({strategy:"fixed",placement:O,whileElementsMounted:(...oe)=>GSe(...oe,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[nwe({mainAxis:s+I,alignmentAxis:o}),u&&awe({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?swe():void 0,...Y}),u&&iwe({...Y}),owe({...Y,apply:({elements:oe,rects:je,availableWidth:pe,availableHeight:Ee})=>{const{width:me,height:fe}=je.reference,Xe=oe.floating.style;Xe.setProperty("--radix-popper-available-width",`${pe}px`),Xe.setProperty("--radix-popper-available-height",`${Ee}px`),Xe.setProperty("--radix-popper-anchor-width",`${me}px`),Xe.setProperty("--radix-popper-anchor-height",`${fe}px`)}}),_&&cwe({element:_,padding:l}),xwe({arrowWidth:R,arrowHeight:I}),h&&lwe({strategy:"referenceHidden",...Y})]}),[Q,J]=Dz(U),P=Sa(v);Pn(()=>{V&&P?.()},[V,P]);const K=M.arrow?.x,Z=M.arrow?.y,se=M.arrow?.centerOffset!==0,[ie,Se]=y.useState();return Pn(()=>{S&&Se(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:V?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(pwe,{scope:r,placedSide:Q,onArrowChange:E,arrowX:K,arrowY:Z,shouldHideArrow:se,children:a.jsx(Kt.div,{"data-side":Q,"data-align":J,...N,ref:A,style:{...N.style,animation:V?void 0:"none"}})})})});Oz.displayName=WT;var Rz="PopperArrow",hwe={top:"bottom",right:"left",bottom:"top",left:"right"},Pz=y.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=mwe(Rz,n),o=hwe[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(dwe,{...s,ref:r,style:{...s.style,display:"block"}})})});Pz.displayName=Rz;function gwe(e){return e!==null}var xwe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,o=s.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[d,f]=Dz(r),m={start:"0%",center:"50%",end:"100%"}[f],h=(s.arrow?.x??0)+l/2,x=(s.arrow?.y??0)+u/2;let v="",N="";return d==="bottom"?(v=o?m:`${h}px`,N=`${-u}px`):d==="top"?(v=o?m:`${h}px`,N=`${n.floating.height+u}px`):d==="right"?(v=`${-u}px`,N=o?m:`${x}px`):d==="left"&&(v=`${n.floating.width+u}px`,N=o?m:`${x}px`),{data:{x:v,y:N}}}});function Dz(e){const[t,r="center"]=e.split("-");return[t,r]}var VT=Cz,Ab=kz,YT=Oz,XT=Pz;function ywe(e){const t=bwe(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),u=l.find(Nwe);if(u){const d=u.props.children,f=l.map(m=>m===u?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:m);return a.jsx(t,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function bwe(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=wwe(s),l=Swe(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Nu(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vwe=Symbol("radix.slottable");function Nwe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vwe}function Swe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function wwe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Iz=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jwe="VisuallyHidden",Mz=y.forwardRef((e,t)=>a.jsx(Kt.span,{...e,ref:t,style:{...Iz,...e.style}}));Mz.displayName=jwe;var Ewe=Mz,_we=[" ","Enter","ArrowUp","ArrowDown"],Awe=[" ","Enter"],xu="Select",[Cb,Tb,Cwe]=pz(xu),[Hf]=Xs(xu,[Cwe,zf]),kb=zf(),[Twe,yc]=Hf(xu),[kwe,Owe]=Hf(xu),Lz=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:m,disabled:h,required:x,form:v}=e,N=kb(t),[b,S]=y.useState(null),[j,A]=y.useState(null),[_,E]=y.useState(!1),C=hh(d),[R,I]=sl({prop:n,defaultProp:s??!1,onChange:i,caller:xu}),[O,B]=sl({prop:o,defaultProp:l,onChange:u,caller:xu}),q=y.useRef(null),F=b?v||!!b.closest("form"):!0,[Y,D]=y.useState(new Set),G=Array.from(Y).map(U=>U.props.value).join(";");return a.jsx(VT,{...N,children:a.jsxs(Twe,{required:x,scope:t,trigger:b,onTriggerChange:S,valueNode:j,onValueNodeChange:A,valueNodeHasChildren:_,onValueNodeHasChildrenChange:E,contentId:uo(),value:O,onValueChange:B,open:R,onOpenChange:I,dir:C,triggerPointerDownPosRef:q,disabled:h,children:[a.jsx(Cb.Provider,{scope:t,children:a.jsx(kwe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(U=>{D(V=>new Set(V).add(U))},[]),onNativeOptionRemove:y.useCallback(U=>{D(V=>{const M=new Set(V);return M.delete(U),M})},[]),children:r})}),F?a.jsxs(sH,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:m,value:O,onChange:U=>B(U.target.value),disabled:h,form:v,children:[O===void 0?a.jsx("option",{value:""}):null,Array.from(Y)]},G):null]})})};Lz.displayName=xu;var $z="SelectTrigger",Fz=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=kb(r),o=yc($z,r),l=o.disabled||n,u=ir(t,o.onTriggerChange),d=Tb(r),f=y.useRef("touch"),[m,h,x]=oH(N=>{const b=d().filter(A=>!A.disabled),S=b.find(A=>A.value===o.value),j=lH(b,N,S);j!==void 0&&o.onValueChange(j.value)}),v=N=>{l||(o.onOpenChange(!0),x()),N&&(o.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return a.jsx(Ab,{asChild:!0,...i,children:a.jsx(Kt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":iH(o.value)?"":void 0,...s,ref:u,onClick:wt(s.onClick,N=>{N.currentTarget.focus(),f.current!=="mouse"&&v(N)}),onPointerDown:wt(s.onPointerDown,N=>{f.current=N.pointerType;const b=N.target;b.hasPointerCapture(N.pointerId)&&b.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(v(N),N.preventDefault())}),onKeyDown:wt(s.onKeyDown,N=>{const b=m.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&h(N.key),!(b&&N.key===" ")&&_we.includes(N.key)&&(v(),N.preventDefault())})})})});Fz.displayName=$z;var Bz="SelectValue",Uz=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,u=yc(Bz,r),{onValueNodeHasChildrenChange:d}=u,f=i!==void 0,m=ir(t,u.onValueNodeChange);return Pn(()=>{d(f)},[d,f]),a.jsx(Kt.span,{...l,ref:m,style:{pointerEvents:"none"},children:iH(u.value)?a.jsx(a.Fragment,{children:o}):i})});Uz.displayName=Bz;var Rwe="SelectIcon",zz=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Kt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});zz.displayName=Rwe;var Pwe="SelectPortal",Hz=e=>a.jsx(mh,{asChild:!0,...e});Hz.displayName=Pwe;var yu="SelectContent",qz=y.forwardRef((e,t)=>{const r=yc(yu,e.__scopeSelect),[n,s]=y.useState();if(Pn(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?_f.createPortal(a.jsx(Gz,{scope:e.__scopeSelect,children:a.jsx(Cb.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(Kz,{...e,ref:t})});qz.displayName=yu;var xi=10,[Gz,bc]=Hf(yu),Dwe="SelectContentImpl",Iwe=ywe("SelectContent.RemoveScroll"),Kz=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:x,sticky:v,hideWhenDetached:N,avoidCollisions:b,...S}=e,j=yc(yu,r),[A,_]=y.useState(null),[E,C]=y.useState(null),R=ir(t,oe=>_(oe)),[I,O]=y.useState(null),[B,q]=y.useState(null),F=Tb(r),[Y,D]=y.useState(!1),G=y.useRef(!1);y.useEffect(()=>{if(A)return aC(A)},[A]),nC();const U=y.useCallback(oe=>{const[je,...pe]=F().map(fe=>fe.ref.current),[Ee]=pe.slice(-1),me=document.activeElement;for(const fe of oe)if(fe===me||(fe?.scrollIntoView({block:"nearest"}),fe===je&&E&&(E.scrollTop=0),fe===Ee&&E&&(E.scrollTop=E.scrollHeight),fe?.focus(),document.activeElement!==me))return},[F,E]),V=y.useCallback(()=>U([I,A]),[U,I,A]);y.useEffect(()=>{Y&&V()},[Y,V]);const{onOpenChange:M,triggerPointerDownPosRef:Q}=j;y.useEffect(()=>{if(A){let oe={x:0,y:0};const je=Ee=>{oe={x:Math.abs(Math.round(Ee.pageX)-(Q.current?.x??0)),y:Math.abs(Math.round(Ee.pageY)-(Q.current?.y??0))}},pe=Ee=>{oe.x<=10&&oe.y<=10?Ee.preventDefault():A.contains(Ee.target)||M(!1),document.removeEventListener("pointermove",je),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",pe,{capture:!0})}}},[A,M,Q]),y.useEffect(()=>{const oe=()=>M(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[M]);const[J,P]=oH(oe=>{const je=F().filter(me=>!me.disabled),pe=je.find(me=>me.ref.current===document.activeElement),Ee=lH(je,oe,pe);Ee&&setTimeout(()=>Ee.ref.current.focus())}),K=y.useCallback((oe,je,pe)=>{const Ee=!G.current&&!pe;(j.value!==void 0&&j.value===je||Ee)&&(O(oe),Ee&&(G.current=!0))},[j.value]),Z=y.useCallback(()=>A?.focus(),[A]),se=y.useCallback((oe,je,pe)=>{const Ee=!G.current&&!pe;(j.value!==void 0&&j.value===je||Ee)&&q(oe)},[j.value]),ie=n==="popper"?EA:Wz,Se=ie===EA?{side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:x,sticky:v,hideWhenDetached:N,avoidCollisions:b}:{};return a.jsx(Gz,{scope:r,content:A,viewport:E,onViewportChange:C,itemRefCallback:K,selectedItem:I,onItemLeave:Z,itemTextRefCallback:se,focusSelectedItem:V,selectedItemText:B,position:n,isPositioned:Y,searchRef:J,children:a.jsx(Ay,{as:Iwe,allowPinchZoom:!0,children:a.jsx(Ey,{asChild:!0,trapped:j.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:wt(s,oe=>{j.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:a.jsx(ph,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:a.jsx(ie,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:oe=>oe.preventDefault(),...S,...Se,onPlaced:()=>D(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:wt(S.onKeyDown,oe=>{const je=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!je&&oe.key.length===1&&P(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ee=F().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const me=oe.target,fe=Ee.indexOf(me);Ee=Ee.slice(fe+1)}setTimeout(()=>U(Ee)),oe.preventDefault()}})})})})})})});Kz.displayName=Dwe;var Mwe="SelectItemAlignedPosition",Wz=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=yc(yu,r),o=bc(yu,r),[l,u]=y.useState(null),[d,f]=y.useState(null),m=ir(t,R=>f(R)),h=Tb(r),x=y.useRef(!1),v=y.useRef(!0),{viewport:N,selectedItem:b,selectedItemText:S,focusSelectedItem:j}=o,A=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&N&&b&&S){const R=i.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),B=S.getBoundingClientRect();if(i.dir!=="rtl"){const me=B.left-I.left,fe=O.left-me,Xe=R.left-fe,H=R.width+Xe,ve=Math.max(H,I.width),Re=window.innerWidth-xi,Te=jE(fe,[xi,Math.max(xi,Re-ve)]);l.style.minWidth=H+"px",l.style.left=Te+"px"}else{const me=I.right-B.right,fe=window.innerWidth-O.right-me,Xe=window.innerWidth-R.right-fe,H=R.width+Xe,ve=Math.max(H,I.width),Re=window.innerWidth-xi,Te=jE(fe,[xi,Math.max(xi,Re-ve)]);l.style.minWidth=H+"px",l.style.right=Te+"px"}const q=h(),F=window.innerHeight-xi*2,Y=N.scrollHeight,D=window.getComputedStyle(d),G=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),V=parseInt(D.borderBottomWidth,10),M=parseInt(D.paddingBottom,10),Q=G+U+Y+M+V,J=Math.min(b.offsetHeight*5,Q),P=window.getComputedStyle(N),K=parseInt(P.paddingTop,10),Z=parseInt(P.paddingBottom,10),se=R.top+R.height/2-xi,ie=F-se,Se=b.offsetHeight/2,oe=b.offsetTop+Se,je=G+U+oe,pe=Q-je;if(je<=se){const me=q.length>0&&b===q[q.length-1].ref.current;l.style.bottom="0px";const fe=d.clientHeight-N.offsetTop-N.offsetHeight,Xe=Math.max(ie,Se+(me?Z:0)+fe+V),H=je+Xe;l.style.height=H+"px"}else{const me=q.length>0&&b===q[0].ref.current;l.style.top="0px";const Xe=Math.max(se,G+N.offsetTop+(me?K:0)+Se)+pe;l.style.height=Xe+"px",N.scrollTop=je-se+N.offsetTop}l.style.margin=`${xi}px 0`,l.style.minHeight=J+"px",l.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[h,i.trigger,i.valueNode,l,d,N,b,S,i.dir,n]);Pn(()=>A(),[A]);const[_,E]=y.useState();Pn(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const C=y.useCallback(R=>{R&&v.current===!0&&(A(),j?.(),v.current=!1)},[A,j]);return a.jsx($we,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:C,children:a.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Kt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Wz.displayName=Mwe;var Lwe="SelectPopperPosition",EA=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=xi,...i}=e,o=kb(r);return a.jsx(YT,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});EA.displayName=Lwe;var[$we,QT]=Hf(yu,{}),_A="SelectViewport",Vz=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=bc(_A,r),o=QT(_A,r),l=ir(t,i.onViewportChange),u=y.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Cb.Slot,{scope:r,children:a.jsx(Kt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:wt(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h?.current&&m){const x=Math.abs(u.current-f.scrollTop);if(x>0){const v=window.innerHeight-xi*2,N=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),S=Math.max(N,b);if(S<v){const j=S+x,A=Math.min(v,j),_=j-A;m.style.height=A+"px",m.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,m.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});Vz.displayName=_A;var Yz="SelectGroup",[Fwe,Bwe]=Hf(Yz),Uwe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=uo();return a.jsx(Fwe,{scope:r,id:s,children:a.jsx(Kt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Uwe.displayName=Yz;var Xz="SelectLabel",zwe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Bwe(Xz,r);return a.jsx(Kt.div,{id:s.id,...n,ref:t})});zwe.displayName=Xz;var xy="SelectItem",[Hwe,Qz]=Hf(xy),Zz=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=yc(xy,r),u=bc(xy,r),d=l.value===n,[f,m]=y.useState(i??""),[h,x]=y.useState(!1),v=ir(t,j=>u.itemRefCallback?.(j,n,s)),N=uo(),b=y.useRef("touch"),S=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Hwe,{scope:r,value:n,disabled:s,textId:N,isSelected:d,onItemTextChange:y.useCallback(j=>{m(A=>A||(j?.textContent??"").trim())},[]),children:a.jsx(Cb.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:a.jsx(Kt.div,{role:"option","aria-labelledby":N,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:wt(o.onFocus,()=>x(!0)),onBlur:wt(o.onBlur,()=>x(!1)),onClick:wt(o.onClick,()=>{b.current!=="mouse"&&S()}),onPointerUp:wt(o.onPointerUp,()=>{b.current==="mouse"&&S()}),onPointerDown:wt(o.onPointerDown,j=>{b.current=j.pointerType}),onPointerMove:wt(o.onPointerMove,j=>{b.current=j.pointerType,s?u.onItemLeave?.():b.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:wt(o.onPointerLeave,j=>{j.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:wt(o.onKeyDown,j=>{u.searchRef?.current!==""&&j.key===" "||(Awe.includes(j.key)&&S(),j.key===" "&&j.preventDefault())})})})})});Zz.displayName=xy;var tm="SelectItemText",Jz=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=yc(tm,r),l=bc(tm,r),u=Qz(tm,r),d=Owe(tm,r),[f,m]=y.useState(null),h=ir(t,S=>m(S),u.onItemTextChange,S=>l.itemTextRefCallback?.(S,u.value,u.disabled)),x=f?.textContent,v=y.useMemo(()=>a.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:N,onNativeOptionRemove:b}=d;return Pn(()=>(N(v),()=>b(v)),[N,b,v]),a.jsxs(a.Fragment,{children:[a.jsx(Kt.span,{id:u.textId,...i,ref:h}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_f.createPortal(i.children,o.valueNode):null]})});Jz.displayName=tm;var eH="SelectItemIndicator",tH=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Qz(eH,r).isSelected?a.jsx(Kt.span,{"aria-hidden":!0,...n,ref:t}):null});tH.displayName=eH;var AA="SelectScrollUpButton",rH=y.forwardRef((e,t)=>{const r=bc(AA,e.__scopeSelect),n=QT(AA,e.__scopeSelect),[s,i]=y.useState(!1),o=ir(t,n.onScrollButtonChange);return Pn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(aH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});rH.displayName=AA;var CA="SelectScrollDownButton",nH=y.forwardRef((e,t)=>{const r=bc(CA,e.__scopeSelect),n=QT(CA,e.__scopeSelect),[s,i]=y.useState(!1),o=ir(t,n.onScrollButtonChange);return Pn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;i(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(aH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});nH.displayName=CA;var aH=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=bc("SelectScrollButton",r),o=y.useRef(null),l=Tb(r),u=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>u(),[u]),Pn(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(Kt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:wt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:wt(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:wt(s.onPointerLeave,()=>{u()})})}),qwe="SelectSeparator",Gwe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Kt.div,{"aria-hidden":!0,...n,ref:t})});Gwe.displayName=qwe;var TA="SelectArrow",Kwe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=kb(r),i=yc(TA,r),o=bc(TA,r);return i.open&&o.position==="popper"?a.jsx(XT,{...s,...n,ref:t}):null});Kwe.displayName=TA;var Wwe="SelectBubbleInput",sH=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=y.useRef(null),i=ir(n,s),o=eC(t);return y.useEffect(()=>{const l=s.current;if(!l)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(m)}},[o,t]),a.jsx(Kt.select,{...r,style:{...Iz,...r.style},ref:i,defaultValue:t})});sH.displayName=Wwe;function iH(e){return e===""||e===void 0}function oH(e){const t=Sa(e),r=y.useRef(""),n=y.useRef(0),s=y.useCallback(o=>{const l=r.current+o;t(l),(function u(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function lH(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Vwe(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==r));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function Vwe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ywe=Lz,Xwe=Fz,Qwe=Uz,Zwe=zz,Jwe=Hz,eje=qz,tje=Vz,rje=Zz,nje=Jz,aje=tH,sje=rH,ije=nH;function Oj({...e}){return a.jsx(Ywe,{"data-slot":"select",...e})}function Rj({...e}){return a.jsx(Qwe,{"data-slot":"select-value",...e})}function Pj({className:e,size:t="default",children:r,...n}){return a.jsxs(Xwe,{"data-slot":"select-trigger","data-size":t,className:ce("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,a.jsx(Zwe,{asChild:!0,children:a.jsx(Hn,{className:"size-4 opacity-50"})})]})}function Dj({className:e,children:t,position:r="popper",...n}){return a.jsx(Jwe,{children:a.jsxs(eje,{"data-slot":"select-content",className:ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(oje,{}),a.jsx(tje,{className:ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(lje,{})]})})}function hn({className:e,children:t,...r}){return a.jsxs(rje,{"data-slot":"select-item",className:ce("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(aje,{children:a.jsx(nu,{className:"size-4"})})}),a.jsx(nje,{children:t})]})}function oje({className:e,...t}){return a.jsx(sje,{"data-slot":"select-scroll-up-button",className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Ks,{className:"size-4"})})}function lje({className:e,...t}){return a.jsx(ije,{"data-slot":"select-scroll-down-button",className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Hn,{className:"size-4"})})}var Ij="rovingFocusGroup.onEntryFocus",cje={bubbles:!1,cancelable:!0},kh="RovingFocusGroup",[kA,cH,uje]=pz(kh),[dje,Ob]=Xs(kh,[uje]),[fje,pje]=dje(kh),uH=y.forwardRef((e,t)=>a.jsx(kA.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(kA.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(mje,{...e,ref:t})})}));uH.displayName=kh;var mje=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,h=y.useRef(null),x=ir(t,h),v=hh(i),[N,b]=sl({prop:o,defaultProp:l??null,onChange:u,caller:kh}),[S,j]=y.useState(!1),A=Sa(d),_=cH(r),E=y.useRef(!1),[C,R]=y.useState(0);return y.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(Ij,A),()=>I.removeEventListener(Ij,A)},[A]),a.jsx(fje,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:N,onItemFocus:y.useCallback(I=>b(I),[b]),onItemShiftTab:y.useCallback(()=>j(!0),[]),onFocusableItemAdd:y.useCallback(()=>R(I=>I+1),[]),onFocusableItemRemove:y.useCallback(()=>R(I=>I-1),[]),children:a.jsx(Kt.div,{tabIndex:S||C===0?-1:0,"data-orientation":n,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:wt(e.onMouseDown,()=>{E.current=!0}),onFocus:wt(e.onFocus,I=>{const O=!E.current;if(I.target===I.currentTarget&&O&&!S){const B=new CustomEvent(Ij,cje);if(I.currentTarget.dispatchEvent(B),!B.defaultPrevented){const q=_().filter(U=>U.focusable),F=q.find(U=>U.active),Y=q.find(U=>U.id===N),G=[F,Y,...q].filter(Boolean).map(U=>U.ref.current);pH(G,f)}}E.current=!1}),onBlur:wt(e.onBlur,()=>j(!1))})})}),dH="RovingFocusGroupItem",fH=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,u=uo(),d=i||u,f=pje(dH,r),m=f.currentTabStopId===d,h=cH(r),{onFocusableItemAdd:x,onFocusableItemRemove:v,currentTabStopId:N}=f;return y.useEffect(()=>{if(n)return x(),()=>v()},[n,x,v]),a.jsx(kA.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:a.jsx(Kt.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:wt(e.onMouseDown,b=>{n?f.onItemFocus(d):b.preventDefault()}),onFocus:wt(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:wt(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const S=xje(b,f.orientation,f.dir);if(S!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let A=h().filter(_=>_.focusable).map(_=>_.ref.current);if(S==="last")A.reverse();else if(S==="prev"||S==="next"){S==="prev"&&A.reverse();const _=A.indexOf(b.currentTarget);A=f.loop?yje(A,_+1):A.slice(_+1)}setTimeout(()=>pH(A))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:N!=null}):o})})});fH.displayName=dH;var hje={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gje(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xje(e,t,r){const n=gje(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hje[n]}function pH(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mH=uH,hH=fH,ZT="Radio",[bje,gH]=Xs(ZT),[vje,Nje]=bje(ZT),xH=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:u,form:d,...f}=e,[m,h]=y.useState(null),x=ir(t,b=>h(b)),v=y.useRef(!1),N=m?d||!!m.closest("form"):!0;return a.jsxs(vje,{scope:r,checked:s,disabled:o,children:[a.jsx(Kt.button,{type:"button",role:"radio","aria-checked":s,"data-state":NH(s),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:x,onClick:wt(e.onClick,b=>{s||u?.(),N&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),N&&a.jsx(vH,{control:m,bubbles:!v.current,name:n,value:l,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});xH.displayName=ZT;var yH="RadioIndicator",bH=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=Nje(yH,r);return a.jsx(La,{present:n||i.checked,children:a.jsx(Kt.span,{"data-state":NH(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});bH.displayName=yH;var Sje="RadioBubbleInput",vH=y.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=y.useRef(null),l=ir(o,i),u=eC(r),d=tC(t);return y.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==r&&x){const v=new Event("click",{bubbles:n});x.call(f,r),f.dispatchEvent(v)}},[u,r,n]),a.jsx(Kt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vH.displayName=Sje;function NH(e){return e?"checked":"unchecked"}var wje=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rb="RadioGroup",[jje]=Xs(Rb,[Ob,gH]),SH=Ob(),wH=gH(),[Eje,_je]=jje(Rb),jH=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:u,dir:d,loop:f=!0,onValueChange:m,...h}=e,x=SH(r),v=hh(d),[N,b]=sl({prop:i,defaultProp:s??null,onChange:m,caller:Rb});return a.jsx(Eje,{scope:r,name:n,required:o,disabled:l,value:N,onValueChange:b,children:a.jsx(mH,{asChild:!0,...x,orientation:u,dir:v,loop:f,children:a.jsx(Kt.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:v,...h,ref:t})})})});jH.displayName=Rb;var EH="RadioGroupItem",_H=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=_je(EH,r),o=i.disabled||n,l=SH(r),u=wH(r),d=y.useRef(null),f=ir(t,d),m=i.value===s.value,h=y.useRef(!1);return y.useEffect(()=>{const x=N=>{wje.includes(N.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",v)}},[]),a.jsx(hH,{asChild:!0,...l,focusable:!o,active:m,children:a.jsx(xH,{disabled:o,required:i.required,checked:m,...u,...s,name:i.name,ref:f,onCheck:()=>i.onValueChange(s.value),onKeyDown:wt(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:wt(s.onFocus,()=>{h.current&&d.current?.click()})})})});_H.displayName=EH;var Aje="RadioGroupIndicator",AH=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=wH(r);return a.jsx(bH,{...s,...n,ref:t})});AH.displayName=Aje;var Cje=jH,Tje=_H,kje=AH;function J$({className:e,...t}){return a.jsx(Cje,{"data-slot":"radio-group",className:ce("grid gap-3",e),...t})}function nd({className:e,...t}){return a.jsx(Tje,{"data-slot":"radio-group-item",className:ce("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(kje,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:a.jsx(OW,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var Oje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rje=Oje.reduce((e,t)=>{const r=wy(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Pje="Separator",e6="horizontal",Dje=["horizontal","vertical"],CH=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=e6,...s}=e,i=Ije(n)?n:e6,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Rje.div,{"data-orientation":i,...l,...s,ref:t})});CH.displayName=Pje;function Ije(e){return Dje.includes(e)}var Mje=CH;function Rp({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return a.jsx(Mje,{"data-slot":"separator-root",decorative:r,orientation:t,className:ce("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}var Pb="Tabs",[Lje]=Xs(Pb,[Ob]),TH=Ob(),[$je,JT]=Lje(Pb),kH=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=e,f=hh(l),[m,h]=sl({prop:n,onChange:s,defaultProp:i??"",caller:Pb});return a.jsx($je,{scope:r,baseId:uo(),value:m,onValueChange:h,orientation:o,dir:f,activationMode:u,children:a.jsx(Kt.div,{dir:f,"data-orientation":o,...d,ref:t})})});kH.displayName=Pb;var OH="TabsList",RH=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=JT(OH,r),o=TH(r);return a.jsx(mH,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Kt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});RH.displayName=OH;var PH="TabsTrigger",DH=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=JT(PH,r),l=TH(r),u=LH(o.baseId,n),d=$H(o.baseId,n),f=n===o.value;return a.jsx(hH,{asChild:!0,...l,focusable:!s,active:f,children:a.jsx(Kt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:t,onMouseDown:wt(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:wt(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:wt(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!s&&m&&o.onValueChange(n)})})})});DH.displayName=PH;var IH="TabsContent",MH=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=JT(IH,r),u=LH(l.baseId,n),d=$H(l.baseId,n),f=n===l.value,m=y.useRef(f);return y.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(La,{present:s||f,children:({present:h})=>a.jsx(Kt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});MH.displayName=IH;function LH(e,t){return`${e}-trigger-${t}`}function $H(e,t){return`${e}-content-${t}`}var Fje=kH,Bje=RH,Uje=DH,zje=MH;function Hje({className:e,...t}){return a.jsx(Fje,{"data-slot":"tabs",className:ce("flex flex-col gap-2",e),...t})}function qje({className:e,...t}){return a.jsx(Bje,{"data-slot":"tabs-list",className:ce("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function og({className:e,...t}){return a.jsx(Uje,{"data-slot":"tabs-trigger",className:ce("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function lg({className:e,...t}){return a.jsx(zje,{"data-slot":"tabs-content",className:ce("flex-1 outline-none",e),...t})}function Gje(e){return e===""?"reconsultation":e===""||e===""?"dropout_recontact":e===""||e===""?"contacted":"new"}function Kje(e,t){return Math.max(1,Math.min(99,(t===""?92:t===""?78:t===""?58:38)+(e===""?6:e===""?-6:0)))}function Wje({caseId:e,patientName:t,initialTab:r="consultation",showReferralTab:n=!0,onComplete:s,onCancel:i,onBack:o}){const l=y.useMemo(()=>Ch(e),[e]),u=y.useMemo(()=>KU(l),[l]),[d,f]=y.useState(r),[m,h]=y.useState("new"),[x,v]=y.useState(null),[N,b]=y.useState(!0),[S,j]=y.useState("greeting"),[A,_]=y.useState(""),[E,C]=y.useState(""),[R,I]=y.useState(""),[O,B]=y.useState(""),[q,F]=y.useState(""),[Y,D]=y.useState(""),[G,U]=y.useState(""),[V,M]=y.useState(""),[Q,J]=y.useState(""),[P,K]=y.useState(""),[Z,se]=y.useState(""),[ie,Se]=y.useState(""),[oe,je]=y.useState(""),[pe,Ee]=y.useState({}),[me,fe]=y.useState(!1),[Xe,H]=y.useState(""),[ve,Re]=y.useState([]),[Te,Qe]=y.useState("citizen"),$e=y.useMemo(()=>l?{id:l.id,patientId:l.id,patientName:l.profile.name,ageGroup:xf(l.profile.age),gender:"",phone:l.profile.phone,guardianPhone:l.profile.guardianPhone??"",address:"    ",riskLevel:l.risk===""?"high":l.risk===""?"medium":"low",riskScore:Kje(l.risk,u.label),contactPriorityLabel:u.label,status:Gje(l.status),counselor:l.manager,registeredDate:l.updated.split(" ")[0],lastContact:l.updated.split(" ")[0]}:{id:e,patientId:e,patientName:t??"  ",ageGroup:" ",gender:"",phone:"010-0000-0000",guardianPhone:"",address:"  ",riskLevel:"medium",riskScore:60,contactPriorityLabel:"",status:"new",counselor:" ",registeredDate:new Date().toISOString().split("T")[0],lastContact:new Date().toISOString().split("T")[0]},[e,l,u.label,t]),[jt]=y.useState([{id:"CONS-001",date:"2026-02-01",time:"10:30",counselor:"",duration:15,result:"completed",summary:"  .    .",actions:["   (2026-02-10)"]}]),Ze={new:{greeting:{step:"greeting",title:"1:    ",content:`,    ${$e.counselor} .   ?

       ?`,tips:["   ","    ","    "],checkpoints:["  ","  ","  "]},purpose:{step:"purpose",title:"2:   ",content:`          .

             .    ,   .`,tips:["   ","    ","   "],checkpoints:["  "," ","  "]},assessment:{step:"assessment",title:"3:   ",content:`   ?

 :
-     ?
-   ?
-       ?
-    ?`,tips:["   ","  ","  "],checkpoints:["  ","  ","   "]},scheduling:{step:"scheduling",title:"4:     ",content:`      .  30  ,     .

  ${$e.address} ,     .

    .   ?`,tips:["   ","   ","(,  ) "],checkpoints:["  ","  "," "]}},contacted:{greeting:{step:"greeting",title:"1:  ",content:`,   ${$e.counselor} .     ?`,tips:[" ","   "],checkpoints:[" ","   "]},purpose:{step:"purpose",title:"2:  ",content:"     .     ?",tips:["  ","   "],checkpoints:["  ","  "]},assessment:{step:"assessment",title:"3:   ",content:"     ?    .",tips:["  ","  "],checkpoints:["  ","  "]},scheduling:{step:"scheduling",title:"4:  ",content:"     .       .",tips:["  "," "],checkpoints:[" ","SMS  "]}},reconsultation:{greeting:{step:"greeting",title:"1:   ",content:`, ${$e.counselor} .      .`,tips:["   ","  "],checkpoints:[" ","   "]},purpose:{step:"purpose",title:"2:  ",content:"  ,      .",tips:["  "," "],checkpoints:["  "," "]},assessment:{step:"assessment",title:"3:    ",content:"          .  .",tips:["   "," "],checkpoints:["  "," "]},scheduling:{step:"scheduling",title:"4:   ",content:"    .  ?",tips:[" ","   "],checkpoints:[" ","  "]}},dropout_recontact:{greeting:{step:"greeting",title:"1:  ",content:",  .  .   ?",tips:["  ","   "],checkpoints:[" ","  "]},purpose:{step:"purpose",title:"2:  ",content:"      .",tips:["  ","  "],checkpoints:[" "," "]},assessment:{step:"assessment",title:"3:   ",content:"  ?    .",tips:["  ","  "],checkpoints:["  ","  "]},scheduling:{step:"scheduling",title:"4:  ",content:"     ?      .",tips:["  ","  "],checkpoints:["  ","  "]}}};y.useEffect(()=>{if(N&&A.trim()){const Pe=setInterval(()=>{He()},3e4);return()=>clearInterval(Pe)}},[A,N]),y.useEffect(()=>{h($e.status)},[$e.status]),y.useEffect(()=>{f(r)},[r]),y.useEffect(()=>{!n&&d==="referral"&&f("consultation")},[n,d]),y.useEffect(()=>{fe(!1)},[S,m]),y.useEffect(()=>{if(q&&Y&&G){const Ut=`[ ] ${new Date(Y).toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"})} ${G} ${q==="screening"?"":q==="health_center"?" ":" "}  .

:    123-45
: 02-1234-5678

${V?": "+V:""}`;J(Ut)}else J("")},[q,Y,G,V]);const De=()=>{v(new Date),console.log("[AUDIT] Consultation Started:",{action:"CONSULTATION_START",caseId:$e.id,counselor:$e.counselor,timestamp:new Date().toISOString()})},He=()=>{console.log("[AUTO-SAVE] Consultation Draft Saved:",{caseId:$e.id,notes:A,timestamp:new Date().toISOString()})},ge=()=>{const Pe=`${m}-${S}`,$t=Ze[m][S].content;H(pe[Pe]??$t),fe(!0)},Jt=()=>{const Pe=`${m}-${S}`,$t=Ze[m][S].content,Nr=pe[Pe]??$t;Ee(Ut=>({...Ut,[Pe]:Xe})),Re(Ut=>[{id:`EDIT-${Date.now()}`,step:S,title:Ze[m][S].title,before:Nr,after:Xe,ts:new Date().toISOString()},...Ut]),_(Ut=>Ut+(Ut?`

`:"")+`[${Ze[m][S].title} - ]
${Xe}`),fe(!1)},Vt=()=>{fe(!1)},Lr=()=>{console.log("[AUDIT] Temporary Save:",{action:"CONSULTATION_TEMP_SAVE",caseId:$e.id,notes:A,result:E,timestamp:new Date().toISOString()}),alert(" .")},we=()=>{if(!E){alert("  .");return}if((E==="postponed"||E==="refused")&&!O){alert("  .");return}const Pe=x?Math.floor((new Date().getTime()-x.getTime())/6e4):0;console.log("[AUDIT] Consultation Completed:",{action:"CONSULTATION_COMPLETE",caseId:$e.id,counselor:$e.counselor,result:E,reasonCode:O,reason:R,notes:A,duration:Pe,referral:q?{type:q,date:Y,time:G}:null,dropout:P?{reason:P,details:Z}:null,timestamp:new Date().toISOString()}),alert(` !

 : ${Pe}
: ${E==="completed"?"":E==="postponed"?"":""}

  .`),s&&s()},Me=()=>{if(!q||!Y||!G){alert("   .");return}console.log("[AUDIT] Appointment Confirmed & SMS Sent:",{action:"APPOINTMENT_CREATE",caseId:$e.id,counselor:$e.counselor,referralType:q,appointmentDate:Y,appointmentTime:G,preVisitNotes:V,smsContent:Q,recipientPhone:$e.phone,timestamp:new Date().toISOString()}),alert(`  !

SMS ${$e.phone} .

 :
${Q}`);const Pe=`

[/ ]
: ${q==="screening"?" ":q==="health_center"?" ":" "}
: ${Y} ${G}
SMS : `;_(A+Pe),f("consultation")},Mt=()=>{if(!P||!Z.trim()){alert("     .");return}console.log("[AUDIT] Case Dropout:",{action:"CASE_DROPOUT",caseId:$e.id,counselor:$e.counselor,dropoutReason:P,dropoutDetails:Z,recontactDate:ie,recontactPlan:oe,timestamp:new Date().toISOString()}),alert(`   .

  '' .${ie?`

 : ${ie}`:""}`);const Pe=`

[  ]
: ${P}
: ${Z}
${ie?" : "+ie:""}`;_(A+Pe),f("consultation")},ar=Ze[m],Ur=`${m}-${S}`,Yr=ar[S],ht={greeting:{content:`,    ${$e.counselor} . ?

   .   ?`,tips:[" (,  ) ","   ","   "]},purpose:{content:`           .

    1    .      .`,tips:["   ","    "," "]},assessment:{content:`    ?

     ?     ,      ?`,tips:["     ","    ","  "]},scheduling:{content:`      .

     .     .

      .`,tips:["   ","   ","   "]}},Sn=Te==="guardian"&&!!$e.guardianPhone,Zt=(()=>{const Pe={...Yr,content:pe[Ur]??Yr.content};if(Sn&&!pe[Ur]){const $t=ht[S];return{...Pe,content:$t.content,tips:$t.tips}}return Pe})(),Lt=()=>{if(!x)return"00:00";const Pe=Math.floor((new Date().getTime()-x.getTime())/1e3),$t=Math.floor(Pe/60),Nr=Pe%60;return`${String($t).padStart(2,"0")}:${String(Nr).padStart(2,"0")}`};return a.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(pt,{variant:"ghost",onClick:o||i,size:"sm",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),a.jsxs("p",{className:"text-sm text-gray-500",children:[" ID: ",$e.patientId]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:x?a.jsxs(tn,{variant:"destructive",className:"text-base px-4 py-2",children:[a.jsx(lo,{className:"h-4 w-4 mr-2"}),"  ",Lt()]}):a.jsxs(pt,{onClick:De,variant:"default",children:[a.jsx(Ws,{className:"h-4 w-4 mr-2"})," "]})})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-6 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsx("p",{className:"font-semibold text-sm",children:$e.patientName}),a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[$e.ageGroup," / ",$e.gender]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("p",{className:"font-semibold text-sm flex items-center gap-1",children:[a.jsx(ts,{className:"h-3 w-3 text-gray-400"}),$e.phone]}),$e.guardianPhone&&a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[a.jsx(go,{className:"h-3 w-3 text-blue-400"}),a.jsx("span",{className:"text-blue-600",children:""})," ",$e.guardianPhone]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("p",{className:"font-semibold text-sm flex items-center gap-1",children:[a.jsx(Dg,{className:"h-3 w-3 text-gray-400"}),$e.address]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs(tn,{className:`text-xs ${$e.contactPriorityLabel===""?"bg-red-50 text-red-700 border border-red-200":$e.contactPriorityLabel===""?"bg-orange-50 text-orange-700 border border-orange-200":$e.contactPriorityLabel===""?"bg-blue-50 text-blue-700 border border-blue-200":"bg-emerald-50 text-emerald-700 border border-emerald-200"}`,children:[$e.contactPriorityLabel," (",$e.riskScore,")"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsx(tn,{variant:"outline",className:"text-xs",children:$e.status==="contacted"?"":""})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),a.jsxs("p",{className:"font-semibold text-sm flex items-center gap-1",children:[a.jsx(go,{className:"h-3 w-3 text-gray-400"}),$e.counselor]})]})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsxs(Hje,{value:d,onValueChange:Pe=>f(Pe),className:"h-full flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:a.jsxs(qje,{className:"w-full justify-start bg-transparent",children:[a.jsxs(og,{value:"consultation",className:"data-[state=active]:bg-blue-50 data-[state=active]:text-blue-900",children:[a.jsx(Ws,{className:"h-4 w-4 mr-2"})," "]}),n&&a.jsxs(og,{value:"referral",className:"data-[state=active]:bg-purple-50 data-[state=active]:text-purple-900",children:[a.jsx(xE,{className:"h-4 w-4 mr-2"}),"/"]}),a.jsxs(og,{value:"dropout",className:"data-[state=active]:bg-orange-50 data-[state=active]:text-orange-900",children:[a.jsx(h1,{className:"h-4 w-4 mr-2"})," "]}),a.jsxs(og,{value:"history",className:"data-[state=active]:bg-gray-50",children:[a.jsx(Un,{className:"h-4 w-4 mr-2"})," "]})]})}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[a.jsx(lg,{value:"consultation",className:"h-full m-0 p-6",children:a.jsx("div",{className:"max-w-[1400px] mx-auto",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs(_r,{className:"h-fit",children:[a.jsxs(un,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b",children:[a.jsxs(dn,{className:"flex items-center gap-2 text-blue-900",children:[a.jsx(gm,{className:"h-5 w-5"}),"AI   "]}),a.jsxs(Yl,{children:[" : ",a.jsx(tn,{variant:"outline",className:"ml-2",children:m==="new"?"":m==="contacted"?"":m==="reconsultation"?"":"  "})]})]}),a.jsxs(Ar,{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[a.jsx("p",{className:"text-[10px] font-semibold text-gray-500 mb-2",children:" "}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>Qe("citizen"),className:`flex-1 flex items-center gap-2 px-3 py-2.5 rounded-lg border-2 transition-all text-left ${Te==="citizen"?"border-blue-500 bg-blue-50":"border-gray-200 bg-gray-50 hover:border-gray-300"}`,children:[a.jsx("div",{className:`w-3 h-3 rounded-full border-2 flex items-center justify-center ${Te==="citizen"?"border-blue-500":"border-gray-300"}`,children:Te==="citizen"&&a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-semibold text-gray-900",children:" "}),a.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[a.jsx(ts,{className:"h-2.5 w-2.5"}),$e.phone]})]})]}),$e.guardianPhone?a.jsxs("button",{onClick:()=>Qe("guardian"),className:`flex-1 flex items-center gap-2 px-3 py-2.5 rounded-lg border-2 transition-all text-left ${Te==="guardian"?"border-violet-500 bg-violet-50":"border-gray-200 bg-gray-50 hover:border-gray-300"}`,children:[a.jsx("div",{className:`w-3 h-3 rounded-full border-2 flex items-center justify-center ${Te==="guardian"?"border-violet-500":"border-gray-300"}`,children:Te==="guardian"&&a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-500"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-900 flex items-center gap-1",children:["",a.jsx("span",{className:"inline-flex px-1 py-0 rounded text-[8px] font-medium bg-blue-100 text-blue-700",children:""})]}),a.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[a.jsx(ts,{className:"h-2.5 w-2.5"}),$e.guardianPhone]})]})]}):a.jsxs("div",{className:"flex-1 flex items-center gap-2 px-3 py-2.5 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50 opacity-50",children:[a.jsx("div",{className:"w-3 h-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-400",children:""}),a.jsx("div",{className:"text-[10px] text-gray-400",children:"  "})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["greeting","purpose","assessment","scheduling"].map((Pe,$t)=>a.jsxs(pt,{variant:S===Pe?"default":"outline",size:"sm",onClick:()=>j(Pe),children:[$t+1,""]},Pe))}),a.jsx(Rp,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:Zt.title}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:me?a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ni,{value:Xe,onChange:Pe=>H(Pe.target.value),rows:6,className:"bg-white"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pt,{size:"sm",onClick:Jt,children:""}),a.jsx(pt,{variant:"outline",size:"sm",onClick:Vt,children:""})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-blue-900 whitespace-pre-line leading-relaxed",children:Zt.content}),a.jsxs(pt,{variant:"ghost",size:"sm",className:"mt-3 text-blue-600 hover:text-blue-700 hover:bg-blue-100",onClick:ge,children:[a.jsx(LW,{className:"h-4 w-4 mr-2"})," "]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(ua,{className:"h-4 w-4 text-orange-500"})," "]}),a.jsx("ul",{className:"space-y-1",children:Zt.tips.map((Pe,$t)=>a.jsxs("li",{className:"text-xs text-gray-600 flex items-start gap-2",children:[a.jsx("span",{className:"text-orange-500 font-bold",children:""}),a.jsx("span",{children:Pe})]},$t))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(ji,{className:"h-4 w-4 text-green-500"}),""]}),a.jsx("div",{className:"space-y-1",children:Zt.checkpoints.map((Pe,$t)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"rounded"}),a.jsx("span",{className:"text-xs text-gray-600",children:Pe})]},$t))})]})]}),ve.length>0&&a.jsxs("div",{className:"mt-4 border-t pt-3",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2",children:"  "}),a.jsx("div",{className:"space-y-2",children:ve.slice(0,3).map(Pe=>a.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-500",children:[a.jsx("span",{children:Pe.title}),a.jsx("span",{children:new Date(Pe.ts).toLocaleString("ko-KR")})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-700 line-clamp-2",children:Pe.after})]},Pe.id))})]})]})]})]}),a.jsxs(_r,{className:"h-fit",children:[a.jsxs(un,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-b",children:[a.jsxs(dn,{className:"flex items-center gap-2 text-green-900",children:[a.jsx(iu,{className:"h-5 w-5"}),"    "]}),a.jsx(Yl,{className:"flex items-center gap-4",children:x&&a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(lo,{className:"h-3 w-3"}),": ",x.toLocaleTimeString("ko-KR")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[" : ",Lt()]})]})})]}),a.jsxs(Ar,{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(bt,{htmlFor:"consultation-notes",children:" "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"auto-save",checked:N,onChange:Pe=>b(Pe.target.checked),className:"rounded"}),a.jsx("label",{htmlFor:"auto-save",className:"text-xs text-gray-500",children:"30 "})]})]}),a.jsx(Ni,{id:"consultation-notes",value:A,onChange:Pe=>_(Pe.target.value),placeholder:" ,  ,    ...",rows:12,className:"font-mono text-sm"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A.length,"  / : ",N?"":""]})]}),a.jsx(Rp,{}),a.jsxs("div",{children:[a.jsx(bt,{children:"  *"}),a.jsxs(J$,{value:E,onValueChange:Pe=>C(Pe),className:"mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nd,{value:"completed",id:"completed"}),a.jsxs(bt,{htmlFor:"completed",className:"font-normal flex items-center gap-2",children:[a.jsx(ji,{className:"h-4 w-4 text-green-600"})," "]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nd,{value:"postponed",id:"postponed"}),a.jsxs(bt,{htmlFor:"postponed",className:"font-normal flex items-center gap-2",children:[a.jsx(ua,{className:"h-4 w-4 text-yellow-600"}),""]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nd,{value:"refused",id:"refused"}),a.jsxs(bt,{htmlFor:"refused",className:"font-normal flex items-center gap-2",children:[a.jsx(Od,{className:"h-4 w-4 text-red-600"}),""]})]})]})]}),(E==="postponed"||E==="refused")&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"result-reason-code",children:"  *"}),a.jsxs(Oj,{value:O,onValueChange:B,children:[a.jsx(Pj,{id:"result-reason-code",className:"mt-2",children:a.jsx(Rj,{placeholder:"  "})}),a.jsx(Dj,{children:E==="postponed"?a.jsxs(a.Fragment,{children:[a.jsx(hn,{value:"P001",children:"P001 -  "}),a.jsx(hn,{value:"P002",children:"P002 -   "}),a.jsx(hn,{value:"P003",children:"P003 -   "}),a.jsx(hn,{value:"P999",children:"P999 - "})]}):a.jsxs(a.Fragment,{children:[a.jsx(hn,{value:"R001",children:"R001 -   ( )"}),a.jsx(hn,{value:"R002",children:"R002 -  "}),a.jsx(hn,{value:"R003",children:"R003 -  "}),a.jsx(hn,{value:"R004",children:"R004 -  "}),a.jsx(hn,{value:"R999",children:"R999 - "})]})})]})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"result-reason",children:" "}),a.jsx(fr,{id:"result-reason",value:R,onChange:Pe=>I(Pe.target.value),placeholder:"  ",className:"mt-2"})]})]}),a.jsx(Rp,{}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n?a.jsxs(pt,{variant:"outline",onClick:()=>f("referral"),className:"w-full",children:[a.jsx(xE,{className:"h-4 w-4 mr-2"}),"/"]}):a.jsx("div",{className:"w-full rounded-md border border-gray-200 bg-gray-50 px-3 py-2 text-center text-xs text-gray-500",children:"/   "}),a.jsxs(pt,{variant:"outline",onClick:()=>f("dropout"),className:"w-full",children:[a.jsx(h1,{className:"h-4 w-4 mr-2"})," "]})]}),a.jsx(Rp,{}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pt,{variant:"outline",onClick:Lr,className:"flex-1",children:[a.jsx(l7,{className:"h-4 w-4 mr-2"})," "]}),a.jsxs(pt,{onClick:we,className:"flex-1",disabled:!E,children:[a.jsx(ji,{className:"h-4 w-4 mr-2"})," "]})]})]})]})]})})}),n&&a.jsx(lg,{value:"referral",className:"h-full m-0 p-6",children:a.jsx("div",{className:"max-w-[1200px] mx-auto",children:a.jsxs(_r,{children:[a.jsxs(un,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b",children:[a.jsxs(dn,{className:"flex items-center gap-2 text-purple-900",children:[a.jsx(wi,{className:"h-5 w-5"}),"  "]}),a.jsx(Yl,{children:"  ,  ,    -      "})]}),a.jsx(Ar,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(bt,{children:"  *"}),a.jsxs(J$,{value:q,onValueChange:Pe=>F(Pe),className:"mt-2 space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 border border-gray-200 rounded-lg p-3 hover:bg-gray-50",children:[a.jsx(nd,{value:"screening",id:"screening"}),a.jsxs(bt,{htmlFor:"screening",className:"font-normal flex items-center gap-2 cursor-pointer flex-1",children:[a.jsx(gm,{className:"h-4 w-4 text-purple-600"}),"  "]})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-gray-200 rounded-lg p-3 hover:bg-gray-50",children:[a.jsx(nd,{value:"health_center",id:"health_center"}),a.jsxs(bt,{htmlFor:"health_center",className:"font-normal flex items-center gap-2 cursor-pointer flex-1",children:[a.jsx(xd,{className:"h-4 w-4 text-blue-600"})," "]})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-gray-200 rounded-lg p-3 hover:bg-gray-50",children:[a.jsx(nd,{value:"medical",id:"medical"}),a.jsxs(bt,{htmlFor:"medical",className:"font-normal flex items-center gap-2 cursor-pointer flex-1",children:[a.jsx(iV,{className:"h-4 w-4 text-red-600"})," "]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"appointment-date",children:"  *"}),a.jsx(fr,{id:"appointment-date",type:"date",value:Y,onChange:Pe=>D(Pe.target.value),className:"mt-2",min:new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"appointment-time",children:"  *"}),a.jsxs(Oj,{value:G,onValueChange:U,children:[a.jsx(Pj,{id:"appointment-time",className:"mt-2",children:a.jsx(Rj,{placeholder:" "})}),a.jsxs(Dj,{children:[a.jsx(hn,{value:"09:00",children:" 09:00"}),a.jsx(hn,{value:"10:00",children:" 10:00"}),a.jsx(hn,{value:"11:00",children:" 11:00"}),a.jsx(hn,{value:"14:00",children:" 02:00"}),a.jsx(hn,{value:"15:00",children:" 03:00"}),a.jsx(hn,{value:"16:00",children:" 04:00"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"pre-visit",children:"  "}),a.jsx(Ni,{id:"pre-visit",value:V,onChange:Pe=>M(Pe.target.value),placeholder:":  ,   ,  ",rows:3,className:"mt-2"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(bt,{children:"SMS  "}),a.jsx("div",{className:"mt-2 bg-gray-900 text-white p-4 rounded-lg min-h-[200px] font-mono text-sm whitespace-pre-line",children:Q||"      SMS "})]}),a.jsxs(yd,{children:[a.jsx(bm,{className:"h-4 w-4"}),a.jsxs(bd,{className:"text-sm",children:[a.jsx("strong",{children:":"})," ",$e.phone,a.jsx("br",{}),"    SMS ,    ."]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pt,{variant:"outline",onClick:()=>f("consultation"),className:"flex-1",children:" "}),a.jsxs(pt,{onClick:Me,className:"flex-1",disabled:!q||!Y||!G,children:[a.jsx(bm,{className:"h-4 w-4 mr-2"})," "]})]})]})]})})]})})}),a.jsx(lg,{value:"dropout",className:"h-full m-0 p-6",children:a.jsx("div",{className:"max-w-[1200px] mx-auto",children:a.jsxs(_r,{className:"border-orange-200",children:[a.jsxs(un,{className:"bg-gradient-to-r from-orange-50 to-red-50 border-b border-orange-200",children:[a.jsxs(dn,{className:"flex items-center gap-2 text-orange-900",children:[a.jsx(h1,{className:"h-5 w-5"}),"   "]}),a.jsx(Yl,{children:"       -      "})]}),a.jsxs(Ar,{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(da,{className:"h-4 w-4 text-orange-600"})," "]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"dropout-reason",children:"  *"}),a.jsxs(Oj,{value:P,onValueChange:K,children:[a.jsx(Pj,{id:"dropout-reason",className:"mt-2",children:a.jsx(Rj,{placeholder:" "})}),a.jsxs(Dj,{children:[a.jsx(hn,{value:"no_response",children:"D001 -   (3  )"}),a.jsx(hn,{value:"refused",children:"D002 -   "}),a.jsx(hn,{value:"family_refused",children:"D003 -  "}),a.jsx(hn,{value:"relocated",children:"D004 -  / "}),a.jsx(hn,{value:"deceased",children:"D005 - "}),a.jsx(hn,{value:"other_service",children:"D006 -   "}),a.jsx(hn,{value:"other",children:"D999 - "})]})]})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"dropout-details",children:"  *"}),a.jsx(Ni,{id:"dropout-details",value:Z,onChange:Pe=>se(Pe.target.value),placeholder:" ,   ,    ",rows:6,className:"mt-2"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Dk,{className:"h-4 w-4 text-blue-600"})," "]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"recontact-date",children:" "}),a.jsx(fr,{id:"recontact-date",type:"date",value:ie,onChange:Pe=>Se(Pe.target.value),className:"mt-2",min:new Date().toISOString().split("T")[0]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ie&&" 1    "})]}),a.jsxs("div",{children:[a.jsx(bt,{htmlFor:"recontact-plan",children:"   "}),a.jsx(Ni,{id:"recontact-plan",value:oe,onChange:Pe=>je(Pe.target.value),placeholder:": 1     ,    ",rows:6,className:"mt-2"})]}),a.jsxs(yd,{className:"border-blue-200 bg-blue-50",children:[a.jsx(Dk,{className:"h-4 w-4 text-blue-600"}),a.jsx(bd,{className:"text-sm text-blue-900",children:"       ,   ."})]})]})]}),a.jsx(Rp,{className:"my-6"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pt,{variant:"outline",onClick:()=>f("consultation"),className:"flex-1",children:" "}),a.jsxs(pt,{variant:"destructive",onClick:Mt,disabled:!P||!Z.trim(),className:"flex-1",children:[a.jsx(Od,{className:"h-4 w-4 mr-2"}),"  "]})]})]})]})})}),a.jsx(lg,{value:"history",className:"h-full m-0 p-6",children:a.jsx("div",{className:"max-w-[1200px] mx-auto",children:a.jsxs(_r,{children:[a.jsxs(un,{children:[a.jsxs(dn,{className:"flex items-center gap-2",children:[a.jsx(lo,{className:"h-5 w-5"}),"  "]}),a.jsx(Yl,{children:"      "})]}),a.jsx(Ar,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:jt.map((Pe,$t)=>a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 border-2 border-blue-600 flex items-center justify-center",children:a.jsx(Ws,{className:"h-4 w-4 text-blue-600"})}),$t<jt.length-1&&a.jsx("div",{className:"w-0.5 h-full bg-gray-300 mt-2"})]}),a.jsxs("div",{className:"flex-1 pb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-gray-900",children:[" #",jt.length-$t]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Pe.date," ",Pe.time,"  ",Pe.counselor,"  ",Pe.duration,""]})]}),a.jsx(tn,{variant:Pe.result==="completed"?"default":Pe.result==="postponed"?"secondary":"destructive",children:Pe.result==="completed"?"":Pe.result==="postponed"?"":""})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:Pe.summary}),Pe.actions.length>0&&a.jsx("div",{className:"space-y-1",children:Pe.actions.map((Nr,Ut)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[a.jsx(ji,{className:"h-3 w-3 text-green-600"}),Nr]},Ut))})]})]},Pe.id))})})]})})})]})]})})]})}const Mj=[{id:"CONTACT_PRIMARY",category:"CONTACT",label:"1  ",hint:"  ",build:({centerName:e,link:t,centerPhone:r})=>`[:${e}]    .      (/)   .      : ${t} / : ${r}`},{id:"CONTACT_GUARDIAN_OPTION",category:"CONTACT",label:"1   ( )",hint:"    ",build:({centerName:e,link:t,centerPhone:r})=>`[:${e}]        ()   .  / : ${t} / : ${r}`},{id:"BOOKING_PRIMARY",category:"BOOKING",label:"1 ",hint:"/  ",build:({centerName:e,bookingLink:t,centerPhone:r})=>`[:${e}]  /  .   . /: ${t} / : ${r}`},{id:"BOOKING_CHANNEL_OPTION",category:"BOOKING",label:"1  (/ )",hint:"   ",build:({centerName:e,bookingLink:t})=>`[:${e}] /      .    . ${t}`},{id:"REMINDER_FIRST",category:"REMINDER",label:"1 ",hint:"/ 1 ",build:({centerName:e,link:t,centerPhone:r})=>`[:${e}]        .    ,    . ${t} / : ${r}`},{id:"REMINDER_FINAL",category:"REMINDER",label:" ",hint:" ",build:({centerName:e,link:t,centerPhone:r})=>`[:${e}]    .     /  . ${t} / : ${r}`}],Lj={CONTACT:{label:"1 ",tone:"border-blue-200 bg-blue-50 text-blue-800"},BOOKING:{label:"",tone:"border-emerald-200 bg-emerald-50 text-emerald-800"},REMINDER:{label:"",tone:"border-amber-200 bg-amber-50 text-amber-800"}};function Vje(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}async function Yje(e){const t=["/api/outreach/send-sms","http://localhost:4120/api/outreach/send-sms"];for(const r of t)try{if((await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}return!1}function Xje({caseId:e,onBack:t}){const r=y.useMemo(()=>Ch(e),[e]),[n,s]=y.useState("CONTACT_PRIMARY"),[i,o]=y.useState("citizen"),[l,u]=y.useState("NOW"),[d,f]=y.useState(""),[m,h]=y.useState(" "),[x,v]=y.useState("02-1234-5678"),[N,b]=y.useState("https://neuro-shield.local/check"),[S,j]=y.useState("https://neuro-shield.local/booking"),[A,_]=y.useState([]),[E,C]=y.useState(!1),R=Mj.find(D=>D.id===n)??Mj[0],I=R.build({centerName:m,link:N,bookingLink:S,centerPhone:x}),O=y.useMemo(()=>{const D={CONTACT:[],BOOKING:[],REMINDER:[]};for(const G of Mj)D[G.category].push(G);return D},[]),B=i==="guardian"?r?.profile.guardianPhone:r?.profile.phone,q=i==="guardian"&&!r?.profile.guardianPhone,F=E||!B||l==="SCHEDULE"&&!d,Y=async()=>{if(!B)return;C(!0);const D=new Date().toISOString();let G=l==="NOW"?"SENT":"SCHEDULED";l==="NOW"&&(G=await Yje({case_id:e,template_id:R.id,citizen_phone:B,message:I,channel:"sms",dedupe_key:`${e}-${R.id}-${i}-${Date.now()}`})?"SENT":"FAILED"),_(U=>[{id:`${Date.now()}`,at:l==="SCHEDULE"?new Date(d).toISOString():D,recipient:i,templateLabel:R.label,status:G},...U]),C(!1)};return a.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[a.jsx("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-white px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:t,className:"inline-flex items-center gap-1 rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 hover:bg-gray-50",children:[a.jsx(Xi,{size:14})," "]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"/ "}),a.jsxs("p",{className:"text-xs text-gray-500",children:["CASE ID: ",e]})]})]}),a.jsx("span",{className:"rounded-full border border-blue-200 bg-blue-50 px-3 py-1 text-[11px] font-semibold text-blue-700",children:"Stage1   "})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsx("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("p",{className:"mt-1 text-sm font-bold text-gray-900",children:r?.id??e})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:""}),a.jsx("p",{className:"mt-1 text-sm font-bold text-gray-900",children:r?xf(r.profile.age):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("p",{className:"mt-1 text-sm font-bold text-gray-900",children:r?so(r.profile.phone):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("p",{className:"mt-1 text-sm font-bold text-gray-900",children:r?.profile.guardianPhone?so(r.profile.guardianPhone):""})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-12",children:[a.jsxs("section",{className:"xl:col-span-8 space-y-4",children:[a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Ws,{size:15,className:"text-gray-500"})," "]}),a.jsx("div",{className:"mt-3 space-y-3",children:Object.keys(O).map(D=>a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"mb-2 text-xs font-bold text-gray-700",children:Lj[D].label}),a.jsx("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:O[D].map(G=>a.jsxs("button",{onClick:()=>s(G.id),className:`rounded-lg border px-3 py-2 text-left transition-colors ${n===G.id?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:bg-gray-50"}`,children:[a.jsx("p",{className:"text-xs font-semibold text-gray-900",children:G.label}),a.jsx("p",{className:"mt-0.5 text-[11px] text-gray-500",children:G.hint})]},G.id))})]},D))})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(s7,{size:15,className:"text-gray-500"})," "]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:""}),a.jsx("input",{value:m,onChange:D=>h(D.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]}),a.jsxs("label",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:" "}),a.jsx("input",{value:x,onChange:D=>v(D.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]}),a.jsxs("label",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:" "}),a.jsx("input",{value:N,onChange:D=>b(D.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]}),a.jsxs("label",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:" "}),a.jsx("input",{value:S,onChange:D=>j(D.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]})]})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-900",children:" "}),a.jsx("span",{className:`rounded-full border px-2 py-0.5 text-[10px] font-semibold ${Lj[R.category].tone}`,children:Lj[R.category].label})]}),a.jsx("p",{className:"mt-3 whitespace-pre-wrap rounded-lg border border-gray-100 bg-gray-50 p-3 text-sm leading-relaxed text-gray-800",children:I}),a.jsxs("p",{className:"mt-2 text-[11px] text-gray-500",children:[" : ",I.length,""]})]})]}),a.jsxs("aside",{className:"xl:col-span-4 space-y-4",children:[a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(bm,{size:15,className:"text-gray-500"})," "]}),a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-xs",children:[a.jsx("input",{type:"radio",checked:i==="citizen",onChange:()=>o("citizen")}),a.jsx(go,{size:12,className:"text-gray-500"})," (",r?so(r.profile.phone):"-",")"]}),a.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-xs ${q?"border-dashed border-gray-200 bg-gray-50 text-gray-400":"border-gray-200 bg-gray-50"}`,children:[a.jsx("input",{type:"radio",checked:i==="guardian",onChange:()=>o("guardian"),disabled:q}),a.jsx(lY,{size:12,className:"text-gray-500"})," (",r?.profile.guardianPhone?so(r.profile.guardianPhone):"",")"]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-1 rounded-lg border border-gray-200 bg-gray-50 p-1 text-[11px] font-semibold",children:[a.jsx("button",{onClick:()=>u("NOW"),className:`rounded-md px-2 py-1 ${l==="NOW"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:" "}),a.jsx("button",{onClick:()=>u("SCHEDULE"),className:`rounded-md px-2 py-1 ${l==="SCHEDULE"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:" "})]}),l==="SCHEDULE"?a.jsxs("label",{className:"mt-3 block text-xs text-gray-500",children:[" ",a.jsx("input",{type:"datetime-local",value:d,onChange:D=>f(D.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]}):null,a.jsx("button",{onClick:Y,disabled:F,className:"mt-3 inline-flex w-full items-center justify-center gap-2 rounded-md bg-[#163b6f] px-3 py-2 text-xs font-semibold text-white disabled:cursor-not-allowed disabled:bg-gray-300",children:E?" ...":l==="NOW"?" ":" "}),B?null:a.jsx("p",{className:"mt-2 text-[11px] text-red-600",children:"   ."})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Un,{size:15,className:"text-gray-500"})," "]}),a.jsx("div",{className:"mt-3 space-y-2",children:A.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:"  ."}):A.map(D=>a.jsxs("div",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-semibold text-gray-800",children:D.templateLabel}),a.jsx("span",{className:`rounded px-1.5 py-0.5 text-[10px] font-semibold ${D.status==="SENT"?"bg-emerald-100 text-emerald-700":D.status==="SCHEDULED"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:D.status==="SENT"?"":D.status==="SCHEDULED"?"":""})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[D.recipient==="citizen"?"":"","  ",Vje(D.at)]})]},D.id))})]}),a.jsxs("div",{className:"rounded-xl border border-blue-100 bg-blue-50 p-4",children:[a.jsxs("h4",{className:"text-xs font-bold text-blue-900 flex items-center gap-1",children:[a.jsx(r7,{size:13})," "]}),a.jsxs("ul",{className:"mt-2 space-y-1 text-[11px] text-blue-800",children:[a.jsx("li",{children:"1 :      "}),a.jsx("li",{children:": /  "}),a.jsx("li",{children:":  "})]})]})]})]})]})]})}function Qje({userRole:e="counselor",userName:t="",centerName:r="  ",onLogout:n}){const[s,i]=y.useState("main"),[o,l]=y.useState(null),[u,d]=y.useState("Stage 1"),[f,m]=y.useState(null),[h,x]=y.useState("detail"),v=(A,_)=>{l(A),d(_),x("detail"),i("cases")},N=A=>{m(A),l(null),x("detail"),i("cases")},b=()=>{l(null),x("detail")},S=()=>{if(o&&s==="cases")return h==="consultation"?a.jsx(Wje,{caseId:o,showReferralTab:!1,onComplete:b,onCancel:()=>x("detail"),onBack:()=>x("detail")}):h==="sms"?a.jsx(Xje,{caseId:o,onBack:()=>x("detail")}):h==="stage-workflow"&&u==="Stage 2"?a.jsx(dz,{caseId:o,onBack:b}):h==="stage-workflow"&&u==="Stage 3"?a.jsx(fz,{caseId:o,onBack:b}):a.jsx(GNe,{caseId:o,stage:u,onBack:b});switch(s){case"main":return a.jsx(l$,{onNavigateToCases:N,onSelectCase:v,centerName:r});case"cases":return a.jsx(j1e,{onSelectCase:v,initialFilter:f});case"calendar":return a.jsx(F1e,{});case"reports":return a.jsx(B1e,{});case"settings":return a.jsx(U1e,{});default:return a.jsx(l$,{onNavigateToCases:N,onSelectCase:v,centerName:r})}},j=s==="cases"&&o!==null;return a.jsxs("div",{className:"flex h-screen w-full bg-gray-50 overflow-hidden text-slate-900 font-sans",children:[a.jsx(z1e,{activeTab:s,setActiveTab:A=>{i(A),l(null),m(null),x("detail")},userName:t,centerName:r,userRole:e,onLogout:n}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[!j&&a.jsx(q1e,{activeTab:s}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:S()})]})]})}const Zje=["","","","","",""],Jje={:" ",:" ",:" ",:"  ",:"",:" "};function eEe(e){let t=e;return Zje.forEach(r=>{t=t.split(r).join(Jje[r])}),t}function Je(e){return eEe(e)}const FH={11:[{code:"11010",label:""},{code:"11020",label:""},{code:"11030",label:""},{code:"11040",label:""}],26:[{code:"26010",label:""},{code:"26020",label:""},{code:"26030",label:""},{code:"26040",label:""}],27:[{code:"27010",label:""},{code:"27020",label:""},{code:"27030",label:""},{code:"27040",label:""}],29:[{code:"29010",label:""},{code:"29020",label:""},{code:"29030",label:""}],31:[{code:"31010",label:""},{code:"31020",label:""},{code:"31030",label:""},{code:"31040",label:""}],41:[{code:"41010",label:""},{code:"41020",label:""},{code:"41030",label:""},{code:"41040",label:""}],44:[{code:"44010",label:""},{code:"44020",label:""},{code:"44030",label:""},{code:"44040",label:""}],46:[{code:"46010",label:""},{code:"46020",label:""},{code:"46030",label:""},{code:"46040",label:""}],47:[{code:"47010",label:""},{code:"47020",label:""},{code:"47030",label:""},{code:"47040",label:""}],48:[{code:"48010",label:""},{code:"48020",label:""},{code:"48030",label:""},{code:"48040",label:""}],50:[{code:"50010",label:""},{code:"50020",label:""}]},tEe={slaBreachRate:.35,notReachedRate:.3,avgWaitTimeNorm:.2,longWaitRate:.15},t6={kpi:.6,volume:.4},BH=e=>Math.max(0,Math.min(1,e));function rEe(e,t,r,n){if(r<=t)return .5;const s=BH((e-t)/(r-t));return n==="higherWorse"?s:1-s}function nEe(e,t,r){return r<=t?.5:BH((e-t)/(r-t))}function aEe(e){const t=rEe(e.kpiValue,e.kpiMin,e.kpiMax,e.direction),r=nEe(e.volume,e.volumeMin,e.volumeMax);return Number((t*t6.kpi+r*t6.volume).toFixed(3))}const sEe=[{key:"district",label:"",align:"left"},{key:"kpiValue",label:"KPI ",align:"right"},{key:"volume",label:"()",align:"right"},{key:"priorityScore",label:"",align:"right"},{key:"nationalDelta",label:"  ",align:"right"}],rm={thresholds:{longWaitDays:7,slaNearDays:3},weights:{...tEe},notifications:{slaBreachAlert:!0,slaImminentAlert:!0,longWaitSurge:!1,riskIncrease:!1}};function UH(e){try{const t=localStorage.getItem(`regional.settings.${e}.thresholds`),r=localStorage.getItem(`regional.settings.${e}.weights`),n=localStorage.getItem(`regional.settings.${e}.notifications`);return{thresholds:t?JSON.parse(t):rm.thresholds,weights:r?JSON.parse(r):rm.weights,notifications:n?JSON.parse(n):rm.notifications}}catch{return{...rm}}}function iEe(e,t){localStorage.setItem(`regional.settings.${e}.thresholds`,JSON.stringify(t.thresholds)),localStorage.setItem(`regional.settings.${e}.weights`,JSON.stringify(t.weights)),localStorage.setItem(`regional.settings.${e}.notifications`,JSON.stringify(t.notifications))}const oEe={regionalSla:"regional_sla_violation",regionalQueueRisk:"regional_queue_risk",regionalRecontact:"regional_recontact_rate",regionalDataReadiness:"regional_data_readiness",regionalGovernance:"regional_governance_missing",regionalAdTransitionHotspot:"regional_ad_transition_hotspot",regionalDxDelayHotspot:"regional_dx_delay_hotspot",regionalScreenToDxRate:"regional_screen_to_dx_rate"},r6={regionalSla:"blue",regionalQueueRisk:"orange",regionalRecontact:"red",regionalDataReadiness:"orange",regionalGovernance:"purple",regionalAdTransitionHotspot:"red",regionalDxDelayHotspot:"orange",regionalScreenToDxRate:"teal"},$l="    ",OA=[{key:"regionalSla",label:" (/24h)",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"     ",scopeLine:$l,clickAction:"   .",drilldownKind:"inflow",mapMetricLabel:"  ",trendGoal:280,color:"#2563eb",iconBg:"bg-blue-100 text-blue-700"},{key:"regionalQueueRisk",label:" ( )",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"  /   ",scopeLine:$l,clickAction:"    .",drilldownKind:"queue",mapMetricLabel:"  ",trendGoal:160,color:"#ea580c",iconBg:"bg-orange-100 text-orange-700"},{key:"regionalRecontact",label:"SLA (/)",shortLabel:"SLA ",unit:"%",direction:"higherWorse",tooltip:" /     ",scopeLine:$l,clickAction:"   .",drilldownKind:"sla",mapMetricLabel:" SLA  ",trendGoal:6,color:"#ef4444",iconBg:"bg-red-100 text-red-700"},{key:"regionalDataReadiness",label:" ",shortLabel:"",unit:"%",direction:"higherWorse",tooltip:"     ",scopeLine:$l,clickAction:"   .",drilldownKind:"recontact",mapMetricLabel:"   ",trendGoal:9,color:"#d97706",iconBg:"bg-amber-100 text-amber-700"},{key:"regionalGovernance",label:" ( )",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"  SLA    ",scopeLine:$l,clickAction:"   .",drilldownKind:"centerRisk",mapMetricLabel:"   ",trendGoal:40,color:"#7c3aed",iconBg:"bg-violet-100 text-violet-700"},{key:"regionalAdTransitionHotspot",label:"AD    ",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"      ",scopeLine:$l,clickAction:"      .",drilldownKind:"centerRisk",mapMetricLabel:" AD   ",trendGoal:42,color:"#dc2626",iconBg:"bg-rose-100 text-rose-700"},{key:"regionalDxDelayHotspot",label:"  ",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"       ",scopeLine:$l,clickAction:"      .",drilldownKind:"queue",mapMetricLabel:"   ",trendGoal:24,color:"#f97316",iconBg:"bg-orange-100 text-orange-700"},{key:"regionalScreenToDxRate",label:"  ",shortLabel:"",unit:"%",direction:"higherBetter",tooltip:"      ",scopeLine:$l,clickAction:"      .",drilldownKind:"sla",mapMetricLabel:"  ",trendGoal:68,color:"#0f766e",iconBg:"bg-teal-100 text-teal-700"}],Db=OA.reduce((e,t)=>(e[t.key]=t,e),{}),lEe="drill",cEe="kpi",uEe="range",dEe="view",bf={REGION:0,SIGUNGU:1,EUPMYEONDONG:2,CUSTOM:3};function fEe(e){return e==="REGION"||e==="SIGUNGU"||e==="EUPMYEONDONG"||e==="CUSTOM"?e:null}function pEe(e){if(!e||typeof e!="object")return null;const t=e,r=fEe(t.l??t.level),n=t.i??t.id;if(!r||typeof n!="string"&&typeof n!="number")return null;const s=String(n),i=t.n??t.label??s,o=typeof i=="string"&&i.trim()?i:s;return{l:r,i:s,n:o}}function Ib(e){const t=e.filter(Boolean).map(n=>({l:n.l,i:String(n.i),n:n.n})),r=[];return t.forEach(n=>{const s=bf[n.l];for(;r.length>0;){const i=r[r.length-1];if(bf[i.l]<s)break;r.pop()}r.push(n)}),r}function RA(e){const t=Ib(e);return JSON.stringify(t.map(r=>({l:r.l,i:String(r.i),n:r.n})))}function n6(e){try{const t=JSON.parse(e);return Array.isArray(t)?Ib(t.map(r=>pEe(r)).filter(r=>!!r)):[]}catch{return[]}}function zH(e){if(!e)return[];const t=n6(e);if(t.length>0)return t;try{const r=decodeURIComponent(e);if(r!==e)return n6(r)}catch{return[]}return[]}function PA(e){return e.map(t=>({l:t.level,i:String(t.id),n:t.label}))}function a6(e){const t=[];return e.forEach(r=>{const n=bf[r.level];for(;t.length>0;){const s=t[t.length-1];if(bf[s.level]<n)break;t.pop()}t.push({...r,id:String(r.id)})}),t}function Pp(e,t){return{level:e.level,id:String(e.id),label:e.label,filters:{...t},timestamp:Date.now()}}function HH(e,t){return e==="geomap"||e==="heatmap"?e:t}function qH(e,t){return e==="24h"||e==="7d"||e==="30d"||e==="90d"?e:e==="weekly"?"7d":e==="monthly"?"30d":e==="quarterly"?"90d":t}function $j(e,t,r,n,s){if(typeof window>"u")return[e];const i=new URLSearchParams(window.location.search),o=zH(i.get(t)),l={kpi:i.get(r)??e.filters.kpi,range:qH(i.get(n)??e.filters.range,e.filters.range),view:HH(i.get(s),e.filters.view)};if(!o.length)return[{...e,filters:{...l}}];const u={l:e.level,i:String(e.id),n:e.label};return Ib([u,...o.filter(f=>!(f.l===u.l&&f.i===u.i))]).map((f,m)=>({level:f.l,id:f.i,label:m===0?e.label:f.n,filters:{...l},timestamp:Date.now()+m}))}function mEe(e,t){return e.kpi===t.kpi&&e.range===t.range&&e.view===t.view&&(e.overlay??"")===(t.overlay??"")}function ad(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(e[r].level!==t[r].level||String(e[r].id)!==String(t[r].id)||e[r].label!==t[r].label||!mEe(e[r].filters,t[r].filters))return!1;return!0}function DA(e,t){return`${e}|${t.kpi}|${t.range}|${t.view}`}function s6(e){const{stack:t,mode:r,queryKey:n,kpiKey:s,rangeKey:i,viewKey:o,defaultFilters:l,lastAppliedQueryRef:u}=e;if(typeof window>"u"||!t.length)return!1;const d=new URL(window.location.href),f=new URL(window.location.href),m=t[t.length-1],h=RA(PA(t)),v=Ib(PA(t)).length<=1,N=m.filters.kpi===l.kpi&&m.filters.range===l.range&&m.filters.view===l.view;if(v?f.searchParams.delete(n):f.searchParams.set(n,h),v&&N?(f.searchParams.delete(o),f.searchParams.delete(s),f.searchParams.delete(i)):(m.filters.view===l.view?f.searchParams.delete(o):f.searchParams.set(o,m.filters.view),m.filters.kpi===l.kpi?f.searchParams.delete(s):f.searchParams.set(s,m.filters.kpi),m.filters.range===l.range?f.searchParams.delete(i):f.searchParams.set(i,m.filters.range)),f.search===d.search)return!1;r==="replace"?window.history.replaceState({},"",f.toString()):window.history.pushState({},"",f.toString());const b=v?"":h;return u.current=DA(b,m.filters),!0}function hEe({root:e,initialFilters:t,queryKey:r=lEe,kpiKey:n=cEe,rangeKey:s=uEe,viewKey:i=dEe}){const o=y.useRef(t),l=y.useRef("");y.useEffect(()=>{o.current=t},[t.kpi,t.overlay,t.range,t.view]);const u=y.useMemo(()=>`${e.level}:${String(e.id)}:${e.label}`,[e.id,e.label,e.level]),d=y.useMemo(()=>Pp(e,t),[t.kpi,t.overlay,t.range,t.view,e.id,e.label,e.level,u]),[f,m]=y.useState(()=>$j(d,r,n,s,i)),h=f[f.length-1]??d,x=f.length>1,v=x;y.useEffect(()=>{l.current=DA(RA(PA(f)),h.filters)},[h.filters.kpi,h.filters.range,h.filters.view,f]);const N=y.useCallback((E,C)=>{const R=E.length?a6(E):[Pp({level:e.level,id:String(e.id),label:e.label},o.current)];return s6({stack:R,mode:C,queryKey:r,kpiKey:n,rangeKey:s,viewKey:i,defaultFilters:o.current,lastAppliedQueryRef:l}),R},[n,r,s,e.id,e.label,e.level,i]);y.useEffect(()=>{const E=Pp(e,o.current),C=$j(E,r,n,s,i);m(R=>ad(R,C)?R:C),s6({stack:C,mode:"replace",queryKey:r,kpiKey:n,rangeKey:s,viewKey:i,defaultFilters:o.current,lastAppliedQueryRef:l})},[n,r,s,e.id,e.label,e.level,u,i]),y.useEffect(()=>{const E=()=>{const C=new URLSearchParams(window.location.search),R=RA(zH(C.get(r)));if(DA(R,{kpi:C.get(n)??o.current.kpi,range:qH(C.get(s)??o.current.range,o.current.range),view:HH(C.get(i),o.current.view)})===l.current)return;const O=Pp(e,o.current),B=$j(O,r,n,s,i);m(q=>ad(q,B)?q:B)};return window.addEventListener("popstate",E),()=>window.removeEventListener("popstate",E)},[n,r,s,e.id,e.label,e.level,u,i]);const b=y.useCallback((E,C="replace")=>{m(R=>{const I=R.length?R:[d],O=I.map(B=>({...B,filters:{...B.filters,...E}}));return ad(I,O)?I:N(O,C)})},[N,d]),S=y.useCallback((E,C="push")=>{m(R=>{const I=a6(R.length?R:[d]),O=I[I.length-1],B={...E,id:String(E.id),filters:{...O.filters,...E.filters},timestamp:Date.now()},q=bf[B.level],F=[...I.filter(Y=>bf[Y.level]<q),B];return ad(I,F)?I:N(F,C)})},[N,d]),j=y.useCallback(()=>{m(E=>{if(E.length<=1)return E;const C=E.slice(0,-1);return N(C,"push")})},[N]),A=y.useCallback(E=>{m(C=>{if(E<0||E>=C.length)return C;const R=C.slice(0,E+1);return ad(C,R)?C:N(R,"push")})},[N]),_=y.useCallback(()=>{const E=[Pp({level:e.level,id:String(e.id),label:e.label},o.current)];m(C=>ad(C,E)?C:N(E,"push"))},[N,e.id,e.label,e.level]);return{stack:f,current:h,canBack:v,canGoBack:x,push:S,back:j,jumpTo:A,reset:_,syncFilters:b}}const gEe={nation:"sido",sido:"sigungu",sigungu:"eupmyeondong",center:"case"};function i6(e,t,r){return r?e==="nation"?r.length===2:e==="sido"||e==="sigungu"?t?r.startsWith(t)&&r.length>t.length:!1:!0:!1}function GH({level:e,parentRegionCode:t,candidates:r}){const n=gEe[e],s=new Set,i=[];for(const u of r){const d=String(u.code??"").trim();d&&(s.has(d)||(s.add(d),i.push({code:d,name:String(u.name??"").trim()})))}let o=[];if(e==="nation")o=i.filter(u=>i6(e,t,u.code));else if(t){const u=i.filter(d=>d.code===t?!1:i6(e,t,d.code));u.length>0?o=u:(o=i.filter(d=>d.code!==t),o.length>0&&console.warn("[ChildrenScope] parent-child code prefix mismatch, fallback to candidate children",{level:e,parentRegionCode:t,sampleChildCode:o[0]?.code}))}else o=i;const l=o.reduce((u,d)=>(d.name&&(u[d.code]=d.name),u),{});return{childrenType:n,childrenCodes:o.map(u=>u.code),childrenNameMap:l,children:o}}const al={fontSize:11,fill:"#6b7280"},e5="#e5e7eb";function o6(e){const t=Math.abs(e);return t>=1e6?`${(e/1e6).toFixed(1)}m`:t>=1e3?`${(e/1e3).toFixed(1)}k`:`${Math.round(e)}`}function xEe(e){return Math.round(e).toLocaleString()}function yEe(e,t=1){return`${e.toFixed(t)}%`}function bEe(e,t="%p"){return t===""?`${e>0?"+":""}${Math.round(e)}`:t===""?`${e>0?"+":""}${Math.round(e)}`:`${e>0?"+":""}${e.toFixed(1)}%p`}function vEe(e,t){return t===""?`${xEe(e)}`:t===""?`${Math.round(e)}`:t===""?`${Math.round(e)}`:t==="%"?yEe(e,1):bEe(e,"%p")}function vf(e,t){return t===""?`${o6(e)}`:t===""?`${o6(e)}`:t===""?`${Math.round(e)}`:t==="%"?`${e.toFixed(1)}%`:`${e>0?"+":""}${e.toFixed(1)}%p`}function Mb(e,t){if(e==="%")return[0,100];const r=t.length?Math.max(...t):0;return[0,Math.max(1,Math.ceil(r*1.12))]}function Oh({active:e,payload:t,label:r,valueUnit:n,deltaKeys:s=[],deltaUnit:i="%p"}){return!e||!t?.length?null:a.jsxs("div",{className:"min-w-[150px] rounded-md border border-gray-200 bg-white px-2.5 py-2 shadow-lg",children:[r!=null&&a.jsx("div",{className:"text-[11px] font-semibold text-gray-700 mb-1",children:String(r)}),a.jsx("div",{className:"space-y-1",children:t.map((o,l)=>{const u=typeof o.value=="number"?o.value:0,f=(o.name?s.includes(o.name):!1)?i:n;return a.jsxs("div",{className:"grid grid-cols-[1fr_auto] items-center gap-2 text-[11px]",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:o.color??"#94a3b8"}}),a.jsx("span",{className:"truncate",children:o.name??`value-${l+1}`})]}),a.jsx("span",{className:"font-semibold text-gray-900 tabular-nums",children:vEe(u,f)})]},`${o.name??l}-${l}`)})})]})}function NEe({title:e,subtitle:t,scopeLabel:r,action:n}){return a.jsxs("div",{className:"mb-2 flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:e}),a.jsxs("div",{className:"mt-0.5 flex items-center gap-1.5 text-[11px] text-gray-500",children:[t&&a.jsx("span",{className:"truncate",children:t}),r&&a.jsxs("span",{className:"text-gray-400",children:[" ",r]})]})]}),n]})}function Nn({title:e,subtitle:t,scopeLabel:r,action:n,children:s}){return a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx(NEe,{title:e,subtitle:t,scopeLabel:r,action:n}),s]})}function Rh({message:e=" ."}){return a.jsx("div",{className:"h-[220px] rounded-lg border border-dashed border-gray-200 bg-gray-50 text-[12px] text-gray-500 flex items-center justify-center",children:e})}function l6({height:e=220}){return a.jsx("div",{className:"animate-pulse rounded-lg bg-gray-200",style:{height:e}})}function c6({title:e,subtitle:t,data:r,unit:n,color:s,markerIndex:i,regionalLabel:o="",nationalLabel:l=" ",districtLabel:u,scopeLabel:d}){if(!r.length)return a.jsx(Nn,{title:e,subtitle:t,children:a.jsx(Rh,{})});const f=r.flatMap(x=>[x.regional,x.national??0,x.district??0]),m=Mb(n,f),h=i!=null&&i>=0&&i<r.length?r[i].label:null;return a.jsx(Nn,{title:e,subtitle:t,scopeLabel:d,children:a.jsx("div",{style:{height:240},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Eh,{data:r,margin:{top:8,right:8,left:-10,bottom:6},children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:e5}),a.jsx(en,{dataKey:"label",tick:al,interval:"preserveStartEnd"}),a.jsx($r,{tick:al,tickCount:6,domain:m}),a.jsx(pr,{content:a.jsx(Oh,{valueUnit:n})}),a.jsx(bn,{type:"monotone",dataKey:"regional",name:o,stroke:s,strokeWidth:2.2,dot:{r:2.6,fill:s},children:a.jsx(wa,{dataKey:"regional",position:"top",formatter:x=>vf(x,n),style:{fontSize:10,fill:s,fontWeight:600}})}),a.jsx(bn,{type:"monotone",dataKey:"national",name:l,stroke:"#9ca3af",strokeWidth:1.6,dot:!1,strokeDasharray:"4 3"}),u&&a.jsx(bn,{type:"monotone",dataKey:"district",name:u,stroke:"#ef4444",strokeWidth:1.8,dot:{r:2.2,fill:"#ef4444"}}),h&&a.jsx(Vs,{x:h,stroke:"#2563eb",strokeDasharray:"4 3"})]})})})})}function hi({title:e,subtitle:t,data:r,unit:n,color:s,scopeLabel:i,maxItems:o=7,onItemClick:l}){const u=r.slice(0,o);if(!u.length)return a.jsx(Nn,{title:e,subtitle:t,children:a.jsx(Rh,{})});const d=Mb(n,u.map(f=>f.value));return a.jsx(Nn,{title:e,subtitle:t,scopeLabel:i,children:a.jsx("div",{style:{height:230},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:u,layout:"vertical",margin:{top:6,right:52,left:24,bottom:6},children:[a.jsx(kn,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f3f4f6"}),a.jsx(en,{type:"number",tick:al,tickCount:6,domain:d}),a.jsx($r,{dataKey:"name",type:"category",tick:al,width:88}),a.jsx(pr,{content:a.jsx(Oh,{valueUnit:n})}),a.jsxs(On,{dataKey:"value",fill:s,radius:[0,4,4,0],children:[a.jsx(wa,{dataKey:"value",position:"right",formatter:f=>vf(f,n),style:{fontSize:10,fill:"#334155",fontWeight:600}}),u.map((f,m)=>a.jsx(Hs,{cursor:l?"pointer":"default",onClick:()=>l?.(f)},`${f.name}-${m}`))]})]})})})})}function u6({title:e,subtitle:t,data:r,unit:n,scopeLabel:s,colors:i=["#f97316","#fb923c","#f59e0b","#ef4444","#d97706"],onSliceClick:o}){return r.length?a.jsx(Nn,{title:e,subtitle:t,scopeLabel:s,children:a.jsx("div",{style:{height:240},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(yT,{children:[a.jsx(Mi,{data:r,dataKey:"value",nameKey:"name",innerRadius:44,outerRadius:76,paddingAngle:2,labelLine:!1,label:({name:l,value:u})=>`${l}: ${vf(Number(u),n)}`,onClick:l=>{if(!l)return;const u={name:String(l.name),value:Number(l.value)};o?.(u)},children:r.map((l,u)=>a.jsx(Hs,{fill:i[u%i.length],cursor:o?"pointer":"default"},`${l.name}-${u}`))}),a.jsx(pr,{content:a.jsx(Oh,{valueUnit:n})}),a.jsx(_i,{wrapperStyle:{fontSize:"11px"}})]})})})}):a.jsx(Nn,{title:e,subtitle:t,children:a.jsx(Rh,{})})}function Fl({title:e,subtitle:t,scopeLabel:r,data:n,unit:s,colorScale:i}){if(!n.length)return a.jsx(Nn,{title:e,subtitle:t,children:a.jsx(Rh,{})});const o=Math.max(...n.map(m=>m.value)),l=s==="%"&&o>100?"":s,u=Mb(l,n.map(m=>m.value)),d=i??["#ef4444","#f97316","#f59e0b","#fb7185","#dc2626"],f=s==="%"&&o>100?" 100    ":t;return a.jsx(Nn,{title:e,subtitle:f,scopeLabel:r,children:a.jsx("div",{style:{height:230},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:n,margin:{top:8,right:10,left:-8,bottom:6},children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:e5}),a.jsx(en,{dataKey:"name",tick:al,interval:0,angle:-20,textAnchor:"end",height:56}),a.jsx($r,{tick:al,tickCount:6,domain:u}),a.jsx(pr,{content:a.jsx(Oh,{valueUnit:l})}),a.jsxs(On,{dataKey:"value",radius:[4,4,0,0],children:[a.jsx(wa,{dataKey:"value",position:"top",formatter:m=>vf(m,l),style:{fontSize:10,fill:"#475569",fontWeight:600}}),n.map((m,h)=>a.jsx(Hs,{fill:d[h%d.length]},`${m.name}-${h}`))]})]})})})})}function Dp({title:e,subtitle:t,scopeLabel:r,data:n,valueUnit:s,deltaUnit:i="%p",barColor:o="#2563eb",lineColor:l="#ef4444"}){if(!n.length)return a.jsx(Nn,{title:e,subtitle:t,children:a.jsx(Rh,{})});const u=Mb(s,n.map(m=>m.value)),d=Math.max(...n.map(m=>Math.abs(m.delta)),1),f=[-Math.ceil(d*1.2),Math.ceil(d*1.2)];return a.jsx(Nn,{title:e,subtitle:t,scopeLabel:r,children:a.jsx("div",{style:{height:236},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(xb,{data:n,margin:{top:8,right:8,left:-10,bottom:24},children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:e5}),a.jsx(en,{dataKey:"name",tick:al,interval:0,angle:-28,textAnchor:"end",height:58}),a.jsx($r,{yAxisId:"left",tick:al,tickCount:6,domain:u}),a.jsx($r,{yAxisId:"right",orientation:"right",tick:al,tickCount:5,domain:f}),a.jsx(Vs,{yAxisId:"right",y:0,stroke:"#cbd5e1"}),a.jsx(pr,{content:a.jsx(Oh,{valueUnit:s,deltaKeys:["  "],deltaUnit:i})}),a.jsx(On,{yAxisId:"left",dataKey:"value",name:"KPI ",fill:o,radius:[4,4,0,0],children:a.jsx(wa,{dataKey:"value",position:"top",formatter:m=>vf(m,s),style:{fontSize:10,fill:"#334155",fontWeight:600}})}),a.jsx(bn,{yAxisId:"right",type:"monotone",dataKey:"delta",name:"  ",stroke:l,strokeWidth:2,dot:{r:2.5},children:a.jsx(wa,{dataKey:"delta",position:"top",formatter:m=>vf(m,i),style:{fontSize:10,fill:l,fontWeight:600}})})]})})})})}const SEe={regionalSla:"LOAD",regionalQueueRisk:"BOTTLENECK",regionalRecontact:"BOTTLENECK",regionalDataReadiness:"LOAD",regionalGovernance:"LOAD",regionalAdTransitionHotspot:"RISK",regionalDxDelayHotspot:"BOTTLENECK",regionalScreenToDxRate:"GAP"},Ip={RISK:"regionalAdTransitionHotspot",BOTTLENECK:"regionalDxDelayHotspot",GAP:"regionalScreenToDxRate",LOAD:"regionalQueueRisk"},Fj={regionalSla:"SLA",regionalQueueRisk:"QUEUE",regionalRecontact:"QUEUE",regionalDataReadiness:"DATA_GAP",regionalGovernance:"LOAD",regionalAdTransitionHotspot:"CONVERSION_GAP",regionalDxDelayHotspot:"EXAM_DELAY",regionalScreenToDxRate:"CONVERSION_GAP"},wEe={SLA:"STAFF_SUPPORT",EXAM_DELAY:"EXAM_SLOT",QUEUE:"FOLLOWUP",CONVERSION_GAP:"HOSPITAL_LINK",LOAD:"STAFF_SUPPORT",DATA_GAP:"DATA_FIX"},jEe={SLA:" ",EXAM_DELAY:" ",QUEUE:"  ",CONVERSION_GAP:"  ",LOAD:" ",DATA_GAP:"  "};function EEe(){const e=y.useRef(null),[t,r]=y.useState({width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080}),n=y.useRef(null);return y.useEffect(()=>{const s=e.current;if(!s)return;const i=()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{const l=s.getBoundingClientRect();r(u=>u.width===l.width&&u.height===l.height?u:{width:l.width,height:l.height})})},o=new ResizeObserver(i);return o.observe(s),window.addEventListener("resize",i,{passive:!0}),i(),()=>{o.disconnect(),window.removeEventListener("resize",i),n.current&&cancelAnimationFrame(n.current)}},[]),[e,t]}const _Ee=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t},yt=(e,t,r)=>t+(r-t)*(_Ee(e)%1e3/1e3),IA={week:1,month:1.1,quarter:1.25},AEe={"24h":"week","7d":"week","30d":"month","90d":"quarter"},cg={"24h":"24h","7d":"7","30d":"30","90d":"90"},KH={"24h":.35,"7d":1,"30d":2.8,"90d":6.8},WH={"24h":.85,"7d":1,"30d":1.25,"90d":1.45},VH={"24h":-.4,"7d":0,"30d":.5,"90d":.8},Or={regionalSla:[35,260],regionalQueueRisk:[40,320],regionalRecontact:[3,21],regionalDataReadiness:[4,24],regionalGovernance:[22,78],regionalAdTransitionHotspot:[18,92],regionalDxDelayHotspot:[8,68],regionalScreenToDxRate:[34,91]},CEe={regionalSla:a.jsx(da,{className:"h-4 w-4"}),regionalQueueRisk:a.jsx(kd,{className:"h-4 w-4"}),regionalRecontact:a.jsx(ts,{className:"h-4 w-4"}),regionalDataReadiness:a.jsx(pc,{className:"h-4 w-4"}),regionalGovernance:a.jsx(ho,{className:"h-4 w-4"}),regionalAdTransitionHotspot:a.jsx(gm,{className:"h-4 w-4"}),regionalDxDelayHotspot:a.jsx(Sy,{className:"h-4 w-4"}),regionalScreenToDxRate:a.jsx(d7,{className:"h-4 w-4"})},Bj={density:.45,transition:.35,delta:.2},Uj={wait:.45,delayed:.3,backlog:.25},zj={gapRate:.45,deltaGap:.35,support:.2},d6={seoul:["","","","","","","","","","","","","","","","","","","","","","","","",""],busan:["","","","","","","","","","","","","","","",""],daegu:["","","","","","","",""],incheon:["","","","","","","","","",""],gwangju:["","","","",""],daejeon:["","","","",""],ulsan:["","","","",""],sejong:[""],gyeonggi:["","","","","","","","","","","","","","","","","","","",""],gangwon:["","","","","","","","","",""],chungbuk:["","","","","","","","","",""],chungnam:["","","","","","","","","",""],jeonbuk:["","","","","","","","","",""],jeonnam:["","","","","","","","","",""],gyeongbuk:["","","","","","","","","",""],gyeongnam:["","","","","","","","","",""],jeju:["",""]},TEe=["08-10","10-12","12-14","14-16","16-18","18-20"];function Yi(e){return String(e??"").trim().replace(/\s+/g,"").replace(/[()]/g,"")}function Mp(e){return e==="REGION"?"SIGUNGU":"EUPMYEONDONG"}function zc(e,t){const r=Db[e];return r.unit===""?`${Math.round(t).toLocaleString()}`:r.unit===""?`${Math.round(t)}`:r.unit===""?`${Math.round(t)}`:`${t.toFixed(1)}%`}function Ms(e){const t=new Map;return e.forEach(r=>{r.forEach(n=>{t.set(n.name,(t.get(n.name)??0)+n.value)})}),[...t.entries()].map(([r,n])=>({name:r,value:Number(n.toFixed(1))})).sort((r,n)=>n.value-r.value)}function Ho(e,t,r){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(r)||r<=t)return .5;const n=(e-t)/(r-t);return Math.max(0,Math.min(1,n))}function ld(e,t,r,n,s){const i=`${t}-${r}-${e}`,o=IA[r],l=KH[n]*o,u=WH[n]*o,d=VH[n],f=Math.round(yt(`${i}-volume`,120,1100)*l),m=Math.round(yt(`${i}-inflow`,Or.regionalSla[0],Or.regionalSla[1])*l),h=Math.round(yt(`${i}-queue`,Or.regionalQueueRisk[0],Or.regionalQueueRisk[1])*u),x=Number(Math.max(Or.regionalRecontact[0],Math.min(Or.regionalRecontact[1],yt(`${i}-sla-risk`,Or.regionalRecontact[0],Or.regionalRecontact[1])+d)).toFixed(1)),v=Number(Math.max(Or.regionalDataReadiness[0],Math.min(Or.regionalDataReadiness[1],yt(`${i}-recontact-need`,Or.regionalDataReadiness[0],Or.regionalDataReadiness[1])+d)).toFixed(1)),N=Number(Math.max(Or.regionalGovernance[0],Math.min(Or.regionalGovernance[1],yt(`${i}-center-risk`,Or.regionalGovernance[0],Or.regionalGovernance[1])+d*4)).toFixed(1)),b=Number(Math.max(Or.regionalAdTransitionHotspot[0],Math.min(Or.regionalAdTransitionHotspot[1],yt(`${i}-ad-density`,Or.regionalAdTransitionHotspot[0],Or.regionalAdTransitionHotspot[1])+d*3)).toFixed(1)),S=Math.round(yt(`${i}-ad-highrisk`,28,240)*l),j=Math.round(yt(`${i}-ad-tr30`,8,88)*l),A=Math.round(yt(`${i}-ad-tr90`,22,210)*l),_=Number(Math.max(Or.regionalDxDelayHotspot[0],Math.min(Or.regionalDxDelayHotspot[1],yt(`${i}-dx-wait`,Or.regionalDxDelayHotspot[0],Or.regionalDxDelayHotspot[1])+d*2.5)).toFixed(1)),E=Number(Math.max(.04,Math.min(.42,yt(`${i}-dx-delayed-ratio`,.08,.36)+d*.01)).toFixed(3)),C=Math.round(yt(`${i}-dx-backlog`,20,210)*u),R=Number(Math.max(Or.regionalScreenToDxRate[0],Math.min(Or.regionalScreenToDxRate[1],yt(`${i}-screen-dx-rate`,Or.regionalScreenToDxRate[0],Or.regionalScreenToDxRate[1])-d)).toFixed(1)),I=Number(yt(`${i}-screen-dx-recontact`,6,24).toFixed(1)),O=Number(yt(`${i}-screen-dx-delay`,8,46).toFixed(1)),B={:yt(`${i}-sla-contact`,12,34),:yt(`${i}-sla-recontact`,10,26),L2:yt(`${i}-sla-l2`,8,20),"2":yt(`${i}-sla-s2`,10,24),"3":yt(`${i}-sla-s3`,8,20)},q=Object.values(B).reduce((Se,oe)=>Se+oe,0),F=Object.entries(B).map(([Se,oe])=>({name:Se,value:Number((oe/q*100).toFixed(1))})),Y=[{name:" ",value:Math.round(yt(`${i}-qt-recontact`,18,165)*u)},{name:"L2 ",value:Math.round(yt(`${i}-qt-l2`,14,132)*u)},{name:"2 ",value:Math.round(yt(`${i}-qt-s2`,10,120)*u)},{name:"3 ",value:Math.round(yt(`${i}-qt-s3`,8,95)*u)}],D=[{name:" ",value:Math.round(yt(`${i}-cause-contact`,10,65)*u)},{name:"  ",value:Math.round(yt(`${i}-cause-staff`,8,52)*u)},{name:" ",value:Math.round(yt(`${i}-cause-data`,6,44)*u)},{name:"2/3 ",value:Math.round(yt(`${i}-cause-stage`,7,48)*u)},{name:" ",value:Math.round(yt(`${i}-cause-booking`,5,36)*u)}].sort((Se,oe)=>oe.value-Se.value),G=[{name:" ",value:Math.round(yt(`${i}-rr-contact`,12,58)*u)},{name:"",value:Math.round(yt(`${i}-rr-noanswer`,18,82)*u)},{name:" ",value:Math.round(yt(`${i}-rr-time`,10,52)*u)}].sort((Se,oe)=>oe.value-Se.value),U=["D-6","D-5","D-4","D-3","D-2","D-1","D0"].map((Se,oe)=>({day:Se,value:Number(yt(`${i}-rt-${oe}`,6,40).toFixed(1))})),V=TEe.map((Se,oe)=>({slot:Se,successRate:Number(yt(`${i}-slot-rate-${oe}`,42,88).toFixed(1)),attempts:Math.round(yt(`${i}-slot-attempt-${oe}`,18,120)*u)})),M=[{name:" ",value:Math.round(yt(`${i}-mf-phone`,10,64)*u)},{name:" ",value:Math.round(yt(`${i}-mf-guardian`,8,44)*u)},{name:" ",value:Math.round(yt(`${i}-mf-condition`,7,40)*u)},{name:"  ",value:Math.round(yt(`${i}-mf-history`,6,36)*u)}].sort((Se,oe)=>oe.value-Se.value),Q=[{name:"0-1",value:Math.round(yt(`${i}-lead-0`,22,96)*u)},{name:"2-3",value:Math.round(yt(`${i}-lead-1`,16,76)*u)},{name:"4-7",value:Math.round(yt(`${i}-lead-2`,10,58)*u)},{name:"8+",value:Math.round(yt(`${i}-lead-3`,6,42)*u)}],J=[{name:" ",value:Math.round(yt(`${i}-gov-owner`,5,32)*u)},{name:"  ",value:Math.round(yt(`${i}-gov-proof`,6,36)*u)},{name:"  ",value:Math.round(yt(`${i}-gov-log`,7,40)*u)}].sort((Se,oe)=>oe.value-Se.value),P=[{status:"",value:Math.round(yt(`${i}-gact-open`,8,48)*u)},{status:"",value:Math.round(yt(`${i}-gact-progress`,6,36)*u)},{status:"",value:Math.round(yt(`${i}-gact-done`,4,30)*u)}],K=[{name:" ",value:S},{name:" 30  ",value:j},{name:"   ",value:Number((b-45).toFixed(1))}],Z=[{name:" ",value:_},{name:" ",value:Number((E*100).toFixed(1))},{name:" ",value:C}],se=[{name:" ",value:Number((100-R).toFixed(1))},{name:" ",value:I},{name:" ",value:O}],ie={stage1SignalDelta:Number(yt(`${i}-s1-signal`,-18,24).toFixed(1)),stage1QueueDelta:Math.round(yt(`${i}-s1-queue`,-14,36)*u),stage2SignalDelta:Number(yt(`${i}-s2-signal`,-16,22).toFixed(1)),stage2QueueDelta:Math.round(yt(`${i}-s2-queue`,-12,32)*u),stage3SignalDelta:Number(yt(`${i}-s3-signal`,-12,18).toFixed(1)),stage3QueueDelta:Math.round(yt(`${i}-s3-queue`,-10,26)*u)};return{regionId:s??e,name:e,volume:f,kpi:{regionalSla:m,regionalQueueRisk:h,regionalRecontact:x,regionalDataReadiness:v,regionalGovernance:N,regionalAdTransitionHotspot:b,regionalDxDelayHotspot:_,regionalScreenToDxRate:R},mapMetric:{regionalSla:m,regionalQueueRisk:h,regionalRecontact:x,regionalDataReadiness:v,regionalGovernance:N,regionalAdTransitionHotspot:b,regionalDxDelayHotspot:_,regionalScreenToDxRate:R},adTransitionSignal:{regionId:`${t}-${e}`,regionName:e,highRiskCount:S,transition30d:j,transition90d:A,densityScore:b,deltaFromAvg:Number((b-45).toFixed(1))},differentialDelay:{regionId:`${t}-${e}`,regionName:e,avgWaitDays:_,delayedRatio:E,backlogCount:C,deltaFromAvg:Number((_-24).toFixed(1))},stageConversionRate:{regionId:`${t}-${e}`,regionName:e,conversionRate:Number((R/100).toFixed(3)),deltaFromRegional:Number((R-64).toFixed(1))},adTransitionDrivers:K,dxDelayDrivers:Z,screenToDxDrivers:se,policyImpactLocal:Number(yt(`${i}-policy-impact`,42,88).toFixed(1)),slaStageContribution:F,queueTypeBacklog:Y,queueCauseTop:D,recontactReasons:G,recontactTrend:U,recontactSlots:V,missingFields:M,collectionLeadtime:Q,governanceMissingTypes:J,governanceActionStatus:P,stageImpact:ie}}function kEe(e){if(!e.length)return ld("","empty","week","7d","empty");const t=e.reduce((x,v)=>x+v.volume,0),r=x=>t>0?x.volume/t:1/e.length,n=x=>Number(e.reduce((v,N)=>v+N.kpi[x]*r(N),0).toFixed(1)),s=x=>Number(e.reduce((v,N)=>v+N.mapMetric[x]*r(N),0).toFixed(1)),i=new Map;e.forEach(x=>{x.recontactSlots.forEach(v=>{const N=i.get(v.slot)??{attempts:0,weightedSuccess:0};i.set(v.slot,{attempts:N.attempts+v.attempts,weightedSuccess:N.weightedSuccess+v.successRate*v.attempts})})});const o=[...i.entries()].map(([x,v])=>({slot:x,attempts:v.attempts,successRate:v.attempts>0?Number((v.weightedSuccess/v.attempts).toFixed(1)):0})),l=e[0].recontactTrend.length,u=Array.from({length:l},(x,v)=>{const N=e[0].recontactTrend[v].day,b=Number(e.reduce((S,j)=>S+j.recontactTrend[v].value*r(j),0).toFixed(1));return{day:N,value:b}}),d={stage1SignalDelta:Number(e.reduce((x,v)=>x+v.stageImpact.stage1SignalDelta*r(v),0).toFixed(1)),stage1QueueDelta:Math.round(e.reduce((x,v)=>x+v.stageImpact.stage1QueueDelta*r(v),0)),stage2SignalDelta:Number(e.reduce((x,v)=>x+v.stageImpact.stage2SignalDelta*r(v),0).toFixed(1)),stage2QueueDelta:Math.round(e.reduce((x,v)=>x+v.stageImpact.stage2QueueDelta*r(v),0)),stage3SignalDelta:Number(e.reduce((x,v)=>x+v.stageImpact.stage3SignalDelta*r(v),0).toFixed(1)),stage3QueueDelta:Math.round(e.reduce((x,v)=>x+v.stageImpact.stage3QueueDelta*r(v),0))},f=Number(e.reduce((x,v)=>x+v.adTransitionSignal.densityScore*r(v),0).toFixed(1)),m=Number(e.reduce((x,v)=>x+v.differentialDelay.avgWaitDays*r(v),0).toFixed(1)),h=Number(e.reduce((x,v)=>x+v.stageConversionRate.conversionRate*r(v),0).toFixed(3));return{regionId:"regional-avg",name:" ",volume:t,kpi:{regionalSla:n("regionalSla"),regionalQueueRisk:n("regionalQueueRisk"),regionalRecontact:n("regionalRecontact"),regionalDataReadiness:n("regionalDataReadiness"),regionalGovernance:n("regionalGovernance"),regionalAdTransitionHotspot:n("regionalAdTransitionHotspot"),regionalDxDelayHotspot:n("regionalDxDelayHotspot"),regionalScreenToDxRate:n("regionalScreenToDxRate")},mapMetric:{regionalSla:s("regionalSla"),regionalQueueRisk:s("regionalQueueRisk"),regionalRecontact:s("regionalRecontact"),regionalDataReadiness:s("regionalDataReadiness"),regionalGovernance:s("regionalGovernance"),regionalAdTransitionHotspot:s("regionalAdTransitionHotspot"),regionalDxDelayHotspot:s("regionalDxDelayHotspot"),regionalScreenToDxRate:s("regionalScreenToDxRate")},adTransitionSignal:{regionId:"regional-avg",regionName:" ",highRiskCount:Math.round(e.reduce((x,v)=>x+v.adTransitionSignal.highRiskCount,0)),transition30d:Math.round(e.reduce((x,v)=>x+v.adTransitionSignal.transition30d,0)),transition90d:Math.round(e.reduce((x,v)=>x+(v.adTransitionSignal.transition90d??0),0)),densityScore:f,deltaFromAvg:0},differentialDelay:{regionId:"regional-avg",regionName:" ",avgWaitDays:m,delayedRatio:Number(e.reduce((x,v)=>x+v.differentialDelay.delayedRatio*r(v),0).toFixed(3)),backlogCount:Math.round(e.reduce((x,v)=>x+v.differentialDelay.backlogCount,0)),deltaFromAvg:0},stageConversionRate:{regionId:"regional-avg",regionName:" ",conversionRate:h,bestRate:Number(Math.max(...e.map(x=>x.stageConversionRate.conversionRate)).toFixed(3)),worstRate:Number(Math.min(...e.map(x=>x.stageConversionRate.conversionRate)).toFixed(3)),deltaFromRegional:0},adTransitionDrivers:Ms(e.map(x=>x.adTransitionDrivers)),dxDelayDrivers:Ms(e.map(x=>x.dxDelayDrivers)),screenToDxDrivers:Ms(e.map(x=>x.screenToDxDrivers)),policyImpactLocal:Number(e.reduce((x,v)=>x+v.policyImpactLocal*r(v),0).toFixed(1)),slaStageContribution:Ms(e.map(x=>x.slaStageContribution)),queueTypeBacklog:Ms(e.map(x=>x.queueTypeBacklog)),queueCauseTop:Ms(e.map(x=>x.queueCauseTop)),recontactReasons:Ms(e.map(x=>x.recontactReasons)),recontactTrend:u,recontactSlots:o,missingFields:Ms(e.map(x=>x.missingFields)),collectionLeadtime:Ms(e.map(x=>x.collectionLeadtime)),governanceMissingTypes:Ms(e.map(x=>x.governanceMissingTypes)),governanceActionStatus:Ms(e.map(x=>x.governanceActionStatus.map(v=>({name:v.status,value:v.value})))).map(x=>({status:x.name,value:x.value})),stageImpact:d}}function MA(e){return Db[e]?.direction??"higherWorse"}function OEe(e){return e==="REGION"?"sido":e==="SIGUNGU"?"sigungu":"center"}function ug(e,t){const r=Db[e];return r?.unit===""?`${t>0?"+":""}${Math.round(t)}`:r?.unit===""?`${t>0?"+":""}${Math.round(t)}`:r?.unit===""?`${t>0?"+":""}${Math.round(t)}`:`${t>0?"+":""}${t.toFixed(1)}%p`}function REe(e,t,r){if(!r)return"normal";const s=MA(e)==="higherBetter"?r-t:t-r;return s>=8?"warning":s>=3?"attention":"normal"}function PEe(e,t,r,n){return[`${e}: ${t}`,` : ${r}`,n]}function DEe({region:e,selectedKpiKey:t,selectedRegionSgg:r,selectedRange:n,onSelectedKpiKeyChange:s,onSelectedRegionSggChange:i,onSelectedRangeChange:o,onNavigateToCause:l,onCreateIntervention:u}){const[d,f]=y.useState("week"),[m,h]=y.useState("7d"),[x,v]=y.useState("regionalSla"),[N,b]=y.useState("geomap"),[S,j]=EEe(),[A,_]=y.useState(null),[E,C]=y.useState(null),[R,I]=y.useState(null),[O,B]=y.useState(void 0),[q,F]=y.useState(void 0),[Y,D]=y.useState({}),[G,U]=y.useState(!1),[V,M]=y.useState(!1),[Q,J]=y.useState(!1),[P,K]=y.useState(null),[Z,se]=y.useState("drivers"),[ie,Se]=y.useState(null),[oe,je]=y.useState(!1),[pe,Ee]=y.useState("Initial"),[me,fe]=y.useState(()=>[{id:"rq-1",priority:1,regionName:"",taskType:"EXAM_SLOT",status:"IN_PROGRESS",assignee:"  A",dueAt:new Date(Date.now()+1440*60*1e3).toISOString(),createdAt:new Date(Date.now()-7200*1e3).toISOString()},{id:"rq-2",priority:2,regionName:"",taskType:"STAFF_SUPPORT",status:"TODO",assignee:"  B",dueAt:new Date(Date.now()+2880*60*1e3).toISOString(),createdAt:new Date(Date.now()-360*60*1e3).toISOString()}]),Xe=y.useRef(""),H=y.useRef(null),ve=y.useRef(""),Re=y.useRef(void 0),Te=y.useRef(r),Qe=y.useRef(i),$e=y.useRef({}),jt=pe==="RegionChange";y.useEffect(()=>{Te.current=r,Qe.current=i},[i,r]);const Ze=y.useMemo(()=>UH(e.id),[e.id]),De=n??d,He=De==="month"?"30d":De==="quarter"?"90d":m,ge=t??x,Jt=r??A,Vt=E,Lr=hEe({root:{level:"REGION",id:e.ctprvnCode,label:e.label},initialFilters:{kpi:ge,range:He,view:N}}),{stack:we,current:Me,canGoBack:Mt,push:ar,back:Ur,jumpTo:Yr,reset:ht,syncFilters:Sn}=Lr,Zt=y.useMemo(()=>we.map($=>`${$.level}:${$.id}`).join(">"),[we]),Lt=y.useMemo(()=>{const $=Y[Zt],re=$?.length?void 0:Object.entries(Y).filter(([Ie,Fe])=>Fe.length>0&&Zt.startsWith(Ie)).sort((Ie,Fe)=>Fe[0].length-Ie[0].length)[0]?.[1],X=$?.length?$:re??[];if(!X.length)return[];const Ae=new Map;return X.forEach(Ie=>{const Fe=xn(Ie.code)||xn(Vi(Ie.regionId)),rt=String(Ie.name??"").trim();!Fe||!rt||Ae.has(Fe)||Ae.set(Fe,{...Ie,code:Fe,name:rt,regionKey:{...Ie.regionKey,code:Fe,name:rt},regionId:Ie.regionId||Ra({level:Ie.regionKey.level,code:Fe})})}),[...Ae.values()]},[Y,Zt]),Pe=y.useCallback($=>{t==null&&v($),s?.($)},[s,t]),$t=y.useCallback($=>{n==null&&f($),o?.($)},[o,n]),Nr=y.useCallback($=>{h($),$t(AEe[$])},[$t]),Ut=y.useCallback($=>{_(X=>X===$?X:$),(Te.current??null)!==$&&Qe.current?.($)},[]),Xt=y.useCallback($=>{C($)},[]);y.useEffect(()=>{_(null),Xt(null),B(void 0),F(void 0),D({}),$e.current={},U(!1),se("drivers")},[e.id,Xt]),y.useEffect(()=>{De==="month"&&m!=="30d"&&h("30d"),De==="quarter"&&m!=="90d"&&h("90d")},[De,m]),y.useEffect(()=>{K(null)},[ge,Jt]),y.useEffect(()=>{se("drivers"),je(!1),Se(null)},[Jt,ge]),y.useEffect(()=>{const $=`${ge}|${He}|${N}`;if($!==Xe.current)return H.current&&window.clearTimeout(H.current),H.current=window.setTimeout(()=>{Sn({kpi:ge,range:He,view:N},"replace"),Xe.current=$},180),()=>{H.current&&window.clearTimeout(H.current)}},[He,ge,Sn,N]),y.useEffect(()=>{Me.filters.view!==N&&b(Me.filters.view)},[Me.filters.view,N]);const Tr=y.useMemo(()=>{const $=j.width||(typeof window<"u"?window.innerWidth:1920);return $>=1024?"desktop":$>=768?"tablet":"mobile"},[j.width]),et=y.useMemo(()=>{const $=j.height||(typeof window<"u"?window.innerHeight:900);return Math.max(360,Math.min(680,Math.round($-(Tr==="desktop"?320:260))))},[j.height,Tr]),rr=y.useMemo(()=>d6[e.id]??d6.seoul,[e.id]),mr=y.useMemo(()=>{const $=new Map;return rr.forEach(re=>$.set(Yi(re),re)),$},[rr]),lr=y.useMemo(()=>Lt.filter($=>$.regionKey.level==="SIGUNGU"),[Lt]),Sr=y.useMemo(()=>{const $=new Map;return lr.forEach(re=>$.set(Yi(re.name),re)),$},[lr]),hr=y.useMemo(()=>rr.map($=>{const re=Yi($),X=Sr.get(re);return{name:$,code:X?.code??""}}).filter($=>$.code),[rr,Sr]),cr=y.useMemo(()=>Lt.filter($=>$.regionKey.level==="EUPMYEONDONG"),[Lt]),sn=y.useMemo(()=>{const $=new Map;return lr.forEach(re=>$.set(String(re.code),re.name)),$},[lr]),wr=y.useMemo(()=>{const $=new Map;return cr.forEach(re=>$.set(String(re.code),{code:String(re.code),name:re.name})),$},[cr]),Oe=y.useMemo(()=>{for(let $=we.length-1;$>=0;$-=1){const re=we[$];if(re.level==="SIGUNGU")return sn.get(String(re.id))??re.label;if(re.level==="EUPMYEONDONG"){const X=String(re.id).slice(0,5),Ae=sn.get(X);if(Ae)return Ae}}return null},[we,sn]);y.useEffect(()=>{if(Me.level==="REGION"){Jt!==null&&Ut(null),Vt!==null&&Xt(null),B("sig"),F(e.ctprvnCode);return}if(Oe&&Jt!==Oe&&Ut(Oe),Me.level==="SIGUNGU"){const re=Ra({level:"SIGUNGU",code:String(Me.id),name:Me.label});Vt!==re&&Xt(re),B("emd"),F(Me.id);return}const $=Ra({level:"EUPMYEONDONG",code:String(Me.id),name:Me.label});Vt!==$&&Xt($),B("emd"),F(Me.id)},[Oe,Me.id,Me.label,Me.level,e.ctprvnCode,Jt,Vt,Ut,Xt]),y.useEffect(()=>{const $=Re.current!==r;if(Re.current=r,!$||!r||Me.level!=="REGION"||we.some(Ie=>Ie.level==="SIGUNGU"&&Yi(Ie.label)===Yi(r)))return;const X=Sr.get(Yi(r));if(!X?.code)return;const Ae=mr.get(Yi(r))??r;Xt(Ra({level:"SIGUNGU",code:X.code})),y.startTransition(()=>{ar({level:"SIGUNGU",id:X.code,label:Ae,filters:{kpi:ge,range:He,view:N}},"replace")})},[Me.level,we,mr,ar,He,ge,r,Sr,Xt,N]);const ye=y.useMemo(()=>({level:Me.level==="REGION"||Me.level==="SIGUNGU"||Me.level==="EUPMYEONDONG"?Me.level:"REGION",id:String(Me.id),name:Me.label}),[Me.id,Me.label,Me.level]),Ve=y.useMemo(()=>Mp(ye.level),[ye.level]),vt=y.useMemo(()=>Lt.filter($=>$.regionKey.level===Ve),[Ve,Lt]),Ot=y.useMemo(()=>{if(lr.length>=3)return lr.map(re=>({code:String(re.code),name:re.name}));const $=FH[e.ctprvnCode]??[];return $.length?$.map(re=>({code:String(re.code),name:re.label})):hr.map(re=>({code:String(re.code),name:re.name}))},[hr,e.ctprvnCode,lr]),ee=y.useMemo(()=>Ot.map($=>ld($.name,`${e.id}-${He}`,De,He,$.code)),[Ot,e.id,De,He]),ue=y.useMemo(()=>cr.length?cr.map($=>ld($.name,`${e.id}-${Me.level}-${Me.id}-${He}`,De,He,$.code)):[],[De,Me.id,Me.level,cr,He,e.id]),Ge=y.useMemo(()=>{if(Me.level!=="SIGUNGU")return[];if(!vt.length)return[];const $=vt.filter(X=>{const Ae=String(X.code);return Ae.startsWith(String(Me.id))&&Ae.length>String(Me.id).length});return($.length>0?$:vt.filter(X=>String(X.code)!==String(Me.id))).map(X=>ld(X.name,`${e.id}-${Me.level}-${Me.id}-${He}-map-fallback`,De,He,X.code))},[De,Me.id,Me.level,He,e.id,vt]),st=y.useMemo(()=>{if(ye.level==="REGION")return vt.length>0?vt.map($=>({code:String($.code),name:$.name})):ee.map($=>({code:String($.regionId),name:$.name}));if(ye.level==="SIGUNGU"){const $=vt.filter(X=>{const Ae=String(X.code);return Ae.startsWith(String(ye.id))&&Ae.length>String(ye.id).length}).map(X=>({code:String(X.code),name:X.name})),re=$.length>0?$:vt.filter(X=>String(X.code)!==String(ye.id)).map(X=>({code:String(X.code),name:X.name}));return re.length>0?re:ue.map(X=>({code:String(X.regionId),name:X.name}))}return[]},[ye.id,ye.level,ee,ue,vt]),lt=y.useMemo(()=>GH({level:OEe(ye.level),parentRegionCode:String(ye.id),candidates:st}),[st,ye.id,ye.level]),St=y.useMemo(()=>{const $=new Map;return[...ee,...ue,...Ge].forEach(re=>{$.set(String(re.regionId),re)}),lt.children.map(re=>{const X=$.get(re.code);return X||ld(re.name,`${e.id}-${ye.level}-${ye.id}-${He}-scope-fill`,De,He,re.code)})},[De,lt.children,ye.id,ye.level,ee,ue,He,e.id,Ge]),gr=y.useMemo(()=>{if(ye.level==="EUPMYEONDONG"){const $=ue.find(re=>String(re.regionId)===String(ye.id))??Ge.find(re=>String(re.regionId)===String(ye.id));return $?[$]:[ld(ye.name,`${e.id}-${ye.level}-${ye.id}-${He}-leaf`,De,He,ye.id)]}return St.length>0?St:ye.level==="REGION"?ee:ye.level==="SIGUNGU"?Ge.length>0?Ge:ue.length>0?ue:[]:[]},[De,ye.id,ye.level,ye.name,ee,ue,He,e.id,St,Ge]),xr=y.useRef({});y.useEffect(()=>{gr.length&&(xr.current[Zt]=gr)},[gr,Zt]);const tt=y.useMemo(()=>{if(gr.length)return gr;const $=xr.current[Zt];return $?.length?$:ye.level==="REGION"?ee:ye.level==="SIGUNGU"&&Ge.length?Ge:ye.level==="SIGUNGU"&&ue.length?ue:[]},[gr,ye.level,ee,ue,Zt,Ge]),Ir=tt.length>0,zt=`${Zt}|${ge}|${He}|${N}`;y.useEffect(()=>{zt!==ve.current&&(ve.current=zt,pe!=="Initial"&&Ee("RegionChange"))},[pe,zt]),y.useEffect(()=>{if(pe!=="RegionChange")return;const $=window.setTimeout(()=>{Ee(Ir?"Ready":"PartialData")},140);return()=>window.clearTimeout($)},[Ir,pe]),y.useEffect(()=>{pe==="Initial"&&Ee(Ir?"Ready":"Empty")},[Ir,pe]),y.useEffect(()=>{Ir&&(pe==="Ready"||pe==="RegionChange"||Ee("Ready"))},[Ir,pe]);const Js=pe==="RegionChange"?"transition-[opacity,transform] duration-200 ease-out opacity-60 translate-y-[2px] pointer-events-none":"transition-[opacity,transform] duration-200 ease-out opacity-100 translate-y-0",as=y.useMemo(()=>Me.level==="SIGUNGU"?String(Me.id):Me.level==="EUPMYEONDONG"?String(Me.id).slice(0,5):null,[Me.id,Me.level]),Tt=y.useMemo(()=>{if(as){const $=ee.find(re=>String(re.regionId)===as);if($)return $}return Jt?ee.find($=>Yi($.name)===Yi(Jt))??null:null},[ee,Jt,as]),Fa=y.useMemo(()=>kEe(tt.length?tt:ee),[ee,tt]),Ct=y.useMemo(()=>Me.level==="REGION"?Tt??Fa:Me.level==="SIGUNGU"?Fa:Me.level==="EUPMYEONDONG"?tt[0]??Fa:Tt??Fa,[Fa,Me.level,tt,Tt]),_t=y.useMemo(()=>Db[ge]??OA[0],[ge]),ss=SEe[ge],wo=y.useMemo(()=>[{key:"RISK",label:"",kpi:Ip.RISK},{key:"BOTTLENECK",label:"",kpi:Ip.BOTTLENECK},{key:"GAP",label:"",kpi:Ip.GAP},{key:"LOAD",label:"",kpi:Ip.LOAD}],[]),Nc=y.useMemo(()=>OA.map($=>{const re=$.key;return{...$,key:re,value:Fa.kpi[re],mapColorScheme:r6[re]??"blue",tooltipLines:PEe($.label,$.tooltip,$.scopeLine,$.clickAction)}}),[Fa]),hl=oEe[ge]??"regional_sla_violation",wn=r6[ge]??"blue",Ba=y.useMemo(()=>Wl[wn]??Wl.blue,[wn]),Kn=we,ur=Me.level==="REGION"?e.label:Me.label,_u=`${cg[He]}  ${e.label}  ${_t.shortLabel}  `,fa=y.useMemo(()=>tt.map($=>$.mapMetric[ge]),[tt,ge]),Wn=y.useMemo(()=>fa.length?Math.min(...fa):0,[fa]),fn=y.useMemo(()=>fa.length?Math.max(...fa):0,[fa]),Ss=y.useMemo(()=>fa.length?Number((fa.reduce(($,re)=>$+re,0)/fa.length).toFixed(1)):0,[fa]),gl=y.useMemo(()=>{const $=Wl[wn]??Wl.blue,re=fn-Wn||1;return tt.map(X=>{const Ae=X.mapMetric[ge],Ie=(Ae-Wn)/re,Fe=Math.max(0,Math.min($.length-1,Math.floor(Ie*$.length))),rt=String(X.regionId);return{code:rt,name:X.name,regionId:Ra({level:Mp(ye.level),code:rt,name:X.name}),size:Math.max(1,Ae),value:Ae,fill:$[Fe]}})},[ye.level,tt,ge,Wn,fn,wn]),ws=Fa.kpi[ge],Sc=y.useMemo(()=>{const $=MA(ge),re=tt.map(Rt=>Rt.kpi[ge]),X=tt.map(Rt=>Rt.volume),Ae=Math.min(...re),Ie=Math.max(...re),Fe=Math.min(...X),rt=Math.max(...X),Ft=tt.map(Rt=>Rt.adTransitionSignal.densityScore),sr=tt.map(Rt=>Rt.adTransitionSignal.transition30d),En=tt.map(Rt=>Rt.adTransitionSignal.deltaFromAvg),Aa=tt.map(Rt=>Rt.differentialDelay.avgWaitDays),Ha=tt.map(Rt=>Rt.differentialDelay.delayedRatio),ai=tt.map(Rt=>Rt.differentialDelay.backlogCount),pn=tt.map(Rt=>1-Rt.stageConversionRate.conversionRate),Ca=tt.map(Rt=>-Rt.stageConversionRate.deltaFromRegional),cs=tt.map(Rt=>Rt.screenToDxDrivers.reduce((aa,In)=>aa+In.value,0)/Math.max(1,Rt.screenToDxDrivers.length));return tt.map(Rt=>{const aa=Rt.kpi[ge];let In=aEe({kpiValue:aa,kpiMin:Ae,kpiMax:Ie,volume:Rt.volume,volumeMin:Fe,volumeMax:rt,direction:$});if(ge==="regionalAdTransitionHotspot"){const Yn=Ho(Rt.adTransitionSignal.densityScore,Math.min(...Ft),Math.max(...Ft)),si=Ho(Rt.adTransitionSignal.transition30d,Math.min(...sr),Math.max(...sr)),ii=Ho(Rt.adTransitionSignal.deltaFromAvg,Math.min(...En),Math.max(...En));In=Number((Yn*Bj.density+si*Bj.transition+ii*Bj.delta).toFixed(3))}else if(ge==="regionalDxDelayHotspot"){const Yn=Ho(Rt.differentialDelay.avgWaitDays,Math.min(...Aa),Math.max(...Aa)),si=Ho(Rt.differentialDelay.delayedRatio,Math.min(...Ha),Math.max(...Ha)),ii=Ho(Rt.differentialDelay.backlogCount,Math.min(...ai),Math.max(...ai));In=Number((Yn*Uj.wait+si*Uj.delayed+ii*Uj.backlog).toFixed(3))}else if(ge==="regionalScreenToDxRate"){const Yn=Ho(1-Rt.stageConversionRate.conversionRate,Math.min(...pn),Math.max(...pn)),si=Ho(-Rt.stageConversionRate.deltaFromRegional,Math.min(...Ca),Math.max(...Ca)),ii=Rt.screenToDxDrivers.reduce((oi,Kf)=>oi+Kf.value,0)/Math.max(1,Rt.screenToDxDrivers.length),us=Ho(ii,Math.min(...cs),Math.max(...cs));In=Number((Yn*zj.gapRate+si*zj.deltaGap+us*zj.support).toFixed(3))}const vl=Number(yt(`national-${ge}-${He}-${De}-${Me.level}-${Me.id}-${Rt.name}`,Or[ge][0],Or[ge][1]).toFixed(1)),Ui=xn(Vi(Rt.regionId))||xn(Rt.regionId);return{code:Ui,regionId:Ra({level:Mp(ye.level),code:Ui,name:Rt.name}),name:Rt.name,kpiValue:aa,volume:Rt.volume,priorityScore:In,nationalDelta:Number((aa-vl).toFixed(1))}}).sort((Rt,aa)=>{if(aa.priorityScore!==Rt.priorityScore)return aa.priorityScore-Rt.priorityScore;const In=Rt.name.localeCompare(aa.name,"ko-KR");return In!==0?In:Rt.code.localeCompare(aa.code)})},[De,ye.level,Me.id,Me.level,He,tt,ge]),$i=y.useMemo(()=>new Set(lt.childrenCodes.map($=>xn($)).filter(Boolean)),[lt.childrenCodes]),gt=y.useMemo(()=>{const $=Mp(ye.level),re=Sc.filter(Ie=>{const Fe=xn(Ie.code)||xn(Vi(Ie.code));return Fe?$i.size?$i.has(Fe):!0:!1}),X=(re.length>0?re:Sc).slice(0,5),Ae=[];return X.forEach(Ie=>{const Fe=xn(Ie.code)||xn(Vi(Ie.regionId));Fe&&Ae.push({...Ie,code:Fe,regionKey:{level:$,code:Fe,name:Ie.name},regionId:Ra({level:$,code:Fe,name:Ie.name})})}),Ae},[$i,ye.level,Sc]),Et=y.useMemo(()=>tt.reduce(($,re)=>$+re.volume,0),[tt]),ei=y.useMemo(()=>{if(!gt.length||Et<=0)return null;const $=gt.reduce((re,X)=>re+X.volume,0);return Number(($/Et*100).toFixed(1))},[gt,Et]),ti=ei==null?"":`${ei.toFixed(1)}%`,Dn=y.useMemo(()=>{const $=tt.filter(Ie=>Ie.kpi.regionalRecontact>=10).length,re=tt.filter(Ie=>Ie.differentialDelay.avgWaitDays>=Ze.thresholds.longWaitDays).length,X=tt.reduce((Ie,Fe)=>Ie+(Fe.recontactReasons.find(rt=>rt.name==="")?.value??0),0),Ae=tt.filter(Ie=>Ie.stageImpact.stage1QueueDelta>=12).length;return{slaAtRiskRegions:$,examDelayRegions:re,overdueFollowups:Math.round(X),surgeRegions:Ae}},[tt,Ze.thresholds.longWaitDays]),yr=y.useMemo(()=>{const $=tt.filter(Ft=>Ft.adTransitionSignal.densityScore>=70).length,re=tt.reduce((Ft,sr)=>Ft+sr.adTransitionSignal.highRiskCount,0),X=tt.length>0?Number((tt.reduce((Ft,sr)=>Ft+sr.differentialDelay.avgWaitDays,0)/tt.length).toFixed(1)):0,Ae=Math.round(tt.reduce((Ft,sr)=>Ft+(sr.queueTypeBacklog.find(En=>En.name==="2 ")?.value??0),0)),Ie=tt.map(Ft=>Ft.stageConversionRate.conversionRate*100),Fe=Ie.length>1?Number((Math.max(...Ie)-Math.min(...Ie)).toFixed(1)):0,rt=tt.length>1?Number((Math.max(...tt.map(Ft=>Ft.differentialDelay.avgWaitDays))-Math.min(...tt.map(Ft=>Ft.differentialDelay.avgWaitDays))).toFixed(1)):0;return[{id:"risk",title:"Risk",value:$,unit:"",delta:{value:Dn.slaAtRiskRegions,unit:"",direction:Dn.slaAtRiskRegions>0?"up":"flat"},severity:Dn.slaAtRiskRegions>4?"critical":Dn.slaAtRiskRegions>2?"warn":"normal",bindLayer:"RISK"},{id:"bottleneck",title:"Bottleneck",value:X,unit:"",delta:{value:Ae,unit:"",direction:Ae>0?"up":"flat"},severity:X>Ze.thresholds.longWaitDays?"critical":X>Ze.thresholds.longWaitDays-1?"warn":"normal",bindLayer:"BOTTLENECK"},{id:"gap",title:"Gap",value:Fe,unit:"%p",delta:{value:rt,unit:"",direction:rt>0?"up":"flat"},severity:Fe>18?"critical":Fe>10?"warn":"normal",bindLayer:"GAP"},{id:"load",title:"Load",value:re,unit:"",delta:{value:Dn.surgeRegions,unit:"",direction:Dn.surgeRegions>0?"up":"flat"},severity:Dn.surgeRegions>3?"warn":"normal",bindLayer:"LOAD"}]},[Dn,tt,Ze.thresholds.longWaitDays]),js=y.useMemo(()=>gt.map($=>{const re=Vi($.regionId)??$.code,X=tt.find(rt=>String(rt.regionId)===re),Ae=Fj[ge],Ie=ge==="regionalAdTransitionHotspot"?X?.adTransitionDrivers[0]?.name??" ":ge==="regionalDxDelayHotspot"?X?.dxDelayDrivers[0]?.name??" ":ge==="regionalScreenToDxRate"?X?.screenToDxDrivers[0]?.name??" ":ge==="regionalQueueRisk"?X?.queueCauseTop[0]?.name??" ":ge==="regionalDataReadiness"?X?.missingFields[0]?.name??"  ":ge==="regionalGovernance"?X?.governanceMissingTypes[0]?.name??" ":X?.queueTypeBacklog[0]?.name??"  ",Fe=Je(Ae==="EXAM_DELAY"?"    ":Ae==="CONVERSION_GAP"?"     ":Ae==="DATA_GAP"?"     ":Ae==="LOAD"?"    ":"    ");return{regionId:$.regionId,regionName:$.name,issueType:Ae,severity:Math.max(0,Math.min(100,Math.round($.priorityScore*100))),primaryCause:Ie,recommendedAction:Fe,ctaLabel:jEe[Ae]}}),[tt,ge,gt]),wc=y.useCallback(($,re,X)=>{const Ae=X<=2?"TODO":"IN_PROGRESS",Ie=X<=2?24:48,Fe={id:`rq-${Date.now()}`,priority:X,regionName:re,taskType:wEe[$],status:Ae,assignee:" ",dueAt:new Date(Date.now()+Ie*60*60*1e3).toISOString(),createdAt:new Date().toISOString()};fe(rt=>[Fe,...rt].slice(0,20))},[]),jo=y.useCallback(($,re)=>{fe(X=>X.map(Ae=>Ae.id===$?{...Ae,status:re}:Ae))},[]),is=y.useMemo(()=>Tt?Number((Tt.kpi[ge]-ws).toFixed(1)):null,[ws,Tt,ge]),Eo=y.useMemo(()=>{const $=new Map;return tt.forEach(re=>{const X=String(re.regionId),Ae=xn(Vi(X));$.set(X,re),Ae&&$.set(Ae,re)}),$},[tt]),_o=y.useCallback(({code:$,name:re})=>{const X=xn($)||xn(Vi($)),Ae=(X?Eo.get(X):void 0)??Eo.get(String($));if(!Ae)return[];const Ie=Number(yt(`${e.id}-${re}-${ge}-delta7-${He}-${De}`,-12,12).toFixed(1)),Fe=_t.unit===""?"":_t.unit===""?"":_t.unit===""?"":"%p";return[`: ${Ae.volume.toLocaleString()}`,` 7 : ${Ie>0?"+":""}${_t.unit===""||_t.unit===""?Math.round(Ie):Ie}${Fe}`]},[De,Eo,He,e.id,_t.unit,ge]),Ao=y.useCallback(()=>{Ut(null),Xt(null),ht(),U(!1)},[ht,Ut,Xt]),os=y.useCallback(()=>{Mt&&(we.length<=2&&(Ut(null),Xt(null)),Ur(),U(!1))},[Ur,Mt,we.length,Ut,Xt]),Ua=y.useCallback(({level:$,code:re,name:X,regionId:Ae})=>{if($==="ctprvn"){Ao();return}const Ie=xn(re)||xn(Vi(Ae)),Fe=$==="sig"||$==="emd"&&Ie.length===5,rt=Yi(X);if(Fe&&Ie){const Ft=sn.get(Ie)??mr.get(rt)??X,sr=Ae??Ra({level:"SIGUNGU",code:Ie});Xt(sr),Ut(Ft),se("drivers"),y.startTransition(()=>{ar({level:"SIGUNGU",id:Ie,label:Ft,filters:{kpi:ge,range:He,view:N}})});return}if($==="emd"){if(!Ie)return;const Ft=wr.get(Ie)?.name??X,sr=Ae??Ra({level:"EUPMYEONDONG",code:Ie});Xt(sr),se("drivers"),y.startTransition(()=>{ar({level:"EUPMYEONDONG",id:Ie,label:Ft,filters:{kpi:ge,range:He,view:N}})})}},[wr,Ao,mr,ar,He,ge,sn,Ut,Xt,N]),ls=y.useCallback($=>{const re=Mp(ye.level),Ae=$.map(rt=>{const Ft=xn(rt.code)||xn(Vi(rt.regionId)),sr=String(rt.name??"").trim();return!Ft||!sr?null:{...rt,code:Ft,name:sr,regionKey:{...rt.regionKey,level:rt.regionKey.level,code:Ft,name:sr},regionId:rt.regionId||Ra({level:rt.regionKey.level,code:Ft})}}).filter(rt=>!!rt).filter((rt,Ft,sr)=>sr.findIndex(En=>En.code===rt.code)===Ft).filter(rt=>rt.regionKey.level===re).sort((rt,Ft)=>rt.code.localeCompare(Ft.code,"ko-KR"));if(!Ae.length)return;const Ie=`${re}|${Ae.map(rt=>`${rt.code}:${rt.name}`).join("|")}`;$e.current[Zt]!==Ie&&($e.current[Zt]=Ie,D(rt=>{const Ft=rt[Zt]??[];return Ft.length===Ae.length&&Ft.every((sr,En)=>sr.code===Ae[En]?.code&&sr.name===Ae[En]?.name&&sr.regionKey.level===Ae[En]?.regionKey.level)?rt:{...rt,[Zt]:Ae}}))},[ye.level,Zt]),Vn=y.useCallback(($,re,X)=>{se("drivers"),Se(null);const Ae=xn($)||xn(Vi(X));if(!Ae)return;const Ie=Me.level==="REGION"?"SIGUNGU":"EUPMYEONDONG",Fe=Ra({level:Ie,code:Ae});if(Xt(Fe),Fe!==Vt){if(Ie==="SIGUNGU"){Ut(re),y.startTransition(()=>{ar({level:"SIGUNGU",id:Ae,label:re,filters:{kpi:ge,range:He,view:N}})});return}y.startTransition(()=>{ar({level:"EUPMYEONDONG",id:Ae,label:re,filters:{kpi:ge,range:He,view:N}},Me.level==="EUPMYEONDONG"?"replace":"push")})}},[Me.level,ar,He,Vt,ge,Ut,Xt,N]),rn=y.useMemo(()=>{const $=De==="week"?7:4,re=De==="week"?["","","","","","",""]:De==="month"?["1","2","3","4"]:["Q1","Q2","Q3","Q4"],[X,Ae]=Or[ge],Ie=ge==="regionalSla"?KH[He]*IA[De]:WH[He]*IA[De],Fe=VH[He],rt=Ft=>_t.unit===""?Number((Ft*Ie).toFixed(1)):_t.unit===""?Number(Math.max(X,Math.min(Ae,Ft+Fe*4)).toFixed(1)):_t.unit===""?Number(Math.max(X,Math.min(Ae,Ft+Fe*2)).toFixed(1)):Number(Math.max(X,Math.min(Ae,Ft+Fe)).toFixed(1));return Array.from({length:$},(Ft,sr)=>{const En=rt(yt(`${e.id}-${ge}-${De}-reg-${sr}`,X,Ae)),Aa=rt(yt(`national-${ge}-${He}-${De}-tr-${sr}`,X,Ae)),Ha=Jt?rt(yt(`${e.id}-${Jt}-${ge}-${He}-${De}-dist-${sr}`,X,Ae)):void 0;return{label:re[sr],regional:En,national:Aa,district:Ha}})},[De,He,e.id,Jt,_t.unit,ge]),Fi=y.useMemo(()=>{const $=Number((ee.reduce((re,X)=>re+X.mapMetric.regionalSla,0)/Math.max(1,ee.length)).toFixed(1));return ee.map(re=>({name:re.name,value:re.mapMetric.regionalSla,delta:Number((re.mapMetric.regionalSla-$).toFixed(1))})).sort((re,X)=>X.value-re.value).slice(0,8)},[ee]),ja=y.useMemo(()=>ee.map(re=>({name:re.name,missing:re.mapMetric.regionalGovernance,statuses:re.governanceActionStatus})).sort((re,X)=>X.missing-re.missing).slice(0,5).map(re=>{const X=re.statuses.find(Fe=>Fe.status==="")?.value??0,Ae=re.statuses.find(Fe=>Fe.status==="")?.value??0,Ie=re.statuses.find(Fe=>Fe.status==="")?.value??0;return{name:re.name,:X,:Ae,:Ie}}),[ee]),Co=y.useMemo(()=>{const $=Ct.stageImpact;return[{stage:"Stage1 (ML)",signal:$.stage1SignalDelta,queue:$.stage1QueueDelta,desc:"       "},{stage:"Stage2 (ANN)",signal:$.stage2SignalDelta,queue:$.stage2QueueDelta,desc:"2    2   "},{stage:"Stage3 (CNN)",signal:$.stage3SignalDelta,queue:$.stage3QueueDelta,desc:"3    3    "}]},[Ct.stageImpact]),xl=y.useMemo(()=>ge==="regionalSla"?[Je("Stage        "),Je("          ")]:ge==="regionalQueueRisk"?[Je("        "),Je("       ")]:ge==="regionalRecontact"?[Je("SLA      "),Je("SLA       ")]:ge==="regionalDataReadiness"?[Je("       "),Je("       ")]:ge==="regionalAdTransitionHotspot"?[Je("     Stage3     "),Je("        ")]:ge==="regionalDxDelayHotspot"?[Je("        "),Je("       ")]:ge==="regionalScreenToDxRate"?[Je("         "),Je("       ")]:[Je("       "),Je("       ")],[ge]),ri=y.useMemo(()=>ge==="regionalSla"?Ct.queueTypeBacklog.slice(0,3):ge==="regionalQueueRisk"?Ct.queueCauseTop.slice(0,3):ge==="regionalRecontact"?Ct.slaStageContribution.slice(0,3):ge==="regionalDataReadiness"?Ct.recontactReasons.slice(0,3):ge==="regionalAdTransitionHotspot"?Ct.adTransitionDrivers.slice(0,3):ge==="regionalDxDelayHotspot"?Ct.dxDelayDrivers.slice(0,3):ge==="regionalScreenToDxRate"?Ct.screenToDxDrivers.slice(0,3):Ct.governanceMissingTypes.slice(0,3),[Ct,ge]),qf=y.useMemo(()=>Ms([Ct.missingFields]),[Ct.missingFields]),To=y.useMemo(()=>{if(ge==="regionalSla"){const re=[...Ct.queueTypeBacklog].sort((X,Ae)=>Ae.value-X.value)[0];return{stage:re?.name??" ",valueLabel:re?`${Math.round(re.value)}`:"",basis:Je("    ")}}if(ge==="regionalQueueRisk"){const re=Ct.queueCauseTop[0];return{stage:re?.name??" ",valueLabel:re?`${Math.round(re.value)}`:"",basis:Je("      ")}}if(ge==="regionalRecontact"){const re=Ct.slaStageContribution[0];return{stage:re?.name??"SLA ",valueLabel:re?`${re.value.toFixed(1)}%`:"",basis:Je("SLA     ")}}if(ge==="regionalDataReadiness"){const re=Ct.recontactReasons[0];return{stage:re?.name??"",valueLabel:re?`${Math.round(re.value)}`:"",basis:Je("      ")}}if(ge==="regionalAdTransitionHotspot")return{stage:" ",valueLabel:`${Math.round(Ct.adTransitionSignal.highRiskCount)}  ${Math.round(Ct.adTransitionSignal.densityScore)}`,basis:Je("     ")};if(ge==="regionalDxDelayHotspot")return{stage:" ",valueLabel:`${Math.round(Ct.differentialDelay.avgWaitDays)}  ${(Ct.differentialDelay.delayedRatio*100).toFixed(1)}%`,basis:Je("      ")};if(ge==="regionalScreenToDxRate")return{stage:" ",valueLabel:`${(Ct.stageConversionRate.conversionRate*100).toFixed(1)}%`,basis:Je("      ")};const $=Ct.governanceMissingTypes[0];return{stage:$?.name??" ",valueLabel:$?`${Math.round($.value)}`:"",basis:Je("     ")}},[Ct.adTransitionSignal.densityScore,Ct.adTransitionSignal.highRiskCount,Ct.differentialDelay.avgWaitDays,Ct.differentialDelay.delayedRatio,Ct.governanceMissingTypes,Ct.queueCauseTop,Ct.queueTypeBacklog,Ct.recontactReasons,Ct.slaStageContribution,Ct.stageConversionRate.conversionRate,ge]),pa=y.useMemo(()=>({primaryDriverStage:To.stage,alertLevel:REe(ge,ws,_t.trendGoal)}),[To.stage,ws,_t.trendGoal,ge]),jc=y.useMemo(()=>Je(ge==="regionalSla"?`${pa.primaryDriverStage}          `:ge==="regionalQueueRisk"?`${pa.primaryDriverStage}         `:ge==="regionalRecontact"?"SLA /       ":ge==="regionalDataReadiness"?"        ":ge==="regionalAdTransitionHotspot"?"          ":ge==="regionalDxDelayHotspot"?"         ":ge==="regionalScreenToDxRate"?"          ":"        "),[ge,pa.primaryDriverStage]),Ea=y.useMemo(()=>{const $=gt.slice(0,2).map(re=>re.name);return $.length?$.join(", "):`${e.label}  `},[e.label,gt]),ni=y.useMemo(()=>Je(`${e.label}() ${_t.label} ${zc(ge,ws)} (  ${zc(ge,Ss)},  ${ug(ge,Number((ws-Ss).toFixed(1)))})`),[Ss,e.label,ws,_t.label,ge]),ko=y.useMemo(()=>Je(`  ${Ze.thresholds.longWaitDays}    : Top5  ${ti}`),[Ze.thresholds.longWaitDays,ti]),za=y.useMemo(()=>Je(ge==="regionalQueueRisk"?`   : ${Ea}     `:ge==="regionalRecontact"?`   : ${Ea} SLA    `:ge==="regionalDataReadiness"?`   : ${Ea}     `:ge==="regionalGovernance"?`   : ${Ea}     `:ge==="regionalAdTransitionHotspot"?`   : ${Ea}      `:ge==="regionalDxDelayHotspot"?`   : ${Ea}       `:ge==="regionalScreenToDxRate"?`   : ${Ea}       `:`   : ${Ea}     `),[ge,Ea]),Bi=y.useMemo(()=>Tt?ge==="regionalSla"?Tt.queueTypeBacklog[0]?.name??" ":ge==="regionalQueueRisk"?Tt.queueCauseTop[0]?.name??" ":ge==="regionalRecontact"?Tt.slaStageContribution[0]?.name??"SLA ":ge==="regionalDataReadiness"?Tt.recontactReasons[0]?.name??"":ge==="regionalAdTransitionHotspot"?Tt.adTransitionDrivers[0]?.name??" ":ge==="regionalDxDelayHotspot"?Tt.dxDelayDrivers[0]?.name??" ":ge==="regionalScreenToDxRate"?Tt.screenToDxDrivers[0]?.name??" ":Tt.governanceMissingTypes[0]?.name??" ":null,[Tt,ge]),Gf=y.useMemo(()=>Tt&&is!=null?Je(`${Tt.name}:    ${ug(ge,is)}   1: ${Bi??""}`):Je(`Top5     ${ti}  (  )`),[Tt,is,ge,Bi,ti]),_a=y.useMemo(()=>{const $=Tt?Tt.name:`${e.label} `,re=gt[0]?.name??$,X=ri.slice(0,2).map(Ae=>_t.unit==="%"?`${Ae.name} ${Ae.value.toFixed(1)}%`:_t.unit===""?`${Ae.name} ${Math.round(Ae.value)}`:_t.unit===""?`${Ae.name} ${Math.round(Ae.value)}`:`${Ae.name} ${Math.round(Ae.value)}`);return[{id:"scenario-a",target:$,action:xl[0]??Je("   "),effect:"  ",risk:Je("    "),evidence:X[0]??Je("  ")},{id:"scenario-b",target:re,action:xl[1]??Je("   "),effect:"  ",risk:Je("   "),evidence:X[1]??Je("  ")}]},[xl,ri,e.label,Tt,_t.unit,gt]),na=y.useMemo(()=>rn.length<3?null:Math.max(1,Math.floor(rn.length/2)),[rn]),Oo=y.useMemo(()=>{if(!rn.length)return Je("  ");const $=Math.max(1,Math.floor(rn.length/2)),re=rn.slice(0,$).reduce((Aa,Ha)=>Aa+Ha.regional,0)/$,X=rn.slice($),Ae=X.reduce((Aa,Ha)=>Aa+Ha.regional,0)/Math.max(1,X.length),Ie=Number((Ae-re).toFixed(1)),Fe=MA(ge),rt=Fe==="higherBetter"&&Ie>.4||Fe==="higherWorse"&&Ie<-.4,Ft=Fe==="higherBetter"&&Ie<-.4||Fe==="higherWorse"&&Ie>.4,sr=rt?" ":Ft?"/ ":" ",En=He==="24h"?" 24":`${cg[He]} `;return Je(`${En}:    ${sr} (    )`)},[He,ge,rn]),yl=y.useMemo(()=>{if(na==null||na>=rn.length)return"";const $=rn.slice(0,na).map(Fe=>Fe.regional),re=rn.slice(na).map(Fe=>Fe.regional);if(!$.length||!re.length)return"";const X=$.reduce((Fe,rt)=>Fe+rt,0)/$.length,Ae=re.reduce((Fe,rt)=>Fe+rt,0)/re.length,Ie=Number((Ae-X).toFixed(1));return ug(ge,Ie)},[ge,rn,na]),Au=()=>{if(ge==="regionalRecontact"){const re=Ct.recontactReasons.slice().sort((Ie,Fe)=>Fe.value-Ie.value).slice(0,oe?8:5),X=re.reduce((Ie,Fe)=>Ie+Fe.value,0),Ae=re.length<=3;return a.jsxs(a.Fragment,{children:[Ae?a.jsx(u6,{title:"  ",subtitle:"  3    ",scopeLabel:ur,data:re,unit:"",colors:Ba.slice(-3),onSliceClick:Ie=>K(Ie.name)}):a.jsx(hi,{title:"  TopN",subtitle:"/ /  ",scopeLabel:ur,data:re,unit:"",color:_t.color,maxItems:oe?8:5,onItemClick:Ie=>K(Ie.name)}),a.jsx(Nn,{title:"  ",subtitle:" /",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-[11px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b border-gray-100",children:[a.jsx("th",{className:"py-1 pr-2",children:""}),a.jsx("th",{className:"py-1 pr-2 text-right",children:""}),a.jsx("th",{className:"py-1 text-right",children:""})]})}),a.jsx("tbody",{children:re.map(Ie=>a.jsxs("tr",{className:"border-b border-gray-50",children:[a.jsx("td",{className:"py-1 pr-2 text-gray-700",children:Ie.name}),a.jsxs("td",{className:"py-1 pr-2 text-right font-medium text-gray-900",children:[Math.round(Ie.value).toLocaleString(),""]}),a.jsx("td",{className:"py-1 text-right text-gray-700",children:X>0?`${(Ie.value/X*100).toFixed(1)}%`:"0.0%"})]},Ie.name))})]})})})]})}if(ge==="regionalAdTransitionHotspot"){const re=tt.map(X=>({name:X.name,highRiskCount:X.adTransitionSignal.highRiskCount,transition30d:X.adTransitionSignal.transition30d,deltaFromAvg:X.adTransitionSignal.deltaFromAvg})).sort((X,Ae)=>Ae.highRiskCount-X.highRiskCount).slice(0,oe?8:5);return a.jsxs(a.Fragment,{children:[a.jsx(hi,{title:"  TopN",subtitle:"   ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:X.highRiskCount})),unit:"",color:"#dc2626",maxItems:oe?8:5,onItemClick:X=>K(X.name)}),a.jsx(Nn,{title:"  ",subtitle:" highRiskCount / transition30d / ",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-[11px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b border-gray-100",children:[a.jsx("th",{className:"py-1 pr-2",children:""}),a.jsx("th",{className:"py-1 pr-2 text-right",children:""}),a.jsx("th",{className:"py-1 pr-2 text-right",children:"30 "}),a.jsx("th",{className:"py-1 text-right",children:""})]})}),a.jsx("tbody",{children:re.map(X=>a.jsxs("tr",{className:"border-b border-gray-50",children:[a.jsx("td",{className:"py-1 pr-2 text-gray-700",children:X.name}),a.jsxs("td",{className:"py-1 pr-2 text-right font-medium text-gray-900",children:[X.highRiskCount.toLocaleString(),""]}),a.jsxs("td",{className:"py-1 pr-2 text-right text-gray-700",children:[X.transition30d.toLocaleString(),""]}),a.jsxs("td",{className:`py-1 text-right font-medium ${X.deltaFromAvg>=0?"text-red-600":"text-blue-600"}`,children:[X.deltaFromAvg>0?"+":"",X.deltaFromAvg.toFixed(1)]})]},X.name))})]})})})]})}if(ge==="regionalDxDelayHotspot"){const re=tt.map(X=>({name:X.name,avgWaitDays:X.differentialDelay.avgWaitDays,delayedRatio:X.differentialDelay.delayedRatio,backlogCount:X.differentialDelay.backlogCount,deltaFromAvg:X.differentialDelay.deltaFromAvg})).sort((X,Ae)=>Ae.avgWaitDays-X.avgWaitDays).slice(0,oe?8:5);return a.jsxs(a.Fragment,{children:[a.jsx(hi,{title:"  TopN",subtitle:"    ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:X.avgWaitDays})),unit:"",color:"#f97316",maxItems:oe?8:5,onItemClick:X=>K(X.name)}),a.jsx(Nn,{title:" ",subtitle:"avgWaitDays / delayedRatio / backlogCount / ",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-[11px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b border-gray-100",children:[a.jsx("th",{className:"py-1 pr-2",children:""}),a.jsx("th",{className:"py-1 pr-2 text-right",children:" "}),a.jsx("th",{className:"py-1 pr-2 text-right",children:" "}),a.jsx("th",{className:"py-1 pr-2 text-right",children:" "}),a.jsx("th",{className:"py-1 text-right",children:""})]})}),a.jsx("tbody",{children:re.map(X=>a.jsxs("tr",{className:"border-b border-gray-50",children:[a.jsx("td",{className:"py-1 pr-2 text-gray-700",children:X.name}),a.jsxs("td",{className:"py-1 pr-2 text-right font-medium text-gray-900",children:[Math.round(X.avgWaitDays),""]}),a.jsxs("td",{className:"py-1 pr-2 text-right text-gray-700",children:[(X.delayedRatio*100).toFixed(1),"%"]}),a.jsxs("td",{className:"py-1 pr-2 text-right text-gray-700",children:[X.backlogCount.toLocaleString(),""]}),a.jsxs("td",{className:`py-1 text-right font-medium ${X.deltaFromAvg>=0?"text-red-600":"text-blue-600"}`,children:[X.deltaFromAvg>0?"+":"",X.deltaFromAvg.toFixed(1),""]})]},X.name))})]})})})]})}if(ge==="regionalScreenToDxRate"){const re=tt.map(X=>({name:X.name,conversionRate:X.stageConversionRate.conversionRate,deltaFromRegional:X.stageConversionRate.deltaFromRegional,support:X.screenToDxDrivers.reduce((Ae,Ie)=>Ae+Ie.value,0)/Math.max(1,X.screenToDxDrivers.length)})).sort((X,Ae)=>X.conversionRate-Ae.conversionRate).slice(0,oe?8:5);return a.jsxs(a.Fragment,{children:[a.jsx(Dp,{title:"     ",subtitle:"  ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:Number((X.conversionRate*100).toFixed(1)),delta:X.deltaFromRegional})),valueUnit:"%",deltaUnit:"%p",barColor:"#0f766e",lineColor:"#dc2626"}),a.jsx(Nn,{title:" ",subtitle:"conversionRate / deltaFromRegional / support",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-[11px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b border-gray-100",children:[a.jsx("th",{className:"py-1 pr-2",children:""}),a.jsx("th",{className:"py-1 pr-2 text-right",children:""}),a.jsx("th",{className:"py-1 pr-2 text-right",children:""}),a.jsx("th",{className:"py-1 text-right",children:""})]})}),a.jsx("tbody",{children:re.map(X=>a.jsxs("tr",{className:"border-b border-gray-50",children:[a.jsx("td",{className:"py-1 pr-2 text-gray-700",children:X.name}),a.jsxs("td",{className:"py-1 pr-2 text-right font-medium text-gray-900",children:[(X.conversionRate*100).toFixed(1),"%"]}),a.jsxs("td",{className:`py-1 pr-2 text-right font-medium ${X.deltaFromRegional>=0?"text-blue-600":"text-red-600"}`,children:[X.deltaFromRegional>0?"+":"",X.deltaFromRegional.toFixed(1),"%p"]}),a.jsx("td",{className:"py-1 text-right text-gray-700",children:X.support.toFixed(1)})]},X.name))})]})})})]})}const $=qf.slice(0,oe?7:5);return a.jsxs(a.Fragment,{children:[a.jsx(hi,{title:"  TopN",subtitle:"     ",data:$,unit:"",color:"#16a34a",scopeLabel:ur,maxItems:oe?7:5,onItemClick:re=>K(re.name)}),a.jsx("div",{className:"px-1 -mt-1",children:a.jsx("button",{onClick:()=>je(re=>!re),className:"text-[11px] px-2 py-1 rounded border border-gray-200 text-gray-600 hover:bg-gray-50",children:oe?"":""})}),a.jsx(Fl,{title:"  ",subtitle:"  ",scopeLabel:ur,data:Ct.collectionLeadtime,unit:"",colorScale:["#22c55e","#84cc16","#f59e0b","#f97316"]})]})},jn=()=>a.jsxs(a.Fragment,{children:[a.jsx(c6,{title:"(/)",subtitle:Oo,data:rn,unit:_t.unit,color:_t.color,markerIndex:na,districtLabel:Tt?.name,scopeLabel:ur}),a.jsx(Nn,{title:"  ",subtitle:`   ${yl}`,scopeLabel:ur,children:a.jsx("div",{className:"text-[11px] text-blue-700",children:na!=null&&rn[na]?` : ${rn[na].label}`:"  "})}),a.jsx(Nn,{title:"Stage ",subtitle:"    ",scopeLabel:ur,children:a.jsx("div",{className:"space-y-2",children:Co.map($=>a.jsxs("div",{className:"p-2 rounded border border-gray-100 bg-gray-50",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-800",children:$.stage}),a.jsxs("div",{className:"text-[11px] text-gray-600 mt-0.5",children:["  ",$.signal>0?"":""," (",$.signal>0?"+":"",$.signal,"%)   ",$.queue>0?"":""," (",$.queue>0?"+":"",$.queue,")"]})]},$.stage))})}),a.jsx(Fl,{title:"Stage  ",subtitle:"   ",scopeLabel:ur,data:Co.map($=>({name:$.stage,value:Math.abs($.queue)})),unit:"",colorScale:["#2563eb","#16a34a","#7c3aed"]})]}),bl=()=>{if(ge==="regionalSla")return a.jsxs(a.Fragment,{children:[a.jsx(Fl,{title:"  ",subtitle:"      ",scopeLabel:ur,data:Ct.slaStageContribution,unit:"%",colorScale:["#2563eb","#3b82f6","#60a5fa","#93c5fd","#1d4ed8"]}),a.jsx(Dp,{title:"      ",subtitle:"  / ",scopeLabel:ur,data:Fi.map(re=>({name:re.name,value:re.value,delta:re.delta})),valueUnit:"",deltaUnit:"",barColor:"#2563eb",lineColor:"#dc2626"})]});if(ge==="regionalQueueRisk")return a.jsxs(a.Fragment,{children:[a.jsx(Fl,{title:"   ",subtitle:"/L2/2/3  ",scopeLabel:ur,data:Ct.queueTypeBacklog,unit:"",colorScale:["#f97316","#fb923c","#fdba74","#ea580c"]}),a.jsx(hi,{title:"  TopN",subtitle:"      ",scopeLabel:ur,data:Ct.queueCauseTop,unit:"",color:"#ea580c",onItemClick:re=>K(re.name)})]});if(ge==="regionalRecontact"){const re=Ct.recontactReasons.length<=3;return a.jsxs(a.Fragment,{children:[re?a.jsx(u6,{title:"  ",subtitle:"  3    ",scopeLabel:ur,data:Ct.recontactReasons,unit:"",colors:Ba.slice(-3),onSliceClick:X=>K(X.name)}):a.jsx(hi,{title:"  TopN",subtitle:"/ /  ",scopeLabel:ur,data:Ct.recontactReasons,unit:"",color:_t.color,onItemClick:X=>K(X.name)}),a.jsx(c6,{title:" 7  ",subtitle:"     ",scopeLabel:ur,data:Ct.recontactTrend.map(X=>({label:X.day,regional:X.value})),unit:"%",color:_t.color}),a.jsx(Fl,{title:" ( )",subtitle:"  ",scopeLabel:ur,data:Ct.recontactSlots.map(X=>({name:X.slot,value:X.successRate})),unit:"%",colorScale:Ba.slice(-6)})]})}if(ge==="regionalDataReadiness")return a.jsxs(a.Fragment,{children:[a.jsx(hi,{title:"  TopN",subtitle:"    ",scopeLabel:ur,data:Ct.missingFields,unit:"",color:"#d97706",onItemClick:re=>K(re.name)}),a.jsx(Fl,{title:"   ",subtitle:"   ",scopeLabel:ur,data:Ct.collectionLeadtime,unit:"",colorScale:["#f59e0b","#f97316","#fb923c","#ea580c"]})]});if(ge==="regionalAdTransitionHotspot"){const re=tt.map(X=>({name:X.name,value:X.adTransitionSignal.densityScore,delta:X.adTransitionSignal.deltaFromAvg,highRiskCount:X.adTransitionSignal.highRiskCount})).sort((X,Ae)=>Ae.value-X.value).slice(0,8);return a.jsxs(a.Fragment,{children:[a.jsx(Dp,{title:"      ",subtitle:"AD    ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:X.value,delta:X.delta})),valueUnit:"",deltaUnit:"",barColor:"#dc2626",lineColor:"#f97316"}),a.jsx(hi,{title:"  TopN",subtitle:"highRiskCount    ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:X.highRiskCount})),unit:"",color:"#dc2626",onItemClick:X=>K(X.name)})]})}if(ge==="regionalDxDelayHotspot"){const re=tt.map(X=>({name:X.name,value:X.differentialDelay.avgWaitDays,delta:X.differentialDelay.deltaFromAvg,delayedRatio:X.differentialDelay.delayedRatio,backlogCount:X.differentialDelay.backlogCount})).sort((X,Ae)=>Ae.value-X.value).slice(0,8);return a.jsxs(a.Fragment,{children:[a.jsx(Dp,{title:"     ",subtitle:"   ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:X.value,delta:X.delta})),valueUnit:"",deltaUnit:"",barColor:"#f97316",lineColor:"#dc2626"}),a.jsx(hi,{title:"  TopN",subtitle:"delayedRatio    ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:Number((X.delayedRatio*100).toFixed(1))})),unit:"%",color:"#ea580c",onItemClick:X=>K(X.name)}),a.jsx(Fl,{title:"   ",subtitle:"backlogCount ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:X.backlogCount})).slice(0,6),unit:"",colorScale:["#fb923c","#f97316","#ea580c","#c2410c","#f59e0b","#fdba74"]})]})}if(ge==="regionalScreenToDxRate"){const re=tt.map(X=>({name:X.name,conversionRate:X.stageConversionRate.conversionRate,delta:X.stageConversionRate.deltaFromRegional})).sort((X,Ae)=>X.conversionRate-Ae.conversionRate).slice(0,8);return a.jsxs(a.Fragment,{children:[a.jsx(Dp,{title:"    ",subtitle:"    ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:Number((X.conversionRate*100).toFixed(1)),delta:X.delta})),valueUnit:"%",deltaUnit:"%p",barColor:"#0f766e",lineColor:"#dc2626"}),a.jsx(hi,{title:"  TopN",subtitle:"100- ",scopeLabel:ur,data:re.map(X=>({name:X.name,value:Number(((1-X.conversionRate)*100).toFixed(1))})),unit:"%",color:"#0f766e",onItemClick:X=>K(X.name)})]})}const $=[{name:"",value:ja.reduce((re,X)=>re+X.,0)},{name:"",value:ja.reduce((re,X)=>re+X.,0)},{name:"",value:ja.reduce((re,X)=>re+X.,0)}];return a.jsxs(a.Fragment,{children:[a.jsx(hi,{title:"  ",subtitle:"    ",scopeLabel:ur,data:Ct.governanceMissingTypes,unit:"",color:"#7c3aed",onItemClick:re=>K(re.name)}),a.jsx(Fl,{title:"  ",subtitle:"//  ",scopeLabel:ur,data:$,unit:"",colorScale:["#ef4444","#f59e0b","#22c55e"]})]})};return a.jsxs("div",{ref:S,className:"flex h-full min-h-0 flex-col overflow-hidden bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-2 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto flex-1 min-w-0",children:Nc.map($=>{const re=ge===$.key,X=`${$.color}14`,Ae=`${$.color}33`,Ie=pa.alertLevel==="warning"?"bg-red-100 text-red-700 border-red-200":pa.alertLevel==="attention"?"bg-amber-100 text-amber-700 border-amber-200":"bg-emerald-100 text-emerald-700 border-emerald-200",Fe=pa.alertLevel==="warning"?"":pa.alertLevel==="attention"?"":"";return a.jsxs("button",{onClick:()=>Pe($.key),onMouseEnter:()=>I($.key),onMouseLeave:()=>I(null),className:`relative flex items-start gap-2 px-3 py-2 rounded-lg border transition-all text-left ${re?"min-w-[260px] shadow-sm":"min-w-[152px] border-gray-200 bg-gray-50/70 hover:border-gray-300 hover:bg-gray-100/80 opacity-75"}`,style:re?{borderColor:$.color,backgroundColor:X,boxShadow:`0 0 0 2px ${Ae}`}:void 0,children:[a.jsx("div",{className:`p-1.5 rounded-md ${$.iconBg}`,children:CEe[$.key]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:`text-[12px] font-medium truncate ${re?"":"text-gray-600"}`,style:re?{color:$.color}:void 0,children:$.shortLabel}),re&&a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border bg-white",style:{borderColor:`${$.color}66`,color:$.color},children:"  "}),re&&a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${Ie}`,children:Fe})]}),a.jsx("div",{className:`text-sm font-bold ${re?"":"text-gray-800"}`,style:re?{color:$.color}:void 0,children:zc($.key,$.value)}),re&&a.jsx("div",{className:"text-[11px] mt-1 leading-tight",style:{color:$.color},children:jc})]}),R===$.key&&a.jsx("div",{className:"absolute z-50 left-0 top-full mt-1 bg-gray-900 text-white text-[12px] rounded-lg p-2.5 shadow-xl max-w-[300px] leading-relaxed whitespace-pre-line",children:$.tooltipLines.join(`
`)})]},$.key)})}),a.jsx("div",{className:"w-px h-8 bg-gray-200 shrink-0"}),a.jsxs("div",{className:"flex items-center gap-1 text-gray-500 shrink-0",children:[a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"",children:a.jsx(KA,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"",children:a.jsx(su,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"mt-2 grid grid-cols-2 lg:grid-cols-4 gap-1.5",children:yr.map($=>a.jsxs("button",{onClick:()=>Pe(Ip[$.bindLayer]),className:`rounded-md border px-2.5 py-1.5 text-left transition-colors ${ss===$.bindLayer?"border-slate-400 bg-slate-50":"border-gray-200 bg-gray-50 hover:bg-gray-100"}`,children:[a.jsx("div",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wide",children:$.title}),a.jsx("div",{className:"text-[13px] font-bold text-gray-800 mt-0.5",children:$.unit===""?`${Math.round($.value).toLocaleString()}${$.unit}`:`${Number($.value).toFixed(($.unit==="%p",1))}${$.unit??""}`}),$.delta&&a.jsxs("div",{className:"text-[10px] text-gray-500 mt-0.5",children:[" ",$.delta.value>0?"+":"",$.delta.value,$.delta.unit]})]},$.id))})]}),a.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:a.jsxs("div",{className:`p-2 gap-2 h-full min-h-0 ${Tr==="desktop"?"grid overflow-hidden":"flex flex-col overflow-y-auto"}`,style:Tr==="desktop"?{gridTemplateColumns:"3fr 6fr 3fr",minHeight:0,alignItems:"stretch"}:void 0,children:[a.jsxs("div",{className:`${Tr==="desktop"?"min-w-0 min-h-0 overflow-hidden":Tr==="tablet"?"hidden":"w-full shrink-0"} flex flex-col gap-2`,children:[a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-2 text-center",children:[a.jsx("span",{className:"text-xs text-indigo-700 font-medium",children:Jt?` ${Jt}`:` ${e.label}`}),a.jsxs("span",{className:"ml-2 text-[12px] text-indigo-500",children:[":    ",cg[He]]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:" KPI "}),a.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded bg-blue-50 text-blue-700",children:_t.shortLabel})]}),a.jsxs("div",{className:"space-y-1.5 text-[12px] leading-relaxed",children:[a.jsx("div",{className:"p-2 rounded border border-gray-100 bg-gray-50 text-gray-800",children:ni}),a.jsx("div",{className:"p-2 rounded border border-amber-100 bg-amber-50 text-amber-900",children:ko}),a.jsx("div",{className:"p-2 rounded border border-blue-100 bg-blue-50 text-blue-900",children:za})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"  "}),a.jsxs("span",{className:"text-[11px] px-1.5 py-0.5 rounded bg-rose-50 text-rose-700 border border-rose-200",children:["Layer: ",ss]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[a.jsxs("div",{className:"rounded border border-red-100 bg-red-50 px-2 py-1.5 text-red-800",children:["SLA   ",a.jsxs("span",{className:"font-semibold",children:[Dn.slaAtRiskRegions,""]})]}),a.jsxs("div",{className:"rounded border border-orange-100 bg-orange-50 px-2 py-1.5 text-orange-800",children:["    ",a.jsxs("span",{className:"font-semibold",children:[Dn.examDelayRegions,""]})]}),a.jsxs("div",{className:"rounded border border-amber-100 bg-amber-50 px-2 py-1.5 text-amber-800",children:["  ",a.jsxs("span",{className:"font-semibold",children:[Dn.overdueFollowups.toLocaleString(),""]})]}),a.jsxs("div",{className:"rounded border border-violet-100 bg-violet-50 px-2 py-1.5 text-violet-800",children:["   ",a.jsxs("span",{className:"font-semibold",children:[Dn.surgeRegions,""]})]})]})]}),Tt&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>U($=>!$),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Stage  (  )"}),G?a.jsx(Ks,{className:"h-4 w-4 text-gray-400"}):a.jsx(Hn,{className:"h-4 w-4 text-gray-400"})]}),G&&a.jsx("div",{className:"px-3 pb-3 border-t border-gray-100 space-y-2",children:Co.map($=>a.jsxs("div",{className:"p-2 rounded border border-gray-100 bg-gray-50",children:[a.jsx("div",{className:"text-[13px] font-medium text-gray-800",children:$.stage}),a.jsxs("div",{className:"text-[12px] text-gray-600 mt-0.5",children:["  ",$.signal>0?"":""," (",$.signal>0?"+":"",$.signal,"%)    ",$.queue>0?"+":"",$.queue,""]}),a.jsx("div",{className:"text-[11px] text-gray-500 mt-0.5",children:$.desc})]},$.stage))})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(da,{className:"h-3.5 w-3.5 text-red-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"   Top 5"})]}),a.jsx("span",{className:"text-[11px] bg-red-50 text-red-600 px-1.5 py-0.5 rounded font-medium",children:" + "})]}),a.jsx("div",{className:"text-[11px] text-gray-400 mb-1.5",title:"KPI       (score = 0.6KPI  + 0.4 )",children:"KPI      "}),a.jsxs("div",{className:"space-y-1",children:[gt.map(($,re)=>a.jsx("div",{role:"button",tabIndex:0,onClick:()=>Vn($.code,$.name,$.regionId),onKeyDown:X=>{(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),Vn($.code,$.name,$.regionId))},className:`w-full text-left p-1.5 rounded-lg border transition-colors ${Vt===$.regionId?"border-red-300 bg-red-50":"border-gray-100 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_auto_auto] gap-2 items-center",children:[a.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[a.jsx("span",{className:`w-5 h-5 flex items-center justify-center text-[12px] font-bold rounded-full ${re===0?"bg-red-500 text-white":re<3?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:re+1}),a.jsx("span",{className:"text-xs font-medium text-gray-800 truncate",children:$.name}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${re<2?"bg-red-100 text-red-700 border-red-200":re<4?"bg-amber-100 text-amber-700 border-amber-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:re<2?"":re<4?"":""})]}),a.jsx("span",{className:"text-[11px] font-semibold text-gray-700 min-w-[72px] text-right",children:zc(ge,$.kpiValue)}),a.jsxs("span",{className:"text-[11px] font-semibold text-blue-700 min-w-[64px] text-right",children:[$.volume.toLocaleString(),""]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 pl-6",children:[a.jsx("div",{className:"text-[11px] text-gray-500",children:(()=>{const X=js.find(Fe=>Fe.regionId===$.regionId),Ae=X?.issueType??Fj[ge],Ie=X?.primaryCause??"  ";return`${Ae}  ${Ie}  ${_t.shortLabel} ${zc(ge,$.kpiValue)}  ${$.volume.toLocaleString()}     ${ug(ge,Number(($.kpiValue-ws).toFixed(1)))}`})()}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0 relative",children:[a.jsx("button",{onClick:X=>{X.stopPropagation();const Ae=js.find(Ie=>Ie.regionId===$.regionId);wc(Ae?.issueType??Fj[ge],$.name,re<2?1:re<4?2:3)},className:"h-5 px-1.5 inline-flex items-center justify-center rounded border border-emerald-200 text-emerald-700 bg-emerald-50 hover:bg-emerald-100 text-[10px] font-medium",title:"  ",children:js.find(X=>X.regionId===$.regionId)?.ctaLabel??"  "}),a.jsx("button",{onClick:X=>{X.stopPropagation(),Se(Ae=>Ae===$.regionId?null:$.regionId)},className:"h-5 px-1.5 inline-flex items-center justify-center rounded border border-gray-200 text-gray-700 bg-white hover:bg-gray-50 text-[10px] font-medium",title:" ","aria-label":`${$.name}  `,children:a.jsx(zW,{className:"h-3 w-3"})}),ie===$.regionId&&a.jsxs("div",{className:"absolute right-0 top-6 z-30 min-w-[140px] rounded-md border border-gray-200 bg-white shadow-lg p-1",children:[a.jsx("button",{onClick:X=>{X.stopPropagation(),Se(null),u?.({kpi:ge,sgg:$.name,range:De,source:"overview",primaryDriverStage:"/"})},className:"w-full text-left px-2 py-1.5 rounded text-[11px] text-gray-700 hover:bg-gray-50",children:"/"}),a.jsx("button",{onClick:X=>{X.stopPropagation(),Se(null),u?.({kpi:"regionalDataReadiness",sgg:$.name,range:De,source:"overview",primaryDriverStage:" "})},className:"w-full text-left px-2 py-1.5 rounded text-[11px] text-gray-700 hover:bg-gray-50",children:" "}),a.jsx("button",{onClick:X=>{X.stopPropagation(),Se(null),u?.({kpi:"regionalGovernance",sgg:$.name,range:De,source:"overview",primaryDriverStage:"  "})},className:"w-full text-left px-2 py-1.5 rounded text-[11px] text-gray-700 hover:bg-gray-50",children:"  "}),a.jsx("button",{onClick:X=>{X.stopPropagation(),Se(null),Vn($.code,$.name,$.regionId)},className:"w-full text-left px-2 py-1.5 rounded text-[11px] text-gray-700 hover:bg-gray-50",children:" "})]})]})]})]})},$.regionId)),gt.length===0&&a.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-gray-50 px-2 py-3 text-[11px] text-gray-500",children:"     "})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>M($=>!$),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[a.jsx("span",{className:"text-[12px] font-medium text-gray-700",children:"  "}),V?a.jsx(Ks,{className:"h-3.5 w-3.5 text-gray-400"}):a.jsx(Hn,{className:"h-3.5 w-3.5 text-gray-400"})]}),V&&a.jsxs("div",{className:"px-3 pb-3 border-t border-gray-100 text-[12px] text-gray-600 space-y-2",children:[a.jsxs("div",{children:[" : ",Tt?`${Tt.name} `:`${e.label}  `]}),a.jsxs("div",{children:["  : ",zc(ge,Ss)]}),a.jsxs("div",{children:[" :"," ",_t.unit===""?`${Math.round(Wn)} ~ ${Math.round(fn)}`:_t.unit===""?`${Math.round(Wn)} ~ ${Math.round(fn)}`:_t.unit===""?`${Math.round(Wn)} ~ ${Math.round(fn)}`:`${Wn.toFixed(1)}% ~ ${fn.toFixed(1)}%`]})]})]})]}),a.jsx("div",{className:`${Tr==="desktop"?"min-w-0 min-h-0 flex flex-col overflow-hidden":"w-full shrink-0"} ${Js}`,children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col flex-1",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-white rounded-t-lg",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:os,disabled:!Mt,className:`flex items-center gap-1 h-8 px-3 text-sm rounded-lg transition-colors font-medium ${Mt?"text-blue-600 bg-blue-50 hover:bg-blue-100":"text-gray-400 bg-gray-100 cursor-not-allowed"}`,children:[a.jsx(au,{className:"h-4 w-4"}),a.jsx("span",{children:""})]}),a.jsx("button",{onClick:Ao,className:"h-8 px-3 text-xs rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("span",{className:"text-sm font-semibold text-gray-800",children:_u})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex rounded-md border border-gray-200 overflow-hidden",children:[a.jsx("button",{onClick:()=>b("geomap"),className:`px-3 py-1.5 text-xs font-medium transition ${N==="geomap"?"bg-blue-600 text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,children:""}),a.jsx("button",{onClick:()=>b("heatmap"),className:`px-3 py-1.5 text-xs font-medium transition border-l border-gray-200 ${N==="heatmap"?"bg-blue-600 text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,children:""})]}),a.jsx("div",{className:"flex rounded-md border border-gray-200 overflow-hidden",children:wo.map($=>a.jsx("button",{onClick:()=>Pe($.kpi),className:`px-2.5 py-1.5 text-[11px] font-medium transition border-l first:border-l-0 ${ss===$.key?"bg-slate-700 text-white border-slate-700":"bg-white text-gray-600 border-gray-200 hover:bg-gray-100"}`,title:`${$.label}  `,children:$.label},$.key))}),a.jsx("div",{className:"flex items-center gap-0.5",children:["24h","7d","30d","90d"].map($=>a.jsx("button",{onClick:()=>Nr($),className:`rounded-md px-3 py-1.5 text-xs font-medium transition ${He===$?"bg-blue-600 text-white":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:cg[$]},$))}),a.jsx("button",{className:"h-7 w-7 flex items-center justify-center hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(su,{className:"h-3.5 w-3.5 text-gray-500"})})]})]})}),a.jsx("div",{className:"px-4 py-2 border-b border-gray-100 bg-gray-50",children:a.jsx("div",{className:"flex items-center gap-1.5 overflow-x-auto",children:Kn.map(($,re)=>a.jsxs(z.Fragment,{children:[re>0&&a.jsx(vs,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"}),a.jsx("button",{onClick:()=>Yr(re),className:`text-[11px] whitespace-nowrap ${re===Kn.length-1?"font-semibold text-blue-700":"text-gray-600 hover:text-blue-700"}`,children:$.label})]},`${$.level}-${$.id}-${re}`))})}),a.jsxs("div",{className:"relative p-2 min-h-0",children:[a.jsxs("div",{className:"absolute left-4 top-4 z-20 w-[min(420px,calc(100%-2rem))] rounded-lg border border-blue-200 bg-white/95 backdrop-blur px-3 py-2 shadow-sm",children:[a.jsx("div",{className:"text-[12px] font-semibold text-blue-800",children:" "}),a.jsx("div",{className:"text-[12px] text-gray-700 mt-1 leading-relaxed",children:Gf})]}),N==="geomap"?a.jsx(kT,{title:"",indicatorId:hl,year:2026,scope:{mode:"regional",ctprvnCodes:[e.ctprvnCode],label:e.label},variant:"portal",mapHeight:et,hideBreadcrumb:!0,onRegionSelect:Ua,externalColorScheme:wn,hideLegendPanel:!0,externalLevel:O,externalSelectedCode:q,onSubRegionsChange:ls,getTooltipExtraLines:_o}):a.jsx("div",{className:"w-full",style:{height:et},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsx(th,{data:gl,dataKey:"size",isAnimationActive:!1,content:$=>{const{x:re,y:X,width:Ae,height:Ie,name:Fe,fill:rt}=$;return!Fe||Ae<28||Ie<18?null:a.jsxs("g",{children:[a.jsx("rect",{x:re,y:X,width:Ae,height:Ie,fill:rt,stroke:"#fff",strokeWidth:1.2,rx:2}),Ae>40&&Ie>22&&a.jsx("text",{x:re+Ae/2,y:X+Ie/2,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:11,fontWeight:700,style:{textShadow:"0 1px 2px rgba(0,0,0,0.35)"},children:String(Fe).length>5?String(Fe).slice(0,4):Fe})]})},onClick:$=>{!$?.code||!$?.name||Vn(String($.code),String($.name),String($.regionId))}})})})]}),a.jsxs("div",{className:"mx-2 mb-2 px-3 py-2 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100/80 border border-gray-200/60 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:_t.color}}),a.jsxs("span",{className:"text-[12px] font-bold text-gray-600 tracking-wide",children:[_t.shortLabel,"  "]}),a.jsx("span",{className:"text-[11px] text-gray-400",children:":  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-500 tabular-nums min-w-[42px] text-right",children:_t.unit===""?`${Math.round(Wn)}`:_t.unit===""?`${Math.round(Wn)}`:_t.unit===""?`${Math.round(Wn)}`:`${Wn.toFixed(1)}%`}),a.jsx("div",{className:"flex-1 h-3 rounded-md overflow-hidden flex shadow-inner",children:(Wl[wn]||Wl.blue).map(($,re)=>a.jsx("div",{className:"flex-1",style:{backgroundColor:$}},re))}),a.jsx("span",{className:"text-[12px] font-semibold text-gray-500 tabular-nums min-w-[42px]",children:_t.unit===""?`${Math.round(fn)}`:_t.unit===""?`${Math.round(fn)}`:_t.unit===""?`${Math.round(fn)}`:`${fn.toFixed(1)}%`})]})]})]})}),a.jsxs("div",{className:`${Tr==="desktop"?"min-w-0 min-h-0 overflow-hidden":Tr==="tablet"?"hidden":"w-full shrink-0"} flex flex-col gap-2 ${Js}`,children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"    "}),a.jsx("span",{className:"text-[11px] px-1.5 py-0.5 bg-indigo-50 text-indigo-600 rounded border border-indigo-200",children:ur})]}),a.jsxs("div",{className:"text-[12px] text-gray-500",children:[" KPI: ",a.jsx("span",{className:"font-medium text-gray-700",children:_t.label}),"  :  "]})]}),a.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain pr-1 space-y-2",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-gray-50 pt-0.5 pb-2",children:a.jsx(Nn,{title:"   ",subtitle:jc,action:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("button",{onClick:()=>u?.({kpi:ge,sgg:Jt,range:De,source:"overview",primaryDriverStage:pa.primaryDriverStage}),className:"px-2.5 py-1.5 rounded-md text-[11px] font-medium text-white bg-blue-600 hover:bg-blue-700",children:" "}),a.jsx("button",{onClick:()=>l?.({kpi:ge,sgg:Jt,range:De}),className:"px-2.5 py-1.5 rounded-md text-[11px] font-medium border border-orange-300 text-orange-700 bg-orange-50 hover:bg-orange-100",children:"  "})]}),children:a.jsx("div",{className:"space-y-2",children:_a.slice(0,2).map(($,re)=>a.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50/70 p-2.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-[12px] font-semibold text-blue-900",children:[re===0?"Primary":"Secondary","  ",$.target]}),a.jsx("div",{className:"text-[11px] text-blue-700",children:$.effect})]}),a.jsx("div",{className:"text-[12px] text-gray-800 mt-1",children:$.action}),a.jsxs("div",{className:"text-[11px] text-gray-600 mt-1",children:[": ",$.risk]}),a.jsx("div",{className:"text-[11px] text-gray-500 mt-1",children:" CTA   "})]},$.id))})})}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2",children:a.jsx("div",{className:"grid grid-cols-3 gap-1",children:[{key:"drivers",label:"Drivers"},{key:"data",label:"Data"},{key:"trend",label:"Trend"}].map($=>a.jsx("button",{onClick:()=>se($.key),className:`px-2 py-1.5 rounded text-xs font-medium transition ${Z===$.key?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:$.label},$.key))})}),jt?a.jsxs("div",{className:"space-y-2",children:[a.jsx(l6,{height:176}),a.jsx(l6,{height:176})]}):a.jsxs(a.Fragment,{children:[Z==="drivers"&&a.jsxs(a.Fragment,{children:[a.jsx(Nn,{title:"Primary Driver",subtitle:To.basis,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-[12px] text-gray-700",children:[pa.primaryDriverStage," "]}),a.jsx("div",{className:"text-[12px] font-semibold text-red-700",children:To.valueLabel})]})}),bl(),a.jsxs(Nn,{title:"   TopN",subtitle:"     ",children:[a.jsx("div",{className:"space-y-1.5",children:ri.map(($,re)=>a.jsxs("button",{onClick:()=>K($.name),className:`w-full flex items-center justify-between text-[12px] px-1.5 py-1 rounded transition-colors ${P===$.name?"bg-blue-50 border border-blue-200 text-blue-900":"hover:bg-gray-50"}`,children:[a.jsxs("span",{className:"text-left",children:[re+1,". ",$.name]}),a.jsx("span",{className:"font-medium",children:_t.unit===""?`${Math.round($.value)}`:_t.unit===""?`${Math.round($.value)}`:_t.unit===""?`${Math.round($.value)}`:`${$.value.toFixed(1)}%`})]},`${$.name}-${re}`))}),P&&a.jsxs("div",{className:"mt-2 p-2 rounded border border-orange-200 bg-orange-50",children:[a.jsx("div",{className:"text-[12px] font-semibold text-orange-800",children:" "}),a.jsx("div",{className:"text-[11px] text-orange-900 mt-1 leading-relaxed",children:Je(`${P}         `)})]})]}),a.jsx(Nn,{title:" ",subtitle:"      ",children:a.jsx("div",{className:"space-y-2",children:js.slice(0,3).map(($,re)=>a.jsxs("div",{className:"rounded-md border border-gray-100 bg-gray-50 px-2.5 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"text-[12px] font-semibold text-gray-800",children:[$.regionName,"  ",$.issueType]}),a.jsxs("span",{className:"text-[11px] text-red-600 font-medium",children:[$.severity,""]})]}),a.jsx("div",{className:"text-[11px] text-gray-600 mt-1",children:$.recommendedAction}),a.jsx("div",{className:"mt-1.5 flex items-center gap-1.5",children:a.jsx("button",{onClick:()=>wc($.issueType,$.regionName,re===0?1:2),className:"px-2 py-1 rounded border border-emerald-200 bg-emerald-50 text-emerald-700 text-[11px] font-medium hover:bg-emerald-100",children:$.ctaLabel})})]},`${$.regionId}-${$.issueType}`))})}),a.jsx(Nn,{title:"  ",subtitle:"//  ",children:a.jsx("div",{className:"space-y-1.5",children:me.slice(0,6).map($=>a.jsxs("div",{className:"rounded border border-gray-100 px-2 py-1.5 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"text-[12px] font-medium text-gray-800",children:["P",$.priority,"  ",$.regionName]}),a.jsxs("select",{value:$.status,onChange:re=>jo($.id,re.target.value),className:"h-6 rounded border border-gray-200 bg-gray-50 px-1.5 text-[11px] text-gray-700",children:[a.jsx("option",{value:"TODO",children:""}),a.jsx("option",{value:"IN_PROGRESS",children:""}),a.jsx("option",{value:"DONE",children:""}),a.jsx("option",{value:"REJECTED",children:""})]})]}),a.jsxs("div",{className:"mt-1 text-[11px] text-gray-600",children:[$.taskType,"  "," ",$.dueAt?new Date($.dueAt).toLocaleDateString("ko-KR"):"-"]})]},$.id))})})]}),Z==="data"&&Au(),Z==="trend"&&jn()]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>J($=>!$),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"  "}),Q?a.jsx(Ks,{className:"h-4 w-4 text-gray-400"}):a.jsx(Hn,{className:"h-4 w-4 text-gray-400"})]}),Q&&a.jsx("div",{className:"px-3 pb-3 border-t border-gray-100 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-gray-50 border-b border-gray-200",children:sEe.map($=>a.jsx("th",{className:`px-2 py-1.5 font-medium text-gray-600 whitespace-nowrap ${$.align==="right"?"text-right":"text-left"}`,children:$.label},$.key))})}),a.jsx("tbody",{children:Sc.slice(0,12).map($=>a.jsxs("tr",{onClick:()=>Vn($.code,$.name,$.regionId),className:`border-b border-gray-100 cursor-pointer transition-colors ${Vt===$.regionId?"bg-blue-50":"hover:bg-gray-50"}`,children:[a.jsx("td",{className:"px-2 py-1.5 font-medium text-gray-800",children:$.name}),a.jsx("td",{className:"px-2 py-1.5 text-right",children:zc(ge,$.kpiValue)}),a.jsxs("td",{className:"px-2 py-1.5 text-right",children:[$.volume.toLocaleString(),""]}),a.jsx("td",{className:"px-2 py-1.5 text-right font-medium text-orange-700",children:$.priorityScore.toFixed(3)}),a.jsxs("td",{className:`px-2 py-1.5 text-right font-medium ${$.nationalDelta>=0?"text-blue-600":"text-red-600"}`,children:[$.nationalDelta>0?"+":"",_t.unit===""?`${Math.round($.nationalDelta)}`:_t.unit===""?`${Math.round($.nationalDelta)}`:_t.unit===""?`${Math.round($.nationalDelta)}`:`${$.nationalDelta.toFixed(1)}%p`]})]},$.code))})]})})]})]})]})]})})]})}function IEe({regionCode:e,regionLabel:t,userRole:r="center_director"}){const n=r==="center_director",[s,i]=y.useState(!1),[o,l]=y.useState(()=>UH(e)),u=y.useCallback((v,N)=>{l(b=>({...b,thresholds:{...b.thresholds,[v]:N}})),i(!1)},[]),d=y.useCallback((v,N)=>{l(b=>({...b,weights:{...b.weights,[v]:N}})),i(!1)},[]),f=y.useCallback(v=>{l(N=>({...N,notifications:{...N.notifications,[v]:!N.notifications[v]}})),i(!1)},[]),m=y.useCallback(()=>{iEe(e,o),i(!0),setTimeout(()=>i(!1),3e3)},[e,o]),h=y.useCallback(()=>{l({...rm}),i(!1)},[]),x=y.useMemo(()=>{const v=o.weights;return Number((v.slaBreachRate+v.notReachedRate+v.avgWaitTimeNorm+v.longWaitRate).toFixed(2))},[o.weights]);return a.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-gray-800",children:""}),a.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[t,"     "]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[s&&a.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-medium animate-pulse",children:[a.jsx(ji,{className:"h-4 w-4"}),"  "]}),a.jsx("button",{onClick:h,disabled:!n,className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-not-allowed",children:" "}),a.jsxs("button",{onClick:m,disabled:!n,className:"flex items-center gap-1.5 px-4 py-1.5 text-xs font-semibold bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-40 disabled:cursor-not-allowed shadow-sm",children:[a.jsx(l7,{className:"h-3.5 w-3.5"}),""]})]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ZK,{className:"h-4.5 w-4.5 text-indigo-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:" "}),a.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full",children:" "})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[10px] text-indigo-500 font-medium mb-1",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-indigo-800",children:"case_id ( )"}),a.jsx("div",{className:"text-[10px] text-indigo-400 mt-1",children:"     1 "})]}),a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[10px] text-indigo-500 font-medium mb-1",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-indigo-800",children:"event_id/signal_id  "}),a.jsx("div",{className:"text-[10px] text-indigo-400 mt-1",children:"  signal   "})]}),a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[10px] text-indigo-500 font-medium mb-1",children:"  "}),a.jsx("div",{className:"text-sm font-semibold text-indigo-800",children:"   "}),a.jsx("div",{className:"text-[10px] text-indigo-400 mt-1",children:" KPI       "})]})]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(KV,{className:"h-4.5 w-4.5 text-orange-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:" / "}),!n&&a.jsx(ym,{className:"h-3.5 w-3.5 text-gray-400"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"   (thresholdDays)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:1,max:90,value:o.thresholds.longWaitDays,onChange:v=>u("longWaitDays",Number(v.target.value)),disabled:!n,className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed focus:ring-1 focus:ring-blue-500 focus:outline-none"}),a.jsx("span",{className:"text-xs text-gray-500",children:""}),a.jsxs("span",{className:"text-[10px] text-gray-400 ml-2",children:["  ",o.thresholds.longWaitDays,'    " "']})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"SLA   (slaNearDays)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:1,max:30,value:o.thresholds.slaNearDays,onChange:v=>u("slaNearDays",Number(v.target.value)),disabled:!n,className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed focus:ring-1 focus:ring-blue-500 focus:outline-none"}),a.jsx("span",{className:"text-xs text-gray-500",children:""}),a.jsxs("span",{className:"text-[10px] text-gray-400 ml-2",children:["SLA  ",o.thresholds.slaNearDays,'  ""']})]})]})]}),a.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Top5   (w1~w4)"}),a.jsxs("span",{className:`text-[10px] font-medium px-2 py-0.5 rounded-full ${x===1?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[": ",x," ",x===1?"":" 1.00"]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{key:"slaBreachRate",label:"w1  SLA ",color:"text-red-600"},{key:"notReachedRate",label:"w2  ",color:"text-orange-600"},{key:"avgWaitTimeNorm",label:"w3  ",color:"text-purple-600"},{key:"longWaitRate",label:"w4  ",color:"text-blue-600"}].map(({key:v,label:N,color:b})=>a.jsxs("div",{children:[a.jsx("label",{className:`text-[10px] font-medium ${b} block mb-1`,children:N}),a.jsx("input",{type:"number",min:0,max:1,step:.05,value:o.weights[v],onChange:S=>d(v,Number(S.target.value)),disabled:!n,className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed focus:ring-1 focus:ring-blue-500 focus:outline-none"})]},v))}),a.jsx("div",{className:"mt-2 text-[10px] text-gray-400",children:"risk_score = w1SLA + w2 + w3() + w4"})]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ch,{className:"h-4.5 w-4.5 text-yellow-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:" "}),!n&&a.jsx(ym,{className:"h-3.5 w-3.5 text-gray-400"})]}),a.jsx("div",{className:"space-y-3",children:[{key:"slaBreachAlert",label:"SLA  ",desc:"SLA     ",ready:!0},{key:"slaImminentAlert",label:"SLA  ",desc:"SLA  N  ",ready:!0},{key:"longWaitSurge",label:"  ",desc:"    30%   ",ready:!1},{key:"riskIncrease",label:"  ",desc:"     ",ready:!1}].map(({key:v,label:N,desc:b,ready:S})=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(da,{className:`h-4 w-4 ${o.notifications[v]?"text-yellow-500":"text-gray-300"}`}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-gray-800 flex items-center gap-1.5",children:[N,!S&&a.jsx("span",{className:"text-[9px] bg-gray-100 text-gray-400 px-1.5 py-0.5 rounded-full",children:""})]}),a.jsx("div",{className:"text-[10px] text-gray-500",children:b})]})]}),a.jsx("button",{onClick:()=>f(v),disabled:!n,className:`relative w-10 h-5.5 rounded-full transition-colors disabled:opacity-40 disabled:cursor-not-allowed ${o.notifications[v]?"bg-blue-500":"bg-gray-300"}`,style:{height:"22px"},children:a.jsx("span",{className:"absolute top-0.5 w-4 h-4 rounded-full bg-white shadow transition-transform",style:{left:o.notifications[v]?"22px":"2px"}})})]},v))})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(bu,{className:"h-4.5 w-4.5 text-green-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:" / "})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-green-500 text-white flex items-center justify-center text-[10px] font-bold",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-green-800",children:""}),a.jsx("div",{className:"text-[10px] text-green-600",children:"   "})]})]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${n?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:n?" ":""})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-gray-400 text-white flex items-center justify-center text-[10px] font-bold",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-700",children:" "}),a.jsx("div",{className:"text-[10px] text-gray-500",children:"     "})]})]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${n?"":"bg-gray-100 text-gray-600"}`,children:n?"":" "})]})]}),a.jsxs("div",{className:"mt-3 text-[10px] text-gray-400",children:[" : localStorage  regional.settings.",e,".*    "]})]})]})}const MEe={week:"",month:"",quarter:""},f6={regionalSla:" ",regionalQueueRisk:" ",regionalRecontact:"SLA ",regionalDataReadiness:" ",regionalGovernance:" ",regionalAdTransitionHotspot:"AD  ",regionalDxDelayHotspot:" ",regionalScreenToDxRate:" "},LEe=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t},Tn=(e,t,r)=>t+(r-t)*(LEe(e)%1e3/1e3);function $Ee(e){const t=[{stage:"contact",label:"",backlog:Math.round(Tn(`${e}-q-contact`,20,140))},{stage:"recontact",label:"",backlog:Math.round(Tn(`${e}-q-recontact`,18,130))},{stage:"secondary",label:"2",backlog:Math.round(Tn(`${e}-q-secondary`,14,110))},{stage:"l2",label:"L2",backlog:Math.round(Tn(`${e}-q-l2`,12,95))},{stage:"tertiary",label:"3",backlog:Math.round(Tn(`${e}-q-tertiary`,10,88))}],r=t.reduce((n,s)=>n+s.backlog,0);return t.map(n=>({...n,share:r>0?Number((n.backlog/r*100).toFixed(1)):0}))}function FEe(e){return[{id:"staff",label:"  ",value:Math.round(Tn(`${e}-c-staff`,8,40)),unit:"%",actionHint:Je("   ")},{id:"contact",label:" ",value:Math.round(Tn(`${e}-c-contact`,12,46)),unit:"%",actionHint:Je("   ")},{id:"data",label:" ",value:Math.round(Tn(`${e}-c-data`,6,35)),unit:"%",actionHint:Je("    ")},{id:"booking",label:" ",value:Math.round(Tn(`${e}-c-booking`,4,28)),unit:"%",actionHint:Je("   ")},{id:"etc",label:"  ",value:Math.round(Tn(`${e}-c-etc`,3,24)),unit:"%",actionHint:Je("   ")}].sort((t,r)=>r.value-t.value)}function BEe({region:e,districtOptions:t,selectedKpiKey:r,selectedRegionSgg:n,selectedRange:s,onSelectedKpiKeyChange:i,onSelectedRegionSggChange:o,onSelectedRangeChange:l,onCreateIntervention:u}){const[d,f]=y.useState(!1),m=`${e.id}-${n??"all"}-${r}-${s}`,h=y.useMemo(()=>$Ee(m),[m]),x=y.useMemo(()=>FEe(m),[m]),v=y.useMemo(()=>["D-6","D-5","D-4","D-3","D-2","D-1","D0"].map((j,A)=>({label:j,backlog:Number(Tn(`${m}-trend-b-${A}`,18,74).toFixed(1)),causeRate:Number(Tn(`${m}-trend-c-${A}`,6,42).toFixed(1))})),[m]),N=y.useMemo(()=>t.slice(0,8).map((j,A)=>{const _=Tn(`${m}-cmp-base-${j}`,15,75),E=Tn(`${m}-cmp-avg`,20,60);return{name:j,value:Number(_.toFixed(1)),delta:Number((_-E).toFixed(1))}}),[t,m]),b=y.useMemo(()=>[{stage:"Stage1 (ML)",signal:Number(Tn(`${m}-s1-signal`,-18,22).toFixed(1)),queue:Math.round(Tn(`${m}-s1-queue`,-24,54)),desc:"       "},{stage:"Stage2 (ANN)",signal:Number(Tn(`${m}-s2-signal`,-16,20).toFixed(1)),queue:Math.round(Tn(`${m}-s2-queue`,-18,46)),desc:"   2    "},{stage:"Stage3 (CNN)",signal:Number(Tn(`${m}-s3-signal`,-14,18).toFixed(1)),queue:Math.round(Tn(`${m}-s3-queue`,-16,40)),desc:"   3     "}],[m]),S=y.useMemo(()=>x.slice(0,3).map(j=>({title:`${j.label}  ${j.value}${j.unit}`,description:j.actionHint})),[x]);return a.jsxs("div",{className:"h-full overflow-auto bg-gray-50 p-4 space-y-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800",children:" "}),a.jsx("div",{className:"text-[12px] text-gray-500",children:": KPI      Stage  "})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{onClick:()=>u?.({region:n,kpiKey:r,range:s,source:"cause"}),className:"px-3 py-1.5 rounded-md bg-blue-600 text-white text-sm font-medium hover:bg-blue-700",children:" "})})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-4 gap-2",children:[a.jsx("select",{value:r,onChange:j=>i(j.target.value),className:"px-2.5 py-1.5 border border-gray-300 rounded text-sm",children:Object.entries(f6).map(([j,A])=>a.jsx("option",{value:j,children:A},j))}),a.jsxs("select",{value:n??"",onChange:j=>o(j.target.value||null),className:"px-2.5 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsxs("option",{value:"",children:[e.label," "]}),t.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsxs("select",{value:s,onChange:j=>l(j.target.value),className:"px-2.5 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"week",children:""}),a.jsx("option",{value:"month",children:""}),a.jsx("option",{value:"quarter",children:""})]}),a.jsxs("button",{onClick:()=>f(j=>!j),className:"px-2.5 py-1.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 flex items-center justify-center gap-1",children:["Stage  ",d?a.jsx(Ks,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"  "}),a.jsx("div",{style:{height:250},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:h,margin:{top:8,right:8,left:-8,bottom:4},children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx(en,{dataKey:"label",tick:{fontSize:12}}),a.jsx($r,{tick:{fontSize:12}}),a.jsx(pr,{formatter:j=>`${Math.round(j)}`}),a.jsx(On,{dataKey:"backlog",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"  TopN"}),a.jsx("div",{style:{height:250},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:x,layout:"vertical",margin:{top:8,right:10,left:18,bottom:4},children:[a.jsx(kn,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f3f4f6"}),a.jsx(en,{type:"number",tick:{fontSize:12}}),a.jsx($r,{dataKey:"label",type:"category",width:90,tick:{fontSize:12}}),a.jsx(pr,{formatter:j=>`${Number(j).toFixed(1)}%`}),a.jsx(On,{dataKey:"value",fill:"#f97316",radius:[0,4,4,0]})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"  (   )"}),a.jsx("div",{style:{height:250},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(xb,{data:N,margin:{top:8,right:8,left:-10,bottom:52},children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx(en,{dataKey:"name",tick:{fontSize:11},interval:0,angle:-30,textAnchor:"end",height:60}),a.jsx($r,{yAxisId:"left",tick:{fontSize:12}}),a.jsx($r,{yAxisId:"right",orientation:"right",tick:{fontSize:12}}),a.jsx(pr,{formatter:(j,A)=>`${Number(j).toFixed(1)}${A==="delta"?"%p":"%"}`}),a.jsx(_i,{wrapperStyle:{fontSize:"12px"},formatter:j=>j==="value"?" ":"   "}),a.jsx(On,{yAxisId:"left",dataKey:"value",fill:"#0ea5e9",radius:[4,4,0,0]}),a.jsx(bn,{yAxisId:"right",dataKey:"delta",stroke:"#1d4ed8",strokeWidth:2,dot:{r:3}})]})})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"  "}),a.jsx("div",{style:{height:250},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Eh,{data:v,margin:{top:8,right:8,left:-10,bottom:4},children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx(en,{dataKey:"label",tick:{fontSize:12}}),a.jsx($r,{tick:{fontSize:12}}),a.jsx(pr,{formatter:(j,A)=>`${Number(j).toFixed(1)}${A==="backlog"?"":"%"}`}),a.jsx(_i,{wrapperStyle:{fontSize:"12px"},formatter:j=>j==="backlog"?" ":" "}),a.jsx(bn,{type:"monotone",dataKey:"backlog",stroke:"#ef4444",strokeWidth:2.2,dot:{r:3}}),a.jsx(bn,{type:"monotone",dataKey:"causeRate",stroke:"#f59e0b",strokeWidth:2.2,dot:{r:3}})]})})})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[a.jsx(da,{className:"h-4 w-4 text-orange-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:" "})]}),a.jsx("div",{className:"space-y-2",children:S.map((j,A)=>a.jsxs("div",{className:"p-2 rounded border border-orange-100 bg-orange-50",children:[a.jsx("div",{className:"text-[13px] font-medium text-orange-900",children:j.title}),a.jsx("div",{className:"text-[12px] text-orange-800",children:j.description})]},A))})]}),d&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Stage1/2/3  ( )"}),a.jsx("div",{className:"space-y-2",children:b.map(j=>a.jsxs("div",{className:"p-2 rounded border border-gray-100 bg-gray-50",children:[a.jsx("div",{className:"text-[13px] font-medium text-gray-800",children:j.stage}),a.jsxs("div",{className:"text-[12px] text-gray-600",children:["  ",j.signal>0?"":""," (",j.signal>0?"+":"",j.signal,"%)   ",j.queue>0?"":""," (",j.queue>0?"+":"",j.queue,")"]}),a.jsx("div",{className:"text-[11px] text-gray-500",children:j.desc})]},j.stage))})]}),a.jsxs("div",{className:"text-[12px] text-gray-500",children:[": ",e.label,"  ",n??" ","  ",f6[r],"  ",MEe[s]]})]})}const Hj={regionalSla:" ",regionalQueueRisk:" ",regionalRecontact:"SLA ",regionalDataReadiness:" ",regionalGovernance:" ",regionalAdTransitionHotspot:"AD  ",regionalDxDelayHotspot:" ",regionalScreenToDxRate:" "},nm={STAFFING:" ",RECONTACT_PUSH:" ",DATA_FIX:" ",PATHWAY_TUNE:" ",GOVERNANCE_FIX:" "},Lp={TODO:"",IN_PROGRESS:"",DONE:"",BLOCKED:""},qj={TODO:"bg-gray-100 text-gray-700 border-gray-200",IN_PROGRESS:"bg-blue-100 text-blue-700 border-blue-200",DONE:"bg-green-100 text-green-700 border-green-200",BLOCKED:"bg-amber-100 text-amber-700 border-amber-200"},Go=["","","",""],UEe=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t},Bl=(e,t,r)=>t+(r-t)*(UEe(e)%1e3/1e3);function yy(e){return{regionalSla:Math.round(Bl(`${e}-inflow`,80,420)),regionalQueueRisk:Math.round(Bl(`${e}-queue`,110,540)),regionalRecontact:Number(Bl(`${e}-sla-risk`,4,19).toFixed(1)),regionalDataReadiness:Number(Bl(`${e}-recontact-need`,5,24).toFixed(1)),regionalGovernance:Number(Bl(`${e}-center-risk`,28,82).toFixed(1)),regionalAdTransitionHotspot:Number(Bl(`${e}-ad-hotspot`,18,88).toFixed(1)),regionalDxDelayHotspot:Number(Bl(`${e}-dx-delay`,8,62).toFixed(1)),regionalScreenToDxRate:Number(Bl(`${e}-screen-dx-rate`,36,88).toFixed(1))}}function p6(e,t){return["STAFFING","RECONTACT_PUSH","DATA_FIX","PATHWAY_TUNE"].map((n,s)=>{const i=t[s%Math.max(t.length,1)]??" ",o=["regionalQueueRisk","regionalRecontact","regionalDataReadiness","regionalSla"][s],l=new Date(Date.now()-s*864e5).toISOString(),u=yy(`${e}-${i}-${n}-before`),d=s%2===0?yy(`${e}-${i}-${n}-after`):void 0;return{id:`INT-${s+1}`,region:i,kpiKey:o,type:n,status:s===0?"IN_PROGRESS":s===1?"TODO":s===2?"DONE":"BLOCKED",owner:Go[s%Go.length],createdAt:l,notes:Je(`${i} ${nm[n]}  `),evidenceLinks:[`https://ops.example.local/${e}/${s+1}`],beforeMetrics:u,afterMetrics:d,timeline:[{id:`T-${s+1}-1`,at:l,actor:Go[s%Go.length],message:Je("    ")},{id:`T-${s+1}-2`,at:new Date(Date.parse(l)+3600*1e3*18).toISOString(),actor:Go[(s+1)%Go.length],message:Je("    ")}]}})}function zEe(e){return e.afterMetrics?[{key:"regionalSla",label:"  ",unit:""},{key:"regionalQueueRisk",label:"   ",unit:""},{key:"regionalRecontact",label:"SLA  ",unit:"%"},{key:"regionalDataReadiness",label:"  ",unit:"%"},{key:"regionalGovernance",label:"  ",unit:""},{key:"regionalAdTransitionHotspot",label:"AD   ",unit:""},{key:"regionalDxDelayHotspot",label:"  ",unit:""},{key:"regionalScreenToDxRate",label:"  ",unit:"%"}].map(r=>{const n=e.beforeMetrics[r.key],s=e.afterMetrics?.[r.key]??n;return{label:r.label,before:n,after:s,delta:Number((s-n).toFixed(1)),unit:r.unit}}):[]}function Gj(e,t){return t===""||t===""?`${Math.round(e)}${t}`:`${e.toFixed(1)}${t}`}function HEe({region:e,districtOptions:t,selectedKpiKey:r,selectedRegionSgg:n,selectedRange:s,onSelectedKpiKeyChange:i,onSelectedRegionSggChange:o,onSelectedRangeChange:l,pendingDraft:u,onPendingDraftConsumed:d}){const[f,m]=y.useState(()=>p6(e.id,t)),[h,x]=y.useState(null),[v,N]=y.useState("ALL"),[b,S]=y.useState("ALL"),[j,A]=y.useState("ALL");y.useEffect(()=>{m(p6(e.id,t)),x(null)},[t,e.id]),y.useEffect(()=>{if(!u)return;const O=new Date().toISOString(),B=u.region??n??t[0]??" ",q=u.type??(u.kpiKey==="regionalGovernance"?"GOVERNANCE_FIX":u.kpiKey==="regionalAdTransitionHotspot"||u.kpiKey==="regionalScreenToDxRate"?"PATHWAY_TUNE":u.kpiKey==="regionalDxDelayHotspot"?"STAFFING":"RECONTACT_PUSH"),F=yy(`${e.id}-${B}-${u.kpiKey}-before-draft`),Y=u.primaryDriverStage?Je(`     ${u.primaryDriverStage}`):"",D={id:`INT-${Date.now()}`,region:B,kpiKey:u.kpiKey,type:q,status:"TODO",owner:Go[0],createdAt:O,notes:Je(`${B} ${nm[q]}  ${Y}`),evidenceLinks:[],beforeMetrics:F,timeline:[{id:`T-${Date.now()}-0`,at:O,actor:"",message:Je(`    ${u.primaryDriverStage?` (   ${u.primaryDriverStage})`:""}`)}]};m(G=>[D,...G]),x(D.id),d?.()},[t,d,u,e.id,n]);const _=y.useMemo(()=>f.filter(O=>!(n&&O.region!==n||r&&O.kpiKey!==r||v!=="ALL"&&O.status!==v||b!=="ALL"&&O.type!==b||j!=="ALL"&&O.owner!==j)),[f,j,r,n,v,b]),E=y.useMemo(()=>_.length?h?_.find(O=>O.id===h)??_[0]:_[0]:null,[_,h]),C=y.useMemo(()=>E?zEe(E):[],[E]),R=O=>{E&&m(B=>B.map(q=>{if(q.id!==E.id)return q;const F=[...q.timeline,{id:`T-${q.id}-${Date.now()}`,at:new Date().toISOString(),actor:"",message:Je(` ${Lp[O]} `)}];return{...q,status:O,timeline:F}}))},I=()=>{const O=new Date().toISOString(),B=n??t[0]??" ",q=yy(`${e.id}-${B}-gov-before-auto`),F={id:`INT-GOV-${Date.now()}`,region:B,kpiKey:"regionalGovernance",type:"GOVERNANCE_FIX",status:"TODO",owner:Go[1],createdAt:O,notes:Je("     "),evidenceLinks:[],beforeMetrics:q,timeline:[{id:`T-GOV-${Date.now()}`,at:O,actor:"",message:Je("     ")}]};m(Y=>[F,...Y]),x(F.id)};return a.jsxs("div",{className:"h-full overflow-auto bg-gray-50 p-4 space-y-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800",children:" "}),a.jsx("div",{className:"text-[12px] text-gray-500",children:"    KPI     "})]}),a.jsx("button",{onClick:I,className:"px-3 py-1.5 rounded-md border border-purple-200 bg-purple-50 text-purple-700 text-sm font-medium hover:bg-purple-100",children:"    "})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-6 gap-2",children:[a.jsxs("select",{value:s,onChange:O=>l(O.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"week",children:""}),a.jsx("option",{value:"month",children:""}),a.jsx("option",{value:"quarter",children:""})]}),a.jsxs("select",{value:n??"",onChange:O=>o(O.target.value||null),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsxs("option",{value:"",children:[e.label," "]}),t.map(O=>a.jsx("option",{value:O,children:O},O))]}),a.jsx("select",{value:r,onChange:O=>i(O.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:Object.entries(Hj).map(([O,B])=>a.jsx("option",{value:O,children:B},O))}),a.jsxs("select",{value:v,onChange:O=>N(O.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"ALL",children:" "}),Object.entries(Lp).map(([O,B])=>a.jsx("option",{value:O,children:B},O))]}),a.jsxs("select",{value:b,onChange:O=>S(O.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"ALL",children:" "}),Object.entries(nm).map(([O,B])=>a.jsx("option",{value:O,children:B},O))]}),a.jsxs("select",{value:j,onChange:O=>A(O.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"ALL",children:" "}),Go.map(O=>a.jsx("option",{value:O,children:O},O))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[360px_1fr] gap-3 min-h-[620px]",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 overflow-y-auto",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:" "}),a.jsxs("div",{className:"space-y-2",children:[_.map(O=>a.jsxs("button",{onClick:()=>x(O.id),className:`w-full text-left p-2 rounded border transition-colors ${E?.id===O.id?"border-blue-300 bg-blue-50":"border-gray-100 hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[13px] font-medium text-gray-900 truncate",children:O.region}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${qj[O.status]}`,children:Lp[O.status]})]}),a.jsxs("div",{className:"text-[12px] text-gray-600 mt-0.5",children:[nm[O.type],"  ",Hj[O.kpiKey]]}),a.jsxs("div",{className:"text-[11px] text-gray-500 mt-0.5",children:[": ",O.owner,"  : ",O.createdAt.slice(0,10)]})]},O.id)),!_.length&&a.jsx("div",{className:"text-[12px] text-gray-500",children:"    ."})]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 overflow-y-auto",children:E?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-semibold text-gray-800",children:[E.region,"  ",nm[E.type]]}),a.jsxs("div",{className:"text-[12px] text-gray-500",children:[Hj[E.kpiKey],"   ",E.owner]})]}),a.jsx("span",{className:`text-[11px] px-2 py-1 rounded border ${qj[E.status]}`,children:Lp[E.status]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["TODO","IN_PROGRESS","DONE","BLOCKED"].map(O=>a.jsx("button",{onClick:()=>R(O),className:`px-2 py-1.5 rounded border text-[12px] font-medium ${E.status===O?qj[O]:"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:Lp[O]},O))}),a.jsxs("div",{className:"p-2 rounded border border-gray-100 bg-gray-50",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-700 mb-1",children:" "}),a.jsx("div",{className:"text-[12px] text-gray-600",children:E.notes})]}),a.jsxs("div",{className:"p-2 rounded border border-gray-100 bg-gray-50",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-700 mb-1",children:" KPI "}),C.length>0?a.jsxs("table",{className:"w-full text-[12px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:"Before"}),a.jsx("th",{className:"text-right py-1",children:"After"}),a.jsx("th",{className:"text-right py-1",children:""})]})}),a.jsx("tbody",{children:C.map(O=>a.jsxs("tr",{className:"border-b border-gray-100 last:border-b-0",children:[a.jsx("td",{className:"py-1 text-gray-700",children:O.label}),a.jsx("td",{className:"py-1 text-right text-gray-600",children:Gj(O.before,O.unit)}),a.jsx("td",{className:"py-1 text-right text-gray-600",children:Gj(O.after,O.unit)}),a.jsxs("td",{className:`py-1 text-right font-medium ${O.delta>=0?"text-blue-700":"text-red-600"}`,children:[O.delta>0?"+":"",Gj(O.delta,O.unit)]})]},O.label))})]}):a.jsx("div",{className:"text-[12px] text-gray-500",children:"after       ."})]}),a.jsxs("div",{className:"p-2 rounded border border-gray-100 bg-gray-50",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-700 mb-1",children:""}),a.jsx("div",{className:"space-y-1.5",children:E.timeline.map(O=>a.jsxs("div",{className:"text-[12px] text-gray-600",children:[a.jsxs("span",{className:"text-gray-400",children:["[",O.at.slice(0,16).replace("T"," "),"]"]})," ",O.actor,"  ",O.message]},O.id))})]}),a.jsxs("div",{className:"p-2 rounded border border-gray-100 bg-gray-50",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-700 mb-1",children:"/ "}),a.jsx("div",{className:"space-y-1",children:E.evidenceLinks.length?E.evidenceLinks.map(O=>a.jsx("a",{href:O,target:"_blank",rel:"noreferrer",className:"block text-[12px] text-blue-700 underline",children:O},O)):a.jsx("div",{className:"text-[12px] text-gray-500",children:"  ."})})]})]}):a.jsx("div",{className:"text-sm text-gray-500",children:"   ."})})]})]})}const qEe={regionalSla:" ",regionalQueueRisk:" ",regionalRecontact:"SLA ",regionalDataReadiness:" ",regionalGovernance:" ",regionalAdTransitionHotspot:"AD  ",regionalDxDelayHotspot:" ",regionalScreenToDxRate:" "},GEe={week:"",month:"",quarter:""},KEe=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t},dg=(e,t,r)=>t+(r-t)*(KEe(e)%1e3/1e3);function WEe({region:e,selectedKpiKey:t,selectedRegionSgg:r,selectedRange:n}){const s=`${e.id}-${r??"all"}-${t}-${n}`,i=y.useMemo(()=>({summary:Number(dg(`${s}-summary`,60,96).toFixed(1)),queue:Math.round(dg(`${s}-queue`,120,680)),actions:Math.round(dg(`${s}-actions`,18,90)),pending:Math.round(dg(`${s}-pending`,6,42))}),[s]);return a.jsxs("div",{className:"h-full overflow-auto bg-gray-50 p-4 space-y-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800",children:""}),a.jsxs("div",{className:"text-[12px] text-gray-500 mt-0.5",children:["     ",e.label,"  ",r??" ","  ",qEe[t],"  ",GEe[n]]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:" "}),a.jsxs("div",{className:"text-xl font-bold text-gray-900 mt-1",children:[i.summary,"%"]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:"  "}),a.jsxs("div",{className:"text-xl font-bold text-gray-900 mt-1",children:[i.queue.toLocaleString(),""]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:"  "}),a.jsxs("div",{className:"text-xl font-bold text-gray-900 mt-1",children:[i.actions.toLocaleString(),""]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:" "}),a.jsxs("div",{className:"text-xl font-bold text-gray-900 mt-1",children:[i.pending.toLocaleString(),""]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-3 py-1.5 rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50",children:"  PDF"}),a.jsx("button",{className:"px-3 py-1.5 rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50",children:"  PPT"}),a.jsx("button",{className:"px-3 py-1.5 rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50",children:"KPI CSV"})]})]})]})}const VEe={overview:"/",cause:"/regional/cause",interventions:"/regional/interventions",reports:"/regional/reports",settings:"/regional/settings"};function YEe(e){if(!e.trim())return"/";let t=e.trim();return t.startsWith("/")||(t=`/${t}`),t.endsWith("/")||(t=`${t}/`),t}const hd=YEe("/neuro-shield/");function YH(e){if(hd==="/")return e;if(e===hd.slice(0,-1))return"/";if(!e.startsWith(hd))return e;const t=e.slice(hd.length);return t.startsWith("/")?t:`/${t}`}function XEe(e){if(hd==="/")return e;const t=e.startsWith("/")?e.slice(1):e;return`${hd}${t}`}const QEe={week:"weekly",month:"monthly",quarter:"quarterly"},m6={weekly:"week",monthly:"month",quarterly:"quarter"};function ZEe(e){return QEe[e]}function JEe(e){return e&&e in m6?m6[e]:"week"}function e_e(e){const n=YH(e).match(/^\/regional\/([^/?#]+)/)?.[1];return n&&(n==="overview"||n==="cause"||n==="interventions"||n==="reports"||n==="settings")?n:"overview"}function t_e(e){const t=YH(e);return t==="/"||t.startsWith("/regional/")}function Kj(e,t,r){const n=new URLSearchParams,s=XEe(VEe[e]);t.selectedKpiKey!=="regionalSla"&&n.set("kpi",t.selectedKpiKey),t.selectedRange!=="week"&&n.set("range",ZEe(t.selectedRange)),t.selectedRegionSgg&&n.set("sgg",t.selectedRegionSgg),r&&Object.entries(r).forEach(([u,d])=>{d==null||d===""||n.set(u,d)});const i=!!(r&&Object.values(r).some(u=>u!=null&&u!==""));if(e==="overview"&&t.selectedKpiKey==="regionalSla"&&t.selectedRange==="week"&&!t.selectedRegionSgg&&!i)return s;const l=n.toString();return l?`${s}?${l}`:s}function r_e(e,t){const r=new URLSearchParams(e),n=r.get("kpi")??t;return{selectedKpiKey:n==="regionalSla"||n==="regionalQueueRisk"||n==="regionalRecontact"||n==="regionalDataReadiness"||n==="regionalGovernance"||n==="regionalAdTransitionHotspot"||n==="regionalDxDelayHotspot"||n==="regionalScreenToDxRate"?n:t,selectedRange:JEe(r.get("range")),selectedRegionSgg:r.get("sgg")}}const Wj="regionalSla",h6=[{id:"overview",label:"  ",icon:uh},{id:"cause",label:" ",icon:da},{id:"interventions",label:" ",icon:n7},{id:"reports",label:"",icon:iu},{id:"settings",label:"",icon:fh}],g6={seoul:["","","","","","","","","","","","","","","","","","","","","","","","",""],busan:["","","","","","","","","","","","","","","",""],daegu:["","","","","","","",""],incheon:["","","","","","","","","",""],gwangju:["","","","",""],daejeon:["","","","",""],ulsan:["","","","",""],sejong:[""],gyeonggi:["","","","","","","","","","","","","","","","","","","",""],gangwon:["","","","","","","","","",""],chungbuk:["","","","","","","","","",""],chungnam:["","","","","","","","","",""],jeonbuk:["","","","","","","","","",""],jeonnam:["","","","","","","","","",""],gyeongbuk:["","","","","","","","","",""],gyeongnam:["","","","","","","","","",""],jeju:["",""]};function n_e(e){return e==="month"?"month":e==="quarter"?"quarter":"week"}function x6(e,t){return e.selectedKpiKey===t.selectedKpiKey&&e.selectedRegionSgg===t.selectedRegionSgg&&e.selectedRange===t.selectedRange}function Vj(e){const t=e_e(window.location.pathname),r=r_e(window.location.search,e);return{page:t,selection:r}}function a_e({userName:e="",centerName:t=" ",onLogout:r}){const n=Fve(t),[s,i]=y.useState(n.id),[o,l]=y.useState(!0),[u,d]=y.useState(!1),f=y.useMemo(()=>Vj(Wj),[]),[m,h]=y.useState(f.page),[x,v]=y.useState(f.selection),[N,b]=y.useState(null),S=nl.find(O=>O.id===s)??nl[0],j=g6[s]??g6.seoul,A=y.useCallback((O,B,q="push",F)=>{const Y=Kj(O,B,F),D=new URL(Y,window.location.origin),G=new URL(window.location.href);O==="overview"&&["drill","view"].forEach(V=>{if(!D.searchParams.has(V)&&G.searchParams.has(V)){const M=G.searchParams.get(V);M&&D.searchParams.set(V,M)}}),!(D.pathname===G.pathname&&D.search===G.search&&D.hash===G.hash)&&(q==="replace"?window.history.replaceState({},"",`${D.pathname}${D.search}${D.hash}`):window.history.pushState({},"",`${D.pathname}${D.search}${D.hash}`))},[]);y.useEffect(()=>{const{page:O,selection:B}=Vj(Wj),q=window.location.pathname.replace(/\/+$/,""),F=/\/regional\/overview$/i.test(q);if(!t_e(window.location.pathname)){const D={selectedKpiKey:B.selectedKpiKey,selectedRegionSgg:B.selectedRegionSgg,selectedRange:B.selectedRange};h("overview"),v(D),A("overview",D,"replace");return}if(O==="overview"&&F){const D=Kj("overview",B);window.history.replaceState({},"",D)}h(O),v(B);const Y=()=>{const D=Vj(Wj),G=window.location.pathname.replace(/\/+$/,""),U=/\/regional\/overview$/i.test(G);if(D.page==="overview"&&U){const V=Kj("overview",D.selection);window.history.replaceState({},"",V)}h(D.page),v(D.selection)};return window.addEventListener("popstate",Y),()=>window.removeEventListener("popstate",Y)},[A]),y.useEffect(()=>{if(x.selectedRegionSgg&&!j.includes(x.selectedRegionSgg)){const O={...x,selectedRegionSgg:null};v(O),A(m,O,"replace")}},[m,j,x,A]);const _=y.useCallback((O,B,q)=>{h(O),v(F=>{const Y={...F,...B};return x6(F,Y)?(A(O,Y,"replace",q),F):(A(O,Y,"push",q),Y)})},[A]),E=y.useCallback(O=>{v(B=>{const q={...B,...O};return x6(B,q)?B:(A(m,q,"replace"),q)})},[m,A]),C=y.useCallback(O=>{b(O),O.source!=="top5"&&_("interventions",{selectedKpiKey:O.kpiKey,selectedRegionSgg:O.region,selectedRange:O.range},{create:"1",source:O.source??"overview",primaryDriverStage:O.primaryDriverStage})},[_]),R=()=>{switch(m){case"overview":return a.jsx(DEe,{region:S,selectedKpiKey:x.selectedKpiKey,selectedRegionSgg:x.selectedRegionSgg,selectedRange:n_e(x.selectedRange),onSelectedKpiKeyChange:O=>E({selectedKpiKey:O}),onSelectedRegionSggChange:O=>E({selectedRegionSgg:O}),onSelectedRangeChange:O=>E({selectedRange:O}),onNavigateToCause:({kpi:O,sgg:B,range:q})=>_("cause",{selectedKpiKey:O,selectedRegionSgg:B,selectedRange:q}),onCreateIntervention:({kpi:O,sgg:B,range:q,source:F,primaryDriverStage:Y})=>C({kpiKey:O,region:B,range:q,source:F,primaryDriverStage:Y})});case"cause":return a.jsx(BEe,{region:S,districtOptions:j,selectedKpiKey:x.selectedKpiKey,selectedRegionSgg:x.selectedRegionSgg,selectedRange:x.selectedRange,onSelectedKpiKeyChange:O=>E({selectedKpiKey:O}),onSelectedRegionSggChange:O=>E({selectedRegionSgg:O}),onSelectedRangeChange:O=>E({selectedRange:O}),onCreateIntervention:O=>C(O)});case"interventions":return a.jsx(HEe,{region:S,districtOptions:j,selectedKpiKey:x.selectedKpiKey,selectedRegionSgg:x.selectedRegionSgg,selectedRange:x.selectedRange,onSelectedKpiKeyChange:O=>E({selectedKpiKey:O}),onSelectedRegionSggChange:O=>E({selectedRegionSgg:O}),onSelectedRangeChange:O=>E({selectedRange:O}),pendingDraft:N,onPendingDraftConsumed:()=>b(null)});case"reports":return a.jsx(WEe,{region:S,selectedKpiKey:x.selectedKpiKey,selectedRegionSgg:x.selectedRegionSgg,selectedRange:x.selectedRange});case"settings":return a.jsx(IEe,{regionCode:S.id,regionLabel:S.label});default:return null}},I=()=>{window.confirm(" ?")&&r&&r()};return a.jsxs("div",{className:"flex h-[100dvh] min-h-0 overflow-hidden bg-gray-50",children:[a.jsxs("aside",{className:`${o?"w-64":"w-20"} bg-slate-800 border-r border-slate-700 transition-all duration-300 flex flex-col shrink-0`,children:[a.jsx("div",{className:"h-16 flex items-center justify-between px-4 border-b border-slate-700",children:o?a.jsxs(a.Fragment,{children:[a.jsx(QA,{size:36,showText:!0,subtitle:`${S.label}  `,variant:"dark"}),a.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"h-8 w-8 p-0 text-slate-400 hover:text-white hover:bg-slate-700 shrink-0",children:a.jsx(vu,{className:"h-4 w-4"})})]}):a.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"h-8 w-8 p-0 mx-auto text-slate-400 hover:text-white hover:bg-slate-700",children:a.jsx(i7,{className:"h-4 w-4"})})}),o&&a.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[a.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:" "}),a.jsx("select",{value:s,onChange:O=>{i(O.target.value),E({selectedRegionSgg:null})},className:"w-full bg-slate-700 border border-slate-600 text-slate-200 rounded px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",children:nl.map(O=>a.jsx("option",{value:O.id,children:O.label},O.id))})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:h6.map(O=>{const B=O.icon,q=m===O.id;return a.jsxs("button",{onClick:()=>_(O.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${q?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[a.jsx(B,{className:`h-5 w-5 ${!o&&"mx-auto"}`}),o&&a.jsx("span",{className:"text-sm font-medium",children:O.label})]},O.id)})}),o&&a.jsxs("div",{className:"p-4 border-t border-slate-700",children:[a.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:[S.label," "]}),a.jsx("div",{className:"text-sm font-medium text-white",children:e}),a.jsx("div",{className:"text-xs text-slate-400",children:" "})]})]}),a.jsxs("div",{className:"flex-1 flex min-h-0 flex-col overflow-hidden min-w-0",children:[a.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-4",children:(()=>{const O=h6.find(F=>F.id===m),B=O?.icon||uh,q=OT[m];return a.jsx(RT,{title:q?.title??O?.label??"  ",subtitle:q?.subtitle??"Neuro-Shield   ",icon:a.jsx(B,{className:"h-4 w-4 text-white"})})})()}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(pt,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(ch,{className:"h-5 w-5"}),a.jsx(tn,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:"3"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs(pt,{variant:"ghost",className:"flex items-center gap-2",onClick:()=>d(!u),children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-semibold text-sm",children:e.charAt(0)}),a.jsx("span",{className:"text-sm font-medium",children:e}),a.jsx(Hn,{className:"h-4 w-4 text-gray-400"})]}),u&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:[a.jsxs("div",{className:"px-3 py-2 border-b border-gray-200",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e}),a.jsx("div",{className:"text-xs text-gray-500",children:" "})]}),a.jsx("div",{className:"border-t border-gray-200 py-1",children:a.jsxs("button",{onClick:()=>{d(!1),I()},className:"w-full flex items-center px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(VA,{className:"mr-2 h-4 w-4"}),""]})})]})]})]})]})]}),a.jsx("main",{className:"relative flex-1 min-h-0 w-full overflow-hidden",children:R()})]})]})}function s_e(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const u=r.length;r=[...r,o];const d=m=>{const{scope:h,children:x,...v}=m,N=h?.[e]?.[u]||l,b=y.useMemo(()=>v,Object.values(v));return a.jsx(N.Provider,{value:b,children:x})};d.displayName=i+"Provider";function f(m,h){const x=h?.[e]?.[u]||l,v=y.useContext(x);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const u=l?.[e]||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return s.scopeName=e,[n,i_e(s,...t)]}function i_e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var o_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],t5=o_e.reduce((e,t)=>{const r=wy(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Yj={exports:{}},Xj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y6;function l_e(){if(y6)return Xj;y6=1;var e=Ny();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(m,h){var x=h(),v=n({inst:{value:x,getSnapshot:h}}),N=v[0].inst,b=v[1];return i(function(){N.value=x,N.getSnapshot=h,u(N)&&b({inst:N})},[m,x,h]),s(function(){return u(N)&&b({inst:N}),m(function(){u(N)&&b({inst:N})})},[m]),o(x),x}function u(m){var h=m.getSnapshot;m=m.value;try{var x=h();return!r(m,x)}catch{return!0}}function d(m,h){return h()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Xj.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Xj}var b6;function c_e(){return b6||(b6=1,Yj.exports=l_e()),Yj.exports}var u_e=c_e();function d_e(){return u_e.useSyncExternalStore(f_e,()=>!0,()=>!1)}function f_e(){return()=>{}}var r5="Avatar",[p_e]=s_e(r5),[m_e,XH]=p_e(r5),QH=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=y.useState("idle");return a.jsx(m_e,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(t5.span,{...n,ref:t})})});QH.displayName=r5;var ZH="AvatarImage",h_e=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=XH(ZH,r),l=g_e(n,i),u=Sa(d=>{s(d),o.onImageLoadingStatusChange(d)});return Pn(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?a.jsx(t5.img,{...i,ref:t,src:n}):null});h_e.displayName=ZH;var JH="AvatarFallback",eq=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=XH(JH,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(t5.span,{...s,ref:t}):null});eq.displayName=JH;function v6(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function g_e(e,{referrerPolicy:t,crossOrigin:r}){const n=d_e(),s=y.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=y.useState(()=>v6(i,e));return Pn(()=>{l(v6(i,e))},[i,e]),Pn(()=>{const u=m=>()=>{l(m)};if(!i)return;const d=u("loaded"),f=u("error");return i.addEventListener("load",d),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,r,t]),o}var x_e=QH,y_e=eq;function b_e({className:e,...t}){return a.jsx(x_e,{"data-slot":"avatar",className:ce("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function v_e({className:e,...t}){return a.jsx(y_e,{"data-slot":"avatar-fallback",className:ce("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const N6=[{id:"national-dashboard",label:"  ",icon:wf,roles:["central_admin","policy_maker"]},{id:"model-apply",label:"  ",icon:gm,roles:["central_admin","policy_maker"]},{id:"model-governance",label:"/  ",icon:ho,roles:["central_admin"]},{id:"quality-monitoring",label:"& ",icon:pc,roles:["central_admin","policy_maker"]},{id:"compliance-audit",label:"   ",icon:WA,roles:["central_admin"]},{id:"kpi-dictionary",label:"KPI ",icon:kd,roles:["central_admin","policy_maker"]},{id:"settings",label:"",icon:fh,roles:["central_admin","policy_maker"]}];function N_e({children:e,currentPage:t,userRole:r,userName:n,onPageChange:s,onLogout:i}){const[o,l]=y.useState(!0),[u]=y.useState(5),[d,f]=y.useState(!1),m=N6.filter(v=>v.roles.includes(r)),h=v=>{switch(v){case"central_admin":return" ";case"policy_maker":return" ";default:return""}},x=()=>{window.confirm(" ?")&&i()};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsxs("aside",{className:`${o?"w-64":"w-20"} bg-slate-800 border-r border-slate-700 transition-all duration-300 flex flex-col`,children:[a.jsx("div",{className:"h-16 flex items-center justify-between px-4 border-b border-slate-700",children:o?a.jsxs(a.Fragment,{children:[a.jsx(QA,{size:36,showText:!0,subtitle:" ",variant:"dark"}),a.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"h-8 w-8 p-0 text-slate-400 hover:text-white hover:bg-slate-700",children:a.jsx(vu,{className:"h-4 w-4"})})]}):a.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"h-8 w-8 p-0 mx-auto text-slate-400 hover:text-white hover:bg-slate-700",children:a.jsx(i7,{className:"h-4 w-4"})})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:m.map(v=>{const N=v.icon,b=t===v.id;return a.jsxs("button",{onClick:()=>s(v.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${b?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[a.jsx(N,{className:`h-5 w-5 ${!o&&"mx-auto"}`}),o&&a.jsx("span",{className:"text-sm font-medium",children:v.label})]},v.id)})}),o&&a.jsxs("div",{className:"p-4 border-t border-slate-700",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),a.jsx("div",{className:"text-sm font-medium text-white",children:n}),a.jsx("div",{className:"text-xs text-slate-400",children:h(r)})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6",children:[a.jsx("div",{className:"flex items-center gap-3",children:(()=>{const v=N6.find(S=>S.id===t),N=v?.icon||wf,b=OT[t];return a.jsx(RT,{title:b?.title??v?.label??"  ",subtitle:b?.subtitle??"Neuro-Shield  ",icon:a.jsx(N,{className:"h-4 w-4 text-white"})})})()}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(pt,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(ch,{className:"h-5 w-5"}),u>0&&a.jsx(tn,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:u})]}),a.jsxs("div",{className:"relative",children:[a.jsxs(pt,{variant:"ghost",className:"flex items-center gap-2",onClick:()=>f(!d),children:[a.jsx(b_e,{className:"h-8 w-8",children:a.jsx(v_e,{className:"bg-slate-100 text-slate-600",children:n.charAt(0)})}),a.jsx("span",{className:"text-sm font-medium",children:n}),a.jsx(Hn,{className:"h-4 w-4 text-gray-400"})]}),d&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:[a.jsxs("div",{className:"px-3 py-2 border-b border-gray-200",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:n}),a.jsx("div",{className:"text-xs text-gray-500",children:h(r)})]}),a.jsx("div",{className:"py-1",children:a.jsxs("button",{onClick:()=>{f(!1),s("settings")},className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(fh,{className:"mr-2 h-4 w-4"}),""]})}),a.jsx("div",{className:"border-t border-gray-200 py-1",children:a.jsxs("button",{onClick:()=>{f(!1),x()},className:"w-full flex items-center px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(VA,{className:"mr-2 h-4 w-4"}),""]})})]})]})]})]})]}),a.jsx("main",{className:"flex-1 w-full overflow-auto relative",children:e})]})]})}const Qj={drillLevel:"nation",drillPath:[{level:"nation",code:"KR",name:""}],selectedRegion:null};function S_e(){const[e,t]=y.useState(Qj),r=y.useCallback((u,d={})=>{const f=d.replace??!0;t(m=>{if(u.level==="nation")return $p("nation","KR",f),Qj;const h=m.drillPath[m.drillPath.length-1],x=m.drillPath.findIndex(N=>N.level===u.level&&N.code===u.code);let v;return x>=0?(v=m.drillPath.slice(0,x+1),v[v.length-1]={level:u.level,code:u.code,name:u.name}):h?.level===u.level?v=[...m.drillPath.slice(0,-1),u]:v=[...m.drillPath,u],$p(u.level,u.code,f),{drillLevel:u.level,drillPath:v,selectedRegion:u}})},[]),n=y.useCallback(u=>{r(u,{replace:!0})},[r]),s=y.useCallback(()=>{t(u=>{if(u.drillPath.length<=1)return u;const d=u.drillPath.slice(0,-1),f=d[d.length-1];return $p(f.level,f.code,!0),{drillLevel:f.level,drillPath:d,selectedRegion:f.level==="nation"?null:{code:f.code,name:f.name,level:f.level}}})},[]),i=y.useCallback(u=>{t(d=>{if(u<0||u>=d.drillPath.length)return d;const f=d.drillPath.slice(0,u+1),m=f[f.length-1];return $p(m.level,m.code,!0),{drillLevel:m.level,drillPath:f,selectedRegion:m.level==="nation"?null:{code:m.code,name:m.name,level:m.level}}})},[]),o=y.useCallback(()=>{t(Qj),$p("nation","KR",!0)},[]),l=y.useCallback(u=>{t(d=>({...d,selectedRegion:u}))},[]);return{...e,drillDown:n,drillUp:s,drillTo:i,resetDrill:o,setSelectedRegion:l,setScope:r}}function $p(e,t,r=!0){if(typeof window>"u")return;const n=new URL(window.location.href);if(n.searchParams.set("level",e),n.searchParams.set("region",t),r){window.history.replaceState({},"",n.toString());return}window.history.pushState({},"",n.toString())}function Zj(e){return{nation:"",sido:"",sigungu:"",center:""}[e]||e}const Lb=[{id:"sla-status",name:"SLA ",description:"SLA / ",domain:"sla",metric:{numerator:"sla_compliant_count",denominator:"total_count",aggregation:"rate",unit:"%"},visualization:{chartType:"donut",breakdown:"status",colorScheme:"sla",format:{decimals:2,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:1,isActive:!0},{id:"data-status",name:" ",description:" / ",domain:"data",metric:{numerator:"data_sufficient_count",denominator:"total_count",aggregation:"rate",unit:"%"},visualization:{chartType:"donut",breakdown:"status",colorScheme:"data",format:{decimals:2,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:2,isActive:!0},{id:"case-distribution",name:" ",description:"/  ",domain:"case",metric:{valueField:"case_count",aggregation:"sum",unit:""},visualization:{chartType:"bar",breakdown:"ageGroup",colorScheme:"age",format:{decimals:0}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:3,isActive:!0},{id:"center-load",name:"  ",description:"   ",domain:"case",metric:{valueField:"transfer_count",aggregation:"sum",unit:""},visualization:{chartType:"bar",breakdown:"centerType",colorScheme:"blue",format:{decimals:0}},filters:{allowedLevels:["nation","sido"],defaultTimeRange:"week"},priority:4,isActive:!0},{id:"trend-timeseries",name:"  ",description:"    ",domain:"case",metric:{valueField:"processed_count",aggregation:"sum",unit:""},visualization:{chartType:"line",breakdown:"month",colorScheme:"green",format:{decimals:0}},filters:{allowedLevels:["nation","sido","sigungu"],defaultTimeRange:"year"},priority:10,isActive:!0},{id:"kpi-summary-table",name:"KPI ",description:"KPI // ",domain:"case",metric:{valueField:"kpi_value",aggregation:"avg",unit:"%"},visualization:{chartType:"table",format:{decimals:1}},filters:{allowedLevels:["nation","sido"],defaultTimeRange:"week"},priority:5,isActive:!0,chartEnabled:!1},{id:"kpi-sla-rate",name:"SLA ",description:"   SLA   ",domain:"sla",metric:{numerator:"sla_compliant_count",denominator:"total_count",aggregation:"rate",unit:"%",baseline:92,target:95,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:100,isActive:!0,chartEnabled:!0},{id:"kpi-data-rate",name:" ",description:"      ",domain:"data",metric:{numerator:"data_sufficient_count",denominator:"total_count",aggregation:"rate",unit:"%",baseline:88,target:90,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:101,isActive:!0,chartEnabled:!0},{id:"kpi-completion-rate",name:" ",description:"      ",domain:"case",metric:{numerator:"completed_count",denominator:"total_count",aggregation:"rate",unit:"%",baseline:88,target:90,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:102,isActive:!0,chartEnabled:!0},{id:"kpi-response-rate",name:" ",description:"     ",domain:"response",metric:{numerator:"timely_response_count",denominator:"total_count",aggregation:"rate",unit:"%",baseline:82,target:85,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:103,isActive:!0,chartEnabled:!0},{id:"kpi-quality-score",name:" ",description:"    ",domain:"quality",metric:{valueField:"quality_score",aggregation:"avg",unit:"",baseline:85,target:88,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:""}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:104,isActive:!0,chartEnabled:!0},{id:"kpi-avg-processing-time",name:" ",description:"     ()",domain:"time",metric:{valueField:"processing_time_days",aggregation:"avg",unit:"",baseline:3,target:2.5,higherBetter:!1},visualization:{chartType:"bullet",format:{decimals:1,suffix:""}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:105,isActive:!0,chartEnabled:!0},{id:"total-cases",name:" ",description:"   ",domain:"case",metric:{valueField:"total_case_count",aggregation:"sum",unit:""},visualization:{chartType:"treemap",breakdown:"region",colorScheme:"blue",format:{decimals:0}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:0,isActive:!0}];function S6(e){const t=Lb.filter(r=>r.isActive);switch(e){case"left":return t.filter(r=>r.visualization.chartType==="treemap"||r.id==="total-cases").sort((r,n)=>r.priority-n.priority);case"right":return t.filter(r=>["donut","bar","table"].includes(r.visualization.chartType)&&r.id!=="total-cases").sort((r,n)=>r.priority-n.priority);case"bottom":return t.filter(r=>r.visualization.chartType==="line").sort((r,n)=>r.priority-n.priority);default:return[]}}function w_e(e){return Lb.find(t=>t.id===e)}function j_e(e){return Lb.filter(t=>t.isActive&&t.filters.allowedLevels.includes(e)).sort((t,r)=>t.priority-r.priority)}function E_e(e){return Lb.filter(t=>t.isActive&&t.chartEnabled===!0&&(!e||t.filters.allowedLevels.includes(e))).sort((t,r)=>t.priority-r.priority)}function __e(e){let t=0;for(let r=0;r<e.length;r++)t=t*31+e.charCodeAt(r)>>>0;return t}function gn(e,t,r){const n=__e(e)%1e3/1e3;return t+(r-t)*n}function A_e(e,t,r,n){const s=w_e(e);if(!s)return null;const i=`${e}-${t}-${r}`;switch(s.visualization.chartType){case"donut":{if(e==="sla-status"){const o=100-gn(`${i}-sla`,2,6);return[{name:"",value:Number(o.toFixed(2)),color:"#3b82f6"},{name:"",value:Number((100-o).toFixed(2)),color:"#ef4444"}]}if(e==="data-status"){const o=100-gn(`${i}-data`,3,8);return[{name:"",value:Number(o.toFixed(2)),color:"#3b82f6"},{name:"",value:Number((100-o).toFixed(2)),color:"#f59e0b"}]}return[{name:"1",value:Math.round(gn(`${i}-1`,40,60)),color:"#3b82f6"},{name:"2",value:Math.round(gn(`${i}-2`,20,40)),color:"#22c55e"},{name:"3",value:Math.round(gn(`${i}-3`,10,20)),color:"#f59e0b"}]}case"bar":{if(e==="case-distribution"){const o=["20~24","25~29","30~34","35~39","40~44","45~49","50~54","55~59","60~64","65~69","70~74","75~79","80~84","85~"],l=[1200,1800,2200,2300,2700,3400,3600,3300,3900,3800,4400,4200,4100,3500,2300,1700,1300,1e3];return o.map((u,d)=>({label:u,value:Math.round(l[d]*(.9+gn(`${i}-age-${d}`,0,.2)))}))}return e==="center-load"?[{label:"",value:Math.round(gn(`${i}-load-1`,35e3,45e3))},{label:" ",value:Math.round(gn(`${i}-load-2`,4e3,6e3))},{label:" ",value:Math.round(gn(`${i}-load-3`,1500,2500))},{label:" ",value:Math.round(gn(`${i}-load-4`,1200,2e3))},{label:"",value:Math.round(gn(`${i}-load-5`,1e3,1800))}]:[{label:"A",value:Math.round(gn(`${i}-a`,1e3,5e3))},{label:"B",value:Math.round(gn(`${i}-b`,1e3,5e3))},{label:"C",value:Math.round(gn(`${i}-c`,1e3,5e3))}]}case"table":return{columns:[{key:"kpi",label:"KPI ",align:"left"},{key:"avg",label:"",align:"right",format:"percent"},{key:"min",label:"()",align:"right"},{key:"max",label:"()",align:"right"}],rows:[{kpi:"SLA ",avg:96.2,min:"91.3% ()",max:"99.1% ()"},{kpi:" ",avg:94.8,min:"88.5% ()",max:"98.2% ()"},{kpi:" ",avg:2.3,min:"1.8 ()",max:"3.5 ()"}]};case"line":return["2018","2019","2020","2021","2022","2023","2024","2025","2026"].map((l,u)=>({x:l,value:Math.round(gn(`${i}-ts-${u}`,12e3,18e3))}));case"treemap":return[{name:"",value:Math.round(gn(`${i}-tree-`,2500,3500))},{name:"",value:Math.round(gn(`${i}-tree-`,1800,2500))},{name:"",value:Math.round(gn(`${i}-tree-`,1500,2200))},{name:"",value:Math.round(gn(`${i}-tree-`,1200,1800))},{name:"",value:Math.round(gn(`${i}-tree-`,1e3,1500))}];case"bullet":{const o=s.metric,l=o.baseline??85,u=o.target??90,d=o.higherBetter!==!1,f=o.unit||"%",m=[],h=(v,N)=>{const b=N.match(/\d+/),S=b?Number(b[0]):0,j=gn(`${i}-phase`,0,6.28),A=Math.sin(S*.9+j),_=gn(`${i}-${v}-${N}`,-1,1);return v==="kpi-sla-rate"?92+A*4+_*2:v==="kpi-data-rate"?91+A*5+_*2:v==="kpi-completion-rate"?90+A*4.5+_*2:v==="kpi-response-rate"?85+A*5+_*3:v==="kpi-quality-score"?88+A*4+_*2:v==="kpi-avg-processing-time"?2.8+A*.8+_*.3:l+A*5+_*3};if(n==="week"){const v=new Date(2026,1,5);for(let N=6;N>=0;N--){const b=new Date(v);b.setDate(b.getDate()-N);const S=`${b.getMonth()+1}/${b.getDate()}`;m.push({date:S,value:Number(h(e,`d${N}`).toFixed(1))})}}else if(n==="month"){const v=["1","2","3","4","5","6","7","8","9","10","11","12"];for(let N=0;N<12;N++)m.push({date:v[N],value:Number(h(e,`m${N}`).toFixed(1))})}else{const v=["1","2","3","4"];for(let N=0;N<4;N++)m.push({date:v[N],value:Number(h(e,`q${N}`).toFixed(1))})}const x=m[m.length-1].value;return{dailyData:m,current:x,baseline:l,target:u,unit:f,higherBetter:d}}default:return null}}const Td=[{id:"chg_20260124",title:"L2  6560  ",type:"rule_threshold",version:"v2.3.2 (draft)",deployedAt:"2026-01-24T14:00:00+09:00",deployedBy:"-",status:"reviewing",description:"   L2   . 60~64   24%     .",before:{slaRate:89.8,responseTimeliness:85.1,completionRate:92.7,dataFulfillment:94.3},after:{slaRate:89.8,responseTimeliness:85.1,completionRate:92.7,dataFulfillment:94.3},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:0,verdict:"insignificant"},{kpi:"RESP",label:" ",changePp:0,verdict:"insignificant"},{kpi:"COMP",label:" ",changePp:0,verdict:"insignificant"},{kpi:"DATA",label:" ",changePp:0,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"medium",requestedBy:" ()",approvedBy:null,currentRule:"  65  L2",proposedRule:"  60  L2",reason:" 3   , 60~64   ( 24%).      15%     ."},{id:"chg_20260120",title:"L2  6065  ",type:"rule_threshold",version:"v2.3.1",deployedAt:"2026-01-20T09:00:00+09:00",deployedBy:" ()",status:"deployed",description:"L2    60 65 .         .",before:{slaRate:87.2,responseTimeliness:82.5,completionRate:91.3,dataFulfillment:94.1},after:{slaRate:89.8,responseTimeliness:85.1,completionRate:92.7,dataFulfillment:94.3},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:2.6,verdict:"improved"},{kpi:"RESP",label:" ",changePp:2.6,verdict:"improved"},{kpi:"COMP",label:" ",changePp:1.4,verdict:"improved"},{kpi:"DATA",label:" ",changePp:.2,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"medium",requestedBy:" ()",approvedBy:" ()"},{id:"chg_20260115",title:"  75 ",type:"contact_rule",version:"v2.3.0",deployedAt:"2026-01-15T14:30:00+09:00",deployedBy:" ()",status:"deployed",description:"L3    7 5 .    .",before:{slaRate:85.8,responseTimeliness:80.1,completionRate:89.5,dataFulfillment:93.8},after:{slaRate:87.2,responseTimeliness:82.5,completionRate:91.3,dataFulfillment:94.1},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:1.4,verdict:"improved"},{kpi:"RESP",label:" ",changePp:2.4,verdict:"improved"},{kpi:"COMP",label:" ",changePp:1.8,verdict:"improved"},{kpi:"DATA",label:" ",changePp:.3,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"low",requestedBy:" ( )",approvedBy:" ()"},{id:"chg_20260110",title:"  v3.2 ",type:"model_version",version:"v3.2.0",deployedAt:"2026-01-10T11:00:00+09:00",deployedBy:" ()",status:"deployed",description:"   v3.2  .  +3.2%p,  +1.8%p .",before:{slaRate:84.1,responseTimeliness:78.9,completionRate:88.2,dataFulfillment:93.2},after:{slaRate:85.8,responseTimeliness:80.1,completionRate:89.5,dataFulfillment:93.8},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:1.7,verdict:"improved"},{kpi:"RESP",label:" ",changePp:1.2,verdict:"improved"},{kpi:"COMP",label:" ",changePp:1.3,verdict:"improved"},{kpi:"DATA",label:" ",changePp:.6,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"low",requestedBy:" ()",approvedBy:" ()"},{id:"chg_20260105",title:"  1.21.35 ",type:"ruleset",version:"v2.2.5",deployedAt:"2026-01-05T10:00:00+09:00",deployedBy:" ()",status:"rollback",description:"   1.2 1.35 .   1  .",before:{slaRate:84.5,responseTimeliness:79.2,completionRate:88.8,dataFulfillment:93.5},after:{slaRate:82.3,responseTimeliness:76.8,completionRate:86.1,dataFulfillment:93.4},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:-2.2,verdict:"worsened"},{kpi:"RESP",label:" ",changePp:-2.4,verdict:"worsened"},{kpi:"COMP",label:" ",changePp:-2.7,verdict:"worsened"},{kpi:"DATA",label:" ",changePp:-.1,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"high",requestedBy:" ()",approvedBy:" ()"}],Jj=[{id:"qa_001",type:"sla_breach",severity:"critical",title:" SLA  ",description:"SLA  78.2% (85%) .  42 .",region:"",detectedAt:"2026-01-24T08:00:00+09:00",resolved:!1,relatedDriver:"ops_bottleneck"},{id:"qa_002",type:"update_delay",severity:"warning",title:"   ",description:"   48. (24) .",region:"",detectedAt:"2026-01-23T10:00:00+09:00",resolved:!1,relatedDriver:"data_quality"},{id:"qa_003",type:"model_drift",severity:"warning",title:"L3     ",description:"F1 89.2%    -2.4%p.  .",region:"",detectedAt:"2026-01-22T15:00:00+09:00",resolved:!1,relatedDriver:"model_fitness"},{id:"qa_004",type:"data_missing",severity:"info",title:"   ",description:"  12 .    .",region:"",detectedAt:"2026-01-21T09:00:00+09:00",resolved:!0,relatedDriver:"data_quality"}],Qa=[{id:"ua_001",timestamp:"2026-01-24T09:15:00+09:00",type:"violation",severity:"high",status:"reviewing",title:"  PII  ",actor:" (CS-1042)",actorRole:"",center:" ",target:"  DB",violationType:"  ",violatedRegulation:" 29,  SEC-003",cause:"      . IP     .",requestor:" (CS-1042)",executor:" (CS-1042)",policyRef:" 29",internalStandardId:"SEC-003",approvalComment:"     .    .",rationale:"  PII    .    .",kpiSnapshot:{slaRate:89.8,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_002",timestamp:"2026-01-22T14:20:00+09:00",type:"violation",severity:"medium",status:"resolved",title:"   ",actor:"",actorRole:"  ",center:" ",target:"   #2847",violationType:"   ",violatedRegulation:" ACC-007 (   )",cause:"      .  .",relatedChangeId:"chg_20260120",requestor:"",approver:" ()",executor:"  ",policyRef:"     v2.1",internalStandardId:"ACC-007",approvalComment:"    .  .",rationale:"     .       .",kpiSnapshot:{slaRate:88.5,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_003",timestamp:"2026-01-20T16:00:00+09:00",type:"violation",severity:"low",status:"resolved",title:"SLA   (3)",actor:" ",actorRole:" ",center:" ",target:"SLA  (48   )",violationType:"SLA  ",violatedRegulation:" SLA-001 (  48)",cause:"     (+15).   .",requestor:" ",executor:"  ",approvalComment:"  1  . 3  72   .",policyRef:" SLA-001",internalStandardId:"SLA-001",rationale:"   48 SLA .     .",kpiSnapshot:{slaRate:87.2,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_004",timestamp:"2026-01-20T09:00:00+09:00",type:"policy_change",severity:"medium",status:"resolved",title:"L2  6065  ",actor:"",actorRole:" ",target:"L2   ()",cause:"        .",relatedChangeId:"chg_20260120",requestor:" ()",approver:" ()",executor:" ()",policyRef:"    v4.2",internalStandardId:"RULE-L2-001",approvalComment:"  . SLA +2.6%p  .   .",rationale:"       .   .",kpiSnapshot:{slaRate:87.2,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_005",timestamp:"2026-01-15T14:30:00+09:00",type:"policy_change",severity:"low",status:"resolved",title:"  75  ()",actor:"",actorRole:" ",target:"L3   ()",cause:"L3  7    2 . 5  .",relatedChangeId:"chg_20260115",requestor:" ()",approver:" ()",executor:"  ",policyRef:"   v3.0",internalStandardId:"RULE-CT-002",approvalComment:"   . 2    .",rationale:"L3  7    2 . 5     .",kpiSnapshot:{slaRate:86.1,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_006",timestamp:"2026-01-10T11:00:00+09:00",type:"model_deploy",severity:"medium",status:"resolved",title:"   v3.2  ",actor:"",actorRole:" ",target:"    ",cause:"v3.1   +3.2%p . A/B  2 .",relatedChangeId:"chg_20260110",requestor:" ()",approver:" ()",executor:" ()",policyRef:"    v1.3",internalStandardId:"MDL-DEP-001",approvalComment:"A/B   .  +3.2%p,  +1.8%p.   .",rationale:"v3.1   +3.2%p. A/B  2    .",kpiSnapshot:{slaRate:85.8,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_007",timestamp:"2026-01-24T17:00:00+09:00",type:"resolution",severity:"high",status:"resolved",title:"     ",actor:"",actorRole:" ",target:"  5 ",cause:"SLA  78.2%  .  42   .",requestor:" ",approver:" ()",executor:"",policyRef:"    v2.0",internalStandardId:"OPS-EMG-001",approvalComment:"5   2 10  . 48    50% .",rationale:"SLA  78.2%  .   42 .    .",kpiSnapshot:{slaRate:78.2,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_008",timestamp:"2026-01-18T11:30:00+09:00",type:"resolution",severity:"medium",status:"resolved",title:"    ",actor:"",actorRole:" ",target:"   ",cause:"        .",requestor:"  ",approver:" ()",executor:"  ",policyRef:"     v1.5",internalStandardId:"SEC-POST-001",approvalComment:"     .   .",rationale:"   48    .      .",kpiSnapshot:{slaRate:88.5,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_009",timestamp:"2026-01-05T10:00:00+09:00",type:"policy_change",severity:"high",status:"resolved",title:"  1.21.35  ( )",actor:"",actorRole:" ",target:"   ",cause:"    .   .",relatedChangeId:"chg_20260105",requestor:" ()",approver:"",executor:"  ",policyRef:"   v2.0",internalStandardId:"RULE-WT-001",approvalComment:" +22%  1   . SLA -2.2%p  .",rationale:"     1  . SLA  .",kpiSnapshot:{slaRate:82.3,riskTop3:[" "," "," "],regionContext:""}}];function C_e(e){let t=0;for(let r=0;r<e.length;r++)t=t*31+e.charCodeAt(r)>>>0;return t}function _e(e,t,r){return t+C_e(e)%1e4/1e4*(r-t)}const tq=[{code:"11",name:""},{code:"26",name:""},{code:"27",name:""},{code:"28",name:""},{code:"29",name:""},{code:"30",name:""},{code:"31",name:""},{code:"36",name:""},{code:"41",name:""},{code:"43",name:""},{code:"44",name:""},{code:"45",name:""},{code:"46",name:""},{code:"47",name:""},{code:"48",name:""},{code:"50",name:""},{code:"51",name:""}],Ph=e=>new Promise(t=>setTimeout(t,e));async function rq(e="LAST_7D",t="default"){await Ph(200);const r=`central-kpis-${e}-${t}`,n=(i,o)=>Array.from({length:7},(l,u)=>Number((i+_e(`${r}-sp-${u}`,-o,o)).toFixed(1))),s=[{kpiId:"SIGNAL_QUALITY",window:e,numerator:Math.round(_e(`${r}-sq-n`,8500,17e3)),denominator:Math.round(_e(`${r}-sq-d`,1e4,18e3)),value:Number(_e(`${r}-sq-v`,85,97).toFixed(1)),delta7d:Number(_e(`${r}-sq-delta`,-2,3).toFixed(1)),sparkline:n(92,3)},{kpiId:"POLICY_IMPACT",window:e,numerator:Math.round(_e(`${r}-pi-n`,15,40)),denominator:100,value:Number(_e(`${r}-pi-v`,12,42).toFixed(1)),delta7d:Number(_e(`${r}-pi-delta`,-5,8).toFixed(1)),auxiliary:{rollbackCount:Math.round(_e(`${r}-pi-rb`,0,3)),warningRegions:Math.round(_e(`${r}-pi-wr`,1,5))},sparkline:n(28,8)},{kpiId:"BOTTLENECK_RISK",window:e,numerator:Math.round(_e(`${r}-br-n`,20,55)),denominator:100,value:Number(_e(`${r}-br-v`,18,55).toFixed(1)),delta7d:Number(_e(`${r}-br-delta`,-4,6).toFixed(1)),auxiliary:{slaViolationRate:Number(_e(`${r}-br-sla`,5,25).toFixed(1)),l2BacklogCount:Math.round(_e(`${r}-br-bc`,30,200))},sparkline:n(38,8)},{kpiId:"DATA_READINESS",window:e,numerator:Math.round(_e(`${r}-dr-n`,7e3,16e3)),denominator:Math.round(_e(`${r}-dr-d`,8e3,17e3)),value:Number(_e(`${r}-dr-v`,80,98).toFixed(1)),delta7d:Number(_e(`${r}-dr-delta`,-3,4).toFixed(1)),auxiliary:{missingFieldRate:Number(_e(`${r}-dr-mf`,1,12).toFixed(1)),linkagePendingRate:Number(_e(`${r}-dr-lp`,2,15).toFixed(1))},sparkline:n(90,5)},{kpiId:"GOVERNANCE_SAFETY",window:e,numerator:Math.round(_e(`${r}-gs-n`,850,1900)),denominator:Math.round(_e(`${r}-gs-d`,900,2e3)),value:Number(_e(`${r}-gs-v`,88,99).toFixed(1)),delta7d:Number(_e(`${r}-gs-delta`,-2,3).toFixed(1)),auxiliary:{missingResponsible:Math.round(_e(`${r}-gs-mr`,0,8)),missingExplanation:Math.round(_e(`${r}-gs-me`,0,6))},sparkline:n(95,3)}];return{window:e,timestamp:new Date().toISOString(),kpis:s}}async function T_e(e="LAST_7D",t="default"){await Ph(150);const r=`central-funnel-${e}-${t}`,n=Math.round(_e(`${r}-reach`,5e4,12e4)),s=Math.round(n*_e(`${r}-s0r`,.25,.4)),i=Math.round(s*_e(`${r}-s1r`,.1,.2)),o=Math.round(i*_e(`${r}-cnr`,.5,.72)),l=Math.round(o*_e(`${r}-l0r`,.3,.45)),u=Math.round(o*_e(`${r}-l1r`,.25,.38)),d=Math.round(o*_e(`${r}-l2r`,.12,.25)),f=Math.round((u+d)*_e(`${r}-s2r`,.35,.55)),m=Math.round(f*_e(`${r}-s3r`,.15,.35)),h=[{stage:"Reach",label:"(Reach)",count:n},{stage:"Stage0",label:"0 ",count:s},{stage:"Stage1",label:"1  ",count:i},{stage:"Consent",label:" ",count:o},{stage:"L0",label:"L0 ",count:l},{stage:"L1",label:"L1 ",count:u},{stage:"L2",label:"L2 ",count:d},{stage:"Stage2",label:"2 ",count:f},{stage:"Stage3",label:"3 ",count:m}],x=h.map((v,N)=>({...v,conversionRate:N===0?100:Number((v.count/h[N-1].count*100).toFixed(1))}));return{window:e,stages:x}}async function k_e(e="LAST_7D",t="default"){await Ph(150);const r=`central-bn-${e}-${t}`,n=[{key:"consent_pending_rate",label:" ",value:Number(_e(`${r}-cp`,15,45).toFixed(1)),unit:"%",threshold:30,status:_e(`${r}-cp`,15,45)>30?"red":_e(`${r}-cp`,15,45)>20?"yellow":"green",category:"consent"},{key:"consent_median_days",label:"  ",value:Number(_e(`${r}-cd`,1.5,6).toFixed(1)),unit:"",threshold:3,status:_e(`${r}-cd`,1.5,6)>3?"red":_e(`${r}-cd`,1.5,6)>2?"yellow":"green",category:"consent"},{key:"input_readiness_rate",label:" ",value:Number(_e(`${r}-ir`,70,98).toFixed(1)),unit:"%",threshold:90,status:_e(`${r}-ir`,70,98)<90?"red":"green",category:"readiness"},{key:"data_completeness",label:" ",value:Number(_e(`${r}-dc`,82,99).toFixed(1)),unit:"%",threshold:95,status:_e(`${r}-dc`,82,99)<95?"yellow":"green",category:"readiness"},{key:"stage2_blocked_rate",label:"2 ",value:Number(_e(`${r}-s2b`,5,25).toFixed(1)),unit:"%",threshold:15,status:_e(`${r}-s2b`,5,25)>15?"red":_e(`${r}-s2b`,5,25)>10?"yellow":"green",category:"blocked"},{key:"stage3_blocked_rate",label:"3 ",value:Number(_e(`${r}-s3b`,3,20).toFixed(1)),unit:"%",threshold:12,status:_e(`${r}-s3b`,3,20)>12?"red":_e(`${r}-s3b`,3,20)>8?"yellow":"green",category:"blocked"},{key:"api_p95_latency",label:"API P95 ",value:Math.round(_e(`${r}-api`,120,800)),unit:"ms",threshold:500,status:_e(`${r}-api`,120,800)>500?"red":_e(`${r}-api`,120,800)>300?"yellow":"green",category:"system"},{key:"queue_depth",label:"  ",value:Math.round(_e(`${r}-qd`,0,500)),unit:"",threshold:200,status:_e(`${r}-qd`,0,500)>200?"red":_e(`${r}-qd`,0,500)>100?"yellow":"green",category:"system"}];return{window:e,metrics:n}}async function O_e(e="LAST_7D",t="default"){await Ph(150);const r=`central-link-${e}-${t}`,n=[{stage:"stage2",linkageRate:Number(_e(`${r}-s2lr`,55,82).toFixed(1)),medianLeadTimeDays:Number(_e(`${r}-s2lt`,3,12).toFixed(1)),blockedCount:Math.round(_e(`${r}-s2bc`,15,90)),blockedReasons:[{reason:" ",count:Math.round(_e(`${r}-s2r1`,5,30))},{reason:" ",count:Math.round(_e(`${r}-s2r2`,3,20))},{reason:" ",count:Math.round(_e(`${r}-s2r3`,2,15))},{reason:" ",count:Math.round(_e(`${r}-s2r4`,1,10))}]},{stage:"stage3",linkageRate:Number(_e(`${r}-s3lr`,40,70).toFixed(1)),medianLeadTimeDays:Number(_e(`${r}-s3lt`,7,28).toFixed(1)),blockedCount:Math.round(_e(`${r}-s3bc`,5,40)),blockedReasons:[{reason:"(dropout)",count:Math.round(_e(`${r}-s3r1`,3,15))},{reason:" ",count:Math.round(_e(`${r}-s3r2`,2,10))},{reason:" ",count:Math.round(_e(`${r}-s3r3`,1,8))}]}];return{window:e,metrics:n}}async function R_e(e="LAST_7D",t="default"){await Ph(200);const r=`central-reg-${e}-${t}`,n=tq.map(s=>{const i=`${r}-${s.code}`;return{regionCode:s.code,regionName:s.name,signalQuality:Number(_e(`${i}-sq`,80,98).toFixed(1)),policyImpact:Number(_e(`${i}-pi`,10,45).toFixed(1)),bottleneckRisk:Number(_e(`${i}-br`,15,55).toFixed(1)),dataReadiness:Number(_e(`${i}-dr`,78,99).toFixed(1)),governanceSafety:Number(_e(`${i}-gs`,85,99).toFixed(1)),blockedPct:Number(_e(`${i}-blk`,5,30).toFixed(1)),consentPct:Number(_e(`${i}-cnp`,40,80).toFixed(1)),backlogCount:Math.round(_e(`${i}-bc`,5,120))}});return n.sort((s,i)=>i.blockedPct-s.blockedPct),{window:e,rows:n}}async function w6(e="LAST_7D",t,r,n,s="default"){const i=n?`${r}-${n}`:"nation",o=`bundle-${e}-${s}-${i}`,l=t&&t.length>0?t:tq,u=(B,q,F)=>l.map(Y=>({regionCode:Y.code,regionName:Y.name,value:Number(_e(`${o}-${B}-${Y.code}`,q,F).toFixed(1))})),d=(B,q,F)=>Array.from({length:7},(Y,D)=>({period:`D${D+1}`,value:Number((q+_e(`${o}-${B}-tr-${D}`,-F,F)).toFixed(1))})),f=(B,q)=>{const F=[...B].sort((Y,D)=>q?Y.value-D.value:D.value-Y.value);return{worst:F.slice(0,5),best:F.slice(-5).reverse()}},m=u("sq",80,98),h=f(m,!0),x={national:{value:Number(_e(`${o}-sq-nat`,88,96).toFixed(1)),deltaPP:Number(_e(`${o}-sq-d`,-2,3).toFixed(1)),target:95},regions:m,breakdown:[{name:" ",value:Math.round(_e(`${o}-sq-b1`,8500,16e3)),color:"#2563eb"},{name:"",value:Math.round(_e(`${o}-sq-b2`,200,800)),color:"#f59e0b"},{name:"",value:Math.round(_e(`${o}-sq-b3`,100,400)),color:"#ef4444"},{name:"",value:Math.round(_e(`${o}-sq-b4`,50,200)),color:"#6b7280"}],breakdownType:"donut",cause:[{name:" ",value:Math.round(_e(`${o}-sq-c1`,120,350))},{name:" ",value:Math.round(_e(`${o}-sq-c2`,80,250))},{name:" ",value:Math.round(_e(`${o}-sq-c3`,50,180))},{name:" ",value:Math.round(_e(`${o}-sq-c4`,30,120))},{name:"",value:Math.round(_e(`${o}-sq-c5`,10,60))}],causeType:"bar",trend:d("sq",92,3),worstRegions:h.worst,bestRegions:h.best},v=u("pi",10,50),N=f(v,!1),b={national:{value:Number(_e(`${o}-pi-nat`,15,40).toFixed(1)),deltaPP:Number(_e(`${o}-pi-d`,-5,8).toFixed(1)),target:20},regions:v,breakdown:[{name:" ",value:Math.round(_e(`${o}-pi-b1`,3,12)),color:"#7c3aed"},{name:" ",value:Math.round(_e(`${o}-pi-b2`,1,5)),color:"#a855f7"},{name:" ",value:Math.round(_e(`${o}-pi-b3`,2,8)),color:"#c084fc"},{name:"",value:Math.round(_e(`${o}-pi-b4`,1,4)),color:"#e9d5ff"}],breakdownType:"bar",cause:[{name:"SLA ",value:Number(_e(`${o}-pi-c1`,1,8).toFixed(1))},{name:"  ",value:Number(_e(`${o}-pi-c2`,.5,5).toFixed(1))},{name:" ",value:Number(_e(`${o}-pi-c3`,.3,4).toFixed(1))},{name:"  ",value:Number(_e(`${o}-pi-c4`,.1,2).toFixed(1))}],causeType:"bar",trend:d("pi",28,8),worstRegions:N.worst,bestRegions:N.best},S=u("br",15,60),j=f(S,!1),A={national:{value:Number(_e(`${o}-br-nat`,25,50).toFixed(1)),deltaPP:Number(_e(`${o}-br-d`,-4,6).toFixed(1)),target:30},regions:S,breakdown:[{name:"SLA ",value:Number(_e(`${o}-br-b1`,5,25).toFixed(1)),color:"#dc2626"},{name:"L2 ",value:Number(_e(`${o}-br-b2`,8,30).toFixed(1)),color:"#f87171"},{name:" ",value:Number(_e(`${o}-br-b3`,3,18).toFixed(1)),color:"#fca5a5"}],breakdownType:"stacked",cause:[{name:" ",value:Math.round(_e(`${o}-br-c1`,20,80))},{name:" ",value:Math.round(_e(`${o}-br-c2`,10,45))},{name:" ",value:Math.round(_e(`${o}-br-c3`,8,35))},{name:" ",value:Math.round(_e(`${o}-br-c4`,5,20))},{name:"",value:Math.round(_e(`${o}-br-c5`,3,15))}],causeType:"bar",trend:d("br",38,8),worstRegions:j.worst,bestRegions:j.best},_=u("dr",78,99),E=f(_,!0),C={national:{value:Number(_e(`${o}-dr-nat`,85,96).toFixed(1)),deltaPP:Number(_e(`${o}-dr-d`,-3,4).toFixed(1)),target:95},regions:_,breakdown:[{name:" ",value:Math.round(_e(`${o}-dr-b1`,7e3,15e3)),color:"#059669"},{name:" ",value:Math.round(_e(`${o}-dr-b2`,200,900)),color:"#f59e0b"},{name:" ",value:Math.round(_e(`${o}-dr-b3`,100,500)),color:"#ef4444"}],breakdownType:"donut",cause:[{name:" ",value:Math.round(_e(`${o}-dr-c1`,80,300))},{name:" ",value:Math.round(_e(`${o}-dr-c2`,60,250))},{name:" ",value:Math.round(_e(`${o}-dr-c3`,40,180))},{name:" ",value:Math.round(_e(`${o}-dr-c4`,20,120))}],causeType:"donut",trend:d("dr",90,4),worstRegions:E.worst,bestRegions:E.best},R=u("gs",85,99),I=f(R,!0),O={national:{value:Number(_e(`${o}-gs-nat`,90,98).toFixed(1)),deltaPP:Number(_e(`${o}-gs-d`,-2,3).toFixed(1)),target:98},regions:R,breakdown:[{name:" ",value:Math.round(_e(`${o}-gs-b1`,30,150)),color:"#d97706"},{name:" ",value:Math.round(_e(`${o}-gs-b2`,20,100)),color:"#f59e0b"},{name:" ",value:Math.round(_e(`${o}-gs-b3`,10,60)),color:"#fbbf24"},{name:" ",value:Math.round(_e(`${o}-gs-b4`,5,40)),color:"#fcd34d"}],breakdownType:"donut",cause:[{name:"",value:Math.round(_e(`${o}-gs-c1`,8,25))},{name:"",value:Math.round(_e(`${o}-gs-c2`,6,20))},{name:"",value:Math.round(_e(`${o}-gs-c3`,4,18))},{name:"",value:Math.round(_e(`${o}-gs-c4`,3,15))},{name:"",value:Math.round(_e(`${o}-gs-c5`,2,12))}],causeType:"lineRank",trend:d("gs",95,2),worstRegions:I.worst,bestRegions:I.best};return{signalQuality:x,policyImpact:b,bottleneckRisk:A,dataReadiness:C,governanceSafety:O}}const P_e={SIGNAL_QUALITY:{id:"SIGNAL_QUALITY",name:" ",shortName:" ",description:"  :      ( )",formula:"ValidSignals / TotalSignals  100",numeratorField:"validSignals",denominatorField:"totalSignals",unit:"%",higherBetter:!0,baseline:88,target:95,drillToken:"VALID_SIGNALS"},POLICY_IMPACT:{id:"POLICY_IMPACT",name:" ",shortName:" ",description:"/   KPI  (  0-100)",formula:"PolicyChangeImpactScore ()",numeratorField:"impactScore",denominatorField:"maxScore",unit:"%",higherBetter:!1,baseline:35,target:20,drillToken:"POLICY_IMPACT_SCORE",auxiliaryKeys:["rollbackCount","warningRegions"]},BOTTLENECK_RISK:{id:"BOTTLENECK_RISK",name:" ",shortName:" ",description:"SLA    (0-100 )",formula:"(SLAViolation0.4 + L2Backlog0.35 + RecontactNeed0.25)",numeratorField:"weightedRisk",denominatorField:"maxRisk",unit:"%",higherBetter:!1,baseline:45,target:30,drillToken:"BOTTLENECK_SCORE",auxiliaryKeys:["slaViolationRate","l2BacklogCount"]},DATA_READINESS:{id:"DATA_READINESS",name:" ",shortName:" ",description:"     ",formula:"ReadyCases / TotalCases  100",numeratorField:"readyCases",denominatorField:"totalCases",unit:"%",higherBetter:!0,baseline:85,target:95,drillToken:"DATA_READY_CASES",auxiliaryKeys:["missingFieldRate","linkagePendingRate"]},GOVERNANCE_SAFETY:{id:"GOVERNANCE_SAFETY",name:" ",shortName:"",description:"       ()",formula:"AuditReady / TotalAuditable  100",numeratorField:"auditReady",denominatorField:"totalAuditable",unit:"%",higherBetter:!0,baseline:90,target:98,drillToken:"AUDIT_READY",auxiliaryKeys:["missingResponsible","missingExplanation"]}};function nq(){return Object.values(P_e)}const D_e={SIGNAL_QUALITY:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-300",icon:"",hex:"#2563eb"},POLICY_IMPACT:{bg:"bg-violet-50",text:"text-violet-700",border:"border-violet-300",icon:"",hex:"#7c3aed"},BOTTLENECK_RISK:{bg:"bg-red-50",text:"text-red-700",border:"border-red-300",icon:"",hex:"#dc2626"},DATA_READINESS:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-300",icon:"",hex:"#059669"},GOVERNANCE_SAFETY:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-300",icon:"",hex:"#d97706"}},sd=e=>`${e.toFixed(1)}%`,fg=e=>e.toFixed(1),eE={signalQuality:{key:"signalQuality",label:" ",shortLabel:"",unit:"%",description:"  :     ",tooltipLines:["       ",": ()  {period}"," ,  //  "],primaryColor:"#2563eb",softBg:"#dbeafe",palette:["#eff6ff","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8"],valueFormatter:sd,target:95,warnBelow:90,riskBelow:85,legend:{ticks:[0,20,40,60,80,100],format:sd,direction:"higherBetter"},analysisSummary:" , /    "},policyImpact:{key:"policyImpact",label:" ",shortLabel:"",unit:"",description:"/   KPI (  0-100)",tooltipLines:["/      ",": ()  {period}","  ,      "],primaryColor:"#7c3aed",softBg:"#ede9fe",palette:["#faf5ff","#e9d5ff","#d8b4fe","#c084fc","#a855f7","#7c3aed","#6d28d9"],valueFormatter:fg,higherIsWorse:!0,legend:{ticks:[0,20,40,60,80,100],format:fg,direction:"higherWorse"},analysisSummary:"/      "},bottleneckRisk:{key:"bottleneckRisk",label:" ",shortLabel:"",unit:"",description:"SLA    (0-100 )",tooltipLines:["    ",": ()  {period}"," ,  //  "],primaryColor:"#dc2626",softBg:"#fee2e2",palette:["#fef2f2","#fecaca","#fca5a5","#f87171","#ef4444","#dc2626","#b91c1c"],valueFormatter:fg,higherIsWorse:!0,warnBelow:void 0,legend:{ticks:[0,20,40,60,80,100],format:fg,direction:"higherWorse"},analysisSummary:"SLA //    "},dataReadiness:{key:"dataReadiness",label:" ",shortLabel:"",unit:"%",description:"    ",tooltipLines:["   /   ",": ()  {period}"," ,   /  "],primaryColor:"#059669",softBg:"#d1fae5",palette:["#ecfdf5","#d1fae5","#a7f3d0","#6ee7b7","#34d399","#059669","#047857"],valueFormatter:sd,target:95,warnBelow:90,riskBelow:85,legend:{ticks:[0,20,40,60,80,100],format:sd,direction:"higherBetter"},analysisSummary:"  /    "},governanceSafety:{key:"governanceSafety",label:" ",shortLabel:"",unit:"%",description:" /    ",tooltipLines:["    ",": ()  {period}"," ,   /  "],primaryColor:"#d97706",softBg:"#fef3c7",palette:["#fffbeb","#fef3c7","#fde68a","#fcd34d","#fbbf24","#d97706","#b45309"],valueFormatter:sd,target:98,warnBelow:95,riskBelow:90,legend:{ticks:[0,20,40,60,80,100],format:sd,direction:"higherBetter"},analysisSummary:"/  /  "}},tE={SIGNAL_QUALITY:"signalQuality",POLICY_IMPACT:"policyImpact",BOTTLENECK_RISK:"bottleneckRisk",DATA_READINESS:"dataReadiness",GOVERNANCE_SAFETY:"governanceSafety"},I_e={neutral:"text-slate-600",good:"text-emerald-600",warn:"text-amber-600",bad:"text-rose-600"};function LA(e){return typeof e=="number"&&Number.isFinite(e)?e.toLocaleString("ko-KR"):String(e??"-")}function by(e){return typeof e!="number"||!Number.isFinite(e)?null:`${Math.max(0,Math.min(100,e)).toFixed(1)}%`}function j6(e,t){const r=[`${t+1}`,e.title,` ${LA(e.value)}`],n=by(e.percentOfTotal);n&&r.push(`  ${n}`);const s=by(e.conversionFromPrev);return s&&r.push(` ${s}`),e.helperText&&r.push(e.helperText),r.join(", ")}function M_e({steps:e,ariaLabel:t="  ",density:r="comfortable",layout:n="scroll"}){const s=r==="compact",i=n==="scroll";return!e||e.length===0?a.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-4 text-center text-xs text-slate-500",children:"   ."}):a.jsx("div",{className:ce("rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",s?"p-2.5":"p-3"),children:a.jsx("div",{className:ce(i?"overflow-x-auto pb-1":"overflow-visible"),children:a.jsx("ol",{className:ce("items-stretch",i?"flex min-w-max gap-2":"flex flex-wrap gap-2"),"aria-label":t,children:e.map((o,l)=>{const u=by(o.percentOfTotal),d=by(o.conversionFromPrev),f=I_e[o.status??"neutral"],m=typeof o.onClick=="function";return a.jsxs(z.Fragment,{children:[a.jsx("li",{className:ce("rounded-xl border border-slate-200 bg-slate-50/70 transition-all",i?"w-[198px] shrink-0":"min-w-[180px] grow basis-[180px]",m&&"hover:border-slate-300 hover:shadow-md"),children:m?a.jsxs("button",{type:"button",onClick:o.onClick,className:ce("h-full w-full rounded-xl px-4 py-3 text-left outline-none focus-visible:ring-2 focus-visible:ring-blue-300",s?"px-3 py-2.5":"px-4 py-3"),"aria-label":j6(o,l),title:o.helperText,children:[a.jsx("p",{className:ce("font-semibold text-slate-800",s?"text-[11px]":"text-xs"),children:o.title}),a.jsx("p",{className:ce("mt-1.5 font-bold leading-none text-slate-900",s?"text-2xl":"text-[30px]"),children:LA(o.value)}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px]",children:[a.jsx("span",{className:"text-slate-500",children:o.subLabel??" "}),u?a.jsx("span",{className:ce("font-semibold",f),children:u}):null]}),d?a.jsxs("div",{className:"mt-2 border-t border-slate-200 pt-1.5 text-[11px]",children:[a.jsx("span",{className:"text-slate-500",children:": "}),a.jsx("span",{className:ce("font-semibold",f),children:d})]}):null]}):a.jsxs("div",{className:ce("h-full rounded-xl px-4 py-3 text-left outline-none focus-visible:ring-2 focus-visible:ring-blue-300",s?"px-3 py-2.5":"px-4 py-3"),tabIndex:0,"aria-label":j6(o,l),title:o.helperText,children:[a.jsx("p",{className:ce("font-semibold text-slate-800",s?"text-[11px]":"text-xs"),children:o.title}),a.jsx("p",{className:ce("mt-1.5 font-bold leading-none text-slate-900",s?"text-2xl":"text-[30px]"),children:LA(o.value)}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px]",children:[a.jsx("span",{className:"text-slate-500",children:o.subLabel??" "}),u?a.jsx("span",{className:ce("font-semibold",f),children:u}):null]}),d?a.jsxs("div",{className:"mt-2 border-t border-slate-200 pt-1.5 text-[11px]",children:[a.jsx("span",{className:"text-slate-500",children:": "}),a.jsx("span",{className:ce("font-semibold",f),children:d})]}):null]})}),l<e.length-1?a.jsx("li",{"aria-hidden":"true",className:"flex shrink-0 items-center justify-center px-0.5 text-slate-300",children:a.jsx(vs,{size:18})}):null]},o.id)})})})})}const pg=6e4,mg=30*6e4,L_e={funnelData:[],bottleneckData:[],linkageData:[],regionData:[]};function E6(e){if(e.level!=="nation"&&e.subRegions?.length)return e.subRegions.map(t=>({code:t.id,name:t.name}))}function _6(e,t,r,n){const s=e.subRegions?.length?e.subRegions.map(i=>i.id).join("|"):"none";return["dashboard",e.level,e.regionCode??"KR",s,t,n??"default",r]}function $_e(e,t,r,n={}){const s=Y6(),i=y.useMemo(()=>E6(e),[e]),o=n.loadDrilldown??!1,l=n.periodVariant,u=y.useMemo(()=>_6(e,t,r,l),[e,t,l,r]),d=d1({queryKey:[...u,"kpis"],queryFn:async()=>(await rq(t,l)).kpis,placeholderData:u1,staleTime:pg,gcTime:mg,refetchOnWindowFocus:!1}),f=d1({queryKey:[...u,"bundle"],queryFn:()=>w6(t,i,e.level,e.regionCode,l),placeholderData:u1,staleTime:pg,gcTime:mg,refetchOnWindowFocus:!1}),m=d1({queryKey:[...u,"drilldown"],queryFn:async()=>{const[S,j,A,_]=await Promise.all([T_e(t,l),k_e(t,l),O_e(t,l),R_e(t,l)]);return{funnelData:S.stages,bottleneckData:j.metrics,linkageData:A.metrics,regionData:_.rows}},enabled:o,placeholderData:u1,staleTime:pg,gcTime:mg,refetchOnWindowFocus:!1}),h=y.useCallback(S=>{const j=E6(S),A=_6(S,t,r,l);s.prefetchQuery({queryKey:[...A,"bundle"],queryFn:()=>w6(t,j,S.level,S.regionCode,l),staleTime:pg,gcTime:mg})},[t,l,s,r]),x=!!(f.data&&d.data),v=x&&(f.isFetching||o&&m.isFetching),N=x&&!v&&d.isFetching,b=x?v?"loadingScopeChange":N?"refreshing":"ready":"loadingInitial";return{centralKpis:d.data??[],dashData:f.data??null,drilldownData:m.data??L_e,loadingStage:b,isInitialLoading:b==="loadingInitial",isScopeChangeLoading:b==="loadingScopeChange",isRefreshing:b==="refreshing",prefetchScope:h}}function F_e({visible:e,stage:t="scopeChange",label:r,className:n}){if(!e)return null;const s=r??(t==="refreshing"?"   ":"  ");return a.jsxs("div",{className:ce("pointer-events-none absolute inset-0 z-30",n),children:[a.jsx("div",{className:ce("absolute inset-0 transition-opacity duration-300",t==="scopeChange"?"bg-white/35 backdrop-blur-[1px]":"bg-white/18")}),a.jsx("div",{className:"absolute inset-x-0 top-0 h-0.5 overflow-hidden bg-blue-100/90",children:a.jsx("div",{className:"ns-loading-overlay-bar h-full w-1/3 bg-blue-600"})}),a.jsx("div",{className:"absolute right-3 top-3 rounded-md border border-blue-100 bg-white/90 px-2 py-1 text-[11px] font-medium text-blue-700 shadow-sm",children:s})]})}function aq({value:e,className:t,decimals:r=0,duration:n=420,locale:s="ko-KR",formatter:i,prefix:o="",suffix:l=""}){const[u,d]=y.useState(e),f=y.useRef(e),m=y.useRef(null);y.useEffect(()=>{if(!Number.isFinite(e)){d(e),f.current=e;return}const x=performance.now(),v=f.current,N=e;if(!Number.isFinite(v)||n<=0){d(N),f.current=N;return}m.current&&cancelAnimationFrame(m.current);const b=S=>{const j=Math.min(1,(S-x)/n),A=1-Math.pow(1-j,3),_=v+(N-v)*A;d(_),j<1?m.current=requestAnimationFrame(b):(f.current=N,m.current=null)};return m.current=requestAnimationFrame(b),()=>{m.current&&cancelAnimationFrame(m.current),m.current=null}},[n,e]);const h=i?i(u):new Intl.NumberFormat(s,{minimumFractionDigits:r,maximumFractionDigits:r}).format(u);return a.jsx("span",{className:ce("tabular-nums",t),children:`${o}${h}${l}`})}function B_e({metricByCode:e,childrenCodes:t,nameMap:r,sortOrder:n="desc",limit:s=5,excludeCodes:i=[],onMissingName:o}){const l=new Set(i);return t.filter(d=>!l.has(d)).map(d=>{const f=e[d],m=r[d];return m||o?.(d),{code:d,name:m||`: ${d}`,value:f}}).filter(d=>d.value!=null&&Number.isFinite(d.value)).sort((d,f)=>{const m=n==="desc"?f.value-d.value:d.value-f.value;if(m!==0)return m;const h=d.name.localeCompare(f.name,"ko-KR");return h!==0?h:d.code.localeCompare(f.code)}).slice(0,s).map((d,f)=>({...d,rank:f+1}))}function U_e({top5:e,childrenCodes:t,parentRegionCode:r}){const n=new Set(t),s=e.some(l=>!n.has(l.code)),i=r!=null&&e.some(l=>l.code===r),o=!s&&!i;return console.assert(o,"[Top5] invalid candidate detected",{top5Codes:e.map(l=>l.code),parentRegionCode:r,childrenCodes:t}),o}function z_e(){const e=y.useRef(null),[t,r]=y.useState({width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080}),n=y.useRef(null);return y.useEffect(()=>{const s=e.current;if(!s)return;const i=()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{const u=s.getBoundingClientRect();r(d=>d.width===u.width&&d.height===u.height?d:{width:u.width,height:u.height})})},o=new ResizeObserver(i);o.observe(s);const l=()=>i();return window.addEventListener("resize",l,{passive:!0}),i(),()=>{o.disconnect(),window.removeEventListener("resize",l),n.current&&cancelAnimationFrame(n.current)}},[]),[e,t]}const Fp={blue:"#3b82f6",red:"#ef4444",green:"#22c55e",orange:"#f59e0b",cyan:"#06b6d4"},A6=[{id:"total_cases",label:" ",unit:"",color:"blue",iconBg:"bg-blue-100 text-blue-600",getValue:e=>Math.round(An(`${e}-new`,1200,2800))},{id:"completion",label:" ",unit:"",color:"green",iconBg:"bg-green-100 text-green-600",getValue:e=>Math.round(An(`${e}-progress`,800,1500))},{id:"consultation_time",label:"SLA ",unit:"%",color:"red",iconBg:"bg-red-100 text-red-600",getValue:e=>Number(An(`${e}-sla`,2.5,8.5).toFixed(1))},{id:"followup_dropout",label:" ",unit:"%",color:"orange",iconBg:"bg-amber-100 text-amber-600",getValue:e=>Number(An(`${e}-data`,3,12).toFixed(1))},{id:"dropout",label:" ",unit:"%",color:"purple",iconBg:"bg-purple-100 text-purple-600",getValue:e=>Number(An(`${e}-recontact`,5,15).toFixed(1))}],H_e=e=>{const{cx:t,cy:r,midAngle:n,innerRadius:s,outerRadius:i,percent:o,name:l}=e;if(o*100<5)return null;const u=Math.PI/180,d=s+(i-s)*.5,f=t+d*Math.cos(-n*u),m=r+d*Math.sin(-n*u);return a.jsx("text",{x:f,y:m,fill:"#fff",textAnchor:"middle",dominantBaseline:"central",fontSize:10,fontWeight:600,style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:`${(o*100).toFixed(1)}%`})},q_e=e=>{let t=0;for(let r=0;r<e.length;r++)t=t*31+e.charCodeAt(r)>>>0;return t},An=(e,t,r)=>{const n=q_e(e)%1e3/1e3;return t+(r-t)*n},C6=["#3b82f6","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4"];function G_e({kpiDef:e,data:t,colorIndex:r,analyticsPeriod:n}){if(!t)return a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 h-[80px] flex items-center justify-center border border-gray-200 shadow-sm",children:a.jsx("div",{className:"w-full h-10 bg-gray-100 rounded animate-pulse"})});const{dailyData:s,current:i,baseline:o,target:l,unit:u,higherBetter:d}=t,f=C6[r%C6.length],m=d?i>=l:i<=l,h=n==="week"?0:n==="month"?2:n==="year"?3:0,x=["bg-blue-50/50","bg-green-50/50","bg-amber-50/50","bg-purple-50/50","bg-pink-50/50","bg-cyan-50/50"],v=x[r%x.length];return a.jsxs("div",{className:`${v} rounded-lg p-2 border border-gray-200 shadow-sm`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1 pb-1 border-b border-gray-200/60",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:f}}),a.jsx("span",{className:"text-[12px] font-semibold text-gray-700 truncate",children:e.name})]}),a.jsxs("span",{className:`text-[13px] font-bold flex-shrink-0 ${m?"text-green-600":"text-amber-600"}`,children:[i,u]})]}),a.jsx("div",{style:{height:"90px"},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(xb,{data:s,margin:{top:5,right:5,left:-18,bottom:2},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`kpiGrad-${e.id}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:f,stopOpacity:.35}),a.jsx("stop",{offset:"100%",stopColor:f,stopOpacity:.05})]})}),a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx(en,{dataKey:"date",tick:{fontSize:14,fill:"#374151",fontWeight:500},tickLine:!1,axisLine:{stroke:"#d1d5db"},interval:h}),a.jsx($r,{tick:{fontSize:13,fill:"#6b7280"},tickLine:!1,axisLine:!1,domain:["auto","auto"],width:30}),a.jsx(pr,{contentStyle:{fontSize:"14px",padding:"6px 10px",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},formatter:N=>[`${N}${u}`,e.name],labelFormatter:N=>`${N}`}),a.jsx(Vs,{y:l,stroke:"#ef4444",strokeDasharray:"4 2",strokeWidth:1.5,label:{value:"",fontSize:12,fill:"#ef4444",position:"right"}}),a.jsx(Vs,{y:o,stroke:"#9ca3af",strokeDasharray:"3 3",strokeWidth:1}),a.jsx(Ci,{type:"monotone",dataKey:"value",fill:`url(#kpiGrad-${e.id})`,stroke:"none",isAnimationActive:!0,animationDuration:500,animationEasing:"ease-out"}),a.jsx(bn,{type:"monotone",dataKey:"value",stroke:f,strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:500,animationEasing:"ease-out",activeDot:{r:4,fill:f,stroke:"#fff",strokeWidth:2}})]})})})]})}function Bp({title:e,isOpen:t,onToggle:r,summary:n,children:s,className:i=""}){return a.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg overflow-hidden ${i}`,children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between px-3 py-2 hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-700",children:e}),a.jsxs("div",{className:"flex items-center gap-2",children:[!t&&n&&a.jsx("span",{className:"text-[11px] text-gray-400 truncate max-w-[120px]",children:n}),t?a.jsx(Ks,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"}):a.jsx(Hn,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"})]})]}),t&&a.jsx("div",{className:"border-t border-gray-100 px-3 py-2",children:s})]})}function T6({title:e,badge:t,height:r=280,children:n,className:s=""}){return a.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col ${s}`,style:{height:`${r}px`},children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 shrink-0",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-700",children:e}),t]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 min-h-0",children:n})]})}const K_e={SIGNAL_QUALITY:a.jsx(da,{className:"h-4 w-4"}),POLICY_IMPACT:a.jsx(n7,{className:"h-4 w-4"}),BOTTLENECK_RISK:a.jsx(lo,{className:"h-4 w-4"}),DATA_READINESS:a.jsx(s7,{className:"h-4 w-4"}),GOVERNANCE_SAFETY:a.jsx(co,{className:"h-4 w-4"})};function W_e({data:e,color:t,width:r=80,height:n=28}){if(!e||e.length<2)return null;const s=Math.min(...e),o=Math.max(...e)-s||1,l=e.map((u,d)=>{const f=d/(e.length-1)*r,m=n-(u-s)/o*(n-4)-2;return`${f},${m}`}).join(" ");return a.jsx("svg",{width:r,height:n,className:"flex-shrink-0",children:a.jsx("polyline",{points:l,fill:"none",stroke:t,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}const V_e={LAST_24H:"24h",LAST_7D:"7",LAST_30D:"30",LAST_90D:"90"},Y_e={weekly:"LAST_7D",monthly:"LAST_30D",quarterly:"LAST_90D",yearly_cum:"LAST_90D"},X_e={weekly:"",monthly:"",quarterly:"",yearly_cum:"()"};function Q_e({lines:e,color:t,timeWindow:r,periodLabel:n,anchorRef:s,visible:i}){const o=y.useRef(null),[l,u]=y.useState(null);if(y.useEffect(()=>{if(!i||!s.current){u(null);return}const f=s.current.getBoundingClientRect(),m=300,h=90;let x=f.bottom+6,v=f.left+f.width/2-m/2;v<8&&(v=8),v+m>window.innerWidth-8&&(v=window.innerWidth-m-8),x+h>window.innerHeight-8&&(x=f.top-h-6),u({top:x,left:v})},[i,s]),!i||!l)return null;const d=[e[0],e[1].replace("{period}",` (${n??V_e[r]})`),e[2]];return _f.createPortal(a.jsxs("div",{ref:o,role:"tooltip",className:"fixed z-[9999] rounded-lg shadow-lg border border-gray-200 bg-white text-left pointer-events-none",style:{top:l.top,left:l.left,maxWidth:320,minWidth:260},children:[a.jsx("div",{className:"h-[3px] rounded-t-lg",style:{backgroundColor:t}}),a.jsx("div",{className:"px-3 py-2.5 space-y-1",children:d.map((f,m)=>a.jsx("p",{className:`text-[11px] leading-[1.5] ${m===0?"font-semibold text-gray-800":m===1?"text-gray-500":"text-gray-600"}`,children:f},m))})]}),document.body)}function Z_e({kpi:e,def:t,isActive:r,onClick:n,tooltipLines:s,tooltipColor:i,timeWindow:o,periodLabel:l}){const u=D_e[t.id],d=t.higherBetter?e.delta7d>=0?"text-green-600":"text-red-600":e.delta7d<=0?"text-green-600":"text-red-600",f=t.higherBetter?e.value>=t.target:e.value<=t.target,m=y.useRef(null),[h,x]=y.useState(!1),v=y.useRef(),N=y.useCallback(()=>{v.current=setTimeout(()=>x(!0),200)},[]),b=y.useCallback(()=>{clearTimeout(v.current),x(!1)},[]);return y.useEffect(()=>()=>clearTimeout(v.current),[]),a.jsxs(a.Fragment,{children:[a.jsxs("button",{ref:m,onClick:n,onMouseEnter:N,onMouseLeave:b,onFocus:N,onBlur:b,onKeyDown:S=>{S.key==="Escape"&&b()},"aria-describedby":h?`kpi-tip-${t.id}`:void 0,className:`relative flex flex-col gap-1.5 px-3 py-2.5 rounded-xl border-2 transition-all min-w-[170px] text-left ${r?`${u.border} ${u.bg} shadow-md ring-2 ring-offset-1 ring-${u.border.replace("border-","")}/30`:"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`p-1 rounded-md ${r?u.bg:"bg-gray-100"} ${r?u.text:"text-gray-500"}`,children:K_e[t.id]}),a.jsx("span",{className:`text-[11px] font-semibold truncate ${r?u.text:"text-gray-600"}`,children:t.shortName}),a.jsx("div",{className:"ml-auto",children:a.jsx(W_e,{data:e.sparkline||[],color:r?u.text.replace("text-","#").replace("-700",""):"#9ca3af"})})]}),a.jsxs("div",{className:"flex items-end gap-1.5",children:[a.jsxs("span",{className:`text-lg font-bold tabular-nums ${r?u.text:"text-gray-800"}`,children:[a.jsx(aq,{value:e.value,decimals:t.unit==="%"?1:0}),t.unit]}),a.jsxs("span",{className:`text-[11px] font-medium ${d}`,children:[e.delta7d>0?"+":"",e.delta7d,"pp"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-gray-200 overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${f?"bg-green-500":"bg-amber-400"}`,style:{width:`${Math.min(100,e.value/t.target*100)}%`}})}),a.jsxs("span",{className:"text-[10px] text-gray-400",children:[" ",t.target,t.unit]})]}),a.jsxs("div",{className:"text-[10px] text-gray-400",children:[e.numerator.toLocaleString()," / ",e.denominator.toLocaleString()]})]}),a.jsx(Q_e,{lines:s,color:i,timeWindow:o,periodLabel:l,anchorRef:m,visible:h})]})}function J_e({stages:e}){const t=e[0]?.count??0,r=e.map((n,s)=>{const i=t>0?Number((n.count/t*100).toFixed(1)):0,o=s===0?void 0:n.conversionRate,l=o==null?"neutral":o>=80?"good":o>=55?"warn":"bad";return{id:`funnel-${n.stage}-${s}`,title:n.label,value:n.count,subLabel:" ",percentOfTotal:i,conversionFromPrev:o,status:l}});return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-3",children:"  "}),a.jsx(M_e,{steps:r,ariaLabel:"    ",density:"compact",layout:"scroll"})]})}function eAe({metrics:e}){const t=[{key:"consent",label:"",color:"#8b5cf6"},{key:"readiness",label:" Readiness",color:"#3b82f6"},{key:"blocked",label:" ",color:"#ef4444"},{key:"system",label:" ",color:"#06b6d4"}];return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-3",children:" "}),a.jsx("div",{className:"space-y-3",children:t.map(r=>{const n=e.filter(s=>s.category===r.key);return n.length===0?null:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),a.jsx("span",{className:"text-[11px] font-semibold text-gray-600",children:r.label})]}),a.jsx("div",{className:"space-y-1",children:n.map(s=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1 text-[11px] text-gray-600 truncate",children:s.label}),a.jsxs("span",{className:`text-[11px] font-bold ${s.status==="red"?"text-red-600":s.status==="yellow"?"text-amber-600":"text-green-600"}`,children:[s.value,s.unit]}),a.jsx("span",{className:`w-2 h-2 rounded-full ${s.status==="red"?"bg-red-500":s.status==="yellow"?"bg-amber-400":"bg-green-500"}`})]},s.key))})]},r.key)})})]})}function tAe({metrics:e}){return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-3",children:" & "}),a.jsx("div",{className:"space-y-3",children:e.map(t=>a.jsxs("div",{className:"border border-gray-100 rounded-lg p-2.5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-700",children:t.stage==="stage2"?"2 ":"3 "}),a.jsxs("span",{className:`text-sm font-bold ${t.linkageRate>=60?"text-green-600":t.linkageRate>=40?"text-amber-600":"text-red-600"}`,children:[t.linkageRate,"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px] mb-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"median "}),a.jsxs("div",{className:"font-semibold text-gray-800",children:[t.medianLeadTimeDays,""]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:" "}),a.jsxs("div",{className:"font-semibold text-red-600",children:[t.blockedCount,""]})]})]}),t.blockedReasons.length>0&&a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("span",{className:"text-[10px] text-gray-400",children:" "}),t.blockedReasons.map(r=>a.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[a.jsx("span",{className:"text-gray-600",children:r.reason}),a.jsxs("span",{className:"font-medium text-gray-800",children:[r.count,""]})]},r.reason))]})]},t.stage))})]})}function rAe({rows:e}){const t=r=>r.replace(/||||$/g,"").trim()||r.slice(0,2);return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-700 mb-2",children:["   ",a.jsx("span",{className:"text-[10px] text-gray-400 ml-1",children:"(worst-first)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-[11px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"px-1.5 py-1 text-left font-medium text-gray-600 sticky left-0 bg-gray-50 z-10",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:"%"}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""})]})}),a.jsx("tbody",{children:e.map((r,n)=>a.jsxs("tr",{className:`border-b border-gray-100 hover:bg-amber-50/30 ${n<3?"bg-red-50/30":""}`,children:[a.jsx("td",{className:"px-1.5 py-1 font-medium text-gray-800 sticky left-0 bg-inherit z-10",children:t(r.regionName)}),a.jsxs("td",{className:"px-1.5 py-1 text-right tabular-nums",children:[r.signalQuality,"%"]}),a.jsxs("td",{className:"px-1.5 py-1 text-right tabular-nums",children:[r.policyImpact,"%"]}),a.jsxs("td",{className:`px-1.5 py-1 text-right tabular-nums font-medium ${r.bottleneckRisk>40?"text-red-600":""}`,children:[r.bottleneckRisk,"%"]}),a.jsxs("td",{className:"px-1.5 py-1 text-right tabular-nums",children:[r.dataReadiness,"%"]}),a.jsxs("td",{className:"px-1.5 py-1 text-right tabular-nums",children:[r.governanceSafety,"%"]}),a.jsxs("td",{className:`px-1.5 py-1 text-right tabular-nums font-medium ${r.blockedPct>20?"text-red-600":r.blockedPct>15?"text-amber-600":"text-green-600"}`,children:[r.blockedPct,"%"]}),a.jsx("td",{className:"px-1.5 py-1 text-right tabular-nums",children:r.backlogCount})]},r.regionCode))})]})})]})}function k6({onNavigate:e}){const t="total_cases",[r,n]=y.useState("weekly"),s=y.useMemo(()=>Y_e[r],[r]),i=X_e[r],o=y.useMemo(()=>({weekly:"week",monthly:"month",quarterly:"quarter",yearly_cum:"year"})[r],[r]),[l,u]=y.useState("geomap"),[d,f]=y.useState(null),[m,h]=y.useState(!1),[x,v]=y.useState({opsSummary:!1,ageRisk:!1,kpiTable:!1}),N=y.useCallback(ee=>{v(ue=>({...ue,[ee]:!ue[ee]}))},[]),[b,S]=y.useState(!1),[j,A]=y.useState(!1),[_,E]=y.useState({slaMatrix:!1,stageDistribution:!1}),C=y.useCallback(ee=>{E(ue=>({...ue,[ee]:!ue[ee]}))},[]),R=t,[I,O]=z_e(),[B,q]=y.useState(null),[F,Y]=y.useState([]),D=y.useCallback(ee=>{Y(ee.map(ue=>({id:ue.code,name:ue.name})))},[]),[G,U]=y.useState("SIGNAL_QUALITY"),[V,M]=y.useState(!1),Q=y.useMemo(()=>nq(),[]),J=y.useMemo(()=>tE[G],[G]),P=y.useMemo(()=>eE[J],[J]),K=y.useMemo(()=>({SIGNAL_QUALITY:"blue",POLICY_IMPACT:"purple",BOTTLENECK_RISK:"red",DATA_READINESS:"green",GOVERNANCE_SAFETY:"orange"})[G],[G]),{drillLevel:Z,drillPath:se,selectedRegion:ie,drillUp:Se,drillTo:oe,resetDrill:je,setScope:pe}=S_e(),[Ee,me]=y.useState(null),fe=Ee?.code??ie?.code??"national",Xe=y.useMemo(()=>{const ee=O.width||(typeof window<"u"?window.innerWidth:1920);return ee>=1024?"desktop":ee>=768?"tablet":"mobile"},[O.width]);y.useMemo(()=>{const ee=O.width;return ee<768?{left:1,center:1,right:1}:ee<1024?{left:1,center:1,right:1}:{left:1.35,center:2.35,right:2.3}},[O.width]);const H=y.useMemo(()=>S6("left"),[]),ve=y.useMemo(()=>j_e(Z).filter(ee=>["donut","bar","table"].includes(ee.visualization.chartType)&&ee.id!=="total-cases"&&ee.id!=="center-load"&&ee.id!=="case-distribution"&&ee.id!=="kpi-summary-table"),[Z]),Re=y.useMemo(()=>S6("bottom"),[]),Te=y.useMemo(()=>E_e(Z),[Z]),Qe=y.useMemo(()=>{const ee={};return[...H,...ve,...Re,...Te].forEach(ue=>{ee[ue.id]=A_e(ue.id,ie?.code||"KR",Z,r)}),ee},[H,ve,Re,Te,ie,Z,r]),$e=[{id:"11",name:""},{id:"21",name:""},{id:"22",name:""},{id:"23",name:""},{id:"24",name:""},{id:"25",name:""},{id:"26",name:""},{id:"29",name:""},{id:"31",name:""},{id:"33",name:""},{id:"34",name:""},{id:"35",name:""},{id:"36",name:""},{id:"37",name:""},{id:"38",name:""},{id:"39",name:""},{id:"32",name:""}],jt=y.useMemo(()=>{if(Z==="nation")return $e.map(ee=>({code:ee.id,name:ee.name}));if(F.length>0)return F.map(ee=>({code:ee.id,name:ee.name}));if(Z==="sido"&&ie?.code){const ee=FH[ie.code]??[];if(ee.length>0)return ee.map(ue=>({code:ue.code,name:ue.label}))}return[]},[Z,F,ie?.code]),Ze=y.useMemo(()=>GH({level:Z,parentRegionCode:ie?.code,candidates:jt}),[Z,ie?.code,jt]),De=y.useMemo(()=>Ze.children.map(ee=>({id:ee.code,name:ee.name})),[Ze]);y.useEffect(()=>{me(null)},[Z,ie?.code]),y.useEffect(()=>{Ee&&(Ze.childrenCodes.includes(Ee.code)||me(null))},[Ee,Ze.childrenCodes]);const He=y.useMemo(()=>({level:Z,regionCode:ie?.code,regionName:ie?.name,subRegions:De}),[Z,ie,De]),{centralKpis:ge,dashData:Jt,drilldownData:Vt,loadingStage:Lr,isScopeChangeLoading:we,prefetchScope:Me}=$_e(He,s,G,{loadDrilldown:V,periodVariant:r}),{funnelData:Mt,bottleneckData:ar,linkageData:Ur,regionData:Yr}=Vt,ht=y.useMemo(()=>Jt?Jt[J]:null,[Jt,J]),Sn=y.useMemo(()=>(ht?.regions??[]).reduce((ee,ue)=>(ee[ue.regionCode]=ue.value,ee),{}),[ht]),Zt=y.useMemo(()=>B_e({metricByCode:Sn,childrenCodes:Ze.childrenCodes,nameMap:Ze.childrenNameMap,sortOrder:P.legend.direction==="higherWorse"?"desc":"asc",excludeCodes:ie?.code?[ie.code]:[],onMissingName:ee=>{console.warn(`[Top5] missing nameMap for code: ${ee}`)}}),[Sn,Ze.childrenCodes,Ze.childrenNameMap,P.legend.direction,ie?.code]),Lt=y.useMemo(()=>!Ee||!ht?null:ht.regions.find(ee=>ee.regionCode===Ee.code)??null,[ht,Ee]),Pe=y.useMemo(()=>ht?Ee?.code?ht.trend.map((ee,ue)=>({...ee,value:Number((ee.value+An(`${Ee.code}-${J}-trend-${ue}`,-2.8,2.8)).toFixed(1))})):ht.trend:[],[ht,Ee?.code,J]);y.useEffect(()=>{Z==="sido"&&console.assert(Ze.childrenType==="sigungu","[Top5] expected childrenType=sigungu when level=sido",{childrenType:Ze.childrenType})},[Z,Ze.childrenType]),y.useEffect(()=>{Zt.length&&U_e({top5:Zt,childrenCodes:Ze.childrenCodes,parentRegionCode:ie?.code})},[Zt,Ze.childrenCodes,ie?.code]);const $t=y.useMemo(()=>{const ee=o==="week"?1:o==="month"?4.2:o==="year"?52:13,ue=`${fe}-${o}`,Ge=De.map(xr=>({name:xr.name,size:Math.round(An(`${ue}-tree-${xr.id}`,250,3500)*ee)})),st=Math.max(...Ge.map(xr=>xr.size)),lt=Math.min(...Ge.map(xr=>xr.size)),St=P.palette,gr=xr=>{const tt=(xr-lt)/(st-lt||1);return tt<.14?St[0]:tt<.28?St[1]:tt<.42?St[2]:tt<.57?St[3]:tt<.71?St[4]:tt<.85?St[5]:St[6]};return Ge.map(xr=>({...xr,fill:gr(xr.size)}))},[fe,o,P.palette,De]),Nr=y.useMemo(()=>$t.reduce((ee,ue)=>ee+ue.size,0),[$t]),Ut=o==="week"?"":o==="month"?"":o==="year"?"()":"",Xt=y.useMemo(()=>A6.find(ee=>ee.id===R)??A6[0],[R]),Tr=y.useMemo(()=>{const ue={total_cases:{min:300,max:2200},completion:{min:60,max:98},consultation_time:{min:1,max:15},followup_dropout:{min:2,max:20},dropout:{min:3,max:25}}[R]??{min:10,max:100},Ge=`${fe}-${R}-heat`,st=De.map(Ir=>({name:Ir.name,value:An(`${Ge}-${Ir.id}`,ue.min,ue.max)})),lt=Math.max(...st.map(Ir=>Ir.value)),St=Math.min(...st.map(Ir=>Ir.value)),gr=P.palette,xr=Ir=>{const zt=(Ir-St)/(lt-St||1);return zt<.14?gr[0]:zt<.28?gr[1]:zt<.42?gr[2]:zt<.57?gr[3]:zt<.71?gr[4]:zt<.85?gr[5]:gr[6]},tt=new Set([gr[0],gr[1]]);return st.map(Ir=>{const zt=xr(Ir.value);return{name:Ir.name,size:Math.round(Ir.value),fill:zt,textColor:tt.has(zt)?"#1e293b":"#ffffff"}})},[fe,R,P.palette,De]),et=95,rr=93,mr={:[{id:"11010",name:""},{id:"11020",name:""},{id:"11030",name:""},{id:"11040",name:""},{id:"11050",name:""},{id:"11060",name:""},{id:"11070",name:""},{id:"11080",name:""},{id:"11090",name:""},{id:"11100",name:""},{id:"11110",name:""},{id:"11120",name:""},{id:"11130",name:""},{id:"11140",name:""},{id:"11150",name:""},{id:"11160",name:""},{id:"11170",name:""},{id:"11180",name:""},{id:"11190",name:""},{id:"11200",name:""},{id:"11210",name:""},{id:"11220",name:""},{id:"11230",name:""},{id:"11240",name:""},{id:"11250",name:""}],:[{id:"21010",name:""},{id:"21020",name:""},{id:"21030",name:""},{id:"21040",name:""},{id:"21050",name:""},{id:"21060",name:""},{id:"21070",name:""},{id:"21080",name:""},{id:"21090",name:""},{id:"21100",name:""},{id:"21110",name:""},{id:"21120",name:""},{id:"21130",name:""},{id:"21140",name:""},{id:"21150",name:""},{id:"21310",name:""}],:[{id:"22010",name:""},{id:"22020",name:""},{id:"22030",name:""},{id:"22040",name:""},{id:"22050",name:""},{id:"22060",name:""},{id:"22070",name:""},{id:"22310",name:""}],:[{id:"23010",name:""},{id:"23020",name:""},{id:"23030",name:""},{id:"23040",name:""},{id:"23050",name:""},{id:"23060",name:""},{id:"23070",name:""},{id:"23080",name:""},{id:"23310",name:""},{id:"23320",name:""}],:[{id:"24010",name:""},{id:"24020",name:""},{id:"24030",name:""},{id:"24040",name:""},{id:"24050",name:""}],:[{id:"25010",name:""},{id:"25020",name:""},{id:"25030",name:""},{id:"25040",name:""},{id:"25050",name:""}],:[{id:"26010",name:""},{id:"26020",name:""},{id:"26030",name:""},{id:"26040",name:""},{id:"26310",name:""}],:[{id:"29010",name:""}],:[{id:"31011",name:""},{id:"31021",name:""},{id:"31030",name:""},{id:"31041",name:""},{id:"31050",name:""},{id:"31060",name:""},{id:"31070",name:""},{id:"31080",name:""},{id:"31091",name:""},{id:"31101",name:""},{id:"31110",name:""},{id:"31120",name:""},{id:"31130",name:""},{id:"31140",name:""},{id:"31150",name:""},{id:"31160",name:""},{id:"31170",name:""},{id:"31180",name:""},{id:"31191",name:""},{id:"31200",name:""},{id:"31210",name:""},{id:"31220",name:""},{id:"31230",name:""},{id:"31240",name:""},{id:"31250",name:""},{id:"31260",name:""},{id:"31270",name:""},{id:"31280",name:""},{id:"31350",name:""},{id:"31370",name:""},{id:"31380",name:""}],:[{id:"33041",name:""},{id:"33020",name:""},{id:"33030",name:""},{id:"33320",name:""},{id:"33330",name:""},{id:"33340",name:""},{id:"33390",name:""},{id:"33350",name:""},{id:"33360",name:""},{id:"33370",name:""},{id:"33380",name:""}],:[{id:"34011",name:""},{id:"34020",name:""},{id:"34030",name:""},{id:"34040",name:""},{id:"34050",name:""},{id:"34060",name:""},{id:"34070",name:""},{id:"34080",name:""},{id:"34310",name:""},{id:"34330",name:""},{id:"34340",name:""},{id:"34350",name:""},{id:"34360",name:""},{id:"34370",name:""},{id:"34380",name:""}],:[{id:"35011",name:""},{id:"35020",name:""},{id:"35030",name:""},{id:"35040",name:""},{id:"35050",name:""},{id:"35060",name:""},{id:"35310",name:""},{id:"35320",name:""},{id:"35330",name:""},{id:"35340",name:""},{id:"35350",name:""},{id:"35360",name:""},{id:"35370",name:""},{id:"35380",name:""}],:[{id:"36010",name:""},{id:"36020",name:""},{id:"36030",name:""},{id:"36040",name:""},{id:"36060",name:""},{id:"36310",name:""},{id:"36320",name:""},{id:"36330",name:""},{id:"36350",name:""},{id:"36360",name:""},{id:"36370",name:""},{id:"36380",name:""},{id:"36390",name:""},{id:"36400",name:""},{id:"36410",name:""},{id:"36420",name:""},{id:"36430",name:""},{id:"36440",name:""},{id:"36450",name:""},{id:"36460",name:""},{id:"36470",name:""},{id:"36480",name:""}],:[{id:"37011",name:""},{id:"37020",name:""},{id:"37030",name:""},{id:"37040",name:""},{id:"37050",name:""},{id:"37060",name:""},{id:"37070",name:""},{id:"37080",name:""},{id:"37090",name:""},{id:"37100",name:""},{id:"37310",name:""},{id:"37320",name:""},{id:"37330",name:""},{id:"37340",name:""},{id:"37350",name:""},{id:"37360",name:""},{id:"37370",name:""},{id:"37380",name:""},{id:"37390",name:""},{id:"37400",name:""},{id:"37410",name:""},{id:"37420",name:""},{id:"37430",name:""}],:[{id:"38111",name:""},{id:"38030",name:""},{id:"38050",name:""},{id:"38060",name:""},{id:"38070",name:""},{id:"38080",name:""},{id:"38090",name:""},{id:"38100",name:""},{id:"38310",name:""},{id:"38320",name:""},{id:"38330",name:""},{id:"38340",name:""},{id:"38350",name:""},{id:"38360",name:""},{id:"38370",name:""},{id:"38380",name:""},{id:"38390",name:""},{id:"38400",name:""}],:[{id:"39010",name:""},{id:"39020",name:""}],:[{id:"32010",name:""},{id:"32020",name:""},{id:"32030",name:""},{id:"32040",name:""},{id:"32050",name:""},{id:"32060",name:""},{id:"32070",name:""},{id:"32310",name:""},{id:"32320",name:""},{id:"32330",name:""},{id:"32340",name:""},{id:"32350",name:""},{id:"32360",name:""},{id:"32370",name:""},{id:"32380",name:""},{id:"32390",name:""},{id:"32400",name:""},{id:"32410",name:""}]},lr={11010:[{id:"1111051",name:""},{id:"1111053",name:""},{id:"1111055",name:""},{id:"1111057",name:""},{id:"1111060",name:""},{id:"1111064",name:""},{id:"1111068",name:""},{id:"1111070",name:""}],11020:[{id:"1114051",name:""},{id:"1114053",name:""},{id:"1114055",name:""},{id:"1114057",name:""},{id:"1114060",name:""},{id:"1114062",name:""},{id:"1114065",name:""},{id:"1114067",name:""}],11030:[{id:"1117051",name:""},{id:"1117053",name:"2"},{id:"1117055",name:""},{id:"1117057",name:""},{id:"1117060",name:"1"},{id:"1117062",name:"2"},{id:"1117065",name:"1"},{id:"1117067",name:"2"},{id:"1117070",name:""},{id:"1117072",name:""}],11040:[{id:"1120051",name:"2"},{id:"1120053",name:""},{id:"1120055",name:""},{id:"1120057",name:""},{id:"1120060",name:"1"},{id:"1120062",name:"2"},{id:"1120065",name:""},{id:"1120067",name:"1"},{id:"1120070",name:""},{id:"1120072",name:"11"},{id:"1120074",name:"12"},{id:"1120076",name:"21"},{id:"1120078",name:"23"},{id:"1120080",name:""}],11140:[{id:"1144051",name:""},{id:"1144053",name:""},{id:"1144055",name:""},{id:"1144057",name:""},{id:"1144060",name:""},{id:"1144062",name:""},{id:"1144065",name:""},{id:"1144067",name:"1"},{id:"1144070",name:"2"},{id:"1144072",name:""},{id:"1144074",name:"1"},{id:"1144076",name:"2"},{id:"1144078",name:""}],11190:[{id:"1156051",name:""},{id:"1156053",name:"1"},{id:"1156055",name:"2"},{id:"1156057",name:""},{id:"1156060",name:""},{id:"1156062",name:""},{id:"1156065",name:""},{id:"1156067",name:"1"},{id:"1156070",name:"3"},{id:"1156072",name:"4"},{id:"1156074",name:"5"},{id:"1156076",name:"1"},{id:"1156078",name:"2"},{id:"1156080",name:"3"}],11220:[{id:"1165051",name:"1"},{id:"1165053",name:"2"},{id:"1165055",name:"3"},{id:"1165057",name:"4"},{id:"1165060",name:""},{id:"1165062",name:"1"},{id:"1165065",name:"2"},{id:"1165067",name:"3"},{id:"1165070",name:"4"},{id:"1165072",name:""},{id:"1165074",name:"1"},{id:"1165076",name:"2"},{id:"1165078",name:"3"},{id:"1165080",name:"4"},{id:"1165082",name:""}],11230:[{id:"1168051",name:""},{id:"1168053",name:"1"},{id:"1168055",name:"2"},{id:"1168057",name:""},{id:"1168060",name:""},{id:"1168062",name:"1"},{id:"1168064",name:"2"},{id:"1168066",name:"1"},{id:"1168068",name:"2"},{id:"1168070",name:"4"},{id:"1168072",name:"1"},{id:"1168074",name:"2"},{id:"1168076",name:"1"},{id:"1168078",name:"2"},{id:"1168080",name:"1"},{id:"1168082",name:"4"},{id:"1168084",name:""},{id:"1168086",name:"1"},{id:"1168088",name:""},{id:"1168090",name:""}],11240:[{id:"1171051",name:""},{id:"1171053",name:"2"},{id:"1171055",name:"3"},{id:"1171057",name:"4"},{id:"1171060",name:"6"},{id:"1171062",name:"7"},{id:"1171064",name:"1"},{id:"1171066",name:"2"},{id:"1171068",name:""},{id:"1171070",name:"1"},{id:"1171072",name:"2"},{id:"1171074",name:"1"},{id:"1171076",name:"2"},{id:"1171078",name:"1"},{id:"1171080",name:"2"},{id:"1171082",name:"1"},{id:"1171084",name:"2"},{id:"1171086",name:""},{id:"1171088",name:"1"},{id:"1171090",name:"2"},{id:"1171092",name:""},{id:"1171094",name:""}],11250:[{id:"1174051",name:""},{id:"1174053",name:"1"},{id:"1174055",name:"2"},{id:"1174057",name:"1"},{id:"1174060",name:"2"},{id:"1174062",name:"1"},{id:"1174064",name:"2"},{id:"1174066",name:"1"},{id:"1174068",name:"2"},{id:"1174070",name:"3"},{id:"1174072",name:"1"},{id:"1174074",name:"2"},{id:"1174076",name:"3"},{id:"1174078",name:"1"},{id:"1174080",name:"2"},{id:"1174082",name:"3"},{id:"1174084",name:"1"},{id:"1174086",name:"2"}],21010:[{id:"2611051",name:""},{id:"2611053",name:""},{id:"2611055",name:""},{id:"2611057",name:""},{id:"2611060",name:""},{id:"2611062",name:""},{id:"2611064",name:""},{id:"2611066",name:""}],21050:[{id:"2623051",name:"1"},{id:"2623053",name:"2"},{id:"2623055",name:""},{id:"2623057",name:""},{id:"2623060",name:"1"},{id:"2623062",name:"2"},{id:"2623064",name:"1"},{id:"2623066",name:"2"},{id:"2623068",name:"1"},{id:"2623070",name:"3"},{id:"2623072",name:"1"},{id:"2623074",name:"4"},{id:"2623076",name:"1"},{id:"2623078",name:"2"},{id:"2623080",name:"1"},{id:"2623082",name:"2"},{id:"2623084",name:"3"},{id:"2623086",name:"1"},{id:"2623088",name:"2"}],21090:[{id:"2635051",name:"1"},{id:"2635053",name:"2"},{id:"2635055",name:"3"},{id:"2635057",name:"1"},{id:"2635060",name:"2"},{id:"2635062",name:"1"},{id:"2635064",name:"2"},{id:"2635066",name:"3"},{id:"2635068",name:"4"},{id:"2635070",name:""},{id:"2635072",name:"1"},{id:"2635074",name:"2"},{id:"2635076",name:"3"},{id:"2635078",name:"4"},{id:"2635080",name:"1"},{id:"2635082",name:"2"},{id:"2635084",name:"1"},{id:"2635086",name:"2"}],22010:[{id:"2711051",name:""},{id:"2711053",name:""},{id:"2711055",name:"1"},{id:"2711057",name:"2"},{id:"2711060",name:"3"},{id:"2711062",name:""},{id:"2711064",name:"1"},{id:"2711066",name:"2"},{id:"2711068",name:"3"},{id:"2711070",name:"4"},{id:"2711072",name:"1"},{id:"2711074",name:"2"}],22060:[{id:"2726051",name:"1"},{id:"2726053",name:"2"},{id:"2726055",name:"3"},{id:"2726057",name:"4"},{id:"2726060",name:"1"},{id:"2726062",name:"2"},{id:"2726064",name:"3"},{id:"2726066",name:"1"},{id:"2726068",name:"23"},{id:"2726070",name:"4"},{id:"2726072",name:"1"},{id:"2726074",name:"2"},{id:"2726076",name:""},{id:"2726078",name:""},{id:"2726080",name:""},{id:"2726082",name:""},{id:"2726084",name:""},{id:"2726086",name:"1"},{id:"2726088",name:"2"},{id:"2726090",name:"1"},{id:"2726092",name:"2"},{id:"2726094",name:"3"}],23040:[{id:"2818551",name:"1"},{id:"2818553",name:"2"},{id:"2818555",name:""},{id:"2818557",name:"1"},{id:"2818560",name:"2"},{id:"2818562",name:"3"},{id:"2818564",name:""},{id:"2818566",name:"1"},{id:"2818568",name:"2"},{id:"2818570",name:"3"},{id:"2818572",name:"1"},{id:"2818574",name:"2"},{id:"2818576",name:"3"}],23050:[{id:"2820051",name:"1"},{id:"2820053",name:"2"},{id:"2820055",name:"3"},{id:"2820057",name:"4"},{id:"2820060",name:"1"},{id:"2820062",name:"2"},{id:"2820064",name:"3"},{id:"2820066",name:"4"},{id:"2820068",name:"1"},{id:"2820070",name:"2"},{id:"2820072",name:"3"},{id:"2820074",name:"4"},{id:"2820076",name:"5"},{id:"2820078",name:"6"},{id:"2820080",name:""},{id:"2820082",name:"2"},{id:"2820084",name:""},{id:"2820086",name:"1"},{id:"2820088",name:"2"},{id:"2820090",name:""},{id:"2820092",name:"1"}],24010:[{id:"2911051",name:""},{id:"2911053",name:""},{id:"2911055",name:"1"},{id:"2911057",name:"2"},{id:"2911060",name:"1"},{id:"2911062",name:"2"},{id:"2911064",name:"1"},{id:"2911066",name:"2"},{id:"2911068",name:""},{id:"2911070",name:""}],24020:[{id:"2914051",name:""},{id:"2914053",name:"1"},{id:"2914055",name:"2"},{id:"2914057",name:""},{id:"2914060",name:""},{id:"2914062",name:""},{id:"2914064",name:"1"},{id:"2914066",name:"2"},{id:"2914068",name:"1"},{id:"2914070",name:"2"},{id:"2914072",name:""},{id:"2914074",name:"1"},{id:"2914076",name:"2"},{id:"2914078",name:""},{id:"2914080",name:""}],25030:[{id:"3017051",name:""},{id:"3017053",name:"1"},{id:"3017055",name:"2"},{id:"3017057",name:""},{id:"3017060",name:""},{id:"3017062",name:""},{id:"3017064",name:""},{id:"3017066",name:"1"},{id:"3017068",name:"2"},{id:"3017070",name:"3"},{id:"3017072",name:""},{id:"3017074",name:"1"},{id:"3017076",name:"2"},{id:"3017078",name:"1"},{id:"3017080",name:"2"},{id:"3017082",name:"3"},{id:"3017084",name:""},{id:"3017086",name:""},{id:"3017088",name:""},{id:"3017090",name:"1"},{id:"3017092",name:"2"}],25040:[{id:"3020051",name:""},{id:"3020053",name:""},{id:"3020055",name:"1"},{id:"3020057",name:"2"},{id:"3020060",name:"1"},{id:"3020062",name:"2"},{id:"3020064",name:"3"},{id:"3020066",name:""},{id:"3020068",name:""},{id:"3020070",name:""},{id:"3020072",name:""},{id:"3020074",name:""}],26010:[{id:"3111051",name:""},{id:"3111053",name:""},{id:"3111055",name:""},{id:"3111057",name:""},{id:"3111060",name:"1"},{id:"3111062",name:"2"},{id:"3111064",name:""},{id:"3111066",name:""},{id:"3111068",name:""},{id:"3111070",name:""},{id:"3111072",name:"1"},{id:"3111074",name:"2"},{id:"3111076",name:"3"},{id:"3111078",name:"4"},{id:"3111080",name:"5"}],26020:[{id:"3114051",name:""},{id:"3114053",name:""},{id:"3114055",name:""},{id:"3114057",name:""},{id:"3114060",name:""},{id:"3114062",name:""},{id:"3114064",name:""},{id:"3114066",name:""}],29010:[{id:"3611051",name:""},{id:"3611053",name:""},{id:"3611055",name:""},{id:"3611057",name:""},{id:"3611060",name:""},{id:"3611062",name:""},{id:"3611064",name:""},{id:"3611066",name:""},{id:"3611068",name:""},{id:"3611070",name:""},{id:"3611072",name:""},{id:"3611074",name:""},{id:"3611076",name:""},{id:"3611078",name:""},{id:"3611080",name:""},{id:"3611082",name:""}],31011:[{id:"4111051",name:""},{id:"4111053",name:""},{id:"4111055",name:""},{id:"4111057",name:""}],31021:[{id:"4113051",name:""},{id:"4113053",name:""},{id:"4113055",name:""}],31101:[{id:"4128051",name:""},{id:"4128053",name:""},{id:"4128055",name:""}],31191:[{id:"4146051",name:""},{id:"4146053",name:""},{id:"4146055",name:""}],33041:[{id:"4311051",name:""},{id:"4311053",name:""},{id:"4311055",name:""},{id:"4311057",name:""}],33020:[{id:"4313051",name:""},{id:"4313053",name:""},{id:"4313055",name:""},{id:"4313057",name:""},{id:"4313060",name:""},{id:"4313062",name:""},{id:"4313064",name:""},{id:"4313066",name:""},{id:"4313068",name:""},{id:"4313070",name:""},{id:"4313072",name:""},{id:"4313074",name:""},{id:"4313076",name:""},{id:"4313078",name:""}],33030:[{id:"4315051",name:""},{id:"4315053",name:""},{id:"4315055",name:""},{id:"4315057",name:""},{id:"4315060",name:""},{id:"4315062",name:""},{id:"4315064",name:""},{id:"4315066",name:""},{id:"4315068",name:""},{id:"4315070",name:""},{id:"4315072",name:""},{id:"4315074",name:""}],34011:[{id:"4413051",name:""},{id:"4413053",name:""}],34040:[{id:"4420051",name:"1"},{id:"4420053",name:"2"},{id:"4420055",name:"3"},{id:"4420057",name:"4"},{id:"4420060",name:"5"},{id:"4420062",name:"6"},{id:"4420064",name:""},{id:"4420066",name:""},{id:"4420068",name:""},{id:"4420070",name:""},{id:"4420072",name:""},{id:"4420074",name:""},{id:"4420076",name:""},{id:"4420078",name:""},{id:"4420080",name:""},{id:"4420082",name:""}],35011:[{id:"4511051",name:""},{id:"4511053",name:""}],35020:[{id:"4513051",name:""},{id:"4513053",name:""},{id:"4513055",name:""},{id:"4513057",name:"1"},{id:"4513060",name:"2"},{id:"4513062",name:""},{id:"4513064",name:""},{id:"4513066",name:""},{id:"4513068",name:""},{id:"4513070",name:""},{id:"4513072",name:""},{id:"4513074",name:""},{id:"4513076",name:""},{id:"4513078",name:""},{id:"4513080",name:""},{id:"4513082",name:""},{id:"4513084",name:""}],36010:[{id:"4611051",name:"1"},{id:"4611053",name:"2"},{id:"4611055",name:""},{id:"4611057",name:""},{id:"4611060",name:""},{id:"4611062",name:""},{id:"4611064",name:""},{id:"4611066",name:""},{id:"4611068",name:""},{id:"4611070",name:""},{id:"4611072",name:""},{id:"4611074",name:""},{id:"4611076",name:""},{id:"4611078",name:""},{id:"4611080",name:""},{id:"4611082",name:""}],36020:[{id:"4613051",name:""},{id:"4613053",name:""},{id:"4613055",name:""},{id:"4613057",name:""},{id:"4613060",name:""},{id:"4613062",name:""},{id:"4613064",name:""},{id:"4613066",name:""},{id:"4613068",name:""},{id:"4613070",name:""},{id:"4613072",name:""},{id:"4613074",name:""},{id:"4613076",name:""},{id:"4613078",name:""},{id:"4613080",name:""},{id:"4613082",name:""}],37011:[{id:"4711151",name:""},{id:"4711153",name:""},{id:"4711155",name:""},{id:"4711157",name:""},{id:"4711160",name:""},{id:"4711162",name:""},{id:"4711164",name:""},{id:"4711166",name:""}],37020:[{id:"4713051",name:""},{id:"4713053",name:""},{id:"4713055",name:""},{id:"4713057",name:""},{id:"4713060",name:""},{id:"4713062",name:""},{id:"4713064",name:""},{id:"4713066",name:""},{id:"4713068",name:""},{id:"4713070",name:""},{id:"4713072",name:""},{id:"4713074",name:""},{id:"4713076",name:""},{id:"4713078",name:""},{id:"4713080",name:""}],38111:[{id:"4812151",name:""},{id:"4812153",name:""},{id:"4812155",name:""},{id:"4812157",name:""},{id:"4812160",name:""}],38070:[{id:"4825051",name:""},{id:"4825053",name:""},{id:"4825055",name:""},{id:"4825057",name:""},{id:"4825060",name:""},{id:"4825062",name:""},{id:"4825064",name:""},{id:"4825066",name:""},{id:"4825068",name:"1"},{id:"4825070",name:"2"},{id:"4825072",name:"3"},{id:"4825074",name:""},{id:"4825076",name:""},{id:"4825078",name:""},{id:"4825080",name:""},{id:"4825082",name:""},{id:"4825084",name:""}],39010:[{id:"5011051",name:"1"},{id:"5011053",name:"2"},{id:"5011055",name:"1"},{id:"5011057",name:"2"},{id:"5011060",name:"1"},{id:"5011062",name:"2"},{id:"5011064",name:"1"},{id:"5011066",name:"2"},{id:"5011068",name:""},{id:"5011070",name:""},{id:"5011072",name:""},{id:"5011074",name:""},{id:"5011076",name:""},{id:"5011078",name:""},{id:"5011080",name:""},{id:"5011082",name:""},{id:"5011084",name:""},{id:"5011086",name:""},{id:"5011088",name:""},{id:"5011090",name:""},{id:"5011092",name:""},{id:"5011094",name:""},{id:"5011096",name:""},{id:"5011098",name:""},{id:"5011100",name:""}],39020:[{id:"5013051",name:""},{id:"5013053",name:""},{id:"5013055",name:""},{id:"5013057",name:""},{id:"5013060",name:""},{id:"5013062",name:""},{id:"5013064",name:""},{id:"5013066",name:""},{id:"5013068",name:""},{id:"5013070",name:""},{id:"5013072",name:""},{id:"5013074",name:""},{id:"5013076",name:""},{id:"5013078",name:""},{id:"5013080",name:""},{id:"5013082",name:""}],32010:[{id:"5111051",name:""},{id:"5111053",name:""},{id:"5111055",name:""},{id:"5111057",name:""},{id:"5111060",name:""},{id:"5111062",name:"1"},{id:"5111064",name:"2"},{id:"5111066",name:"3"},{id:"5111068",name:""},{id:"5111070",name:""},{id:"5111072",name:""},{id:"5111074",name:""},{id:"5111076",name:""},{id:"5111078",name:""},{id:"5111080",name:""},{id:"5111082",name:""},{id:"5111084",name:""},{id:"5111086",name:""},{id:"5111088",name:""}],32020:[{id:"5113051",name:""},{id:"5113053",name:""},{id:"5113055",name:""},{id:"5113057",name:"1"},{id:"5113060",name:"2"},{id:"5113062",name:""},{id:"5113064",name:""},{id:"5113066",name:""},{id:"5113068",name:""},{id:"5113070",name:""},{id:"5113072",name:"1"},{id:"5113074",name:"2"},{id:"5113076",name:""},{id:"5113078",name:""},{id:"5113080",name:""},{id:"5113082",name:""},{id:"5113084",name:""},{id:"5113086",name:""},{id:"5113088",name:""},{id:"5113090",name:""}],32030:[{id:"5115051",name:"1"},{id:"5115053",name:"2"},{id:"5115055",name:"1"},{id:"5115057",name:"2"},{id:"5115060",name:""},{id:"5115062",name:""},{id:"5115064",name:""},{id:"5115066",name:""},{id:"5115068",name:""},{id:"5115070",name:""},{id:"5115072",name:""},{id:"5115074",name:""},{id:"5115076",name:""},{id:"5115078",name:""},{id:"5115080",name:""},{id:"5115082",name:""}]},Sr=y.useMemo(()=>{const ee=[{id:"11",name:""},{id:"21",name:""},{id:"22",name:""},{id:"23",name:""},{id:"24",name:""},{id:"25",name:""},{id:"26",name:""},{id:"29",name:""},{id:"31",name:""},{id:"33",name:""},{id:"34",name:""},{id:"35",name:""},{id:"36",name:""},{id:"37",name:""},{id:"38",name:""},{id:"39",name:""},{id:"32",name:""}];let ue;if(Z==="nation")ue=ee;else if(F.length>0)ue=F;else if(Z==="sido"){const Ge={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},st=ie?.name||"",lt=Ge[st]||st.replace(/||||$/g,"").trim()||st;ue=mr[lt]||ee}else{const Ge=ie?.code||"00",st=lr[Ge];if(st)ue=st;else{const lt=ie?.name||"";if(lt.endsWith("")){const St=lt.slice(0,-1);ue=[{id:`${Ge}-E1`,name:`${St}`},{id:`${Ge}-E2`,name:""},{id:`${Ge}-E3`,name:""},{id:`${Ge}-E4`,name:""},{id:`${Ge}-E5`,name:""},{id:`${Ge}-E6`,name:""},{id:`${Ge}-E7`,name:""},{id:`${Ge}-E8`,name:""},{id:`${Ge}-E9`,name:""}]}else ue=[{id:`${Ge}-E1`,name:""},{id:`${Ge}-E2`,name:""},{id:`${Ge}-E3`,name:""},{id:`${Ge}-E4`,name:""},{id:`${Ge}-E5`,name:""},{id:`${Ge}-E6`,name:""},{id:`${Ge}-E7`,name:""},{id:`${Ge}-E8`,name:""}]}}return ue.map(Ge=>{const st=`${fe}-${o}-risk-${Ge.id}`,lt=Number(An(`${st}-sla`,78,100).toFixed(1)),St=Number(An(`${st}-data`,75,100).toFixed(1)),gr=Math.round(An(`${st}-cases`,200,3e3));return{regionId:Ge.id,regionName:Ge.name,slaRate:lt,dataRate:St,totalCases:gr}})},[fe,o,Z,ie,F]),hr=["incoming","inProgress","needRecontact","slaBreach","completed"],cr={incoming:"",inProgress:"",needRecontact:" ",slaBreach:"SLA ",completed:""},sn={incoming:Fp.blue,inProgress:Fp.cyan,needRecontact:Fp.orange,slaBreach:Fp.red,completed:Fp.green},wr=y.useMemo(()=>De.map(ee=>{const ue=`${fe}-${o}-stage-${ee.id}`,Ge=ee.name.length>3?ee.name.replace(/||||$/g,"").trim()||ee.name.slice(0,2):ee.name;return{regionName:Ge.length>4?Ge.slice(0,4):Ge,incoming:Math.round(An(`${ue}-inc`,50,300)),inProgress:Math.round(An(`${ue}-inp`,100,500)),needRecontact:Math.round(An(`${ue}-nrc`,20,150)),slaBreach:Math.round(An(`${ue}-sla`,5,80)),completed:Math.round(An(`${ue}-cmp`,200,800))}}),[fe,o,De]),Oe=y.useMemo(()=>{const ee=["20-39","40-59","60-69","70-79","80+"],ue=`${fe}-${o}-agestat`;return ee.map(Ge=>{const st=`${ue}-${Ge}`;return{age:Ge,normal:Math.round(An(`${st}-n`,120,450)),caution:Math.round(An(`${st}-c`,40,180)),highRisk:Math.round(An(`${st}-h`,15,90)),slaViolation:Math.round(An(`${st}-s`,5,40))}})},[fe,o]),ye=ee=>{const{x:ue,y:Ge,width:st,height:lt,name:St,fill:gr,textColor:xr}=ee;if(!St||st<25||lt<18)return null;const tt=St.length>5?St.replace(/|||/g,"").trim()||St.slice(0,4):St,Ir=xr||"#fff";return a.jsxs("g",{children:[a.jsx("rect",{x:ue,y:Ge,width:st,height:lt,fill:gr,stroke:"#fff",strokeWidth:1.5,rx:2,style:{filter:"brightness(1.0)",transition:"filter 0.2s"}}),st>35&&lt>25&&a.jsx("text",{x:ue+st/2,y:Ge+lt/2,textAnchor:"middle",dominantBaseline:"middle",fill:Ir,fontSize:st>70?10:8,fontWeight:"600",style:{textShadow:Ir==="#ffffff"?"0 1px 2px rgba(0,0,0,0.4)":"none"},children:tt})]})},Ve=y.useCallback(ee=>ee==="nation"?"sido":"sigungu",[]),vt=y.useCallback(({level:ee,code:ue,name:Ge})=>{const lt={sig:"sido",emd:"sigungu"}[ee];lt&&(Me({level:lt,regionCode:ue,regionName:Ge}),pe({code:ue,name:Ge,level:lt},{replace:!0}))},[Me,pe]);y.useEffect(()=>{if(!ht?.worstRegions?.length)return;const ee=Ve(Z);ht.worstRegions.slice(0,3).forEach(ue=>{Me({level:ee,regionCode:ue.regionCode,regionName:ue.regionName})})},[ht,Z,Ve,Me]);const Ot=Lr==="loadingScopeChange"||Lr==="refreshing";return a.jsxs("div",{ref:I,className:"flex flex-col bg-gray-50 h-full min-h-0",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-2 shrink-0",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto flex-1 min-w-0 pb-0.5",children:Q.map(ee=>{const ue=ge.find(Ge=>Ge.kpiId===ee.id);return ue?a.jsx(Z_e,{kpi:ue,def:ee,isActive:G===ee.id,onClick:()=>{U(ee.id)},tooltipLines:eE[tE[ee.id]].tooltipLines,tooltipColor:eE[tE[ee.id]].primaryColor,timeWindow:s,periodLabel:i},ee.id):a.jsx("div",{className:"min-w-[170px] h-[82px] rounded-xl border border-gray-200 bg-gray-50 animate-pulse"},ee.id)})}),a.jsx("div",{className:"w-px h-10 bg-gray-200 shrink-0"}),a.jsxs("button",{onClick:()=>{const ee=!V;M(ee),E({slaMatrix:ee,stageDistribution:ee}),v(ue=>({...ue,opsSummary:ee,ageRisk:ee,kpiTable:ee}))},className:`px-3 py-1.5 text-[11px] font-medium rounded-md transition flex items-center gap-1.5 shrink-0 ${V?"bg-violet-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(kd,{className:"h-3.5 w-3.5"}),V?" ":""]}),a.jsx("div",{className:"w-px h-8 bg-gray-200 shrink-0"}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[se.length>1&&a.jsxs("button",{onClick:Se,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 bg-blue-50 rounded hover:bg-blue-100 transition-colors",children:[a.jsx(au,{className:"h-3 w-3"}),a.jsx("span",{children:""})]}),a.jsx("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:se.map((ee,ue)=>a.jsxs(z.Fragment,{children:[a.jsx("button",{onClick:()=>oe(ue),className:`px-1.5 py-0.5 rounded transition-colors ${ue===se.length-1?"bg-blue-500 text-white font-medium":"hover:bg-gray-200 text-gray-600"}`,children:ee.name}),ue<se.length-1&&a.jsx(vs,{className:"h-3 w-3 text-gray-400"})]},`${ee.level}-${ee.code}`))}),se.length>1&&a.jsx("button",{onClick:je,className:"p-1 text-gray-500 hover:text-blue-600 hover:bg-gray-100 rounded transition-colors",title:" ",children:a.jsx(wf,{className:"h-3.5 w-3.5"})})]}),a.jsx("div",{className:"w-px h-8 bg-gray-200 shrink-0"}),a.jsxs("div",{className:"flex items-center gap-1 text-gray-500 shrink-0",children:[a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"",children:a.jsx(KA,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:" ",children:a.jsx(kd,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"",children:a.jsx(su,{className:"h-4 w-4"})})]})]})}),V&&a.jsxs("div",{className:"bg-gradient-to-b from-slate-50 to-white border-b border-gray-200 px-4 py-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold text-gray-800",children:" "}),a.jsx("span",{className:"text-[11px] text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:i}),G&&a.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:`${P.primaryColor}15`,color:P.primaryColor},children:[P.shortLabel," "]})]}),a.jsx("button",{onClick:()=>M(!1),className:"text-[11px] text-gray-500 hover:text-gray-700 px-2 py-1 rounded hover:bg-gray-100",children:" "})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 max-h-[420px] overflow-y-auto",children:[a.jsx(J_e,{stages:Mt}),a.jsx(eAe,{metrics:ar}),a.jsx(tAe,{metrics:Ur}),a.jsx(rAe,{rows:Yr})]})]}),a.jsxs("div",{className:"relative flex-1 overflow-y-auto min-h-0",children:[a.jsx("div",{className:`transition-opacity duration-300 ${Ot?"opacity-60":"opacity-100"}`,children:a.jsxs("div",{className:`p-2 gap-2 ${Xe==="desktop"?"grid":"flex flex-col"}`,style:Xe==="desktop"?{gridTemplateColumns:"1.2fr 2.2fr 2.6fr",minHeight:"calc(100vh - 140px)",alignItems:"stretch"}:void 0,children:[a.jsxs("div",{className:`flex flex-col gap-2 ${Xe==="desktop"?"min-w-0":Xe==="tablet"?"hidden":"w-full shrink-0"}`,children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-1.5 text-center",children:[a.jsxs("span",{className:"text-[11px] text-blue-700 font-medium",children:[Zj(Z)," "]}),ie&&a.jsxs("span",{className:"ml-1.5 text-[11px] text-blue-600",children:["(",ie.name,")"]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:" KPI "}),a.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:`${P.primaryColor}15`,color:P.primaryColor},children:P.shortLabel})]}),ht?(()=>{const{national:ee,worstRegions:ue,bestRegions:Ge}=ht,st=Lt?.value??ee.value,lt=Lt?`${(Ee?.name||Lt.regionName).replace(/|||/g,"").trim()} `:Z==="nation"?" ":`${ie?.name?.replace(/|||/g,"").trim()||""} `,St=P.higherIsWorse?ee.deltaPP<=0?"text-green-600":"text-red-600":ee.deltaPP>=0?"text-green-600":"text-red-600";return a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[12px] text-gray-500",children:lt}),a.jsx("span",{className:"text-sm font-bold",style:{color:P.primaryColor},children:a.jsx(aq,{value:st,formatter:gr=>P.valueFormatter(gr)})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[12px] text-gray-500",children:" "}),a.jsxs("span",{className:`text-sm font-bold ${St}`,children:[ee.deltaPP>0?"+":"",ee.deltaPP,"pp"]})]}),ee.target!=null&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[12px] text-gray-500",children:""}),a.jsx("span",{className:"text-xs font-semibold text-gray-600",children:P.valueFormatter(ee.target)})]}),Ge[0]&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[12px] text-gray-500",children:[" (",Ge[0].regionName.replace(/|||/g,"").trim(),")"]}),a.jsx("span",{className:"text-xs font-semibold text-green-600",children:P.valueFormatter(Ge[0].value)})]}),ue[0]&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[12px] text-gray-500",children:[" (",ue[0].regionName.replace(/|||/g,"").trim(),")"]}),a.jsx("span",{className:"text-xs font-semibold text-red-600",children:P.valueFormatter(ue[0].value)})]})]})})():a.jsx("div",{className:"h-24 flex items-center justify-center text-xs text-gray-400 animate-pulse",children:" "})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[P.legend.direction==="higherWorse"?"":""," Top 5"]}),a.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:`${P.primaryColor}15`,color:P.primaryColor},children:P.shortLabel})]}),a.jsxs("div",{className:"space-y-0.5",children:[(()=>{if(!Zt.length)return null;const ee=P.legend.direction,ue=Zt.map(St=>St.value),Ge=Math.min(...ue),st=Math.max(...ue),lt=st-Ge||1;return Zt.map((St,gr)=>a.jsxs("div",{role:"button",tabIndex:0,onMouseEnter:()=>{Me({level:Ve(Z),regionCode:St.code,regionName:St.name})},onClick:()=>{me({code:St.code,name:St.name})},onKeyDown:xr=>{(xr.key==="Enter"||xr.key===" ")&&(xr.preventDefault(),me({code:St.code,name:St.name}))},className:`w-full flex items-center gap-2 px-2 py-1.5 rounded transition-colors cursor-pointer select-none ${Ee?.code===St.code?"bg-blue-50 ring-1 ring-blue-200":"hover:bg-gray-50"} ${we?"animate-pulse":""}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full flex items-center justify-center text-[11px] font-bold text-white shrink-0",style:{backgroundColor:gr===0?P.primaryColor:gr===1?`${P.primaryColor}cc`:`${P.primaryColor}88`},children:St.rank}),a.jsx("span",{className:"text-[12px] text-gray-800 truncate min-w-[52px] shrink-0",children:St.name.replace(/|||/g,"").trim()}),a.jsx("div",{className:"flex-1 h-[6px] bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Math.max(10,(ee==="higherWorse"?St.value-Ge:st-St.value)/lt*100)}%`,backgroundColor:P.primaryColor,opacity:.55+.35*(1-gr/5)}})}),a.jsx("span",{className:"text-[12px] font-bold tabular-nums text-right min-w-[42px] shrink-0",style:{color:P.primaryColor},children:P.valueFormatter(St.value)})]},St.code))})(),ht&&Zt.length===0&&a.jsx("div",{className:"text-xs text-gray-400 text-center py-4",children:"   ."}),!ht&&a.jsx("div",{className:"text-xs text-gray-400 text-center py-4 animate-pulse",children:" "})]})]}),a.jsx(Bp,{title:" ",isOpen:x.opsSummary,onToggle:()=>N("opsSummary"),summary:`${Td.filter(ee=>ee.status==="deployed").length} `,children:a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("button",{onClick:()=>e?.("model-governance",{}),className:"w-full flex items-center gap-2 p-2 rounded-md hover:bg-blue-50 transition-colors text-left",children:[a.jsx(lh,{className:"h-4 w-4 text-blue-500 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-900",children:"  "}),a.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[Td.filter(ee=>ee.status==="deployed").length,"   ",Td.filter(ee=>ee.status==="pending").length," "]})]}),a.jsx(qn,{className:"h-3 w-3 text-gray-400 shrink-0"})]}),a.jsxs("button",{onClick:()=>e?.("compliance-audit",{}),className:"w-full flex items-center gap-2 p-2 rounded-md hover:bg-orange-50 transition-colors text-left",children:[a.jsx(ho,{className:"h-4 w-4 text-orange-500 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-900",children:"  "}),a.jsx("div",{className:"text-[11px] text-gray-500",children:" 0   4/4 "})]}),a.jsx(qn,{className:"h-3 w-3 text-gray-400 shrink-0"})]}),a.jsxs("button",{onClick:()=>e?.("quality-monitoring",{}),className:"w-full flex items-center gap-2 p-2 rounded-md hover:bg-purple-50 transition-colors text-left",children:[a.jsx(pc,{className:"h-4 w-4 text-purple-500 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-900",children:" &  "}),a.jsxs("div",{className:"text-[11px] text-gray-500",children:[" ",Jj.filter(ee=>ee.severity!=="info").length,"",Jj.filter(ee=>ee.severity==="critical").length>0&&a.jsxs("span",{className:"ml-1 text-red-600 font-medium",children:["  ",Jj.filter(ee=>ee.severity==="critical").length,""]})]})]}),a.jsx(qn,{className:"h-3 w-3 text-gray-400 shrink-0"})]})]})}),a.jsx(Bp,{title:" / ",isOpen:x.ageRisk,onToggle:()=>N("ageRisk"),summary:"5  2",children:a.jsx("div",{style:{height:"190px"},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:Oe.map(ee=>{const ue=ee.normal+ee.caution+ee.highRisk+ee.slaViolation;return{age:ee.age,slaViolation:ue>0?Number((ee.slaViolation/ue*100).toFixed(1)):0,recontactNeed:ue>0?Number(((ee.highRisk+ee.caution)/ue*100).toFixed(1)):0}}),margin:{top:8,right:4,left:-16,bottom:4},children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx(en,{dataKey:"age",tick:{fontSize:14,fill:"#4b5563"},tickLine:!1}),a.jsx($r,{tick:{fontSize:13,fill:"#6b7280"},tickLine:!1,axisLine:!1,width:32,tickFormatter:ee=>`${ee}%`}),a.jsx(pr,{content:({active:ee,payload:ue,label:Ge})=>!ee||!ue?.length?null:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 shadow-lg text-xs",children:[a.jsxs("div",{className:"font-semibold text-gray-800 mb-1",children:[Ge,""]}),ue.map((st,lt)=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:st.color}}),a.jsxs("span",{children:[st.dataKey==="slaViolation"?"SLA ":" ",": ",Number(st.value).toFixed(1),"%"]})]},lt))]})}),a.jsx(_i,{formatter:ee=>ee==="slaViolation"?"SLA ":" ",wrapperStyle:{fontSize:"13px"}}),a.jsx(On,{dataKey:"slaViolation",fill:"#ef4444",radius:[3,3,0,0],isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out"}),a.jsx(On,{dataKey:"recontactNeed",fill:"#f59e0b",radius:[3,3,0,0],isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out"})]})})})}),a.jsx(Bp,{title:"KPI  ",isOpen:x.kpiTable,onToggle:()=>N("kpiTable"),summary:`${Te.length} `,children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-[12px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"px-1.5 py-1 text-left font-medium text-gray-600",children:"KPI"}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""})]})}),a.jsx("tbody",{children:Te.map(ee=>{const ue=Qe[ee.id];return ue?a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50/30",children:[a.jsx("td",{className:"px-1.5 py-1 truncate max-w-[80px]",children:ee.name}),a.jsxs("td",{className:"px-1.5 py-1 text-right whitespace-nowrap",children:[ue.current,ue.unit]}),a.jsxs("td",{className:"px-1.5 py-1 text-right text-red-600 whitespace-nowrap",children:[(ue.current*.95).toFixed(1),ue.unit]}),a.jsxs("td",{className:"px-1.5 py-1 text-right text-blue-600 whitespace-nowrap",children:[(ue.current*1.03).toFixed(1),ue.unit]})]},ee.id):null})})]})})})]}),a.jsx("div",{className:`${Xe==="desktop"?"min-w-0 flex flex-col":"w-full shrink-0"}`,children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col flex-1",children:[a.jsxs("div",{className:"px-3 py-2 border-b border-gray-200 bg-white rounded-t-lg space-y-1.5",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[Z!=="nation"&&a.jsxs("button",{onClick:Se,className:"flex items-center gap-0.5 px-2 py-1 text-xs text-blue-600 bg-blue-50 rounded hover:bg-blue-100 transition-colors font-medium shrink-0",children:[a.jsx(au,{className:"h-3.5 w-3.5"}),""]}),a.jsxs("span",{className:"text-[12px] text-gray-600",children:[Ut,"  2026  ",a.jsx("span",{className:"font-semibold",style:{color:P.primaryColor},children:P.shortLabel}),"  ",Zj(Z),ie&&a.jsxs("span",{className:"text-gray-500",children:[" (",ie.name,")"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex rounded-md border border-gray-200 overflow-hidden",children:[a.jsx("button",{onClick:()=>u("geomap"),className:`px-2.5 py-1 text-[11px] font-medium transition ${l==="geomap"?"bg-blue-600 text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,children:""}),a.jsx("button",{onClick:()=>u("heatmap"),className:`px-2.5 py-1 text-[11px] font-medium transition border-l border-gray-200 ${l==="heatmap"?"bg-blue-600 text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,children:""})]}),a.jsx("div",{className:"flex items-center gap-0.5",children:["weekly","monthly","quarterly","yearly_cum"].map(ee=>a.jsx("button",{onClick:()=>n(ee),className:`rounded-md px-2.5 py-1 text-[11px] font-medium transition ${r===ee?"bg-blue-600 text-white":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:ee==="weekly"?"":ee==="monthly"?"":ee==="quarterly"?"":"()"},ee))}),a.jsx("button",{className:"h-6 w-6 flex items-center justify-center hover:bg-gray-100 rounded transition-colors ml-auto shrink-0",children:a.jsx(su,{className:"h-3 w-3 text-gray-500"})})]})]}),a.jsx("div",{className:"p-2 min-h-0",children:l==="geomap"?a.jsx(kT,{indicatorId:t,periodType:r,year:2026,scope:{mode:"national"},variant:"portal",mapHeight:670,hideBreadcrumb:!0,externalLevel:Z==="nation"?"ctprvn":Z==="sido"?"sig":"emd",externalSelectedCode:Ee?.code??ie?.code,onRegionSelect:vt,onGoBack:Se,externalColorScheme:K,hideLegendPanel:!0,onSubRegionsChange:D}):a.jsxs("div",{className:"relative w-full",style:{height:"clamp(320px, 44vh, 480px)"},children:[a.jsx(Zr,{width:"100%",height:"100%",children:a.jsx(th,{data:Tr,dataKey:"size",stroke:"#fff",isAnimationActive:!0,animationDuration:520,animationEasing:"ease-out",content:ye})}),B&&(()=>{const ue=[...Tr].sort((lt,St)=>St.size-lt.size).findIndex(lt=>lt.name===B.name)+1,Ge=Tr.reduce((lt,St)=>lt+St.size,0),st=Ge>0?(B.size/Ge*100).toFixed(1):"0";return a.jsxs("div",{className:"absolute z-50 pointer-events-none bg-white border border-gray-200 rounded-lg p-2.5 shadow-xl text-xs min-w-[170px]",style:{left:Math.min(B.x+12,200),top:Math.max(B.y-60,0)},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1 pb-1 border-b border-gray-100",children:[a.jsx("span",{className:"font-semibold text-gray-800",children:B.name}),a.jsx("span",{className:"text-[11px] bg-orange-50 text-orange-600 px-1.5 py-0.5 rounded font-medium",children:r==="weekly"?"":r==="monthly"?"":r==="quarterly"?"":"()"})]}),a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-500",children:t}),a.jsx("span",{className:"font-bold text-blue-600",children:B.size.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("span",{className:"font-bold text-gray-700",children:[ue,"/",Tr.length]})]}),a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("span",{className:"font-bold text-gray-700",children:[st,"%"]})]})]})})()]})}),a.jsxs("div",{className:"mx-2 mb-2 px-3 py-2 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100/80 border border-gray-200/60 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:P.primaryColor}}),a.jsx("span",{className:"text-[12px] font-bold text-gray-600 tracking-wide",children:P.shortLabel}),a.jsx("span",{className:"text-[11px] text-gray-400 ml-auto",children:P.unit})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-500 tabular-nums min-w-[36px] text-right",children:P.legend.format(P.legend.ticks[0])}),a.jsx("div",{className:"flex-1 h-3 rounded-md overflow-hidden flex shadow-inner",children:P.palette.map((ee,ue)=>a.jsx("div",{className:"flex-1 transition-colors",style:{backgroundColor:ee}},ue))}),a.jsx("span",{className:"text-[12px] font-semibold text-gray-500 tabular-nums min-w-[36px]",children:P.legend.format(P.legend.ticks[P.legend.ticks.length-1])})]}),a.jsx("div",{className:"flex items-center justify-center gap-1 mt-1",children:a.jsx("span",{className:"text-[10px] text-gray-400",children:P.legend.direction==="higherBetter"?"  ()   () ":"  ()   () "})})]})]})}),a.jsxs("div",{className:`flex flex-col gap-2 ${Xe==="desktop"?"min-w-0":Xe==="tablet"?"hidden":"w-full shrink-0"}`,children:[a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:P.primaryColor}}),a.jsx("span",{className:"text-[12px] font-semibold text-gray-700 shrink-0",children:P.shortLabel}),a.jsx("p",{className:"text-[11px] text-gray-500 truncate flex-1",title:P.analysisSummary,children:P.analysisSummary})]})}),ht&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(T6,{title:" ",height:300,badge:a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:`${P.primaryColor}15`,color:P.primaryColor},children:ht.breakdownType==="donut"?"":""}),children:[ht.breakdownType==="donut"?a.jsxs("div",{className:"relative",style:{height:"160px"},children:[a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(yT,{children:[a.jsx(Mi,{data:ht.breakdown,cx:"50%",cy:"50%",innerRadius:35,outerRadius:60,dataKey:"value",startAngle:90,endAngle:-270,paddingAngle:2,strokeWidth:0,label:H_e,labelLine:!1,isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out",children:ht.breakdown.map((ee,ue)=>a.jsx(Hs,{fill:ee.color||P.palette[ue%P.palette.length]},ue))}),a.jsx(pr,{formatter:ee=>[ee.toLocaleString(),""],contentStyle:{fontSize:"11px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.12)"}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("div",{className:"text-[10px] text-gray-500",children:""}),a.jsx("div",{className:"text-[12px] font-bold text-gray-800",children:ht.breakdown.reduce((ee,ue)=>ee+ue.value,0).toLocaleString()})]})]}):a.jsx("div",{style:{height:"160px"},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:ht.breakdown,margin:{top:4,right:6,left:-14,bottom:4},children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx(en,{dataKey:"name",tick:{fontSize:10,fill:"#4b5563"},tickLine:!1}),a.jsx($r,{tick:{fontSize:10,fill:"#6b7280"},tickLine:!1,axisLine:!1,width:30}),a.jsx(pr,{contentStyle:{fontSize:"11px",borderRadius:"8px"}}),a.jsx(On,{dataKey:"value",radius:[3,3,0,0],isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out",children:ht.breakdown.map((ee,ue)=>a.jsx(Hs,{fill:ee.color||P.palette[ue%P.palette.length]},ue))})]})})}),a.jsxs("div",{className:"space-y-0.5 mt-1 pt-1 border-t border-gray-100",children:[ht.breakdown.slice(0,b?ht.breakdown.length:3).map((ee,ue)=>a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-600",children:[a.jsx("span",{className:"w-2 h-2 rounded-sm shrink-0",style:{backgroundColor:ee.color||P.palette[ue%P.palette.length]}}),a.jsx("span",{className:"truncate",children:ee.name}),a.jsx("span",{className:"font-semibold text-gray-800 ml-auto tabular-nums",children:ee.value.toLocaleString()})]},ue)),ht.breakdown.length>3&&a.jsx("button",{onClick:()=>S(!b),className:"text-[10px] text-blue-500 hover:text-blue-700 w-full text-center pt-0.5",children:b?"":`+${ht.breakdown.length-3} `})]})]}),a.jsxs(T6,{title:" ",height:300,children:[a.jsx("div",{style:{height:"180px"},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:ht.cause.slice(0,j?ht.cause.length:3),layout:"vertical",margin:{top:4,right:24,left:4,bottom:4},children:[a.jsx(kn,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e5e7eb"}),a.jsx(en,{type:"number",tick:{fontSize:10,fill:"#6b7280"}}),a.jsx($r,{type:"category",dataKey:"name",tick:{fontSize:10,fill:"#4b5563"},width:60}),a.jsx(pr,{contentStyle:{fontSize:"11px",borderRadius:"8px"}}),a.jsx(On,{dataKey:"value",radius:[0,3,3,0],fill:P.primaryColor,isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out",label:{position:"right",fontSize:10,fill:"#374151",formatter:ee=>ee.toLocaleString()},children:ht.cause.slice(0,j?ht.cause.length:3).map((ee,ue)=>a.jsx(Hs,{fill:P.palette[Math.min(ue+1,P.palette.length-2)]},ue))})]})})}),ht.cause.length>3&&a.jsx("button",{onClick:()=>A(!j),className:"text-[10px] text-blue-500 hover:text-blue-700 w-full text-center pt-1",children:j?"":`+${ht.cause.length-3} `})]})]}),ht&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:P.primaryColor}}),a.jsxs("span",{className:"text-[12px] font-semibold text-gray-700",children:[P.shortLabel," ",Ee?.name?` (${Ee.name})`:""]})]}),a.jsx("span",{className:"text-[10px] text-gray-400",children:Ut})]}),a.jsx("div",{style:{height:"160px"},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(xb,{data:Pe,margin:{top:6,right:10,left:-10,bottom:4},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"kpiTrendGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:P.primaryColor,stopOpacity:.25}),a.jsx("stop",{offset:"100%",stopColor:P.primaryColor,stopOpacity:.03})]})}),a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#f3f4f6"}),a.jsx(en,{dataKey:"period",tick:{fontSize:10,fill:"#6b7280"},tickLine:!1}),a.jsx($r,{tick:{fontSize:10,fill:"#9ca3af"},tickLine:!1,axisLine:!1,width:32,tickFormatter:ee=>P.valueFormatter(ee)}),a.jsx(pr,{contentStyle:{fontSize:"11px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.12)"},formatter:ee=>[P.valueFormatter(ee),P.shortLabel]}),P.target!=null&&a.jsx(Vs,{y:P.target,stroke:"#ef4444",strokeDasharray:"4 2",strokeWidth:1.5,label:{value:` ${P.valueFormatter(P.target)}`,fontSize:10,fill:"#ef4444",position:"right"}}),a.jsx(Ci,{type:"monotone",dataKey:"value",fill:"url(#kpiTrendGrad)",stroke:"none",isAnimationActive:!0,animationDuration:500,animationEasing:"ease-out"}),a.jsx(bn,{type:"monotone",dataKey:"value",stroke:P.primaryColor,strokeWidth:2,isAnimationActive:!0,animationDuration:500,animationEasing:"ease-out",dot:!1,activeDot:{r:4,fill:P.primaryColor,stroke:"#fff",strokeWidth:2}})]})})})]}),a.jsxs(Bp,{title:"SLA    ",isOpen:_.slaMatrix,onToggle:()=>C("slaMatrix"),summary:` ${Sr.filter(ue=>ue.slaRate<et&&ue.dataRate<rr).length} `,children:[a.jsxs("div",{className:"flex items-center justify-end gap-2 text-[10px] text-gray-500 mb-1",children:[a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),""]}),a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400"}),""]}),a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),""]})]}),Sr.length>0?a.jsx("div",{style:{height:"220px"},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Yge,{margin:{top:8,right:12,left:-8,bottom:5},children:[a.jsx(kn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(en,{type:"number",dataKey:"dataRate",name:" ",unit:"%",domain:[70,100],tick:{fontSize:11},label:{value:" (%)",position:"insideBottom",offset:-2,fontSize:11,fill:"#6b7280"}}),a.jsx($r,{type:"number",dataKey:"slaRate",name:"SLA ",unit:"%",domain:[70,100],tick:{fontSize:11},label:{value:"SLA(%)",angle:-90,position:"insideLeft",offset:12,fontSize:11,fill:"#6b7280"}}),a.jsx($f,{type:"number",dataKey:"totalCases",range:[30,250],name:" "}),a.jsx(Vs,{x:rr,stroke:"#9ca3af",strokeDasharray:"4 2"}),a.jsx(Vs,{y:et,stroke:"#9ca3af",strokeDasharray:"4 2"}),a.jsx(pr,{content:({active:ee,payload:ue})=>{if(!ee||!ue?.[0])return null;const Ge=ue[0].payload;return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 shadow-lg text-xs",children:[a.jsx("div",{className:"font-semibold text-gray-800 mb-1",children:Ge.regionName}),a.jsxs("div",{children:["SLA : ",a.jsxs("span",{className:"font-medium",children:[Ge.slaRate,"%"]})]}),a.jsxs("div",{children:[" : ",a.jsxs("span",{className:"font-medium",children:[Ge.dataRate,"%"]})]}),a.jsxs("div",{children:[": ",a.jsxs("span",{className:"font-medium",children:[Ge.totalCases.toLocaleString(),""]})]})]})}}),a.jsx(Ff,{data:Sr,isAnimationActive:!0,animationDuration:480,animationEasing:"ease-out",onClick:ee=>{if(ee?.regionId){const ue=Ve(Z);pe({code:ee.regionId,name:ee.regionName,level:ue},{replace:!0})}},children:Sr.map((ee,ue)=>{const Ge=ee.slaRate>=et,st=ee.dataRate>=rr,lt=Ge&&st?"#22c55e":!Ge&&!st?"#ef4444":"#f59e0b";return a.jsx(Hs,{fill:lt,style:{cursor:"pointer"}},ue)})})]})})}):a.jsx("div",{className:"h-[160px] flex items-center justify-center text-xs text-gray-400",children:" "})]}),a.jsx(Bp,{title:"   ()",isOpen:_.stageDistribution,onToggle:()=>C("stageDistribution"),summary:`${wr.length} `,children:wr.length>0?a.jsx("div",{style:{height:"240px"},children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:wr,margin:{top:5,right:8,left:-12,bottom:22},children:[a.jsx(kn,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx(en,{dataKey:"regionName",tick:{fontSize:11,fill:"#4b5563"},interval:0,angle:-35,textAnchor:"end"}),a.jsx($r,{tick:{fontSize:11,fill:"#6b7280"},tickFormatter:ee=>ee>=1e3?`${(ee/1e3).toFixed(0)}K`:String(ee)}),a.jsx(pr,{content:({active:ee,payload:ue,label:Ge})=>{if(!ee||!ue?.length)return null;const st=ue.reduce((lt,St)=>lt+(Number(St.value)||0),0);return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 shadow-lg text-xs",children:[a.jsx("div",{className:"font-semibold text-gray-800 mb-1",children:Ge}),ue.map((lt,St)=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:lt.color}}),a.jsxs("span",{children:[cr[lt.dataKey]||lt.dataKey,": ",Number(lt.value).toLocaleString()," (",st>0?(Number(lt.value)/st*100).toFixed(1):0,"%)"]})]},St)),a.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-100 font-medium",children:[": ",st.toLocaleString(),""]})]})}}),a.jsx(_i,{formatter:ee=>cr[ee]||ee,wrapperStyle:{fontSize:"11px"}}),hr.map(ee=>a.jsx(On,{dataKey:ee,stackId:"stage",fill:sn[ee],isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out"},ee))]})})}):a.jsx("div",{className:"h-[180px] flex items-center justify-center text-xs text-gray-400",children:" "})})]}),Xe==="tablet"&&a.jsxs("div",{className:"flex gap-2 flex-1 min-h-0",children:[a.jsxs("div",{className:"flex-1 flex flex-col gap-2 overflow-y-auto",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 text-center",children:[a.jsxs("span",{className:"text-xs text-blue-700 font-medium",children:[Zj(Z)," "]}),ie&&a.jsxs("span",{className:"ml-2 text-xs text-blue-600",children:["(",ie.name,")"]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:[Ut,"  "]}),a.jsx("div",{className:"text-[11px] text-blue-500 bg-blue-50 px-1.5 py-0.5 rounded",children:Ut})]}),a.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:[Nr.toLocaleString()," ",a.jsx("span",{className:"text-sm font-normal text-gray-500",children:""})]}),a.jsxs("div",{className:"text-[12px] text-gray-500 mb-2",children:[Xt.label," ()"]}),a.jsx("div",{className:"h-[140px]",children:a.jsx(Zr,{width:"100%",height:"100%",children:a.jsx(th,{data:Tr,dataKey:"size",aspectRatio:4/3,stroke:"#fff",isAnimationActive:!0,animationDuration:520,animationEasing:"ease-out",content:a.jsx(ye,{})})})})]})]}),a.jsx("div",{className:"flex-1 flex flex-col gap-2 overflow-y-auto",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex-1",children:[a.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"KPI  "}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Te.slice(0,4).map((ee,ue)=>a.jsx(G_e,{kpiDef:ee,data:Qe[ee.id],colorIndex:ue,analyticsPeriod:o},ee.id))})]})})]})]})}),a.jsx(F_e,{visible:Ot,stage:Lr==="refreshing"?"refreshing":"scopeChange"})]})]})}const nAe={"national-dashboard":"","model-governance":"/  ","quality-monitoring":"& ","compliance-audit":"   "},aAe=["SIGNAL_QUALITY","POLICY_IMPACT","BOTTLENECK_RISK","DATA_READINESS","GOVERNANCE_SAFETY"],sq={SIGNAL_QUALITY:{id:"SIGNAL_QUALITY",category:"",scope:"",definition:{what:"             .",why:"      ,      ."},calculation:{numeratorLabel:"   (validSignals)",denominatorLabel:"    (totalSignals)",includeRules:["Stage0    +      ","         ","       "],excludeRules:["  ,  ,    ","/   ","       "]},interpretation:{high:"   , Stage0/Stage1   .",low:"             ."},linkedModelStages:["Reach","Stage0","Stage1"],usageScreens:[{page:"national-dashboard",label:"",reason:" KPI    "},{page:"quality-monitoring",label:"& ",reason:"  Driver "},{page:"compliance-audit",label:"   ",reason:" /   "}],linkedTabs:[{page:"model-governance",label:"",reason:" /    "},{page:"quality-monitoring",label:"",reason:"  "},{page:"compliance-audit",label:"",reason:"      "}],changeHistory:[{version:"v2.4",changedAt:"2026-02-03",changedBy:" ",definitionChange:"        ",formulaChange:"          ",impactedScreens:["national-dashboard","quality-monitoring","compliance-audit"]},{version:"v2.3",changedAt:"2026-01-20",changedBy:" ",definitionChange:"       1  ",formulaChange:"   citizenId+eventDate  ",impactedScreens:["national-dashboard","quality-monitoring"]},{version:"v2.1",changedAt:"2025-11-18",changedBy:" TF",definitionChange:"     ",formulaChange:"    ",impactedScreens:["national-dashboard","compliance-audit"]}],whyChecklist:["  (window)  ","(validSignals) (totalSignals)    ","/     ","         "]},POLICY_IMPACT:{id:"POLICY_IMPACT",category:"",scope:"",definition:{what:"     KPI   (0~100) .",why:"    , /     ."},calculation:{numeratorLabel:"    (impactScore)",denominatorLabel:"   (maxScore=100)",includeRules:[" (deployed)  (rollback)   ","SLA,  , ,    ","     KPI  "],excludeRules:[" (reviewing)  (pending)  "," /     ","      "]},interpretation:{high:"      ,     .",low:"      ."},linkedModelStages:["Stage1","L1","L2","Stage2"],usageScreens:[{page:"national-dashboard",label:"",reason:"  KPI / "},{page:"model-governance",label:"/  ",reason:"     "},{page:"compliance-audit",label:"   ",reason:"   "}],linkedTabs:[{page:"model-governance",label:"",reason:"   "},{page:"quality-monitoring",label:"",reason:"   /   "},{page:"compliance-audit",label:"",reason:"       "}],changeHistory:[{version:"v3.0",changedAt:"2026-01-24",changedBy:"",definitionChange:"       ",formulaChange:"     (+0.2) ",impactedScreens:["national-dashboard","model-governance","compliance-audit"]},{version:"v2.6",changedAt:"2026-01-10",changedBy:" ",definitionChange:"  7  (window)   ",formulaChange:"      ",impactedScreens:["model-governance","compliance-audit"]},{version:"v2.2",changedAt:"2025-10-28",changedBy:"",definitionChange:"   ( )  ",formulaChange:"  maxScore 120100 ",impactedScreens:["national-dashboard"]}],whyChecklist:["   /   ","  KPI    ","      ","         "]},BOTTLENECK_RISK:{id:"BOTTLENECK_RISK",category:"",scope:"",definition:{what:"SLA , L2 ,        0~100 .",why:"     /     ."},calculation:{numeratorLabel:"   (weightedRisk)",denominatorLabel:"   (maxRisk=100)",includeRules:["SLA , L2 backlog,       ","       ","     "],excludeRules:["/    ","        ","   1 "]},interpretation:{high:"     (/ )  .",low:"        ."},linkedModelStages:["L1","L2","Stage2","Stage3"],usageScreens:[{page:"national-dashboard",label:"",reason:" Top5    "},{page:"quality-monitoring",label:"& ",reason:"  Driver  "},{page:"model-governance",label:"/  ",reason:"    "}],linkedTabs:[{page:"model-governance",label:"",reason:"L2 /   "},{page:"quality-monitoring",label:"",reason:"  Driver   "},{page:"compliance-audit",label:"",reason:"    "}],changeHistory:[{version:"v2.8",changedAt:"2026-01-22",changedBy:"",definitionChange:"      ",formulaChange:" SLA 0.450.40, L2Backlog 0.300.35 ",impactedScreens:["national-dashboard","quality-monitoring","model-governance"]},{version:"v2.4",changedAt:"2025-12-15",changedBy:" ",definitionChange:"    ",formulaChange:"      ",impactedScreens:["national-dashboard","quality-monitoring"]},{version:"v2.0",changedAt:"2025-09-30",changedBy:"  TF",definitionChange:"  KPI    ",formulaChange:"3    ",impactedScreens:["national-dashboard"]}],whyChecklist:["SLA /L2 /  3  ","       ","     ","   L2   "]},DATA_READINESS:{id:"DATA_READINESS",category:"",scope:"",definition:{what:"        .",why:"      ,      ."},calculation:{numeratorLabel:"    (readyCases)",denominatorLabel:"     (totalCases)",includeRules:[" ( )   ","      ","   /  "],excludeRules:["/  ","/   ","        "]},interpretation:{high:"          .",low:"       ."},linkedModelStages:["Stage0","Consent","L0","L1","L2"],usageScreens:[{page:"national-dashboard",label:"",reason:"  KPI / "},{page:"quality-monitoring",label:"& ",reason:"/   "},{page:"compliance-audit",label:"   ",reason:"    "}],linkedTabs:[{page:"model-governance",label:"",reason:" /    "},{page:"quality-monitoring",label:"",reason:" /  "},{page:"compliance-audit",label:"",reason:"      "}],changeHistory:[{version:"v2.5",changedAt:"2026-01-18",changedBy:"  ",definitionChange:"        ",formulaChange:"  linkagePending   ",impactedScreens:["national-dashboard","quality-monitoring","compliance-audit"]},{version:"v2.2",changedAt:"2025-12-03",changedBy:" ",definitionChange:"     ",formulaChange:"    ",impactedScreens:["national-dashboard","quality-monitoring"]},{version:"v1.9",changedAt:"2025-08-21",changedBy:"",definitionChange:"/     ",formulaChange:" /  ",impactedScreens:["national-dashboard"]}],whyChecklist:["  (readyCases)  (totalCases)   ","        ","//     ","       "]},GOVERNANCE_SAFETY:{id:"GOVERNANCE_SAFETY",category:"",scope:"",definition:{what:"   ()     .",why:"    ,       ."},calculation:{numeratorLabel:"    (auditReady)",denominatorLabel:"    (totalAuditable)",includeRules:[", , ,      "," / /   ","      "],excludeRules:[" heartbeat     ","     ","       "]},interpretation:{high:"      ,    .",low:"  /     ."},linkedModelStages:["Stage2","Stage3","PolicyChange"],usageScreens:[{page:"national-dashboard",label:"",reason:"  KPI  "},{page:"compliance-audit",label:"   ",reason:"//  "},{page:"model-governance",label:"/  ",reason:"/   "}],linkedTabs:[{page:"model-governance",label:"",reason:"    "},{page:"quality-monitoring",label:"",reason:" /   "},{page:"compliance-audit",label:"",reason:"    "}],changeHistory:[{version:"v3.1",changedAt:"2026-01-26",changedBy:" ",definitionChange:"     ",formulaChange:"  missingExplanation=0  ",impactedScreens:["national-dashboard","compliance-audit","model-governance"]},{version:"v2.9",changedAt:"2026-01-09",changedBy:"",definitionChange:"     ",formulaChange:"  missingResponsible>0  ",impactedScreens:["compliance-audit","national-dashboard"]},{version:"v2.4",changedAt:"2025-10-10",changedBy:"",definitionChange:"    30  ",formulaChange:"  30   ",impactedScreens:["national-dashboard","compliance-audit"]}],whyChecklist:["  (auditReady)   (totalAuditable) "," (missingExplanation)  (missingResponsible)  ","/    ","       "]}};function sAe(e){return sq[e]}function iAe(){return aAe.map(e=>sq[e])}const O6={LAST_24H:" 24",LAST_7D:" 7",LAST_30D:" 30",LAST_90D:" 90"},rE={:"bg-blue-50 text-blue-700 border-blue-200",:"bg-violet-50 text-violet-700 border-violet-200",:"bg-red-50 text-red-700 border-red-200",:"bg-emerald-50 text-emerald-700 border-emerald-200",:"bg-amber-50 text-amber-700 border-amber-200"},oAe={SIGNAL_QUALITY:{kpi:"SIGNAL_QUALITY",auditId:"ua_002",driver:"data_quality"},POLICY_IMPACT:{kpi:"POLICY_IMPACT",changeId:"chg_20260124",auditId:"ua_004",driver:"model_fitness"},BOTTLENECK_RISK:{kpi:"BOTTLENECK_RISK",changeId:"chg_20260120",auditId:"ua_001",driver:"ops_bottleneck"},DATA_READINESS:{kpi:"DATA_READINESS",auditId:"ua_003",driver:"data_quality"},GOVERNANCE_SAFETY:{kpi:"GOVERNANCE_SAFETY",changeId:"chg_20260110",auditId:"ua_001",driver:"contact_strategy"}},lAe=["national-dashboard","model-governance","quality-monitoring","compliance-audit"];function iq(e,t){const r=oAe[e],n={level:"nation",region:"KR",period:"WEEK",kpi:r.kpi};return t==="model-governance"&&r.changeId&&(n.changeId=r.changeId),t==="quality-monitoring"&&r.driver&&(n.driver=r.driver),t==="compliance-audit"&&r.auditId&&(n.auditId=r.auditId),n}function R6({screens:e,onNavigate:t,kpiId:r}){return a.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.map(n=>a.jsx("button",{type:"button",onClick:()=>t?.(n,iq(r,n)),className:"text-[11px] px-2 py-1 rounded border border-gray-200 bg-white hover:bg-gray-50",children:nAe[n]},n))})}function cAe({onNavigate:e}){const t=y.useMemo(()=>nq(),[]),r=y.useMemo(()=>iAe(),[]),n=y.useMemo(()=>Object.fromEntries(t.map(E=>[E.id,E])),[t]),[s,i]=y.useState(""),[o,l]=y.useState(r[0]?.id??"SIGNAL_QUALITY"),[u,d]=y.useState("LAST_7D"),[f,m]=y.useState([]),[h,x]=y.useState(!1);y.useEffect(()=>{let E=!1;return x(!0),rq(u).then(C=>{E||(m(C.kpis),x(!1))}).catch(()=>{E||(m([]),x(!1))}),()=>{E=!0}},[u]);const v=y.useMemo(()=>{const E=s.trim().toLowerCase();return E?r.filter(C=>{const R=n[C.id];return[R?.name,R?.shortName,C.category,C.scope,...C.usageScreens.map(O=>O.label)].join(" ").toLowerCase().includes(E)}):r},[s,r,n]);y.useEffect(()=>{if(v.length===0)return;v.some(C=>C.id===o)||l(v[0].id)},[v,o]);const N=sAe(o),b=n[o],S=f.find(E=>E.kpiId===o),j=y.useMemo(()=>!S||S.denominator===0?null:Number((S.numerator/S.denominator*100).toFixed(1)),[S]),A=y.useMemo(()=>r.flatMap(E=>{const C=n[E.id];return E.changeHistory.map(R=>({...R,id:E.id,kpiName:C?.name??E.id,category:E.category}))}).sort((E,C)=>new Date(C.changedAt).getTime()-new Date(E.changedAt).getTime()),[r,n]),_=(E,C)=>{e?.(E,iq(C,E))};return a.jsxs("div",{className:"space-y-4 p-1",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"KPI  (  )"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" KPI     ."})]}),a.jsx("div",{className:"flex items-center gap-1.5 rounded-lg border border-gray-200 bg-white p-1",children:["LAST_24H","LAST_7D","LAST_30D","LAST_90D"].map(E=>a.jsx("button",{type:"button",onClick:()=>d(E),className:`px-2.5 py-1.5 text-[11px] rounded-md font-medium transition ${u===E?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:O6[E]},E))})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 2xl:grid-cols-12",children:[a.jsxs(_r,{className:"2xl:col-span-5",children:[a.jsxs(un,{className:"pb-3",children:[a.jsx(dn,{className:"text-base",children:"KPI  "}),a.jsxs("div",{className:"relative",children:[a.jsx(dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(fr,{value:s,onChange:E=>i(E.target.value),placeholder:"KPI// ",className:"pl-10"})]})]}),a.jsx(Ar,{className:"pt-0",children:a.jsx("div",{className:"overflow-auto rounded-md border border-gray-200",children:a.jsxs("table",{className:"w-full min-w-[760px]",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"KPI"}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"KPI "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"  ()"})]})}),a.jsxs("tbody",{children:[v.map(E=>{const C=n[E.id],R=o===E.id;return a.jsxs("tr",{className:`border-b border-gray-100 cursor-pointer ${R?"bg-blue-50/50":"hover:bg-gray-50"}`,onClick:()=>l(E.id),children:[a.jsxs("td",{className:"px-3 py-2 align-top",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C?.name}),a.jsx("div",{className:"text-[11px] text-gray-500",children:E.id})]}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("span",{className:`inline-flex items-center rounded-md border px-2 py-1 text-[11px] font-medium ${rE[E.category]}`,children:E.category})}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 align-top",children:E.scope}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("div",{className:"flex flex-wrap gap-1.5",children:E.usageScreens.map(I=>a.jsxs("button",{type:"button",onClick:O=>{O.stopPropagation(),lAe.includes(I.page)&&_(I.page,E.id)},className:"inline-flex items-center gap-1 rounded-md border border-gray-200 bg-white px-2 py-1 text-[11px] text-gray-700 hover:bg-gray-50",title:I.reason,children:[I.label,a.jsx(qn,{className:"h-3 w-3"})]},`${E.id}-${I.page}`))})})]},E.id)}),v.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-3 py-10 text-center text-sm text-gray-500",children:"   KPI ."})})]})]})})})]}),a.jsxs(_r,{className:"2xl:col-span-7",children:[a.jsx(un,{children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx(dn,{className:"text-base",children:b?.name}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'KPI   ("  ")    '})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(tn,{variant:"outline",className:rE[N.category],children:N.category}),a.jsx(tn,{variant:"outline",children:N.scope}),a.jsx(tn,{variant:"outline",children:o})]})]})}),a.jsxs(Ar,{className:"space-y-4",children:[a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:""}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-md bg-gray-50 p-3 border border-gray-200",children:[a.jsx("div",{className:"text-[11px] font-medium text-gray-500 mb-1",children:" "}),a.jsx("div",{className:"text-sm text-gray-800 leading-relaxed",children:N.definition.what})]}),a.jsxs("div",{className:"rounded-md bg-gray-50 p-3 border border-gray-200",children:[a.jsx("div",{className:"text-[11px] font-medium text-gray-500 mb-1",children:" "}),a.jsx("div",{className:"text-sm text-gray-800 leading-relaxed",children:N.definition.why})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-gray-900 mb-2",children:[a.jsx(qV,{className:"h-4 w-4"}),""]}),a.jsx("div",{className:"rounded-md border border-gray-200 bg-gray-50 px-3 py-2 text-[13px] font-mono text-gray-900",children:b?.formula}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-3 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-md border border-blue-200 bg-blue-50 p-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-blue-700 mb-1",children:""}),a.jsx("div",{className:"text-sm text-blue-900",children:N.calculation.numeratorLabel}),a.jsxs("div",{className:"text-[11px] text-blue-700 mt-1",children:[": ",b?.numeratorField]})]}),a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-indigo-700 mb-1",children:""}),a.jsx("div",{className:"text-sm text-indigo-900",children:N.calculation.denominatorLabel}),a.jsxs("div",{className:"text-[11px] text-indigo-700 mt-1",children:[": ",b?.denominatorField]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-700 mb-1.5",children:" "}),a.jsx("ul",{className:"space-y-1",children:N.calculation.includeRules.map((E,C)=>a.jsx("li",{className:"text-xs text-gray-700 leading-relaxed list-disc list-inside",children:E},`${o}-in-${C}`))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-700 mb-1.5",children:" "}),a.jsx("ul",{className:"space-y-1",children:N.calculation.excludeRules.map((E,C)=>a.jsx("li",{className:"text-xs text-gray-700 leading-relaxed list-disc list-inside",children:E},`${o}-out-${C}`))})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-md border border-green-200 bg-green-50 p-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-green-700 mb-1",children:"   "}),a.jsx("div",{className:"text-sm text-green-900 leading-relaxed",children:N.interpretation.high})]}),a.jsxs("div",{className:"rounded-md border border-orange-200 bg-orange-50 p-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-orange-700 mb-1",children:"   "}),a.jsx("div",{className:"text-sm text-orange-900 leading-relaxed",children:N.interpretation.low})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-gray-900 mb-2",children:[a.jsx(Dd,{className:"h-4 w-4"})," "]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-600 mb-1.5",children:"   Stage"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:N.linkedModelStages.map(E=>a.jsx("span",{className:"text-[11px] px-2 py-1 rounded border border-gray-200 bg-gray-50 text-gray-700",children:E},`${o}-${E}`))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-600 mb-1.5",children:"   (//)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:N.linkedTabs.map(E=>a.jsxs(pt,{variant:"outline",size:"sm",onClick:()=>_(E.page,o),className:"h-7 text-[11px]",children:[E.label,a.jsx(qn,{className:"h-3 w-3 ml-1"})]},`${o}-tab-${E.page}`))}),a.jsx("div",{className:"space-y-1 mt-2",children:N.linkedTabs.map(E=>a.jsxs("div",{className:"text-[11px] text-gray-600",children:[a.jsx("span",{className:"font-medium",children:E.label}),": ",E.reason]},`${o}-tab-reason-${E.page}`))})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-gray-900 mb-2",children:[a.jsx(wV,{className:"h-4 w-4"}),"  KPI   ( )"]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[" : ",O6[u]]}),h&&a.jsx("div",{className:"text-sm text-gray-500",children:"    ..."}),!h&&!S&&a.jsx("div",{className:"text-sm text-gray-500",children:"    ."}),!h&&S&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 p-2.5",children:[a.jsx("div",{className:"text-[11px] text-gray-500 mb-0.5",children:""}),a.jsx("div",{className:"text-sm font-bold text-gray-900",children:S.numerator.toLocaleString()})]}),a.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 p-2.5",children:[a.jsx("div",{className:"text-[11px] text-gray-500 mb-0.5",children:""}),a.jsx("div",{className:"text-sm font-bold text-gray-900",children:S.denominator.toLocaleString()})]}),a.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 p-2.5",children:[a.jsx("div",{className:"text-[11px] text-gray-500 mb-0.5",children:" KPI "}),a.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[S.value,b?.unit]})]})]}),j!==null&&a.jsxs("div",{className:"rounded-md border border-blue-200 bg-blue-50 px-3 py-2 text-sm text-blue-900",children:[" : ",S.numerator.toLocaleString()," / ",S.denominator.toLocaleString(),"  100 = ",j,"%",a.jsxs("span",{className:"ml-2 text-[11px] text-blue-700",children:["( ",S.value,b?.unit,", 7d ",S.delta7d,"pp)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-700 mb-1.5",children:" "}),a.jsx("ul",{className:"space-y-1",children:N.whyChecklist.map((E,C)=>a.jsx("li",{className:"text-xs text-gray-700 leading-relaxed list-disc list-inside",children:E},`${o}-why-${C}`))})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-gray-900 mb-2",children:[a.jsx(tV,{className:"h-4 w-4"}),"KPI  "]}),a.jsx("div",{className:"overflow-auto rounded-md border border-gray-200",children:a.jsxs("table",{className:"w-full min-w-[760px]",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:""}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:""}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"  "})]})}),a.jsx("tbody",{children:N.changeHistory.map(E=>a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-2 text-xs font-semibold text-gray-900",children:E.version}),a.jsxs("td",{className:"px-3 py-2 text-xs text-gray-700",children:[a.jsx("div",{children:E.changedAt}),a.jsx("div",{className:"text-[11px] text-gray-500",children:E.changedBy})]}),a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700 leading-relaxed",children:E.definitionChange}),a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700 leading-relaxed",children:E.formulaChange}),a.jsx("td",{className:"px-3 py-2",children:a.jsx(R6,{screens:E.impactedScreens,onNavigate:e,kpiId:o})})]},`${o}-${E.version}-${E.changedAt}`))})]})})]})]})]})]}),a.jsxs(_r,{children:[a.jsx(un,{children:a.jsx(dn,{className:"text-base",children:" KPI   ()"})}),a.jsx(Ar,{className:"pt-0",children:a.jsx("div",{className:"overflow-auto rounded-md border border-gray-200",children:a.jsxs("table",{className:"w-full min-w-[920px]",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:""}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"KPI"}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:""}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "})]})}),a.jsx("tbody",{children:A.map(E=>a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:E.changedAt}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("button",{type:"button",onClick:()=>l(E.id),className:"text-xs font-semibold text-blue-700 hover:underline",children:E.kpiName})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:`inline-flex items-center rounded-md border px-2 py-1 text-[11px] font-medium ${rE[E.category]}`,children:E.category})}),a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700 leading-relaxed",children:E.definitionChange}),a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700 leading-relaxed",children:E.formulaChange}),a.jsx("td",{className:"px-3 py-2",children:a.jsx(R6,{screens:E.impactedScreens,onNavigate:e,kpiId:E.id})})]},`${E.id}-${E.version}-${E.changedAt}`))})]})})})]})]})}var uAe=Symbol("radix.slottable");function dAe(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=uAe,t}var[$b]=Xs("Tooltip",[zf]),Fb=zf(),oq="TooltipProvider",fAe=700,$A="tooltip.open",[pAe,n5]=$b(oq),lq=e=>{const{__scopeTooltip:t,delayDuration:r=fAe,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=y.useRef(!0),l=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),a.jsx(pAe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};lq.displayName=oq;var ih="Tooltip",[mAe,Dh]=$b(ih),cq=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,u=n5(ih,e.__scopeTooltip),d=Fb(t),[f,m]=y.useState(null),h=uo(),x=y.useRef(0),v=o??u.disableHoverableContent,N=l??u.delayDuration,b=y.useRef(!1),[S,j]=sl({prop:n,defaultProp:s??!1,onChange:R=>{R?(u.onOpen(),document.dispatchEvent(new CustomEvent($A))):u.onClose(),i?.(R)},caller:ih}),A=y.useMemo(()=>S?b.current?"delayed-open":"instant-open":"closed",[S]),_=y.useCallback(()=>{window.clearTimeout(x.current),x.current=0,b.current=!1,j(!0)},[j]),E=y.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j(!1)},[j]),C=y.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{b.current=!0,j(!0),x.current=0},N)},[N,j]);return y.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),a.jsx(VT,{...d,children:a.jsx(mAe,{scope:t,contentId:h,open:S,stateAttribute:A,trigger:f,onTriggerChange:m,onTriggerEnter:y.useCallback(()=>{u.isOpenDelayedRef.current?C():_()},[u.isOpenDelayedRef,C,_]),onTriggerLeave:y.useCallback(()=>{v?E():(window.clearTimeout(x.current),x.current=0)},[E,v]),onOpen:_,onClose:E,disableHoverableContent:v,children:r})})};cq.displayName=ih;var FA="TooltipTrigger",uq=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Dh(FA,r),i=n5(FA,r),o=Fb(r),l=y.useRef(null),u=ir(t,l,s.onTriggerChange),d=y.useRef(!1),f=y.useRef(!1),m=y.useCallback(()=>d.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(Ab,{asChild:!0,...o,children:a.jsx(Kt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:wt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:wt(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:wt(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:wt(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:wt(e.onBlur,s.onClose),onClick:wt(e.onClick,s.onClose)})})});uq.displayName=FA;var a5="TooltipPortal",[hAe,gAe]=$b(a5,{forceMount:void 0}),dq=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:s}=e,i=Dh(a5,t);return a.jsx(hAe,{scope:t,forceMount:r,children:a.jsx(La,{present:r||i.open,children:a.jsx(mh,{asChild:!0,container:s,children:n})})})};dq.displayName=a5;var Nf="TooltipContent",fq=y.forwardRef((e,t)=>{const r=gAe(Nf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=Dh(Nf,e.__scopeTooltip);return a.jsx(La,{present:n||o.open,children:o.disableHoverableContent?a.jsx(pq,{side:s,...i,ref:t}):a.jsx(xAe,{side:s,...i,ref:t})})}),xAe=y.forwardRef((e,t)=>{const r=Dh(Nf,e.__scopeTooltip),n=n5(Nf,e.__scopeTooltip),s=y.useRef(null),i=ir(t,s),[o,l]=y.useState(null),{trigger:u,onClose:d}=r,f=s.current,{onPointerInTransitChange:m}=n,h=y.useCallback(()=>{l(null),m(!1)},[m]),x=y.useCallback((v,N)=>{const b=v.currentTarget,S={x:v.clientX,y:v.clientY},j=NAe(S,b.getBoundingClientRect()),A=SAe(S,j),_=wAe(N.getBoundingClientRect()),E=EAe([...A,..._]);l(E),m(!0)},[m]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(u&&f){const v=b=>x(b,f),N=b=>x(b,u);return u.addEventListener("pointerleave",v),f.addEventListener("pointerleave",N),()=>{u.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",N)}}},[u,f,x,h]),y.useEffect(()=>{if(o){const v=N=>{const b=N.target,S={x:N.clientX,y:N.clientY},j=u?.contains(b)||f?.contains(b),A=!jAe(S,o);j?h():A&&(h(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[u,f,o,d,h]),a.jsx(pq,{...e,ref:i})}),[yAe,bAe]=$b(ih,{isInside:!1}),vAe=dAe("TooltipContent"),pq=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,u=Dh(Nf,r),d=Fb(r),{onClose:f}=u;return y.useEffect(()=>(document.addEventListener($A,f),()=>document.removeEventListener($A,f)),[f]),y.useEffect(()=>{if(u.trigger){const m=h=>{h.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,f]),a.jsx(ph,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:a.jsxs(YT,{"data-state":u.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(vAe,{children:n}),a.jsx(yAe,{scope:r,isInside:!0,children:a.jsx(Ewe,{id:u.contentId,role:"tooltip",children:s||n})})]})})});fq.displayName=Nf;var mq="TooltipArrow",hq=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Fb(r);return bAe(mq,r).isInside?null:a.jsx(XT,{...s,...n,ref:t})});hq.displayName=mq;function NAe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function SAe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function wAe(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function jAe(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],u=t[o],d=l.x,f=l.y,m=u.x,h=u.y;f>n!=h>n&&r<(m-d)*(n-f)/(h-f)+d&&(s=!s)}return s}function EAe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),_Ae(t)}function _Ae(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var gq=lq,xq=cq,yq=uq,bq=dq,vq=fq,Nq=hq;function AAe(e){const t=CAe(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),u=l.find(kAe);if(u){const d=u.props.children,f=l.map(m=>m===u?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:m);return a.jsx(t,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function CAe(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=RAe(s),l=OAe(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Nu(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TAe=Symbol("radix.slottable");function kAe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TAe}function OAe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function RAe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bb="Popover",[Sq]=Xs(Bb,[zf]),Ih=zf(),[PAe,vc]=Sq(Bb),wq=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=Ih(t),u=y.useRef(null),[d,f]=y.useState(!1),[m,h]=sl({prop:n,defaultProp:s??!1,onChange:i,caller:Bb});return a.jsx(VT,{...l,children:a.jsx(PAe,{scope:t,contentId:uo(),triggerRef:u,open:m,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(x=>!x),[h]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>f(!0),[]),onCustomAnchorRemove:y.useCallback(()=>f(!1),[]),modal:o,children:r})})};wq.displayName=Bb;var jq="PopoverAnchor",DAe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=vc(jq,r),i=Ih(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return y.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Ab,{...i,...n,ref:t})});DAe.displayName=jq;var Eq="PopoverTrigger",_q=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=vc(Eq,r),i=Ih(r),o=ir(t,s.triggerRef),l=a.jsx(Kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Oq(s.open),...n,ref:o,onClick:wt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Ab,{asChild:!0,...i,children:l})});_q.displayName=Eq;var s5="PopoverPortal",[IAe,MAe]=Sq(s5,{forceMount:void 0}),Aq=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=vc(s5,t);return a.jsx(IAe,{scope:t,forceMount:r,children:a.jsx(La,{present:r||i.open,children:a.jsx(mh,{asChild:!0,container:s,children:n})})})};Aq.displayName=s5;var Sf="PopoverContent",Cq=y.forwardRef((e,t)=>{const r=MAe(Sf,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=vc(Sf,e.__scopePopover);return a.jsx(La,{present:n||i.open,children:i.modal?a.jsx($Ae,{...s,ref:t}):a.jsx(FAe,{...s,ref:t})})});Cq.displayName=Sf;var LAe=AAe("PopoverContent.RemoveScroll"),$Ae=y.forwardRef((e,t)=>{const r=vc(Sf,e.__scopePopover),n=y.useRef(null),s=ir(t,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return aC(o)},[]),a.jsx(Ay,{as:LAe,allowPinchZoom:!0,children:a.jsx(Tq,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:wt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:wt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),FAe=y.forwardRef((e,t)=>{const r=vc(Sf,e.__scopePopover),n=y.useRef(!1),s=y.useRef(!1);return a.jsx(Tq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Tq=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...m}=e,h=vc(Sf,r),x=Ih(r);return nC(),a.jsx(Ey,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(ph,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(YT,{"data-state":Oq(h.open),role:"dialog",id:h.contentId,...x,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kq="PopoverClose",BAe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=vc(kq,r);return a.jsx(Kt.button,{type:"button",...n,ref:t,onClick:wt(e.onClick,()=>s.onOpenChange(!1))})});BAe.displayName=kq;var UAe="PopoverArrow",zAe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ih(r);return a.jsx(XT,{...s,...n,ref:t})});zAe.displayName=UAe;function Oq(e){return e?"open":"closed"}var Rq=wq,Pq=_q,Dq=Aq,Iq=Cq;const Jn="2026-02-12",Ul=`: ${Jn}  D-1`,am={baseDate:Jn,receiveDeadline:"08:30",modelWindow:"08:35-08:48",dispatchTime:"08:52",status:"partial",impactedStages:["S2","S3"],notes:" (7)   Stage2/3   .",receiveRate:76.4,missingInstitutionCount:7,expectedRetryAt:"2026-02-13 11:30"},Gl={baseDate:Jn,receivedN:157204,adPct:23.4,mciPct:62.1,normalPct:14.5},id={baseDate:Jn,stage2ReceivedN:157204,mciEnrollPct:78.6,adEnrollPct:64.2},gd=[{stage:"S1",destination:"",sentCount:38124,failedCount:18,retryCount:18,lastSentAt:"2026-02-13 08:53",slaStatus:"ok"},{stage:"S2",destination:"",sentCount:11832,failedCount:64,retryCount:41,lastSentAt:"2026-02-13 08:54",slaStatus:"delayed"},{stage:"S3",destination:"",sentCount:7405,failedCount:39,retryCount:27,lastSentAt:"2026-02-13 08:56",slaStatus:"delayed"}],HAe=[{key:"total-subjects",label:" ",value:1247653,unit:"",delta:1.2,baseDate:Jn,scopeLine:Ul,status:"neutral",help:{title:" ",body:`(D-1): ${Jn}
     ( )`}},{key:"s1-applied-rate",label:"1  ",value:87.3,unit:"%",delta:2.1,baseDate:Jn,scopeLine:Ul,status:"good",help:{title:"1  ",body:`(D-1): ${Jn}
/  1    `},jumpTo:"stage1",modeOverride:{quality:{label:"1  ",value:4.2,unit:"%",status:"warn"},audit:{label:"1   Top1",value:56.3,unit:"%",status:"warn"}}},{key:"s1-high-risk-rate",label:"1  ",value:12.3,unit:"%",delta:-.8,baseDate:Jn,scopeLine:Ul,status:"warn",help:{title:"1  ",body:`(D-1): ${Jn}
    ''   (  )`},jumpTo:"stage1"},{key:"s2-receive-rate",label:"2  ",value:76.4,unit:"%",delta:-1.7,baseDate:Jn,partialStages:["S2","S3"],scopeLine:Ul,status:"warn",help:{title:"2  ",body:`(D-1): ${Jn}
 2     
 80%    `},jumpTo:"stage2",modeOverride:{quality:{label:"2 ",value:6.8,unit:"%",status:"warn"},audit:{label:"2  ",value:18.3,unit:"",status:"risk"}}},{key:"s2-distribution",label:"2  (MCI/AD)",value:Gl.adPct,valuePrefix:"AD",secondaryValueLine:`MCI ${Gl.mciPct}%`,unit:"%",delta:1.1,baseDate:Jn,partialStages:["S2"],scopeLine:Ul,status:"risk",help:{title:"2  (MCI/AD)",body:`(D-1): ${Gl.baseDate}
: 2     ${Gl.receivedN.toLocaleString()}
AD ${Gl.adPct}%  MCI ${Gl.mciPct}%   ${Gl.normalPct}%
  `},jumpTo:"stage2"},{key:"s3-enrollment-rate",label:"MCI/AD ",value:id.mciEnrollPct,valuePrefix:"MCI",secondaryValueLine:`AD ${id.adEnrollPct}%`,unit:"%",delta:5.2,baseDate:Jn,partialStages:["S3"],scopeLine:Ul,status:"good",help:{title:"MCI/AD ",body:`(D-1): ${id.baseDate}
: Stage2   ${id.stage2ReceivedN.toLocaleString()}
: MCI  ${id.mciEnrollPct}% / AD    ${id.adEnrollPct}%
: Stage2       (  )
:     `},jumpTo:"stage3",modeOverride:{quality:{label:" ",value:8.1,unit:"%",status:"warn"},audit:{label:"SLA ",value:12,unit:"",status:"risk"}}},{key:"s3-adherence-rate",label:"3  ",value:71.4,unit:"%",delta:-2.3,baseDate:Jn,partialStages:["S3"],scopeLine:Ul,status:"warn",help:{title:" ",body:`(D-1): ${Jn}
 //    `},jumpTo:"stage3"},{key:"sla-violation",label:"SLA /",value:12,unit:"",delta:-3,baseDate:Jn,partialStages:["S2","S3"],scopeLine:Ul,status:"risk",help:{title:"SLA ",body:`(D-1): ${Jn}
      `}}],nE=[{stageId:"stage1",examLabel:"1 ",title:"1 ",purposeLine:"   '  '     ",inputs:[{name:" ",desc:"  "},{name:"/",desc:"   "},{name:"",desc:", ,   "},{name:"  ",desc:"   "}],processing:[{name:"Stage1 Risk Scoring",desc:"  ",version:"v3.2.1"},{name:"Eligibility Rules",desc:"   ",version:"v1.4"}],outputs:[{name:"risk_score",desc:"   (0100)"},{name:"risk_band",desc:" /  / "},{name:"reason_codes",desc:" 35  "},{name:"data_quality_flags",desc:"  "}],transition:[{to:"stage2",ruleLine:"(risk_band=)  2  "},{to:"end",ruleLine:"/   (6)"}],metrics:{applied:1089353,appliedRate:87.3,conversionRate:14.4,avgLatencyDays:3.2,topIssues:[{code:"NA-01",label:" ",count:89234},{code:"NA-02",label:" ",count:45678},{code:"NA-03",label:"",count:23388}]}},{stageId:"stage2",examLabel:"2 ",title:"2  ",purposeLine:"/   ' ' ,     ",inputs:[{name:"1  ",desc:"Stage1 risk_score, risk_band, reason_codes"},{name:"2  ",desc:"PET/MRI/   "}],processing:[{name:"  ",desc:"   ",version:"v2.1"},{name:"Consistency Check",desc:"  vs    ()",version:"v1.2"}],outputs:[{name:"diagnosis_class",desc:"AD / MCI /  (  )"},{name:"model_support_signal",desc:"   (//)"},{name:"next_step_policy",desc:"3  /  /  "}],transition:[{to:"stage3",ruleLine:"MCI   3  "},{to:"end",ruleLine:"AD     /    "}],metrics:{applied:157204,appliedRate:91.1,conversionRate:38.4,avgLatencyDays:18.3,topIssues:[{code:"DL-01",label:"  (30+)",count:4128},{code:"DL-02",label:"( vs )",count:2347}]}},{stageId:"stage3",examLabel:"3 ",title:"3  ",purposeLine:"MCI/AD     ",inputs:[{name:"2  ",desc:"diagnosis_class=MCI/AD,  "},{name:"3  ",desc:"//  "}],processing:[{name:"MCI Follow-up Prioritizer",desc:"   ",version:"v2.0"},{name:"Transition Policy",desc:"//  ",version:"v1.3"}],outputs:[{name:"followup_priority",desc:"High / Med / Low"},{name:"recommended_actions",desc:"//  "},{name:"adherence_metrics",desc:" "},{name:"drop_off_reason",desc:"  "}],transition:[{to:"end",ruleLine:"  /  /    / AD   "}],metrics:{applied:60234,appliedRate:78.6,conversionRate:71.4,avgLatencyDays:14.7,topIssues:[{code:"FU-01",label:"  ",count:3891},{code:"FU-02",label:"()",count:1245},{code:"FU-03",label:" ",count:987}]}}],qAe=[{id:"in-health",group:"input",label:"",shortDesc:" ",stageTag:"stage1"},{id:"in-survey",group:"input",label:"/",shortDesc:"   ",stageTag:"stage1"},{id:"in-admin",group:"input",label:"",shortDesc:", , ",stageTag:"stage1"},{id:"in-history",group:"input",label:"",shortDesc:"   ",stageTag:"stage1"},{id:"in-cogtest",group:"input",label:" ",shortDesc:"MMSE/MoCA/CDR ",stageTag:"stage2"},{id:"in-biomarker",group:"input",label:"/",shortDesc:"A42, p-tau, NfL ",stageTag:"stage2"},{id:"in-survey2",group:"input",label:"2 ",shortDesc:"  +  ",stageTag:"stage2"},{id:"in-medhist",group:"input",label:"/",shortDesc:", / ",stageTag:"stage2"},{id:"in-mri",group:"input",label:"MRI ",shortDesc:" ,   ",stageTag:"stage3"},{id:"in-pet",group:"input",label:"PET ",shortDesc:"A/Tau SUVR, Centiloid",stageTag:"stage3"},{id:"in-imgderiv",group:"input",label:" ",shortDesc:"ROI ,  ",stageTag:"stage3"},{id:"in-followup",group:"input",label:"",shortDesc:"// ",stageTag:"stage3"},{id:"ft-builder",group:"feature",label:"S1 Feature Builder",shortDesc:"1  ",stageTag:"stage1"},{id:"ft-s2-vec",group:"feature",label:"S2 Vectorizer",shortDesc:"++ ",stageTag:"stage2"},{id:"ft-s3-enc",group:"feature",label:"S3 Encoder",shortDesc:"MRI/PET  ",stageTag:"stage3"},{id:"md-s1-risk",group:"model",label:"S1 Risk Scoring",shortDesc:"   v3.2.1",stageTag:"stage1"},{id:"md-s1-rule",group:"model",label:"Eligibility Rules",shortDesc:"    v1.4",stageTag:"stage1"},{id:"md-s2-ann",group:"model",label:"S2 ANN Classifier",shortDesc:"ANN    v1.0",stageTag:"stage2"},{id:"md-s2-consist",group:"model",label:"Consistency Check",shortDesc:"   v1.2",stageTag:"stage2"},{id:"md-s3-cnn",group:"model",label:"S3 CNN Classifier",shortDesc:"CNN    v1.0",stageTag:"stage3"},{id:"md-s3-prio",group:"model",label:"MCI Prioritizer",shortDesc:"   v2.0",stageTag:"stage3"},{id:"md-guardrail",group:"model",label:"Post-Model Guardrails",shortDesc:"  v1.0",stageTag:"common"},{id:"md-transition",group:"model",label:"Transition Policy",shortDesc:"    v1.3",stageTag:"common"},{id:"out-score",group:"output",label:"risk_score",shortDesc:"   0100",stageTag:"stage1"},{id:"out-band",group:"output",label:"risk_band",shortDesc:"//",stageTag:"stage1"},{id:"out-reason",group:"output",label:"reason_codes",shortDesc:" 35  ",stageTag:"stage1"},{id:"out-quality",group:"output",label:"data_quality_flags",shortDesc:"  ",stageTag:"stage1"},{id:"out-s2-class",group:"output",label:"s2_support_class",shortDesc:"   ()",stageTag:"stage2"},{id:"out-s2-conf",group:"output",label:"s2_support_confidence",shortDesc:"  ",stageTag:"stage2"},{id:"out-s2-reason",group:"output",label:"s2_reason_codes",shortDesc:"S2   ",stageTag:"stage2"},{id:"out-diag",group:"output",label:"diagnosis_class",shortDesc:"AD/MCI/ ( )",stageTag:"stage2",isExternal:!0},{id:"out-signal",group:"output",label:"model_support_signal",shortDesc:"// ()",stageTag:"stage2"},{id:"out-s3-class",group:"output",label:"s3_support_class",shortDesc:"   ()",stageTag:"stage3"},{id:"out-s3-conf",group:"output",label:"s3_support_confidence",shortDesc:"  ",stageTag:"stage3"},{id:"out-s3-reason",group:"output",label:"s3_reason_codes",shortDesc:"S3   ",stageTag:"stage3"},{id:"out-priority",group:"output",label:"followup_priority",shortDesc:"High/Med/Low",stageTag:"stage3"},{id:"out-actions",group:"output",label:"recommended_actions",shortDesc:"  ",stageTag:"stage3"},{id:"out-guardrail",group:"output",label:"guardrail_flags",shortDesc:"/  ",stageTag:"common"},{id:"dispatch-s1",group:"dispatch",label:"S1 Dispatch",shortDesc:"   /   ",stageTag:"stage1"},{id:"dispatch-s2",group:"dispatch",label:"S2 Dispatch",shortDesc:"    /  ",stageTag:"stage2"},{id:"dispatch-s3",group:"dispatch",label:"S3 Dispatch",shortDesc:"  High /  ",stageTag:"stage3"},{id:"ops-case",group:"ops",label:" ",shortDesc:"  ",stageTag:"stage1"},{id:"ops-booking",group:"ops",label:" ",shortDesc:"2   ",stageTag:"stage1"},{id:"ops-s2-prio",group:"ops",label:"2  ",shortDesc:"2   ",stageTag:"stage2"},{id:"ops-s3-route",group:"ops",label:" ",shortDesc:"3   ",stageTag:"stage3"},{id:"ops-s3-resched",group:"ops",label:"/ ",shortDesc:"  ",stageTag:"stage3"},{id:"ops-resource",group:"ops",label:" ",shortDesc:"  ",stageTag:"common"},{id:"ops-tracking",group:"ops",label:"MCI ",shortDesc:"  ",stageTag:"stage3"}],GAe=[{from:"in-health",to:"ft-builder",label:" "},{from:"in-survey",to:"ft-builder",label:" "},{from:"in-admin",to:"ft-builder",label:" "},{from:"in-history",to:"ft-builder",label:" "},{from:"ft-builder",to:"md-s1-risk",label:" "},{from:"ft-builder",to:"md-s1-rule",label:" "},{from:"md-s1-risk",to:"out-score",label:"risk_score"},{from:"md-s1-risk",to:"out-band",label:"risk_band"},{from:"md-s1-risk",to:"out-reason",label:"reason_codes"},{from:"md-s1-rule",to:"out-quality",label:"quality_flags"},{from:"out-score",to:"md-guardrail",label:"S1 "},{from:"out-score",to:"dispatch-s1",label:"  "},{from:"out-band",to:"dispatch-s1",label:"  "},{from:"dispatch-s1",to:"ops-case",label:"  "},{from:"dispatch-s1",to:"ops-booking",label:"  "},{from:"in-cogtest",to:"ft-s2-vec",label:" "},{from:"in-biomarker",to:"ft-s2-vec",label:""},{from:"in-survey2",to:"ft-s2-vec",label:"2 "},{from:"in-medhist",to:"ft-s2-vec",label:""},{from:"out-band",to:"ft-s2-vec",label:"1  ",style:"dashed"},{from:"ft-s2-vec",to:"md-s2-ann",label:"S2 "},{from:"md-s2-ann",to:"out-s2-class",label:" "},{from:"md-s2-ann",to:"out-s2-conf",label:""},{from:"md-s2-ann",to:"out-s2-reason",label:" "},{from:"out-s2-class",to:"md-guardrail",label:"S2 "},{from:"out-diag",to:"md-s2-consist",label:" ",style:"dashed"},{from:"out-s2-class",to:"md-s2-consist",label:"  "},{from:"md-s2-consist",to:"out-signal",label:" "},{from:"out-diag",to:"md-transition",style:"dashed"},{from:"out-diag",to:"dispatch-s2",label:"   "},{from:"out-signal",to:"dispatch-s2",label:" "},{from:"dispatch-s2",to:"ops-s2-prio",label:" "},{from:"in-mri",to:"ft-s3-enc",label:"MRI "},{from:"in-pet",to:"ft-s3-enc",label:"PET "},{from:"in-imgderiv",to:"ft-s3-enc",label:" "},{from:"in-followup",to:"md-s3-prio",label:" "},{from:"ft-s3-enc",to:"md-s3-cnn",label:"S3 "},{from:"md-s3-cnn",to:"out-s3-class",label:" "},{from:"md-s3-cnn",to:"out-s3-conf",label:""},{from:"md-s3-cnn",to:"out-s3-reason",label:" "},{from:"out-s3-class",to:"md-guardrail",label:"S3 "},{from:"md-s3-prio",to:"out-priority",label:""},{from:"md-s3-prio",to:"out-actions",label:" "},{from:"md-transition",to:"md-s3-prio",label:"MCI "},{from:"md-guardrail",to:"out-guardrail",label:" "},{from:"out-priority",to:"dispatch-s3",label:"High  "},{from:"out-actions",to:"dispatch-s3",label:"  "},{from:"out-guardrail",to:"dispatch-s3",label:"  "},{from:"dispatch-s3",to:"ops-tracking",label:" "},{from:"dispatch-s3",to:"ops-resource",label:"  "},{from:"dispatch-s3",to:"ops-s3-route",label:" "},{from:"dispatch-s3",to:"ops-s3-resched",label:" "}],kt="  : /.     .",KAe={"batch-cycle":{id:"batch-cycle",definition:{what:"D-1     / /   .",why:"           .",whereUsed:["Batch Cycle Banner","  ","  "],responsibility:kt},dataContract:{outputs:[{field:"baseDate",type:"date",nullable:!1,note:"D-1 "},{field:"receiveDeadline",type:"time",nullable:!1,note:"  "},{field:"modelWindow",type:"string",nullable:!1,note:"  "},{field:"dispatchTime",type:"time",nullable:!1,note:"  "}],refreshCadence:" 1 "},qualityAudit:{changeLog:[{version:"BATCH-2026-02-13",date:"2026-02-13",summary:"S2/S3      "}]},batchSummary:{impactedStages:am.impactedStages,receiveRate:am.receiveRate,missingInstitutionCount:am.missingInstitutionCount,expectedRetryAt:am.expectedRetryAt,impactedMetrics:["2  (MCI/AD)","MCI/AD ","3  "],dispatchLogs:gd}},stage1:{id:"stage1",definition:{what:"   '  '     .",why:" 2     ,     .",whereUsed:[" "," ","   "],responsibility:kt},dataContract:{inputs:[{field:"health_exam_result",type:"object",nullable:!1,note:"  "},{field:"survey_responses",type:"array",nullable:!0,note:"/ "},{field:"admin_info",type:"object",nullable:!1,note:", "},{field:"prior_screening_history",type:"array",nullable:!0,note:"  "}],outputs:[{field:"risk_score",type:"number(0-100)",nullable:!1},{field:"risk_band",type:"enum(||)",nullable:!1},{field:"reason_codes",type:"string[]",nullable:!1,note:" 35 "},{field:"data_quality_flags",type:"string[]",nullable:!0},{field:"transition_eligible",type:"boolean",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:4.2,driftSignals:[{name:"risk_score  ",level:"low",note:" +1.3 ( )"}],biasAlerts:[{group:"75+ ",level:"mid",note:"     +8.1%p"}],changeLog:[{version:"v3.2.1",date:"2026-01-15",summary:"  ",impact:"75+  -2.3%p"},{version:"v3.2.0",date:"2025-12-01",summary:"BMI  ",impact:"  +1.1%p"},{version:"v3.1.0",date:"2025-09-20",summary:"   "}]}},stage2:{id:"stage2",definition:{what:"/   ' ' ,     .",why:" ( )  ()    ,  /   .",whereUsed:["2   "," ","3   "],responsibility:kt},dataContract:{inputs:[{field:"stage1_result",type:"object",nullable:!1,note:"risk_score, risk_band"},{field:"exam_result",type:"object",nullable:!1,note:"PET/MRI/"}],outputs:[{field:"diagnosis_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"  =  "},{field:"model_support_signal",type:"enum(||)",nullable:!1,note:"  = ()"},{field:"next_step_policy",type:"enum(3||)",nullable:!1}],refreshCadence:" 1  (D-1  )"},qualityAudit:{missingRate:8.9,driftSignals:[{name:" ",level:"mid",note:"  +1.2%p "}],biasAlerts:[{group:" ",level:"mid",note:"    +5.2"}],changeLog:[{version:"v2.1",date:"2026-01-20",summary:"  ",impact:" +3.4%p"},{version:"v2.0",date:"2025-11-15",summary:"PET/MRI   "}]},batchSummary:{impactedStages:["S2","S3"],receiveRate:76.4,missingInstitutionCount:7,expectedRetryAt:"2026-02-13 11:30",impactedMetrics:["2  (MCI/AD)","MCI/AD ","3  "]}},stage3:{id:"stage3",definition:{what:"MCI/AD    // .",why:"MCI Track/AD           .",whereUsed:["MCI   ","AD   "," ","  "],responsibility:kt},dataContract:{inputs:[{field:"diagnosis_class",type:"enum(MCI|AD)",nullable:!1,note:"2  "},{field:"followup_history",type:"array",nullable:!0,note:"// "}],outputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1},{field:"recommended_actions",type:"string[]",nullable:!1},{field:"adherence_metrics",type:"object",nullable:!1},{field:"drop_off_reason",type:"string",nullable:!0}],refreshCadence:" 1  (D-1  )"},qualityAudit:{missingRate:8.1,driftSignals:[{name:"  ",level:"mid",note:"3  -1.5%p/"}],biasAlerts:[{group:" ",level:"high",note:"   +12.3%p"}],changeLog:[{version:"v2.0",date:"2026-01-10",summary:"   ",impact:"High  +4.2%p"},{version:"v1.3",date:"2025-10-05",summary:"    "}]}},"md-s1-risk":{id:"md-s1-risk",definition:{what:"    (0100)    .",why:"     2     .",whereUsed:["1  risk_score ","  "],responsibility:kt},dataContract:{inputs:[{field:"feature_vector",type:"number[48]",nullable:!1,note:"Feature Builder "}],outputs:[{field:"risk_score",type:"number(0-100)",nullable:!1},{field:"risk_band",type:"enum",nullable:!1},{field:"reason_codes",type:"string[3-5]",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:.3,driftSignals:[{name:"  ",level:"low",note:"PSI 0.02 ()"}],biasAlerts:[],changeLog:[{version:"v3.2.1",date:"2026-01-15",summary:"   "},{version:"v3.2.0",date:"2025-12-01",summary:"BMI  "}]}},"ft-builder":{id:"ft-builder",definition:{what:"1         .",why:"        .",whereUsed:["Stage1 Risk Scoring ","Eligibility Rules "],responsibility:kt},dataContract:{inputs:[{field:"raw_health_exam",type:"object",nullable:!1},{field:"raw_survey",type:"array",nullable:!0},{field:"raw_admin",type:"object",nullable:!1}],outputs:[{field:"feature_vector",type:"number[48]",nullable:!1},{field:"missing_flags",type:"string[]",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:4.2,driftSignals:[],biasAlerts:[],changeLog:[{version:"v2.1",date:"2025-12-01",summary:"BMI   "}]}},"ft-s2-vec":{id:"ft-s2-vec",definition:{what:"  ANN    .",why:"  2      ANN   .",whereUsed:["S2 ANN Classifier "],responsibility:kt},dataContract:{inputs:[{field:"cogtest_features",type:"number[6]",nullable:!1,note:" "},{field:"biomarker_features",type:"number[4]",nullable:!0,note:" "},{field:"survey2_features",type:"number[8]",nullable:!0,note:"2  "},{field:"medhist_features",type:"number[5]",nullable:!0,note:" "}],outputs:[{field:"s2_feature_vector",type:"number[64]",nullable:!1},{field:"missing_flags",type:"string[]",nullable:!0}],refreshCadence:"  "},qualityAudit:{missingRate:8.3,driftSignals:[{name:"  ",level:"low",note:"PSI 0.03 ()"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2026-01-15",summary:" "}]}},"ft-s3-enc":{id:"ft-s3-enc",definition:{what:"MRI/PET   CNN    .",why:"  3D    CNN       .",whereUsed:["S3 CNN Classifier "],responsibility:kt},dataContract:{inputs:[{field:"mri_features",type:"number[128]",nullable:!1,note:"MRI  "},{field:"pet_features",type:"number[64]",nullable:!0,note:"PET  "},{field:"derived_metrics",type:"number[16]",nullable:!0,note:"  "}],outputs:[{field:"s3_tensor",type:"tensor[1,208]",nullable:!1},{field:"missing_flags",type:"string[]",nullable:!0}],refreshCadence:"  "},qualityAudit:{missingRate:18.7,driftSignals:[{name:"  ",level:"mid",note:"    4.2%"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2026-01-20",summary:" "}]}},"in-health":{id:"in-health",definition:{what:"    .",why:"1     , BMI    .",whereUsed:["Feature Builder ","1  risk_score "],responsibility:kt},dataContract:{inputs:[{field:"exam_date",type:"date",nullable:!1,note:" "},{field:"bmi",type:"number",nullable:!0,note:""},{field:"blood_pressure",type:"object",nullable:!0,note:"/"},{field:"chronic_diseases",type:"string[]",nullable:!0,note:" "}],refreshCadence:" 1  "},qualityAudit:{missingRate:3.1,driftSignals:[{name:"   ",level:"low",note:" 2 "}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-06-01",summary:"  "}]}},"in-survey":{id:"in-survey",definition:{what:"        .",why:" ,           .",whereUsed:["Feature Builder "],responsibility:kt},dataContract:{inputs:[{field:"survey_id",type:"string",nullable:!1},{field:"responses",type:"object[]",nullable:!1,note:" "}],refreshCadence:"  1"},qualityAudit:{missingRate:12.7,driftSignals:[],biasAlerts:[{group:"75+ ",level:"mid",note:"   +8%p"}],changeLog:[{version:"v1.2",date:"2025-11-01",summary:"  (1520)"}]}},"in-admin":{id:"in-admin",definition:{what:" (, ,  ).",why:"  ,         .",whereUsed:["Feature Builder ","    "],responsibility:kt},dataContract:{inputs:[{field:"address",type:"object",nullable:!1},{field:"household_type",type:"enum",nullable:!0,note:"//"},{field:"contact_phone",type:"string",nullable:!0}],refreshCadence:"/ "},qualityAudit:{missingRate:5.4,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.1",date:"2025-08-15",summary:"  "}]}},"in-history":{id:"in-history",definition:{what:"  1      .",why:"            .",whereUsed:["Feature Builder "],responsibility:kt},dataContract:{inputs:[{field:"prior_risk_scores",type:"number[]",nullable:!0},{field:"prior_risk_bands",type:"string[]",nullable:!0},{field:"last_screening_date",type:"date",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:18.3,driftSignals:[{name:"    ",level:"low",note:"22.1% ( )"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-06-01",summary:" "}]}},"in-exam":{id:"in-cogtest",definition:{what:"(MMSE, MoCA, CDR )   .",why:"2 ANN   ,      .",whereUsed:["S2 Vectorizer ","ANN Classifier "],responsibility:kt},dataContract:{inputs:[{field:"mmse_score",type:"number(0-30)",nullable:!1,note:"MMSE "},{field:"moca_score",type:"number(0-30)",nullable:!0,note:"MoCA "},{field:"cdr_global",type:"number(0-3)",nullable:!0,note:"CDR  "},{field:"exam_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:6.4,driftSignals:[{name:"   ",level:"low",note:"MoCA v8.1  v7.1  2.1%"}],biasAlerts:[{group:" ",level:"mid",note:"MMSE    +6.2%p"}],changeLog:[{version:"v1.0",date:"2025-09-01",summary:"  "}]}},"in-cogtest":{id:"in-cogtest",definition:{what:"(MMSE, MoCA, CDR )   .",why:"2 ANN   ,      .",whereUsed:["S2 Vectorizer ","ANN Classifier "],responsibility:kt},dataContract:{inputs:[{field:"mmse_score",type:"number(0-30)",nullable:!1,note:"MMSE "},{field:"moca_score",type:"number(0-30)",nullable:!0,note:"MoCA "},{field:"cdr_global",type:"number(0-3)",nullable:!0,note:"CDR  "},{field:"exam_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:6.4,driftSignals:[{name:"   ",level:"low",note:"MoCA v8.1  v7.1  2.1%"}],biasAlerts:[{group:" ",level:"mid",note:"MMSE    +6.2%p"}],changeLog:[{version:"v1.0",date:"2025-09-01",summary:"  "}]}},"in-biomarker":{id:"in-biomarker",definition:{what:"  (A42, p-tau181, NfL )  .",why:"ANN   ,     .",whereUsed:["S2 Vectorizer "],responsibility:kt},dataContract:{inputs:[{field:"ab42_ratio",type:"number",nullable:!0,note:"A42/40 "},{field:"ptau181",type:"number",nullable:!0,note:"pg/mL"},{field:"nfl",type:"number",nullable:!0,note:"Neurofilament light"},{field:"sample_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:22.1,driftSignals:[{name:"  ",level:"mid",note:"Elecsys  Lumipulse   2.3% "}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-10-01",summary:" "}]}},"in-survey2":{id:"in-survey2",definition:{what:"2         .",why:"          .",whereUsed:["S2 Vectorizer "],responsibility:kt},dataContract:{inputs:[{field:"adl_score",type:"number",nullable:!0,note:" "},{field:"iadl_score",type:"number",nullable:!0,note:" "},{field:"guardian_responses",type:"object[]",nullable:!0,note:"  "}],refreshCadence:"2   1"},qualityAudit:{missingRate:15.3,driftSignals:[],biasAlerts:[{group:" ",level:"high",note:"   42.1%"}],changeLog:[{version:"v1.0",date:"2025-11-01",summary:" "}]}},"in-medhist":{id:"in-medhist",definition:{what:"     () .",why:"           .",whereUsed:["S2 Vectorizer "],responsibility:kt},dataContract:{inputs:[{field:"rx_codes",type:"string[]",nullable:!0,note:"  ATC "},{field:"visit_history",type:"object[]",nullable:!0,note:"/ "},{field:"comorbidity_index",type:"number",nullable:!0,note:"Charlson  "}],refreshCadence:" 1 "},qualityAudit:{missingRate:11.7,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-11-15",summary:"   "}]}},"in-mri":{id:"in-mri",definition:{what:" MRI   ,  ,     .",why:"3 CNN   ,      .",whereUsed:["S3 Encoder ","CNN Classifier "],responsibility:kt},dataContract:{inputs:[{field:"hippocampal_volume",type:"number",nullable:!1,note:"  (mm)"},{field:"cortical_thickness",type:"number[]",nullable:!0,note:"ROI  "},{field:"ventricular_ratio",type:"number",nullable:!0,note:" "},{field:"scan_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:14.2,driftSignals:[{name:"  ",level:"mid",note:"3T/1.5T     3.1%"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-12-01",summary:"FreeSurfer  "}]}},"in-pet":{id:"in-pet",definition:{what:"/ PET  SUVR, Centiloid   .",why:"       CNN   .",whereUsed:["S3 Encoder "],responsibility:kt},dataContract:{inputs:[{field:"amyloid_suvr",type:"number",nullable:!0,note:"A PET SUVR"},{field:"centiloid",type:"number",nullable:!0,note:"Centiloid "},{field:"tau_suvr",type:"number",nullable:!0,note:"Tau PET SUVR"},{field:"scan_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:31.4,driftSignals:[{name:"  ",level:"mid",note:"Florbetaben vs Flutemetamol "}],biasAlerts:[{group:" ",level:"high",note:"PET      +18%p"}],changeLog:[{version:"v1.0",date:"2025-12-15",summary:"PET   "}]}},"in-imgderiv":{id:"in-imgderiv",definition:{what:"MRI/PET     (ROI ,   ).",why:"          .",whereUsed:["S3 Encoder "],responsibility:kt},dataContract:{inputs:[{field:"atrophy_index",type:"number",nullable:!0,note:"   "},{field:"roi_ratios",type:"number[]",nullable:!0,note:"ROI  "},{field:"asymmetry_score",type:"number",nullable:!0,note:"  "}],refreshCadence:"MRI/PET   "},qualityAudit:{missingRate:16.8,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.0",date:"2026-01-05",summary:"   "}]}},"in-followup":{id:"in-followup",definition:{what:"MCI   //   .",why:"  ,     .",whereUsed:["MCI Prioritizer "," "],responsibility:kt},dataContract:{inputs:[{field:"visit_records",type:"object[]",nullable:!0},{field:"last_contact_date",type:"date",nullable:!0},{field:"program_participation",type:"string[]",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:8.1,driftSignals:[{name:" ",level:"mid",note:"3  -1.5%p/"}],biasAlerts:[{group:" ",level:"high",note:" +12.3%p"}],changeLog:[{version:"v1.0",date:"2025-06-01",summary:" "}]}},"md-s1-rule":{id:"md-s1-rule",definition:{what:"       .",why:",   ,         .",whereUsed:["1    ","   "],responsibility:kt},dataContract:{inputs:[{field:"base_criteria",type:"object",nullable:!1,note:"//"}],outputs:[{field:"eligible",type:"boolean",nullable:!1},{field:"exclusion_reason",type:"string",nullable:!0},{field:"data_quality_flags",type:"string[]",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.4",date:"2025-12-15",summary:"75+  "},{version:"v1.3",date:"2025-09-01",summary:"   "}]}},"md-s2-ann":{id:"md-s2-ann",definition:{what:"   2     ANN .",why:"        ,     .",whereUsed:["S2    ","Consistency Check  "],responsibility:kt},dataContract:{inputs:[{field:"s2_feature_vector",type:"number[64]",nullable:!1,note:"S2 Vectorizer "}],outputs:[{field:"s2_support_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"  ()"},{field:"s2_support_confidence",type:"number(0-1)",nullable:!1,note:" "},{field:"s2_reason_codes",type:"string[3-5]",nullable:!1,note:"  "}],refreshCadence:"  "},qualityAudit:{missingRate:.5,driftSignals:[{name:"  ",level:"low",note:"PSI 0.04 ()"}],biasAlerts:[{group:"75+ ",level:"mid",note:"AD    +5.4%p"}],changeLog:[{version:"v1.0",date:"2026-01-15",summary:"ANN Classifier  "}]}},"md-s2-consist":{id:"md-s2-consist",definition:{what:"  2   1       .",why:" (: 1   2 AD)    .",whereUsed:[" ","model_support_signal "],responsibility:kt},dataContract:{inputs:[{field:"stage1_risk_band",type:"enum",nullable:!1},{field:"exam_diagnosis",type:"enum(AD|MCI|NORMAL)",nullable:!1}],outputs:[{field:"model_support_signal",type:"enum(||)",nullable:!1},{field:"inconsistency_score",type:"number",nullable:!1}],refreshCadence:""},qualityAudit:{missingRate:0,driftSignals:[{name:" ",level:"mid",note:"  +1.2%p"}],biasAlerts:[],changeLog:[{version:"v1.2",date:"2026-01-10",summary:"  "}]}},"md-transition":{id:"md-transition",definition:{what:"2     (3 //)   .",why:"         .",whereUsed:["3 MCI   ","/ "],responsibility:kt},dataContract:{inputs:[{field:"diagnosis_class",type:"enum(AD|MCI|NORMAL)",nullable:!1}],outputs:[{field:"next_step_policy",type:"enum(3||)",nullable:!1}],refreshCadence:""},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.3",date:"2026-01-10",summary:"MCI   "},{version:"v1.2",date:"2025-10-01",summary:"AD     "}]}},"md-s3-cnn":{id:"md-s3-cnn",definition:{what:"MRI/PET    3     CNN .",why:"     ,       .",whereUsed:["S3    ","Post-Model Guardrails "],responsibility:kt},dataContract:{inputs:[{field:"s3_tensor",type:"tensor[1,208]",nullable:!1,note:"S3 Encoder "}],outputs:[{field:"s3_support_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"  ()"},{field:"s3_support_confidence",type:"number(0-1)",nullable:!1,note:" "},{field:"s3_reason_codes",type:"string[3-5]",nullable:!1,note:"  "}],refreshCadence:"  "},qualityAudit:{missingRate:.8,driftSignals:[{name:"  ",level:"low",note:"KL divergence 0.02 ()"}],biasAlerts:[{group:"1.5T ",level:"mid",note:"3T   -0.08 "}],changeLog:[{version:"v1.0",date:"2026-02-01",summary:"CNN Classifier  "}]}},"md-s3-prio":{id:"md-s3-prio",definition:{what:"MCI       .",why:"        .",whereUsed:["MCI   ","  "],responsibility:kt},dataContract:{inputs:[{field:"diagnosis_class",type:"enum(MCI)",nullable:!1},{field:"followup_history",type:"array",nullable:!0}],outputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1},{field:"recommended_actions",type:"string[]",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:.5,driftSignals:[{name:"  ",level:"low",note:"High  +1.2%p"}],biasAlerts:[{group:" ",level:"high",note:"High  +12%p"}],changeLog:[{version:"v2.0",date:"2026-01-10",summary:"  ",impact:"High  +4.2%p"}]}},"out-score":{id:"out-score",definition:{what:"1    (0100).",why:"         .",whereUsed:["  ","  "],responsibility:kt},dataContract:{outputs:[{field:"risk_score",type:"number(0-100)",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:.3,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-band":{id:"out-band",definition:{what:"  (//).",why:" 3     .",whereUsed:["  ","2   "],responsibility:kt},dataContract:{outputs:[{field:"risk_band",type:"enum(||)",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-reason":{id:"out-reason",definition:{what:"   35  .",why:"      .",whereUsed:["   ","  "],responsibility:kt},dataContract:{outputs:[{field:"reason_codes",type:"string[3-5]",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-diag":{id:"out-diag",definition:{what:"2   (AD/MCI/).   ,   .",why:"        .",whereUsed:["3  ","  "],responsibility:kt},dataContract:{outputs:[{field:"diagnosis_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"  "}],refreshCadence:" (  )"},qualityAudit:{missingRate:8.9,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-signal":{id:"out-signal",definition:{what:"  (//).   1     .",why:"   ,     .",whereUsed:["  "," "],responsibility:kt},dataContract:{outputs:[{field:"model_support_signal",type:"enum(||)",nullable:!1,note:"  "}],refreshCadence:""},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-priority":{id:"out-priority",definition:{what:"MCI  (High/Med/Low) .",why:"        .",whereUsed:["MCI   ","  "],responsibility:kt},dataContract:{outputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:.5,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-actions":{id:"out-actions",definition:{what:"   (// ).",why:"       .",whereUsed:["   ","  "],responsibility:kt},dataContract:{outputs:[{field:"recommended_actions",type:"string[]",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-quality":{id:"out-quality",definition:{what:"   .",why:"        .",whereUsed:["  ","1   "],responsibility:kt},dataContract:{outputs:[{field:"data_quality_flags",type:"string[]",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s2-class":{id:"out-s2-class",definition:{what:"ANN  2   (AD/MCI/NORMAL).      .",why:"   (Consistency Check)   .",whereUsed:["Consistency Check ","S2  "],responsibility:kt},dataContract:{outputs:[{field:"s2_support_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"   ()"}],refreshCadence:"  "},qualityAudit:{missingRate:.5,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s2-conf":{id:"out-s2-conf",definition:{what:"ANN   (01).",why:"     ,      .",whereUsed:["2   "," "],responsibility:kt},dataContract:{outputs:[{field:"s2_support_confidence",type:"number(0-1)",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s2-reason":{id:"out-s2-reason",definition:{what:"ANN   35   .",why:"       .",whereUsed:["Inspector "," "],responsibility:kt},dataContract:{outputs:[{field:"s2_reason_codes",type:"string[3-5]",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s3-class":{id:"out-s3-class",definition:{what:"CNN  3   (AD/MCI/NORMAL).      .",why:"        .",whereUsed:["3  ","Guardrails "],responsibility:kt},dataContract:{outputs:[{field:"s3_support_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"   ()"}],refreshCadence:"  "},qualityAudit:{missingRate:.8,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s3-conf":{id:"out-s3-conf",definition:{what:"CNN   (01).",why:"     .",whereUsed:["   "," "],responsibility:kt},dataContract:{outputs:[{field:"s3_support_confidence",type:"number(0-1)",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s3-reason":{id:"out-s3-reason",definition:{what:"CNN   35   .",why:"       ROI  .",whereUsed:["Inspector "," "],responsibility:kt},dataContract:{outputs:[{field:"s3_reason_codes",type:"string[3-5]",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"md-guardrail":{id:"md-guardrail",definition:{what:"S1/S2/S3     ,  ,     .",why:"           .",whereUsed:["guardrail_flags ","/   "],responsibility:kt},dataContract:{inputs:[{field:"risk_score",type:"number",nullable:!0,note:"S1 "},{field:"s2_support_class",type:"enum",nullable:!0,note:"S2 "},{field:"s3_support_class",type:"enum",nullable:!0,note:"S3 "}],outputs:[{field:"guardrail_flags",type:"string[]",nullable:!1,note:"/ "},{field:"confidence_adjusted",type:"boolean",nullable:!1}],refreshCadence:"   "},qualityAudit:{missingRate:0,driftSignals:[{name:" ",level:"low",note:"2.1% ( )"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2026-02-01",summary:"Guardrails  "}]}},"out-guardrail":{id:"out-guardrail",definition:{what:"Post-Model Guardrails  /  .",why:"        .",whereUsed:["/  "," "],responsibility:kt},dataContract:{outputs:[{field:"guardrail_flags",type:"string[]",nullable:!1,note:"/ "}],refreshCadence:"   "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"dispatch-s1":{id:"dispatch-s1",definition:{what:"S1 (  /  )      .",why:"          .",whereUsed:["S1 Dispatch ","  "," "],responsibility:kt},dataContract:{inputs:[{field:"risk_score",type:"number",nullable:!1},{field:"risk_band",type:"enum",nullable:!1}],outputs:[{field:"dispatch_payload",type:"object[]",nullable:!1,note:"  /   "}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]},batchSummary:{dispatchLogs:gd.filter(e=>e.stage==="S1")}},"dispatch-s2":{id:"dispatch-s2",definition:{what:"S2           .",why:"     /  .",whereUsed:["S2 Dispatch ","  ","2  "],responsibility:kt},dataContract:{inputs:[{field:"diagnosis_class",type:"enum(AD|MCI|NORMAL)",nullable:!1},{field:"model_support_signal",type:"enum(||)",nullable:!1}],outputs:[{field:"dispatch_payload",type:"object[]",nullable:!1,note:"   /  "}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]},batchSummary:{impactedStages:["S2"],dispatchLogs:gd.filter(e=>e.stage==="S2")}},"dispatch-s3":{id:"dispatch-s3",definition:{what:"S3   High         .",why:"/     / .",whereUsed:["S3 Dispatch ","MCI/AD  "," "],responsibility:kt},dataContract:{inputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1},{field:"recommended_actions",type:"string[]",nullable:!1}],outputs:[{field:"dispatch_payload",type:"object[]",nullable:!1,note:"High   /  "}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]},batchSummary:{impactedStages:["S3"],dispatchLogs:gd.filter(e=>e.stage==="S3")}},"ops-case":{id:"ops-case",definition:{what:"        .",why:"        .",whereUsed:["  "],responsibility:kt},dataContract:{inputs:[{field:"risk_score",type:"number",nullable:!1},{field:"risk_band",type:"enum",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-booking":{id:"ops-booking",definition:{what:"  2     .",why:"    2     .",whereUsed:["SMS/ ","  "],responsibility:kt},dataContract:{inputs:[{field:"risk_band",type:"enum",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-resource":{id:"ops-resource",definition:{what:"    (//)   .",why:"      .",whereUsed:["  "," "],responsibility:kt},dataContract:{inputs:[{field:"recommended_actions",type:"string[]",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-tracking":{id:"ops-tracking",definition:{what:"MCI      .",why:"  //   .",whereUsed:["MCI   "," "],responsibility:kt},dataContract:{inputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-s2-prio":{id:"ops-s2-prio",definition:{what:"    2     .",why:" 2        .",whereUsed:["2    "],responsibility:kt},dataContract:{inputs:[{field:"s2_support_confidence",type:"number(0-1)",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-s3-route":{id:"ops-s3-route",definition:{what:"3    (PET/MRI/)   .",why:"CNN         .",whereUsed:["3   "],responsibility:kt},dataContract:{inputs:[{field:"s3_support_confidence",type:"number(0-1)",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-s3-resched":{id:"ops-s3-resched",definition:{what:"Guardrails       .",why:"         .",whereUsed:["  ","  "],responsibility:kt},dataContract:{inputs:[{field:"guardrail_flags",type:"string[]",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}}},P6={ops:{label:"",icon:Rd,color:"bg-blue-600"},quality:{label:"",icon:lh,color:"bg-amber-500"},audit:{label:"",icon:bu,color:"bg-purple-600"}};function WAe({mode:e,onChange:t}){return a.jsx("div",{className:"inline-flex items-center rounded-lg border border-slate-200 bg-white p-0.5 shadow-sm",children:Object.keys(P6).map(r=>{const n=P6[r],s=n.icon,i=e===r;return a.jsxs("button",{onClick:()=>t(r),className:`flex items-center gap-1.5 px-3.5 py-1.5 rounded-md text-xs font-semibold transition-all ${i?`${n.color} text-white shadow-sm`:"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[a.jsx(s,{className:"h-3.5 w-3.5"}),n.label]},r)})})}const VAe={completed:{label:"",chip:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:oo},running:{label:"",chip:"bg-blue-100 text-blue-700 border-blue-200",icon:lo},partial:{label:"",chip:"bg-amber-100 text-amber-700 border-amber-200",icon:da},delayed:{label:"",chip:"bg-orange-100 text-orange-700 border-orange-200",icon:da},failed:{label:"",chip:"bg-red-100 text-red-700 border-red-200",icon:Od}};function YAe({meta:e,onOpenDetail:t}){const r=VAe[e.status],n=r.icon,s=e.status==="partial"||e.status==="delayed"||e.status==="failed";return a.jsxs("div",{className:"bg-white border-b border-slate-200 px-5 py-2.5 flex items-center justify-between gap-3 flex-shrink-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-slate-600",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-slate-100 px-2 py-1 text-slate-700 font-semibold",children:["D-1 : ",e.baseDate]}),a.jsxs("span",{className:"rounded-md bg-slate-50 px-2 py-1 border border-slate-200",children:[" : ",e.receiveDeadline]}),a.jsxs("span",{className:"rounded-md bg-slate-50 px-2 py-1 border border-slate-200",children:[" : ",e.modelWindow]}),a.jsxs("span",{className:"rounded-md bg-slate-50 px-2 py-1 border border-slate-200",children:["  : ",e.dispatchTime]}),a.jsxs("span",{className:`inline-flex items-center gap-1 rounded-md border px-2 py-1 font-semibold ${r.chip}`,children:[a.jsx(n,{className:"h-3 w-3"}),": ",r.label]}),s&&e.impactedStages&&e.impactedStages.length>0&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"text-slate-400",children:" Stage"}),e.impactedStages.map(i=>a.jsx("span",{className:"rounded-md bg-amber-100 text-amber-700 border border-amber-200 px-1.5 py-0.5 font-semibold",children:i},i))]}),e.notes&&a.jsx("span",{className:"text-slate-500",children:e.notes})]}),a.jsx("button",{className:"text-[11px] text-blue-600 hover:text-blue-700 font-semibold whitespace-nowrap",onClick:t,children:"  "})]})}const XAe={good:"border-emerald-200 bg-gradient-to-br from-white to-emerald-50/80 shadow-sm",warn:"border-amber-200 bg-gradient-to-br from-white to-amber-50/80 shadow-sm",risk:"border-red-200 bg-gradient-to-br from-white to-red-50/80 shadow-sm",neutral:"border-slate-200 bg-gradient-to-br from-white to-slate-50/60 shadow-sm"},QAe={good:"bg-emerald-500",warn:"bg-amber-500",risk:"bg-red-500",neutral:"bg-slate-400"};function ZAe({kpi:e,viewMode:t,onJump:r}){const[n,s]=y.useState(!1),i=e.modeOverride?.[t],o=i?.label??e.label,l=i?.value??e.value,u=i?.valuePrefix??e.valuePrefix,d=i?.secondaryValueLine??e.secondaryValueLine,f=i?.unit??e.unit,m=i?.status??e.status??"neutral",h=f===""?l.toLocaleString():`${l}`,x=e.delta==null?null:e.delta>0?a.jsx(e7,{className:"h-3 w-3 text-emerald-500"}):e.delta<0?a.jsx(J6,{className:"h-3 w-3 text-red-500"}):a.jsx(NV,{className:"h-3 w-3 text-slate-400"});return a.jsxs("div",{className:`relative flex flex-col justify-between rounded-xl border p-3.5 transition-all duration-200 ease-out hover:shadow-lg hover:scale-[1.04] hover:-translate-y-0.5 ${XAe[m]} ${e.jumpTo?"cursor-pointer":""}`,onClick:()=>e.jumpTo&&r?.(e.jumpTo),children:[e.help&&a.jsx("button",{className:"absolute top-2 left-2 text-slate-300 hover:text-slate-500",onClick:v=>{v.stopPropagation(),s(!n)},children:a.jsx(KA,{className:"h-3.5 w-3.5"})}),a.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:[a.jsxs("span",{className:"rounded bg-slate-100 px-1.5 py-0.5 text-[9px] text-slate-500",children:[": ",e.baseDate,"  D-1"]}),e.partialStages&&e.partialStages.length>0&&a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[9px] text-amber-700",title:` : ${e.partialStages.join("/")}`,children:" "})]}),n&&e.help&&a.jsxs("div",{className:"absolute top-8 left-2 z-20 w-60 rounded-lg border border-slate-200 bg-white p-3 text-xs shadow-lg",children:[a.jsx("p",{className:"font-semibold text-slate-700 mb-1",children:e.help.title}),a.jsx("p",{className:"text-slate-500 leading-relaxed whitespace-pre-line",children:e.help.body})]}),a.jsxs("div",{className:"flex items-center gap-1.5 mb-2 mt-8",children:[a.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${QAe[m]}`}),a.jsx("span",{className:"text-[11px] font-medium text-slate-500 leading-tight truncate",children:o})]}),a.jsxs("div",{className:"flex items-end gap-1.5",children:[a.jsxs("span",{className:"text-xl font-bold text-slate-800 leading-none",children:[u?`${u} `:"",h]}),f&&a.jsx("span",{className:"text-xs text-slate-400 mb-0.5",children:f})]}),d&&a.jsx("p",{className:"mt-1 text-[10px] text-slate-500 font-medium",children:d}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-[10px] text-slate-400",children:e.scopeLine}),e.delta!=null&&a.jsxs("span",{className:"flex items-center gap-0.5 text-[10px] text-slate-500",children:[x,Math.abs(e.delta),f===""||f===""?"":"%p"]})]})]})}function JAe({kpis:e,viewMode:t,onJump:r}){return a.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-8 gap-3",children:e.map(n=>a.jsx(ZAe,{kpi:n,viewMode:t,onJump:r},n.key))})}const eCe={stage1:{bg:"bg-blue-50/60",border:"border-blue-200",accent:"text-blue-700",headerBg:"bg-blue-600"},stage2:{bg:"bg-amber-50/60",border:"border-amber-200",accent:"text-amber-700",headerBg:"bg-amber-500"},stage3:{bg:"bg-emerald-50/60",border:"border-emerald-200",accent:"text-emerald-700",headerBg:"bg-emerald-600"}},i5={stage1:"S1",stage2:"S2",stage3:"S3"},vy={completed:{label:"",badgeClass:"bg-emerald-100 text-emerald-700 border-emerald-200"},partial:{label:" ",badgeClass:"bg-amber-100 text-amber-700 border-amber-200"},delayed:{label:"",badgeClass:"bg-orange-100 text-orange-700 border-orange-200"},failed:{label:"",badgeClass:"bg-red-100 text-red-700 border-red-200"}};function tCe(){const[e,t]=y.useState(!1);return y.useEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia("(hover: none), (pointer: coarse)"),n=()=>t(r.matches||navigator.maxTouchPoints>0);return n(),r.addEventListener?.("change",n),()=>r.removeEventListener?.("change",n)},[]),e}function Mq(e,t,r){const n=r.filter(i=>i.stage===e),s=!!t.impactedStages?.includes(e);return n.some(i=>i.slaStatus==="breached")||t.status==="failed"&&s?"failed":n.some(i=>i.slaStatus==="delayed")||t.status==="delayed"&&s?"delayed":n.some(i=>i.failedCount>0||i.retryCount>0)||t.status==="partial"&&s?"partial":"completed"}function rCe(e,t,r){const n=i5[e.stageId],s=Mq(n,t,r),i=vy[s].label,o=s==="partial"||s==="delayed"||s==="failed";return e.stageId==="stage1"?{dispatchState:s,meta:{stage:n,title:"Stage1  1 ",baseDate:t.baseDate,definition:"//      ",denominator:{label:"",n:e.metrics.applied},coverage:{receivedPct:e.metrics.appliedRate,partial:o,notes:t.notes},outputs:["   ","2()  / "," ( )"],caution:"   / ",modelChip:`ML ${e.processing[0]?.version??"v-"}`,dispatchChip:`: ${i}`}}:e.stageId==="stage2"?{dispatchState:s,meta:{stage:n,title:"Stage2  2 ",baseDate:t.baseDate,definition:"   ,     ",denominator:{label:"  ",n:Gl.receivedN},coverage:{receivedPct:t.receiveRate,partial:o,notes:t.notes},outputs:["AD/MCI/  ","/ ","  "],caution:"      ()",modelChip:"ANN v1.0",dispatchChip:`: ${i}`}}:{dispatchState:s,meta:{stage:n,title:"Stage3  3 ",baseDate:t.baseDate,definition:"MCI    /   ",denominator:{label:" ",n:e.metrics.applied},coverage:{receivedPct:e.metrics.appliedRate,partial:o,notes:t.notes},outputs:[" High "," (//)"," / "],caution:"      ",modelChip:"CNN v1.0",dispatchChip:`: ${i}`}}}function D6({hoverMeta:e,dispatchState:t,onOpenDetail:r}){const n=e.coverage?.receivedPct!=null?`${e.coverage.receivedPct.toFixed(1)}%`:"-",s=e.coverage?.partial?" ":"",i=vy[t];return a.jsxs("div",{className:"w-[340px] rounded-lg border border-slate-200 bg-white p-2.5 text-[11px] leading-4 shadow-xl",children:[a.jsxs("p",{className:"flex items-center justify-between gap-2 text-slate-800 font-semibold",children:[a.jsx("span",{className:"truncate",children:e.title}),a.jsx("span",{className:`shrink-0 rounded border px-1.5 py-0.5 text-[10px] font-semibold ${i.badgeClass}`,children:i.label})]}),a.jsxs("p",{className:"mt-1 truncate text-slate-500",children:["(D-1): ",e.baseDate,"  ",e.modelChip??" ","  ",e.dispatchChip??": -"]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",e.definition]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",e.denominator.label," ",e.denominator.n.toLocaleString(),"   ",n,"  ",s]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",e.outputs.slice(0,3).join(" / ")]}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsxs("p",{className:"min-w-0 flex-1 truncate text-slate-500",children:[": ",e.caution??"-"]}),a.jsxs("button",{className:"inline-flex items-center gap-1 text-[10px] font-semibold text-blue-600 hover:text-blue-700 shrink-0",onClick:o=>{o.stopPropagation(),r()},children:[" ",a.jsx(qn,{className:"h-3 w-3"})]})]})]})}function nCe({stage:e,viewMode:t,isSelected:r,isBatchImpacted:n,hoverMeta:s,dispatchState:i,isTouchDevice:o,onOpenDetail:l,onClick:u}){const d=eCe[e.stageId],[f,m]=y.useState(!1),[h,x]=y.useState(!1),[v,N]=y.useState(!1),b=y.useCallback(()=>{x(!1),N(!1),l()},[l]),S=a.jsxs("div",{className:`relative pt-2 rounded-xl border-2 transition-all cursor-pointer ${d.bg} ${r?`${d.border} shadow-lg ring-2 ring-offset-1 ring-blue-300`:`${d.border} hover:shadow-md`}`,onClick:u,role:"button",tabIndex:0,onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),u())},children:[a.jsx("span",{className:"absolute left-3 -top-2.5 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[10px] font-semibold text-slate-700 whitespace-nowrap",children:e.examLabel}),a.jsxs("div",{className:`${d.headerBg} rounded-t-[10px] px-4 py-2.5 flex items-center justify-between`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-white/80 text-xs font-mono",children:e.stageId.toUpperCase()}),a.jsx("span",{className:"text-white font-semibold text-sm",children:e.title})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[n&&a.jsx("span",{className:"rounded bg-amber-100/90 px-1.5 py-0.5 text-[9px] font-semibold text-amber-700",children:" "}),o&&a.jsxs(Rq,{open:v,onOpenChange:N,children:[a.jsx(Pq,{asChild:!0,children:a.jsx("button",{className:"text-[11px] font-semibold text-white/90 hover:text-white rounded px-1",onClick:j=>j.stopPropagation(),"aria-label":`${s.title} `,children:""})}),a.jsx(Dq,{children:a.jsx(Iq,{side:"top",align:"end",sideOffset:8,collisionPadding:12,className:"z-50 p-0 bg-transparent border-0 shadow-none",children:a.jsx(D6,{hoverMeta:s,dispatchState:i,onOpenDetail:b})})})]}),a.jsx("button",{className:"text-white/70 hover:text-white",onClick:j=>{j.stopPropagation(),m(!f)},children:f?a.jsx(Hn,{className:"h-4 w-4"}):a.jsx(vs,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"px-4 py-2 border-b border-dashed border-slate-200/80",children:a.jsx("p",{className:"text-[11px] text-slate-500 italic",children:e.purposeLine})}),e.stageId==="stage2"&&a.jsx("div",{className:"mx-4 mt-2 rounded-md border border-amber-200 bg-amber-50 px-2.5 py-1.5 text-[10px] text-amber-700 font-semibold",children:"  =      = ()"}),a.jsxs("div",{className:"px-4 py-3 grid grid-cols-2 gap-x-4 gap-y-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsxs("span",{className:"ml-1.5 font-bold text-slate-700",children:[e.metrics.applied.toLocaleString(),""]})]}),e.metrics.appliedRate!=null&&a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsxs("span",{className:"ml-1.5 font-bold text-slate-700",children:[e.metrics.appliedRate,"%"]})]}),e.metrics.conversionRate!=null&&a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsxs("span",{className:"ml-1.5 font-bold text-slate-700",children:[e.metrics.conversionRate,"%"]})]}),e.metrics.avgLatencyDays!=null&&a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsxs("span",{className:"ml-1.5 font-bold text-slate-700",children:[e.metrics.avgLatencyDays,""]})]})]}),t==="quality"&&a.jsxs("div",{className:"mx-4 mb-2 px-2.5 py-1.5 bg-amber-100/80 rounded text-[10px] text-amber-700 flex items-center gap-1",children:[a.jsx(da,{className:"h-3 w-3"}),"   ",e.metrics.topIssues?.length??0,""]}),t==="audit"&&a.jsxs("div",{className:"mx-4 mb-2 px-2.5 py-1.5 bg-purple-100/80 rounded text-[10px] text-purple-700 flex items-center gap-1",children:[a.jsx(bu,{className:"h-3 w-3"})," : ",e.processing[0]?.version??"-"]}),f&&a.jsxs("div",{className:"px-4 pb-3 space-y-2.5 border-t border-slate-200/60 mt-1 pt-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(pc,{className:"h-3 w-3"})," "]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.inputs.map(j=>a.jsx("span",{className:"inline-block bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded",children:j.name},j.name))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(a7,{className:"h-3 w-3"})," /"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.processing.map(j=>a.jsxs("span",{className:"inline-flex items-center gap-1 bg-slate-100 text-slate-600 text-[10px] px-1.5 py-0.5 rounded",children:[j.name,j.version&&a.jsx("span",{className:"text-slate-400 font-mono",children:j.version})]},j.name))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(hm,{className:"h-3 w-3"})," "]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.outputs.map(j=>a.jsx("span",{className:"inline-block bg-emerald-100 text-emerald-700 text-[10px] px-1.5 py-0.5 rounded font-mono",children:j.name},j.name))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(XA,{className:"h-3 w-3"})," "]}),e.transition.map((j,A)=>a.jsxs("p",{className:"text-[10px] text-slate-500 ml-4",children:[" ",j.to==="end"?"":j.to.toUpperCase(),": ",j.ruleLine]},A))]}),e.metrics.topIssues&&e.metrics.topIssues.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(da,{className:"h-3 w-3"}),"  "]}),e.metrics.topIssues.map(j=>a.jsxs("div",{className:"flex items-center justify-between text-[10px] text-slate-500 ml-4",children:[a.jsx("span",{className:"font-mono text-slate-400",children:j.code}),a.jsx("span",{children:j.label}),a.jsx("span",{className:"font-bold text-slate-600",children:j.count.toLocaleString()})]},j.code))]})]})]});return o?S:a.jsxs(xq,{open:h,onOpenChange:x,delayDuration:180,children:[a.jsx(yq,{asChild:!0,children:S}),a.jsx(bq,{children:a.jsxs(vq,{side:"top",align:"end",sideOffset:8,collisionPadding:12,className:"z-50 p-0 bg-transparent border-0 shadow-none",children:[a.jsx(D6,{hoverMeta:s,dispatchState:i,onOpenDetail:b}),a.jsx(Nq,{className:"fill-white"})]})})]})}function aCe({stages:e,viewMode:t,selectedStage:r,batchMeta:n,dispatchLogs:s,onSelectStage:i,onOpenStageDetail:o}){const l=tCe(),u=y.useMemo(()=>e.reduce((d,f)=>(d[f.stageId]=rCe(f,n,s),d),{}),[e,n,s]);return a.jsx(gq,{delayDuration:180,children:a.jsx("div",{className:"flex items-stretch gap-3",children:e.map((d,f)=>{const m=u[d.stageId];return a.jsxs(z.Fragment,{children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx(nCe,{stage:d,viewMode:t,isSelected:r===d.stageId,isBatchImpacted:!!n.impactedStages?.includes(i5[d.stageId]),hoverMeta:m.meta,dispatchState:m.dispatchState,isTouchDevice:l,onClick:()=>i(d.stageId),onOpenDetail:()=>o(d.stageId)})}),f<e.length-1&&a.jsx("div",{className:"flex items-center",children:a.jsx(hm,{className:"h-5 w-5 text-slate-300"})})]},d.stageId)})})})}const hg=[{key:"input",label:"INPUT SOURCES",labelKo:" ",color:"#3b82f6",bg:"#dbeafe",bgSoft:"bg-blue-50/40",borderColor:"border-blue-200",icon:pc},{key:"feature",label:"FEATURE BUILDER",labelKo:" ",color:"#8b5cf6",bg:"#ede9fe",bgSoft:"bg-violet-50/40",borderColor:"border-violet-200",icon:sW},{key:"model",label:"MODELS & RULES",labelKo:" / ",color:"#f59e0b",bg:"#fef3c7",bgSoft:"bg-amber-50/40",borderColor:"border-amber-200",icon:a7},{key:"output",label:"OUTPUTS",labelKo:"",color:"#10b981",bg:"#d1fae5",bgSoft:"bg-emerald-50/40",borderColor:"border-emerald-200",icon:hm},{key:"dispatch",label:"DISPATCH",labelKo:"",color:"#2563eb",bg:"#dbeafe",bgSoft:"bg-blue-50/30",borderColor:"border-blue-200",icon:co},{key:"ops",label:"DOWNSTREAM OPS",labelKo:" ",color:"#ef4444",bg:"#fee2e2",bgSoft:"bg-red-50/40",borderColor:"border-red-200",icon:XA}],BA={stage1:{bg:"bg-blue-100",text:"text-blue-600",label:"S1"},stage2:{bg:"bg-amber-100",text:"text-amber-600",label:"S2"},stage3:{bg:"bg-emerald-100",text:"text-emerald-600",label:"S3"},common:{bg:"bg-slate-100",text:"text-slate-500",label:""}};function sCe({node:e,meta:t,isSelected:r,isHovered:n,isConnected:s,dimmed:i,onSelect:o,onHover:l,onLeave:u}){const d=e.stageTag?BA[e.stageTag]:null;return a.jsxs("button",{onClick:o,onMouseEnter:l,onMouseLeave:u,className:`
        group relative w-full text-left rounded-lg border px-3 py-2.5
        transition-all duration-150 ease-out
        ${e.isExternal?"border-dashed":""}
        ${r?"shadow-md ring-2 ring-offset-1 text-white":n||s?"shadow-sm -translate-y-0.5":i?"opacity-30":"hover:shadow-sm hover:-translate-y-0.5"}
      `,style:{background:r?t.color:n?t.bg:"#ffffff",borderColor:r||n||s?t.color:e.isExternal?"#f59e0b":"#e2e8f0",...s&&!r&&!n?{borderColor:t.color,borderWidth:2}:{}},children:[d&&a.jsx("span",{className:`absolute -top-1.5 -left-1 text-[7px] font-bold px-1 py-px rounded ${r?"bg-white/30 text-white":`${d.bg} ${d.text}`}`,children:d.label}),e.isExternal&&!r&&a.jsx("span",{className:"absolute -top-1.5 -right-1 text-[7px] font-bold px-1 py-px rounded bg-amber-100 text-amber-600",children:""}),a.jsx("p",{className:`text-[11px] font-semibold leading-tight truncate ${r?"text-white":"text-slate-700"}`,children:e.label}),a.jsx("p",{className:`text-[9px] mt-0.5 leading-tight truncate ${r?"text-white/70":"text-slate-400"}`,children:e.shortDesc}),s&&!r&&a.jsx("span",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full ring-2 ring-white",style:{background:t.color}})]})}function iCe({nodes:e,edges:t,selectedNode:r,onSelectNode:n,viewMode:s}){const[i,o]=y.useState(null),l=y.useMemo(()=>{const x={};for(const v of e)(x[v.group]??=[]).push(v);return x},[e]),u=["stage1","stage2","stage3","common",void 0],d={stage1:"Stage 1",stage2:"Stage 2",stage3:"Stage 3",common:""},f=y.useMemo(()=>{const x={};for(const v of hg){const N=l[v.key]??[],b=[];for(const S of u){const j=N.filter(A=>(A.stageTag??void 0)===S);j.length>0&&b.push({tag:S??"etc",label:d[S??""]??"",nodes:j})}x[v.key]=b}return x},[l]),{connectedNodes:m}=y.useMemo(()=>{const x=i??r;if(!x)return{connectedNodes:new Set};const v=new Set;for(const N of t)(N.from===x||N.to===x)&&(v.add(N.from),v.add(N.to));return{connectedNodes:v}},[t,i,r]),h=i!=null||r!=null;return a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"grid grid-cols-6 border-b border-slate-100",children:hg.map(x=>{const v=x.icon;return a.jsxs("div",{className:`flex flex-col items-center gap-0.5 py-3 ${x.bgSoft} border-r last:border-r-0 ${x.borderColor}`,children:[a.jsx(v,{className:"h-4 w-4",style:{color:x.color}}),a.jsx("span",{className:"text-[10px] font-bold tracking-wider",style:{color:x.color},children:x.label}),a.jsx("span",{className:"text-[9px] text-slate-400",children:x.labelKo})]},x.key)})}),a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",preserveAspectRatio:"none"}),a.jsx("div",{className:"grid grid-cols-6 min-h-[420px]",children:hg.map((x,v)=>{const N=f[x.key]??[];return a.jsx("div",{className:`flex flex-col gap-1.5 p-3 ${x.bgSoft} ${v<hg.length-1?`border-r ${x.borderColor}`:""}`,children:N.map((b,S)=>a.jsxs(z.Fragment,{children:[b.label&&a.jsx("div",{className:`flex items-center gap-1 ${S>0?"mt-2 pt-2 border-t border-dashed border-slate-200/60":""}`,children:a.jsx("span",{className:`text-[8px] font-bold px-1 py-px rounded ${BA[b.tag]?.bg??"bg-slate-100"} ${BA[b.tag]?.text??"text-slate-400"}`,children:b.label})}),b.nodes.map(j=>{const A=r===j.id,_=i===j.id,E=m.has(j.id);return a.jsx(sCe,{node:j,meta:x,isSelected:A,isHovered:_,isConnected:E&&!A&&!_,dimmed:h&&!E&&!A&&!_,onSelect:()=>n(j.id),onHover:()=>o(j.id),onLeave:()=>o(null)},j.id)})]},b.tag))},x.key)})})]}),(i||r)&&(()=>{const x=i??r,v=e.find(b=>b.id===x),N=t.filter(b=>b.from===x||b.to===x);return!v||N.length===0?null:a.jsxs("div",{className:"border-t border-slate-100 bg-slate-50/80 px-4 py-2.5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[a.jsx("span",{className:"text-[10px] font-bold text-slate-600",children:v.label}),a.jsx("span",{className:"text-[9px] text-slate-400",children:"  "})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:N.map(b=>{const S=b.from===x,j=S?b.to:b.from,A=e.find(_=>_.id===j);return a.jsxs("span",{className:"inline-flex items-center gap-1 text-[9px] bg-white border border-slate-200 rounded px-2 py-0.5 text-slate-500",children:[S?"":"",a.jsx("span",{className:"font-medium text-slate-700",children:A?.label??j}),b.label&&a.jsxs("span",{className:"text-slate-300",children:["(",b.label,")"]})]},`${b.from}-${b.to}`)})})]})})(),s==="quality"&&a.jsxs("div",{className:"border-t border-amber-200 bg-amber-50 px-4 py-2 text-[10px] text-amber-700 flex items-center gap-1.5",children:[a.jsx(da,{className:"h-3 w-3"})," :      "]}),s==="audit"&&a.jsxs("div",{className:"border-t border-purple-200 bg-purple-50 px-4 py-2 text-[10px] text-purple-700 flex items-center gap-1.5",children:[a.jsx(bu,{className:"h-3 w-3"})," :    /   Inspector "]})]})}const oCe=[{id:"definition",label:"",icon:YW},{id:"contract",label:" ",icon:pc},{id:"quality",label:"/",icon:bu}];function lCe({content:e,viewMode:t,selectedContext:r,stages:n,batchMeta:s,dispatchLogs:i,focusMode:o,focusNonce:l}){const[u,d]=y.useState("definition"),f=y.useRef(null),m=y.useMemo(()=>{const S={};for(const j of n)S[j.stageId]=j;return S},[n]),h=r?m[r]:null,x=h?i5[h.stageId]:null,v=x?i.filter(S=>S.stage===x):[],N=x?Mq(x,s,i):null,b=!!h;return y.useEffect(()=>{o==="stage-detail"&&b&&(l<1||(d("quality"),requestAnimationFrame(()=>{f.current?.scrollTo({top:0,behavior:"smooth"})})))},[o,l,b]),e?a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"border-b border-slate-200 px-4 pt-3 pb-0",children:[a.jsxs("p",{className:"text-xs font-bold text-slate-700 mb-2 flex items-center gap-1.5",children:[a.jsx(wW,{className:"h-3.5 w-3.5 text-blue-500"}),e.id]}),a.jsx("div",{className:"flex gap-1",children:oCe.map(S=>{const j=S.icon;return a.jsxs("button",{onClick:()=>d(S.id),className:`flex items-center gap-1 px-2.5 py-1.5 text-[11px] font-medium rounded-t-md transition ${u===S.id?"bg-white border border-b-0 border-slate-200 text-slate-800 -mb-px":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(j,{className:"h-3 w-3"}),S.label]},S.id)})})]}),a.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto p-4 text-xs leading-relaxed space-y-3",children:[u==="definition"&&a.jsxs(a.Fragment,{children:[a.jsx(oa,{title:" ",children:a.jsx("p",{className:"text-slate-600",children:e.definition.what})}),a.jsx(oa,{title:" ",children:a.jsx("p",{className:"text-slate-600",children:e.definition.why})}),a.jsx(oa,{title:" ",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:e.definition.whereUsed.map(S=>a.jsx("span",{className:"bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded text-[10px]",children:S},S))})}),a.jsx(oa,{title:" ",children:a.jsxs("p",{className:"text-slate-600 font-medium bg-amber-50 px-2 py-1.5 rounded border border-amber-200",children:[" ",e.definition.responsibility]})}),e.batchSummary&&a.jsx(oa,{title:"  ",children:a.jsxs("div",{className:"space-y-1.5",children:[e.batchSummary.impactedStages&&e.batchSummary.impactedStages.length>0&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-slate-400",children:" Stage"}),e.batchSummary.impactedStages.map(S=>a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-semibold text-amber-700",children:S},S))]}),e.batchSummary.receiveRate!=null&&a.jsxs("p",{className:"text-slate-600",children:["  : ",a.jsxs("span",{className:"font-semibold",children:[e.batchSummary.receiveRate,"%"]})]}),e.batchSummary.missingInstitutionCount!=null&&a.jsxs("p",{className:"text-slate-600",children:["  : ",a.jsxs("span",{className:"font-semibold",children:[e.batchSummary.missingInstitutionCount,""]})]}),e.batchSummary.expectedRetryAt&&a.jsxs("p",{className:"text-slate-600",children:["  : ",a.jsx("span",{className:"font-semibold",children:e.batchSummary.expectedRetryAt})]})]})})]}),u==="contract"&&a.jsxs(a.Fragment,{children:[e.dataContract.inputs&&a.jsx(oa,{title:" ",children:a.jsxs("table",{className:"w-full text-[10px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-slate-400 border-b border-slate-100",children:[a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-center py-1",children:"null"}),a.jsx("th",{className:"text-left py-1",children:""})]})}),a.jsx("tbody",{children:e.dataContract.inputs.map(S=>a.jsxs("tr",{className:"border-b border-slate-50",children:[a.jsx("td",{className:"py-1 font-mono text-slate-700",children:S.field}),a.jsx("td",{className:"py-1 text-slate-500",children:S.type}),a.jsx("td",{className:"py-1 text-center",children:S.nullable?"":""}),a.jsx("td",{className:"py-1 text-slate-400",children:S.note??""})]},S.field))})]})}),e.dataContract.outputs&&a.jsx(oa,{title:" ",children:a.jsxs("table",{className:"w-full text-[10px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-slate-400 border-b border-slate-100",children:[a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-center py-1",children:"null"}),a.jsx("th",{className:"text-left py-1",children:""})]})}),a.jsx("tbody",{children:e.dataContract.outputs.map(S=>a.jsxs("tr",{className:"border-b border-slate-50",children:[a.jsx("td",{className:"py-1 font-mono text-slate-700",children:S.field}),a.jsx("td",{className:"py-1 text-slate-500",children:S.type}),a.jsx("td",{className:"py-1 text-center",children:S.nullable?"":""}),a.jsx("td",{className:"py-1 text-slate-400",children:S.note??""})]},S.field))})]})}),e.dataContract.refreshCadence&&a.jsx(oa,{title:" ",children:a.jsxs("span",{className:"inline-flex items-center gap-1 bg-slate-100 text-slate-600 px-2 py-1 rounded",children:[a.jsx(lo,{className:"h-3 w-3"}),e.dataContract.refreshCadence]})})]}),u==="quality"&&a.jsxs(a.Fragment,{children:[b&&h&&N&&a.jsxs(a.Fragment,{children:[a.jsx(oa,{title:"Daily Batch Timeline",children:a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-2.5 text-[11px] text-slate-600 space-y-1",children:[a.jsxs("p",{className:"flex items-center justify-between",children:[a.jsx("span",{children:h.examLabel}),a.jsx("span",{className:`rounded border px-1.5 py-0.5 text-[10px] font-semibold ${vy[N].badgeClass}`,children:vy[N].label})]}),a.jsxs("p",{children:["(D-1): ",s.baseDate]}),a.jsxs("p",{children:["  ",s.receiveDeadline,"   ",s.modelWindow,"   ",s.dispatchTime]}),s.impactedStages?.includes(x)&&a.jsxs("p",{className:"text-amber-700",children:["   Stage (",x,")"]})]})}),a.jsx(oa,{title:"Model Meta",children:a.jsxs("div",{className:"rounded-md border border-slate-200 bg-white p-2.5 text-[11px] text-slate-600 space-y-1",children:[h.processing.map(S=>a.jsxs("p",{children:[S.name,S.version?a.jsx("span",{className:"ml-1 text-slate-400 font-mono",children:S.version}):null]},S.name)),a.jsx("p",{className:"text-slate-500",children:h.stageId==="stage2"?"  =   /   = ()":h.stageId==="stage3"?"      ":" /  "})]})}),a.jsx(oa,{title:"Dispatch Log",children:a.jsxs("table",{className:"w-full text-[10px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-slate-400 border-b border-slate-100",children:[a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:"/"}),a.jsx("th",{className:"text-left py-1",children:"SLA"})]})}),a.jsxs("tbody",{children:[v.map(S=>a.jsxs("tr",{className:"border-b border-slate-50 text-slate-600",children:[a.jsx("td",{className:"py-1",children:S.destination}),a.jsx("td",{className:"py-1 text-right",children:S.sentCount.toLocaleString()}),a.jsxs("td",{className:"py-1 text-right",children:[S.failedCount,"/",S.retryCount]}),a.jsx("td",{className:"py-1",children:S.slaStatus})]},`${S.stage}-${S.destination}`)),v.length===0&&a.jsx("tr",{children:a.jsx("td",{className:"py-2 text-slate-400",colSpan:4,children:"  ."})})]})]})})]}),!b&&e.batchSummary?.impactedMetrics&&e.batchSummary.impactedMetrics.length>0&&a.jsx(oa,{title:" ",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:e.batchSummary.impactedMetrics.map(S=>a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-medium text-amber-700",children:S},S))})}),e.qualityAudit.missingRate!=null&&a.jsx(oa,{title:" ",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-slate-100 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${e.qualityAudit.missingRate>5?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(e.qualityAudit.missingRate*5,100)}%`}})}),a.jsxs("span",{className:"text-slate-600 font-bold",children:[e.qualityAudit.missingRate,"%"]})]})}),e.qualityAudit.driftSignals&&e.qualityAudit.driftSignals.length>0&&a.jsx(oa,{title:"Drift ",children:e.qualityAudit.driftSignals.map(S=>a.jsxs("div",{className:"flex items-start gap-2 bg-slate-50 p-2 rounded mb-1",children:[a.jsx(I6,{level:S.level}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-700",children:S.name}),a.jsx("p",{className:"text-slate-400",children:S.note})]})]},S.name))}),e.qualityAudit.biasAlerts&&e.qualityAudit.biasAlerts.length>0&&a.jsx(oa,{title:" ",children:e.qualityAudit.biasAlerts.map(S=>a.jsxs("div",{className:"flex items-start gap-2 bg-slate-50 p-2 rounded mb-1",children:[a.jsx(I6,{level:S.level}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-700",children:S.group}),a.jsx("p",{className:"text-slate-400",children:S.note})]})]},S.group))}),e.qualityAudit.changeLog&&e.qualityAudit.changeLog.length>0&&a.jsx(oa,{title:" ",children:a.jsx("div",{className:"space-y-1.5",children:e.qualityAudit.changeLog.map(S=>a.jsx("div",{className:"flex items-start gap-2 border-l-2 border-blue-300 pl-2.5",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono font-semibold text-blue-600",children:S.version}),a.jsx("span",{className:"text-slate-400",children:S.date})]}),a.jsx("p",{className:"text-slate-600",children:S.summary}),S.impact&&a.jsxs("p",{className:"text-slate-400 mt-0.5",children:[": ",S.impact]})]})},S.version+S.date))})}),!b&&e.batchSummary?.dispatchLogs&&e.batchSummary.dispatchLogs.length>0&&a.jsx(oa,{title:"DISPATCH ",children:a.jsxs("table",{className:"w-full text-[10px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-slate-400 border-b border-slate-100",children:[a.jsx("th",{className:"text-left py-1",children:"Stage"}),a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:"/"}),a.jsx("th",{className:"text-left py-1",children:"SLA"})]})}),a.jsx("tbody",{children:e.batchSummary.dispatchLogs.map(S=>a.jsxs("tr",{className:"border-b border-slate-50 text-slate-600",children:[a.jsx("td",{className:"py-1 font-semibold",children:S.stage}),a.jsx("td",{className:"py-1",children:S.destination}),a.jsx("td",{className:"py-1 text-right",children:S.sentCount.toLocaleString()}),a.jsxs("td",{className:"py-1 text-right",children:[S.failedCount,"/",S.retryCount]}),a.jsx("td",{className:"py-1",children:S.slaStatus})]},`${S.stage}-${S.destination}`))})]})})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 text-xs p-6",children:[a.jsx(Dd,{className:"h-8 w-8 mb-2 text-slate-300"}),a.jsx("p",{children:"     "}),a.jsx("p",{children:"    ."})]})}function oa({title:e,children:t}){return a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1.5",children:e}),t]})}function I6({level:e}){const t={low:"bg-emerald-100 text-emerald-700",mid:"bg-amber-100 text-amber-700",high:"bg-red-100 text-red-700"};return a.jsx("span",{className:`inline-block text-[9px] font-bold px-1.5 py-0.5 rounded ${t[e]}`,children:e.toUpperCase()})}function cCe(){const[e,t]=y.useState("ops"),[r,n]=y.useState(null),[s,i]=y.useState("default"),[o,l]=y.useState(0),u=am,d=y.useRef({}),f=y.useCallback(v=>{n(v),i("default"),d.current[v]?.scrollIntoView({behavior:"smooth",block:"center"})},[]),m=y.useCallback(v=>{n(v),i("default")},[]),h=y.useCallback(v=>{n(v),i("stage-detail"),l(N=>N+1),d.current[v]?.scrollIntoView({behavior:"smooth",block:"center"})},[]),x=r?KAe[r]??null:null;return a.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-slate-50",children:[a.jsxs("div",{className:"bg-slate-700 text-slate-300 text-[10px] text-center py-1.5 px-4 flex-shrink-0",children:[a.jsx(xm,{className:"inline h-3 w-3 mr-1 -mt-0.5"}),"      ,     .        ."]}),a.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-white border-b border-slate-200 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-base font-bold text-slate-800",children:"  "}),a.jsx("span",{className:"text-[10px] text-slate-400 bg-slate-100 px-2 py-0.5 rounded",children:" : 2026-02-13 09:00"})]}),a.jsx(WAe,{mode:e,onChange:t})]}),a.jsx(YAe,{meta:u,onOpenDetail:()=>m("batch-cycle")}),a.jsxs("div",{className:"flex-1 flex min-h-0 overflow-hidden",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Pipeline KPI"}),a.jsx("span",{className:"text-[9px] bg-slate-100 text-slate-400 px-1.5 py-0.5 rounded",children:e==="ops"?" ":e==="quality"?" ":" "})]}),a.jsx(JAe,{kpis:HAe,viewMode:e,onJump:f})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"3  "}),a.jsx("div",{ref:v=>{d.current.stage1=v}}),a.jsx(aCe,{stages:nE,viewMode:e,batchMeta:u,dispatchLogs:gd,selectedStage:r,onSelectStage:m,onOpenStageDetail:h}),nE.map(v=>a.jsx("div",{ref:N=>{d.current[v.stageId]=N}},v.stageId))]}),a.jsxs("section",{children:[a.jsxs("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:["Model Use Map    ",a.jsx("span",{className:"text-[9px] bg-slate-100 text-slate-400 px-1.5 py-0.5 rounded font-normal normal-case",children:"    Inspector "})]}),a.jsx(iCe,{nodes:qAe,edges:GAe,selectedNode:r,onSelectNode:m,viewMode:e})]}),a.jsxs("section",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[a.jsxs("h3",{className:"text-xs font-bold text-slate-700 mb-2 flex items-center gap-1.5",children:[a.jsx(xm,{className:"h-3.5 w-3.5 text-amber-500"}),"Stage 2      "]}),a.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 mb-3 text-[11px] font-semibold text-amber-700",children:"  =      = ()"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-[11px]",children:[a.jsxs("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-200",children:[a.jsx("p",{className:"font-semibold text-amber-700 mb-1",children:"2   (  )"}),a.jsx("p",{className:"text-amber-600",children:"    (AD / MCI / )"}),a.jsx("p",{className:"text-amber-500 mt-1 italic",children:"  /  "})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[a.jsx("p",{className:"font-semibold text-blue-700 mb-1",children:"  "}),a.jsx("p",{className:"text-blue-600",children:" /  /  "}),a.jsx("p",{className:"text-blue-500 mt-1 italic",children:"   ,  "})]})]}),u.status==="partial"&&a.jsxs("p",{className:"mt-3 text-[11px] text-amber-700",children:["  :  ",u.receiveRate,"%    ",u.missingInstitutionCount,"    ",u.expectedRetryAt]})]}),a.jsxs("section",{className:"bg-slate-100/50 rounded-xl border border-slate-200 p-4",children:[a.jsxs("h3",{className:"text-xs font-bold text-slate-600 mb-2 flex items-center gap-1.5",children:[a.jsx(c7,{className:"h-3.5 w-3.5"}),"View Mode "]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-[10px]",children:[a.jsxs("div",{className:`p-2.5 rounded-lg border ${e==="ops"?"bg-blue-50 border-blue-300":"bg-white border-slate-200"}`,children:[a.jsx("p",{className:"font-semibold text-blue-700",children:" "}),a.jsx("p",{className:"text-slate-500 mt-0.5",children:", , , "})]}),a.jsxs("div",{className:`p-2.5 rounded-lg border ${e==="quality"?"bg-amber-50 border-amber-300":"bg-white border-slate-200"}`,children:[a.jsx("p",{className:"font-semibold text-amber-700",children:" "}),a.jsx("p",{className:"text-slate-500 mt-0.5",children:", drift,  "})]}),a.jsxs("div",{className:`p-2.5 rounded-lg border ${e==="audit"?"bg-purple-50 border-purple-300":"bg-white border-slate-200"}`,children:[a.jsx("p",{className:"font-semibold text-purple-700",children:" "}),a.jsx("p",{className:"text-slate-500 mt-0.5",children:"/ ,  , SLA"})]})]})]})]}),a.jsx("div",{className:"w-80 border-l border-slate-200 bg-white flex-shrink-0",children:a.jsx(lCe,{content:x,viewMode:e,selectedContext:r,stages:nE,batchMeta:u,dispatchLogs:gd,focusMode:s,focusNonce:o})})]})]})}function uCe(){return a.jsx(cCe,{})}const dCe=720*60*60*1e3,Lq={Stage1:["signalQuality","bottleneckRisk"],Stage2:["dataReadiness","bottleneckRisk"],Stage3:["governanceSafety","dataQuality"]},aE={signalQuality:{label:"",chipClass:"bg-blue-50 text-blue-700 border-blue-200",stroke:"#2563eb"},policyImpact:{label:"",chipClass:"bg-violet-50 text-violet-700 border-violet-200",stroke:"#7c3aed"},bottleneckRisk:{label:"",chipClass:"bg-red-50 text-red-700 border-red-200",stroke:"#dc2626"},dataReadiness:{label:" ",chipClass:"bg-emerald-50 text-emerald-700 border-emerald-200",stroke:"#059669"},dataQuality:{label:" ",chipClass:"bg-cyan-50 text-cyan-700 border-cyan-200",stroke:"#0891b2"},governanceSafety:{label:"",chipClass:"bg-amber-50 text-amber-700 border-amber-200",stroke:"#d97706"}},fCe={model_version_change:"  ",rule_parameter_change:"  ",guardrail_change:"Guardrail "},pCe={none:{label:" ",className:"bg-slate-100 text-slate-600 border-slate-200"},watch:{label:"",className:"bg-amber-50 text-amber-700 border-amber-200"},warning:{label:"",className:"bg-red-50 text-red-700 border-red-200"}},mCe={rule_threshold:"Stage1",model_version:"Stage2",ruleset:"Stage2",contact_rule:"Stage3"},hCe={rule_threshold:"rule_parameter_change",model_version:"model_version_change",ruleset:"guardrail_change",contact_rule:"guardrail_change"},gCe={chg_20260124:{stage:"Stage1",changeType:"rule_parameter_change",targetName:"L2  ",summaryLine:"60~64        .",scope:"",scopeDetail:" 6 ",beforeLabel:"",beforeValue:"  65  L2",afterLabel:"",afterValue:"  60  L2 ()",reason:" 3  60~64          .",observedKpis:["policyImpact"],sparklineByKpi:{signalQuality:[89.8,89.7,89.8,89.8,89.9,89.8,89.8],bottleneckRisk:[41.5,41.7,41.8,41.9,41.8,41.8,41.9],policyImpact:[24,24.8,25.6,26.1,26.4,26.2,26]},deltaPpByKpi:{signalQuality:0,bottleneckRisk:.4,policyImpact:2},topRegions:[" "," "," "]},chg_20260120:{stage:"Stage1",changeType:"rule_parameter_change",targetName:"L2  ",summaryLine:"    Stage1    .",scope:"",scopeDetail:" 17 ",beforeLabel:"",beforeValue:"  60  L2",afterLabel:"",afterValue:"  65  L2",observedKpis:["policyImpact"],sparklineByKpi:{signalQuality:[88.9,89.1,89.3,89.5,89.7,89.8,89.8],bottleneckRisk:[44,43.4,42.9,42.3,41.9,41.5,41.1],policyImpact:[31.2,30.4,29.8,29.1,28.8,28.5,28.1]},deltaPpByKpi:{signalQuality:.9,bottleneckRisk:-2.9,policyImpact:-3.1},topRegions:[" "," "," "]},chg_20260115:{stage:"Stage3",changeType:"guardrail_change",targetName:"L3  ",summaryLine:"    /   .",scope:"",scopeDetail:"",beforeLabel:" ",beforeValue:" 7 ",afterLabel:" ",afterValue:" 5 ",observedKpis:["policyImpact"],sparklineByKpi:{governanceSafety:[95,95.1,95.3,95.6,95.8,95.9,96.1],dataQuality:[94.2,94.4,94.5,94.6,94.8,94.8,94.9],policyImpact:[27.5,27.2,27,26.8,26.6,26.4,26.3]},deltaPpByKpi:{governanceSafety:1.1,dataQuality:.7,policyImpact:-1.2},topRegions:[" "," "," "]},chg_20260110:{stage:"Stage2",changeType:"model_version_change",targetName:"  ",summaryLine:"    Stage2     .",scope:"",scopeDetail:" 17 ",beforeLabel:" ",beforeValue:"v3.1.4",afterLabel:" ",afterValue:"v3.2.0",observedKpis:["policyImpact"],sparklineByKpi:{dataReadiness:[93.2,93.3,93.5,93.6,93.7,93.8,93.8],bottleneckRisk:[45,44.3,43.8,43.4,43,42.7,42.4],policyImpact:[25.4,24.8,24.2,23.8,23.2,22.8,22.3]},deltaPpByKpi:{dataReadiness:.6,bottleneckRisk:-2.6,policyImpact:-3.1},topRegions:[" "," "," "]},chg_20260105:{stage:"Stage2",changeType:"rule_parameter_change",targetName:"  ",summaryLine:"       .",scope:"",scopeDetail:" 17 ",beforeLabel:"",beforeValue:"1.20",afterLabel:"",afterValue:"1.35 ( 1.20 )",observedKpis:["policyImpact"],sparklineByKpi:{dataReadiness:[93.5,93.3,93.1,92.9,93,93.2,93.4],bottleneckRisk:[40.2,43.6,46.8,48.1,47.4,44,41.4],policyImpact:[34,39.2,46.4,52.1,57.2,50.6,41.3]},deltaPpByKpi:{dataReadiness:-.1,bottleneckRisk:1.2,policyImpact:7.3},topRegions:[" "," "," "]}};function xCe(e){const t=new Date(e);return{date:t.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}),time:t.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1})}}function yCe(e){return Array.from(new Set(e))}function bCe(e){const t=Math.max(0,...e.impactSummary.map(r=>Math.abs(r.changePp)));return e.status==="rollback"||t>=2?"warning":t>=.5||e.status==="deployed"?"watch":"none"}function vCe(e){const t=mCe[e.type],r=Lq[t];return{stage:t,changeType:hCe[e.type],targetName:e.title,summaryLine:"KPI       .",scope:e.affectedRegions[0]===""?"":"",scopeDetail:e.affectedRegions.join(", "),beforeLabel:"",beforeValue:e.version,afterLabel:"",afterValue:e.version,reason:e.reason,observedKpis:["policyImpact"],sparklineByKpi:{[r[0]]:[0,0,0,0,0,0,0],[r[1]]:[0,0,0,0,0,0,0],policyImpact:[0,0,0,0,0,0,0]},deltaPpByKpi:{[r[0]]:0,[r[1]]:0,policyImpact:0},topRegions:e.affectedRegions.slice(0,3)}}function NCe(e,t){const r=e.replace("#",""),n=r.length===3?r.split("").map(l=>l+l).join(""):r.padEnd(6,"0").slice(0,6),s=parseInt(n.slice(0,2),16),i=parseInt(n.slice(2,4),16),o=parseInt(n.slice(4,6),16);return`rgba(${s}, ${i}, ${o}, ${t})`}function SCe(e){if(!e.length)return"";if(e.length===1)return`M ${e[0].x} ${e[0].y}`;const t=[`M ${e[0].x} ${e[0].y}`];for(let r=0;r<e.length-1;r+=1){const n=e[r],s=e[r+1],i=(n.x+s.x)/2;t.push(`C ${i} ${n.y}, ${i} ${s.y}, ${s.x} ${s.y}`)}return t.join(" ")}function wCe(e,t,r){if(!e||t.length<2)return"";const n=t[0],s=t[t.length-1];return`${e} L ${s.x} ${r} L ${n.x} ${r} Z`}function jCe({points:e,stroke:t,chartId:r}){if(e.length<2)return a.jsx("div",{className:"h-20 w-full rounded-lg border border-slate-100 bg-slate-50"});const n=r.replace(/[^a-zA-Z0-9_-]/g,""),s=4,i=32,o=31,l=Math.max(...e),u=Math.min(...e),d=l-u||1,f=100/(e.length-1),m=e.map((b,S)=>({x:Number((S*f).toFixed(2)),y:Number((i-(b-u)/d*(i-s)).toFixed(2))})),h=SCe(m),x=wCe(h,m,o),v=m[m.length-1],N=m[0];return a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-white p-2",children:[a.jsxs("svg",{viewBox:"0 0 100 34",className:"h-16 w-full",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:`fill-${n}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:"0.32"}),a.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:"0.02"})]}),a.jsxs("radialGradient",{id:`halo-${n}`,cx:"50%",cy:"50%",r:"50%",children:[a.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:"0.42"}),a.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:"0"})]})]}),[6,14,22,30].map(b=>a.jsx("line",{x1:0,y1:b,x2:100,y2:b,stroke:"#e2e8f0",strokeDasharray:"2.5 2.5",strokeWidth:.6},`${n}-grid-${b}`)),a.jsx("path",{d:x,fill:`url(#fill-${n})`}),a.jsx("path",{d:h,fill:"none",stroke:t,strokeWidth:2.1,strokeLinecap:"round"}),a.jsx("circle",{cx:N.x,cy:N.y,r:1.6,fill:"#ffffff",stroke:t,strokeWidth:1.2}),a.jsx("circle",{cx:v.x,cy:v.y,r:4.6,fill:`url(#halo-${n})`}),a.jsx("circle",{cx:v.x,cy:v.y,r:2.1,fill:"#ffffff",stroke:t,strokeWidth:1.4})]}),a.jsxs("div",{className:"mt-1.5 flex items-center justify-between text-[10px] text-slate-500",children:[a.jsxs("span",{children:["D1 ",e[0].toFixed(1)]}),a.jsxs("span",{children:[u.toFixed(1)," ~ ",l.toFixed(1)]}),a.jsxs("span",{children:["D7 ",e[e.length-1].toFixed(1)]})]})]})}function ECe({context:e,onNavigate:t}){const[r,n]=y.useState(e?.changeId??""),[s,i]=y.useState({}),o=y.useMemo(()=>[...Td].sort((d,f)=>new Date(f.deployedAt).getTime()-new Date(d.deployedAt).getTime()).map(d=>{const f=gCe[d.id]??vCe(d),m=Lq[f.stage],h=yCe([...m,...f.observedKpis]);return{event:d,extension:f,stageLinkedKpis:m,impactKpis:h,impactStatus:bCe(d),rollback:d.status==="rollback"}}),[]);y.useEffect(()=>{e?.changeId&&n(e.changeId)},[e?.changeId]),y.useEffect(()=>{if(!o.length)return;o.some(f=>f.event.id===r)||n(o[0].event.id)},[o,r]);const l=y.useMemo(()=>o.find(d=>d.event.id===r)??o[0]??null,[o,r]),u=y.useMemo(()=>{const d=Date.now(),f=o.filter(b=>d-new Date(b.event.deployedAt).getTime()<=dCe),m=f.length>0?f:o,h=m.filter(b=>b.impactStatus!=="none").length,x=m.filter(b=>b.rollback).length,v={Stage1:0,Stage2:0,Stage3:0};m.forEach(b=>{v[b.extension.stage]+=1});const N=m.length?Number((h/m.length*100).toFixed(1)):0;return{recentCount:m.length,impactRatio:N,rollbackCount:x,stageDistribution:v}},[o]);return l?a.jsxs("div",{className:"space-y-4 p-1",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"/   "}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:" ,    KPI  Stage1~3    ."})]}),a.jsx("div",{className:"sticky top-0 z-10 rounded-xl border border-slate-200 bg-white/95 px-4 py-3 backdrop-blur",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 text-xs text-slate-700",children:[a.jsxs("span",{children:[" 30   ",a.jsxs("strong",{className:"ml-1 text-slate-900",children:[u.recentCount,""]})]}),a.jsxs("span",{children:[" KPI   ",a.jsxs("strong",{className:"ml-1 text-slate-900",children:[u.impactRatio,"%"]})]}),a.jsxs("span",{children:["   ",a.jsxs("strong",{className:"ml-1 text-slate-900",children:[u.rollbackCount,""]})]}),a.jsxs("span",{children:["Stage  "," ",a.jsxs("strong",{className:"ml-1 text-slate-900",children:["Stage1 ",u.stageDistribution.Stage1,"  Stage2 ",u.stageDistribution.Stage2,"  Stage3 ",u.stageDistribution.Stage3]})]})]})}),a.jsxs(_r,{children:[a.jsxs(un,{className:"pb-2",children:[a.jsx(dn,{className:"text-sm",children:"  (KPI  )"}),a.jsx("p",{className:"text-[11px] text-slate-500",children:"       KPI   ."})]}),a.jsx(Ar,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-[1200px] w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-y border-slate-200 bg-slate-50 text-slate-600",children:[a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:""}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" "}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Stage"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" /"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" "}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" KPI"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" "}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" "})]})}),a.jsx("tbody",{children:o.map(d=>{const f=l.event.id===d.event.id,{date:m,time:h}=xCe(d.event.deployedAt),x=!!s[d.event.id],v=pCe[d.impactStatus];return a.jsxs(z.Fragment,{children:[a.jsxs("tr",{onClick:()=>n(d.event.id),className:`cursor-pointer border-b border-slate-100 transition-colors ${f?"bg-blue-50/40":"hover:bg-slate-50"}`,children:[a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("button",{onClick:N=>{N.stopPropagation(),i(b=>({...b,[d.event.id]:!b[d.event.id]}))},className:"mt-0.5 rounded p-0.5 text-slate-500 hover:bg-slate-100","aria-label":"  ",children:x?a.jsx(Hn,{className:"h-3.5 w-3.5"}):a.jsx(vs,{className:"h-3.5 w-3.5"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-900",children:m}),a.jsx("div",{className:"text-[11px] text-slate-500",children:h})]})]})}),a.jsx("td",{className:"px-3 py-2 align-top text-slate-700",children:fCe[d.extension.changeType]}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("span",{className:"inline-flex rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-700",children:d.extension.stage})}),a.jsx("td",{className:"px-3 py-2 align-top font-medium text-slate-900",children:d.extension.targetName}),a.jsx("td",{className:"px-3 py-2 align-top text-slate-700",children:d.extension.summaryLine}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:d.impactKpis.map(N=>{const b=aE[N];return a.jsx("span",{className:`inline-flex rounded border px-1.5 py-0.5 text-[10px] font-medium ${b.chipClass}`,children:b.label},`${d.event.id}-${N}`)})})}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("span",{className:`inline-flex rounded border px-2 py-0.5 text-[11px] font-medium ${v.className}`,children:v.label})}),a.jsx("td",{className:"px-3 py-2 align-top",children:d.rollback?a.jsx("span",{className:"text-[11px] font-semibold text-red-600",children:""}):a.jsx("span",{className:"text-[11px] text-slate-400",children:""})})]}),x&&a.jsx("tr",{className:"border-b border-slate-100 bg-slate-50/70",children:a.jsxs("td",{colSpan:8,className:"px-4 py-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-slate-600",children:" "}),a.jsx("p",{className:"mt-1 text-xs leading-relaxed text-slate-700",children:d.extension.reason||d.event.reason||"  ."})]})})]},d.event.id)})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsx("div",{className:"col-span-12 lg:col-span-6",children:a.jsxs(_r,{className:"h-full",children:[a.jsxs(un,{className:"pb-2",children:[a.jsx(dn,{className:"text-sm",children:" "}),a.jsx("p",{className:"text-[11px] text-slate-500",children:" / ,  ,  Stage  ."})]}),a.jsxs(Ar,{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("div",{className:"text-[11px] text-slate-500",children:" /"}),a.jsx("div",{className:"mt-0.5 text-sm font-semibold text-slate-900",children:l.extension.targetName}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[a.jsxs("span",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:[" Stage: ",l.extension.stage]}),a.jsxs("span",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:[" : ",l.extension.scope]}),a.jsx("span",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:l.extension.scopeDetail})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("div",{className:"text-[11px] text-slate-500",children:" "}),a.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:l.extension.beforeValue}),a.jsx("div",{className:"mt-0.5 text-[11px] text-slate-500",children:l.extension.beforeLabel})]}),a.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50/40 p-3",children:[a.jsx("div",{className:"text-[11px] text-blue-600",children:" "}),a.jsx("div",{className:"mt-1 text-sm font-semibold text-blue-900",children:l.extension.afterValue}),a.jsx("div",{className:"mt-0.5 text-[11px] text-blue-700",children:l.extension.afterLabel})]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("div",{className:"text-[11px] text-slate-500",children:"Stage   KPI"}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:l.stageLinkedKpis.map(d=>{const f=aE[d];return a.jsx("span",{className:`inline-flex rounded border px-1.5 py-0.5 text-[10px] font-medium ${f.chipClass}`,children:f.label},`stage-link-${d}`)})})]})]})]})}),a.jsx("div",{className:"col-span-12 lg:col-span-6",children:a.jsxs(_r,{className:"h-full",children:[a.jsxs(un,{className:"pb-2",children:[a.jsx(dn,{className:"text-sm",children:"KPI "}),a.jsx("p",{className:"text-[11px] text-slate-500",children:"  7 KPI  "})]}),a.jsxs(Ar,{className:"space-y-3",children:[l.stageLinkedKpis.map(d=>{const f=aE[d],m=l.extension.sparklineByKpi[d]??[],h=l.extension.deltaPpByKpi[d]??0,x=m[0]??0,v=m[m.length-1]??0,N=v-x,b=N>.15?" ":N<-.15?" ":" ",S=N>.15?"text-emerald-700":N<-.15?"text-red-700":"text-slate-600";return a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 shadow-sm",style:{backgroundImage:`linear-gradient(135deg, ${NCe(f.stroke,.16)} 0%, #ffffff 52%, #f8fafc 100%)`},children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:`inline-flex rounded border px-1.5 py-0.5 text-[10px] font-medium ${f.chipClass}`,children:f.label}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-xs font-semibold ${h>=0?"text-emerald-600":"text-red-600"}`,children:[" ",h>=0?"+":"",h.toFixed(1),"pp"]}),a.jsx("div",{className:"text-[10px] text-slate-500",children:"7 "})]})]}),a.jsx("div",{className:"mt-2",children:a.jsx(jCe,{points:m,stroke:f.stroke,chartId:`${l.event.id}-${d}`})}),a.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[a.jsx("span",{className:`text-[10px] font-medium ${S}`,children:b}),a.jsxs("span",{className:"text-[10px] text-slate-500",children:[" ",x.toFixed(1),"   ",v.toFixed(1)]})]})]},`spark-${d}`)}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("div",{className:"text-[11px] text-slate-500",children:"   Top3"}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1.5",children:l.extension.topRegions.slice(0,3).map(d=>a.jsx("span",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:d},`${l.event.id}-${d}`))})]}),a.jsx("p",{className:"text-[11px] text-slate-500",children:" KPI        ."}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-1",children:[a.jsxs("button",{onClick:()=>t?.("quality-monitoring",{changeId:l.event.id}),className:"inline-flex items-center gap-1 rounded border border-slate-200 px-2 py-1 text-[11px] font-medium text-slate-700 hover:bg-slate-50",children:["  ",a.jsx(qn,{className:"h-3 w-3"})]}),a.jsxs("button",{onClick:()=>t?.("compliance-audit",{changeId:l.event.id}),className:"inline-flex items-center gap-1 rounded border border-slate-200 px-2 py-1 text-[11px] font-medium text-slate-700 hover:bg-slate-50",children:["  ",a.jsx(qn,{className:"h-3 w-3"})]})]})]})]})})]})]}):a.jsx("div",{className:"p-4 text-sm text-slate-500",children:"/    ."})}function _Ce({...e}){return a.jsx(u8,{"data-slot":"sheet",...e})}function ACe({...e}){return a.jsx(d8,{"data-slot":"sheet-portal",...e})}function CCe({className:e,...t}){return a.jsx(f8,{"data-slot":"sheet-overlay",className:ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function TCe({className:e,children:t,side:r="right",...n}){return a.jsxs(ACe,{children:[a.jsx(CCe,{}),a.jsxs(p8,{"data-slot":"sheet-content",className:ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,a.jsxs(g8,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(vu,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function kCe({className:e,...t}){return a.jsx("div",{"data-slot":"sheet-header",className:ce("flex flex-col gap-1.5 p-4",e),...t})}function OCe({className:e,...t}){return a.jsx(m8,{"data-slot":"sheet-title",className:ce("text-foreground font-semibold",e),...t})}function RCe({className:e,...t}){return a.jsx(h8,{"data-slot":"sheet-description",className:ce("text-muted-foreground text-sm",e),...t})}const sE=[{id:"stage1",name:"Stage1",title:"  &  ",responsibility:" / ",status:"caution",kpiLinks:[""," "],metrics:[{label:"  ",value:"96.8%",target:" 97% ",signal:"watch",note:"/    "},{label:"/ ",value:"4.9%",target:" 3% ",signal:"risk",note:"24    "},{label:"  ",value:"2  ",target:"0 ",signal:"watch",note:"     "}]},{id:"stage2",name:"Stage2",title:"ANN / ",responsibility:" /  ",status:"warning",kpiLinks:[""," "],metrics:[{label:"Feature   ",value:"JS Divergence 0.11",target:" 0.10 ",signal:"risk",note:" 7   "},{label:"Class  ",value:"  6.3%p",target:" 5.0%p ",signal:"watch",note:"L2     "},{label:"Confidence  ",value:"+17%",target:" 10% ",signal:"risk",note:"   "}]},{id:"stage3",name:"Stage3",title:"CNN / ",responsibility:" / ",status:"caution",kpiLinks:[""," "],metrics:[{label:"  ",value:"Drift Score 0.21",target:" 0.20 ",signal:"watch",note:"    "},{label:"Class   ",value:" +0.08",target:" +0.05 ",signal:"watch",note:"   "},{label:"Guardrail Flag ",value:"2.2%",target:" 2.0% ",signal:"risk",note:" fallback   "}]}],Up=[{id:"qa-stage1-20260211",occurredAt:"2026-02-11 08:55",stage:"stage1",causeType:"",impactKpi:" ",status:" "},{id:"qa-stage2-20260211",occurredAt:"2026-02-11 10:20",stage:"stage2",causeType:"",impactKpi:"",status:" "},{id:"qa-stage3-20260210",occurredAt:"2026-02-10 16:40",stage:"stage3",causeType:"",impactKpi:"",status:""},{id:"qa-link-20260210",occurredAt:"2026-02-10 11:05",stage:"stage2",causeType:"",impactKpi:" ",status:""},{id:"qa-stage1-20260209",occurredAt:"2026-02-09 09:30",stage:"stage1",causeType:"",impactKpi:"",status:" "}],PCe={normal:"bg-green-100 text-green-700",caution:"bg-amber-100 text-amber-700",warning:"bg-red-100 text-red-700"},gg={normal:"",caution:"",warning:""},DCe={good:"bg-green-50 text-green-700 border-green-200",watch:"bg-amber-50 text-amber-700 border-amber-200",risk:"bg-red-50 text-red-700 border-red-200"},ICe={:"bg-blue-50 text-blue-700 border-blue-200"," ":"bg-red-50 text-red-700 border-red-200"," ":"bg-green-50 text-green-700 border-green-200"},MCe={:"bg-sky-50 text-sky-700 border-sky-200",:"bg-violet-50 text-violet-700 border-violet-200",:"bg-orange-50 text-orange-700 border-orange-200"},$q="2026-02-12",M6={good:"ok",watch:"warn",risk:"risk"},LCe={ok:{label:" ",className:"bg-green-50 text-green-700 border-green-200"},warn:{label:" ",className:"bg-amber-50 text-amber-700 border-amber-200"},risk:{label:" ",className:"bg-red-50 text-red-700 border-red-200"}},$Ce={"  ":{key:"stage1-required-fields",title:"  ",subtitlePlain:"       .",whyItMatters:"           .",interpretTemplate:{ok:"       .",warn:" /       .",risk:"        ."},actionHint:{ok:"    .",warn:"  /   .",risk:"        ."},targetLine:" 97% "},"/ ":{key:"stage1-delay-missing-rate",title:"/ ",subtitlePlain:"       .",whyItMatters:"        .",interpretTemplate:{ok:"         .",warn:"       .",risk:"24         ."},actionHint:{ok:"     .",warn:"  /   .",risk:"     ."},targetLine:" 3% "},"  ":{key:"stage1-distribution-drift",title:"  ",subtitlePlain:"      .",whyItMatters:"         .",interpretTemplate:{ok:"       .",warn:"       .",risk:"       ."},actionHint:{ok:"    .",warn:"      .",risk:"      ."},targetLine:"0 "},"Feature   ":{key:"stage2-feature-jsd",title:"Feature    (JS Divergence)",subtitlePlain:"       .",whyItMatters:"       .",interpretTemplate:{ok:"       .",warn:"        .",risk:"        ."},actionHint:{ok:"   .",warn:"   /   .",risk:"       ."},targetLine:" 0.10 ",terms:["JS Divergence:   (0  )"]},"Class  ":{key:"stage2-class-bias",title:"Class  ",subtitlePlain:"        .",whyItMatters:"    /   .",interpretTemplate:{ok:"       .",warn:"        .",risk:"        ."},actionHint:{ok:"    .",warn:" /      .",risk:"      ."},targetLine:" 5.0%p "},"Confidence  ":{key:"stage2-confidence-variance",title:"Confidence  ",subtitlePlain:"      .",whyItMatters:"         .",interpretTemplate:{ok:"      .",warn:"     .",risk:"      ."},actionHint:{ok:"   .",warn:"      .",risk:" / /    ."},targetLine:" 10% "},"  ":{key:"stage3-embedding-drift",title:"   (Drift Score)",subtitlePlain:"       .",whyItMatters:"         .",interpretTemplate:{ok:"       .",warn:"     .",risk:"      ."},actionHint:{ok:"    .",warn:" (/)   .",risk:" /     ."},targetLine:" 0.20 "},"Class   ":{key:"stage3-entropy-shift",title:"Class    ()",subtitlePlain:"      .",whyItMatters:"         .",interpretTemplate:{ok:"      .",warn:"      .",risk:"        ."},actionHint:{ok:"    .",warn:"     .",risk:"/     ."},targetLine:" +0.05 ",terms:[":   ( )"]},"Guardrail Flag ":{key:"stage3-guardrail-rate",title:"Guardrail Flag ",subtitlePlain:"( )    .",whyItMatters:"/        .",interpretTemplate:{ok:"       .",warn:"     .",risk:"fallback       ."},actionHint:{ok:"   .",warn:"     .",risk:" / /     ."},targetLine:" 2.0% "}};function FCe(){const[e,t]=y.useState(!1);return y.useEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia("(hover: none), (pointer: coarse)"),n=()=>t(r.matches||navigator.maxTouchPoints>0);return n(),r.addEventListener?.("change",n),()=>r.removeEventListener?.("change",n)},[]),e}function L6(e){return $Ce[e.label]??{key:e.label,title:e.label,subtitlePlain:"         .",whyItMatters:"         .",interpretTemplate:{ok:"     .",warn:"      .",risk:"        ."},actionHint:{ok:"   .",warn:"    .",risk:"      ."},targetLine:e.target}}function BCe(e){return e==="data_quality"?"stage1":e==="model_fitness"?"stage3":"stage2"}function UCe(e){return e==="stage1"?"Stage1":e==="stage2"?"Stage2":"Stage3"}function zCe(e,t){return t==="risk"?e.interpretTemplate.risk:t==="warn"?e.interpretTemplate.warn:e.interpretTemplate.ok}function HCe(e,t){return t==="risk"?e.actionHint.risk:t==="warn"?e.actionHint.warn:e.actionHint.ok}function qCe(e){return e==="risk"?" 7         .":e==="warn"?" 7        .":" 7        ."}function $6({stage:e,metric:t,explain:r,severity:n,onOpenDetail:s}){const i=LCe[n];return a.jsxs("div",{className:"w-[min(92vw,460px)] max-w-[460px] rounded-lg border border-slate-200 bg-white p-3 text-[11px] leading-[1.35] shadow-xl",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-500",children:e.name}),a.jsx("p",{className:"truncate text-slate-800 font-semibold",children:r.title})]}),a.jsx("span",{className:`inline-flex shrink-0 items-center whitespace-nowrap rounded-full border px-2 py-0.5 text-[10px] font-semibold leading-none ${i.className}`,children:i.label})]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",r.subtitlePlain]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[" : ",i.label,"  ",t.value]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",zCe(r,n)]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[" : ",HCe(r,n)]}),a.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"truncate text-slate-500",children:[": ",r.targetLine||t.target,"  D-1 ",$q]}),a.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 text-[10px] font-semibold text-blue-600 hover:text-blue-700 shrink-0",onClick:o=>{o.stopPropagation(),s()},children:["",a.jsx(qn,{className:"h-3 w-3"})]})]})]})}function GCe({context:e,onNavigate:t}){const r=y.useMemo(()=>BCe(e?.driver),[e?.driver]),[n,s]=y.useState([r]),[i,o]=y.useState(!1),[l,u]=y.useState(null),d=FCe(),f=y.useRef({}),m=95.1,h=Up.filter(_=>_.status!==" ").length,x=y.useMemo(()=>Up.reduce((_,E)=>(E.status!==" "&&(_[E.causeType]+=1),_),{:0,:0,:0}),[]),v=y.useMemo(()=>sE.reduce((_,E)=>(_[E.id]=E.status,_),{}),[]),N=_=>{s(E=>E.includes(_)?E.filter(C=>C!==_):[...E,_])},b=y.useCallback((_,E)=>`${_}::${E}`,[]),S=y.useCallback((_,E)=>{const C=L6(E);s(I=>I.includes(_.id)?I:[...I,_.id]),u({stage:_,metric:E,explain:C}),o(!0);const R=b(_.id,E.label);requestAnimationFrame(()=>{setTimeout(()=>{f.current[R]?.scrollIntoView({behavior:"smooth",block:"center"})},120)})},[b]),j=l?M6[l.metric.signal]:null,A=y.useMemo(()=>l?Up.filter(_=>_.stage===l.stage.id&&_.status!==" "):[],[l]);return a.jsx(gq,{delayDuration:200,children:a.jsxs("div",{className:"space-y-5 p-1",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" &  "}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Stage     / /   ."})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[{label:"  ",value:`${m.toFixed(1)}%`,sub:" ",icon:a.jsx(pc,{className:"h-5 w-5"}),color:"text-amber-600",bg:"bg-amber-50"},{label:"Stage1 ",value:gg[v.stage1],sub:"  & ",icon:a.jsx(XA,{className:"h-5 w-5"}),color:v.stage1==="warning"?"text-red-600":v.stage1==="caution"?"text-amber-600":"text-green-600",bg:v.stage1==="warning"?"bg-red-50":v.stage1==="caution"?"bg-amber-50":"bg-green-50"},{label:"Stage2 ",value:gg[v.stage2],sub:"ANN /",icon:a.jsx(gm,{className:"h-5 w-5"}),color:v.stage2==="warning"?"text-red-600":v.stage2==="caution"?"text-amber-600":"text-green-600",bg:v.stage2==="warning"?"bg-red-50":v.stage2==="caution"?"bg-amber-50":"bg-green-50"},{label:"Stage3 ",value:gg[v.stage3],sub:"CNN /",icon:a.jsx(bu,{className:"h-5 w-5"}),color:v.stage3==="warning"?"text-red-600":v.stage3==="caution"?"text-amber-600":"text-green-600",bg:v.stage3==="warning"?"bg-red-50":v.stage3==="caution"?"bg-amber-50":"bg-green-50"},{label:"  ",value:`${h}`,sub:"  ",icon:a.jsx(da,{className:"h-5 w-5"}),color:h>2?"text-red-600":"text-amber-600",bg:h>2?"bg-red-50":"bg-amber-50"}].map((_,E)=>a.jsx(_r,{className:"border-0 shadow-sm",children:a.jsx(Ar,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${_.bg} ${_.color}`,children:_.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs text-gray-500",children:_.label}),a.jsx("div",{className:"text-xl font-bold text-gray-900",children:_.value}),a.jsx("div",{className:"text-[11px] text-gray-400 truncate",children:_.sub})]})]})})},E))}),a.jsxs(_r,{children:[a.jsx(un,{className:"pb-3",children:a.jsxs(dn,{className:"text-sm flex items-center gap-2",children:[a.jsx(UK,{className:"h-4 w-4 text-slate-600"}),"5  "]})}),a.jsx(Ar,{className:"pt-0",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{className:"inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium bg-sky-50 text-sky-700 border-sky-200",children:["  ",x.,""]}),a.jsxs("span",{className:"inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium bg-violet-50 text-violet-700 border-violet-200",children:["  ",x.,""]}),a.jsxs("span",{className:"inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium bg-orange-50 text-orange-700 border-orange-200",children:["  ",x.,""]}),a.jsxs("span",{className:"text-xs text-gray-500",children:[" Stage: ",sE.filter(_=>_.status==="warning").map(_=>_.name).join(", ")||""]})]})})]}),a.jsx("div",{className:"space-y-3",children:sE.map(_=>{const E=n.includes(_.id);return a.jsxs(_r,{className:"border border-slate-200 overflow-hidden gap-0",children:[a.jsx("button",{type:"button",onClick:()=>N(_.id),className:"w-full px-5 py-4 bg-white hover:bg-slate-50 transition-colors text-left",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-800 min-w-16",children:_.name}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_.title}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:_.responsibility})]}),a.jsx("span",{className:`ml-auto inline-flex items-center rounded-full px-2 py-1 text-[11px] font-medium ${PCe[_.status]}`,children:gg[_.status]}),E?a.jsx(Ks,{className:"h-4 w-4 text-gray-400"}):a.jsx(Hn,{className:"h-4 w-4 text-gray-400"})]})}),E&&a.jsxs(Ar,{className:"pt-1 pb-5 px-5 space-y-4 border-t border-slate-100",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-[11px] text-slate-500",children:"KPI "}),_.kpiLinks.map(C=>a.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:C},C))]}),a.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:_.metrics.map(C=>{const R=M6[C.signal],I=L6(C),O=b(_.id,C.label),B=a.jsxs("div",{ref:q=>{f.current[O]=q},role:"button",tabIndex:0,onKeyDown:q=>{q.key==="Enter"&&(q.preventDefault(),S(_,C))},className:"relative rounded-lg border border-slate-200 bg-white p-3 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-200",children:[a.jsx("p",{className:"text-xs text-slate-500 pr-8",children:C.label}),a.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:C.value}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-[11px] text-slate-500",children:C.target}),a.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[10px] font-semibold ${DCe[C.signal]}`,children:C.signal==="risk"?"":C.signal==="watch"?"":""})]}),a.jsx("p",{className:"text-[11px] text-slate-500 mt-2",children:C.note}),d&&a.jsxs(Rq,{children:[a.jsx(Pq,{asChild:!0,children:a.jsx("button",{type:"button","aria-label":`${C.label} `,className:"absolute right-2 top-2 inline-flex h-5 w-5 items-center justify-center rounded border border-slate-200 bg-slate-50 text-slate-500 hover:bg-slate-100",onClick:q=>q.stopPropagation(),children:a.jsx(xm,{className:"h-3 w-3"})})}),a.jsx(Dq,{children:a.jsx(Iq,{side:"top",align:"end",sideOffset:8,collisionPadding:12,className:"z-50 max-w-[92vw] p-0 border-0 bg-transparent shadow-none",children:a.jsx($6,{stage:_,metric:C,explain:I,severity:R,onOpenDetail:()=>S(_,C)})})})]})]});return d?a.jsx(z.Fragment,{children:B},O):a.jsxs(xq,{delayDuration:200,children:[a.jsx(yq,{asChild:!0,children:B}),a.jsx(bq,{children:a.jsxs(vq,{side:"top",align:"end",sideOffset:8,collisionPadding:12,className:"z-50 max-w-[92vw] p-0 border-0 bg-transparent shadow-none",children:[a.jsx($6,{stage:_,metric:C,explain:I,severity:R,onOpenDetail:()=>S(_,C)}),a.jsx(Nq,{className:"fill-white"})]})})]},O)})})]})]},_.id)})}),a.jsxs(_r,{children:[a.jsx(un,{className:"pb-3",children:a.jsxs(dn,{className:"text-base flex items-center gap-2",children:[a.jsx(da,{className:"h-4 w-4 text-amber-500"})," "]})}),a.jsxs(Ar,{className:"pt-0",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[760px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50/70",children:[a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:""}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:"Stage"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:" "}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:" KPI"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:""})]})}),a.jsxs("tbody",{children:[Up.map(_=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50",children:[a.jsx("td",{className:"py-3 px-3 text-sm text-gray-700",children:_.occurredAt}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:UCe(_.stage)})}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-1 text-[11px] font-medium ${MCe[_.causeType]}`,children:_.causeType})}),a.jsx("td",{className:"py-3 px-3 text-sm text-gray-700",children:_.impactKpi}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-1 text-[11px] font-medium ${ICe[_.status]}`,children:_.status})})]},_.id)),Up.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-6 text-center text-sm text-gray-500",children:"   ."})})]})]})}),a.jsx("div",{className:"mt-3 text-[11px] text-gray-500",children:" : ( ),  (/  ),  (  )"})]})]}),a.jsx(_Ce,{open:i,onOpenChange:o,children:a.jsx(TCe,{side:"right",className:"w-[420px] sm:max-w-[420px]",children:l?a.jsxs(a.Fragment,{children:[a.jsxs(kCe,{className:"border-b border-slate-200 pb-3",children:[a.jsxs(OCe,{className:"text-base text-slate-900",children:[l.stage.name,"  ",l.metric.label]}),a.jsxs(RCe,{className:"text-xs text-slate-500",children:[l.stage.title,"     ",$q," (D-1)"]})]}),a.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto px-4 pb-4 text-sm",children:[a.jsxs("section",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-600",children:" 7 "}),a.jsx("p",{className:"mt-1 text-sm text-slate-800",children:qCe(j??"ok")}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-500",children:[" : ",l.metric.value,"  ",l.explain.targetLine||l.metric.target]})]}),a.jsxs("section",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-600",children:" "}),a.jsx("p",{className:"mt-1 text-sm text-slate-700",children:l.metric.note})]}),a.jsxs("section",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-600",children:" "}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:l.stage.kpiLinks.map(_=>a.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] text-slate-700",children:_},_))})]}),a.jsxs("section",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-600",children:" "}),A.length>0?a.jsx("ul",{className:"mt-2 space-y-2",children:A.slice(0,4).map(_=>a.jsxs("li",{className:"rounded border border-slate-100 bg-slate-50 px-2 py-1.5",children:[a.jsx("p",{className:"text-[11px] text-slate-600",children:_.occurredAt}),a.jsxs("p",{className:"text-xs text-slate-800",children:[_.causeType,"  ",_.impactKpi,"  ",_.status]})]},_.id))}):a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"    ."})]})]})]}):a.jsx("div",{className:"flex h-full items-center justify-center text-sm text-slate-500",children:"KPI    ."})})})]})})}const xg={regulation:{label:" ",dotClass:"bg-amber-500",badgeClass:"bg-amber-50 text-amber-700 border-amber-200",icon:a.jsx(ho,{className:"h-3.5 w-3.5"})},model:{label:" ",dotClass:"bg-purple-500",badgeClass:"bg-purple-50 text-purple-700 border-purple-200",icon:a.jsx(DV,{className:"h-3.5 w-3.5"})},policy:{label:" ",dotClass:"bg-blue-500",badgeClass:"bg-blue-50 text-blue-700 border-blue-200",icon:a.jsx(WA,{className:"h-3.5 w-3.5"})}},KCe={:{cls:"bg-green-50 text-green-700 border-green-200"},:{cls:"bg-amber-50 text-amber-700 border-amber-200"},:{cls:"bg-red-50 text-red-700 border-red-200"}},WCe=[{question:"AI   ?",answer:"",detail:"Stage1~3         .",verdict:"no"},{question:"()   ?",answer:"",detail:"//        .",verdict:"yes"},{question:"     ?",answer:"",detail:"  /      .",verdict:"yes"}];function yg(e,t){return t<=0?100:Math.round(e/t*100)}function zp(e){return e===0?"":e===1?"":""}function F6(e){return new Date(e).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function VCe(e){const t=e.type==="model_version"?"model":"regulation",r=e.approvedBy||e.deployedBy||"",n=` ${e.requestedBy||"-"} /  ${e.approvedBy||""} /  ${e.deployedBy||"-"}`;return{id:`timeline-policy-${e.id}`,timestamp:e.deployedAt,category:t,title:e.title,owner:r,decisionLog:n,evidence:e.reason||e.description,changeId:e.id,statusLabel:e.status}}function YCe(e){return{id:`timeline-audit-${e.id}`,timestamp:e.timestamp,category:"policy",title:e.title,owner:e.approver||e.actor,decisionLog:` ${e.requestor||"-"} /  ${e.approver||""} /  ${e.executor||"-"}`,evidence:e.rationale,changeId:e.relatedChangeId,auditId:e.id,statusLabel:e.status}}function XCe({context:e,onNavigate:t}){const[r,n]=y.useState("all"),[s,i]=y.useState(null),[o,l]=y.useState(!1),u=y.useMemo(()=>{const b=Td.map(VCe),S=Qa.filter(j=>j.type==="policy_change").map(YCe);return[...b,...S].sort((j,A)=>new Date(A.timestamp).getTime()-new Date(j.timestamp).getTime())},[]),d=y.useMemo(()=>r==="all"?u:u.filter(b=>b.category===r),[u,r]);y.useEffect(()=>{if(u.length){if(e?.auditId){const b=u.find(S=>S.auditId===e.auditId);if(b){i(b.id);return}}if(e?.changeId){const b=u.find(S=>S.changeId===e.changeId);if(b){i(b.id);return}}i(b=>b||u[0].id)}},[u,e?.auditId,e?.changeId]),y.useEffect(()=>{if(!d.length){i(null);return}d.some(S=>S.id===s)||i(d[0].id)},[d,s]);const f=y.useMemo(()=>u.find(b=>b.id===s)||null,[u,s]),m=y.useMemo(()=>{const b=Qa.length,S=Qa.filter(C=>!!C.cause&&C.kpiSnapshot.riskTop3.length>0).length,j=Qa.filter(C=>!!C.requestor&&!!C.approver&&!!C.rationale).length,A=Qa.filter(C=>!!C.executor&&!!C.approvalComment).length,_=S+j+A,E=b*3;return{stage1:S,stage2:j,stage3:A,totalEvents:b,rate:yg(_,E)}},[]),h=y.useMemo(()=>{const b=Qa.length,S=Qa.filter(_=>!!_.approver).length,j=Qa.filter(_=>!!_.rationale&&(!!_.policyRef||!!_.internalStandardId)).length,A=Qa.filter(_=>/ai|  /i.test(_.approver||"")).length;return{totalEvents:b,ownerAssigned:S,rationaleAttached:j,aiFinalDecisionCount:A,humanDecisionCount:S}},[]),x=y.useMemo(()=>{const b=Qa.filter(C=>!C.approver),S=Qa.filter(C=>!C.rationale||!C.policyRef&&!C.internalStandardId),j=Qa.filter(C=>!C.executor),A=Qa.filter(C=>C.type==="violation"&&C.severity==="high"&&C.status!=="resolved"),_=Qa.filter(C=>!C.cause||!C.requestor||!C.approver||!C.executor),E=Td[0]?.id;return[{id:"owner",itemName:" () ",stage:"Stage2",nonComplianceCases:b.length,status:zp(b.length),linkLabel:"  ",navPage:"compliance-audit",navContext:b[0]?{auditId:b[0].id}:void 0},{id:"evidence",itemName:" (/) ",stage:"Stage2~3",nonComplianceCases:S.length,status:zp(S.length),linkLabel:"  ",navPage:"model-governance",navContext:{changeId:S[0]?.relatedChangeId||E}},{id:"executor",itemName:" (Executor)  ",stage:"Stage3",nonComplianceCases:j.length,status:zp(j.length),linkLabel:"  ",navPage:"compliance-audit",navContext:j[0]?{auditId:j[0].id}:void 0},{id:"high-risk",itemName:"    ",stage:"Stage3",nonComplianceCases:A.length,status:zp(A.length),linkLabel:"  ",navPage:"compliance-audit",navContext:A[0]?{auditId:A[0].id}:void 0},{id:"stage-chain",itemName:"Stage1~3   ",stage:"Stage1~3",nonComplianceCases:_.length,status:zp(_.length),linkLabel:"  ",navPage:"compliance-audit",navContext:_[0]?{auditId:_[0].id}:void 0}]},[]),v=y.useMemo(()=>{const b=x.filter(S=>S.status==="").length;return yg(b,x.length)},[x]),N=y.useMemo(()=>[{label:"  ",value:`${yg(h.ownerAssigned,h.totalEvents)}%`,detail:`${h.ownerAssigned}/${h.totalEvents}`},{label:"  ",value:`${yg(h.rationaleAttached,h.totalEvents)}%`,detail:`${h.rationaleAttached}/${h.totalEvents}`},{label:" ",value:`${v}%`,detail:`${x.filter(b=>b.status==="").length}/${x.length} `},{label:"Stage  ",value:`${m.rate}%`,detail:`S1 ${m.stage1}/${m.totalEvents}  S2 ${m.stage2}/${m.totalEvents}  S3 ${m.stage3}/${m.totalEvents}`}],[x,v,m,h]);return a.jsxs("div",{className:"space-y-5 p-1",children:[a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"   "}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"             ."})]}),a.jsxs(pt,{size:"sm",onClick:()=>alert("   (mock)"),children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),"  "]})]}),a.jsxs("div",{className:"rounded-xl border-2 border-blue-200 bg-gradient-to-r from-blue-50 via-white to-white p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ho,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:"  "})]}),a.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:WCe.map(b=>a.jsx(QCe,{question:b.question,answer:b.answer,detail:b.detail,verdict:b.verdict},b.question))}),a.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:["AI  "," ",a.jsxs("span",{className:"font-semibold text-red-600",children:[h.aiFinalDecisionCount,""]})," /   "," ",a.jsxs("span",{className:"font-semibold text-blue-700",children:[h.humanDecisionCount,""]})]})]}),a.jsx("div",{className:"grid gap-3 md:grid-cols-4",children:N.map(b=>a.jsx(ZCe,{label:b.label,value:b.value,detail:b.detail},b.label))}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(go,{className:"h-4 w-4 text-indigo-600"}),a.jsx("h2",{className:"text-sm font-bold text-gray-900",children:"  "})]}),a.jsxs("div",{className:"grid gap-3 lg:grid-cols-[1fr_auto_1fr_auto_1fr] items-center",children:[a.jsx(iE,{title:"Stage1",subtitle:"  ",description:" /  .",badge:" ",badgeClass:"bg-gray-100 text-gray-700 border-gray-200"}),a.jsx(hm,{className:"h-4 w-4 text-gray-400 justify-self-center hidden lg:block"}),a.jsx(iE,{title:"Stage2",subtitle:" ",description:"/      .",badge:" ",badgeClass:"bg-blue-50 text-blue-700 border-blue-200"}),a.jsx(hm,{className:"h-4 w-4 text-gray-400 justify-self-center hidden lg:block"}),a.jsx(iE,{title:"Stage3",subtitle:" ",description:"       .",badge:" ",badgeClass:"bg-green-50 text-green-700 border-green-200"})]}),a.jsx("div",{className:"mt-3 rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:a.jsx("p",{className:"text-sm font-semibold text-indigo-900",children:"   (). AI/       ."})})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(WA,{className:"h-4 w-4 text-gray-700"}),a.jsx("h2",{className:"text-sm font-bold text-gray-900",children:" "})]}),a.jsxs("button",{onClick:()=>l(b=>!b),className:"text-xs text-gray-500 inline-flex items-center gap-1 hover:text-gray-700",children:["Stage  ",o?a.jsx(Ks,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})]})]}),o&&a.jsx("div",{className:"mb-3 rounded-lg border border-gray-200 bg-gray-50 p-3 text-xs text-gray-600",children:"Stage1:   (cause, riskTop3) / Stage2:  / Stage3:  "}),a.jsx("div",{className:"overflow-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-xs text-gray-500 border-b border-gray-200",children:[a.jsx("th",{className:"py-2 pr-3",children:" "}),a.jsx("th",{className:"py-2 pr-3",children:" Stage"}),a.jsx("th",{className:"py-2 pr-3",children:""}),a.jsx("th",{className:"py-2 pr-3",children:"  "}),a.jsx("th",{className:"py-2",children:"  "})]})}),a.jsx("tbody",{children:x.map(b=>a.jsxs("tr",{className:"border-b border-gray-100 last:border-b-0",children:[a.jsx("td",{className:"py-2.5 pr-3 font-medium text-gray-900",children:b.itemName}),a.jsx("td",{className:"py-2.5 pr-3 text-gray-600",children:b.stage}),a.jsx("td",{className:"py-2.5 pr-3",children:a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs rounded border ${KCe[b.status].cls}`,children:b.status})}),a.jsxs("td",{className:"py-2.5 pr-3 text-gray-700",children:[b.nonComplianceCases,""]}),a.jsx("td",{className:"py-2.5",children:a.jsxs("button",{onClick:()=>t?.(b.navPage,b.navContext),className:"text-xs inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:underline",children:[a.jsx(qn,{className:"h-3.5 w-3.5"}),b.linkLabel]})})]},b.id))})]})})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lo,{className:"h-4 w-4 text-gray-700"}),a.jsx("h2",{className:"text-sm font-bold text-gray-900",children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bg,{label:"",active:r==="all",onClick:()=>n("all")}),a.jsx(bg,{label:" ",active:r==="regulation",onClick:()=>n("regulation")}),a.jsx(bg,{label:" ",active:r==="model",onClick:()=>n("model")}),a.jsx(bg,{label:" ",active:r==="policy",onClick:()=>n("policy")})]})]}),a.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr_3fr]",children:[a.jsxs("div",{className:"relative max-h-[420px] overflow-y-auto pr-1",children:[a.jsx("div",{className:"absolute left-[11px] top-0 bottom-0 w-0.5 bg-gray-200"}),d.length===0?a.jsx("div",{className:"py-16 text-center text-sm text-gray-400",children:"   ."}):a.jsx("div",{className:"space-y-1.5",children:d.map(b=>{const S=b.id===s,j=xg[b.category];return a.jsxs("button",{onClick:()=>i(b.id),className:`relative w-full text-left pl-8 pr-3 py-2.5 rounded-lg border transition-colors ${S?"border-blue-300 bg-blue-50":"border-transparent hover:bg-gray-50 hover:border-gray-200"}`,children:[a.jsx("div",{className:`absolute left-[5px] top-3.5 w-3 h-3 rounded-full ${j.dotClass}`}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-1.5 py-0.5 text-[10px] rounded border ${j.badgeClass}`,children:[j.icon,j.label]}),a.jsx("span",{className:"text-[10px] text-gray-400",children:F6(b.timestamp)})]}),a.jsx("div",{className:"mt-1 text-sm font-semibold text-gray-900 leading-snug",children:b.title}),a.jsxs("div",{className:"mt-1 text-[11px] text-gray-500",children:[": ",b.owner]})]},b.id)})})]}),a.jsx("div",{children:f?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded border ${xg[f.category].badgeClass}`,children:[xg[f.category].icon,xg[f.category].label]}),a.jsx("span",{className:"text-xs text-gray-500",children:F6(f.timestamp)})]}),a.jsx("h3",{className:"mt-2 text-base font-bold text-gray-900",children:f.title}),a.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:[": ",f.statusLabel]})]}),a.jsx(oE,{icon:a.jsx(go,{className:"h-4 w-4 text-blue-600"}),title:" ",children:a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f.owner})}),a.jsx(oE,{icon:a.jsx(ji,{className:"h-4 w-4 text-green-600"}),title:" ",children:a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:f.decisionLog})}),a.jsx(oE,{icon:a.jsx(iu,{className:"h-4 w-4 text-indigo-600"}),title:" ",children:a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:f.evidence})}),a.jsx("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3",children:a.jsx("p",{className:"text-xs font-semibold text-blue-900",children:" :       /    ."})}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[f.changeId&&a.jsxs(pt,{size:"sm",variant:"outline",className:"text-xs text-blue-700",onClick:()=>t?.("model-governance",{changeId:f.changeId}),children:[a.jsx(qn,{className:"h-3.5 w-3.5 mr-1"}),"  "]}),f.auditId&&a.jsxs(pt,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>t?.("compliance-audit",{auditId:f.auditId}),children:[a.jsx(qn,{className:"h-3.5 w-3.5 mr-1"}),"  "]})]})]}):a.jsx("div",{className:"h-[240px] rounded-lg border border-dashed border-gray-200 flex items-center justify-center text-sm text-gray-400",children:"       ."})})]})]})]})}function QCe({question:e,answer:t,detail:r,verdict:n}){return a.jsxs("div",{className:`rounded-lg border p-3 ${n==="yes"?"border-green-200 bg-green-50/50":"border-red-200 bg-red-50/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n==="yes"?a.jsx(ji,{className:"h-4 w-4 text-green-600"}):a.jsx(Od,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:e})]}),a.jsx("p",{className:`text-sm font-bold ${n==="yes"?"text-green-700":"text-red-700"}`,children:t}),a.jsx("p",{className:"mt-1 text-xs text-gray-600 leading-relaxed",children:r})]})}function ZCe({label:e,value:t,detail:r}){return a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:e}),a.jsx("p",{className:"text-xl font-bold text-gray-900 mt-1",children:t}),a.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:r})]})}function iE({title:e,subtitle:t,description:r,badge:n,badgeClass:s}){return a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-gray-700",children:e}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${s}`,children:n})]}),a.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:t}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 leading-relaxed",children:r})]})}function bg({label:e,active:t,onClick:r}){return a.jsx("button",{onClick:r,className:`text-xs px-2 py-1 rounded border transition-colors ${t?"bg-blue-50 text-blue-700 border-blue-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:e})}function oE({icon:e,title:t,children:r}){return a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e,a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:t})]}),r]})}const JCe={level:"nation",region:"KR",kpi:"SLA",period:"WEEK"};function eTe(e,t){return{...e,...t}}function tTe({userRole:e,userName:t,onLogout:r}){const[n,s]=y.useState("national-dashboard"),[i,o]=y.useState(JCe),l=y.useCallback((d,f)=>{o(m=>eTe(m,f)),s(d)},[]),u=()=>{switch(n){case"national-dashboard":return a.jsx(k6,{onNavigate:l});case"kpi-dictionary":return a.jsx(cAe,{onNavigate:l});case"model-apply":return a.jsx(uCe,{});case"model-governance":return a.jsx(ECe,{context:i,onNavigate:l});case"quality-monitoring":return a.jsx(GCe,{context:i,onNavigate:l});case"compliance-audit":return a.jsx(XCe,{context:i,onNavigate:l});case"settings":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsx("p",{className:"text-gray-600",children:"   ."})})]});default:return a.jsx(k6,{onNavigate:l})}};return a.jsx(N_e,{currentPage:n,userRole:e,userName:t,onPageChange:s,onLogout:r,children:u()})}var rTe=(e,t,r,n,s,i,o,l)=>{let u=document.documentElement,d=["light","dark"];function f(x){(Array.isArray(e)?e:[e]).forEach(v=>{let N=v==="class",b=N&&i?s.map(S=>i[S]||S):s;N?(u.classList.remove(...b),u.classList.add(i&&i[x]?i[x]:x)):u.setAttribute(v,x)}),m(x)}function m(x){l&&d.includes(x)&&(u.style.colorScheme=x)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let x=localStorage.getItem(t)||r,v=o&&x==="system"?h():x;f(v)}catch{}},nTe=y.createContext(void 0),aTe={setTheme:e=>{},themes:[]},sTe=()=>{var e;return(e=y.useContext(nTe))!=null?e:aTe};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,themes:l,nonce:u,scriptProps:d})=>{let f=JSON.stringify([r,t,i,e,l,o,n,s]).slice(1,-1);return y.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${rTe.toString()})(${f})`}})});const lE=({...e})=>{const{theme:t="system"}=sTe();return a.jsx(cQ,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function iTe(){const[e,t]=y.useState(()=>window.location.hash==="#citizen");return y.useEffect(()=>{const r=()=>t(window.location.hash==="#citizen");return window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]),e}function oTe(){const[e,t]=y.useState(null),r=iTe(),n=i=>{t(i),console.log("[AUDIT] User Logged In:",{email:i.email,role:i.role,timestamp:new Date().toISOString()})},s=()=>{console.log("[AUDIT] User Logged Out:",{email:e?.email,timestamp:new Date().toISOString()}),t(null),window.location.hash==="#citizen"&&history.replaceState(null,"",window.location.pathname)};return r?a.jsxs(a.Fragment,{children:[a.jsx(lE,{}),a.jsx(aO,{})]}):e?a.jsxs(a.Fragment,{children:[a.jsx(lE,{}),e.role==="citizen"&&a.jsx(aO,{}),e.role==="local_center"&&a.jsx(Qje,{userRole:"counselor",userName:e.name,centerName:e.organization||"",onLogout:s}),e.role==="regional_center"&&a.jsx(a_e,{userRole:"counselor",userName:e.name,centerName:e.organization||"",onLogout:s}),e.role==="central_admin"&&a.jsx(tTe,{userRole:"central_admin",userName:e.name,onLogout:s})]}):a.jsxs(a.Fragment,{children:[a.jsx(lE,{}),a.jsx(uQ,{onLogin:n})]})}const lTe=new hK({defaultOptions:{queries:{staleTime:6e4,gcTime:30*6e4,refetchOnWindowFocus:!1}}});RK.createRoot(document.getElementById("root")).render(a.jsx(gK,{client:lTe,children:a.jsx(oTe,{})}));
