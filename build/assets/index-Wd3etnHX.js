function xW(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var NN={exports:{}},Rm={},SN={exports:{}},xr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO;function bW(){if(kO)return xr;kO=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function h(I){return I===null||typeof I!="object"?null:(I=p&&I[p]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,N={};function y(I,Y,ae){this.props=I,this.context=Y,this.refs=N,this.updater=ae||b}y.prototype.isReactComponent={},y.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},y.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function S(){}S.prototype=y.prototype;function w(I,Y,ae){this.props=I,this.context=Y,this.refs=N,this.updater=ae||b}var _=w.prototype=new S;_.constructor=w,v(_,y.prototype),_.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function D(I,Y,ae){var le,he={},X=null,ne=null;if(Y!=null)for(le in Y.ref!==void 0&&(ne=Y.ref),Y.key!==void 0&&(X=""+Y.key),Y)E.call(Y,le)&&!O.hasOwnProperty(le)&&(he[le]=Y[le]);var ve=arguments.length-2;if(ve===1)he.children=ae;else if(1<ve){for(var pe=Array(ve),Ce=0;Ce<ve;Ce++)pe[Ce]=arguments[Ce+2];he.children=pe}if(I&&I.defaultProps)for(le in ve=I.defaultProps,ve)he[le]===void 0&&(he[le]=ve[le]);return{$$typeof:e,type:I,key:X,ref:ne,props:he,_owner:C.current}}function R(I,Y){return{$$typeof:e,type:I.type,key:Y,ref:I.ref,props:I.props,_owner:I._owner}}function K(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function H(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ae){return Y[ae]})}var $=/\/+/g;function U(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?H(""+I.key):Y.toString(36)}function P(I,Y,ae,le,he){var X=typeof I;(X==="undefined"||X==="boolean")&&(I=null);var ne=!1;if(I===null)ne=!0;else switch(X){case"string":case"number":ne=!0;break;case"object":switch(I.$$typeof){case e:case t:ne=!0}}if(ne)return ne=I,he=he(ne),I=le===""?"."+U(ne,0):le,A(he)?(ae="",I!=null&&(ae=I.replace($,"$&/")+"/"),P(he,Y,ae,"",function(Ce){return Ce})):he!=null&&(K(he)&&(he=R(he,ae+(!he.key||ne&&ne.key===he.key?"":(""+he.key).replace($,"$&/")+"/")+I)),Y.push(he)),1;if(ne=0,le=le===""?".":le+":",A(I))for(var ve=0;ve<I.length;ve++){X=I[ve];var pe=le+U(X,ve);ne+=P(X,Y,ae,pe,he)}else if(pe=h(I),typeof pe=="function")for(I=pe.call(I),ve=0;!(X=I.next()).done;)X=X.value,pe=le+U(X,ve++),ne+=P(X,Y,ae,pe,he);else if(X==="object")throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ne}function G(I,Y,ae){if(I==null)return I;var le=[],he=0;return P(I,le,"","",function(X){return Y.call(ae,X,he++)}),le}function L(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(ae){(I._status===0||I._status===-1)&&(I._status=1,I._result=ae)},function(ae){(I._status===0||I._status===-1)&&(I._status=2,I._result=ae)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var M={current:null},B={transition:null},J={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:B,ReactCurrentOwner:C};function ee(){throw Error("act(...) is not supported in production builds of React.")}return xr.Children={map:G,forEach:function(I,Y,ae){G(I,function(){Y.apply(this,arguments)},ae)},count:function(I){var Y=0;return G(I,function(){Y++}),Y},toArray:function(I){return G(I,function(Y){return Y})||[]},only:function(I){if(!K(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},xr.Component=y,xr.Fragment=r,xr.Profiler=s,xr.PureComponent=w,xr.StrictMode=n,xr.Suspense=d,xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,xr.act=ee,xr.cloneElement=function(I,Y,ae){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var le=v({},I.props),he=I.key,X=I.ref,ne=I._owner;if(Y!=null){if(Y.ref!==void 0&&(X=Y.ref,ne=C.current),Y.key!==void 0&&(he=""+Y.key),I.type&&I.type.defaultProps)var ve=I.type.defaultProps;for(pe in Y)E.call(Y,pe)&&!O.hasOwnProperty(pe)&&(le[pe]=Y[pe]===void 0&&ve!==void 0?ve[pe]:Y[pe])}var pe=arguments.length-2;if(pe===1)le.children=ae;else if(1<pe){ve=Array(pe);for(var Ce=0;Ce<pe;Ce++)ve[Ce]=arguments[Ce+2];le.children=ve}return{$$typeof:e,type:I.type,key:he,ref:X,props:le,_owner:ne}},xr.createContext=function(I){return I={$$typeof:o,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:i,_context:I},I.Consumer=I},xr.createElement=D,xr.createFactory=function(I){var Y=D.bind(null,I);return Y.type=I,Y},xr.createRef=function(){return{current:null}},xr.forwardRef=function(I){return{$$typeof:l,render:I}},xr.isValidElement=K,xr.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:L}},xr.memo=function(I,Y){return{$$typeof:u,type:I,compare:Y===void 0?null:Y}},xr.startTransition=function(I){var Y=B.transition;B.transition={};try{I()}finally{B.transition=Y}},xr.unstable_act=ee,xr.useCallback=function(I,Y){return M.current.useCallback(I,Y)},xr.useContext=function(I){return M.current.useContext(I)},xr.useDebugValue=function(){},xr.useDeferredValue=function(I){return M.current.useDeferredValue(I)},xr.useEffect=function(I,Y){return M.current.useEffect(I,Y)},xr.useId=function(){return M.current.useId()},xr.useImperativeHandle=function(I,Y,ae){return M.current.useImperativeHandle(I,Y,ae)},xr.useInsertionEffect=function(I,Y){return M.current.useInsertionEffect(I,Y)},xr.useLayoutEffect=function(I,Y){return M.current.useLayoutEffect(I,Y)},xr.useMemo=function(I,Y){return M.current.useMemo(I,Y)},xr.useReducer=function(I,Y,ae){return M.current.useReducer(I,Y,ae)},xr.useRef=function(I){return M.current.useRef(I)},xr.useState=function(I){return M.current.useState(I)},xr.useSyncExternalStore=function(I,Y,ae){return M.current.useSyncExternalStore(I,Y,ae)},xr.useTransition=function(){return M.current.useTransition()},xr.version="18.3.1",xr}var OO;function Gy(){return OO||(OO=1,SN.exports=bW()),SN.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO;function yW(){if(RO)return Rm;RO=1;var e=Gy(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,u){var m,p={},h=null,b=null;u!==void 0&&(h=""+u),d.key!==void 0&&(h=""+d.key),d.ref!==void 0&&(b=d.ref);for(m in d)n.call(d,m)&&!i.hasOwnProperty(m)&&(p[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:t,type:l,key:h,ref:b,props:p,_owner:s.current}}return Rm.Fragment=r,Rm.jsx=o,Rm.jsxs=o,Rm}var PO;function vW(){return PO||(PO=1,NN.exports=yW()),NN.exports}var a=vW(),E0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},NW={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},SW=class{#e=NW;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},$d=new SW;function jW(e){setTimeout(e,0)}var Xd=typeof window>"u"||"Deno"in globalThis;function Ss(){}function wW(e,t){return typeof e=="function"?e(t):e}function kA(e){return typeof e=="number"&&e>=0&&e!==1/0}function j8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gc(e,t){return typeof e=="function"?e(t):e}function xi(e,t){return typeof e=="function"?e(t):e}function DO(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==yT(o,t.options))return!1}else if(!Ph(t.queryKey,o))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function MO(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Rh(t.options.mutationKey)!==Rh(i))return!1}else if(!Ph(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function yT(e,t){return(t?.queryKeyHashFn||Rh)(e)}function Rh(e){return JSON.stringify(e,(t,r)=>RA(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ph(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ph(e[r],t[r])):!1}var EW=Object.prototype.hasOwnProperty;function w8(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=IO(e)&&IO(t);if(!n&&!(RA(e)&&RA(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,d=n?new Array(l):{};let u=0;for(let m=0;m<l;m++){const p=n?m:o[m],h=e[p],b=t[p];if(h===b){d[p]=h,(n?m<i:EW.call(e,p))&&u++;continue}if(h===null||b===null||typeof h!="object"||typeof b!="object"){d[p]=b;continue}const v=w8(h,b,r+1);d[p]=v,v===h&&u++}return i===l&&u===i?e:d}function OA(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function IO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function RA(e){if(!LO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!LO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function LO(e){return Object.prototype.toString.call(e)==="[object Object]"}function AW(e){return new Promise(t=>{$d.setTimeout(t,e)})}function PA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?w8(e,t):t}function jN(e){return e}function _W(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function CW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var vT=Symbol();function E8(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===vT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function A8(e,t){return typeof e=="function"?e(...t):!!e}function TW(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var kW=class extends E0{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Xd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},NT=new kW;function DA(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var OW=jW;function RW(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=OW;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var wa=RW(),PW=class extends E0{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Xd&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},ab=new PW;function DW(e){return Math.min(1e3*2**e,3e4)}function _8(e){return(e??"online")==="online"?ab.isOnline():!0}var MA=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function C8(e){let t=!1,r=0,n;const s=DA(),i=()=>s.status!=="pending",o=N=>{if(!i()){const y=new MA(N);h(y),e.onCancel?.(y)}},l=()=>{t=!0},d=()=>{t=!1},u=()=>NT.isFocused()&&(e.networkMode==="always"||ab.isOnline())&&e.canRun(),m=()=>_8(e.networkMode)&&e.canRun(),p=N=>{i()||(n?.(),s.resolve(N))},h=N=>{i()||(n?.(),s.reject(N))},b=()=>new Promise(N=>{n=y=>{(i()||u())&&N(y)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let N;const y=r===0?e.initialPromise:void 0;try{N=y??e.fn()}catch(S){N=Promise.reject(S)}Promise.resolve(N).then(p).catch(S=>{if(i())return;const w=e.retry??(Xd?0:3),_=e.retryDelay??DW,A=typeof _=="function"?_(r,S):_,E=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,S);if(t||!E){h(S);return}r++,e.onFail?.(r,S),AW(A).then(()=>u()?void 0:b()).then(()=>{t?h(S):v()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n?.(),s),cancelRetry:l,continueRetry:d,canStart:m,start:()=>(m()?v():b().then(v),s)}}var T8=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kA(this.gcTime)&&(this.#e=$d.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xd?1/0:300*1e3))}clearGcTimeout(){this.#e&&($d.clearTimeout(this.#e),this.#e=void 0)}},MW=class extends T8{#e;#t;#r;#a;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=FO(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=FO(this.options);t.data!==void 0&&(this.setState($O(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=PA(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Ss).catch(Ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>xi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!j8(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(d=>d.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},s=()=>{const l=E8(this.options,t),u=(()=>{const m={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(m),m})();return this.#i=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=C8({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof MA&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(l,d)=>{this.#s({type:"failed",failureCount:l,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#n.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof MA){if(l.silent)return this.#n.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...k8(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...$O(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),wa.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function k8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $O(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function FO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var IW=class extends E0{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#i=DA(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#o;#i;#s;#h;#f;#p;#c;#d;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),BO(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return IA(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return IA(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#N(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!OA(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&UO(this.#t,r,this.options,t)&&this.#u(),this.updateResult(),n&&(this.#t!==r||xi(this.options.enabled,this.#t)!==xi(t.enabled,this.#t)||Gc(this.options.staleTime,this.#t)!==Gc(t.staleTime,this.#t))&&this.#g();const s=this.#x();n&&(this.#t!==r||xi(this.options.enabled,this.#t)!==xi(t.enabled,this.#t)||s!==this.#l)&&this.#b(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return $W(this,r)&&(this.#a=r,this.#o=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#u(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ss)),t}#g(){this.#v();const e=Gc(this.options.staleTime,this.#t);if(Xd||this.#a.isStale||!kA(e))return;const r=j8(this.#a.dataUpdatedAt,e)+1;this.#c=$d.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#N(),this.#l=e,!(Xd||xi(this.options.enabled,this.#t)===!1||!kA(this.#l)||this.#l===0)&&(this.#d=$d.setInterval(()=>{(this.options.refetchIntervalInBackground||NT.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#b(this.#x())}#v(){this.#c&&($d.clearTimeout(this.#c),this.#c=void 0)}#N(){this.#d&&($d.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const r=this.#t,n=this.options,s=this.#a,i=this.#n,o=this.#o,d=e!==r?e.state:this.#r,{state:u}=e;let m={...u},p=!1,h;if(t._optimisticResults){const D=this.hasListeners(),R=!D&&BO(e,t),K=D&&UO(e,r,t,n);(R||K)&&(m={...m,...k8(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:N}=m;h=m.data;let y=!1;if(t.placeholderData!==void 0&&h===void 0&&N==="pending"){let D;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(D=s.data,y=!0):D=typeof t.placeholderData=="function"?t.placeholderData(this.#p?.state.data,this.#p):t.placeholderData,D!==void 0&&(N="success",h=PA(s?.data,D,t),p=!0)}if(t.select&&h!==void 0&&!y)if(s&&h===i?.data&&t.select===this.#h)h=this.#f;else try{this.#h=t.select,h=t.select(h),h=PA(s?.data,h,t),this.#f=h,this.#s=null}catch(D){this.#s=D}this.#s&&(b=this.#s,h=this.#f,v=Date.now(),N="error");const S=m.fetchStatus==="fetching",w=N==="pending",_=N==="error",A=w&&S,E=h!==void 0,O={status:N,fetchStatus:m.fetchStatus,isPending:w,isSuccess:N==="success",isError:_,isInitialLoading:A,isLoading:A,data:h,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!w,isLoadingError:_&&!E,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&E,isStale:ST(e,t),refetch:this.refetch,promise:this.#i,isEnabled:xi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=O.data!==void 0,R=O.status==="error"&&!D,K=U=>{R?U.reject(O.error):D&&U.resolve(O.data)},H=()=>{const U=this.#i=O.promise=DA();K(U)},$=this.#i;switch($.status){case"pending":e.queryHash===r.queryHash&&K($);break;case"fulfilled":(R||O.data!==$.value)&&H();break;case"rejected":(!R||O.error!==$.reason)&&H();break}}return O}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#o=this.options,this.#n.data!==void 0&&(this.#p=this.#t),OA(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(o=>{const l=o;return this.#a[l]!==e[l]&&i.has(l)})};this.#j({listeners:r()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){wa.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function LW(e,t){return xi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function BO(e,t){return LW(e,t)||e.state.data!==void 0&&IA(e,t,t.refetchOnMount)}function IA(e,t,r){if(xi(t.enabled,e)!==!1&&Gc(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ST(e,t)}return!1}function UO(e,t,r,n){return(e!==t||xi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ST(e,r)}function ST(e,t){return xi(t.enabled,e)!==!1&&e.isStaleByTime(Gc(t.staleTime,e))}function $W(e,t){return!OA(e.getCurrentResult(),t)}function HO(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let m=!1;const p=v=>{TW(v,()=>t.signal,()=>m=!0)},h=E8(t.options,t.fetchOptions),b=async(v,N,y)=>{if(m)return Promise.reject();if(N==null&&v.pages.length)return Promise.resolve(v);const w=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:N,direction:y?"backward":"forward",meta:t.options.meta};return p(C),C})(),_=await h(w),{maxPages:A}=t.options,E=y?CW:_W;return{pages:E(v.pages,_,A),pageParams:E(v.pageParams,N,A)}};if(s&&i.length){const v=s==="backward",N=v?FW:GO,y={pages:i,pageParams:o},S=N(n,y);l=await b(y,S,v)}else{const v=e??i.length;do{const N=d===0?o[0]??n.initialPageParam:GO(n,l);if(d>0&&N==null)break;l=await b(l,N),d++}while(d<v)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function GO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function FW(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var BW=class extends T8{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||UW(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=C8({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",s=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:s}),this.#r.config.onMutate&&await this.#r.config.onMutate(e,this,r);const o=await this.options.onMutate?.(e,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:s})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{await this.#r.config.onError?.(i,e,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onError?.(i,e,this.state.context,r)}catch(o){Promise.reject(o)}try{await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,r)}catch(o){Promise.reject(o)}throw this.#n({type:"error",error:i}),i}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),wa.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function UW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var HW=class extends E0{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new BW({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=zg(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=zg(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=zg(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(s=>s.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=zg(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){wa.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>MO(t,r))}findAll(e={}){return this.getAll().filter(t=>MO(e,t))}notify(e){wa.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return wa.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ss))))}};function zg(e){return e.options.scope?.id}var GW=class extends E0{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,s=t.queryHash??yT(n,t);let i=this.get(s);return i||(i=new MW({client:e,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wa.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>DO(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>DO(e,r)):t}notify(e){wa.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){wa.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wa.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zW=class{#e;#t;#r;#a;#n;#o;#i;#s;constructor(e={}){this.#e=e.queryCache||new GW,this.#t=e.mutationCache||new HW,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=NT.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ab.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Gc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,o=wW(t,i);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return wa.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;wa.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return wa.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=wa.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ss).catch(Ss)}invalidateQueries(e,t={}){return wa.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=wa.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ss)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ss)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Gc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ss).catch(Ss)}fetchInfiniteQuery(e){return e.behavior=HO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ss).catch(Ss)}ensureInfiniteQueryData(e){return e.behavior=HO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ab.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(Rh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Ph(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(Rh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ph(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===vT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},g=Gy();const q=$r(g),jT=xW({__proto__:null,default:q},[g]);var O8=g.createContext(void 0),R8=e=>{const t=g.useContext(O8);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},KW=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(O8.Provider,{value:e,children:t})),P8=g.createContext(!1),qW=()=>g.useContext(P8);P8.Provider;function WW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var VW=g.createContext(WW()),YW=()=>g.useContext(VW),XW=(e,t,r)=>{const n=r?.state.error&&typeof e.throwOnError=="function"?A8(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},QW=e=>{g.useEffect(()=>{e.clearReset()},[e])},ZW=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||A8(r,[e.error,n])),JW=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},eV=(e,t)=>e.isLoading&&e.isFetching&&!t,tV=(e,t)=>e?.suspense&&t.isPending,zO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rV(e,t,r){const n=qW(),s=YW(),i=R8(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",JW(o),XW(o,s,l),QW(s);const d=!i.getQueryCache().get(o.queryHash),[u]=g.useState(()=>new t(i,o)),m=u.getOptimisticResult(o),p=!n&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(h=>{const b=p?u.subscribe(wa.batchCalls(h)):Ss;return u.updateResult(),b},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),g.useEffect(()=>{u.setOptions(o)},[o,u]),tV(o,m))throw zO(o,u,s);if(ZW({result:m,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!Xd&&eV(m,n)&&(d?zO(o,u,s):l?.promise)?.catch(Ss).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?m:u.trackResult(m)}function Ic(e,t){return rV(e,IW)}var Kg={},wN={exports:{}},ys={},EN={exports:{}},AN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO;function nV(){return KO||(KO=1,(function(e){function t(B,J){var ee=B.length;B.push(J);e:for(;0<ee;){var I=ee-1>>>1,Y=B[I];if(0<s(Y,J))B[I]=J,B[ee]=Y,ee=I;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var J=B[0],ee=B.pop();if(ee!==J){B[0]=ee;e:for(var I=0,Y=B.length,ae=Y>>>1;I<ae;){var le=2*(I+1)-1,he=B[le],X=le+1,ne=B[X];if(0>s(he,ee))X<Y&&0>s(ne,he)?(B[I]=ne,B[X]=ee,I=X):(B[I]=he,B[le]=ee,I=le);else if(X<Y&&0>s(ne,ee))B[I]=ne,B[X]=ee,I=X;else break e}}return J}function s(B,J){var ee=B.sortIndex-J.sortIndex;return ee!==0?ee:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],u=[],m=1,p=null,h=3,b=!1,v=!1,N=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var J=r(u);J!==null;){if(J.callback===null)n(u);else if(J.startTime<=B)n(u),J.sortIndex=J.expirationTime,t(d,J);else break;J=r(u)}}function A(B){if(N=!1,_(B),!v)if(r(d)!==null)v=!0,L(E);else{var J=r(u);J!==null&&M(A,J.startTime-B)}}function E(B,J){v=!1,N&&(N=!1,S(D),D=-1),b=!0;var ee=h;try{for(_(J),p=r(d);p!==null&&(!(p.expirationTime>J)||B&&!H());){var I=p.callback;if(typeof I=="function"){p.callback=null,h=p.priorityLevel;var Y=I(p.expirationTime<=J);J=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===r(d)&&n(d),_(J)}else n(d);p=r(d)}if(p!==null)var ae=!0;else{var le=r(u);le!==null&&M(A,le.startTime-J),ae=!1}return ae}finally{p=null,h=ee,b=!1}}var C=!1,O=null,D=-1,R=5,K=-1;function H(){return!(e.unstable_now()-K<R)}function $(){if(O!==null){var B=e.unstable_now();K=B;var J=!0;try{J=O(!0,B)}finally{J?U():(C=!1,O=null)}}else C=!1}var U;if(typeof w=="function")U=function(){w($)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,G=P.port2;P.port1.onmessage=$,U=function(){G.postMessage(null)}}else U=function(){y($,0)};function L(B){O=B,C||(C=!0,U())}function M(B,J){D=y(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){v||b||(v=!0,L(E))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var ee=h;h=J;try{return B()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=h;h=B;try{return J()}finally{h=ee}},e.unstable_scheduleCallback=function(B,J,ee){var I=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?I+ee:I):ee=I,B){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ee+Y,B={id:m++,callback:J,priorityLevel:B,startTime:ee,expirationTime:Y,sortIndex:-1},ee>I?(B.sortIndex=ee,t(u,B),r(d)===null&&B===r(u)&&(N?(S(D),D=-1):N=!0,M(A,ee-I))):(B.sortIndex=Y,t(d,B),v||b||(v=!0,L(E))),B},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(B){var J=h;return function(){var ee=h;h=J;try{return B.apply(this,arguments)}finally{h=ee}}}})(AN)),AN}var qO;function aV(){return qO||(qO=1,EN.exports=nV()),EN.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO;function sV(){if(WO)return ys;WO=1;var e=Gy(),t=aV();function r(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(c,f){o(c,f),o(c+"Capture",f)}function o(c,f){for(s[c]=f,c=0;c<f.length;c++)n.add(f[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function h(c){return d.call(p,c)?!0:d.call(m,c)?!1:u.test(c)?p[c]=!0:(m[c]=!0,!1)}function b(c,f,x,j){if(x!==null&&x.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return j?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function v(c,f,x,j){if(f===null||typeof f>"u"||b(c,f,x,j))return!0;if(j)return!1;if(x!==null)switch(x.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function N(c,f,x,j,T,k,z){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=j,this.attributeNamespace=T,this.mustUseProperty=x,this.propertyName=c,this.type=f,this.sanitizeURL=k,this.removeEmptyString=z}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new N(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var f=c[0];y[f]=new N(f,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new N(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new N(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new N(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new N(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new N(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new N(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new N(c,5,!1,c.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function w(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var f=c.replace(S,w);y[f]=new N(f,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var f=c.replace(S,w);y[f]=new N(f,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var f=c.replace(S,w);y[f]=new N(f,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new N(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new N(c,1,!1,c.toLowerCase(),null,!0,!0)});function _(c,f,x,j){var T=y.hasOwnProperty(f)?y[f]:null;(T!==null?T.type!==0:j||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(v(f,x,T,j)&&(x=null),j||T===null?h(f)&&(x===null?c.removeAttribute(f):c.setAttribute(f,""+x)):T.mustUseProperty?c[T.propertyName]=x===null?T.type===3?!1:"":x:(f=T.attributeName,j=T.attributeNamespace,x===null?c.removeAttribute(f):(T=T.type,x=T===3||T===4&&x===!0?"":""+x,j?c.setAttributeNS(j,f,x):c.setAttribute(f,x))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),C=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),H=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),B=Symbol.iterator;function J(c){return c===null||typeof c!="object"?null:(c=B&&c[B]||c["@@iterator"],typeof c=="function"?c:null)}var ee=Object.assign,I;function Y(c){if(I===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);I=f&&f[1]||""}return`
`+I+c}var ae=!1;function le(c,f){if(!c||ae)return"";ae=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(_e){var j=_e}Reflect.construct(c,[],f)}else{try{f.call()}catch(_e){j=_e}c.call(f.prototype)}else{try{throw Error()}catch(_e){j=_e}c()}}catch(_e){if(_e&&j&&typeof _e.stack=="string"){for(var T=_e.stack.split(`
`),k=j.stack.split(`
`),z=T.length-1,re=k.length-1;1<=z&&0<=re&&T[z]!==k[re];)re--;for(;1<=z&&0<=re;z--,re--)if(T[z]!==k[re]){if(z!==1||re!==1)do if(z--,re--,0>re||T[z]!==k[re]){var oe=`
`+T[z].replace(" at new "," at ");return c.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",c.displayName)),oe}while(1<=z&&0<=re);break}}}finally{ae=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?Y(c):""}function he(c){switch(c.tag){case 5:return Y(c.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return c=le(c.type,!1),c;case 11:return c=le(c.type.render,!1),c;case 1:return c=le(c.type,!0),c;default:return""}}function X(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case O:return"Fragment";case C:return"Portal";case R:return"Profiler";case D:return"StrictMode";case U:return"Suspense";case P:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case H:return(c.displayName||"Context")+".Consumer";case K:return(c._context.displayName||"Context")+".Provider";case $:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case G:return f=c.displayName||null,f!==null?f:X(c.type)||"Memo";case L:f=c._payload,c=c._init;try{return X(c(f))}catch{}}return null}function ne(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(f);case 8:return f===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function ve(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function pe(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Ce(c){var f=pe(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),j=""+c[f];if(!c.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,k=x.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return T.call(this)},set:function(z){j=""+z,k.call(this,z)}}),Object.defineProperty(c,f,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function(z){j=""+z},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function ge(c){c._valueTracker||(c._valueTracker=Ce(c))}function se(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var x=f.getValue(),j="";return c&&(j=pe(c)?c.checked?"true":"false":c.value),c=j,c!==x?(f.setValue(c),!0):!1}function Ze(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function V(c,f){var x=f.checked;return ee({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function de(c,f){var x=f.defaultValue==null?"":f.defaultValue,j=f.checked!=null?f.checked:f.defaultChecked;x=ve(f.value!=null?f.value:x),c._wrapperState={initialChecked:j,initialValue:x,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function Ae(c,f){f=f.checked,f!=null&&_(c,"checked",f,!1)}function ce(c,f){Ae(c,f);var x=ve(f.value),j=f.type;if(x!=null)j==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}f.hasOwnProperty("value")?Ie(c,f.type,x):f.hasOwnProperty("defaultValue")&&Ie(c,f.type,ve(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(c.defaultChecked=!!f.defaultChecked)}function ye(c,f,x){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var j=f.type;if(!(j!=="submit"&&j!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+c._wrapperState.initialValue,x||f===c.value||(c.value=f),c.defaultValue=f}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function Ie(c,f,x){(f!=="number"||Ze(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var Ct=Array.isArray;function Dt(c,f,x,j){if(c=c.options,f){f={};for(var T=0;T<x.length;T++)f["$"+x[T]]=!0;for(x=0;x<c.length;x++)T=f.hasOwnProperty("$"+c[x].value),c[x].selected!==T&&(c[x].selected=T),T&&j&&(c[x].defaultSelected=!0)}else{for(x=""+ve(x),f=null,T=0;T<c.length;T++){if(c[T].value===x){c[T].selected=!0,j&&(c[T].defaultSelected=!0);return}f!==null||c[T].disabled||(f=c[T])}f!==null&&(f.selected=!0)}}function ze(c,f){if(f.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},f,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function $e(c,f){var x=f.value;if(x==null){if(x=f.children,f=f.defaultValue,x!=null){if(f!=null)throw Error(r(92));if(Ct(x)){if(1<x.length)throw Error(r(93));x=x[0]}f=x}f==null&&(f=""),x=f}c._wrapperState={initialValue:ve(x)}}function or(c,f){var x=ve(f.value),j=ve(f.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),f.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),j!=null&&(c.defaultValue=""+j)}function Vt(c){var f=c.textContent;f===c._wrapperState.initialValue&&f!==""&&f!==null&&(c.value=f)}function hn(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zr(c,f){return c==null||c==="http://www.w3.org/1999/xhtml"?hn(f):c==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Rt,mr=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,x,j,T){MSApp.execUnsafeLocalFunction(function(){return c(f,x,j,T)})}:c})(function(c,f){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=f;else{for(Rt=Rt||document.createElement("div"),Rt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Rt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;f.firstChild;)c.appendChild(f.firstChild)}});function ar(c,f){if(f){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=f;return}}c.textContent=f}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(c){Mr.forEach(function(f){f=f+c.charAt(0).toUpperCase()+c.substring(1),Fr[f]=Fr[c]})});function jr(c,f,x){return f==null||typeof f=="boolean"||f===""?"":x||typeof f!="number"||f===0||Fr.hasOwnProperty(c)&&Fr[c]?(""+f).trim():f+"px"}function Or(c,f){c=c.style;for(var x in f)if(f.hasOwnProperty(x)){var j=x.indexOf("--")===0,T=jr(x,f[x],j);x==="float"&&(x="cssFloat"),j?c.setProperty(x,T):c[x]=T}}var ur=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(c,f){if(f){if(ur[c]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(r(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(r(61))}if(f.style!=null&&typeof f.style!="object")throw Error(r(62))}}function xt(c,f){if(c.indexOf("-")===-1)return typeof f.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function Mt(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ot=null,Qt=null,Ht=null;function Ee(c){if(c=xm(c)){if(typeof ot!="function")throw Error(r(280));var f=c.stateNode;f&&(f=ag(f),ot(c.stateNode,c.type,f))}}function Be(c){Qt?Ht?Ht.push(c):Ht=[c]:Qt=c}function Qe(){if(Qt){var c=Qt,f=Ht;if(Ht=Qt=null,Ee(c),f)for(c=0;c<f.length;c++)Ee(f[c])}}function Ft(c,f){return c(f)}function hr(){}var at=!1;function br(c,f,x){if(at)return c(f,x);at=!0;try{return Ft(c,f,x)}finally{at=!1,(Qt!==null||Ht!==null)&&(hr(),Qe())}}function Ye(c,f){var x=c.stateNode;if(x===null)return null;var j=ag(x);if(j===null)return null;x=j[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(r(231,f,typeof x));return x}var Yr=!1;if(l)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch{Yr=!1}function Oe(c,f,x,j,T,k,z,re,oe){var _e=Array.prototype.slice.call(arguments,3);try{f.apply(x,_e)}catch(Ge){this.onError(Ge)}}var Te=!1,rt=null,St=!1,Bt=null,Wt={onError:function(c){Te=!0,rt=c}};function It(c,f,x,j,T,k,z,re,oe){Te=!1,rt=null,Oe.apply(Wt,arguments)}function lt(c,f,x,j,T,k,z,re,oe){if(It.apply(this,arguments),Te){if(Te){var _e=rt;Te=!1,rt=null}else throw Error(r(198));St||(St=!0,Bt=_e)}}function lr(c){var f=c,x=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(x=f.return),c=f.return;while(c)}return f.tag===3?x:null}function Jr(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function _a(c){if(lr(c)!==c)throw Error(r(188))}function zs(c){var f=c.alternate;if(!f){if(f=lr(c),f===null)throw Error(r(188));return f!==c?null:c}for(var x=c,j=f;;){var T=x.return;if(T===null)break;var k=T.alternate;if(k===null){if(j=T.return,j!==null){x=j;continue}break}if(T.child===k.child){for(k=T.child;k;){if(k===x)return _a(T),c;if(k===j)return _a(T),f;k=k.sibling}throw Error(r(188))}if(x.return!==j.return)x=T,j=k;else{for(var z=!1,re=T.child;re;){if(re===x){z=!0,x=T,j=k;break}if(re===j){z=!0,j=T,x=k;break}re=re.sibling}if(!z){for(re=k.child;re;){if(re===x){z=!0,x=k,j=T;break}if(re===j){z=!0,j=k,x=T;break}re=re.sibling}if(!z)throw Error(r(189))}}if(x.alternate!==j)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?c:f}function Ar(c){return c=zs(c),c!==null?Mn(c):null}function Mn(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=Mn(c);if(f!==null)return f;c=c.sibling}return null}var Lt=t.unstable_scheduleCallback,vr=t.unstable_cancelCallback,qa=t.unstable_shouldYield,Ca=t.unstable_requestPaint,Tr=t.unstable_now,io=t.unstable_getCurrentPriorityLevel,Ir=t.unstable_ImmediatePriority,Rr=t.unstable_UserBlockingPriority,_s=t.unstable_NormalPriority,ut=t.unstable_LowPriority,_r=t.unstable_IdlePriority,Nn=null,Wr=null;function Ta(c){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(Nn,c,void 0,(c.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Fn,Wa=Math.log,ka=Math.LN2;function Fn(c){return c>>>=0,c===0?32:31-(Wa(c)/ka|0)|0}var ls=64,Sn=4194304;function Va(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ya(c,f){var x=c.pendingLanes;if(x===0)return 0;var j=0,T=c.suspendedLanes,k=c.pingedLanes,z=x&268435455;if(z!==0){var re=z&~T;re!==0?j=Va(re):(k&=z,k!==0&&(j=Va(k)))}else z=x&~T,z!==0?j=Va(z):k!==0&&(j=Va(k));if(j===0)return 0;if(f!==0&&f!==j&&(f&T)===0&&(T=j&-j,k=f&-f,T>=k||T===16&&(k&4194240)!==0))return f;if((j&4)!==0&&(j|=x&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=j;0<f;)x=31-en(f),T=1<<x,j|=c[x],f&=~T;return j}function Ks(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(c,f){for(var x=c.suspendedLanes,j=c.pingedLanes,T=c.expirationTimes,k=c.pendingLanes;0<k;){var z=31-en(k),re=1<<z,oe=T[z];oe===-1?((re&x)===0||(re&j)!==0)&&(T[z]=Ks(re,f)):oe<=f&&(c.expiredLanes|=re),k&=~re}}function tn(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function qs(){var c=ls;return ls<<=1,(ls&4194240)===0&&(ls=64),c}function Ws(c){for(var f=[],x=0;31>x;x++)f.push(c);return f}function cn(c,f,x){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-en(f),c[f]=x}function dn(c,f){var x=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<x;){var T=31-en(x),k=1<<T;f[T]=0,j[T]=-1,c[T]=-1,x&=~k}}function Vs(c,f){var x=c.entangledLanes|=f;for(c=c.entanglements;x;){var j=31-en(x),T=1<<j;T&f|c[j]&f&&(c[j]|=f),x&=~T}}var Jt=0;function Ts(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Ys,fr,W,ie,Re,Je=!1,We=[],Ke=null,$t=null,Zt=null,wr=new Map,cr=new Map,Br=[],jn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ti(c,f){switch(c){case"focusin":case"focusout":Ke=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":wr.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(f.pointerId)}}function nl(c,f,x,j,T,k){return c===null||c.nativeEvent!==k?(c={blockedOn:f,domEventName:x,eventSystemFlags:j,nativeEvent:k,targetContainers:[T]},f!==null&&(f=xm(f),f!==null&&fr(f)),c):(c.eventSystemFlags|=j,f=c.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),c)}function ld(c,f,x,j,T){switch(f){case"focusin":return Ke=nl(Ke,c,f,x,j,T),!0;case"dragenter":return $t=nl($t,c,f,x,j,T),!0;case"mouseover":return Zt=nl(Zt,c,f,x,j,T),!0;case"pointerover":var k=T.pointerId;return wr.set(k,nl(wr.get(k)||null,c,f,x,j,T)),!0;case"gotpointercapture":return k=T.pointerId,cr.set(k,nl(cr.get(k)||null,c,f,x,j,T)),!0}return!1}function Xl(c){var f=xd(c.target);if(f!==null){var x=lr(f);if(x!==null){if(f=x.tag,f===13){if(f=Jr(x),f!==null){c.blockedOn=f,Re(c.priority,function(){W(x)});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ql(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var x=et(c.domEventName,c.eventSystemFlags,f[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var j=new x.constructor(x.type,x);Ue=j,x.target.dispatchEvent(j),Ue=null}else return f=xm(x),f!==null&&fr(f),c.blockedOn=x,!1;f.shift()}return!0}function Wn(c,f,x){Ql(c)&&x.delete(f)}function oo(){Je=!1,Ke!==null&&Ql(Ke)&&(Ke=null),$t!==null&&Ql($t)&&($t=null),Zt!==null&&Ql(Zt)&&(Zt=null),wr.forEach(Wn),cr.forEach(Wn)}function ki(c,f){c.blockedOn===f&&(c.blockedOn=null,Je||(Je=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oo)))}function lo(c){function f(T){return ki(T,c)}if(0<We.length){ki(We[0],c);for(var x=1;x<We.length;x++){var j=We[x];j.blockedOn===c&&(j.blockedOn=null)}}for(Ke!==null&&ki(Ke,c),$t!==null&&ki($t,c),Zt!==null&&ki(Zt,c),wr.forEach(f),cr.forEach(f),x=0;x<Br.length;x++)j=Br[x],j.blockedOn===c&&(j.blockedOn=null);for(;0<Br.length&&(x=Br[0],x.blockedOn===null);)Xl(x),x.blockedOn===null&&Br.shift()}var cs=A.ReactCurrentBatchConfig,Q=!0;function be(c,f,x,j){var T=Jt,k=cs.transition;cs.transition=null;try{Jt=1,Ne(c,f,x,j)}finally{Jt=T,cs.transition=k}}function De(c,f,x,j){var T=Jt,k=cs.transition;cs.transition=null;try{Jt=4,Ne(c,f,x,j)}finally{Jt=T,cs.transition=k}}function Ne(c,f,x,j){if(Q){var T=et(c,f,x,j);if(T===null)tt(c,f,j,je,x),Ti(c,j);else if(ld(T,c,f,x,j))j.stopPropagation();else if(Ti(c,j),f&4&&-1<jn.indexOf(c)){for(;T!==null;){var k=xm(T);if(k!==null&&Ys(k),k=et(c,f,x,j),k===null&&tt(c,f,j,je,x),k===T)break;T=k}T!==null&&j.stopPropagation()}else tt(c,f,j,null,x)}}var je=null;function et(c,f,x,j){if(je=null,c=Mt(j),c=xd(c),c!==null)if(f=lr(c),f===null)c=null;else if(x=f.tag,x===13){if(c=Jr(f),c!==null)return c;c=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null);return je=c,null}function ht(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(io()){case Ir:return 1;case Rr:return 4;case _s:case ut:return 16;case _r:return 536870912;default:return 16}default:return 16}}var gt=null,dr=null,gn=null;function Vn(){if(gn)return gn;var c,f=dr,x=f.length,j,T="value"in gt?gt.value:gt.textContent,k=T.length;for(c=0;c<x&&f[c]===T[c];c++);var z=x-c;for(j=1;j<=z&&f[x-j]===T[k-j];j++);return gn=T.slice(c,1<j?1-j:void 0)}function Xr(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function ks(){return!0}function Xs(){return!1}function In(c){function f(x,j,T,k,z){this._reactName=x,this._targetInst=T,this.type=j,this.nativeEvent=k,this.target=z,this.currentTarget=null;for(var re in c)c.hasOwnProperty(re)&&(x=c[re],this[re]=x?x(k):k[re]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?ks:Xs,this.isPropagationStopped=Xs,this}return ee(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),f}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tt=In(Xa),Cn=ee({},Xa,{view:0,detail:0}),oa=In(Cn),Zl,ds,ba,Qs=ee({},Cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:em,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==ba&&(ba&&c.type==="mousemove"?(Zl=c.screenX-ba.screenX,ds=c.screenY-ba.screenY):ds=Zl=0,ba=c),Zl)},movementY:function(c){return"movementY"in c?c.movementY:ds}}),co=In(Qs),Vp=ee({},Qs,{dataTransfer:0}),Yp=In(Vp),Xp=ee({},Cn,{relatedTarget:0}),Qp=In(Xp),W0=ee({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Zp=In(W0),V0=ee({},Xa,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Y0=In(V0),X0=ee({},Xa,{data:0}),gu=In(X0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d1(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=c1[c])?!!f[c]:!1}function em(){return d1}var u1=ee({},Cn,{key:function(c){if(c.key){var f=Q0[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Xr(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Jp[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:em,charCode:function(c){return c.type==="keypress"?Xr(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Xr(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Zs=In(u1),tm=ee({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=In(tm),rm=ee({},Cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:em}),nm=In(rm),am=ee({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=In(am),sm=ee({},Qs,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),im=In(sm),cd=[9,13,27,32],yu=l&&"CompositionEvent"in window,dd=null;l&&"documentMode"in document&&(dd=document.documentMode);var Os=l&&"TextEvent"in window&&!dd,vu=l&&(!yu||dd&&8<dd&&11>=dd),om=" ",lm=!1;function Z0(c,f){switch(c){case"keyup":return cd.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Jl=!1;function uo(c,f){switch(c){case"compositionend":return ya(f);case"keypress":return f.which!==32?null:(lm=!0,om);case"textInput":return c=f.data,c===om&&lm?null:c;default:return null}}function J0(c,f){if(Jl)return c==="compositionend"||!yu&&Z0(c,f)?(c=Vn(),gn=dr=gt=null,Jl=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return vu&&f.locale!=="ko"?null:f.data;default:return null}}var eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!eg[c.type]:f==="textarea"}function ud(c,f,x,j){Be(j),f=gr(f,"onChange"),0<f.length&&(x=new Tt("onChange","change",null,x,j),c.push({event:x,listeners:f}))}var la=null,us=null;function al(c){F(c,0)}function sl(c){var f=Au(c);if(se(f))return c}function f1(c,f){if(c==="change")return f}var fd=!1;if(l){var cm;if(l){var Nu="oninput"in document;if(!Nu){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),Nu=typeof dm.oninput=="function"}cm=Nu}else cm=!1;fd=cm&&(!document.documentMode||9<document.documentMode)}function tg(){la&&(la.detachEvent("onpropertychange",um),us=la=null)}function um(c){if(c.propertyName==="value"&&sl(us)){var f=[];ud(f,us,c,Mt(c)),br(al,f)}}function Oa(c,f,x){c==="focusin"?(tg(),la=f,us=x,la.attachEvent("onpropertychange",um)):c==="focusout"&&tg()}function Oi(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return sl(us)}function fo(c,f){if(c==="click")return sl(f)}function fm(c,f){if(c==="input"||c==="change")return sl(f)}function Su(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Bn=typeof Object.is=="function"?Object.is:Su;function po(c,f){if(Bn(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var x=Object.keys(c),j=Object.keys(f);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var T=x[j];if(!d.call(f,T)||!Bn(c[T],f[T]))return!1}return!0}function ca(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function pd(c,f){var x=ca(c);c=0;for(var j;x;){if(x.nodeType===3){if(j=c+x.textContent.length,c<=f&&j>=f)return{node:x,offset:f-c};c=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=ca(x)}}function pm(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?pm(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function mm(){for(var c=window,f=Ze();f instanceof c.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)c=f.contentWindow;else break;f=Ze(c.document)}return f}function mo(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function md(c){var f=mm(),x=c.focusedElem,j=c.selectionRange;if(f!==x&&x&&x.ownerDocument&&pm(x.ownerDocument.documentElement,x)){if(j!==null&&mo(x)){if(f=j.start,c=j.end,c===void 0&&(c=f),"selectionStart"in x)x.selectionStart=f,x.selectionEnd=Math.min(c,x.value.length);else if(c=(f=x.ownerDocument||document)&&f.defaultView||window,c.getSelection){c=c.getSelection();var T=x.textContent.length,k=Math.min(j.start,T);j=j.end===void 0?k:Math.min(j.end,T),!c.extend&&k>j&&(T=j,j=k,k=T),T=pd(x,k);var z=pd(x,j);T&&z&&(c.rangeCount!==1||c.anchorNode!==T.node||c.anchorOffset!==T.offset||c.focusNode!==z.node||c.focusOffset!==z.offset)&&(f=f.createRange(),f.setStart(T.node,T.offset),c.removeAllRanges(),k>j?(c.addRange(f),c.extend(z.node,z.offset)):(f.setEnd(z.node,z.offset),c.addRange(f)))}}for(f=[],c=x;c=c.parentNode;)c.nodeType===1&&f.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<f.length;x++)c=f[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var p1=l&&"documentMode"in document&&11>=document.documentMode,tc=null,fs=null,rc=null,hd=!1;function Js(c,f,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;hd||tc==null||tc!==Ze(j)||(j=tc,"selectionStart"in j&&mo(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),rc&&po(rc,j)||(rc=j,j=gr(fs,"onSelect"),0<j.length&&(f=new Tt("onSelect","select",null,f,x),c.push({event:f,listeners:j}),f.target=tc)))}function il(c,f){var x={};return x[c.toLowerCase()]=f.toLowerCase(),x["Webkit"+c]="webkit"+f,x["Moz"+c]="moz"+f,x}var ho={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},nc={},rg={};l&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ol(c){if(nc[c])return nc[c];if(!ho[c])return c;var f=ho[c],x;for(x in f)if(f.hasOwnProperty(x)&&x in rg)return nc[c]=f[x];return c}var ac=ol("animationend"),sc=ol("animationiteration"),ic=ol("animationstart"),oc=ol("transitionend"),Rs=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(c,f){Rs.set(c,f),i(f,[c])}for(var ti=0;ti<ju.length;ti++){var ps=ju[ti],lc=ps.toLowerCase(),m1=ps[0].toUpperCase()+ps.slice(1);ei(lc,"on"+m1)}ei(ac,"onAnimationEnd"),ei(sc,"onAnimationIteration"),ei(ic,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(oc,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function ng(c,f,x){var j=c.type||"unknown-event";c.currentTarget=x,lt(j,f,void 0,c),c.currentTarget=null}function F(c,f){f=(f&4)!==0;for(var x=0;x<c.length;x++){var j=c[x],T=j.event;j=j.listeners;e:{var k=void 0;if(f)for(var z=j.length-1;0<=z;z--){var re=j[z],oe=re.instance,_e=re.currentTarget;if(re=re.listener,oe!==k&&T.isPropagationStopped())break e;ng(T,re,_e),k=oe}else for(z=0;z<j.length;z++){if(re=j[z],oe=re.instance,_e=re.currentTarget,re=re.listener,oe!==k&&T.isPropagationStopped())break e;ng(T,re,_e),k=oe}}}if(St)throw c=Bt,St=!1,Bt=null,c}function Z(c,f){var x=f[x1];x===void 0&&(x=f[x1]=new Set);var j=c+"__bubble";x.has(j)||(Me(f,c,2,!1),x.add(j))}function te(c,f,x){var j=0;f&&(j|=4),Me(x,c,j,f)}var xe="_reactListening"+Math.random().toString(36).slice(2);function fe(c){if(!c[xe]){c[xe]=!0,n.forEach(function(x){x!=="selectionchange"&&(h1.has(x)||te(x,!1,c),te(x,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[xe]||(f[xe]=!0,te("selectionchange",!1,f))}}function Me(c,f,x,j){switch(ht(f)){case 1:var T=be;break;case 4:T=De;break;default:T=Ne}x=T.bind(null,f,x,c),T=void 0,!Yr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),j?T!==void 0?c.addEventListener(f,x,{capture:!0,passive:T}):c.addEventListener(f,x,!0):T!==void 0?c.addEventListener(f,x,{passive:T}):c.addEventListener(f,x,!1)}function tt(c,f,x,j,T){var k=j;if((f&1)===0&&(f&2)===0&&j!==null)e:for(;;){if(j===null)return;var z=j.tag;if(z===3||z===4){var re=j.stateNode.containerInfo;if(re===T||re.nodeType===8&&re.parentNode===T)break;if(z===4)for(z=j.return;z!==null;){var oe=z.tag;if((oe===3||oe===4)&&(oe=z.stateNode.containerInfo,oe===T||oe.nodeType===8&&oe.parentNode===T))return;z=z.return}for(;re!==null;){if(z=xd(re),z===null)return;if(oe=z.tag,oe===5||oe===6){j=k=z;continue e}re=re.parentNode}}j=j.return}br(function(){var _e=k,Ge=Mt(x),qe=[];e:{var He=Rs.get(c);if(He!==void 0){var ct=Tt,bt=c;switch(c){case"keypress":if(Xr(x)===0)break e;case"keydown":case"keyup":ct=Zs;break;case"focusin":bt="focus",ct=Qp;break;case"focusout":bt="blur",ct=Qp;break;case"beforeblur":case"afterblur":ct=Qp;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=nm;break;case ac:case sc:case ic:ct=Zp;break;case oc:ct=bu;break;case"scroll":ct=oa;break;case"wheel":ct=im;break;case"copy":case"cut":case"paste":ct=Y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=xu}var Et=(f&4)!==0,Ln=!Et&&c==="scroll",Se=Et?He!==null?He+"Capture":null:He;Et=[];for(var me=_e,we;me!==null;){we=me;var Xe=we.stateNode;if(we.tag===5&&Xe!==null&&(we=Xe,Se!==null&&(Xe=Ye(me,Se),Xe!=null&&Et.push(st(me,Xe,we)))),Ln)break;me=me.return}0<Et.length&&(He=new ct(He,bt,null,x,Ge),qe.push({event:He,listeners:Et}))}}if((f&7)===0){e:{if(He=c==="mouseover"||c==="pointerover",ct=c==="mouseout"||c==="pointerout",He&&x!==Ue&&(bt=x.relatedTarget||x.fromElement)&&(xd(bt)||bt[ll]))break e;if((ct||He)&&(He=Ge.window===Ge?Ge:(He=Ge.ownerDocument)?He.defaultView||He.parentWindow:window,ct?(bt=x.relatedTarget||x.toElement,ct=_e,bt=bt?xd(bt):null,bt!==null&&(Ln=lr(bt),bt!==Ln||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(ct=null,bt=_e),ct!==bt)){if(Et=co,Xe="onMouseLeave",Se="onMouseEnter",me="mouse",(c==="pointerout"||c==="pointerover")&&(Et=xu,Xe="onPointerLeave",Se="onPointerEnter",me="pointer"),Ln=ct==null?He:Au(ct),we=bt==null?He:Au(bt),He=new Et(Xe,me+"leave",ct,x,Ge),He.target=Ln,He.relatedTarget=we,Xe=null,xd(Ge)===_e&&(Et=new Et(Se,me+"enter",bt,x,Ge),Et.target=we,Et.relatedTarget=Ln,Xe=Et),Ln=Xe,ct&&bt)t:{for(Et=ct,Se=bt,me=0,we=Et;we;we=jt(we))me++;for(we=0,Xe=Se;Xe;Xe=jt(Xe))we++;for(;0<me-we;)Et=jt(Et),me--;for(;0<we-me;)Se=jt(Se),we--;for(;me--;){if(Et===Se||Se!==null&&Et===Se.alternate)break t;Et=jt(Et),Se=jt(Se)}Et=null}else Et=null;ct!==null&&Xt(qe,He,ct,Et,!1),bt!==null&&Ln!==null&&Xt(qe,Ln,bt,Et,!0)}}e:{if(He=_e?Au(_e):window,ct=He.nodeName&&He.nodeName.toLowerCase(),ct==="select"||ct==="input"&&He.type==="file")var _t=f1;else if(ec(He))if(fd)_t=fm;else{_t=Oi;var zt=Oa}else(ct=He.nodeName)&&ct.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(_t=fo);if(_t&&(_t=_t(c,_e))){ud(qe,_t,x,Ge);break e}zt&&zt(c,He,_e),c==="focusout"&&(zt=He._wrapperState)&&zt.controlled&&He.type==="number"&&Ie(He,"number",He.value)}switch(zt=_e?Au(_e):window,c){case"focusin":(ec(zt)||zt.contentEditable==="true")&&(tc=zt,fs=_e,rc=null);break;case"focusout":rc=fs=tc=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Js(qe,x,Ge);break;case"selectionchange":if(p1)break;case"keydown":case"keyup":Js(qe,x,Ge)}var Kt;if(yu)e:{switch(c){case"compositionstart":var er="onCompositionStart";break e;case"compositionend":er="onCompositionEnd";break e;case"compositionupdate":er="onCompositionUpdate";break e}er=void 0}else Jl?Z0(c,x)&&(er="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(er="onCompositionStart");er&&(vu&&x.locale!=="ko"&&(Jl||er!=="onCompositionStart"?er==="onCompositionEnd"&&Jl&&(Kt=Vn()):(gt=Ge,dr="value"in gt?gt.value:gt.textContent,Jl=!0)),zt=gr(_e,er),0<zt.length&&(er=new gu(er,c,null,x,Ge),qe.push({event:er,listeners:zt}),Kt?er.data=Kt:(Kt=ya(x),Kt!==null&&(er.data=Kt)))),(Kt=Os?uo(c,x):J0(c,x))&&(_e=gr(_e,"onBeforeInput"),0<_e.length&&(Ge=new gu("onBeforeInput","beforeinput",null,x,Ge),qe.push({event:Ge,listeners:_e}),Ge.data=Kt))}F(qe,f)})}function st(c,f,x){return{instance:c,listener:f,currentTarget:x}}function gr(c,f){for(var x=f+"Capture",j=[];c!==null;){var T=c,k=T.stateNode;T.tag===5&&k!==null&&(T=k,k=Ye(c,x),k!=null&&j.unshift(st(c,k,T)),k=Ye(c,f),k!=null&&j.push(st(c,k,T))),c=c.return}return j}function jt(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function Xt(c,f,x,j,T){for(var k=f._reactName,z=[];x!==null&&x!==j;){var re=x,oe=re.alternate,_e=re.stateNode;if(oe!==null&&oe===j)break;re.tag===5&&_e!==null&&(re=_e,T?(oe=Ye(x,k),oe!=null&&z.unshift(st(x,oe,re))):T||(oe=Ye(x,k),oe!=null&&z.push(st(x,oe,re)))),x=x.return}z.length!==0&&c.push({event:f,listeners:z})}var Er=/\r\n?/g,Ra=/\u0000|\uFFFD/g;function xn(c){return(typeof c=="string"?c:""+c).replace(Er,`
`).replace(Ra,"")}function ri(c,f,x){if(f=xn(f),xn(c)!==f&&x)throw Error(r(425))}function hm(){}var Kr=null,Qa=null;function Ri(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,Oq=typeof clearTimeout=="function"?clearTimeout:void 0,X3=typeof Promise=="function"?Promise:void 0,Rq=typeof queueMicrotask=="function"?queueMicrotask:typeof X3<"u"?function(c){return X3.resolve(null).then(c).catch(Pq)}:wu;function Pq(c){setTimeout(function(){throw c})}function g1(c,f){var x=f,j=0;do{var T=x.nextSibling;if(c.removeChild(x),T&&T.nodeType===8)if(x=T.data,x==="/$"){if(j===0){c.removeChild(T),lo(f);return}j--}else x!=="$"&&x!=="$?"&&x!=="$!"||j++;x=T}while(x);lo(f)}function cc(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return c}function Q3(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(f===0)return c;f--}else x==="/$"&&f++}c=c.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),go="__reactFiber$"+Eu,gm="__reactProps$"+Eu,ll="__reactContainer$"+Eu,x1="__reactEvents$"+Eu,Dq="__reactListeners$"+Eu,Mq="__reactHandles$"+Eu;function xd(c){var f=c[go];if(f)return f;for(var x=c.parentNode;x;){if(f=x[ll]||x[go]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(c=Q3(c);c!==null;){if(x=c[go])return x;c=Q3(c)}return f}c=x,x=c.parentNode}return null}function xm(c){return c=c[go]||c[ll],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Au(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function ag(c){return c[gm]||null}var b1=[],_u=-1;function dc(c){return{current:c}}function un(c){0>_u||(c.current=b1[_u],b1[_u]=null,_u--)}function rn(c,f){_u++,b1[_u]=c.current,c.current=f}var uc={},Pa=dc(uc),ms=dc(!1),bd=uc;function Cu(c,f){var x=c.type.contextTypes;if(!x)return uc;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===f)return j.__reactInternalMemoizedMaskedChildContext;var T={},k;for(k in x)T[k]=f[k];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=T),T}function hs(c){return c=c.childContextTypes,c!=null}function sg(){un(ms),un(Pa)}function Z3(c,f,x){if(Pa.current!==uc)throw Error(r(168));rn(Pa,f),rn(ms,x)}function J3(c,f,x){var j=c.stateNode;if(f=f.childContextTypes,typeof j.getChildContext!="function")return x;j=j.getChildContext();for(var T in j)if(!(T in f))throw Error(r(108,ne(c)||"Unknown",T));return ee({},x,j)}function ig(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||uc,bd=Pa.current,rn(Pa,c),rn(ms,ms.current),!0}function ek(c,f,x){var j=c.stateNode;if(!j)throw Error(r(169));x?(c=J3(c,f,bd),j.__reactInternalMemoizedMergedChildContext=c,un(ms),un(Pa),rn(Pa,c)):un(ms),rn(ms,x)}var cl=null,og=!1,y1=!1;function tk(c){cl===null?cl=[c]:cl.push(c)}function Iq(c){og=!0,tk(c)}function fc(){if(!y1&&cl!==null){y1=!0;var c=0,f=Jt;try{var x=cl;for(Jt=1;c<x.length;c++){var j=x[c];do j=j(!0);while(j!==null)}cl=null,og=!1}catch(T){throw cl!==null&&(cl=cl.slice(c+1)),Lt(Ir,fc),T}finally{Jt=f,y1=!1}}return null}var Tu=[],ku=0,lg=null,cg=0,ni=[],ai=0,yd=null,dl=1,ul="";function vd(c,f){Tu[ku++]=cg,Tu[ku++]=lg,lg=c,cg=f}function rk(c,f,x){ni[ai++]=dl,ni[ai++]=ul,ni[ai++]=yd,yd=c;var j=dl;c=ul;var T=32-en(j)-1;j&=~(1<<T),x+=1;var k=32-en(f)+T;if(30<k){var z=T-T%5;k=(j&(1<<z)-1).toString(32),j>>=z,T-=z,dl=1<<32-en(f)+T|x<<T|j,ul=k+c}else dl=1<<k|x<<T|j,ul=c}function v1(c){c.return!==null&&(vd(c,1),rk(c,1,0))}function N1(c){for(;c===lg;)lg=Tu[--ku],Tu[ku]=null,cg=Tu[--ku],Tu[ku]=null;for(;c===yd;)yd=ni[--ai],ni[ai]=null,ul=ni[--ai],ni[ai]=null,dl=ni[--ai],ni[ai]=null}var Ps=null,Ds=null,bn=!1,Pi=null;function nk(c,f){var x=li(5,null,null,0);x.elementType="DELETED",x.stateNode=f,x.return=c,f=c.deletions,f===null?(c.deletions=[x],c.flags|=16):f.push(x)}function ak(c,f){switch(c.tag){case 5:var x=c.type;return f=f.nodeType!==1||x.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(c.stateNode=f,Ps=c,Ds=cc(f.firstChild),!0):!1;case 6:return f=c.pendingProps===""||f.nodeType!==3?null:f,f!==null?(c.stateNode=f,Ps=c,Ds=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(x=yd!==null?{id:dl,overflow:ul}:null,c.memoizedState={dehydrated:f,treeContext:x,retryLane:1073741824},x=li(18,null,null,0),x.stateNode=f,x.return=c,c.child=x,Ps=c,Ds=null,!0):!1;default:return!1}}function S1(c){return(c.mode&1)!==0&&(c.flags&128)===0}function j1(c){if(bn){var f=Ds;if(f){var x=f;if(!ak(c,f)){if(S1(c))throw Error(r(418));f=cc(x.nextSibling);var j=Ps;f&&ak(c,f)?nk(j,x):(c.flags=c.flags&-4097|2,bn=!1,Ps=c)}}else{if(S1(c))throw Error(r(418));c.flags=c.flags&-4097|2,bn=!1,Ps=c}}}function sk(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ps=c}function dg(c){if(c!==Ps)return!1;if(!bn)return sk(c),bn=!0,!1;var f;if((f=c.tag!==3)&&!(f=c.tag!==5)&&(f=c.type,f=f!=="head"&&f!=="body"&&!Ri(c.type,c.memoizedProps)),f&&(f=Ds)){if(S1(c))throw ik(),Error(r(418));for(;f;)nk(c,f),f=cc(f.nextSibling)}if(sk(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(f===0){Ds=cc(c.nextSibling);break e}f--}else x!=="$"&&x!=="$!"&&x!=="$?"||f++}c=c.nextSibling}Ds=null}}else Ds=Ps?cc(c.stateNode.nextSibling):null;return!0}function ik(){for(var c=Ds;c;)c=cc(c.nextSibling)}function Ou(){Ds=Ps=null,bn=!1}function w1(c){Pi===null?Pi=[c]:Pi.push(c)}var Lq=A.ReactCurrentBatchConfig;function bm(c,f,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var j=x.stateNode}if(!j)throw Error(r(147,c));var T=j,k=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===k?f.ref:(f=function(z){var re=T.refs;z===null?delete re[k]:re[k]=z},f._stringRef=k,f)}if(typeof c!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,c))}return c}function ug(c,f){throw c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function ok(c){var f=c._init;return f(c._payload)}function lk(c){function f(Se,me){if(c){var we=Se.deletions;we===null?(Se.deletions=[me],Se.flags|=16):we.push(me)}}function x(Se,me){if(!c)return null;for(;me!==null;)f(Se,me),me=me.sibling;return null}function j(Se,me){for(Se=new Map;me!==null;)me.key!==null?Se.set(me.key,me):Se.set(me.index,me),me=me.sibling;return Se}function T(Se,me){return Se=vc(Se,me),Se.index=0,Se.sibling=null,Se}function k(Se,me,we){return Se.index=we,c?(we=Se.alternate,we!==null?(we=we.index,we<me?(Se.flags|=2,me):we):(Se.flags|=2,me)):(Se.flags|=1048576,me)}function z(Se){return c&&Se.alternate===null&&(Se.flags|=2),Se}function re(Se,me,we,Xe){return me===null||me.tag!==6?(me=hN(we,Se.mode,Xe),me.return=Se,me):(me=T(me,we),me.return=Se,me)}function oe(Se,me,we,Xe){var _t=we.type;return _t===O?Ge(Se,me,we.props.children,Xe,we.key):me!==null&&(me.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===L&&ok(_t)===me.type)?(Xe=T(me,we.props),Xe.ref=bm(Se,me,we),Xe.return=Se,Xe):(Xe=Mg(we.type,we.key,we.props,null,Se.mode,Xe),Xe.ref=bm(Se,me,we),Xe.return=Se,Xe)}function _e(Se,me,we,Xe){return me===null||me.tag!==4||me.stateNode.containerInfo!==we.containerInfo||me.stateNode.implementation!==we.implementation?(me=gN(we,Se.mode,Xe),me.return=Se,me):(me=T(me,we.children||[]),me.return=Se,me)}function Ge(Se,me,we,Xe,_t){return me===null||me.tag!==7?(me=Cd(we,Se.mode,Xe,_t),me.return=Se,me):(me=T(me,we),me.return=Se,me)}function qe(Se,me,we){if(typeof me=="string"&&me!==""||typeof me=="number")return me=hN(""+me,Se.mode,we),me.return=Se,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case E:return we=Mg(me.type,me.key,me.props,null,Se.mode,we),we.ref=bm(Se,null,me),we.return=Se,we;case C:return me=gN(me,Se.mode,we),me.return=Se,me;case L:var Xe=me._init;return qe(Se,Xe(me._payload),we)}if(Ct(me)||J(me))return me=Cd(me,Se.mode,we,null),me.return=Se,me;ug(Se,me)}return null}function He(Se,me,we,Xe){var _t=me!==null?me.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return _t!==null?null:re(Se,me,""+we,Xe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case E:return we.key===_t?oe(Se,me,we,Xe):null;case C:return we.key===_t?_e(Se,me,we,Xe):null;case L:return _t=we._init,He(Se,me,_t(we._payload),Xe)}if(Ct(we)||J(we))return _t!==null?null:Ge(Se,me,we,Xe,null);ug(Se,we)}return null}function ct(Se,me,we,Xe,_t){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return Se=Se.get(we)||null,re(me,Se,""+Xe,_t);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case E:return Se=Se.get(Xe.key===null?we:Xe.key)||null,oe(me,Se,Xe,_t);case C:return Se=Se.get(Xe.key===null?we:Xe.key)||null,_e(me,Se,Xe,_t);case L:var zt=Xe._init;return ct(Se,me,we,zt(Xe._payload),_t)}if(Ct(Xe)||J(Xe))return Se=Se.get(we)||null,Ge(me,Se,Xe,_t,null);ug(me,Xe)}return null}function bt(Se,me,we,Xe){for(var _t=null,zt=null,Kt=me,er=me=0,fa=null;Kt!==null&&er<we.length;er++){Kt.index>er?(fa=Kt,Kt=null):fa=Kt.sibling;var Pr=He(Se,Kt,we[er],Xe);if(Pr===null){Kt===null&&(Kt=fa);break}c&&Kt&&Pr.alternate===null&&f(Se,Kt),me=k(Pr,me,er),zt===null?_t=Pr:zt.sibling=Pr,zt=Pr,Kt=fa}if(er===we.length)return x(Se,Kt),bn&&vd(Se,er),_t;if(Kt===null){for(;er<we.length;er++)Kt=qe(Se,we[er],Xe),Kt!==null&&(me=k(Kt,me,er),zt===null?_t=Kt:zt.sibling=Kt,zt=Kt);return bn&&vd(Se,er),_t}for(Kt=j(Se,Kt);er<we.length;er++)fa=ct(Kt,Se,er,we[er],Xe),fa!==null&&(c&&fa.alternate!==null&&Kt.delete(fa.key===null?er:fa.key),me=k(fa,me,er),zt===null?_t=fa:zt.sibling=fa,zt=fa);return c&&Kt.forEach(function(Nc){return f(Se,Nc)}),bn&&vd(Se,er),_t}function Et(Se,me,we,Xe){var _t=J(we);if(typeof _t!="function")throw Error(r(150));if(we=_t.call(we),we==null)throw Error(r(151));for(var zt=_t=null,Kt=me,er=me=0,fa=null,Pr=we.next();Kt!==null&&!Pr.done;er++,Pr=we.next()){Kt.index>er?(fa=Kt,Kt=null):fa=Kt.sibling;var Nc=He(Se,Kt,Pr.value,Xe);if(Nc===null){Kt===null&&(Kt=fa);break}c&&Kt&&Nc.alternate===null&&f(Se,Kt),me=k(Nc,me,er),zt===null?_t=Nc:zt.sibling=Nc,zt=Nc,Kt=fa}if(Pr.done)return x(Se,Kt),bn&&vd(Se,er),_t;if(Kt===null){for(;!Pr.done;er++,Pr=we.next())Pr=qe(Se,Pr.value,Xe),Pr!==null&&(me=k(Pr,me,er),zt===null?_t=Pr:zt.sibling=Pr,zt=Pr);return bn&&vd(Se,er),_t}for(Kt=j(Se,Kt);!Pr.done;er++,Pr=we.next())Pr=ct(Kt,Se,er,Pr.value,Xe),Pr!==null&&(c&&Pr.alternate!==null&&Kt.delete(Pr.key===null?er:Pr.key),me=k(Pr,me,er),zt===null?_t=Pr:zt.sibling=Pr,zt=Pr);return c&&Kt.forEach(function(gW){return f(Se,gW)}),bn&&vd(Se,er),_t}function Ln(Se,me,we,Xe){if(typeof we=="object"&&we!==null&&we.type===O&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case E:e:{for(var _t=we.key,zt=me;zt!==null;){if(zt.key===_t){if(_t=we.type,_t===O){if(zt.tag===7){x(Se,zt.sibling),me=T(zt,we.props.children),me.return=Se,Se=me;break e}}else if(zt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===L&&ok(_t)===zt.type){x(Se,zt.sibling),me=T(zt,we.props),me.ref=bm(Se,zt,we),me.return=Se,Se=me;break e}x(Se,zt);break}else f(Se,zt);zt=zt.sibling}we.type===O?(me=Cd(we.props.children,Se.mode,Xe,we.key),me.return=Se,Se=me):(Xe=Mg(we.type,we.key,we.props,null,Se.mode,Xe),Xe.ref=bm(Se,me,we),Xe.return=Se,Se=Xe)}return z(Se);case C:e:{for(zt=we.key;me!==null;){if(me.key===zt)if(me.tag===4&&me.stateNode.containerInfo===we.containerInfo&&me.stateNode.implementation===we.implementation){x(Se,me.sibling),me=T(me,we.children||[]),me.return=Se,Se=me;break e}else{x(Se,me);break}else f(Se,me);me=me.sibling}me=gN(we,Se.mode,Xe),me.return=Se,Se=me}return z(Se);case L:return zt=we._init,Ln(Se,me,zt(we._payload),Xe)}if(Ct(we))return bt(Se,me,we,Xe);if(J(we))return Et(Se,me,we,Xe);ug(Se,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,me!==null&&me.tag===6?(x(Se,me.sibling),me=T(me,we),me.return=Se,Se=me):(x(Se,me),me=hN(we,Se.mode,Xe),me.return=Se,Se=me),z(Se)):x(Se,me)}return Ln}var Ru=lk(!0),ck=lk(!1),fg=dc(null),pg=null,Pu=null,E1=null;function A1(){E1=Pu=pg=null}function _1(c){var f=fg.current;un(fg),c._currentValue=f}function C1(c,f,x){for(;c!==null;){var j=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,j!==null&&(j.childLanes|=f)):j!==null&&(j.childLanes&f)!==f&&(j.childLanes|=f),c===x)break;c=c.return}}function Du(c,f){pg=c,E1=Pu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(gs=!0),c.firstContext=null)}function si(c){var f=c._currentValue;if(E1!==c)if(c={context:c,memoizedValue:f,next:null},Pu===null){if(pg===null)throw Error(r(308));Pu=c,pg.dependencies={lanes:0,firstContext:c}}else Pu=Pu.next=c;return f}var Nd=null;function T1(c){Nd===null?Nd=[c]:Nd.push(c)}function dk(c,f,x,j){var T=f.interleaved;return T===null?(x.next=x,T1(f)):(x.next=T.next,T.next=x),f.interleaved=x,fl(c,j)}function fl(c,f){c.lanes|=f;var x=c.alternate;for(x!==null&&(x.lanes|=f),x=c,c=c.return;c!==null;)c.childLanes|=f,x=c.alternate,x!==null&&(x.childLanes|=f),x=c,c=c.return;return x.tag===3?x.stateNode:null}var pc=!1;function k1(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uk(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function pl(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function mc(c,f,x){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(kr&2)!==0){var T=j.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),j.pending=f,fl(c,x)}return T=j.interleaved,T===null?(f.next=f,T1(j)):(f.next=T.next,T.next=f),j.interleaved=f,fl(c,x)}function mg(c,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194240)!==0)){var j=f.lanes;j&=c.pendingLanes,x|=j,f.lanes=x,Vs(c,x)}}function fk(c,f){var x=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var T=null,k=null;if(x=x.firstBaseUpdate,x!==null){do{var z={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};k===null?T=k=z:k=k.next=z,x=x.next}while(x!==null);k===null?T=k=f:k=k.next=f}else T=k=f;x={baseState:j.baseState,firstBaseUpdate:T,lastBaseUpdate:k,shared:j.shared,effects:j.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=f:c.next=f,x.lastBaseUpdate=f}function hg(c,f,x,j){var T=c.updateQueue;pc=!1;var k=T.firstBaseUpdate,z=T.lastBaseUpdate,re=T.shared.pending;if(re!==null){T.shared.pending=null;var oe=re,_e=oe.next;oe.next=null,z===null?k=_e:z.next=_e,z=oe;var Ge=c.alternate;Ge!==null&&(Ge=Ge.updateQueue,re=Ge.lastBaseUpdate,re!==z&&(re===null?Ge.firstBaseUpdate=_e:re.next=_e,Ge.lastBaseUpdate=oe))}if(k!==null){var qe=T.baseState;z=0,Ge=_e=oe=null,re=k;do{var He=re.lane,ct=re.eventTime;if((j&He)===He){Ge!==null&&(Ge=Ge.next={eventTime:ct,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var bt=c,Et=re;switch(He=f,ct=x,Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){qe=bt.call(ct,qe,He);break e}qe=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,He=typeof bt=="function"?bt.call(ct,qe,He):bt,He==null)break e;qe=ee({},qe,He);break e;case 2:pc=!0}}re.callback!==null&&re.lane!==0&&(c.flags|=64,He=T.effects,He===null?T.effects=[re]:He.push(re))}else ct={eventTime:ct,lane:He,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Ge===null?(_e=Ge=ct,oe=qe):Ge=Ge.next=ct,z|=He;if(re=re.next,re===null){if(re=T.shared.pending,re===null)break;He=re,re=He.next,He.next=null,T.lastBaseUpdate=He,T.shared.pending=null}}while(!0);if(Ge===null&&(oe=qe),T.baseState=oe,T.firstBaseUpdate=_e,T.lastBaseUpdate=Ge,f=T.shared.interleaved,f!==null){T=f;do z|=T.lane,T=T.next;while(T!==f)}else k===null&&(T.shared.lanes=0);wd|=z,c.lanes=z,c.memoizedState=qe}}function pk(c,f,x){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var j=c[f],T=j.callback;if(T!==null){if(j.callback=null,j=x,typeof T!="function")throw Error(r(191,T));T.call(j)}}}var ym={},xo=dc(ym),vm=dc(ym),Nm=dc(ym);function Sd(c){if(c===ym)throw Error(r(174));return c}function O1(c,f){switch(rn(Nm,f),rn(vm,c),rn(xo,ym),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:zr(null,"");break;default:c=c===8?f.parentNode:f,f=c.namespaceURI||null,c=c.tagName,f=zr(f,c)}un(xo),rn(xo,f)}function Mu(){un(xo),un(vm),un(Nm)}function mk(c){Sd(Nm.current);var f=Sd(xo.current),x=zr(f,c.type);f!==x&&(rn(vm,c),rn(xo,x))}function R1(c){vm.current===c&&(un(xo),un(vm))}var wn=dc(0);function gg(c){for(var f=c;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var P1=[];function D1(){for(var c=0;c<P1.length;c++)P1[c]._workInProgressVersionPrimary=null;P1.length=0}var xg=A.ReactCurrentDispatcher,M1=A.ReactCurrentBatchConfig,jd=0,En=null,Yn=null,da=null,bg=!1,Sm=!1,jm=0,$q=0;function Da(){throw Error(r(321))}function I1(c,f){if(f===null)return!1;for(var x=0;x<f.length&&x<c.length;x++)if(!Bn(c[x],f[x]))return!1;return!0}function L1(c,f,x,j,T,k){if(jd=k,En=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,xg.current=c===null||c.memoizedState===null?Hq:Gq,c=x(j,T),Sm){k=0;do{if(Sm=!1,jm=0,25<=k)throw Error(r(301));k+=1,da=Yn=null,f.updateQueue=null,xg.current=zq,c=x(j,T)}while(Sm)}if(xg.current=Ng,f=Yn!==null&&Yn.next!==null,jd=0,da=Yn=En=null,bg=!1,f)throw Error(r(300));return c}function $1(){var c=jm!==0;return jm=0,c}function bo(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return da===null?En.memoizedState=da=c:da=da.next=c,da}function ii(){if(Yn===null){var c=En.alternate;c=c!==null?c.memoizedState:null}else c=Yn.next;var f=da===null?En.memoizedState:da.next;if(f!==null)da=f,Yn=c;else{if(c===null)throw Error(r(310));Yn=c,c={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},da===null?En.memoizedState=da=c:da=da.next=c}return da}function wm(c,f){return typeof f=="function"?f(c):f}function F1(c){var f=ii(),x=f.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=c;var j=Yn,T=j.baseQueue,k=x.pending;if(k!==null){if(T!==null){var z=T.next;T.next=k.next,k.next=z}j.baseQueue=T=k,x.pending=null}if(T!==null){k=T.next,j=j.baseState;var re=z=null,oe=null,_e=k;do{var Ge=_e.lane;if((jd&Ge)===Ge)oe!==null&&(oe=oe.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),j=_e.hasEagerState?_e.eagerState:c(j,_e.action);else{var qe={lane:Ge,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};oe===null?(re=oe=qe,z=j):oe=oe.next=qe,En.lanes|=Ge,wd|=Ge}_e=_e.next}while(_e!==null&&_e!==k);oe===null?z=j:oe.next=re,Bn(j,f.memoizedState)||(gs=!0),f.memoizedState=j,f.baseState=z,f.baseQueue=oe,x.lastRenderedState=j}if(c=x.interleaved,c!==null){T=c;do k=T.lane,En.lanes|=k,wd|=k,T=T.next;while(T!==c)}else T===null&&(x.lanes=0);return[f.memoizedState,x.dispatch]}function B1(c){var f=ii(),x=f.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=c;var j=x.dispatch,T=x.pending,k=f.memoizedState;if(T!==null){x.pending=null;var z=T=T.next;do k=c(k,z.action),z=z.next;while(z!==T);Bn(k,f.memoizedState)||(gs=!0),f.memoizedState=k,f.baseQueue===null&&(f.baseState=k),x.lastRenderedState=k}return[k,j]}function hk(){}function gk(c,f){var x=En,j=ii(),T=f(),k=!Bn(j.memoizedState,T);if(k&&(j.memoizedState=T,gs=!0),j=j.queue,U1(yk.bind(null,x,j,c),[c]),j.getSnapshot!==f||k||da!==null&&da.memoizedState.tag&1){if(x.flags|=2048,Em(9,bk.bind(null,x,j,T,f),void 0,null),ua===null)throw Error(r(349));(jd&30)!==0||xk(x,f,T)}return T}function xk(c,f,x){c.flags|=16384,c={getSnapshot:f,value:x},f=En.updateQueue,f===null?(f={lastEffect:null,stores:null},En.updateQueue=f,f.stores=[c]):(x=f.stores,x===null?f.stores=[c]:x.push(c))}function bk(c,f,x,j){f.value=x,f.getSnapshot=j,vk(f)&&Nk(c)}function yk(c,f,x){return x(function(){vk(f)&&Nk(c)})}function vk(c){var f=c.getSnapshot;c=c.value;try{var x=f();return!Bn(c,x)}catch{return!0}}function Nk(c){var f=fl(c,1);f!==null&&Li(f,c,1,-1)}function Sk(c){var f=bo();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:c},f.queue=c,c=c.dispatch=Uq.bind(null,En,c),[f.memoizedState,c]}function Em(c,f,x,j){return c={tag:c,create:f,destroy:x,deps:j,next:null},f=En.updateQueue,f===null?(f={lastEffect:null,stores:null},En.updateQueue=f,f.lastEffect=c.next=c):(x=f.lastEffect,x===null?f.lastEffect=c.next=c:(j=x.next,x.next=c,c.next=j,f.lastEffect=c)),c}function jk(){return ii().memoizedState}function yg(c,f,x,j){var T=bo();En.flags|=c,T.memoizedState=Em(1|f,x,void 0,j===void 0?null:j)}function vg(c,f,x,j){var T=ii();j=j===void 0?null:j;var k=void 0;if(Yn!==null){var z=Yn.memoizedState;if(k=z.destroy,j!==null&&I1(j,z.deps)){T.memoizedState=Em(f,x,k,j);return}}En.flags|=c,T.memoizedState=Em(1|f,x,k,j)}function wk(c,f){return yg(8390656,8,c,f)}function U1(c,f){return vg(2048,8,c,f)}function Ek(c,f){return vg(4,2,c,f)}function Ak(c,f){return vg(4,4,c,f)}function _k(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Ck(c,f,x){return x=x!=null?x.concat([c]):null,vg(4,4,_k.bind(null,f,c),x)}function H1(){}function Tk(c,f){var x=ii();f=f===void 0?null:f;var j=x.memoizedState;return j!==null&&f!==null&&I1(f,j[1])?j[0]:(x.memoizedState=[c,f],c)}function kk(c,f){var x=ii();f=f===void 0?null:f;var j=x.memoizedState;return j!==null&&f!==null&&I1(f,j[1])?j[0]:(c=c(),x.memoizedState=[c,f],c)}function Ok(c,f,x){return(jd&21)===0?(c.baseState&&(c.baseState=!1,gs=!0),c.memoizedState=x):(Bn(x,f)||(x=qs(),En.lanes|=x,wd|=x,c.baseState=!0),f)}function Fq(c,f){var x=Jt;Jt=x!==0&&4>x?x:4,c(!0);var j=M1.transition;M1.transition={};try{c(!1),f()}finally{Jt=x,M1.transition=j}}function Rk(){return ii().memoizedState}function Bq(c,f,x){var j=bc(c);if(x={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null},Pk(c))Dk(f,x);else if(x=dk(c,f,x,j),x!==null){var T=Ja();Li(x,c,j,T),Mk(x,f,j)}}function Uq(c,f,x){var j=bc(c),T={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null};if(Pk(c))Dk(f,T);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=f.lastRenderedReducer,k!==null))try{var z=f.lastRenderedState,re=k(z,x);if(T.hasEagerState=!0,T.eagerState=re,Bn(re,z)){var oe=f.interleaved;oe===null?(T.next=T,T1(f)):(T.next=oe.next,oe.next=T),f.interleaved=T;return}}catch{}finally{}x=dk(c,f,T,j),x!==null&&(T=Ja(),Li(x,c,j,T),Mk(x,f,j))}}function Pk(c){var f=c.alternate;return c===En||f!==null&&f===En}function Dk(c,f){Sm=bg=!0;var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}function Mk(c,f,x){if((x&4194240)!==0){var j=f.lanes;j&=c.pendingLanes,x|=j,f.lanes=x,Vs(c,x)}}var Ng={readContext:si,useCallback:Da,useContext:Da,useEffect:Da,useImperativeHandle:Da,useInsertionEffect:Da,useLayoutEffect:Da,useMemo:Da,useReducer:Da,useRef:Da,useState:Da,useDebugValue:Da,useDeferredValue:Da,useTransition:Da,useMutableSource:Da,useSyncExternalStore:Da,useId:Da,unstable_isNewReconciler:!1},Hq={readContext:si,useCallback:function(c,f){return bo().memoizedState=[c,f===void 0?null:f],c},useContext:si,useEffect:wk,useImperativeHandle:function(c,f,x){return x=x!=null?x.concat([c]):null,yg(4194308,4,_k.bind(null,f,c),x)},useLayoutEffect:function(c,f){return yg(4194308,4,c,f)},useInsertionEffect:function(c,f){return yg(4,2,c,f)},useMemo:function(c,f){var x=bo();return f=f===void 0?null:f,c=c(),x.memoizedState=[c,f],c},useReducer:function(c,f,x){var j=bo();return f=x!==void 0?x(f):f,j.memoizedState=j.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},j.queue=c,c=c.dispatch=Bq.bind(null,En,c),[j.memoizedState,c]},useRef:function(c){var f=bo();return c={current:c},f.memoizedState=c},useState:Sk,useDebugValue:H1,useDeferredValue:function(c){return bo().memoizedState=c},useTransition:function(){var c=Sk(!1),f=c[0];return c=Fq.bind(null,c[1]),bo().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,x){var j=En,T=bo();if(bn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=f(),ua===null)throw Error(r(349));(jd&30)!==0||xk(j,f,x)}T.memoizedState=x;var k={value:x,getSnapshot:f};return T.queue=k,wk(yk.bind(null,j,k,c),[c]),j.flags|=2048,Em(9,bk.bind(null,j,k,x,f),void 0,null),x},useId:function(){var c=bo(),f=ua.identifierPrefix;if(bn){var x=ul,j=dl;x=(j&~(1<<32-en(j)-1)).toString(32)+x,f=":"+f+"R"+x,x=jm++,0<x&&(f+="H"+x.toString(32)),f+=":"}else x=$q++,f=":"+f+"r"+x.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},Gq={readContext:si,useCallback:Tk,useContext:si,useEffect:U1,useImperativeHandle:Ck,useInsertionEffect:Ek,useLayoutEffect:Ak,useMemo:kk,useReducer:F1,useRef:jk,useState:function(){return F1(wm)},useDebugValue:H1,useDeferredValue:function(c){var f=ii();return Ok(f,Yn.memoizedState,c)},useTransition:function(){var c=F1(wm)[0],f=ii().memoizedState;return[c,f]},useMutableSource:hk,useSyncExternalStore:gk,useId:Rk,unstable_isNewReconciler:!1},zq={readContext:si,useCallback:Tk,useContext:si,useEffect:U1,useImperativeHandle:Ck,useInsertionEffect:Ek,useLayoutEffect:Ak,useMemo:kk,useReducer:B1,useRef:jk,useState:function(){return B1(wm)},useDebugValue:H1,useDeferredValue:function(c){var f=ii();return Yn===null?f.memoizedState=c:Ok(f,Yn.memoizedState,c)},useTransition:function(){var c=B1(wm)[0],f=ii().memoizedState;return[c,f]},useMutableSource:hk,useSyncExternalStore:gk,useId:Rk,unstable_isNewReconciler:!1};function Di(c,f){if(c&&c.defaultProps){f=ee({},f),c=c.defaultProps;for(var x in c)f[x]===void 0&&(f[x]=c[x]);return f}return f}function G1(c,f,x,j){f=c.memoizedState,x=x(j,f),x=x==null?f:ee({},f,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var Sg={isMounted:function(c){return(c=c._reactInternals)?lr(c)===c:!1},enqueueSetState:function(c,f,x){c=c._reactInternals;var j=Ja(),T=bc(c),k=pl(j,T);k.payload=f,x!=null&&(k.callback=x),f=mc(c,k,T),f!==null&&(Li(f,c,T,j),mg(f,c,T))},enqueueReplaceState:function(c,f,x){c=c._reactInternals;var j=Ja(),T=bc(c),k=pl(j,T);k.tag=1,k.payload=f,x!=null&&(k.callback=x),f=mc(c,k,T),f!==null&&(Li(f,c,T,j),mg(f,c,T))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var x=Ja(),j=bc(c),T=pl(x,j);T.tag=2,f!=null&&(T.callback=f),f=mc(c,T,j),f!==null&&(Li(f,c,j,x),mg(f,c,j))}};function Ik(c,f,x,j,T,k,z){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,k,z):f.prototype&&f.prototype.isPureReactComponent?!po(x,j)||!po(T,k):!0}function Lk(c,f,x){var j=!1,T=uc,k=f.contextType;return typeof k=="object"&&k!==null?k=si(k):(T=hs(f)?bd:Pa.current,j=f.contextTypes,k=(j=j!=null)?Cu(c,T):uc),f=new f(x,k),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sg,c.stateNode=f,f._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=k),f}function $k(c,f,x,j){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,j),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,j),f.state!==c&&Sg.enqueueReplaceState(f,f.state,null)}function z1(c,f,x,j){var T=c.stateNode;T.props=x,T.state=c.memoizedState,T.refs={},k1(c);var k=f.contextType;typeof k=="object"&&k!==null?T.context=si(k):(k=hs(f)?bd:Pa.current,T.context=Cu(c,k)),T.state=c.memoizedState,k=f.getDerivedStateFromProps,typeof k=="function"&&(G1(c,f,k,x),T.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(f=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),f!==T.state&&Sg.enqueueReplaceState(T,T.state,null),hg(c,x,T,j),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}function Iu(c,f){try{var x="",j=f;do x+=he(j),j=j.return;while(j);var T=x}catch(k){T=`
Error generating stack: `+k.message+`
`+k.stack}return{value:c,source:f,stack:T,digest:null}}function K1(c,f,x){return{value:c,source:null,stack:x??null,digest:f??null}}function q1(c,f){try{console.error(f.value)}catch(x){setTimeout(function(){throw x})}}var Kq=typeof WeakMap=="function"?WeakMap:Map;function Fk(c,f,x){x=pl(-1,x),x.tag=3,x.payload={element:null};var j=f.value;return x.callback=function(){Tg||(Tg=!0,oN=j),q1(c,f)},x}function Bk(c,f,x){x=pl(-1,x),x.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var T=f.value;x.payload=function(){return j(T)},x.callback=function(){q1(c,f)}}var k=c.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(x.callback=function(){q1(c,f),typeof j!="function"&&(gc===null?gc=new Set([this]):gc.add(this));var z=f.stack;this.componentDidCatch(f.value,{componentStack:z!==null?z:""})}),x}function Uk(c,f,x){var j=c.pingCache;if(j===null){j=c.pingCache=new Kq;var T=new Set;j.set(f,T)}else T=j.get(f),T===void 0&&(T=new Set,j.set(f,T));T.has(x)||(T.add(x),c=sW.bind(null,c,f,x),f.then(c,c))}function Hk(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function Gk(c,f,x,j,T){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(f=pl(-1,1),f.tag=2,mc(x,f,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=T,c)}var qq=A.ReactCurrentOwner,gs=!1;function Za(c,f,x,j){f.child=c===null?ck(f,null,x,j):Ru(f,c.child,x,j)}function zk(c,f,x,j,T){x=x.render;var k=f.ref;return Du(f,T),j=L1(c,f,x,j,k,T),x=$1(),c!==null&&!gs?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~T,ml(c,f,T)):(bn&&x&&v1(f),f.flags|=1,Za(c,f,j,T),f.child)}function Kk(c,f,x,j,T){if(c===null){var k=x.type;return typeof k=="function"&&!mN(k)&&k.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(f.tag=15,f.type=k,qk(c,f,k,j,T)):(c=Mg(x.type,null,j,f,f.mode,T),c.ref=f.ref,c.return=f,f.child=c)}if(k=c.child,(c.lanes&T)===0){var z=k.memoizedProps;if(x=x.compare,x=x!==null?x:po,x(z,j)&&c.ref===f.ref)return ml(c,f,T)}return f.flags|=1,c=vc(k,j),c.ref=f.ref,c.return=f,f.child=c}function qk(c,f,x,j,T){if(c!==null){var k=c.memoizedProps;if(po(k,j)&&c.ref===f.ref)if(gs=!1,f.pendingProps=j=k,(c.lanes&T)!==0)(c.flags&131072)!==0&&(gs=!0);else return f.lanes=c.lanes,ml(c,f,T)}return W1(c,f,x,j,T)}function Wk(c,f,x){var j=f.pendingProps,T=j.children,k=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn($u,Ms),Ms|=x;else{if((x&1073741824)===0)return c=k!==null?k.baseLanes|x:x,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null,transitions:null},f.updateQueue=null,rn($u,Ms),Ms|=c,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=k!==null?k.baseLanes:x,rn($u,Ms),Ms|=j}else k!==null?(j=k.baseLanes|x,f.memoizedState=null):j=x,rn($u,Ms),Ms|=j;return Za(c,f,T,x),f.child}function Vk(c,f){var x=f.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(f.flags|=512,f.flags|=2097152)}function W1(c,f,x,j,T){var k=hs(x)?bd:Pa.current;return k=Cu(f,k),Du(f,T),x=L1(c,f,x,j,k,T),j=$1(),c!==null&&!gs?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~T,ml(c,f,T)):(bn&&j&&v1(f),f.flags|=1,Za(c,f,x,T),f.child)}function Yk(c,f,x,j,T){if(hs(x)){var k=!0;ig(f)}else k=!1;if(Du(f,T),f.stateNode===null)wg(c,f),Lk(f,x,j),z1(f,x,j,T),j=!0;else if(c===null){var z=f.stateNode,re=f.memoizedProps;z.props=re;var oe=z.context,_e=x.contextType;typeof _e=="object"&&_e!==null?_e=si(_e):(_e=hs(x)?bd:Pa.current,_e=Cu(f,_e));var Ge=x.getDerivedStateFromProps,qe=typeof Ge=="function"||typeof z.getSnapshotBeforeUpdate=="function";qe||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(re!==j||oe!==_e)&&$k(f,z,j,_e),pc=!1;var He=f.memoizedState;z.state=He,hg(f,j,z,T),oe=f.memoizedState,re!==j||He!==oe||ms.current||pc?(typeof Ge=="function"&&(G1(f,x,Ge,j),oe=f.memoizedState),(re=pc||Ik(f,x,re,j,He,oe,_e))?(qe||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(f.flags|=4194308)):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=j,f.memoizedState=oe),z.props=j,z.state=oe,z.context=_e,j=re):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),j=!1)}else{z=f.stateNode,uk(c,f),re=f.memoizedProps,_e=f.type===f.elementType?re:Di(f.type,re),z.props=_e,qe=f.pendingProps,He=z.context,oe=x.contextType,typeof oe=="object"&&oe!==null?oe=si(oe):(oe=hs(x)?bd:Pa.current,oe=Cu(f,oe));var ct=x.getDerivedStateFromProps;(Ge=typeof ct=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(re!==qe||He!==oe)&&$k(f,z,j,oe),pc=!1,He=f.memoizedState,z.state=He,hg(f,j,z,T);var bt=f.memoizedState;re!==qe||He!==bt||ms.current||pc?(typeof ct=="function"&&(G1(f,x,ct,j),bt=f.memoizedState),(_e=pc||Ik(f,x,_e,j,He,bt,oe)||!1)?(Ge||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(j,bt,oe),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(j,bt,oe)),typeof z.componentDidUpdate=="function"&&(f.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof z.componentDidUpdate!="function"||re===c.memoizedProps&&He===c.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||re===c.memoizedProps&&He===c.memoizedState||(f.flags|=1024),f.memoizedProps=j,f.memoizedState=bt),z.props=j,z.state=bt,z.context=oe,j=_e):(typeof z.componentDidUpdate!="function"||re===c.memoizedProps&&He===c.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||re===c.memoizedProps&&He===c.memoizedState||(f.flags|=1024),j=!1)}return V1(c,f,x,j,k,T)}function V1(c,f,x,j,T,k){Vk(c,f);var z=(f.flags&128)!==0;if(!j&&!z)return T&&ek(f,x,!1),ml(c,f,k);j=f.stateNode,qq.current=f;var re=z&&typeof x.getDerivedStateFromError!="function"?null:j.render();return f.flags|=1,c!==null&&z?(f.child=Ru(f,c.child,null,k),f.child=Ru(f,null,re,k)):Za(c,f,re,k),f.memoizedState=j.state,T&&ek(f,x,!0),f.child}function Xk(c){var f=c.stateNode;f.pendingContext?Z3(c,f.pendingContext,f.pendingContext!==f.context):f.context&&Z3(c,f.context,!1),O1(c,f.containerInfo)}function Qk(c,f,x,j,T){return Ou(),w1(T),f.flags|=256,Za(c,f,x,j),f.child}var Y1={dehydrated:null,treeContext:null,retryLane:0};function X1(c){return{baseLanes:c,cachePool:null,transitions:null}}function Zk(c,f,x){var j=f.pendingProps,T=wn.current,k=!1,z=(f.flags&128)!==0,re;if((re=z)||(re=c!==null&&c.memoizedState===null?!1:(T&2)!==0),re?(k=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),rn(wn,T&1),c===null)return j1(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:c.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(z=j.children,c=j.fallback,k?(j=f.mode,k=f.child,z={mode:"hidden",children:z},(j&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=z):k=Ig(z,j,0,null),c=Cd(c,j,x,null),k.return=f,c.return=f,k.sibling=c,f.child=k,f.child.memoizedState=X1(x),f.memoizedState=Y1,c):Q1(f,z));if(T=c.memoizedState,T!==null&&(re=T.dehydrated,re!==null))return Wq(c,f,z,j,re,T,x);if(k){k=j.fallback,z=f.mode,T=c.child,re=T.sibling;var oe={mode:"hidden",children:j.children};return(z&1)===0&&f.child!==T?(j=f.child,j.childLanes=0,j.pendingProps=oe,f.deletions=null):(j=vc(T,oe),j.subtreeFlags=T.subtreeFlags&14680064),re!==null?k=vc(re,k):(k=Cd(k,z,x,null),k.flags|=2),k.return=f,j.return=f,j.sibling=k,f.child=j,j=k,k=f.child,z=c.child.memoizedState,z=z===null?X1(x):{baseLanes:z.baseLanes|x,cachePool:null,transitions:z.transitions},k.memoizedState=z,k.childLanes=c.childLanes&~x,f.memoizedState=Y1,j}return k=c.child,c=k.sibling,j=vc(k,{mode:"visible",children:j.children}),(f.mode&1)===0&&(j.lanes=x),j.return=f,j.sibling=null,c!==null&&(x=f.deletions,x===null?(f.deletions=[c],f.flags|=16):x.push(c)),f.child=j,f.memoizedState=null,j}function Q1(c,f){return f=Ig({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function jg(c,f,x,j){return j!==null&&w1(j),Ru(f,c.child,null,x),c=Q1(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Wq(c,f,x,j,T,k,z){if(x)return f.flags&256?(f.flags&=-257,j=K1(Error(r(422))),jg(c,f,z,j)):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(k=j.fallback,T=f.mode,j=Ig({mode:"visible",children:j.children},T,0,null),k=Cd(k,T,z,null),k.flags|=2,j.return=f,k.return=f,j.sibling=k,f.child=j,(f.mode&1)!==0&&Ru(f,c.child,null,z),f.child.memoizedState=X1(z),f.memoizedState=Y1,k);if((f.mode&1)===0)return jg(c,f,z,null);if(T.data==="$!"){if(j=T.nextSibling&&T.nextSibling.dataset,j)var re=j.dgst;return j=re,k=Error(r(419)),j=K1(k,j,void 0),jg(c,f,z,j)}if(re=(z&c.childLanes)!==0,gs||re){if(j=ua,j!==null){switch(z&-z){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(j.suspendedLanes|z))!==0?0:T,T!==0&&T!==k.retryLane&&(k.retryLane=T,fl(c,T),Li(j,c,T,-1))}return pN(),j=K1(Error(r(421))),jg(c,f,z,j)}return T.data==="$?"?(f.flags|=128,f.child=c.child,f=iW.bind(null,c),T._reactRetry=f,null):(c=k.treeContext,Ds=cc(T.nextSibling),Ps=f,bn=!0,Pi=null,c!==null&&(ni[ai++]=dl,ni[ai++]=ul,ni[ai++]=yd,dl=c.id,ul=c.overflow,yd=f),f=Q1(f,j.children),f.flags|=4096,f)}function Jk(c,f,x){c.lanes|=f;var j=c.alternate;j!==null&&(j.lanes|=f),C1(c.return,f,x)}function Z1(c,f,x,j,T){var k=c.memoizedState;k===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:T}:(k.isBackwards=f,k.rendering=null,k.renderingStartTime=0,k.last=j,k.tail=x,k.tailMode=T)}function eO(c,f,x){var j=f.pendingProps,T=j.revealOrder,k=j.tail;if(Za(c,f,j.children,x),j=wn.current,(j&2)!==0)j=j&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Jk(c,x,f);else if(c.tag===19)Jk(c,x,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(rn(wn,j),(f.mode&1)===0)f.memoizedState=null;else switch(T){case"forwards":for(x=f.child,T=null;x!==null;)c=x.alternate,c!==null&&gg(c)===null&&(T=x),x=x.sibling;x=T,x===null?(T=f.child,f.child=null):(T=x.sibling,x.sibling=null),Z1(f,!1,T,x,k);break;case"backwards":for(x=null,T=f.child,f.child=null;T!==null;){if(c=T.alternate,c!==null&&gg(c)===null){f.child=T;break}c=T.sibling,T.sibling=x,x=T,T=c}Z1(f,!0,x,null,k);break;case"together":Z1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function wg(c,f){(f.mode&1)===0&&c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2)}function ml(c,f,x){if(c!==null&&(f.dependencies=c.dependencies),wd|=f.lanes,(x&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,x=vc(c,c.pendingProps),f.child=x,x.return=f;c.sibling!==null;)c=c.sibling,x=x.sibling=vc(c,c.pendingProps),x.return=f;x.sibling=null}return f.child}function Vq(c,f,x){switch(f.tag){case 3:Xk(f),Ou();break;case 5:mk(f);break;case 1:hs(f.type)&&ig(f);break;case 4:O1(f,f.stateNode.containerInfo);break;case 10:var j=f.type._context,T=f.memoizedProps.value;rn(fg,j._currentValue),j._currentValue=T;break;case 13:if(j=f.memoizedState,j!==null)return j.dehydrated!==null?(rn(wn,wn.current&1),f.flags|=128,null):(x&f.child.childLanes)!==0?Zk(c,f,x):(rn(wn,wn.current&1),c=ml(c,f,x),c!==null?c.sibling:null);rn(wn,wn.current&1);break;case 19:if(j=(x&f.childLanes)!==0,(c.flags&128)!==0){if(j)return eO(c,f,x);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),rn(wn,wn.current),j)break;return null;case 22:case 23:return f.lanes=0,Wk(c,f,x)}return ml(c,f,x)}var tO,J1,rO,nO;tO=function(c,f){for(var x=f.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},J1=function(){},rO=function(c,f,x,j){var T=c.memoizedProps;if(T!==j){c=f.stateNode,Sd(xo.current);var k=null;switch(x){case"input":T=V(c,T),j=V(c,j),k=[];break;case"select":T=ee({},T,{value:void 0}),j=ee({},j,{value:void 0}),k=[];break;case"textarea":T=ze(c,T),j=ze(c,j),k=[];break;default:typeof T.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=hm)}ir(x,j);var z;x=null;for(_e in T)if(!j.hasOwnProperty(_e)&&T.hasOwnProperty(_e)&&T[_e]!=null)if(_e==="style"){var re=T[_e];for(z in re)re.hasOwnProperty(z)&&(x||(x={}),x[z]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(s.hasOwnProperty(_e)?k||(k=[]):(k=k||[]).push(_e,null));for(_e in j){var oe=j[_e];if(re=T?.[_e],j.hasOwnProperty(_e)&&oe!==re&&(oe!=null||re!=null))if(_e==="style")if(re){for(z in re)!re.hasOwnProperty(z)||oe&&oe.hasOwnProperty(z)||(x||(x={}),x[z]="");for(z in oe)oe.hasOwnProperty(z)&&re[z]!==oe[z]&&(x||(x={}),x[z]=oe[z])}else x||(k||(k=[]),k.push(_e,x)),x=oe;else _e==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,re=re?re.__html:void 0,oe!=null&&re!==oe&&(k=k||[]).push(_e,oe)):_e==="children"?typeof oe!="string"&&typeof oe!="number"||(k=k||[]).push(_e,""+oe):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(s.hasOwnProperty(_e)?(oe!=null&&_e==="onScroll"&&Z("scroll",c),k||re===oe||(k=[])):(k=k||[]).push(_e,oe))}x&&(k=k||[]).push("style",x);var _e=k;(f.updateQueue=_e)&&(f.flags|=4)}},nO=function(c,f,x,j){x!==j&&(f.flags|=4)};function Am(c,f){if(!bn)switch(c.tailMode){case"hidden":f=c.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function Ma(c){var f=c.alternate!==null&&c.alternate.child===c.child,x=0,j=0;if(f)for(var T=c.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags&14680064,j|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags,j|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=j,c.childLanes=x,f}function Yq(c,f,x){var j=f.pendingProps;switch(N1(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ma(f),null;case 1:return hs(f.type)&&sg(),Ma(f),null;case 3:return j=f.stateNode,Mu(),un(ms),un(Pa),D1(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(dg(f)?f.flags|=4:c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Pi!==null&&(dN(Pi),Pi=null))),J1(c,f),Ma(f),null;case 5:R1(f);var T=Sd(Nm.current);if(x=f.type,c!==null&&f.stateNode!=null)rO(c,f,x,j,T),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!j){if(f.stateNode===null)throw Error(r(166));return Ma(f),null}if(c=Sd(xo.current),dg(f)){j=f.stateNode,x=f.type;var k=f.memoizedProps;switch(j[go]=f,j[gm]=k,c=(f.mode&1)!==0,x){case"dialog":Z("cancel",j),Z("close",j);break;case"iframe":case"object":case"embed":Z("load",j);break;case"video":case"audio":for(T=0;T<gd.length;T++)Z(gd[T],j);break;case"source":Z("error",j);break;case"img":case"image":case"link":Z("error",j),Z("load",j);break;case"details":Z("toggle",j);break;case"input":de(j,k),Z("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!k.multiple},Z("invalid",j);break;case"textarea":$e(j,k),Z("invalid",j)}ir(x,k),T=null;for(var z in k)if(k.hasOwnProperty(z)){var re=k[z];z==="children"?typeof re=="string"?j.textContent!==re&&(k.suppressHydrationWarning!==!0&&ri(j.textContent,re,c),T=["children",re]):typeof re=="number"&&j.textContent!==""+re&&(k.suppressHydrationWarning!==!0&&ri(j.textContent,re,c),T=["children",""+re]):s.hasOwnProperty(z)&&re!=null&&z==="onScroll"&&Z("scroll",j)}switch(x){case"input":ge(j),ye(j,k,!0);break;case"textarea":ge(j),Vt(j);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(j.onclick=hm)}j=T,f.updateQueue=j,j!==null&&(f.flags|=4)}else{z=T.nodeType===9?T:T.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=hn(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=z.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=z.createElement(x,{is:j.is}):(c=z.createElement(x),x==="select"&&(z=c,j.multiple?z.multiple=!0:j.size&&(z.size=j.size))):c=z.createElementNS(c,x),c[go]=f,c[gm]=j,tO(c,f,!1,!1),f.stateNode=c;e:{switch(z=xt(x,j),x){case"dialog":Z("cancel",c),Z("close",c),T=j;break;case"iframe":case"object":case"embed":Z("load",c),T=j;break;case"video":case"audio":for(T=0;T<gd.length;T++)Z(gd[T],c);T=j;break;case"source":Z("error",c),T=j;break;case"img":case"image":case"link":Z("error",c),Z("load",c),T=j;break;case"details":Z("toggle",c),T=j;break;case"input":de(c,j),T=V(c,j),Z("invalid",c);break;case"option":T=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},T=ee({},j,{value:void 0}),Z("invalid",c);break;case"textarea":$e(c,j),T=ze(c,j),Z("invalid",c);break;default:T=j}ir(x,T),re=T;for(k in re)if(re.hasOwnProperty(k)){var oe=re[k];k==="style"?Or(c,oe):k==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&mr(c,oe)):k==="children"?typeof oe=="string"?(x!=="textarea"||oe!=="")&&ar(c,oe):typeof oe=="number"&&ar(c,""+oe):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?oe!=null&&k==="onScroll"&&Z("scroll",c):oe!=null&&_(c,k,oe,z))}switch(x){case"input":ge(c),ye(c,j,!1);break;case"textarea":ge(c),Vt(c);break;case"option":j.value!=null&&c.setAttribute("value",""+ve(j.value));break;case"select":c.multiple=!!j.multiple,k=j.value,k!=null?Dt(c,!!j.multiple,k,!1):j.defaultValue!=null&&Dt(c,!!j.multiple,j.defaultValue,!0);break;default:typeof T.onClick=="function"&&(c.onclick=hm)}switch(x){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Ma(f),null;case 6:if(c&&f.stateNode!=null)nO(c,f,c.memoizedProps,j);else{if(typeof j!="string"&&f.stateNode===null)throw Error(r(166));if(x=Sd(Nm.current),Sd(xo.current),dg(f)){if(j=f.stateNode,x=f.memoizedProps,j[go]=f,(k=j.nodeValue!==x)&&(c=Ps,c!==null))switch(c.tag){case 3:ri(j.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&ri(j.nodeValue,x,(c.mode&1)!==0)}k&&(f.flags|=4)}else j=(x.nodeType===9?x:x.ownerDocument).createTextNode(j),j[go]=f,f.stateNode=j}return Ma(f),null;case 13:if(un(wn),j=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(bn&&Ds!==null&&(f.mode&1)!==0&&(f.flags&128)===0)ik(),Ou(),f.flags|=98560,k=!1;else if(k=dg(f),j!==null&&j.dehydrated!==null){if(c===null){if(!k)throw Error(r(318));if(k=f.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[go]=f}else Ou(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Ma(f),k=!1}else Pi!==null&&(dN(Pi),Pi=null),k=!0;if(!k)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=x,f):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(wn.current&1)!==0?Xn===0&&(Xn=3):pN())),f.updateQueue!==null&&(f.flags|=4),Ma(f),null);case 4:return Mu(),J1(c,f),c===null&&fe(f.stateNode.containerInfo),Ma(f),null;case 10:return _1(f.type._context),Ma(f),null;case 17:return hs(f.type)&&sg(),Ma(f),null;case 19:if(un(wn),k=f.memoizedState,k===null)return Ma(f),null;if(j=(f.flags&128)!==0,z=k.rendering,z===null)if(j)Am(k,!1);else{if(Xn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(z=gg(c),z!==null){for(f.flags|=128,Am(k,!1),j=z.updateQueue,j!==null&&(f.updateQueue=j,f.flags|=4),f.subtreeFlags=0,j=x,x=f.child;x!==null;)k=x,c=j,k.flags&=14680066,z=k.alternate,z===null?(k.childLanes=0,k.lanes=c,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=z.childLanes,k.lanes=z.lanes,k.child=z.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=z.memoizedProps,k.memoizedState=z.memoizedState,k.updateQueue=z.updateQueue,k.type=z.type,c=z.dependencies,k.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return rn(wn,wn.current&1|2),f.child}c=c.sibling}k.tail!==null&&Tr()>Fu&&(f.flags|=128,j=!0,Am(k,!1),f.lanes=4194304)}else{if(!j)if(c=gg(z),c!==null){if(f.flags|=128,j=!0,x=c.updateQueue,x!==null&&(f.updateQueue=x,f.flags|=4),Am(k,!0),k.tail===null&&k.tailMode==="hidden"&&!z.alternate&&!bn)return Ma(f),null}else 2*Tr()-k.renderingStartTime>Fu&&x!==1073741824&&(f.flags|=128,j=!0,Am(k,!1),f.lanes=4194304);k.isBackwards?(z.sibling=f.child,f.child=z):(x=k.last,x!==null?x.sibling=z:f.child=z,k.last=z)}return k.tail!==null?(f=k.tail,k.rendering=f,k.tail=f.sibling,k.renderingStartTime=Tr(),f.sibling=null,x=wn.current,rn(wn,j?x&1|2:x&1),f):(Ma(f),null);case 22:case 23:return fN(),j=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(f.flags|=8192),j&&(f.mode&1)!==0?(Ms&1073741824)!==0&&(Ma(f),f.subtreeFlags&6&&(f.flags|=8192)):Ma(f),null;case 24:return null;case 25:return null}throw Error(r(156,f.tag))}function Xq(c,f){switch(N1(f),f.tag){case 1:return hs(f.type)&&sg(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Mu(),un(ms),un(Pa),D1(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return R1(f),null;case 13:if(un(wn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Ou()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return un(wn),null;case 4:return Mu(),null;case 10:return _1(f.type._context),null;case 22:case 23:return fN(),null;case 24:return null;default:return null}}var Eg=!1,Ia=!1,Qq=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Lu(c,f){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(j){Tn(c,f,j)}else x.current=null}function eN(c,f,x){try{x()}catch(j){Tn(c,f,j)}}var aO=!1;function Zq(c,f){if(Kr=Q,c=mm(),mo(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var T=j.anchorOffset,k=j.focusNode;j=j.focusOffset;try{x.nodeType,k.nodeType}catch{x=null;break e}var z=0,re=-1,oe=-1,_e=0,Ge=0,qe=c,He=null;t:for(;;){for(var ct;qe!==x||T!==0&&qe.nodeType!==3||(re=z+T),qe!==k||j!==0&&qe.nodeType!==3||(oe=z+j),qe.nodeType===3&&(z+=qe.nodeValue.length),(ct=qe.firstChild)!==null;)He=qe,qe=ct;for(;;){if(qe===c)break t;if(He===x&&++_e===T&&(re=z),He===k&&++Ge===j&&(oe=z),(ct=qe.nextSibling)!==null)break;qe=He,He=qe.parentNode}qe=ct}x=re===-1||oe===-1?null:{start:re,end:oe}}else x=null}x=x||{start:0,end:0}}else x=null;for(Qa={focusedElem:c,selectionRange:x},Q=!1,ft=f;ft!==null;)if(f=ft,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,ft=c;else for(;ft!==null;){f=ft;try{var bt=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var Et=bt.memoizedProps,Ln=bt.memoizedState,Se=f.stateNode,me=Se.getSnapshotBeforeUpdate(f.elementType===f.type?Et:Di(f.type,Et),Ln);Se.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var we=f.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Xe){Tn(f,f.return,Xe)}if(c=f.sibling,c!==null){c.return=f.return,ft=c;break}ft=f.return}return bt=aO,aO=!1,bt}function _m(c,f,x){var j=f.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var T=j=j.next;do{if((T.tag&c)===c){var k=T.destroy;T.destroy=void 0,k!==void 0&&eN(f,x,k)}T=T.next}while(T!==j)}}function Ag(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&c)===c){var j=x.create;x.destroy=j()}x=x.next}while(x!==f)}}function tN(c){var f=c.ref;if(f!==null){var x=c.stateNode;switch(c.tag){case 5:c=x;break;default:c=x}typeof f=="function"?f(c):f.current=c}}function sO(c){var f=c.alternate;f!==null&&(c.alternate=null,sO(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&(delete f[go],delete f[gm],delete f[x1],delete f[Dq],delete f[Mq])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function iO(c){return c.tag===5||c.tag===3||c.tag===4}function oO(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||iO(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function rN(c,f,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,f?x.nodeType===8?x.parentNode.insertBefore(c,f):x.insertBefore(c,f):(x.nodeType===8?(f=x.parentNode,f.insertBefore(c,x)):(f=x,f.appendChild(c)),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=hm));else if(j!==4&&(c=c.child,c!==null))for(rN(c,f,x),c=c.sibling;c!==null;)rN(c,f,x),c=c.sibling}function nN(c,f,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,f?x.insertBefore(c,f):x.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(nN(c,f,x),c=c.sibling;c!==null;)nN(c,f,x),c=c.sibling}var va=null,Mi=!1;function hc(c,f,x){for(x=x.child;x!==null;)lO(c,f,x),x=x.sibling}function lO(c,f,x){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(Nn,x)}catch{}switch(x.tag){case 5:Ia||Lu(x,f);case 6:var j=va,T=Mi;va=null,hc(c,f,x),va=j,Mi=T,va!==null&&(Mi?(c=va,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):va.removeChild(x.stateNode));break;case 18:va!==null&&(Mi?(c=va,x=x.stateNode,c.nodeType===8?g1(c.parentNode,x):c.nodeType===1&&g1(c,x),lo(c)):g1(va,x.stateNode));break;case 4:j=va,T=Mi,va=x.stateNode.containerInfo,Mi=!0,hc(c,f,x),va=j,Mi=T;break;case 0:case 11:case 14:case 15:if(!Ia&&(j=x.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){T=j=j.next;do{var k=T,z=k.destroy;k=k.tag,z!==void 0&&((k&2)!==0||(k&4)!==0)&&eN(x,f,z),T=T.next}while(T!==j)}hc(c,f,x);break;case 1:if(!Ia&&(Lu(x,f),j=x.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=x.memoizedProps,j.state=x.memoizedState,j.componentWillUnmount()}catch(re){Tn(x,f,re)}hc(c,f,x);break;case 21:hc(c,f,x);break;case 22:x.mode&1?(Ia=(j=Ia)||x.memoizedState!==null,hc(c,f,x),Ia=j):hc(c,f,x);break;default:hc(c,f,x)}}function cO(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new Qq),f.forEach(function(j){var T=oW.bind(null,c,j);x.has(j)||(x.add(j),j.then(T,T))})}}function Ii(c,f){var x=f.deletions;if(x!==null)for(var j=0;j<x.length;j++){var T=x[j];try{var k=c,z=f,re=z;e:for(;re!==null;){switch(re.tag){case 5:va=re.stateNode,Mi=!1;break e;case 3:va=re.stateNode.containerInfo,Mi=!0;break e;case 4:va=re.stateNode.containerInfo,Mi=!0;break e}re=re.return}if(va===null)throw Error(r(160));lO(k,z,T),va=null,Mi=!1;var oe=T.alternate;oe!==null&&(oe.return=null),T.return=null}catch(_e){Tn(T,f,_e)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)dO(f,c),f=f.sibling}function dO(c,f){var x=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Ii(f,c),yo(c),j&4){try{_m(3,c,c.return),Ag(3,c)}catch(Et){Tn(c,c.return,Et)}try{_m(5,c,c.return)}catch(Et){Tn(c,c.return,Et)}}break;case 1:Ii(f,c),yo(c),j&512&&x!==null&&Lu(x,x.return);break;case 5:if(Ii(f,c),yo(c),j&512&&x!==null&&Lu(x,x.return),c.flags&32){var T=c.stateNode;try{ar(T,"")}catch(Et){Tn(c,c.return,Et)}}if(j&4&&(T=c.stateNode,T!=null)){var k=c.memoizedProps,z=x!==null?x.memoizedProps:k,re=c.type,oe=c.updateQueue;if(c.updateQueue=null,oe!==null)try{re==="input"&&k.type==="radio"&&k.name!=null&&Ae(T,k),xt(re,z);var _e=xt(re,k);for(z=0;z<oe.length;z+=2){var Ge=oe[z],qe=oe[z+1];Ge==="style"?Or(T,qe):Ge==="dangerouslySetInnerHTML"?mr(T,qe):Ge==="children"?ar(T,qe):_(T,Ge,qe,_e)}switch(re){case"input":ce(T,k);break;case"textarea":or(T,k);break;case"select":var He=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!k.multiple;var ct=k.value;ct!=null?Dt(T,!!k.multiple,ct,!1):He!==!!k.multiple&&(k.defaultValue!=null?Dt(T,!!k.multiple,k.defaultValue,!0):Dt(T,!!k.multiple,k.multiple?[]:"",!1))}T[gm]=k}catch(Et){Tn(c,c.return,Et)}}break;case 6:if(Ii(f,c),yo(c),j&4){if(c.stateNode===null)throw Error(r(162));T=c.stateNode,k=c.memoizedProps;try{T.nodeValue=k}catch(Et){Tn(c,c.return,Et)}}break;case 3:if(Ii(f,c),yo(c),j&4&&x!==null&&x.memoizedState.isDehydrated)try{lo(f.containerInfo)}catch(Et){Tn(c,c.return,Et)}break;case 4:Ii(f,c),yo(c);break;case 13:Ii(f,c),yo(c),T=c.child,T.flags&8192&&(k=T.memoizedState!==null,T.stateNode.isHidden=k,!k||T.alternate!==null&&T.alternate.memoizedState!==null||(iN=Tr())),j&4&&cO(c);break;case 22:if(Ge=x!==null&&x.memoizedState!==null,c.mode&1?(Ia=(_e=Ia)||Ge,Ii(f,c),Ia=_e):Ii(f,c),yo(c),j&8192){if(_e=c.memoizedState!==null,(c.stateNode.isHidden=_e)&&!Ge&&(c.mode&1)!==0)for(ft=c,Ge=c.child;Ge!==null;){for(qe=ft=Ge;ft!==null;){switch(He=ft,ct=He.child,He.tag){case 0:case 11:case 14:case 15:_m(4,He,He.return);break;case 1:Lu(He,He.return);var bt=He.stateNode;if(typeof bt.componentWillUnmount=="function"){j=He,x=He.return;try{f=j,bt.props=f.memoizedProps,bt.state=f.memoizedState,bt.componentWillUnmount()}catch(Et){Tn(j,x,Et)}}break;case 5:Lu(He,He.return);break;case 22:if(He.memoizedState!==null){pO(qe);continue}}ct!==null?(ct.return=He,ft=ct):pO(qe)}Ge=Ge.sibling}e:for(Ge=null,qe=c;;){if(qe.tag===5){if(Ge===null){Ge=qe;try{T=qe.stateNode,_e?(k=T.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(re=qe.stateNode,oe=qe.memoizedProps.style,z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,re.style.display=jr("display",z))}catch(Et){Tn(c,c.return,Et)}}}else if(qe.tag===6){if(Ge===null)try{qe.stateNode.nodeValue=_e?"":qe.memoizedProps}catch(Et){Tn(c,c.return,Et)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===c)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===c)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===c)break e;Ge===qe&&(Ge=null),qe=qe.return}Ge===qe&&(Ge=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Ii(f,c),yo(c),j&4&&cO(c);break;case 21:break;default:Ii(f,c),yo(c)}}function yo(c){var f=c.flags;if(f&2){try{e:{for(var x=c.return;x!==null;){if(iO(x)){var j=x;break e}x=x.return}throw Error(r(160))}switch(j.tag){case 5:var T=j.stateNode;j.flags&32&&(ar(T,""),j.flags&=-33);var k=oO(c);nN(c,k,T);break;case 3:case 4:var z=j.stateNode.containerInfo,re=oO(c);rN(c,re,z);break;default:throw Error(r(161))}}catch(oe){Tn(c,c.return,oe)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function Jq(c,f,x){ft=c,uO(c)}function uO(c,f,x){for(var j=(c.mode&1)!==0;ft!==null;){var T=ft,k=T.child;if(T.tag===22&&j){var z=T.memoizedState!==null||Eg;if(!z){var re=T.alternate,oe=re!==null&&re.memoizedState!==null||Ia;re=Eg;var _e=Ia;if(Eg=z,(Ia=oe)&&!_e)for(ft=T;ft!==null;)z=ft,oe=z.child,z.tag===22&&z.memoizedState!==null?mO(T):oe!==null?(oe.return=z,ft=oe):mO(T);for(;k!==null;)ft=k,uO(k),k=k.sibling;ft=T,Eg=re,Ia=_e}fO(c)}else(T.subtreeFlags&8772)!==0&&k!==null?(k.return=T,ft=k):fO(c)}}function fO(c){for(;ft!==null;){var f=ft;if((f.flags&8772)!==0){var x=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Ia||Ag(5,f);break;case 1:var j=f.stateNode;if(f.flags&4&&!Ia)if(x===null)j.componentDidMount();else{var T=f.elementType===f.type?x.memoizedProps:Di(f.type,x.memoizedProps);j.componentDidUpdate(T,x.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var k=f.updateQueue;k!==null&&pk(f,k,j);break;case 3:var z=f.updateQueue;if(z!==null){if(x=null,f.child!==null)switch(f.child.tag){case 5:x=f.child.stateNode;break;case 1:x=f.child.stateNode}pk(f,z,x)}break;case 5:var re=f.stateNode;if(x===null&&f.flags&4){x=re;var oe=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&x.focus();break;case"img":oe.src&&(x.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var _e=f.alternate;if(_e!==null){var Ge=_e.memoizedState;if(Ge!==null){var qe=Ge.dehydrated;qe!==null&&lo(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ia||f.flags&512&&tN(f)}catch(He){Tn(f,f.return,He)}}if(f===c){ft=null;break}if(x=f.sibling,x!==null){x.return=f.return,ft=x;break}ft=f.return}}function pO(c){for(;ft!==null;){var f=ft;if(f===c){ft=null;break}var x=f.sibling;if(x!==null){x.return=f.return,ft=x;break}ft=f.return}}function mO(c){for(;ft!==null;){var f=ft;try{switch(f.tag){case 0:case 11:case 15:var x=f.return;try{Ag(4,f)}catch(oe){Tn(f,x,oe)}break;case 1:var j=f.stateNode;if(typeof j.componentDidMount=="function"){var T=f.return;try{j.componentDidMount()}catch(oe){Tn(f,T,oe)}}var k=f.return;try{tN(f)}catch(oe){Tn(f,k,oe)}break;case 5:var z=f.return;try{tN(f)}catch(oe){Tn(f,z,oe)}}}catch(oe){Tn(f,f.return,oe)}if(f===c){ft=null;break}var re=f.sibling;if(re!==null){re.return=f.return,ft=re;break}ft=f.return}}var eW=Math.ceil,_g=A.ReactCurrentDispatcher,aN=A.ReactCurrentOwner,oi=A.ReactCurrentBatchConfig,kr=0,ua=null,Un=null,Na=0,Ms=0,$u=dc(0),Xn=0,Cm=null,wd=0,Cg=0,sN=0,Tm=null,xs=null,iN=0,Fu=1/0,hl=null,Tg=!1,oN=null,gc=null,kg=!1,xc=null,Og=0,km=0,lN=null,Rg=-1,Pg=0;function Ja(){return(kr&6)!==0?Tr():Rg!==-1?Rg:Rg=Tr()}function bc(c){return(c.mode&1)===0?1:(kr&2)!==0&&Na!==0?Na&-Na:Lq.transition!==null?(Pg===0&&(Pg=qs()),Pg):(c=Jt,c!==0||(c=window.event,c=c===void 0?16:ht(c.type)),c)}function Li(c,f,x,j){if(50<km)throw km=0,lN=null,Error(r(185));cn(c,x,j),((kr&2)===0||c!==ua)&&(c===ua&&((kr&2)===0&&(Cg|=x),Xn===4&&yc(c,Na)),bs(c,j),x===1&&kr===0&&(f.mode&1)===0&&(Fu=Tr()+500,og&&fc()))}function bs(c,f){var x=c.callbackNode;Cs(c,f);var j=Ya(c,c===ua?Na:0);if(j===0)x!==null&&vr(x),c.callbackNode=null,c.callbackPriority=0;else if(f=j&-j,c.callbackPriority!==f){if(x!=null&&vr(x),f===1)c.tag===0?Iq(gO.bind(null,c)):tk(gO.bind(null,c)),Rq(function(){(kr&6)===0&&fc()}),x=null;else{switch(Ts(j)){case 1:x=Ir;break;case 4:x=Rr;break;case 16:x=_s;break;case 536870912:x=_r;break;default:x=_s}x=wO(x,hO.bind(null,c))}c.callbackPriority=f,c.callbackNode=x}}function hO(c,f){if(Rg=-1,Pg=0,(kr&6)!==0)throw Error(r(327));var x=c.callbackNode;if(Bu()&&c.callbackNode!==x)return null;var j=Ya(c,c===ua?Na:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||f)f=Dg(c,j);else{f=j;var T=kr;kr|=2;var k=bO();(ua!==c||Na!==f)&&(hl=null,Fu=Tr()+500,Ad(c,f));do try{nW();break}catch(re){xO(c,re)}while(!0);A1(),_g.current=k,kr=T,Un!==null?f=0:(ua=null,Na=0,f=Xn)}if(f!==0){if(f===2&&(T=tn(c),T!==0&&(j=T,f=cN(c,T))),f===1)throw x=Cm,Ad(c,0),yc(c,j),bs(c,Tr()),x;if(f===6)yc(c,j);else{if(T=c.current.alternate,(j&30)===0&&!tW(T)&&(f=Dg(c,j),f===2&&(k=tn(c),k!==0&&(j=k,f=cN(c,k))),f===1))throw x=Cm,Ad(c,0),yc(c,j),bs(c,Tr()),x;switch(c.finishedWork=T,c.finishedLanes=j,f){case 0:case 1:throw Error(r(345));case 2:_d(c,xs,hl);break;case 3:if(yc(c,j),(j&130023424)===j&&(f=iN+500-Tr(),10<f)){if(Ya(c,0)!==0)break;if(T=c.suspendedLanes,(T&j)!==j){Ja(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=wu(_d.bind(null,c,xs,hl),f);break}_d(c,xs,hl);break;case 4:if(yc(c,j),(j&4194240)===j)break;for(f=c.eventTimes,T=-1;0<j;){var z=31-en(j);k=1<<z,z=f[z],z>T&&(T=z),j&=~k}if(j=T,j=Tr()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*eW(j/1960))-j,10<j){c.timeoutHandle=wu(_d.bind(null,c,xs,hl),j);break}_d(c,xs,hl);break;case 5:_d(c,xs,hl);break;default:throw Error(r(329))}}}return bs(c,Tr()),c.callbackNode===x?hO.bind(null,c):null}function cN(c,f){var x=Tm;return c.current.memoizedState.isDehydrated&&(Ad(c,f).flags|=256),c=Dg(c,f),c!==2&&(f=xs,xs=x,f!==null&&dN(f)),c}function dN(c){xs===null?xs=c:xs.push.apply(xs,c)}function tW(c){for(var f=c;;){if(f.flags&16384){var x=f.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var j=0;j<x.length;j++){var T=x[j],k=T.getSnapshot;T=T.value;try{if(!Bn(k(),T))return!1}catch{return!1}}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function yc(c,f){for(f&=~sN,f&=~Cg,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var x=31-en(f),j=1<<x;c[x]=-1,f&=~j}}function gO(c){if((kr&6)!==0)throw Error(r(327));Bu();var f=Ya(c,0);if((f&1)===0)return bs(c,Tr()),null;var x=Dg(c,f);if(c.tag!==0&&x===2){var j=tn(c);j!==0&&(f=j,x=cN(c,j))}if(x===1)throw x=Cm,Ad(c,0),yc(c,f),bs(c,Tr()),x;if(x===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,_d(c,xs,hl),bs(c,Tr()),null}function uN(c,f){var x=kr;kr|=1;try{return c(f)}finally{kr=x,kr===0&&(Fu=Tr()+500,og&&fc())}}function Ed(c){xc!==null&&xc.tag===0&&(kr&6)===0&&Bu();var f=kr;kr|=1;var x=oi.transition,j=Jt;try{if(oi.transition=null,Jt=1,c)return c()}finally{Jt=j,oi.transition=x,kr=f,(kr&6)===0&&fc()}}function fN(){Ms=$u.current,un($u)}function Ad(c,f){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,Oq(x)),Un!==null)for(x=Un.return;x!==null;){var j=x;switch(N1(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&sg();break;case 3:Mu(),un(ms),un(Pa),D1();break;case 5:R1(j);break;case 4:Mu();break;case 13:un(wn);break;case 19:un(wn);break;case 10:_1(j.type._context);break;case 22:case 23:fN()}x=x.return}if(ua=c,Un=c=vc(c.current,null),Na=Ms=f,Xn=0,Cm=null,sN=Cg=wd=0,xs=Tm=null,Nd!==null){for(f=0;f<Nd.length;f++)if(x=Nd[f],j=x.interleaved,j!==null){x.interleaved=null;var T=j.next,k=x.pending;if(k!==null){var z=k.next;k.next=T,j.next=z}x.pending=j}Nd=null}return c}function xO(c,f){do{var x=Un;try{if(A1(),xg.current=Ng,bg){for(var j=En.memoizedState;j!==null;){var T=j.queue;T!==null&&(T.pending=null),j=j.next}bg=!1}if(jd=0,da=Yn=En=null,Sm=!1,jm=0,aN.current=null,x===null||x.return===null){Xn=1,Cm=f,Un=null;break}e:{var k=c,z=x.return,re=x,oe=f;if(f=Na,re.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var _e=oe,Ge=re,qe=Ge.tag;if((Ge.mode&1)===0&&(qe===0||qe===11||qe===15)){var He=Ge.alternate;He?(Ge.updateQueue=He.updateQueue,Ge.memoizedState=He.memoizedState,Ge.lanes=He.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var ct=Hk(z);if(ct!==null){ct.flags&=-257,Gk(ct,z,re,k,f),ct.mode&1&&Uk(k,_e,f),f=ct,oe=_e;var bt=f.updateQueue;if(bt===null){var Et=new Set;Et.add(oe),f.updateQueue=Et}else bt.add(oe);break e}else{if((f&1)===0){Uk(k,_e,f),pN();break e}oe=Error(r(426))}}else if(bn&&re.mode&1){var Ln=Hk(z);if(Ln!==null){(Ln.flags&65536)===0&&(Ln.flags|=256),Gk(Ln,z,re,k,f),w1(Iu(oe,re));break e}}k=oe=Iu(oe,re),Xn!==4&&(Xn=2),Tm===null?Tm=[k]:Tm.push(k),k=z;do{switch(k.tag){case 3:k.flags|=65536,f&=-f,k.lanes|=f;var Se=Fk(k,oe,f);fk(k,Se);break e;case 1:re=oe;var me=k.type,we=k.stateNode;if((k.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(gc===null||!gc.has(we)))){k.flags|=65536,f&=-f,k.lanes|=f;var Xe=Bk(k,re,f);fk(k,Xe);break e}}k=k.return}while(k!==null)}vO(x)}catch(_t){f=_t,Un===x&&x!==null&&(Un=x=x.return);continue}break}while(!0)}function bO(){var c=_g.current;return _g.current=Ng,c===null?Ng:c}function pN(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),ua===null||(wd&268435455)===0&&(Cg&268435455)===0||yc(ua,Na)}function Dg(c,f){var x=kr;kr|=2;var j=bO();(ua!==c||Na!==f)&&(hl=null,Ad(c,f));do try{rW();break}catch(T){xO(c,T)}while(!0);if(A1(),kr=x,_g.current=j,Un!==null)throw Error(r(261));return ua=null,Na=0,Xn}function rW(){for(;Un!==null;)yO(Un)}function nW(){for(;Un!==null&&!qa();)yO(Un)}function yO(c){var f=jO(c.alternate,c,Ms);c.memoizedProps=c.pendingProps,f===null?vO(c):Un=f,aN.current=null}function vO(c){var f=c;do{var x=f.alternate;if(c=f.return,(f.flags&32768)===0){if(x=Yq(x,f,Ms),x!==null){Un=x;return}}else{if(x=Xq(x,f),x!==null){x.flags&=32767,Un=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Xn=6,Un=null;return}}if(f=f.sibling,f!==null){Un=f;return}Un=f=c}while(f!==null);Xn===0&&(Xn=5)}function _d(c,f,x){var j=Jt,T=oi.transition;try{oi.transition=null,Jt=1,aW(c,f,x,j)}finally{oi.transition=T,Jt=j}return null}function aW(c,f,x,j){do Bu();while(xc!==null);if((kr&6)!==0)throw Error(r(327));x=c.finishedWork;var T=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var k=x.lanes|x.childLanes;if(dn(c,k),c===ua&&(Un=ua=null,Na=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||kg||(kg=!0,wO(_s,function(){return Bu(),null})),k=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||k){k=oi.transition,oi.transition=null;var z=Jt;Jt=1;var re=kr;kr|=4,aN.current=null,Zq(c,x),dO(x,c),md(Qa),Q=!!Kr,Qa=Kr=null,c.current=x,Jq(x),Ca(),kr=re,Jt=z,oi.transition=k}else c.current=x;if(kg&&(kg=!1,xc=c,Og=T),k=c.pendingLanes,k===0&&(gc=null),Ta(x.stateNode),bs(c,Tr()),f!==null)for(j=c.onRecoverableError,x=0;x<f.length;x++)T=f[x],j(T.value,{componentStack:T.stack,digest:T.digest});if(Tg)throw Tg=!1,c=oN,oN=null,c;return(Og&1)!==0&&c.tag!==0&&Bu(),k=c.pendingLanes,(k&1)!==0?c===lN?km++:(km=0,lN=c):km=0,fc(),null}function Bu(){if(xc!==null){var c=Ts(Og),f=oi.transition,x=Jt;try{if(oi.transition=null,Jt=16>c?16:c,xc===null)var j=!1;else{if(c=xc,xc=null,Og=0,(kr&6)!==0)throw Error(r(331));var T=kr;for(kr|=4,ft=c.current;ft!==null;){var k=ft,z=k.child;if((ft.flags&16)!==0){var re=k.deletions;if(re!==null){for(var oe=0;oe<re.length;oe++){var _e=re[oe];for(ft=_e;ft!==null;){var Ge=ft;switch(Ge.tag){case 0:case 11:case 15:_m(8,Ge,k)}var qe=Ge.child;if(qe!==null)qe.return=Ge,ft=qe;else for(;ft!==null;){Ge=ft;var He=Ge.sibling,ct=Ge.return;if(sO(Ge),Ge===_e){ft=null;break}if(He!==null){He.return=ct,ft=He;break}ft=ct}}}var bt=k.alternate;if(bt!==null){var Et=bt.child;if(Et!==null){bt.child=null;do{var Ln=Et.sibling;Et.sibling=null,Et=Ln}while(Et!==null)}}ft=k}}if((k.subtreeFlags&2064)!==0&&z!==null)z.return=k,ft=z;else e:for(;ft!==null;){if(k=ft,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:_m(9,k,k.return)}var Se=k.sibling;if(Se!==null){Se.return=k.return,ft=Se;break e}ft=k.return}}var me=c.current;for(ft=me;ft!==null;){z=ft;var we=z.child;if((z.subtreeFlags&2064)!==0&&we!==null)we.return=z,ft=we;else e:for(z=me;ft!==null;){if(re=ft,(re.flags&2048)!==0)try{switch(re.tag){case 0:case 11:case 15:Ag(9,re)}}catch(_t){Tn(re,re.return,_t)}if(re===z){ft=null;break e}var Xe=re.sibling;if(Xe!==null){Xe.return=re.return,ft=Xe;break e}ft=re.return}}if(kr=T,fc(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(Nn,c)}catch{}j=!0}return j}finally{Jt=x,oi.transition=f}}return!1}function NO(c,f,x){f=Iu(x,f),f=Fk(c,f,1),c=mc(c,f,1),f=Ja(),c!==null&&(cn(c,1,f),bs(c,f))}function Tn(c,f,x){if(c.tag===3)NO(c,c,x);else for(;f!==null;){if(f.tag===3){NO(f,c,x);break}else if(f.tag===1){var j=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(gc===null||!gc.has(j))){c=Iu(x,c),c=Bk(f,c,1),f=mc(f,c,1),c=Ja(),f!==null&&(cn(f,1,c),bs(f,c));break}}f=f.return}}function sW(c,f,x){var j=c.pingCache;j!==null&&j.delete(f),f=Ja(),c.pingedLanes|=c.suspendedLanes&x,ua===c&&(Na&x)===x&&(Xn===4||Xn===3&&(Na&130023424)===Na&&500>Tr()-iN?Ad(c,0):sN|=x),bs(c,f)}function SO(c,f){f===0&&((c.mode&1)===0?f=1:(f=Sn,Sn<<=1,(Sn&130023424)===0&&(Sn=4194304)));var x=Ja();c=fl(c,f),c!==null&&(cn(c,f,x),bs(c,x))}function iW(c){var f=c.memoizedState,x=0;f!==null&&(x=f.retryLane),SO(c,x)}function oW(c,f){var x=0;switch(c.tag){case 13:var j=c.stateNode,T=c.memoizedState;T!==null&&(x=T.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(r(314))}j!==null&&j.delete(f),SO(c,x)}var jO;jO=function(c,f,x){if(c!==null)if(c.memoizedProps!==f.pendingProps||ms.current)gs=!0;else{if((c.lanes&x)===0&&(f.flags&128)===0)return gs=!1,Vq(c,f,x);gs=(c.flags&131072)!==0}else gs=!1,bn&&(f.flags&1048576)!==0&&rk(f,cg,f.index);switch(f.lanes=0,f.tag){case 2:var j=f.type;wg(c,f),c=f.pendingProps;var T=Cu(f,Pa.current);Du(f,x),T=L1(null,f,j,c,T,x);var k=$1();return f.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,hs(j)?(k=!0,ig(f)):k=!1,f.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,k1(f),T.updater=Sg,f.stateNode=T,T._reactInternals=f,z1(f,j,c,x),f=V1(null,f,j,!0,k,x)):(f.tag=0,bn&&k&&v1(f),Za(null,f,T,x),f=f.child),f;case 16:j=f.elementType;e:{switch(wg(c,f),c=f.pendingProps,T=j._init,j=T(j._payload),f.type=j,T=f.tag=cW(j),c=Di(j,c),T){case 0:f=W1(null,f,j,c,x);break e;case 1:f=Yk(null,f,j,c,x);break e;case 11:f=zk(null,f,j,c,x);break e;case 14:f=Kk(null,f,j,Di(j.type,c),x);break e}throw Error(r(306,j,""))}return f;case 0:return j=f.type,T=f.pendingProps,T=f.elementType===j?T:Di(j,T),W1(c,f,j,T,x);case 1:return j=f.type,T=f.pendingProps,T=f.elementType===j?T:Di(j,T),Yk(c,f,j,T,x);case 3:e:{if(Xk(f),c===null)throw Error(r(387));j=f.pendingProps,k=f.memoizedState,T=k.element,uk(c,f),hg(f,j,null,x);var z=f.memoizedState;if(j=z.element,k.isDehydrated)if(k={element:j,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},f.updateQueue.baseState=k,f.memoizedState=k,f.flags&256){T=Iu(Error(r(423)),f),f=Qk(c,f,j,x,T);break e}else if(j!==T){T=Iu(Error(r(424)),f),f=Qk(c,f,j,x,T);break e}else for(Ds=cc(f.stateNode.containerInfo.firstChild),Ps=f,bn=!0,Pi=null,x=ck(f,null,j,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Ou(),j===T){f=ml(c,f,x);break e}Za(c,f,j,x)}f=f.child}return f;case 5:return mk(f),c===null&&j1(f),j=f.type,T=f.pendingProps,k=c!==null?c.memoizedProps:null,z=T.children,Ri(j,T)?z=null:k!==null&&Ri(j,k)&&(f.flags|=32),Vk(c,f),Za(c,f,z,x),f.child;case 6:return c===null&&j1(f),null;case 13:return Zk(c,f,x);case 4:return O1(f,f.stateNode.containerInfo),j=f.pendingProps,c===null?f.child=Ru(f,null,j,x):Za(c,f,j,x),f.child;case 11:return j=f.type,T=f.pendingProps,T=f.elementType===j?T:Di(j,T),zk(c,f,j,T,x);case 7:return Za(c,f,f.pendingProps,x),f.child;case 8:return Za(c,f,f.pendingProps.children,x),f.child;case 12:return Za(c,f,f.pendingProps.children,x),f.child;case 10:e:{if(j=f.type._context,T=f.pendingProps,k=f.memoizedProps,z=T.value,rn(fg,j._currentValue),j._currentValue=z,k!==null)if(Bn(k.value,z)){if(k.children===T.children&&!ms.current){f=ml(c,f,x);break e}}else for(k=f.child,k!==null&&(k.return=f);k!==null;){var re=k.dependencies;if(re!==null){z=k.child;for(var oe=re.firstContext;oe!==null;){if(oe.context===j){if(k.tag===1){oe=pl(-1,x&-x),oe.tag=2;var _e=k.updateQueue;if(_e!==null){_e=_e.shared;var Ge=_e.pending;Ge===null?oe.next=oe:(oe.next=Ge.next,Ge.next=oe),_e.pending=oe}}k.lanes|=x,oe=k.alternate,oe!==null&&(oe.lanes|=x),C1(k.return,x,f),re.lanes|=x;break}oe=oe.next}}else if(k.tag===10)z=k.type===f.type?null:k.child;else if(k.tag===18){if(z=k.return,z===null)throw Error(r(341));z.lanes|=x,re=z.alternate,re!==null&&(re.lanes|=x),C1(z,x,f),z=k.sibling}else z=k.child;if(z!==null)z.return=k;else for(z=k;z!==null;){if(z===f){z=null;break}if(k=z.sibling,k!==null){k.return=z.return,z=k;break}z=z.return}k=z}Za(c,f,T.children,x),f=f.child}return f;case 9:return T=f.type,j=f.pendingProps.children,Du(f,x),T=si(T),j=j(T),f.flags|=1,Za(c,f,j,x),f.child;case 14:return j=f.type,T=Di(j,f.pendingProps),T=Di(j.type,T),Kk(c,f,j,T,x);case 15:return qk(c,f,f.type,f.pendingProps,x);case 17:return j=f.type,T=f.pendingProps,T=f.elementType===j?T:Di(j,T),wg(c,f),f.tag=1,hs(j)?(c=!0,ig(f)):c=!1,Du(f,x),Lk(f,j,T),z1(f,j,T,x),V1(null,f,j,!0,c,x);case 19:return eO(c,f,x);case 22:return Wk(c,f,x)}throw Error(r(156,f.tag))};function wO(c,f){return Lt(c,f)}function lW(c,f,x,j){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(c,f,x,j){return new lW(c,f,x,j)}function mN(c){return c=c.prototype,!(!c||!c.isReactComponent)}function cW(c){if(typeof c=="function")return mN(c)?1:0;if(c!=null){if(c=c.$$typeof,c===$)return 11;if(c===G)return 14}return 2}function vc(c,f){var x=c.alternate;return x===null?(x=li(c.tag,f,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=f,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,f=c.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function Mg(c,f,x,j,T,k){var z=2;if(j=c,typeof c=="function")mN(c)&&(z=1);else if(typeof c=="string")z=5;else e:switch(c){case O:return Cd(x.children,T,k,f);case D:z=8,T|=8;break;case R:return c=li(12,x,f,T|2),c.elementType=R,c.lanes=k,c;case U:return c=li(13,x,f,T),c.elementType=U,c.lanes=k,c;case P:return c=li(19,x,f,T),c.elementType=P,c.lanes=k,c;case M:return Ig(x,T,k,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case K:z=10;break e;case H:z=9;break e;case $:z=11;break e;case G:z=14;break e;case L:z=16,j=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return f=li(z,x,f,T),f.elementType=c,f.type=j,f.lanes=k,f}function Cd(c,f,x,j){return c=li(7,c,j,f),c.lanes=x,c}function Ig(c,f,x,j){return c=li(22,c,j,f),c.elementType=M,c.lanes=x,c.stateNode={isHidden:!1},c}function hN(c,f,x){return c=li(6,c,null,f),c.lanes=x,c}function gN(c,f,x){return f=li(4,c.children!==null?c.children:[],c.key,f),f.lanes=x,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function dW(c,f,x,j,T){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ws(0),this.expirationTimes=Ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.identifierPrefix=j,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function xN(c,f,x,j,T,k,z,re,oe){return c=new dW(c,f,x,re,oe),f===1?(f=1,k===!0&&(f|=8)):f=0,k=li(3,null,null,f),c.current=k,k.stateNode=c,k.memoizedState={element:j,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},k1(k),c}function uW(c,f,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:j==null?null:""+j,children:c,containerInfo:f,implementation:x}}function EO(c){if(!c)return uc;c=c._reactInternals;e:{if(lr(c)!==c||c.tag!==1)throw Error(r(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(hs(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(r(171))}if(c.tag===1){var x=c.type;if(hs(x))return J3(c,x,f)}return f}function AO(c,f,x,j,T,k,z,re,oe){return c=xN(x,j,!0,c,T,k,z,re,oe),c.context=EO(null),x=c.current,j=Ja(),T=bc(x),k=pl(j,T),k.callback=f??null,mc(x,k,T),c.current.lanes=T,cn(c,T,j),bs(c,j),c}function Lg(c,f,x,j){var T=f.current,k=Ja(),z=bc(T);return x=EO(x),f.context===null?f.context=x:f.pendingContext=x,f=pl(k,z),f.payload={element:c},j=j===void 0?null:j,j!==null&&(f.callback=j),c=mc(T,f,z),c!==null&&(Li(c,T,z,k),mg(c,T,z)),z}function $g(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function _O(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<f?x:f}}function bN(c,f){_O(c,f),(c=c.alternate)&&_O(c,f)}function fW(){return null}var CO=typeof reportError=="function"?reportError:function(c){console.error(c)};function yN(c){this._internalRoot=c}Fg.prototype.render=yN.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));Lg(c,f,null,null)},Fg.prototype.unmount=yN.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;Ed(function(){Lg(null,c,null,null)}),f[ll]=null}};function Fg(c){this._internalRoot=c}Fg.prototype.unstable_scheduleHydration=function(c){if(c){var f=ie();c={blockedOn:null,target:c,priority:f};for(var x=0;x<Br.length&&f!==0&&f<Br[x].priority;x++);Br.splice(x,0,c),x===0&&Xl(c)}};function vN(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Bg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function TO(){}function pW(c,f,x,j,T){if(T){if(typeof j=="function"){var k=j;j=function(){var _e=$g(z);k.call(_e)}}var z=AO(f,j,c,0,null,!1,!1,"",TO);return c._reactRootContainer=z,c[ll]=z.current,fe(c.nodeType===8?c.parentNode:c),Ed(),z}for(;T=c.lastChild;)c.removeChild(T);if(typeof j=="function"){var re=j;j=function(){var _e=$g(oe);re.call(_e)}}var oe=xN(c,0,!1,null,null,!1,!1,"",TO);return c._reactRootContainer=oe,c[ll]=oe.current,fe(c.nodeType===8?c.parentNode:c),Ed(function(){Lg(f,oe,x,j)}),oe}function Ug(c,f,x,j,T){var k=x._reactRootContainer;if(k){var z=k;if(typeof T=="function"){var re=T;T=function(){var oe=$g(z);re.call(oe)}}Lg(f,z,c,T)}else z=pW(x,f,c,T,j);return $g(z)}Ys=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var x=Va(f.pendingLanes);x!==0&&(Vs(f,x|1),bs(f,Tr()),(kr&6)===0&&(Fu=Tr()+500,fc()))}break;case 13:Ed(function(){var j=fl(c,1);if(j!==null){var T=Ja();Li(j,c,1,T)}}),bN(c,1)}},fr=function(c){if(c.tag===13){var f=fl(c,134217728);if(f!==null){var x=Ja();Li(f,c,134217728,x)}bN(c,134217728)}},W=function(c){if(c.tag===13){var f=bc(c),x=fl(c,f);if(x!==null){var j=Ja();Li(x,c,f,j)}bN(c,f)}},ie=function(){return Jt},Re=function(c,f){var x=Jt;try{return Jt=c,f()}finally{Jt=x}},ot=function(c,f,x){switch(f){case"input":if(ce(c,x),f=x.name,x.type==="radio"&&f!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<x.length;f++){var j=x[f];if(j!==c&&j.form===c.form){var T=ag(j);if(!T)throw Error(r(90));se(j),ce(j,T)}}}break;case"textarea":or(c,x);break;case"select":f=x.value,f!=null&&Dt(c,!!x.multiple,f,!1)}},Ft=uN,hr=Ed;var mW={usingClientEntryPoint:!1,Events:[xm,Au,ag,Be,Qe,uN]},Om={findFiberByHostInstance:xd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hW={bundleType:Om.bundleType,version:Om.version,rendererPackageName:Om.rendererPackageName,rendererConfig:Om.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Ar(c),c===null?null:c.stateNode},findFiberByHostInstance:Om.findFiberByHostInstance||fW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hg.isDisabled&&Hg.supportsFiber)try{Nn=Hg.inject(hW),Wr=Hg}catch{}}return ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mW,ys.createPortal=function(c,f){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vN(f))throw Error(r(200));return uW(c,f,null,x)},ys.createRoot=function(c,f){if(!vN(c))throw Error(r(299));var x=!1,j="",T=CO;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(j=f.identifierPrefix),f.onRecoverableError!==void 0&&(T=f.onRecoverableError)),f=xN(c,1,!1,null,null,x,!1,j,T),c[ll]=f.current,fe(c.nodeType===8?c.parentNode:c),new yN(f)},ys.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Ar(f),c=c===null?null:c.stateNode,c},ys.flushSync=function(c){return Ed(c)},ys.hydrate=function(c,f,x){if(!Bg(f))throw Error(r(200));return Ug(null,c,f,!0,x)},ys.hydrateRoot=function(c,f,x){if(!vN(c))throw Error(r(405));var j=x!=null&&x.hydratedSources||null,T=!1,k="",z=CO;if(x!=null&&(x.unstable_strictMode===!0&&(T=!0),x.identifierPrefix!==void 0&&(k=x.identifierPrefix),x.onRecoverableError!==void 0&&(z=x.onRecoverableError)),f=AO(f,null,c,1,x??null,T,!1,k,z),c[ll]=f.current,fe(c),j)for(c=0;c<j.length;c++)x=j[c],T=x._getVersion,T=T(x._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[x,T]:f.mutableSourceEagerHydrationData.push(x,T);return new Fg(f)},ys.render=function(c,f,x){if(!Bg(f))throw Error(r(200));return Ug(null,c,f,!1,x)},ys.unmountComponentAtNode=function(c){if(!Bg(c))throw Error(r(40));return c._reactRootContainer?(Ed(function(){Ug(null,null,c,!1,function(){c._reactRootContainer=null,c[ll]=null})}),!0):!1},ys.unstable_batchedUpdates=uN,ys.unstable_renderSubtreeIntoContainer=function(c,f,x,j){if(!Bg(x))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return Ug(c,f,x,!1,j)},ys.version="18.3.1-next-f1338f8080-20240426",ys}var VO;function D8(){if(VO)return wN.exports;VO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wN.exports=sV(),wN.exports}var YO;function iV(){if(YO)return Kg;YO=1;var e=D8();return Kg.createRoot=e.createRoot,Kg.hydrateRoot=e.hydrateRoot,Kg}var oV=iV();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),XO=e=>{const t=cV(e);return t.charAt(0).toUpperCase()+t.slice(1)},M8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},d)=>g.createElement("svg",{ref:d,...dV,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:M8("lucide",s),...l},[...o.map(([u,m])=>g.createElement(u,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>{const r=g.forwardRef(({className:n,...s},i)=>g.createElement(uV,{ref:i,iconNode:t,className:M8(`lucide-${lV(XO(e))}`,`lucide-${e}`,n),...s}));return r.displayName=XO(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zy=Fe("activity",fV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],I8=Fe("arrow-down-right",pV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Eo=Fe("arrow-left",mV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],gV=Fe("arrow-right-left",hV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dh=Fe("arrow-right",xV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],yV=Fe("arrow-up-down",bV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],L8=Fe("arrow-up-right",vV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],SV=Fe("ban",NV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ap=Fe("bell",jV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],EV=Fe("bell-ring",wV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_V=Fe("book-open",AV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],TV=Fe("bookmark-check",CV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],OV=Fe("bookmark",kV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],$8=Fe("bot",RV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],DV=Fe("box",PV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Mh=Fe("brain",MV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],bf=Fe("building-2",IV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],wT=Fe("calendar-clock",LV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],FV=Fe("calendar-days",$V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wi=Fe("calendar",BV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Rf=Fe("chart-column",UV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qd=Fe("check",HV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],za=Fe("chevron-down",GV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pf=Fe("chevron-left",zV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hs=Fe("chevron-right",KV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$l=Fe("chevron-up",qV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zn=Fe("circle-alert",WV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]],Df=Fe("circle-arrow-right",VV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vi=Fe("circle-check-big",YV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ws=Fe("circle-check",XV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ZV=Fe("circle-dot",QV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LA=Fe("circle-help",JV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],tY=Fe("circle-pause",eY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],nY=Fe("circle-user",rY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mf=Fe("circle-x",aY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iY=Fe("circle",sY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],ET=Fe("clipboard-check",oY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],AT=Fe("clipboard-list",lY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],Ky=Fe("clock-3",cY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Fo=Fe("clock",dY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fY=Fe("copy",uY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],F8=Fe("cpu",pY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ql=Fe("database",mY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],yf=Fe("download",hY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sa=Fe("external-link",gY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$A=Fe("eye-off",xY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],If=Fe("eye",bY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],vY=Fe("file-pen-line",yY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],SY=Fe("file-search",NY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],wY=Fe("file-spreadsheet",jY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zd=Fe("file-text",EY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Lf=Fe("funnel",AY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],CY=Fe("gauge",_Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],kY=Fe("git-compare",TY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],RY=Fe("heart",OY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Gn=Fe("history",PY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]],MY=Fe("hospital",DY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],_p=Fe("house",IY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$f=Fe("info",LY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ff=Fe("layers",$Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],A0=Fe("layout-dashboard",FY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],UY=Fe("layout-template",BY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],B8=Fe("link-2",HY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],FA=Fe("link",GY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zc=Fe("lock",zY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],_T=Fe("log-out",KY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],WY=Fe("mail",qY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sb=Fe("map-pin",VY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],CT=Fe("menu",YY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],wi=Fe("message-square",XY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"M5 12h14",key:"1ays0h"}]],ZY=Fe("minus",QY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],eX=Fe("notebook-text",JY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],TT=Fe("package",tX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],nX=Fe("palette",rX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],sX=Fe("pen-line",aX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]],BA=Fe("phone-call",iX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],as=Fe("phone",oX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],U8=Fe("plus",lX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],QO=Fe("refresh-cw",cX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],uX=Fe("rocket",dX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],pX=Fe("rotate-ccw",fX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kT=Fe("save",mX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],_0=Fe("search",hX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ih=Fe("send",gX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],H8=Fe("settings-2",xX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C0=Fe("settings",bX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],G8=Fe("shield-alert",yX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wo=Fe("shield-check",vX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yi=Fe("shield",NX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]],jX=Fe("sigma",SX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],z8=Fe("sliders-vertical",wX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ib=Fe("sparkles",EX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],_X=Fe("star-off",AX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],TX=Fe("star",CX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],OX=Fe("stethoscope",kX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],K8=Fe("timer",RX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],DX=Fe("trash-2",PX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],q8=Fe("trending-up",MX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ka=Fe("triangle-alert",IX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],sh=Fe("user-check",LX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],FX=Fe("user-round-check",$X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],_N=Fe("user-x",BX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vo=Fe("user",UX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Bo=Fe("users",HX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],OT=Fe("workflow",GX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ed=Fe("x",zX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nh=Fe("zap",KX),W8="/neuro-shield/logo.png";function RT({size:e=40,className:t="",showText:r=!1,textColor:n,subtitle:s,subtitleColor:i,variant:o="dark"}){const l=n||(o==="dark"?"#ffffff":"#1e293b"),d=i||(o==="dark"?"#94a3b8":"#64748b");return a.jsxs("div",{className:`flex items-center gap-2.5 ${t}`,children:[a.jsx("img",{src:W8,alt:"Neuro-Shield",width:e,height:e,className:"shrink-0 object-contain",draggable:!1}),r&&a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"font-bold text-sm leading-tight truncate",style:{color:l},children:"Neuro-Shield"}),s&&a.jsx("p",{className:"text-[10px] leading-tight truncate",style:{color:d},children:s})]})]})}function qX({size:e=80,className:t=""}){return a.jsxs("div",{className:`flex flex-col items-center ${t}`,children:[a.jsx("img",{src:W8,alt:"Neuro-Shield",width:e,height:e,className:"object-contain",draggable:!1}),a.jsx("h1",{className:"mt-4 text-4xl font-bold bg-gradient-to-r from-blue-700 via-teal-600 to-teal-500 bg-clip-text text-transparent",children:"Neuro-Shield"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"    "})]})}function V8(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=V8(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rr(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=V8(e))&&(n&&(n+=" "),n+=t);return n}const WX=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},VX=(e,t)=>({classGroupId:e,validator:t}),Y8=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),ob="-",ZO=[],YX="arbitrary..",XX=e=>{const t=ZX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return QX(o);const l=o.split(ob),d=l[0]===""&&l.length>1?1:0;return X8(l,d,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const d=n[o],u=r[o];return d?u?WX(u,d):d:u||ZO}return r[o]||ZO}}},X8=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],i=r.nextPart.get(s);if(i){const u=X8(e,t+1,i);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(ob):e.slice(t).join(ob),d=o.length;for(let u=0;u<d;u++){const m=o[u];if(m.validator(l))return m.classGroupId}},QX=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?YX+n:void 0})(),ZX=e=>{const{theme:t,classGroups:r}=e;return JX(r,t)},JX=(e,t)=>{const r=Y8();for(const n in e){const s=e[n];PT(s,r,n,t)}return r},PT=(e,t,r,n)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];eQ(o,t,r,n)}},eQ=(e,t,r,n)=>{if(typeof e=="string"){tQ(e,t,r);return}if(typeof e=="function"){rQ(e,t,r,n);return}nQ(e,t,r,n)},tQ=(e,t,r)=>{const n=e===""?t:Q8(t,e);n.classGroupId=r},rQ=(e,t,r,n)=>{if(aQ(e)){PT(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(VX(r,e))},nQ=(e,t,r,n)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[l,d]=s[o];PT(d,Q8(t,l),r,n)}},Q8=(e,t)=>{let r=e;const n=t.split(ob),s=n.length;for(let i=0;i<s;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=Y8(),r.nextPart.set(o,l)),r=l}return r},aQ=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,sQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const s=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return s(i,o),o},set(i,o){i in r?r[i]=o:s(i,o)}}},UA="!",JO=":",iQ=[],eR=(e,t,r,n,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),oQ=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const i=[];let o=0,l=0,d=0,u;const m=s.length;for(let N=0;N<m;N++){const y=s[N];if(o===0&&l===0){if(y===JO){i.push(s.slice(d,N)),d=N+1;continue}if(y==="/"){u=N;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const p=i.length===0?s:s.slice(d);let h=p,b=!1;p.endsWith(UA)?(h=p.slice(0,-1),b=!0):p.startsWith(UA)&&(h=p.slice(1),b=!0);const v=u&&u>d?u-d:void 0;return eR(i,b,h,v)};if(t){const s=t+JO,i=n;n=o=>o.startsWith(s)?i(o.slice(s.length)):eR(iQ,!1,o,void 0,!0)}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},lQ=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let s=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",d=t.has(o);l||d?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(o)):s.push(o)}return s.length>0&&(s.sort(),n.push(...s)),n}},cQ=e=>({cache:sQ(e.cacheSize),parseClassName:oQ(e),sortModifiers:lQ(e),...XX(e)}),dQ=/\s+/,uQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],l=e.trim().split(dQ);let d="";for(let u=l.length-1;u>=0;u-=1){const m=l[u],{isExternal:p,modifiers:h,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:N}=r(m);if(p){d=m+(d.length>0?" "+d:d);continue}let y=!!N,S=n(y?v.substring(0,N):v);if(!S){if(!y){d=m+(d.length>0?" "+d:d);continue}if(S=n(v),!S){d=m+(d.length>0?" "+d:d);continue}y=!1}const w=h.length===0?"":h.length===1?h[0]:i(h).join(":"),_=b?w+UA:w,A=_+S;if(o.indexOf(A)>-1)continue;o.push(A);const E=s(S,y);for(let C=0;C<E.length;++C){const O=E[C];o.push(_+O)}d=m+(d.length>0?" "+d:d)}return d},fQ=(...e)=>{let t=0,r,n,s="";for(;t<e.length;)(r=e[t++])&&(n=Z8(r))&&(s&&(s+=" "),s+=n);return s},Z8=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Z8(e[n]))&&(r&&(r+=" "),r+=t);return r},pQ=(e,...t)=>{let r,n,s,i;const o=d=>{const u=t.reduce((m,p)=>p(m),e());return r=cQ(u),n=r.cache.get,s=r.cache.set,i=l,l(d)},l=d=>{const u=n(d);if(u)return u;const m=uQ(d,r);return s(d,m),m};return i=o,(...d)=>i(fQ(...d))},mQ=[],Qn=e=>{const t=r=>r[e]||mQ;return t.isThemeGetter=!0,t},J8=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eF=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hQ=/^\d+\/\d+$/,gQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uu=e=>hQ.test(e),pr=e=>!!e&&!Number.isNaN(Number(e)),Sc=e=>!!e&&Number.isInteger(Number(e)),CN=e=>e.endsWith("%")&&pr(e.slice(0,-1)),gl=e=>gQ.test(e),NQ=()=>!0,SQ=e=>xQ.test(e)&&!bQ.test(e),tF=()=>!1,jQ=e=>yQ.test(e),wQ=e=>vQ.test(e),EQ=e=>!yt(e)&&!vt(e),AQ=e=>Cp(e,aF,tF),yt=e=>J8.test(e),Td=e=>Cp(e,sF,SQ),TN=e=>Cp(e,OQ,pr),tR=e=>Cp(e,rF,tF),_Q=e=>Cp(e,nF,wQ),qg=e=>Cp(e,iF,jQ),vt=e=>eF.test(e),Pm=e=>Tp(e,sF),CQ=e=>Tp(e,RQ),rR=e=>Tp(e,rF),TQ=e=>Tp(e,aF),kQ=e=>Tp(e,nF),Wg=e=>Tp(e,iF,!0),Cp=(e,t,r)=>{const n=J8.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Tp=(e,t,r=!1)=>{const n=eF.exec(e);return n?n[1]?t(n[1]):r:!1},rF=e=>e==="position"||e==="percentage",nF=e=>e==="image"||e==="url",aF=e=>e==="length"||e==="size"||e==="bg-size",sF=e=>e==="length",OQ=e=>e==="number",RQ=e=>e==="family-name",iF=e=>e==="shadow",PQ=()=>{const e=Qn("color"),t=Qn("font"),r=Qn("text"),n=Qn("font-weight"),s=Qn("tracking"),i=Qn("leading"),o=Qn("breakpoint"),l=Qn("container"),d=Qn("spacing"),u=Qn("radius"),m=Qn("shadow"),p=Qn("inset-shadow"),h=Qn("text-shadow"),b=Qn("drop-shadow"),v=Qn("blur"),N=Qn("perspective"),y=Qn("aspect"),S=Qn("ease"),w=Qn("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...A(),vt,yt],C=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],D=()=>[vt,yt,d],R=()=>[Uu,"full","auto",...D()],K=()=>[Sc,"none","subgrid",vt,yt],H=()=>["auto",{span:["full",Sc,vt,yt]},Sc,vt,yt],$=()=>[Sc,"auto",vt,yt],U=()=>["auto","min","max","fr",vt,yt],P=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...D()],M=()=>[Uu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],B=()=>[e,vt,yt],J=()=>[...A(),rR,tR,{position:[vt,yt]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",TQ,AQ,{size:[vt,yt]}],Y=()=>[CN,Pm,Td],ae=()=>["","none","full",u,vt,yt],le=()=>["",pr,Pm,Td],he=()=>["solid","dashed","dotted","double"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[pr,CN,rR,tR],ve=()=>["","none",v,vt,yt],pe=()=>["none",pr,vt,yt],Ce=()=>["none",pr,vt,yt],ge=()=>[pr,vt,yt],se=()=>[Uu,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gl],breakpoint:[gl],color:[NQ],container:[gl],"drop-shadow":[gl],ease:["in","out","in-out"],font:[EQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gl],shadow:[gl],spacing:["px",pr],text:[gl],"text-shadow":[gl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uu,yt,vt,y]}],container:["container"],columns:[{columns:[pr,yt,vt,l]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Sc,"auto",vt,yt]}],basis:[{basis:[Uu,"full","auto",l,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pr,Uu,"auto","initial","none",yt]}],grow:[{grow:["",pr,vt,yt]}],shrink:[{shrink:["",pr,vt,yt]}],order:[{order:[Sc,"first","last","none",vt,yt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...P(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...P()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":P()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[l,"screen",...M()]}],"min-w":[{"min-w":[l,"screen","none",...M()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",r,Pm,Td]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,vt,TN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",CN,yt]}],"font-family":[{font:[CQ,yt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,vt,yt]}],"line-clamp":[{"line-clamp":[pr,"none",vt,TN]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",vt,yt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",vt,yt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[pr,"from-font","auto",vt,Td]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[pr,"auto",vt,yt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vt,yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vt,yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sc,vt,yt],radial:["",vt,yt],conic:[Sc,vt,yt]},kQ,_Q]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pr,vt,yt]}],"outline-w":[{outline:["",pr,Pm,Td]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",m,Wg,qg]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",p,Wg,qg]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[pr,Td]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",h,Wg,qg]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[pr,vt,yt]}],"mix-blend":[{"mix-blend":[...X(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":X()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pr]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[vt,yt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[pr]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",vt,yt]}],filter:[{filter:["","none",vt,yt]}],blur:[{blur:ve()}],brightness:[{brightness:[pr,vt,yt]}],contrast:[{contrast:[pr,vt,yt]}],"drop-shadow":[{"drop-shadow":["","none",b,Wg,qg]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",pr,vt,yt]}],"hue-rotate":[{"hue-rotate":[pr,vt,yt]}],invert:[{invert:["",pr,vt,yt]}],saturate:[{saturate:[pr,vt,yt]}],sepia:[{sepia:["",pr,vt,yt]}],"backdrop-filter":[{"backdrop-filter":["","none",vt,yt]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[pr,vt,yt]}],"backdrop-contrast":[{"backdrop-contrast":[pr,vt,yt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pr,vt,yt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pr,vt,yt]}],"backdrop-invert":[{"backdrop-invert":["",pr,vt,yt]}],"backdrop-opacity":[{"backdrop-opacity":[pr,vt,yt]}],"backdrop-saturate":[{"backdrop-saturate":[pr,vt,yt]}],"backdrop-sepia":[{"backdrop-sepia":["",pr,vt,yt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",vt,yt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pr,"initial",vt,yt]}],ease:[{ease:["linear","initial",S,vt,yt]}],delay:[{delay:[pr,vt,yt]}],animate:[{animate:["none",w,vt,yt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,vt,yt]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[vt,yt,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vt,yt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vt,yt]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[pr,Pm,Td,TN]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DQ=pQ(PQ);function ue(...e){return DQ(rr(e))}function Nr({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:ue("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function pn({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:ue("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function mn({className:e,...t}){return a.jsx("h4",{"data-slot":"card-title",className:ue("leading-none",e),...t})}function Co({className:e,...t}){return a.jsx("p",{"data-slot":"card-description",className:ue("text-muted-foreground",e),...t})}function Sr({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:ue("px-6 [&:last-child]:pb-6",e),...t})}function nR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uu(...e){return t=>{let r=!1;const n=e.map(s=>{const i=nR(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():nR(e[s],null)}}}}function yr(...e){return g.useCallback(uu(...e),e)}var MQ=Symbol.for("react.lazy"),lb=jT[" use ".trim().toString()];function IQ(e){return typeof e=="object"&&e!==null&&"then"in e}function oF(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===MQ&&"_payload"in e&&IQ(e._payload)}function qy(e){const t=LQ(e),r=g.forwardRef((n,s)=>{let{children:i,...o}=n;oF(i)&&typeof lb=="function"&&(i=lb(i._payload));const l=g.Children.toArray(i),d=l.find(FQ);if(d){const u=d.props.children,m=l.map(p=>p===d?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,m):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var lF=qy("Slot");function LQ(e){const t=g.forwardRef((r,n)=>{let{children:s,...i}=r;if(oF(s)&&typeof lb=="function"&&(s=lb(s._payload)),g.isValidElement(s)){const o=UQ(s),l=BQ(i,s.props);return s.type!==g.Fragment&&(l.ref=n?uu(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $Q=Symbol("radix.slottable");function FQ(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$Q}function BQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function UQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const aR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sR=rr,DT=(e,t)=>r=>{var n;if(t?.variants==null)return sR(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const m=r?.[u],p=i?.[u];if(m===null)return null;const h=aR(m)||aR(p);return s[u][h]}),l=r&&Object.entries(r).reduce((u,m)=>{let[p,h]=m;return h===void 0||(u[p]=h),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,m)=>{let{class:p,className:h,...b}=m;return Object.entries(b).every(v=>{let[N,y]=v;return Array.isArray(y)?y.includes({...i,...l}[N]):{...i,...l}[N]===y})?[...u,p,h]:u},[]);return sR(e,o,d,r?.class,r?.className)},HQ=DT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function dt({className:e,variant:t,size:r,asChild:n=!1,...s}){const i=n?lF:"button";return a.jsx(i,{"data-slot":"button",className:ue(HQ({variant:t,size:r,className:e})),...s})}function Cr({className:e,type:t,...r}){return a.jsx("input",{type:t,"data-slot":"input",className:ue("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var kp=D8();const cF=$r(kp);var GQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zQ=GQ.reduce((e,t)=>{const r=qy(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),KQ="Label",dF=g.forwardRef((e,t)=>a.jsx(zQ.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));dF.displayName=KQ;var qQ=dF;function At({className:e,...t}){return a.jsx(qQ,{"data-slot":"label",className:ue("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function WQ(e,t){const r=g.createContext(t),n=i=>{const{children:o,...l}=i,d=g.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:d,children:o})};n.displayName=e+"Provider";function s(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Ai(e,t=[]){let r=[];function n(i,o){const l=g.createContext(o),d=r.length;r=[...r,o];const u=p=>{const{scope:h,children:b,...v}=p,N=h?.[e]?.[d]||l,y=g.useMemo(()=>v,Object.values(v));return a.jsx(N.Provider,{value:y,children:b})};u.displayName=i+"Provider";function m(p,h){const b=h?.[e]?.[d]||l,v=g.useContext(b);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,m]}const s=()=>{const i=r.map(o=>g.createContext(o));return function(l){const d=l?.[e]||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return s.scopeName=e,[n,VQ(s,...t)]}function VQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:d,scopeName:u})=>{const p=d(i)[`__scope${u}`];return{...l,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ot(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}var qn=globalThis?.document?g.useLayoutEffect:()=>{},YQ=jT[" useInsertionEffect ".trim().toString()]||qn;function Fl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=XQ({defaultProp:t,onChange:r}),l=e!==void 0,d=l?e:s;{const m=g.useRef(e!==void 0);g.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,n])}const u=g.useCallback(m=>{if(l){const p=QQ(m)?m(e):m;p!==e&&o.current?.(p)}else i(m)},[l,e,i,o]);return[d,u]}function XQ({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),s=g.useRef(r),i=g.useRef(t);return YQ(()=>{i.current=t},[t]),g.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,n,i]}function QQ(e){return typeof e=="function"}function MT(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function IT(e){const[t,r]=g.useState(void 0);return qn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function ZQ(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var is=e=>{const{present:t,children:r}=e,n=JQ(t),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=yr(n.ref,eZ(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};is.displayName="Presence";function JQ(e){const[t,r]=g.useState(),n=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,d]=ZQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Vg(n.current);i.current=l==="mounted"?u:"none"},[l]),qn(()=>{const u=n.current,m=s.current;if(m!==e){const h=i.current,b=Vg(u);e?d("MOUNT"):b==="none"||u?.display==="none"?d("UNMOUNT"):d(m&&h!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),qn(()=>{if(t){let u;const m=t.ownerDocument.defaultView??window,p=b=>{const N=Vg(n.current).includes(CSS.escape(b.animationName));if(b.target===t&&N&&(d("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=b=>{b.target===t&&(i.current=Vg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Vg(e){return e?.animationName||"none"}function eZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tZ(e){const t=rZ(e),r=g.forwardRef((n,s)=>{const{children:i,...o}=n,l=g.Children.toArray(i),d=l.find(aZ);if(d){const u=d.props.children,m=l.map(p=>p===d?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,m):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function rZ(e){const t=g.forwardRef((r,n)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const o=iZ(s),l=sZ(i,s.props);return s.type!==g.Fragment&&(l.ref=n?uu(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nZ=Symbol("radix.slottable");function aZ(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nZ}function sZ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function iZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nr=oZ.reduce((e,t)=>{const r=tZ(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lZ(e,t){e&&kp.flushSync(()=>e.dispatchEvent(t))}var Wy="Checkbox",[cZ]=Ai(Wy),[dZ,LT]=cZ(Wy);function uZ(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:d,required:u,value:m="on",internal_do_not_use_render:p}=e,[h,b]=Fl({prop:r,defaultProp:s??!1,onChange:d,caller:Wy}),[v,N]=g.useState(null),[y,S]=g.useState(null),w=g.useRef(!1),_=v?!!o||!!v.closest("form"):!0,A={checked:h,disabled:i,setChecked:b,control:v,setControl:N,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Kc(s)?!1:s,isFormControl:_,bubbleInput:y,setBubbleInput:S};return a.jsx(dZ,{scope:t,...A,children:fZ(p)?p(A):n})}var uF="CheckboxTrigger",fF=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:d,required:u,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:h,isFormControl:b,bubbleInput:v}=LT(uF,e),N=yr(s,m),y=g.useRef(d);return g.useEffect(()=>{const S=i?.form;if(S){const w=()=>p(y.current);return S.addEventListener("reset",w),()=>S.removeEventListener("reset",w)}},[i,p]),a.jsx(nr.button,{type:"button",role:"checkbox","aria-checked":Kc(d)?"mixed":d,"aria-required":u,"data-state":bF(d),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:N,onKeyDown:Ot(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ot(r,S=>{p(w=>Kc(w)?!0:!w),v&&b&&(h.current=S.isPropagationStopped(),h.current||S.stopPropagation())})})});fF.displayName=uF;var pF=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:u,form:m,...p}=e;return a.jsx(uZ,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:m,value:d,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(fF,{...p,ref:t,__scopeCheckbox:r}),h&&a.jsx(xF,{__scopeCheckbox:r})]})})});pF.displayName=Wy;var mF="CheckboxIndicator",hF=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=LT(mF,r);return a.jsx(is,{present:n||Kc(i.checked)||i.checked===!0,children:a.jsx(nr.span,{"data-state":bF(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});hF.displayName=mF;var gF="CheckboxBubbleInput",xF=g.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:d,name:u,value:m,form:p,bubbleInput:h,setBubbleInput:b}=LT(gF,e),v=yr(r,b),N=MT(i),y=IT(n);g.useEffect(()=>{const w=h;if(!w)return;const _=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(_,"checked").set,C=!s.current;if(N!==i&&E){const O=new Event("click",{bubbles:C});w.indeterminate=Kc(i),E.call(w,Kc(i)?!1:i),w.dispatchEvent(O)}},[h,N,i,s]);const S=g.useRef(Kc(i)?!1:i);return a.jsx(nr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:l,disabled:d,name:u,value:m,form:p,...t,tabIndex:-1,ref:v,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xF.displayName=gF;function fZ(e){return typeof e=="function"}function Kc(e){return e==="indeterminate"}function bF(e){return Kc(e)?"indeterminate":e?"checked":"unchecked"}function Ux({className:e,...t}){return a.jsx(pF,{"data-slot":"checkbox",className:ue("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(hF,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Qd,{className:"size-3.5"})})})}const pZ=DT("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function vf({className:e,variant:t,...r}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:ue(pZ({variant:t}),e),...r})}function Nf({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:ue("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function mZ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const hZ=e=>{switch(e){case"success":return bZ;case"info":return vZ;case"warning":return yZ;case"error":return NZ;default:return null}},gZ=Array(12).fill(0),xZ=({visible:e,className:t})=>q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},q.createElement("div",{className:"sonner-spinner"},gZ.map((r,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),bZ=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yZ=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vZ=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NZ=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SZ=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jZ=()=>{const[e,t]=q.useState(document.hidden);return q.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let HA=1;class wZ{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:HA++,o=this.toasts.find(d=>d.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:l,title:n}):d):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=s.then(async u=>{if(o=["resolve",u],q.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(AZ(u)&&!u.ok){i=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,v=typeof p=="object"&&!q.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,...v})}else if(u instanceof Error){i=!1;const p=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,v=typeof p=="object"&&!q.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,...v})}else if(r.success!==void 0){i=!1;const p=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,v=typeof p=="object"&&!q.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:h,...v})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,b=typeof m=="object"&&!q.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...b})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((u,m)=>l.then(()=>o[0]==="reject"?m(o[1]):u(o[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||HA++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ns=new wZ,EZ=(e,t)=>{const r=t?.id||HA++;return Ns.addToast({title:e,...t,id:r}),r},AZ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_Z=EZ,CZ=()=>Ns.toasts,TZ=()=>Ns.getActiveToasts(),Le=Object.assign(_Z,{success:Ns.success,info:Ns.info,warning:Ns.warning,error:Ns.error,custom:Ns.custom,message:Ns.message,promise:Ns.promise,dismiss:Ns.dismiss,loading:Ns.loading},{getHistory:CZ,getToasts:TZ});mZ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Yg(e){return e.label!==void 0}const kZ=3,OZ="24px",RZ="16px",iR=4e3,PZ=356,DZ=14,MZ=45,IZ=200;function vo(...e){return e.filter(Boolean).join(" ")}function LZ(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const $Z=e=>{var t,r,n,s,i,o,l,d,u;const{invert:m,toast:p,unstyled:h,interacting:b,setHeights:v,visibleToasts:N,heights:y,index:S,toasts:w,expanded:_,removeToast:A,defaultRichColors:E,closeButton:C,style:O,cancelButtonStyle:D,actionButtonStyle:R,className:K="",descriptionClassName:H="",duration:$,position:U,gap:P,expandByDefault:G,classNames:L,icons:M,closeButtonAriaLabel:B="Close toast"}=e,[J,ee]=q.useState(null),[I,Y]=q.useState(null),[ae,le]=q.useState(!1),[he,X]=q.useState(!1),[ne,ve]=q.useState(!1),[pe,Ce]=q.useState(!1),[ge,se]=q.useState(!1),[Ze,V]=q.useState(0),[de,Ae]=q.useState(0),ce=q.useRef(p.duration||$||iR),ye=q.useRef(null),Ie=q.useRef(null),Ct=S===0,Dt=S+1<=N,ze=p.type,$e=p.dismissible!==!1,or=p.className||"",Vt=p.descriptionClassName||"",hn=q.useMemo(()=>y.findIndex(Be=>Be.toastId===p.id)||0,[y,p.id]),zr=q.useMemo(()=>{var Be;return(Be=p.closeButton)!=null?Be:C},[p.closeButton,C]),Rt=q.useMemo(()=>p.duration||$||iR,[p.duration,$]),mr=q.useRef(0),ar=q.useRef(0),Fr=q.useRef(0),Mr=q.useRef(null),[jr,Or]=U.split("-"),ur=q.useMemo(()=>y.reduce((Be,Qe,Ft)=>Ft>=hn?Be:Be+Qe.height,0),[y,hn]),ir=jZ(),xt=p.invert||m,Ue=ze==="loading";ar.current=q.useMemo(()=>hn*P+ur,[hn,ur]),q.useEffect(()=>{ce.current=Rt},[Rt]),q.useEffect(()=>{le(!0)},[]),q.useEffect(()=>{const Be=Ie.current;if(Be){const Qe=Be.getBoundingClientRect().height;return Ae(Qe),v(Ft=>[{toastId:p.id,height:Qe,position:p.position},...Ft]),()=>v(Ft=>Ft.filter(hr=>hr.toastId!==p.id))}},[v,p.id]),q.useLayoutEffect(()=>{if(!ae)return;const Be=Ie.current,Qe=Be.style.height;Be.style.height="auto";const Ft=Be.getBoundingClientRect().height;Be.style.height=Qe,Ae(Ft),v(hr=>hr.find(br=>br.toastId===p.id)?hr.map(br=>br.toastId===p.id?{...br,height:Ft}:br):[{toastId:p.id,height:Ft,position:p.position},...hr])},[ae,p.title,p.description,v,p.id,p.jsx,p.action,p.cancel]);const Mt=q.useCallback(()=>{X(!0),V(ar.current),v(Be=>Be.filter(Qe=>Qe.toastId!==p.id)),setTimeout(()=>{A(p)},IZ)},[p,A,v,ar]);q.useEffect(()=>{if(p.promise&&ze==="loading"||p.duration===1/0||p.type==="loading")return;let Be;return _||b||ir?(()=>{if(Fr.current<mr.current){const hr=new Date().getTime()-mr.current;ce.current=ce.current-hr}Fr.current=new Date().getTime()})():(()=>{ce.current!==1/0&&(mr.current=new Date().getTime(),Be=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Mt()},ce.current))})(),()=>clearTimeout(Be)},[_,b,p,ze,ir,Mt]),q.useEffect(()=>{p.delete&&(Mt(),p.onDismiss==null||p.onDismiss.call(p,p))},[Mt,p.delete]);function ot(){var Be;if(M?.loading){var Qe;return q.createElement("div",{className:vo(L?.loader,p==null||(Qe=p.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":ze==="loading"},M.loading)}return q.createElement(xZ,{className:vo(L?.loader,p==null||(Be=p.classNames)==null?void 0:Be.loader),visible:ze==="loading"})}const Qt=p.icon||M?.[ze]||hZ(ze);var Ht,Ee;return q.createElement("li",{tabIndex:0,ref:Ie,className:vo(K,or,L?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,L?.default,L?.[ze],p==null||(r=p.classNames)==null?void 0:r[ze]),"data-sonner-toast":"","data-rich-colors":(Ht=p.richColors)!=null?Ht:E,"data-styled":!(p.jsx||p.unstyled||h),"data-mounted":ae,"data-promise":!!p.promise,"data-swiped":ge,"data-removed":he,"data-visible":Dt,"data-y-position":jr,"data-x-position":Or,"data-index":S,"data-front":Ct,"data-swiping":ne,"data-dismissible":$e,"data-type":ze,"data-invert":xt,"data-swipe-out":pe,"data-swipe-direction":I,"data-expanded":!!(_||G&&ae),"data-testid":p.testId,style:{"--index":S,"--toasts-before":S,"--z-index":w.length-S,"--offset":`${he?Ze:ar.current}px`,"--initial-height":G?"auto":`${de}px`,...O,...p.style},onDragEnd:()=>{ve(!1),ee(null),Mr.current=null},onPointerDown:Be=>{Be.button!==2&&(Ue||!$e||(ye.current=new Date,V(ar.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(ve(!0),Mr.current={x:Be.clientX,y:Be.clientY})))},onPointerUp:()=>{var Be,Qe,Ft;if(pe||!$e)return;Mr.current=null;const hr=Number(((Be=Ie.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),at=Number(((Qe=Ie.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),br=new Date().getTime()-((Ft=ye.current)==null?void 0:Ft.getTime()),Ye=J==="x"?hr:at,Yr=Math.abs(Ye)/br;if(Math.abs(Ye)>=MZ||Yr>.11){V(ar.current),p.onDismiss==null||p.onDismiss.call(p,p),Y(J==="x"?hr>0?"right":"left":at>0?"down":"up"),Mt(),Ce(!0);return}else{var Gt,Oe;(Gt=Ie.current)==null||Gt.style.setProperty("--swipe-amount-x","0px"),(Oe=Ie.current)==null||Oe.style.setProperty("--swipe-amount-y","0px")}se(!1),ve(!1),ee(null)},onPointerMove:Be=>{var Qe,Ft,hr;if(!Mr.current||!$e||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;const br=Be.clientY-Mr.current.y,Ye=Be.clientX-Mr.current.x;var Yr;const Gt=(Yr=e.swipeDirections)!=null?Yr:LZ(U);!J&&(Math.abs(Ye)>1||Math.abs(br)>1)&&ee(Math.abs(Ye)>Math.abs(br)?"x":"y");let Oe={x:0,y:0};const Te=rt=>1/(1.5+Math.abs(rt)/20);if(J==="y"){if(Gt.includes("top")||Gt.includes("bottom"))if(Gt.includes("top")&&br<0||Gt.includes("bottom")&&br>0)Oe.y=br;else{const rt=br*Te(br);Oe.y=Math.abs(rt)<Math.abs(br)?rt:br}}else if(J==="x"&&(Gt.includes("left")||Gt.includes("right")))if(Gt.includes("left")&&Ye<0||Gt.includes("right")&&Ye>0)Oe.x=Ye;else{const rt=Ye*Te(Ye);Oe.x=Math.abs(rt)<Math.abs(Ye)?rt:Ye}(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&se(!0),(Ft=Ie.current)==null||Ft.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(hr=Ie.current)==null||hr.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},zr&&!p.jsx&&ze!=="loading"?q.createElement("button",{"aria-label":B,"data-disabled":Ue,"data-close-button":!0,onClick:Ue||!$e?()=>{}:()=>{Mt(),p.onDismiss==null||p.onDismiss.call(p,p)},className:vo(L?.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(Ee=M?.close)!=null?Ee:SZ):null,(ze||p.icon||p.promise)&&p.icon!==null&&(M?.[ze]!==null||p.icon)?q.createElement("div",{"data-icon":"",className:vo(L?.icon,p==null||(s=p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ot():null,p.type!=="loading"?Qt:null):null,q.createElement("div",{"data-content":"",className:vo(L?.content,p==null||(i=p.classNames)==null?void 0:i.content)},q.createElement("div",{"data-title":"",className:vo(L?.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?q.createElement("div",{"data-description":"",className:vo(H,Vt,L?.description,p==null||(l=p.classNames)==null?void 0:l.description)},typeof p.description=="function"?p.description():p.description):null),q.isValidElement(p.cancel)?p.cancel:p.cancel&&Yg(p.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||D,onClick:Be=>{Yg(p.cancel)&&$e&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Be),Mt())},className:vo(L?.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,q.isValidElement(p.action)?p.action:p.action&&Yg(p.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:Be=>{Yg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Be),!Be.defaultPrevented&&Mt())},className:vo(L?.actionButton,p==null||(u=p.classNames)==null?void 0:u.actionButton)},p.action.label):null)};function oR(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function FZ(e,t){const r={};return[e,t].forEach((n,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?RZ:OZ;function d(u){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):d(l)}),r}const BZ=q.forwardRef(function(t,r){const{id:n,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:d,className:u,offset:m,mobileOffset:p,theme:h="light",richColors:b,duration:v,style:N,visibleToasts:y=kZ,toastOptions:S,dir:w=oR(),gap:_=DZ,icons:A,containerAriaLabel:E="Notifications"}=t,[C,O]=q.useState([]),D=q.useMemo(()=>n?C.filter(ae=>ae.toasterId===n):C.filter(ae=>!ae.toasterId),[C,n]),R=q.useMemo(()=>Array.from(new Set([i].concat(D.filter(ae=>ae.position).map(ae=>ae.position)))),[D,i]),[K,H]=q.useState([]),[$,U]=q.useState(!1),[P,G]=q.useState(!1),[L,M]=q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=q.useRef(null),J=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=q.useRef(null),I=q.useRef(!1),Y=q.useCallback(ae=>{O(le=>{var he;return(he=le.find(X=>X.id===ae.id))!=null&&he.delete||Ns.dismiss(ae.id),le.filter(({id:X})=>X!==ae.id)})},[]);return q.useEffect(()=>Ns.subscribe(ae=>{if(ae.dismiss){requestAnimationFrame(()=>{O(le=>le.map(he=>he.id===ae.id?{...he,delete:!0}:he))});return}setTimeout(()=>{cF.flushSync(()=>{O(le=>{const he=le.findIndex(X=>X.id===ae.id);return he!==-1?[...le.slice(0,he),{...le[he],...ae},...le.slice(he+1)]:[ae,...le]})})})}),[C]),q.useEffect(()=>{if(h!=="system"){M(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const ae=window.matchMedia("(prefers-color-scheme: dark)");try{ae.addEventListener("change",({matches:le})=>{M(le?"dark":"light")})}catch{ae.addListener(({matches:he})=>{try{M(he?"dark":"light")}catch(X){console.error(X)}})}},[h]),q.useEffect(()=>{C.length<=1&&U(!1)},[C]),q.useEffect(()=>{const ae=le=>{var he;if(o.every(ve=>le[ve]||le.code===ve)){var ne;U(!0),(ne=B.current)==null||ne.focus()}le.code==="Escape"&&(document.activeElement===B.current||(he=B.current)!=null&&he.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[o]),q.useEffect(()=>{if(B.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,I.current=!1)}},[B.current]),q.createElement("section",{ref:r,"aria-label":`${E} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((ae,le)=>{var he;const[X,ne]=ae.split("-");return D.length?q.createElement("ol",{key:ae,dir:w==="auto"?oR():w,tabIndex:-1,ref:B,className:u,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":X,"data-x-position":ne,style:{"--front-toast-height":`${((he=K[0])==null?void 0:he.height)||0}px`,"--width":`${PZ}px`,"--gap":`${_}px`,...N,...FZ(m,p)},onBlur:ve=>{I.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(I.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||I.current||(I.current=!0,ee.current=ve.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{P||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},D.filter(ve=>!ve.position&&le===0||ve.position===ae).map((ve,pe)=>{var Ce,ge;return q.createElement($Z,{key:ve.id,icons:A,index:pe,toast:ve,defaultRichColors:b,duration:(Ce=S?.duration)!=null?Ce:v,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:s,visibleToasts:y,closeButton:(ge=S?.closeButton)!=null?ge:d,interacting:P,position:ae,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,closeButtonAriaLabel:S?.closeButtonAriaLabel,removeToast:Y,toasts:D.filter(se=>se.position==ve.position),heights:K.filter(se=>se.position==ve.position),setHeights:H,expandByDefault:l,gap:_,expanded:$,swipeDirections:t.swipeDirections})})):null}))}),kN=[{email:"admin@central.gov.kr",password:"demo1234",role:"central_admin",name:"",organization:""},{email:"regional@seoul.go.kr",password:"demo1234",role:"regional_center",name:"",organization:" "},{email:"local@gangnam.go.kr",password:"demo1234",role:"local_center",name:"",organization:"  "}];function UZ({onLogin:e}){const[t,r]=g.useState("select"),[n,s]=g.useState(null),[i,o]=g.useState(""),[l,d]=g.useState(""),[u,m]=g.useState(""),[p,h]=g.useState(""),[b,v]=g.useState(!1),[N,y]=g.useState(!1),[S,w]=g.useState(1),_=[{id:"citizen",title:"",description:"    ( )",icon:Vo,color:"bg-blue-600"},{id:"local_center",title:"",description:"// ",icon:bf,color:"bg-green-600"},{id:"regional_center",title:"",description:" ",icon:bf,color:"bg-purple-600"},{id:"central_admin",title:"",description:" ",icon:Yi,color:"bg-red-600"}],A=R=>{if(R==="citizen"){window.location.hash="#citizen";return}s(R),r("login")},E=()=>{if(!i||!l){Le.error("  ");return}const R=kN.find(K=>K.email===i&&K.password===l);R?(console.log("[AUDIT] Login Success:",{email:i,role:R.role,timestamp:new Date().toISOString(),ipAddress:"CLIENT_IP"}),N&&localStorage.setItem("rememberedEmail",i),Le.success(` : ${R.name}`),e({email:R.email,role:R.role,name:R.name,organization:R.organization})):(console.log("[AUDIT] Login Failed:",{email:i,timestamp:new Date().toISOString(),reason:"Invalid credentials"}),Le.error("    "))},C=()=>{if(S===1){if(!i||!l){Le.error("  ");return}w(2)}else{if(!u||n!=="citizen"&&!p){Le.error("   ");return}console.log("[AUDIT] Registration:",{email:i,role:n,name:u,organization:p,timestamp:new Date().toISOString()}),Le.success(" "),r("login"),w(1)}},O=()=>{t==="register"&&S===2?w(1):(r("select"),s(null),w(1),o(""),d(""),m(""),h(""))},D=R=>{o(R.email),d(R.password),Le.info(`   : ${R.name}`)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-6xl",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsx(qX,{size:88})}),t==="select"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Nr,{className:"border-2",children:[a.jsxs(pn,{children:[a.jsx(mn,{className:"text-center",children:"/ "}),a.jsx(Co,{className:"text-center",children:"       "})]}),a.jsx(Sr,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:_.map(R=>{const K=R.icon;return a.jsxs("button",{onClick:()=>A(R.id),className:"p-6 border-2 border-gray-300 hover:border-primary rounded transition-all hover:shadow-lg group",children:[a.jsx("div",{className:`${R.color} w-16 h-16 rounded flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform`,children:a.jsx(K,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:R.title}),a.jsx("p",{className:"text-sm text-gray-600",children:R.description})]},R.id)})})})]}),a.jsxs(Nr,{className:"border-blue-300 bg-blue-50",children:[a.jsx(pn,{children:a.jsxs(mn,{className:"text-blue-900 flex items-center gap-2",children:[a.jsx(zn,{className:"h-5 w-5"}),"  "]})}),a.jsxs(Sr,{children:[a.jsx("p",{className:"text-sm text-blue-800 mb-4",children:"      :"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:kN.map(R=>a.jsxs("div",{className:"bg-white p-3 rounded border border-blue-200",children:[a.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:R.name}),a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:R.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:[": ",R.password]})]},R.email))})]})]})]}),t==="login"&&n&&a.jsxs(Nr,{className:"max-w-md mx-auto border-2",children:[a.jsxs(pn,{children:[a.jsxs(dt,{variant:"ghost",size:"sm",onClick:O,className:"mb-2 -ml-2",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs(mn,{children:[_.find(R=>R.id===n)?.title," "]}),a.jsx(Co,{children:"   "})]}),a.jsxs(Sr,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(At,{htmlFor:"email",children:""}),a.jsx(Cr,{id:"email",type:"email",value:i,onChange:R=>o(R.target.value),placeholder:"example@domain.com",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"password",children:""}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(Cr,{id:"password",type:b?"text":"password",value:l,onChange:R=>d(R.target.value),placeholder:""}),a.jsx("button",{type:"button",onClick:()=>v(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:b?a.jsx($A,{className:"h-4 w-4"}):a.jsx(If,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ux,{id:"remember",checked:N,onCheckedChange:R=>y(R)}),a.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-700 cursor-pointer",children:" "})]}),a.jsx(dt,{className:"w-full",onClick:E,children:""}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>r("register"),className:"text-sm text-primary hover:underline",children:" ? "})}),a.jsxs(vf,{children:[a.jsx(zn,{className:"h-4 w-4"}),a.jsxs(Nf,{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),a.jsx("div",{className:"space-y-1",children:kN.filter(R=>R.role===n).map(R=>a.jsxs("button",{onClick:()=>D(R),className:"text-xs text-blue-600 hover:underline block",children:[R.name," (",R.email,")"]},R.email))})]})]})]})]}),t==="register"&&n&&a.jsxs(Nr,{className:"max-w-md mx-auto border-2",children:[a.jsxs(pn,{children:[a.jsxs(dt,{variant:"ghost",size:"sm",onClick:O,className:"mb-2 -ml-2",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs(mn,{children:[_.find(R=>R.id===n)?.title," "]}),a.jsx(Co,{children:S===1?"  ":"  "})]}),a.jsxs(Sr,{className:"space-y-4",children:[S===1?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(At,{htmlFor:"reg-email",children:" *"}),a.jsx(Cr,{id:"reg-email",type:"email",value:i,onChange:R=>o(R.target.value),placeholder:"example@domain.com",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"reg-password",children:" *"}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(Cr,{id:"reg-password",type:b?"text":"password",value:l,onChange:R=>d(R.target.value),placeholder:"8 "}),a.jsx("button",{type:"button",onClick:()=>v(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:b?a.jsx($A,{className:"h-4 w-4"}):a.jsx(If,{className:"h-4 w-4"})})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(At,{htmlFor:"name",children:" *"}),a.jsx(Cr,{id:"name",value:u,onChange:R=>m(R.target.value),placeholder:"",className:"mt-2"})]}),n!=="citizen"&&a.jsxs("div",{children:[a.jsx(At,{htmlFor:"organization",children:"  *"}),a.jsx(Cr,{id:"organization",value:p,onChange:R=>h(R.target.value),placeholder:":   ",className:"mt-2"})]})]}),a.jsx(dt,{className:"w-full",onClick:C,children:S===1?"":" "}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>{r("login"),w(1)},className:"text-sm text-primary hover:underline",children:"  ? "})})]})]}),a.jsxs("div",{className:"text-center mt-8 text-sm text-gray-600",children:[a.jsx("p",{children:" 2026 Neuro-Shield. All rights reserved."}),a.jsx("p",{className:"mt-1",children:""})]})]})})}function Ki({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:ue("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var HZ=jT[" useId ".trim().toString()]||(()=>{}),GZ=0;function Uo(e){const[t,r]=g.useState(HZ());return qn(()=>{r(n=>n??String(GZ++))},[e]),e||(t?`radix-${t}`:"")}function Ga(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>t.current?.(...r),[])}function zZ(e,t=globalThis?.document){const r=Ga(e);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var KZ="DismissableLayer",GA="dismissableLayer.update",qZ="dismissableLayer.pointerDownOutside",WZ="dismissableLayer.focusOutside",lR,yF=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),T0=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=g.useContext(yF),[m,p]=g.useState(null),h=m?.ownerDocument??globalThis?.document,[,b]=g.useState({}),v=yr(t,O=>p(O)),N=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=N.indexOf(y),w=m?N.indexOf(m):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,A=w>=S,E=XZ(O=>{const D=O.target,R=[...u.branches].some(K=>K.contains(D));!A||R||(s?.(O),o?.(O),O.defaultPrevented||l?.())},h),C=QZ(O=>{const D=O.target;[...u.branches].some(K=>K.contains(D))||(i?.(O),o?.(O),O.defaultPrevented||l?.())},h);return zZ(O=>{w===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},h),g.useEffect(()=>{if(m)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),cR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=lR)}},[m,h,r,u]),g.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),cR())},[m,u]),g.useEffect(()=>{const O=()=>b({});return document.addEventListener(GA,O),()=>document.removeEventListener(GA,O)},[]),a.jsx(nr.div,{...d,ref:v,style:{pointerEvents:_?A?"auto":"none":void 0,...e.style},onFocusCapture:Ot(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Ot(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ot(e.onPointerDownCapture,E.onPointerDownCapture)})});T0.displayName=KZ;var VZ="DismissableLayerBranch",YZ=g.forwardRef((e,t)=>{const r=g.useContext(yF),n=g.useRef(null),s=yr(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(nr.div,{...e,ref:s})});YZ.displayName=VZ;function XZ(e,t=globalThis?.document){const r=Ga(e),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){vF(qZ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function QZ(e,t=globalThis?.document){const r=Ga(e),n=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!n.current&&vF(WZ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function cR(){const e=new CustomEvent(GA);document.dispatchEvent(e)}function vF(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?lZ(s,i):s.dispatchEvent(i)}var ON="focusScope.autoFocusOnMount",RN="focusScope.autoFocusOnUnmount",dR={bubbles:!1,cancelable:!0},ZZ="FocusScope",Vy=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,d]=g.useState(null),u=Ga(s),m=Ga(i),p=g.useRef(null),h=yr(t,N=>d(N)),b=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let N=function(_){if(b.paused||!l)return;const A=_.target;l.contains(A)?p.current=A:_c(p.current,{select:!0})},y=function(_){if(b.paused||!l)return;const A=_.relatedTarget;A!==null&&(l.contains(A)||_c(p.current,{select:!0}))},S=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&_c(l)};document.addEventListener("focusin",N),document.addEventListener("focusout",y);const w=new MutationObserver(S);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",y),w.disconnect()}}},[n,l,b.paused]),g.useEffect(()=>{if(l){fR.add(b);const N=document.activeElement;if(!l.contains(N)){const S=new CustomEvent(ON,dR);l.addEventListener(ON,u),l.dispatchEvent(S),S.defaultPrevented||(JZ(aJ(NF(l)),{select:!0}),document.activeElement===N&&_c(l))}return()=>{l.removeEventListener(ON,u),setTimeout(()=>{const S=new CustomEvent(RN,dR);l.addEventListener(RN,m),l.dispatchEvent(S),S.defaultPrevented||_c(N??document.body,{select:!0}),l.removeEventListener(RN,m),fR.remove(b)},0)}}},[l,u,m,b]);const v=g.useCallback(N=>{if(!r&&!n||b.paused)return;const y=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,S=document.activeElement;if(y&&S){const w=N.currentTarget,[_,A]=eJ(w);_&&A?!N.shiftKey&&S===A?(N.preventDefault(),r&&_c(_,{select:!0})):N.shiftKey&&S===_&&(N.preventDefault(),r&&_c(A,{select:!0})):S===w&&N.preventDefault()}},[r,n,b.paused]);return a.jsx(nr.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Vy.displayName=ZZ;function JZ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_c(n,{select:t}),document.activeElement!==r)return}function eJ(e){const t=NF(e),r=uR(t,e),n=uR(t.reverse(),e);return[r,n]}function NF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function uR(e,t){for(const r of e)if(!tJ(r,{upTo:t}))return r}function tJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rJ(e){return e instanceof HTMLInputElement&&"select"in e}function _c(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rJ(e)&&t&&e.select()}}var fR=nJ();function nJ(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=pR(e,t),e.unshift(t)},remove(t){e=pR(e,t),e[0]?.resume()}}}function pR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function aJ(e){return e.filter(t=>t.tagName!=="A")}var sJ="Portal",k0=g.forwardRef((e,t)=>{const{container:r,...n}=e,[s,i]=g.useState(!1);qn(()=>i(!0),[]);const o=r||s&&globalThis?.document?.body;return o?cF.createPortal(a.jsx(nr.div,{...n,ref:t}),o):null});k0.displayName=sJ;var PN=0;function $T(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mR()),document.body.insertAdjacentElement("beforeend",e[1]??mR()),PN++,()=>{PN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),PN--}},[])}function mR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var To=function(){return To=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},To.apply(this,arguments)};function SF(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function iJ(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Hx="right-scroll-bar-position",Gx="width-before-scroll-bar",oJ="with-scroll-bars-hidden",lJ="--removed-body-scroll-bar-size";function DN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cJ(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var dJ=typeof window<"u"?g.useLayoutEffect:g.useEffect,hR=new WeakMap;function uJ(e,t){var r=cJ(null,function(n){return e.forEach(function(s){return DN(s,n)})});return dJ(function(){var n=hR.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||DN(l,null)}),i.forEach(function(l){s.has(l)||DN(l,o)})}hR.set(r,e)},[e]),r}function fJ(e){return e}function pJ(e,t){t===void 0&&(t=fJ);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var d=function(){var m=o;o=[],m.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(m){o.push(m),u()},filter:function(m){return o=o.filter(m),r}}}};return s}function mJ(e){e===void 0&&(e={});var t=pJ(null);return t.options=To({async:!0,ssr:!1},e),t}var jF=function(e){var t=e.sideCar,r=SF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,To({},r))};jF.isSideCarExport=!0;function hJ(e,t){return e.useMedium(t),jF}var wF=mJ(),MN=function(){},Yy=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:MN,onWheelCapture:MN,onTouchMoveCapture:MN}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,d=e.className,u=e.removeScrollBar,m=e.enabled,p=e.shards,h=e.sideCar,b=e.noRelative,v=e.noIsolation,N=e.inert,y=e.allowPinchZoom,S=e.as,w=S===void 0?"div":S,_=e.gapMode,A=SF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,C=uJ([r,t]),O=To(To({},A),s);return g.createElement(g.Fragment,null,m&&g.createElement(E,{sideCar:wF,removeScrollBar:u,shards:p,noRelative:b,noIsolation:v,inert:N,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:_}),o?g.cloneElement(g.Children.only(l),To(To({},O),{ref:C})):g.createElement(w,To({},O,{className:d,ref:C}),l))});Yy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yy.classNames={fullWidth:Gx,zeroRight:Hx};var gJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gJ();return t&&e.setAttribute("nonce",t),e}function bJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=xJ())&&(bJ(t,r),yJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NJ=function(){var e=vJ();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},EF=function(){var e=NJ(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},SJ={left:0,top:0,right:0,gap:0},IN=function(e){return parseInt(e||"",10)||0},jJ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[IN(r),IN(n),IN(s)]},wJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SJ;var t=jJ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},EJ=EF(),Sf="data-scroll-locked",AJ=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(oJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Sf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hx,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hx," .").concat(Hx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gx," .").concat(Gx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Sf,`] {
    `).concat(lJ,": ").concat(l,`px;
  }
`)},gR=function(){var e=parseInt(document.body.getAttribute(Sf)||"0",10);return isFinite(e)?e:0},_J=function(){g.useEffect(function(){return document.body.setAttribute(Sf,(gR()+1).toString()),function(){var e=gR()-1;e<=0?document.body.removeAttribute(Sf):document.body.setAttribute(Sf,e.toString())}},[])},CJ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;_J();var i=g.useMemo(function(){return wJ(s)},[s]);return g.createElement(EJ,{styles:AJ(i,!t,s,r?"":"!important")})},zA=!1;if(typeof window<"u")try{var Xg=Object.defineProperty({},"passive",{get:function(){return zA=!0,!0}});window.addEventListener("test",Xg,Xg),window.removeEventListener("test",Xg,Xg)}catch{zA=!1}var Hu=zA?{passive:!1}:!1,TJ=function(e){return e.tagName==="TEXTAREA"},AF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!TJ(e)&&r[t]==="visible")},kJ=function(e){return AF(e,"overflowY")},OJ=function(e){return AF(e,"overflowX")},xR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=_F(e,n);if(s){var i=CF(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},RJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},PJ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},_F=function(e,t){return e==="v"?kJ(t):OJ(t)},CF=function(e,t){return e==="v"?RJ(t):PJ(t)},DJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},MJ=function(e,t,r,n,s){var i=DJ(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,d=t.contains(l),u=!1,m=o>0,p=0,h=0;do{if(!l)break;var b=CF(e,l),v=b[0],N=b[1],y=b[2],S=N-y-i*v;(v||S)&&_F(e,l)&&(p+=S,h+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(m&&Math.abs(p)<1||!m&&Math.abs(h)<1)&&(u=!0),u},Qg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bR=function(e){return[e.deltaX,e.deltaY]},yR=function(e){return e&&"current"in e?e.current:e},IJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$J=0,Gu=[];function FJ(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),s=g.useState($J++)[0],i=g.useState(EF)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var N=iJ([e.lockRef.current],(e.shards||[]).map(yR),!0).filter(Boolean);return N.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),N.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(N,y){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!o.current.allowPinchZoom;var S=Qg(N),w=r.current,_="deltaX"in N?N.deltaX:w[0]-S[0],A="deltaY"in N?N.deltaY:w[1]-S[1],E,C=N.target,O=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in N&&O==="h"&&C.type==="range")return!1;var D=window.getSelection(),R=D&&D.anchorNode,K=R?R===C||R.contains(C):!1;if(K)return!1;var H=xR(O,C);if(!H)return!0;if(H?E=O:(E=O==="v"?"h":"v",H=xR(O,C)),!H)return!1;if(!n.current&&"changedTouches"in N&&(_||A)&&(n.current=E),!E)return!0;var $=n.current||E;return MJ($,y,N,$==="h"?_:A)},[]),d=g.useCallback(function(N){var y=N;if(!(!Gu.length||Gu[Gu.length-1]!==i)){var S="deltaY"in y?bR(y):Qg(y),w=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&IJ(E.delta,S)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(yR).filter(Boolean).filter(function(E){return E.contains(y.target)}),A=_.length>0?l(y,_[0]):!o.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),u=g.useCallback(function(N,y,S,w){var _={name:N,delta:y,target:S,should:w,shadowParent:BJ(S)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(A){return A!==_})},1)},[]),m=g.useCallback(function(N){r.current=Qg(N),n.current=void 0},[]),p=g.useCallback(function(N){u(N.type,bR(N),N.target,l(N,e.lockRef.current))},[]),h=g.useCallback(function(N){u(N.type,Qg(N),N.target,l(N,e.lockRef.current))},[]);g.useEffect(function(){return Gu.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",d,Hu),document.addEventListener("touchmove",d,Hu),document.addEventListener("touchstart",m,Hu),function(){Gu=Gu.filter(function(N){return N!==i}),document.removeEventListener("wheel",d,Hu),document.removeEventListener("touchmove",d,Hu),document.removeEventListener("touchstart",m,Hu)}},[]);var b=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(i,{styles:LJ(s)}):null,b?g.createElement(CJ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UJ=hJ(wF,FJ);var Xy=g.forwardRef(function(e,t){return g.createElement(Yy,To({},e,{ref:t,sideCar:UJ}))});Xy.classNames=Yy.classNames;var HJ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zu=new WeakMap,Zg=new WeakMap,Jg={},LN=0,TF=function(e){return e&&(e.host||TF(e.parentNode))},GJ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=TF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zJ=function(e,t,r,n){var s=GJ(t,Array.isArray(e)?e:[e]);Jg[r]||(Jg[r]=new WeakMap);var i=Jg[r],o=[],l=new Set,d=new Set(s),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};s.forEach(u);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(h){if(l.has(h))m(h);else try{var b=h.getAttribute(n),v=b!==null&&b!=="false",N=(zu.get(h)||0)+1,y=(i.get(h)||0)+1;zu.set(h,N),i.set(h,y),o.push(h),N===1&&v&&Zg.set(h,!0),y===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",h,S)}})};return m(t),l.clear(),LN++,function(){o.forEach(function(p){var h=zu.get(p)-1,b=i.get(p)-1;zu.set(p,h),i.set(p,b),h||(Zg.has(p)||p.removeAttribute(n),Zg.delete(p)),b||p.removeAttribute(r)}),LN--,LN||(zu=new WeakMap,zu=new WeakMap,Zg=new WeakMap,Jg={})}},FT=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=HJ(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),zJ(n,s,r,"aria-hidden")):function(){return null}};function KJ(e){const t=qJ(e),r=g.forwardRef((n,s)=>{const{children:i,...o}=n,l=g.Children.toArray(i),d=l.find(VJ);if(d){const u=d.props.children,m=l.map(p=>p===d?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,m):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function qJ(e){const t=g.forwardRef((r,n)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const o=XJ(s),l=YJ(i,s.props);return s.type!==g.Fragment&&(l.ref=n?uu(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WJ=Symbol("radix.slottable");function VJ(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WJ}function YJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function XJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Qy="Dialog",[kF]=Ai(Qy),[QJ,eo]=kF(Qy),OF=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),d=g.useRef(null),[u,m]=Fl({prop:n,defaultProp:s??!1,onChange:i,caller:Qy});return a.jsx(QJ,{scope:t,triggerRef:l,contentRef:d,contentId:Uo(),titleId:Uo(),descriptionId:Uo(),open:u,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),modal:o,children:r})};OF.displayName=Qy;var RF="DialogTrigger",ZJ=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(RF,r),i=yr(t,s.triggerRef);return a.jsx(nr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":HT(s.open),...n,ref:i,onClick:Ot(e.onClick,s.onOpenToggle)})});ZJ.displayName=RF;var BT="DialogPortal",[JJ,PF]=kF(BT,{forceMount:void 0}),DF=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=eo(BT,t);return a.jsx(JJ,{scope:t,forceMount:r,children:g.Children.map(n,o=>a.jsx(is,{present:r||i.open,children:a.jsx(k0,{asChild:!0,container:s,children:o})}))})};DF.displayName=BT;var cb="DialogOverlay",MF=g.forwardRef((e,t)=>{const r=PF(cb,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=eo(cb,e.__scopeDialog);return i.modal?a.jsx(is,{present:n||i.open,children:a.jsx(tee,{...s,ref:t})}):null});MF.displayName=cb;var eee=KJ("DialogOverlay.RemoveScroll"),tee=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(cb,r);return a.jsx(Xy,{as:eee,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(nr.div,{"data-state":HT(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Jd="DialogContent",IF=g.forwardRef((e,t)=>{const r=PF(Jd,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=eo(Jd,e.__scopeDialog);return a.jsx(is,{present:n||i.open,children:i.modal?a.jsx(ree,{...s,ref:t}):a.jsx(nee,{...s,ref:t})})});IF.displayName=Jd;var ree=g.forwardRef((e,t)=>{const r=eo(Jd,e.__scopeDialog),n=g.useRef(null),s=yr(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return FT(i)},[]),a.jsx(LF,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ot(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ot(e.onFocusOutside,i=>i.preventDefault())})}),nee=g.forwardRef((e,t)=>{const r=eo(Jd,e.__scopeDialog),n=g.useRef(!1),s=g.useRef(!1);return a.jsx(LF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),LF=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=eo(Jd,r),d=g.useRef(null),u=yr(t,d);return $T(),a.jsxs(a.Fragment,{children:[a.jsx(Vy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(T0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":HT(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(aee,{titleId:l.titleId}),a.jsx(iee,{contentRef:d,descriptionId:l.descriptionId})]})]})}),UT="DialogTitle",$F=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(UT,r);return a.jsx(nr.h2,{id:s.titleId,...n,ref:t})});$F.displayName=UT;var FF="DialogDescription",BF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(FF,r);return a.jsx(nr.p,{id:s.descriptionId,...n,ref:t})});BF.displayName=FF;var UF="DialogClose",HF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(UF,r);return a.jsx(nr.button,{type:"button",...n,ref:t,onClick:Ot(e.onClick,()=>s.onOpenChange(!1))})});HF.displayName=UF;function HT(e){return e?"open":"closed"}var GF="DialogTitleWarning",[Q3e,zF]=WQ(GF,{contentName:Jd,titleName:UT,docsSlug:"dialog"}),aee=({titleId:e})=>{const t=zF(GF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},see="DialogDescriptionWarning",iee=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zF(see).contentName}}.`;return g.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},KF=OF,qF=DF,WF=MF,VF=IF,YF=$F,XF=BF,QF=HF;function qd({...e}){return a.jsx(KF,{"data-slot":"dialog",...e})}function oee({...e}){return a.jsx(qF,{"data-slot":"dialog-portal",...e})}function lee({className:e,...t}){return a.jsx(WF,{"data-slot":"dialog-overlay",className:ue("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Wd({className:e,children:t,...r}){return a.jsxs(oee,{"data-slot":"dialog-portal",children:[a.jsx(lee,{}),a.jsxs(VF,{"data-slot":"dialog-content",className:ue("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,a.jsxs(QF,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(ed,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function db({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:ue("flex flex-col gap-2 text-center sm:text-left",e),...t})}function KA({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:ue("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ub({className:e,...t}){return a.jsx(YF,{"data-slot":"dialog-title",className:ue("text-lg leading-none font-semibold",e),...t})}function qA({className:e,...t}){return a.jsx(XF,{"data-slot":"dialog-description",className:ue("text-muted-foreground text-sm",e),...t})}var cee=g.createContext(void 0);function O0(e){const t=g.useContext(cee);return e||t||"ltr"}function WA(e,[t,r]){return Math.min(r,Math.max(t,e))}function dee(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var GT="ScrollArea",[ZF]=Ai(GT),[uee,_i]=ZF(GT),JF=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,d]=g.useState(null),[u,m]=g.useState(null),[p,h]=g.useState(null),[b,v]=g.useState(null),[N,y]=g.useState(null),[S,w]=g.useState(0),[_,A]=g.useState(0),[E,C]=g.useState(!1),[O,D]=g.useState(!1),R=yr(t,H=>d(H)),K=O0(s);return a.jsx(uee,{scope:r,type:n,dir:K,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:m,content:p,onContentChange:h,scrollbarX:b,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:N,onScrollbarYChange:y,scrollbarYEnabled:O,onScrollbarYEnabledChange:D,onCornerWidthChange:w,onCornerHeightChange:A,children:a.jsx(nr.div,{dir:K,...o,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});JF.displayName=GT;var eB="ScrollAreaViewport",tB=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=_i(eB,r),l=g.useRef(null),d=yr(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(nr.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});tB.displayName=eB;var Qo="ScrollAreaScrollbar",rB=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=_i(Qo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(fee,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(pee,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(nB,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(zT,{...n,ref:t}):null});rB.displayName=Qo;var fee=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=_i(Qo,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=s.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),o(!0)},m=()=>{d=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(is,{present:r||i,children:a.jsx(nB,{"data-state":i?"visible":"hidden",...n,ref:t})})}),pee=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=_i(Qo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Jy(()=>d("SCROLL_END"),100),[l,d]=dee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,d]),g.useEffect(()=>{const u=s.viewport,m=i?"scrollLeft":"scrollTop";if(u){let p=u[m];const h=()=>{const b=u[m];p!==b&&(d("SCROLL"),o()),p=b};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,d,o]),a.jsx(is,{present:r||l!=="hidden",children:a.jsx(zT,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ot(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ot(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),nB=g.forwardRef((e,t)=>{const r=_i(Qo,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",d=Jy(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:m)}},10);return Bf(r.viewport,d),Bf(r.content,d),a.jsx(is,{present:n||i,children:a.jsx(zT,{"data-state":i?"visible":"hidden",...s,ref:t})})}),zT=g.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=_i(Qo,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,d]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=lB(l.viewport,l.content),m={...n,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function p(h,b){return yee(h,o.current,l,b)}return r==="horizontal"?a.jsx(mee,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,b=vR(h,l,s.dir);i.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=p(h,s.dir))}}):r==="vertical"?a.jsx(hee,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,b=vR(h,l);i.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=p(h))}}):null}),mee=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=_i(Qo,e.__scopeScrollArea),[o,l]=g.useState(),d=g.useRef(null),u=yr(t,d,i.onScrollbarXChange);return g.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),a.jsx(sB,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zy(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(i.viewport){const h=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(h),dB(h,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:pb(o.paddingLeft),paddingEnd:pb(o.paddingRight)}})}})}),hee=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=_i(Qo,e.__scopeScrollArea),[o,l]=g.useState(),d=g.useRef(null),u=yr(t,d,i.onScrollbarYChange);return g.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),a.jsx(sB,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zy(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(i.viewport){const h=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(h),dB(h,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:pb(o.paddingTop),paddingEnd:pb(o.paddingBottom)}})}})}),[gee,aB]=ZF(Qo),sB=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:m,onResize:p,...h}=e,b=_i(Qo,r),[v,N]=g.useState(null),y=yr(t,R=>N(R)),S=g.useRef(null),w=g.useRef(""),_=b.viewport,A=n.content-n.viewport,E=Ga(m),C=Ga(d),O=Jy(p,10);function D(R){if(S.current){const K=R.clientX-S.current.left,H=R.clientY-S.current.top;u({x:K,y:H})}}return g.useEffect(()=>{const R=K=>{const H=K.target;v?.contains(H)&&E(K,A)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,v,A,E]),g.useEffect(C,[n,C]),Bf(v,O),Bf(b.content,O),a.jsx(gee,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Ga(i),onThumbPointerUp:Ga(o),onThumbPositionChange:C,onThumbPointerDown:Ga(l),children:a.jsx(nr.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ot(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),S.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),D(R))}),onPointerMove:Ot(e.onPointerMove,D),onPointerUp:Ot(e.onPointerUp,R=>{const K=R.target;K.hasPointerCapture(R.pointerId)&&K.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=w.current,b.viewport&&(b.viewport.style.scrollBehavior=""),S.current=null})})})}),fb="ScrollAreaThumb",iB=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=aB(fb,e.__scopeScrollArea);return a.jsx(is,{present:r||s.hasThumb,children:a.jsx(xee,{ref:t,...n})})}),xee=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=_i(fb,r),o=aB(fb,r),{onThumbPositionChange:l}=o,d=yr(t,p=>o.onThumbChange(p)),u=g.useRef(void 0),m=Jy(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const p=i.viewport;if(p){const h=()=>{if(m(),!u.current){const b=vee(p,l);u.current=b,l()}};return l(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[i.viewport,m,l]),a.jsx(nr.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ot(e.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),v=p.clientX-b.left,N=p.clientY-b.top;o.onThumbPointerDown({x:v,y:N})}),onPointerUp:Ot(e.onPointerUp,o.onThumbPointerUp)})});iB.displayName=fb;var KT="ScrollAreaCorner",oB=g.forwardRef((e,t)=>{const r=_i(KT,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(bee,{...e,ref:t}):null});oB.displayName=KT;var bee=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=_i(KT,r),[i,o]=g.useState(0),[l,d]=g.useState(0),u=!!(i&&l);return Bf(s.scrollbarX,()=>{const m=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(m),d(m)}),Bf(s.scrollbarY,()=>{const m=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(m),o(m)}),u?a.jsx(nr.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function pb(e){return e?parseInt(e,10):0}function lB(e,t){const r=e/t;return isNaN(r)?0:r}function Zy(e){const t=lB(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function yee(e,t,r,n="ltr"){const s=Zy(r),i=s/2,o=t||i,l=s-o,d=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,m=r.content-r.viewport,p=n==="ltr"?[0,m]:[m*-1,0];return cB([d,u],p)(e)}function vR(e,t,r="ltr"){const n=Zy(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,d=r==="ltr"?[0,o]:[o*-1,0],u=WA(e,d);return cB([0,o],[0,l])(u)}function cB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function dB(e,t){return e>0&&e<t}var vee=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function Jy(e,t){const r=Ga(e),n=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),g.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Bf(e,t){const r=Ga(t);qn(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var Nee=JF,See=tB,jee=oB;function wee({className:e,children:t,...r}){return a.jsxs(Nee,{"data-slot":"scroll-area",className:ue("relative",e),...r,children:[a.jsx(See,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),a.jsx(Eee,{}),a.jsx(jee,{})]})}function Eee({className:e,orientation:t="vertical",...r}){return a.jsx(rB,{"data-slot":"scroll-area-scrollbar",orientation:t,className:ue("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:a.jsx(iB,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Aee({open:e,onOpenChange:t}){const[r,n]=g.useState([{id:"1",type:"bot",content:"!  .  ?",timestamp:new Date}]),[s,i]=g.useState(""),o=g.useRef(null),l={" ":"            .       .",:"       .     .",:" ,   1:1 ,   ,         .",:"     ,      .      .",:'   " "     .   ,    .',:"  30  ,    1   .",:"  .    .",:",    .       .",:"     .   .",:"      ,        ."},d=["  ?"," ?","    ?","  ?"];g.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[r]);const u=h=>{const b=h.toLowerCase().replace(/\s+/g,"");for(const[v,N]of Object.entries(l))if(b.includes(v.replace(/\s+/g,"")))return N;return".      .    ,    . (: 02-1234-5678)"},m=()=>{if(!s.trim())return;const h={id:Date.now().toString(),type:"user",content:s,timestamp:new Date};n(b=>[...b,h]),i(""),setTimeout(()=>{const b={id:(Date.now()+1).toString(),type:"bot",content:u(s),timestamp:new Date};n(v=>[...v,b])},500)},p=h=>{i(h),setTimeout(()=>m(),100)};return a.jsx(qd,{open:e,onOpenChange:t,children:a.jsxs(Wd,{className:"max-w-2xl h-[600px] flex flex-col p-0",children:[a.jsx(db,{className:"p-6 pb-4 border-b",children:a.jsxs(ub,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:a.jsx($8,{className:"h-5 w-5 text-blue-600"})}),"AI "]})}),a.jsxs(wee,{className:"flex-1 p-6",ref:o,children:[a.jsx("div",{className:"space-y-4",children:r.map(h=>a.jsx("div",{className:`flex ${h.type==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${h.type==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:h.content}),a.jsx("p",{className:`text-xs mt-1 ${h.type==="user"?"text-blue-100":"text-gray-500"}`,children:h.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})},h.id))}),r.length===1&&a.jsxs("div",{className:"mt-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"  :"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map((h,b)=>a.jsx("button",{onClick:()=>p(h),className:"p-3 text-left text-sm border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:h},b))})]})]}),a.jsxs("div",{className:"p-4 border-t",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Cr,{value:s,onChange:h=>i(h.target.value),onKeyPress:h=>h.key==="Enter"&&m(),placeholder:" ...",className:"flex-1"}),a.jsx(dt,{onClick:m,disabled:!s.trim(),children:a.jsx(Ih,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"*      "})]})]})})}function VA(){const[e,t]=g.useState("home"),[r,n]=g.useState(!1),[s,i]=g.useState(!1),[o,l]=g.useState(""),[d,u]=g.useState(""),[m,p]=g.useState(""),[h,b]=g.useState(""),[v,N]=g.useState(""),[y,S]=g.useState(""),[w,_]=g.useState(""),[A,E]=g.useState(""),[C,O]=g.useState(!1),[D,R]=g.useState(!1),[K,H]=g.useState(!1),$=[{id:"health",name:" ",address:"   426"},{id:"dementia",name:" ",address:"   524"},{id:"hospital",name:" ",address:"   81"}],U=["09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30"],P=[{question:"  ?",answer:"            .       ."},{question:" ?",answer:".        .     ."},{question:"    ?",answer:" ,   1:1 ,   ,         ."},{question:"  ?",answer:"     ,      .      ."}],G=()=>{t("consent")},L=()=>{if(!r){Le.error("   ");return}t("center-select")},M=ge=>{l(ge),t("datetime")},B=()=>{if(!d||!m){Le.error("  ");return}t("confirm")},J=/^01[016789]-?\d{3,4}-?\d{4}$/,ee=()=>{if(!h||!v||!y){Le.error("   ");return}if(!J.test(v.replace(/-/g,""))){Le.error("   ");return}if(A&&!J.test(A.replace(/-/g,""))){Le.error("    ");return}console.log("New Appointment:",{center:o,date:d,time:m,name:h,phone:v,birthdate:y,guardianPhone:A||void 0,consentOptional:s,notes:w,timestamp:new Date().toISOString()}),t("complete")},I=()=>{console.log("Remind Later Request:",{timestamp:new Date().toISOString(),remindDate:new Date(Date.now()+336*60*60*1e3).toISOString()}),Le.success("2   ")},Y=()=>{console.log("Stop Contact Request:",{timestamp:new Date().toISOString()}),Le.success("   "),R(!1)},ae=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(Nr,{className:"border-2 border-primary bg-gradient-to-br from-blue-50 to-white",children:a.jsx(Sr,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-primary p-3 rounded",children:a.jsx(bf,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"    "}),a.jsx("p",{className:"text-gray-700 mb-4",children:"     .      ."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Vi,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx(Vi,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-700",children:" 30 "})]}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx(Vi,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-700",children:"  "})]})]})]})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(dt,{className:"w-full h-14 text-lg",onClick:G,children:[" ",a.jsx(Hs,{className:"h-5 w-5 ml-2"})]}),a.jsxs(dt,{variant:"outline",className:"w-full h-14 text-lg",onClick:I,children:["   ",a.jsx(Fo,{className:"h-5 w-5 ml-2"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>t("faq"),className:"p-4 border-2 border-gray-300 rounded hover:border-primary transition-colors",children:[a.jsx(wi,{className:"h-6 w-6 text-primary mx-auto mb-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"  "})]}),a.jsxs("button",{onClick:()=>t("contact"),className:"p-4 border-2 border-gray-300 rounded hover:border-primary transition-colors",children:[a.jsx(as,{className:"h-6 w-6 text-primary mx-auto mb-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"  "})]})]})]}),le=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(dt,{variant:"ghost",onClick:()=>t("home"),className:"-ml-2",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600",children:"     "})]}),a.jsx(Nr,{children:a.jsxs(Sr,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 border-2 border-primary rounded",children:[a.jsx(Ux,{id:"required",checked:r,onCheckedChange:ge=>n(ge)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs(At,{htmlFor:"required",className:"cursor-pointer",children:[a.jsx("span",{className:"font-bold text-primary",children:""}),"     "]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"   ,   ,   ."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 border-2 border-gray-300 rounded",children:[a.jsx(Ux,{id:"optional",checked:s,onCheckedChange:ge=>i(ge)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs(At,{htmlFor:"optional",className:"cursor-pointer",children:[a.jsx("span",{className:"text-gray-600",children:""}),"    "]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"2           ."})]})]})]})}),a.jsxs(vf,{children:[a.jsx(zn,{className:"h-4 w-4"}),a.jsx(Nf,{className:"text-sm",children:"   ,      ."})]}),a.jsx(dt,{className:"w-full",onClick:L,children:""})]}),he=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(dt,{variant:"ghost",onClick:()=>t("consent"),className:"-ml-2",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600",children:"  "})]}),a.jsx("div",{className:"space-y-3",children:$.map(ge=>a.jsx("button",{onClick:()=>M(ge.id),className:"w-full p-4 border-2 border-gray-300 hover:border-primary rounded transition-colors text-left",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(bf,{className:"h-6 w-6 text-primary flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:ge.name}),a.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[a.jsx(sb,{className:"h-3 w-3"}),ge.address]})]}),a.jsx(Hs,{className:"h-5 w-5 text-gray-400 ml-auto"})]})},ge.id))})]}),X=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(dt,{variant:"ghost",onClick:()=>t("center-select"),className:"-ml-2",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"   "}),a.jsx("p",{className:"text-gray-600",children:"   "})]}),a.jsx(Nr,{children:a.jsxs(Sr,{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx(At,{htmlFor:"date",children:"  *"}),a.jsx(Cr,{id:"date",type:"date",value:d,onChange:ge=>u(ge.target.value),min:new Date().toISOString().split("T")[0],className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(At,{children:"  *"}),a.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:U.map(ge=>a.jsx("button",{onClick:()=>p(ge),className:`p-3 border-2 rounded transition-colors ${m===ge?"border-primary bg-blue-50 text-primary font-semibold":"border-gray-300 hover:border-gray-400"}`,children:ge},ge))})]})]})}),a.jsx(dt,{className:"w-full",onClick:B,disabled:!d||!m,children:""})]}),ne=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(dt,{variant:"ghost",onClick:()=>t("datetime"),className:"-ml-2",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600",children:"    "})]}),a.jsx(Nr,{children:a.jsxs(Sr,{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx(At,{htmlFor:"name",children:" *"}),a.jsx(Cr,{id:"name",value:h,onChange:ge=>b(ge.target.value),placeholder:"",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"phone",children:" *"}),a.jsx(Cr,{id:"phone",type:"tel",value:v,onChange:ge=>N(ge.target.value),placeholder:"010-1234-5678",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"birthdate",children:" *"}),a.jsx(Cr,{id:"birthdate",type:"date",value:y,onChange:ge=>S(ge.target.value),className:"mt-2"})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ux,{id:"guardianToggle",checked:C,onCheckedChange:ge=>{O(ge),ge||E("")}}),a.jsx(At,{htmlFor:"guardianToggle",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"  "})]}),C&&a.jsxs("div",{className:"mt-2",children:[a.jsx(At,{htmlFor:"guardianPhone",children:"  ()"}),a.jsx(Cr,{id:"guardianPhone",type:"tel",value:A,onChange:ge=>E(ge.target.value),placeholder:"010-0000-0000",className:"mt-2"})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2 leading-relaxed",children:["        .",a.jsx("br",{}),"    ."]})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"notes",children:" ()"}),a.jsx(Ki,{id:"notes",value:w,onChange:ge=>_(ge.target.value),placeholder:"       ",rows:3,className:"mt-2"})]})]})}),a.jsxs(Nr,{className:"border-blue-300 bg-blue-50",children:[a.jsx(pn,{children:a.jsx(mn,{className:"text-blue-900",children:"  "})}),a.jsxs(Sr,{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:":"}),a.jsx("span",{className:"font-medium text-blue-900",children:$.find(ge=>ge.id===o)?.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:":"}),a.jsx("span",{className:"font-medium text-blue-900",children:d&&new Date(d).toLocaleDateString("ko-KR")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:":"}),a.jsx("span",{className:"font-medium text-blue-900",children:m})]})]})]}),a.jsx(dt,{className:"w-full",onClick:ee,disabled:!h||!v||!y,children:" "})]}),ve=()=>a.jsxs("div",{className:"space-y-6 text-center py-8",children:[a.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto",children:a.jsx(Vi,{className:"h-12 w-12 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600",children:"   "})]}),a.jsx(Nr,{children:a.jsxs(Sr,{className:"p-6 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:$.find(ge=>ge.id===o)?.name})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:d&&new Date(d).toLocaleDateString("ko-KR")})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:m})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:h})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:":"}),a.jsx("span",{className:"font-medium",children:v})]}),A&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-medium",children:A.replace(/(\d{3})\d{4}(\d{4})/,"$1-****-$2")})]})]})}),a.jsxs(vf,{children:[a.jsx(zn,{className:"h-4 w-4"}),a.jsx(Nf,{className:"text-sm",children:" 3    .    ."})]}),a.jsx(dt,{variant:"outline",className:"w-full",onClick:()=>t("home"),children:""})]}),pe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(dt,{variant:"ghost",onClick:()=>t("home"),className:"-ml-2",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:"  "})]}),a.jsx("div",{className:"space-y-4",children:P.map((ge,se)=>a.jsxs(Nr,{children:[a.jsx(pn,{children:a.jsx(mn,{className:"text-base",children:ge.question})}),a.jsx(Sr,{children:a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:ge.answer})})]},se))})]}),Ce=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs(dt,{variant:"ghost",onClick:()=>t("home"),className:"-ml-2",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:"    "})]}),a.jsxs(Nr,{children:[a.jsx(pn,{children:a.jsx(mn,{children:" "})}),a.jsxs(Sr,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(as,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"font-medium",children:"02-1234-5678"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(WY,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"font-medium",children:"support@gangnam.go.kr"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(sb,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"font-medium",children:"   524"})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(dt,{variant:"outline",className:"w-full",children:"  "}),a.jsx(dt,{variant:"destructive",className:"w-full",onClick:()=>R(!0),children:"  "})]}),a.jsx(qd,{open:D,onOpenChange:R,children:a.jsxs(Wd,{children:[a.jsxs(db,{children:[a.jsx(ub,{className:"text-red-600",children:"  "}),a.jsx(qA,{children:"  ?"})]}),a.jsxs(vf,{className:"border-red-300 bg-red-50",children:[a.jsx(zn,{className:"h-4 w-4 text-red-600"}),a.jsx(Nf,{className:"text-red-900 text-sm",children:"       .   ."})]}),a.jsxs(KA,{children:[a.jsx(dt,{variant:"outline",onClick:()=>R(!1),children:""}),a.jsx(dt,{variant:"destructive",onClick:Y,children:" "})]})]})})]});return a.jsx("div",{className:"min-h-screen bg-gray-100 py-4 px-4",children:a.jsxs("div",{className:"max-w-lg mx-auto",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx(bf,{className:"h-8 w-8 text-primary"})}),a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:""}),a.jsx("p",{className:"text-sm text-gray-600",children:" "})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e==="home"&&ae(),e==="consent"&&le(),e==="center-select"&&he(),e==="datetime"&&X(),e==="confirm"&&ne(),e==="complete"&&ve(),e==="faq"&&pe(),e==="contact"&&Ce()]}),a.jsx("button",{onClick:()=>H(!0),className:"fixed bottom-6 right-6 bg-primary hover:bg-primary-hover text-white rounded-full p-4 shadow-lg transition-transform hover:scale-110",children:a.jsx($8,{className:"h-6 w-6"})}),a.jsx(Aee,{open:K,onOpenChange:H})]})})}const _ee=DT("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Gr({className:e,variant:t,asChild:r=!1,...n}){const s=r?lF:"span";return a.jsx(s,{"data-slot":"badge",className:ue(_ee({variant:t}),e),...n})}const YA="   ,     .";function Cee(){return typeof window>"u"?"":new URLSearchParams(window.location.search).get("t")||""}function Tee(e){return e?e.toUpperCase().includes("3")?"STAGE3":e.toUpperCase().includes("2")?"STAGE2":"STAGE1":"STAGE1"}function kee(e){const t=e.toLowerCase(),r=t.includes("s3")?"STAGE3":t.includes("s2")?"STAGE2":"STAGE1";return r==="STAGE1"?{stage:r,actionType:"BOOKING",centerName:" ",callbackPhone:"02-555-0199",caseAlias:"",privacyNotice:YA}:{stage:r,actionType:r==="STAGE3"?"FOLLOW_UP_HUB":"NEXT_STEP_HUB",centerName:" ",callbackPhone:"02-555-0199",caseAlias:"",dueDate:r==="STAGE3"?"7   ":"3   ",cta:{primary:r==="STAGE3"?"  ":"/  ",secondary:" "},checklist:r==="STAGE3"?["  ","     ","    "]:["/  ","  "," / "],privacyNotice:YA}}function Oee({token:e,data:t}){const[r,n]=g.useState(!1),s=t.centerName||"",i=t.callbackPhone||"02-555-0199",o=t.checklist||[],l=async()=>{try{await fetch("/api/public/sms/landing/action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,actionType:t.actionType||"HUB_ACTION",status:"ACTION_COMPLETED"})})}catch{}finally{n(!0)}};return a.jsx("div",{className:"min-h-screen bg-slate-100 py-6 px-4",children:a.jsxs("div",{className:"mx-auto max-w-xl space-y-4",children:[a.jsxs(Nr,{className:"border-blue-200 bg-blue-50",children:[a.jsxs(pn,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Gr,{className:"bg-blue-600 text-white border-blue-500",children:t.stage==="STAGE2"?"Stage2 ":"Stage3 "}),r&&a.jsx(Gr,{className:"bg-emerald-600 text-white border-emerald-500",children:"ACTION_COMPLETED"})]}),a.jsxs(mn,{className:"text-slate-900",children:[s," "]}),a.jsxs(Co,{className:"text-slate-700",children:[t.caseAlias||"","    ."]})]}),a.jsxs(Sr,{className:"space-y-3",children:[t.dueDate&&a.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-blue-200 bg-white px-3 py-2 text-sm text-slate-700",children:[a.jsx(wT,{className:"h-4 w-4 text-blue-600"}),t.dueDate]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[a.jsxs("p",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[a.jsx(AT,{className:"h-4 w-4"}),"  "]}),a.jsx("ul",{className:"mt-2 space-y-1.5 text-sm text-slate-700",children:o.map(d=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-slate-500"}),d]},d))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(dt,{onClick:l,className:"w-full",children:[a.jsx(ws,{className:"h-4 w-4 mr-1.5"}),t.cta?.primary||"  "]}),a.jsxs(dt,{variant:"outline",className:"w-full",onClick:()=>{typeof window<"u"&&(window.location.href=`tel:${i}`)},children:[a.jsx(as,{className:"h-4 w-4 mr-1.5"}),t.cta?.secondary||" "]})]})]})]}),a.jsx(Nr,{className:"border-slate-200",children:a.jsx(Sr,{className:"pt-4",children:a.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-600",children:[a.jsx(zn,{className:"h-4 w-4 mt-0.5"}),a.jsx("p",{children:t.privacyNotice||YA})]})})})]})})}function Ree(){const e=g.useMemo(()=>Cee(),[]),[t,r]=g.useState(!0),[n,s]=g.useState(null),[i,o]=g.useState(null);return g.useEffect(()=>{let l=!0;return(async()=>{if(!e){if(!l)return;s("   ."),r(!1);return}try{const u=await fetch(`/api/public/sms/landing?t=${encodeURIComponent(e)}`);if(!u.ok)throw new Error(`landing api error: ${u.status}`);const m=await u.json();if(!l)return;o({...m,stage:Tee(m.stage)}),s(null)}catch{if(!l)return;o(kee(e)),s(null)}finally{l&&r(!1)}})(),()=>{l=!1}},[e]),t?a.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center px-4",children:a.jsx(Nr,{className:"w-full max-w-md",children:a.jsx(Sr,{className:"pt-6 text-sm text-slate-600",children:"   ..."})})}):n||!i?a.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center px-4",children:a.jsxs(Nr,{className:"w-full max-w-md border-red-200",children:[a.jsxs(pn,{children:[a.jsx(mn,{className:"text-red-700",children:" "}),a.jsx(Co,{children:"    ."})]}),a.jsx(Sr,{className:"text-sm text-slate-600",children:n||"  ."})]})}):i.stage==="STAGE1"?a.jsx(VA,{}):a.jsx(Oee,{token:e,data:i})}var $N,NR;function os(){if(NR)return $N;NR=1;var e=Array.isArray;return $N=e,$N}var FN,SR;function uB(){if(SR)return FN;SR=1;var e=typeof Gg=="object"&&Gg&&Gg.Object===Object&&Gg;return FN=e,FN}var BN,jR;function to(){if(jR)return BN;jR=1;var e=uB(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return BN=r,BN}var UN,wR;function Op(){if(wR)return UN;wR=1;var e=to(),t=e.Symbol;return UN=t,UN}var HN,ER;function Pee(){if(ER)return HN;ER=1;var e=Op(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),d=o[s];try{o[s]=void 0;var u=!0}catch{}var m=n.call(o);return u&&(l?o[s]=d:delete o[s]),m}return HN=i,HN}var GN,AR;function Dee(){if(AR)return GN;AR=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return GN=r,GN}var zN,_R;function Wl(){if(_R)return zN;_R=1;var e=Op(),t=Pee(),r=Dee(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?t(l):r(l)}return zN=o,zN}var KN,CR;function ro(){if(CR)return KN;CR=1;function e(t){return t!=null&&typeof t=="object"}return KN=e,KN}var qN,TR;function Rp(){if(TR)return qN;TR=1;var e=Wl(),t=ro(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return qN=n,qN}var WN,kR;function qT(){if(kR)return WN;kR=1;var e=os(),t=Rp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return WN=s,WN}var VN,OR;function no(){if(OR)return VN;OR=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return VN=e,VN}var YN,RR;function WT(){if(RR)return YN;RR=1;var e=Wl(),t=no(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var d=e(l);return d==n||d==s||d==r||d==i}return YN=o,YN}var XN,PR;function Mee(){if(PR)return XN;PR=1;var e=to(),t=e["__core-js_shared__"];return XN=t,XN}var QN,DR;function Iee(){if(DR)return QN;DR=1;var e=Mee(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return QN=r,QN}var ZN,MR;function fB(){if(MR)return ZN;MR=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return ZN=r,ZN}var JN,IR;function Lee(){if(IR)return JN;IR=1;var e=WT(),t=Iee(),r=no(),n=fB(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,d=o.toString,u=l.hasOwnProperty,m=RegExp("^"+d.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(h){if(!r(h)||t(h))return!1;var b=e(h)?m:i;return b.test(n(h))}return JN=p,JN}var e2,LR;function $ee(){if(LR)return e2;LR=1;function e(t,r){return t?.[r]}return e2=e,e2}var t2,$R;function fu(){if($R)return t2;$R=1;var e=Lee(),t=$ee();function r(n,s){var i=t(n,s);return e(i)?i:void 0}return t2=r,t2}var r2,FR;function ev(){if(FR)return r2;FR=1;var e=fu(),t=e(Object,"create");return r2=t,r2}var n2,BR;function Fee(){if(BR)return n2;BR=1;var e=ev();function t(){this.__data__=e?e(null):{},this.size=0}return n2=t,n2}var a2,UR;function Bee(){if(UR)return a2;UR=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return a2=e,a2}var s2,HR;function Uee(){if(HR)return s2;HR=1;var e=ev(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return s2=s,s2}var i2,GR;function Hee(){if(GR)return i2;GR=1;var e=ev(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return i2=n,i2}var o2,zR;function Gee(){if(zR)return o2;zR=1;var e=ev(),t="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?t:s,this}return o2=r,o2}var l2,KR;function zee(){if(KR)return l2;KR=1;var e=Fee(),t=Bee(),r=Uee(),n=Hee(),s=Gee();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,l2=i,l2}var c2,qR;function Kee(){if(qR)return c2;qR=1;function e(){this.__data__=[],this.size=0}return c2=e,c2}var d2,WR;function tv(){if(WR)return d2;WR=1;function e(t,r){return t===r||t!==t&&r!==r}return d2=e,d2}var u2,VR;function rv(){if(VR)return u2;VR=1;var e=tv();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return u2=t,u2}var f2,YR;function qee(){if(YR)return f2;YR=1;var e=rv(),t=Array.prototype,r=t.splice;function n(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return f2=n,f2}var p2,XR;function Wee(){if(XR)return p2;XR=1;var e=rv();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return p2=t,p2}var m2,QR;function Vee(){if(QR)return m2;QR=1;var e=rv();function t(r){return e(this.__data__,r)>-1}return m2=t,m2}var h2,ZR;function Yee(){if(ZR)return h2;ZR=1;var e=rv();function t(r,n){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return h2=t,h2}var g2,JR;function nv(){if(JR)return g2;JR=1;var e=Kee(),t=qee(),r=Wee(),n=Vee(),s=Yee();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,g2=i,g2}var x2,eP;function VT(){if(eP)return x2;eP=1;var e=fu(),t=to(),r=e(t,"Map");return x2=r,x2}var b2,tP;function Xee(){if(tP)return b2;tP=1;var e=zee(),t=nv(),r=VT();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return b2=n,b2}var y2,rP;function Qee(){if(rP)return y2;rP=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return y2=e,y2}var v2,nP;function av(){if(nP)return v2;nP=1;var e=Qee();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return v2=t,v2}var N2,aP;function Zee(){if(aP)return N2;aP=1;var e=av();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return N2=t,N2}var S2,sP;function Jee(){if(sP)return S2;sP=1;var e=av();function t(r){return e(this,r).get(r)}return S2=t,S2}var j2,iP;function ete(){if(iP)return j2;iP=1;var e=av();function t(r){return e(this,r).has(r)}return j2=t,j2}var w2,oP;function tte(){if(oP)return w2;oP=1;var e=av();function t(r,n){var s=e(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return w2=t,w2}var E2,lP;function YT(){if(lP)return E2;lP=1;var e=Xee(),t=Zee(),r=Jee(),n=ete(),s=tte();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,E2=i,E2}var A2,cP;function pB(){if(cP)return A2;cP=1;var e=YT(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],d=i.cache;if(d.has(l))return d.get(l);var u=n.apply(this,o);return i.cache=d.set(l,u)||d,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,A2=r,A2}var _2,dP;function rte(){if(dP)return _2;dP=1;var e=pB(),t=500;function r(n){var s=e(n,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return _2=r,_2}var C2,uP;function nte(){if(uP)return C2;uP=1;var e=rte(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,l,d,u){i.push(d?u.replace(r,"$1"):l||o)}),i});return C2=n,C2}var T2,fP;function sv(){if(fP)return T2;fP=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=r(t[n],n,t);return i}return T2=e,T2}var k2,pP;function ate(){if(pP)return k2;pP=1;var e=Op(),t=sv(),r=os(),n=Rp(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return k2=o,k2}var O2,mP;function mB(){if(mP)return O2;mP=1;var e=ate();function t(r){return r==null?"":e(r)}return O2=t,O2}var R2,hP;function iv(){if(hP)return R2;hP=1;var e=os(),t=qT(),r=nte(),n=mB();function s(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return R2=s,R2}var P2,gP;function R0(){if(gP)return P2;gP=1;var e=Rp();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return P2=t,P2}var D2,xP;function ov(){if(xP)return D2;xP=1;var e=iv(),t=R0();function r(n,s){s=e(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[t(s[i++])];return i&&i==o?n:void 0}return D2=r,D2}var M2,bP;function hB(){if(bP)return M2;bP=1;var e=ov();function t(r,n,s){var i=r==null?void 0:e(r,n);return i===void 0?s:i}return M2=t,M2}var ste=hB();const Es=$r(ste);var I2,yP;function ite(){if(yP)return I2;yP=1;function e(t){return t==null}return I2=e,I2}var ote=ite();const qt=$r(ote);var L2,vP;function lte(){if(vP)return L2;vP=1;var e=Wl(),t=os(),r=ro(),n="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return L2=s,L2}var cte=lte();const eu=$r(cte);var dte=WT();const Pt=$r(dte);var ute=no();const Pp=$r(ute);var $2={exports:{}},Ur={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NP;function fte(){if(NP)return Ur;NP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function N(y){if(typeof y=="object"&&y!==null){var S=y.$$typeof;switch(S){case e:switch(y=y.type,y){case r:case s:case n:case u:case m:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case d:case h:case p:case i:return y;default:return S}}case t:return S}}}return Ur.ContextConsumer=o,Ur.ContextProvider=i,Ur.Element=e,Ur.ForwardRef=d,Ur.Fragment=r,Ur.Lazy=h,Ur.Memo=p,Ur.Portal=t,Ur.Profiler=s,Ur.StrictMode=n,Ur.Suspense=u,Ur.SuspenseList=m,Ur.isAsyncMode=function(){return!1},Ur.isConcurrentMode=function(){return!1},Ur.isContextConsumer=function(y){return N(y)===o},Ur.isContextProvider=function(y){return N(y)===i},Ur.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ur.isForwardRef=function(y){return N(y)===d},Ur.isFragment=function(y){return N(y)===r},Ur.isLazy=function(y){return N(y)===h},Ur.isMemo=function(y){return N(y)===p},Ur.isPortal=function(y){return N(y)===t},Ur.isProfiler=function(y){return N(y)===s},Ur.isStrictMode=function(y){return N(y)===n},Ur.isSuspense=function(y){return N(y)===u},Ur.isSuspenseList=function(y){return N(y)===m},Ur.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===n||y===u||y===m||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===p||y.$$typeof===i||y.$$typeof===o||y.$$typeof===d||y.$$typeof===v||y.getModuleId!==void 0)},Ur.typeOf=N,Ur}var SP;function pte(){return SP||(SP=1,$2.exports=fte()),$2.exports}var mte=pte(),F2,jP;function gB(){if(jP)return F2;jP=1;var e=Wl(),t=ro(),r="[object Number]";function n(s){return typeof s=="number"||t(s)&&e(s)==r}return F2=n,F2}var B2,wP;function hte(){if(wP)return B2;wP=1;var e=gB();function t(r){return e(r)&&r!=+r}return B2=t,B2}var gte=hte();const td=$r(gte);var xte=gB();const bte=$r(xte);var ts=function(t){return t===0?0:t>0?1:-1},Fd=function(t){return eu(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return bte(t)&&!td(t)},yte=function(t){return qt(t)},na=function(t){return Ve(t)||eu(t)},vte=0,Vl=function(t){var r=++vte;return"".concat(t||"").concat(r)},rs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!eu(t))return n;var i;if(Fd(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return td(i)&&(i=n),s&&i>r&&(i=r),i},Lc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Nte=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},An=function(t,r){return Ve(t)&&Ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function mb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Es(n,t))===r})}var Ste=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,s=0,i=0,o=0,l=1/0,d=-1/0,u=0,m=0,p=0;p<r;p++)u=t[p].cx||0,m=t[p].cy||0,n+=u,s+=m,i+=u*m,o+=u*u,l=Math.min(l,u),d=Math.max(d,u);var h=r*o!==n*n?(r*i-n*s)/(r*o-n*n):0;return{xmin:l,xmax:d,a:h,b:(s-h*n)/r}},jte=function(t,r){return Ve(t)&&Ve(r)?t-r:eu(t)&&eu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function jf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function XA(e){"@babel/helpers - typeof";return XA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XA(e)}var wte=["viewBox","children"],Ete=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EP=["points","pathLength"],U2={svg:wte,polygon:EP,polyline:EP},XT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(g.isValidElement(t)&&(n=t.props),!Pp(n))return null;var s={};return Object.keys(n).forEach(function(i){XT.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Ate=function(t,r,n){return function(s){return t(r,n,s),null}},Yc=function(t,r,n){if(!Pp(t)||XA(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];XT.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Ate(o,r,n))}),s},_te=["children"],Cte=["children"];function AP(e,t){if(e==null)return{};var r=Tte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QA(e){"@babel/helpers - typeof";return QA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QA(e)}var _P={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Dl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},CP=null,H2=null,lv=function e(t){if(t===CP&&Array.isArray(H2))return H2;var r=[];return g.Children.forEach(t,function(n){qt(n)||(mte.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),H2=r,CP=t,r};function ss(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Dl(s)}):n=[Dl(t)],lv(e).forEach(function(s){var i=Es(s,"type.displayName")||Es(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Ba(e,t){var r=ss(e,t);return r&&r[0]}var ZA=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Ve(n)||n<=0||!Ve(s)||s<=0)},kte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xB=function(t){return t&&t.type&&eu(t.type)&&kte.indexOf(t.type)>=0},bB=function(t){return t&&QA(t)==="object"&&"clipDot"in t},Ote=function(t,r,n,s){var i,o=(i=U2?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Pt(t)&&(s&&o.includes(r)||Ete.includes(r))||n&&XT.includes(r)},Rte=function(t){var r=[];return lv(t).forEach(function(n){xB(n)&&r.push(n)}),r},wt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(g.isValidElement(t)&&(s=t.props),!Pp(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Ote((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},JA=function e(t,r){if(t===r)return!0;var n=g.Children.count(t);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return TP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!TP(i,o))return!1}return!0},TP=function(t,r){if(qt(t)&&qt(r))return!0;if(!qt(t)&&!qt(r)){var n=t.props||{},s=n.children,i=AP(n,_te),o=r.props||{},l=o.children,d=AP(o,Cte);return s&&l?jf(i,d)&&JA(s,l):!s&&!l?jf(i,d):!1}return!1},kP=function(t,r){var n=[],s={};return lv(t).forEach(function(i,o){if(xB(i))n.push(i);else if(i){var l=Dl(i.type),d=r[l]||{},u=d.handler,m=d.once;if(u&&(!m||!s[l])){var p=u(i,l,o);n.push(p),s[l]=!0}}}),n},Pte=function(t){var r=t&&t.type;return r&&_P[r]?_P[r]:null},Dte=function(t,r){return lv(r).indexOf(t)},Mte=["children","width","height","viewBox","className","style","title","desc"];function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(this,arguments)}function Ite(e,t){if(e==null)return{};var r=Lte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gb(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,d=e.desc,u=Ite(e,Mte),m=s||{width:r,height:n,x:0,y:0},p=rr("recharts-surface",i);return q.createElement("svg",e_({},wt(u,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),q.createElement("title",null,l),q.createElement("desc",null,d),t)}var $te=["children","className"];function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(this,arguments)}function Fte(e,t){if(e==null)return{};var r=Bte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sr=q.forwardRef(function(e,t){var r=e.children,n=e.className,s=Fte(e,$te),i=rr("recharts-layer",n);return q.createElement("g",t_({className:i},wt(s,!0),{ref:t}),r)}),Xi=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},G2,OP;function yB(){if(OP)return G2;OP=1;function e(t,r,n){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=t[s+r];return o}return G2=e,G2}var z2,RP;function Ute(){if(RP)return z2;RP=1;var e=yB();function t(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:e(r,n,s)}return z2=t,z2}var K2,PP;function vB(){if(PP)return K2;PP=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function d(u){return l.test(u)}return K2=d,K2}var q2,DP;function Hte(){if(DP)return q2;DP=1;function e(t){return t.split("")}return q2=e,q2}var W2,MP;function Gte(){if(MP)return W2;MP=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+d+")",m="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",v=u+"?",N="["+i+"]?",y="(?:"+b+"(?:"+[m,p,h].join("|")+")"+N+v+")*",S=N+v+y,w="(?:"+[m+l+"?",l,p,h,o].join("|")+")",_=RegExp(d+"(?="+d+")|"+w+S,"g");function A(E){return E.match(_)||[]}return W2=A,W2}var V2,IP;function zte(){if(IP)return V2;IP=1;var e=Hte(),t=vB(),r=Gte();function n(s){return t(s)?r(s):e(s)}return V2=n,V2}var Y2,LP;function Kte(){if(LP)return Y2;LP=1;var e=Ute(),t=vB(),r=zte(),n=mB();function s(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,d=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return d[i]()+u}}return Y2=s,Y2}var X2,$P;function qte(){if($P)return X2;$P=1;var e=Kte(),t=e("toUpperCase");return X2=t,X2}var Wte=qte();const cv=$r(Wte);function on(e){return function(){return e}}const NB=Math.cos,xb=Math.sin,ao=Math.sqrt,bb=Math.PI,dv=2*bb,r_=Math.PI,n_=2*r_,Dd=1e-6,Vte=n_-Dd;function SB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Yte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SB;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Xte{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SB:Yte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=n-t,u=s-r,m=o-t,p=l-r,h=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Dd)if(!(Math.abs(p*d-u*m)>Dd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-o,v=s-l,N=d*d+u*u,y=b*b+v*v,S=Math.sqrt(N),w=Math.sqrt(h),_=i*Math.tan((r_-Math.acos((N+h-y)/(2*S*w)))/2),A=_/w,E=_/S;Math.abs(A-1)>Dd&&this._append`L${t+A*m},${r+A*p}`,this._append`A${i},${i},0,0,${+(p*b>m*v)},${this._x1=t+E*d},${this._y1=r+E*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),d=n*Math.sin(s),u=t+l,m=r+d,p=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>Dd||Math.abs(this._y1-m)>Dd)&&this._append`L${u},${m}`,n&&(h<0&&(h=h%n_+n_),h>Vte?this._append`A${n},${n},0,1,${p},${t-l},${r-d}A${n},${n},0,1,${p},${this._x1=u},${this._y1=m}`:h>Dd&&this._append`A${n},${n},0,${+(h>=r_)},${p},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function QT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Xte(t)}function ZT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jB(e){this._context=e}jB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uv(e){return new jB(e)}function wB(e){return e[0]}function EB(e){return e[1]}function AB(e,t){var r=on(!0),n=null,s=uv,i=null,o=QT(l);e=typeof e=="function"?e:e===void 0?wB:on(e),t=typeof t=="function"?t:t===void 0?EB:on(t);function l(d){var u,m=(d=ZT(d)).length,p,h=!1,b;for(n==null&&(i=s(b=o())),u=0;u<=m;++u)!(u<m&&r(p=d[u],u,d))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(p,u,d),+t(p,u,d));if(b)return i=null,b+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:on(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:on(+d),l):t},l.defined=function(d){return arguments.length?(r=typeof d=="function"?d:on(!!d),l):r},l.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),l):s},l.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),l):n},l}function ex(e,t,r){var n=null,s=on(!0),i=null,o=uv,l=null,d=QT(u);e=typeof e=="function"?e:e===void 0?wB:on(+e),t=typeof t=="function"?t:on(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?EB:on(+r);function u(p){var h,b,v,N=(p=ZT(p)).length,y,S=!1,w,_=new Array(N),A=new Array(N);for(i==null&&(l=o(w=d())),h=0;h<=N;++h){if(!(h<N&&s(y=p[h],h,p))===S)if(S=!S)b=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=b;--v)l.point(_[v],A[v]);l.lineEnd(),l.areaEnd()}S&&(_[h]=+e(y,h,p),A[h]=+t(y,h,p),l.point(n?+n(y,h,p):_[h],r?+r(y,h,p):A[h]))}if(w)return l=null,w+""||null}function m(){return AB().defined(s).curve(o).context(i)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:on(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:on(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:on(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:on(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:on(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:on(+p),u):r},u.lineX0=u.lineY0=function(){return m().x(e).y(t)},u.lineY1=function(){return m().x(e).y(r)},u.lineX1=function(){return m().x(n).y(t)},u.defined=function(p){return arguments.length?(s=typeof p=="function"?p:on(!!p),u):s},u.curve=function(p){return arguments.length?(o=p,i!=null&&(l=o(i)),u):o},u.context=function(p){return arguments.length?(p==null?i=l=null:l=o(i=p),u):i},u}class _B{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Qte(e){return new _B(e,!0)}function Zte(e){return new _B(e,!1)}const JT={draw(e,t){const r=ao(t/bb);e.moveTo(r,0),e.arc(0,0,r,0,dv)}},Jte={draw(e,t){const r=ao(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},CB=ao(1/3),ere=CB*2,tre={draw(e,t){const r=ao(t/ere),n=r*CB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},rre={draw(e,t){const r=ao(t),n=-r/2;e.rect(n,n,r,r)}},nre=.8908130915292852,TB=xb(bb/10)/xb(7*bb/10),are=xb(dv/10)*TB,sre=-NB(dv/10)*TB,ire={draw(e,t){const r=ao(t*nre),n=are*r,s=sre*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=dv*i/5,l=NB(o),d=xb(o);e.lineTo(d*r,-l*r),e.lineTo(l*n-d*s,d*n+l*s)}e.closePath()}},Q2=ao(3),ore={draw(e,t){const r=-ao(t/(Q2*3));e.moveTo(0,r*2),e.lineTo(-Q2*r,-r),e.lineTo(Q2*r,-r),e.closePath()}},ci=-.5,di=ao(3)/2,a_=1/ao(12),lre=(a_/2+1)*3,cre={draw(e,t){const r=ao(t/lre),n=r/2,s=r*a_,i=n,o=r*a_+r,l=-i,d=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(ci*n-di*s,di*n+ci*s),e.lineTo(ci*i-di*o,di*i+ci*o),e.lineTo(ci*l-di*d,di*l+ci*d),e.lineTo(ci*n+di*s,ci*s-di*n),e.lineTo(ci*i+di*o,ci*o-di*i),e.lineTo(ci*l+di*d,ci*d-di*l),e.closePath()}};function dre(e,t){let r=null,n=QT(s);e=typeof e=="function"?e:on(e||JT),t=typeof t=="function"?t:on(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:on(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:on(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function yb(){}function vb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function kB(e){this._context=e}kB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ure(e){return new kB(e)}function OB(e){this._context=e}OB.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fre(e){return new OB(e)}function RB(e){this._context=e}RB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pre(e){return new RB(e)}function PB(e){this._context=e}PB.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mre(e){return new PB(e)}function FP(e){return e<0?-1:1}function BP(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(FP(i)+FP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function UP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Z2(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Nb(e){this._context=e}Nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z2(this,this._t0,UP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Z2(this,UP(this,r=BP(this,e,t)),r);break;default:Z2(this,this._t0,r=BP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function DB(e){this._context=new MB(e)}(DB.prototype=Object.create(Nb.prototype)).point=function(e,t){Nb.prototype.point.call(this,t,e)};function MB(e){this._context=e}MB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function hre(e){return new Nb(e)}function gre(e){return new DB(e)}function IB(e){this._context=e}IB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=HP(e),s=HP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function HP(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function xre(e){return new IB(e)}function fv(e,t){this._context=e,this._t=t}fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bre(e){return new fv(e,.5)}function yre(e){return new fv(e,0)}function vre(e){return new fv(e,1)}function Uf(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function s_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Nre(e,t){return e[t]}function Sre(e){const t=[];return t.key=e,t}function jre(){var e=on([]),t=s_,r=Uf,n=Nre;function s(i){var o=Array.from(e.apply(this,arguments),Sre),l,d=o.length,u=-1,m;for(const p of i)for(l=0,++u;l<d;++l)(o[l][u]=[0,+n(p,o[l].key,u,i)]).data=p;for(l=0,m=ZT(t(o));l<d;++l)o[m[l]].index=l;return r(o,m),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:on(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:on(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?s_:typeof i=="function"?i:on(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Uf,s):r},s}function wre(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Uf(e,t)}}function Ere(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Uf(e,t)}}function Are(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,d=0,u=0;l<o;++l){for(var m=e[t[l]],p=m[n][1]||0,h=m[n-1][1]||0,b=(p-h)/2,v=0;v<l;++v){var N=e[t[v]],y=N[n][1]||0,S=N[n-1][1]||0;b+=y-S}d+=p,u+=b*p}s[n-1][1]+=s[n-1][0]=r,d&&(r-=u/d)}s[n-1][1]+=s[n-1][0]=r,Uf(e,t)}}function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}var _re=["type","size","sizeType"];function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){Cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cre(e,t,r){return t=Tre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tre(e){var t=kre(e,"string");return Lh(t)=="symbol"?t:t+""}function kre(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ore(e,t){if(e==null)return{};var r=Rre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LB={symbolCircle:JT,symbolCross:Jte,symbolDiamond:tre,symbolSquare:rre,symbolStar:ire,symbolTriangle:ore,symbolWye:cre},Pre=Math.PI/180,Dre=function(t){var r="symbol".concat(cv(t));return LB[r]||JT},Mre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Pre;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ire=function(t,r){LB["symbol".concat(cv(t))]=r},pv=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,d=Ore(t,_re),u=zP(zP({},d),{},{type:n,size:i,sizeType:l}),m=function(){var y=Dre(n),S=dre().type(y).size(Mre(i,l,n));return S()},p=u.className,h=u.cx,b=u.cy,v=wt(u,!0);return h===+h&&b===+b&&i===+i?q.createElement("path",i_({},v,{className:rr("recharts-symbols",p),transform:"translate(".concat(h,", ").concat(b,")"),d:m()})):null};pv.registerSymbol=Ire;function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(this,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){$h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FB(n.key),n)}}function Bre(e,t,r){return t&&Fre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ure(e,t,r){return t=Sb(t),Hre(e,$B()?Reflect.construct(t,r||[],Sb(e).constructor):t.apply(e,r))}function Hre(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gre(e)}function Gre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!e})()}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(e)}function zre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},l_(e,t)}function $h(e,t,r){return t=FB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FB(e){var t=Kre(e,"string");return Hf(t)=="symbol"?t:t+""}function Kre(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ui=32,e5=(function(e){function t(){return $re(this,t),Ure(this,t,arguments)}return zre(t,e),Bre(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=ui/2,o=ui/6,l=ui/3,d=n.inactive?s:n.color;if(n.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ui,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ui,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return q.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ui/8,"h").concat(ui,"v").concat(ui*3/4,"h").concat(-ui,"z"),className:"recharts-legend-icon"});if(q.isValidElement(n.legendIcon)){var u=Lre({},n);return delete u.legendIcon,q.cloneElement(n.legendIcon,u)}return q.createElement(pv,{fill:d,cx:i,cy:i,size:ui,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,d=s.formatter,u=s.inactiveColor,m={x:0,y:0,width:ui,height:ui},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(b,v){var N=b.formatter||d,y=rr($h($h({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",b.inactive));if(b.type==="none")return null;var S=Pt(b.value)?null:b.value;Xi(!Pt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=b.inactive?u:b.color;return q.createElement("li",o_({className:y,style:p,key:"legend-item-".concat(v)},Yc(n.props,b,v)),q.createElement(gb,{width:o,height:o,viewBox:m,style:h},n.renderIcon(b)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},N?N(S,b,v):S))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(g.PureComponent);$h(e5,"displayName","Legend");$h(e5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var J2,qP;function qre(){if(qP)return J2;qP=1;var e=nv();function t(){this.__data__=new e,this.size=0}return J2=t,J2}var eS,WP;function Wre(){if(WP)return eS;WP=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return eS=e,eS}var tS,VP;function Vre(){if(VP)return tS;VP=1;function e(t){return this.__data__.get(t)}return tS=e,tS}var rS,YP;function Yre(){if(YP)return rS;YP=1;function e(t){return this.__data__.has(t)}return rS=e,rS}var nS,XP;function Xre(){if(XP)return nS;XP=1;var e=nv(),t=VT(),r=YT(),n=200;function s(i,o){var l=this.__data__;if(l instanceof e){var d=l.__data__;if(!t||d.length<n-1)return d.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(d)}return l.set(i,o),this.size=l.size,this}return nS=s,nS}var aS,QP;function t5(){if(QP)return aS;QP=1;var e=nv(),t=qre(),r=Wre(),n=Vre(),s=Yre(),i=Xre();function o(l){var d=this.__data__=new e(l);this.size=d.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,aS=o,aS}var sS,ZP;function Qre(){if(ZP)return sS;ZP=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return sS=t,sS}var iS,JP;function Zre(){if(JP)return iS;JP=1;function e(t){return this.__data__.has(t)}return iS=e,iS}var oS,eD;function BB(){if(eD)return oS;eD=1;var e=YT(),t=Qre(),r=Zre();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,oS=n,oS}var lS,tD;function UB(){if(tD)return lS;tD=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return lS=e,lS}var cS,rD;function HB(){if(rD)return cS;rD=1;function e(t,r){return t.has(r)}return cS=e,cS}var dS,nD;function GB(){if(nD)return dS;nD=1;var e=BB(),t=UB(),r=HB(),n=1,s=2;function i(o,l,d,u,m,p){var h=d&n,b=o.length,v=l.length;if(b!=v&&!(h&&v>b))return!1;var N=p.get(o),y=p.get(l);if(N&&y)return N==l&&y==o;var S=-1,w=!0,_=d&s?new e:void 0;for(p.set(o,l),p.set(l,o);++S<b;){var A=o[S],E=l[S];if(u)var C=h?u(E,A,S,l,o,p):u(A,E,S,o,l,p);if(C!==void 0){if(C)continue;w=!1;break}if(_){if(!t(l,function(O,D){if(!r(_,D)&&(A===O||m(A,O,d,u,p)))return _.push(D)})){w=!1;break}}else if(!(A===E||m(A,E,d,u,p))){w=!1;break}}return p.delete(o),p.delete(l),w}return dS=i,dS}var uS,aD;function zB(){if(aD)return uS;aD=1;var e=to(),t=e.Uint8Array;return uS=t,uS}var fS,sD;function Jre(){if(sD)return fS;sD=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,i){n[++r]=[i,s]}),n}return fS=e,fS}var pS,iD;function r5(){if(iD)return pS;iD=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return pS=e,pS}var mS,oD;function ene(){if(oD)return mS;oD=1;var e=Op(),t=zB(),r=tv(),n=GB(),s=Jre(),i=r5(),o=1,l=2,d="[object Boolean]",u="[object Date]",m="[object Error]",p="[object Map]",h="[object Number]",b="[object RegExp]",v="[object Set]",N="[object String]",y="[object Symbol]",S="[object ArrayBuffer]",w="[object DataView]",_=e?e.prototype:void 0,A=_?_.valueOf:void 0;function E(C,O,D,R,K,H,$){switch(D){case w:if(C.byteLength!=O.byteLength||C.byteOffset!=O.byteOffset)return!1;C=C.buffer,O=O.buffer;case S:return!(C.byteLength!=O.byteLength||!H(new t(C),new t(O)));case d:case u:case h:return r(+C,+O);case m:return C.name==O.name&&C.message==O.message;case b:case N:return C==O+"";case p:var U=s;case v:var P=R&o;if(U||(U=i),C.size!=O.size&&!P)return!1;var G=$.get(C);if(G)return G==O;R|=l,$.set(C,O);var L=n(U(C),U(O),R,K,H,$);return $.delete(C),L;case y:if(A)return A.call(C)==A.call(O)}return!1}return mS=E,mS}var hS,lD;function n5(){if(lD)return hS;lD=1;function e(t,r){for(var n=-1,s=r.length,i=t.length;++n<s;)t[i+n]=r[n];return t}return hS=e,hS}var gS,cD;function KB(){if(cD)return gS;cD=1;var e=n5(),t=os();function r(n,s,i){var o=s(n);return t(n)?o:e(o,i(n))}return gS=r,gS}var xS,dD;function tne(){if(dD)return xS;dD=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return xS=e,xS}var bS,uD;function qB(){if(uD)return bS;uD=1;function e(){return[]}return bS=e,bS}var yS,fD;function a5(){if(fD)return yS;fD=1;var e=tne(),t=qB(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return n.call(o,l)}))}:t;return yS=i,yS}var vS,pD;function rne(){if(pD)return vS;pD=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return vS=e,vS}var NS,mD;function nne(){if(mD)return NS;mD=1;var e=Wl(),t=ro(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return NS=n,NS}var SS,hD;function s5(){if(hD)return SS;hD=1;var e=nne(),t=ro(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return SS=i,SS}var ih={exports:{}},jS,gD;function ane(){if(gD)return jS;gD=1;function e(){return!1}return jS=e,jS}ih.exports;var xD;function i5(){return xD||(xD=1,(function(e,t){var r=to(),n=ane(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,d=l?l.isBuffer:void 0,u=d||n;e.exports=u})(ih,ih.exports)),ih.exports}var wS,bD;function o5(){if(bD)return wS;bD=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return wS=r,wS}var ES,yD;function l5(){if(yD)return ES;yD=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return ES=t,ES}var AS,vD;function sne(){if(vD)return AS;vD=1;var e=Wl(),t=l5(),r=ro(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",d="[object Function]",u="[object Map]",m="[object Number]",p="[object Object]",h="[object RegExp]",b="[object Set]",v="[object String]",N="[object WeakMap]",y="[object ArrayBuffer]",S="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",A="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",R="[object Uint16Array]",K="[object Uint32Array]",H={};H[w]=H[_]=H[A]=H[E]=H[C]=H[O]=H[D]=H[R]=H[K]=!0,H[n]=H[s]=H[y]=H[i]=H[S]=H[o]=H[l]=H[d]=H[u]=H[m]=H[p]=H[h]=H[b]=H[v]=H[N]=!1;function $(U){return r(U)&&t(U.length)&&!!H[e(U)]}return AS=$,AS}var _S,ND;function mv(){if(ND)return _S;ND=1;function e(t){return function(r){return t(r)}}return _S=e,_S}var oh={exports:{}};oh.exports;var SD;function c5(){return SD||(SD=1,(function(e,t){var r=uB(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var d=s&&s.require&&s.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(oh,oh.exports)),oh.exports}var CS,jD;function WB(){if(jD)return CS;jD=1;var e=sne(),t=mv(),r=c5(),n=r&&r.isTypedArray,s=n?t(n):e;return CS=s,CS}var TS,wD;function VB(){if(wD)return TS;wD=1;var e=rne(),t=s5(),r=os(),n=i5(),s=o5(),i=WB(),o=Object.prototype,l=o.hasOwnProperty;function d(u,m){var p=r(u),h=!p&&t(u),b=!p&&!h&&n(u),v=!p&&!h&&!b&&i(u),N=p||h||b||v,y=N?e(u.length,String):[],S=y.length;for(var w in u)(m||l.call(u,w))&&!(N&&(w=="length"||b&&(w=="offset"||w=="parent")||v&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||s(w,S)))&&y.push(w);return y}return TS=d,TS}var kS,ED;function d5(){if(ED)return kS;ED=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return kS=t,kS}var OS,AD;function YB(){if(AD)return OS;AD=1;function e(t,r){return function(n){return t(r(n))}}return OS=e,OS}var RS,_D;function ine(){if(_D)return RS;_D=1;var e=YB(),t=e(Object.keys,Object);return RS=t,RS}var PS,CD;function one(){if(CD)return PS;CD=1;var e=d5(),t=ine(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return PS=s,PS}var DS,TD;function Dp(){if(TD)return DS;TD=1;var e=WT(),t=l5();function r(n){return n!=null&&t(n.length)&&!e(n)}return DS=r,DS}var MS,kD;function Mp(){if(kD)return MS;kD=1;var e=VB(),t=one(),r=Dp();function n(s){return r(s)?e(s):t(s)}return MS=n,MS}var IS,OD;function XB(){if(OD)return IS;OD=1;var e=KB(),t=a5(),r=Mp();function n(s){return e(s,r,t)}return IS=n,IS}var LS,RD;function lne(){if(RD)return LS;RD=1;var e=XB(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,d,u,m){var p=l&t,h=e(i),b=h.length,v=e(o),N=v.length;if(b!=N&&!p)return!1;for(var y=b;y--;){var S=h[y];if(!(p?S in o:n.call(o,S)))return!1}var w=m.get(i),_=m.get(o);if(w&&_)return w==o&&_==i;var A=!0;m.set(i,o),m.set(o,i);for(var E=p;++y<b;){S=h[y];var C=i[S],O=o[S];if(d)var D=p?d(O,C,S,o,i,m):d(C,O,S,i,o,m);if(!(D===void 0?C===O||u(C,O,l,d,m):D)){A=!1;break}E||(E=S=="constructor")}if(A&&!E){var R=i.constructor,K=o.constructor;R!=K&&"constructor"in i&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof K=="function"&&K instanceof K)&&(A=!1)}return m.delete(i),m.delete(o),A}return LS=s,LS}var $S,PD;function cne(){if(PD)return $S;PD=1;var e=fu(),t=to(),r=e(t,"DataView");return $S=r,$S}var FS,DD;function dne(){if(DD)return FS;DD=1;var e=fu(),t=to(),r=e(t,"Promise");return FS=r,FS}var BS,MD;function QB(){if(MD)return BS;MD=1;var e=fu(),t=to(),r=e(t,"Set");return BS=r,BS}var US,ID;function une(){if(ID)return US;ID=1;var e=fu(),t=to(),r=e(t,"WeakMap");return US=r,US}var HS,LD;function hv(){if(LD)return HS;LD=1;var e=cne(),t=VT(),r=dne(),n=QB(),s=une(),i=Wl(),o=fB(),l="[object Map]",d="[object Object]",u="[object Promise]",m="[object Set]",p="[object WeakMap]",h="[object DataView]",b=o(e),v=o(t),N=o(r),y=o(n),S=o(s),w=i;return(e&&w(new e(new ArrayBuffer(1)))!=h||t&&w(new t)!=l||r&&w(r.resolve())!=u||n&&w(new n)!=m||s&&w(new s)!=p)&&(w=function(_){var A=i(_),E=A==d?_.constructor:void 0,C=E?o(E):"";if(C)switch(C){case b:return h;case v:return l;case N:return u;case y:return m;case S:return p}return A}),HS=w,HS}var GS,$D;function fne(){if($D)return GS;$D=1;var e=t5(),t=GB(),r=ene(),n=lne(),s=hv(),i=os(),o=i5(),l=WB(),d=1,u="[object Arguments]",m="[object Array]",p="[object Object]",h=Object.prototype,b=h.hasOwnProperty;function v(N,y,S,w,_,A){var E=i(N),C=i(y),O=E?m:s(N),D=C?m:s(y);O=O==u?p:O,D=D==u?p:D;var R=O==p,K=D==p,H=O==D;if(H&&o(N)){if(!o(y))return!1;E=!0,R=!1}if(H&&!R)return A||(A=new e),E||l(N)?t(N,y,S,w,_,A):r(N,y,O,S,w,_,A);if(!(S&d)){var $=R&&b.call(N,"__wrapped__"),U=K&&b.call(y,"__wrapped__");if($||U){var P=$?N.value():N,G=U?y.value():y;return A||(A=new e),_(P,G,S,w,A)}}return H?(A||(A=new e),n(N,y,S,w,_,A)):!1}return GS=v,GS}var zS,FD;function u5(){if(FD)return zS;FD=1;var e=fne(),t=ro();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,i,o,r,l)}return zS=r,zS}var KS,BD;function pne(){if(BD)return KS;BD=1;var e=t5(),t=u5(),r=1,n=2;function s(i,o,l,d){var u=l.length,m=u,p=!d;if(i==null)return!m;for(i=Object(i);u--;){var h=l[u];if(p&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<m;){h=l[u];var b=h[0],v=i[b],N=h[1];if(p&&h[2]){if(v===void 0&&!(b in i))return!1}else{var y=new e;if(d)var S=d(v,N,b,i,o,y);if(!(S===void 0?t(N,v,r|n,d,y):S))return!1}}return!0}return KS=s,KS}var qS,UD;function ZB(){if(UD)return qS;UD=1;var e=no();function t(r){return r===r&&!e(r)}return qS=t,qS}var WS,HD;function mne(){if(HD)return WS;HD=1;var e=ZB(),t=Mp();function r(n){for(var s=t(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,e(l)]}return s}return WS=r,WS}var VS,GD;function JB(){if(GD)return VS;GD=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return VS=e,VS}var YS,zD;function hne(){if(zD)return YS;zD=1;var e=pne(),t=mne(),r=JB();function n(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return YS=n,YS}var XS,KD;function gne(){if(KD)return XS;KD=1;function e(t,r){return t!=null&&r in Object(t)}return XS=e,XS}var QS,qD;function xne(){if(qD)return QS;qD=1;var e=iv(),t=s5(),r=os(),n=o5(),s=l5(),i=R0();function o(l,d,u){d=e(d,l);for(var m=-1,p=d.length,h=!1;++m<p;){var b=i(d[m]);if(!(h=l!=null&&u(l,b)))break;l=l[b]}return h||++m!=p?h:(p=l==null?0:l.length,!!p&&s(p)&&n(b,p)&&(r(l)||t(l)))}return QS=o,QS}var ZS,WD;function bne(){if(WD)return ZS;WD=1;var e=gne(),t=xne();function r(n,s){return n!=null&&t(n,s,e)}return ZS=r,ZS}var JS,VD;function yne(){if(VD)return JS;VD=1;var e=u5(),t=hB(),r=bne(),n=qT(),s=ZB(),i=JB(),o=R0(),l=1,d=2;function u(m,p){return n(m)&&s(p)?i(o(m),p):function(h){var b=t(h,m);return b===void 0&&b===p?r(h,m):e(p,b,l|d)}}return JS=u,JS}var ej,YD;function Ip(){if(YD)return ej;YD=1;function e(t){return t}return ej=e,ej}var tj,XD;function vne(){if(XD)return tj;XD=1;function e(t){return function(r){return r?.[t]}}return tj=e,tj}var rj,QD;function Nne(){if(QD)return rj;QD=1;var e=ov();function t(r){return function(n){return e(n,r)}}return rj=t,rj}var nj,ZD;function Sne(){if(ZD)return nj;ZD=1;var e=vne(),t=Nne(),r=qT(),n=R0();function s(i){return r(i)?e(n(i)):t(i)}return nj=s,nj}var aj,JD;function Zo(){if(JD)return aj;JD=1;var e=hne(),t=yne(),r=Ip(),n=os(),s=Sne();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):s(o)}return aj=i,aj}var sj,eM;function e9(){if(eM)return sj;eM=1;function e(t,r,n,s){for(var i=t.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return sj=e,sj}var ij,tM;function jne(){if(tM)return ij;tM=1;function e(t){return t!==t}return ij=e,ij}var oj,rM;function wne(){if(rM)return oj;rM=1;function e(t,r,n){for(var s=n-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return oj=e,oj}var lj,nM;function Ene(){if(nM)return lj;nM=1;var e=e9(),t=jne(),r=wne();function n(s,i,o){return i===i?r(s,i,o):e(s,t,o)}return lj=n,lj}var cj,aM;function Ane(){if(aM)return cj;aM=1;var e=Ene();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return cj=t,cj}var dj,sM;function _ne(){if(sM)return dj;sM=1;function e(t,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;)if(n(r,t[s]))return!0;return!1}return dj=e,dj}var uj,iM;function Cne(){if(iM)return uj;iM=1;function e(){}return uj=e,uj}var fj,oM;function Tne(){if(oM)return fj;oM=1;var e=QB(),t=Cne(),r=r5(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return fj=s,fj}var pj,lM;function kne(){if(lM)return pj;lM=1;var e=BB(),t=Ane(),r=_ne(),n=HB(),s=Tne(),i=r5(),o=200;function l(d,u,m){var p=-1,h=t,b=d.length,v=!0,N=[],y=N;if(m)v=!1,h=r;else if(b>=o){var S=u?null:s(d);if(S)return i(S);v=!1,h=n,y=new e}else y=u?[]:N;e:for(;++p<b;){var w=d[p],_=u?u(w):w;if(w=m||w!==0?w:0,v&&_===_){for(var A=y.length;A--;)if(y[A]===_)continue e;u&&y.push(_),N.push(w)}else h(y,_,m)||(y!==N&&y.push(_),N.push(w))}return N}return pj=l,pj}var mj,cM;function One(){if(cM)return mj;cM=1;var e=Zo(),t=kne();function r(n,s){return n&&n.length?t(n,e(s,2)):[]}return mj=r,mj}var Rne=One();const dM=$r(Rne);function t9(e,t,r){return t===!0?dM(e,r):Pt(t)?dM(e,t):e}function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}var Pne=["ref"];function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(n){gv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n9(n.key),n)}}function Mne(e,t,r){return t&&fM(e.prototype,t),r&&fM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ine(e,t,r){return t=jb(t),Lne(e,r9()?Reflect.construct(t,r||[],jb(e).constructor):t.apply(e,r))}function Lne(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ne(e)}function $ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}function Fne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c_(e,t)}function c_(e,t){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},c_(e,t)}function gv(e,t,r){return t=n9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n9(e){var t=Bne(e,"string");return Gf(t)=="symbol"?t:t+""}function Bne(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Une(e,t){if(e==null)return{};var r=Hne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gne(e){return e.value}function zne(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var r=Une(t,Pne);return q.createElement(e5,r)}var pM=1,Ho=(function(e){function t(){var r;Dne(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Ine(this,t,[].concat(s)),gv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Fne(t,e),Mne(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>pM||Math.abs(s.height-this.lastBoundingBox.height)>pM)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,d=s.margin,u=s.chartWidth,m=s.chartHeight,p,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var b=this.getBBoxSnapshot();p={left:((u||0)-b.width)/2}}else p=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((m||0)-v.height)/2}}else h=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return xl(xl({},p),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,d=s.wrapperStyle,u=s.payloadUniqBy,m=s.payload,p=xl(xl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return q.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){n.wrapperNode=b}},zne(i,xl(xl({},this.props),{},{payload:t9(m,u,Gne)})))}}],[{key:"getWithHeight",value:function(n,s){var i=xl(xl({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ve(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(g.PureComponent);gv(Ho,"displayName","Legend");gv(Ho,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var hj,mM;function Kne(){if(mM)return hj;mM=1;var e=Op(),t=s5(),r=os(),n=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(n&&i&&i[n])}return hj=s,hj}var gj,hM;function f5(){if(hM)return gj;hM=1;var e=n5(),t=Kne();function r(n,s,i,o,l){var d=-1,u=n.length;for(i||(i=t),l||(l=[]);++d<u;){var m=n[d];s>0&&i(m)?s>1?r(m,s-1,i,o,l):e(l,m):o||(l[l.length]=m)}return l}return gj=r,gj}var xj,gM;function qne(){if(gM)return xj;gM=1;function e(t){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),d=l.length;d--;){var u=l[t?d:++i];if(n(o[u],u,o)===!1)break}return r}}return xj=e,xj}var bj,xM;function Wne(){if(xM)return bj;xM=1;var e=qne(),t=e();return bj=t,bj}var yj,bM;function a9(){if(bM)return yj;bM=1;var e=Wne(),t=Mp();function r(n,s){return n&&e(n,s,t)}return yj=r,yj}var vj,yM;function Vne(){if(yM)return vj;yM=1;var e=Dp();function t(r,n){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var o=s.length,l=n?o:-1,d=Object(s);(n?l--:++l<o)&&i(d[l],l,d)!==!1;);return s}}return vj=t,vj}var Nj,vM;function p5(){if(vM)return Nj;vM=1;var e=a9(),t=Vne(),r=t(e);return Nj=r,Nj}var Sj,NM;function s9(){if(NM)return Sj;NM=1;var e=p5(),t=Dp();function r(n,s){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,d,u){o[++i]=s(l,d,u)}),o}return Sj=r,Sj}var jj,SM;function Yne(){if(SM)return jj;SM=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return jj=e,jj}var wj,jM;function Xne(){if(jM)return wj;jM=1;var e=Rp();function t(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=e(r),d=n!==void 0,u=n===null,m=n===n,p=e(n);if(!u&&!p&&!l&&r>n||l&&d&&m&&!u&&!p||i&&d&&m||!s&&m||!o)return 1;if(!i&&!l&&!p&&r<n||p&&s&&o&&!i&&!l||u&&s&&o||!d&&o||!m)return-1}return 0}return wj=t,wj}var Ej,wM;function Qne(){if(wM)return Ej;wM=1;var e=Xne();function t(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,d=o.length,u=s.length;++i<d;){var m=e(o[i],l[i]);if(m){if(i>=u)return m;var p=s[i];return m*(p=="desc"?-1:1)}}return r.index-n.index}return Ej=t,Ej}var Aj,EM;function Zne(){if(EM)return Aj;EM=1;var e=sv(),t=ov(),r=Zo(),n=s9(),s=Yne(),i=mv(),o=Qne(),l=Ip(),d=os();function u(m,p,h){p.length?p=e(p,function(N){return d(N)?function(y){return t(y,N.length===1?N[0]:N)}:N}):p=[l];var b=-1;p=e(p,i(r));var v=n(m,function(N,y,S){var w=e(p,function(_){return _(N)});return{criteria:w,index:++b,value:N}});return s(v,function(N,y){return o(N,y,h)})}return Aj=u,Aj}var _j,AM;function Jne(){if(AM)return _j;AM=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return _j=e,_j}var Cj,_M;function i9(){if(_M)return Cj;_M=1;var e=Jne(),t=Math.max;function r(n,s,i){return s=t(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,d=t(o.length-s,0),u=Array(d);++l<d;)u[l]=o[s+l];l=-1;for(var m=Array(s+1);++l<s;)m[l]=o[l];return m[s]=i(u),e(n,this,m)}}return Cj=r,Cj}var Tj,CM;function eae(){if(CM)return Tj;CM=1;function e(t){return function(){return t}}return Tj=e,Tj}var kj,TM;function o9(){if(TM)return kj;TM=1;var e=fu(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return kj=t,kj}var Oj,kM;function tae(){if(kM)return Oj;kM=1;var e=eae(),t=o9(),r=Ip(),n=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return Oj=n,Oj}var Rj,OM;function rae(){if(OM)return Rj;OM=1;var e=800,t=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),d=t-(l-o);if(o=l,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return Rj=n,Rj}var Pj,RM;function l9(){if(RM)return Pj;RM=1;var e=tae(),t=rae(),r=t(e);return Pj=r,Pj}var Dj,PM;function nae(){if(PM)return Dj;PM=1;var e=Ip(),t=i9(),r=l9();function n(s,i){return r(t(s,i,e),s+"")}return Dj=n,Dj}var Mj,DM;function xv(){if(DM)return Mj;DM=1;var e=tv(),t=Dp(),r=o5(),n=no();function s(i,o,l){if(!n(l))return!1;var d=typeof o;return(d=="number"?t(l)&&r(o,l.length):d=="string"&&o in l)?e(l[o],i):!1}return Mj=s,Mj}var Ij,MM;function aae(){if(MM)return Ij;MM=1;var e=f5(),t=Zne(),r=nae(),n=xv(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return Ij=s,Ij}var sae=aae();const m5=$r(sae);function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(this,arguments)}function iae(e,t){return dae(e)||cae(e,t)||lae(e,t)||oae()}function oae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(e,t){if(e){if(typeof e=="string")return IM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IM(e,t)}}function IM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function dae(e){if(Array.isArray(e))return e}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){uae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uae(e,t,r){return t=fae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fae(e){var t=pae(e,"string");return Fh(t)=="symbol"?t:t+""}function pae(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mae(e){return Array.isArray(e)&&na(e[0])&&na(e[1])?e.join(" ~ "):e}var hae=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,d=t.labelStyle,u=d===void 0?{}:d,m=t.payload,p=t.formatter,h=t.itemSorter,b=t.wrapperClassName,v=t.labelClassName,N=t.label,y=t.labelFormatter,S=t.accessibilityLayer,w=S===void 0?!1:S,_=function(){if(m&&m.length){var $={padding:0,margin:0},U=(h?m5(m,h):m).map(function(P,G){if(P.type==="none")return null;var L=Lj({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},l),M=P.formatter||p||mae,B=P.value,J=P.name,ee=B,I=J;if(M&&ee!=null&&I!=null){var Y=M(B,J,P,G,m);if(Array.isArray(Y)){var ae=iae(Y,2);ee=ae[0],I=ae[1]}else ee=Y}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:L},na(I)?q.createElement("span",{className:"recharts-tooltip-item-name"},I):null,na(I)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},ee),q.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:$},U)}return null},A=Lj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=Lj({margin:0},u),C=!qt(N),O=C?N:"",D=rr("recharts-default-tooltip",b),R=rr("recharts-tooltip-label",v);C&&y&&m!==void 0&&m!==null&&(O=y(N,m));var K=w?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",d_({className:D,style:A},K),q.createElement("p",{className:R,style:E},q.isValidElement(O)?O:"".concat(O)),_())};function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function tx(e,t,r){return t=gae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gae(e){var t=xae(e,"string");return Bh(t)=="symbol"?t:t+""}function xae(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dm="recharts-tooltip-wrapper",bae={visibility:"hidden"};function yae(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return rr(Dm,tx(tx(tx(tx({},"".concat(Dm,"-right"),Ve(r)&&t&&Ve(t.x)&&r>=t.x),"".concat(Dm,"-left"),Ve(r)&&t&&Ve(t.x)&&r<t.x),"".concat(Dm,"-bottom"),Ve(n)&&t&&Ve(t.y)&&n>=t.y),"".concat(Dm,"-top"),Ve(n)&&t&&Ve(t.y)&&n<t.y))}function $M(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,d=e.viewBox,u=e.viewBoxDimension;if(i&&Ve(i[n]))return i[n];var m=r[n]-l-s,p=r[n]+s;if(t[n])return o[n]?m:p;if(o[n]){var h=m,b=d[n];return h<b?Math.max(p,d[n]):Math.max(m,d[n])}var v=p+l,N=d[n]+u;return v>N?Math.max(m,d[n]):Math.max(p,d[n])}function vae(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Nae(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,d=e.viewBox,u,m,p;return o.height>0&&o.width>0&&r?(m=$M({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=$M({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=vae({translateX:m,translateY:p,useTranslate3d:l})):u=bae,{cssProperties:u,cssClasses:yae({translateX:m,translateY:p,coordinate:r})}}function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(n){f_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d9(n.key),n)}}function wae(e,t,r){return t&&jae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eae(e,t,r){return t=wb(t),Aae(e,c9()?Reflect.construct(t,r||[],wb(e).constructor):t.apply(e,r))}function Aae(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ae(e)}function _ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c9=function(){return!!e})()}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}function Cae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},u_(e,t)}function f_(e,t,r){return t=d9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=Tae(e,"string");return zf(t)=="symbol"?t:t+""}function Tae(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UM=1,kae=(function(e){function t(){var r;Sae(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Eae(this,t,[].concat(s)),f_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),f_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,d,u,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(u=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&u!==void 0?u:0}})}}),r}return Cae(t,e),wae(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>UM||Math.abs(n.height-this.state.lastBoundingBox.height)>UM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,d=s.animationEasing,u=s.children,m=s.coordinate,p=s.hasPayload,h=s.isAnimationActive,b=s.offset,v=s.position,N=s.reverseDirection,y=s.useTranslate3d,S=s.viewBox,w=s.wrapperStyle,_=Nae({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:b,position:v,reverseDirection:N,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:S}),A=_.cssClasses,E=_.cssProperties,C=BM(BM({transition:h&&i?"transform ".concat(l,"ms ").concat(d):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},w);return q.createElement("div",{tabIndex:-1,className:A,style:C,ref:function(D){n.wrapperNode=D}},u)}}])})(g.PureComponent),Oae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qi={isSsr:Oae()};function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){h5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f9(n.key),n)}}function Dae(e,t,r){return t&&Pae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mae(e,t,r){return t=Eb(t),Iae(e,u9()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function Iae(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lae(e)}function Lae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function $ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},p_(e,t)}function h5(e,t,r){return t=f9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=Fae(e,"string");return Kf(t)=="symbol"?t:t+""}function Fae(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Bae(e){return e.dataKey}function Uae(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(hae,t)}var qr=(function(e){function t(){return Rae(this,t),Mae(this,t,arguments)}return $ae(t,e),Dae(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,d=s.animationEasing,u=s.content,m=s.coordinate,p=s.filterNull,h=s.isAnimationActive,b=s.offset,v=s.payload,N=s.payloadUniqBy,y=s.position,S=s.reverseDirection,w=s.useTranslate3d,_=s.viewBox,A=s.wrapperStyle,E=v??[];p&&E.length&&(E=t9(v.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),N,Bae));var C=E.length>0;return q.createElement(kae,{allowEscapeViewBox:o,animationDuration:l,animationEasing:d,isAnimationActive:h,active:i,coordinate:m,hasPayload:C,offset:b,position:y,reverseDirection:S,useTranslate3d:w,viewBox:_,wrapperStyle:A},Uae(u,GM(GM({},this.props),{},{payload:E})))}}])})(g.PureComponent);h5(qr,"displayName","Tooltip");h5(qr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $j,zM;function Hae(){if(zM)return $j;zM=1;var e=to(),t=function(){return e.Date.now()};return $j=t,$j}var Fj,KM;function Gae(){if(KM)return Fj;KM=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Fj=t,Fj}var Bj,qM;function zae(){if(qM)return Bj;qM=1;var e=Gae(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Bj=r,Bj}var Uj,WM;function p9(){if(WM)return Uj;WM=1;var e=zae(),t=no(),r=Rp(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function d(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var m=typeof u.valueOf=="function"?u.valueOf():u;u=t(m)?m+"":m}if(typeof u!="string")return u===0?u:+u;u=e(u);var p=i.test(u);return p||o.test(u)?l(u.slice(2),p?2:8):s.test(u)?n:+u}return Uj=d,Uj}var Hj,VM;function Kae(){if(VM)return Hj;VM=1;var e=no(),t=Hae(),r=p9(),n="Expected a function",s=Math.max,i=Math.min;function o(l,d,u){var m,p,h,b,v,N,y=0,S=!1,w=!1,_=!0;if(typeof l!="function")throw new TypeError(n);d=r(d)||0,e(u)&&(S=!!u.leading,w="maxWait"in u,h=w?s(r(u.maxWait)||0,d):h,_="trailing"in u?!!u.trailing:_);function A(U){var P=m,G=p;return m=p=void 0,y=U,b=l.apply(G,P),b}function E(U){return y=U,v=setTimeout(D,d),S?A(U):b}function C(U){var P=U-N,G=U-y,L=d-P;return w?i(L,h-G):L}function O(U){var P=U-N,G=U-y;return N===void 0||P>=d||P<0||w&&G>=h}function D(){var U=t();if(O(U))return R(U);v=setTimeout(D,C(U))}function R(U){return v=void 0,_&&m?A(U):(m=p=void 0,b)}function K(){v!==void 0&&clearTimeout(v),y=0,m=N=p=v=void 0}function H(){return v===void 0?b:R(t())}function $(){var U=t(),P=O(U);if(m=arguments,p=this,N=U,P){if(v===void 0)return E(N);if(w)return clearTimeout(v),v=setTimeout(D,d),A(N)}return v===void 0&&(v=setTimeout(D,d)),b}return $.cancel=K,$.flush=H,$}return Hj=o,Hj}var Gj,YM;function qae(){if(YM)return Gj;YM=1;var e=Kae(),t=no(),r="Expected a function";function n(s,i,o){var l=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,d="trailing"in o?!!o.trailing:d),e(s,i,{leading:l,maxWait:i,trailing:d})}return Gj=n,Gj}var Wae=qae();const m9=$r(Wae);function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(n){Vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vae(e,t,r){return t=Yae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yae(e){var t=Xae(e,"string");return Uh(t)=="symbol"?t:t+""}function Xae(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qae(e,t){return tse(e)||ese(e,t)||Jae(e,t)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jae(e,t){if(e){if(typeof e=="string")return QM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QM(e,t)}}function QM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ese(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tse(e){if(Array.isArray(e))return e}var ra=g.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,d=l===void 0?"100%":l,u=e.minWidth,m=u===void 0?0:u,p=e.minHeight,h=e.maxHeight,b=e.children,v=e.debounce,N=v===void 0?0:v,y=e.id,S=e.className,w=e.onResize,_=e.style,A=_===void 0?{}:_,E=g.useRef(null),C=g.useRef();C.current=w,g.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var O=g.useState({containerWidth:s.width,containerHeight:s.height}),D=Qae(O,2),R=D[0],K=D[1],H=g.useCallback(function(U,P){K(function(G){var L=Math.round(U),M=Math.round(P);return G.containerWidth===L&&G.containerHeight===M?G:{containerWidth:L,containerHeight:M}})},[]);g.useEffect(function(){var U=function(J){var ee,I=J[0].contentRect,Y=I.width,ae=I.height;H(Y,ae),(ee=C.current)===null||ee===void 0||ee.call(C,Y,ae)};N>0&&(U=m9(U,N,{trailing:!0,leading:!1}));var P=new ResizeObserver(U),G=E.current.getBoundingClientRect(),L=G.width,M=G.height;return H(L,M),P.observe(E.current),function(){P.disconnect()}},[H,N]);var $=g.useMemo(function(){var U=R.containerWidth,P=R.containerHeight;if(U<0||P<0)return null;Xi(Fd(o)||Fd(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),Xi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Fd(o)?U:o,L=Fd(d)?P:d;r&&r>0&&(G?L=G/r:L&&(G=L*r),h&&L>h&&(L=h)),Xi(G>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,L,o,d,m,p,r);var M=!Array.isArray(b)&&Dl(b.type).endsWith("Chart");return q.Children.map(b,function(B){return q.isValidElement(B)?g.cloneElement(B,rx({width:G,height:L},M?{style:rx({height:"100%",width:"100%",maxHeight:L,maxWidth:G},B.props.style)}:{})):B})},[r,b,d,h,p,m,R,o]);return q.createElement("div",{id:y?"".concat(y):void 0,className:rr("recharts-responsive-container",S),style:rx(rx({},A),{},{width:o,height:d,minWidth:m,minHeight:p,maxHeight:h}),ref:E},$)}),Ni=function(t){return null};Ni.displayName="Cell";function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){rse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rse(e,t,r){return t=nse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nse(e){var t=ase(e,"string");return Hh(t)=="symbol"?t:t+""}function ase(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ku={widthCache:{},cacheCount:0},sse=2e3,ise={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JM="recharts_measurement_span";function ose(e){var t=m_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var wf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qi.isSsr)return{width:0,height:0};var n=ose(r),s=JSON.stringify({text:t,copyStyle:n});if(Ku.widthCache[s])return Ku.widthCache[s];try{var i=document.getElementById(JM);i||(i=document.createElement("span"),i.setAttribute("id",JM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=m_(m_({},ise),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),d={width:l.width,height:l.height};return Ku.widthCache[s]=d,++Ku.cacheCount>sse&&(Ku.cacheCount=0,Ku.widthCache={}),d}catch{return{width:0,height:0}}},lse=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function Ab(e,t){return fse(e)||use(e,t)||dse(e,t)||cse()}function cse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dse(e,t){if(e){if(typeof e=="string")return eI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eI(e,t)}}function eI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function use(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function fse(e){if(Array.isArray(e))return e}function pse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hse(n.key),n)}}function mse(e,t,r){return t&&tI(e.prototype,t),r&&tI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hse(e){var t=gse(e,"string");return Gh(t)=="symbol"?t:t+""}function gse(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,h9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yse=Object.keys(h9),df="NaN";function vse(e,t){return e*h9[t]}var nx=(function(){function e(t,r){pse(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!xse.test(r)&&(this.num=NaN,this.unit=""),yse.includes(r)&&(this.num=vse(t,r),this.unit="px")}return mse(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=bse.exec(r))!==null&&n!==void 0?n:[],i=Ab(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function g9(e){if(e.includes(df))return df;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=rI.exec(t))!==null&&r!==void 0?r:[],s=Ab(n,4),i=s[1],o=s[2],l=s[3],d=nx.parse(i??""),u=nx.parse(l??""),m=o==="*"?d.multiply(u):d.divide(u);if(m.isNaN())return df;t=t.replace(rI,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,h=(p=nI.exec(t))!==null&&p!==void 0?p:[],b=Ab(h,4),v=b[1],N=b[2],y=b[3],S=nx.parse(v??""),w=nx.parse(y??""),_=N==="+"?S.add(w):S.subtract(w);if(_.isNaN())return df;t=t.replace(nI,_.toString())}return t}var aI=/\(([^()]*)\)/;function Nse(e){for(var t=e;t.includes("(");){var r=aI.exec(t),n=Ab(r,2),s=n[1];t=t.replace(aI,g9(s))}return t}function Sse(e){var t=e.replace(/\s+/g,"");return t=Nse(t),t=g9(t),t}function jse(e){try{return Sse(e)}catch{return df}}function zj(e){var t=jse(e.slice(5,-1));return t===df?"":t}var wse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ese=["dx","dy","angle","className","breakAll"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(this,arguments)}function sI(e,t){if(e==null)return{};var r=Ase(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ase(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iI(e,t){return kse(e)||Tse(e,t)||Cse(e,t)||_se()}function _se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cse(e,t){if(e){if(typeof e=="string")return oI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oI(e,t)}}function oI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kse(e){if(Array.isArray(e))return e}var x9=/[ \f\n\r\t\v\u2028\u2029]+/,b9=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];qt(r)||(n?i=r.toString().split(""):i=r.toString().split(x9));var o=i.map(function(d){return{word:d,width:wf(d,s).width}}),l=n?0:wf("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Ose=function(t,r,n,s,i){var o=t.maxLines,l=t.children,d=t.style,u=t.breakAll,m=Ve(o),p=l,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(L,M){var B=M.word,J=M.width,ee=L[L.length-1];if(ee&&(s==null||i||ee.width+J+n<Number(s)))ee.words.push(B),ee.width+=J+n;else{var I={words:[B],width:J};L.push(I)}return L},[])},b=h(r),v=function(G){return G.reduce(function(L,M){return L.width>M.width?L:M})};if(!m)return b;for(var N="",y=function(G){var L=p.slice(0,G),M=b9({breakAll:u,style:d,children:L+N}).wordsWithComputedWidth,B=h(M),J=B.length>o||v(B).width>Number(s);return[J,B]},S=0,w=p.length-1,_=0,A;S<=w&&_<=p.length-1;){var E=Math.floor((S+w)/2),C=E-1,O=y(C),D=iI(O,2),R=D[0],K=D[1],H=y(E),$=iI(H,1),U=$[0];if(!R&&!U&&(S=E+1),R&&U&&(w=E-1),!R&&U){A=K;break}_++}return A||b},lI=function(t){var r=qt(t)?[]:t.toString().split(x9);return[{words:r}]},Rse=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Qi.isSsr){var d,u,m=b9({breakAll:o,children:s,style:i});if(m){var p=m.wordsWithComputedWidth,h=m.spaceWidth;d=p,u=h}else return lI(s);return Ose({breakAll:o,children:s,maxLines:l,style:i},d,u,r,n)}return lI(s)},cI="#808080",tu=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,d=t.capHeight,u=d===void 0?"0.71em":d,m=t.scaleToFit,p=m===void 0?!1:m,h=t.textAnchor,b=h===void 0?"start":h,v=t.verticalAnchor,N=v===void 0?"end":v,y=t.fill,S=y===void 0?cI:y,w=sI(t,wse),_=g.useMemo(function(){return Rse({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:p,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,p,w.style,w.width]),A=w.dx,E=w.dy,C=w.angle,O=w.className,D=w.breakAll,R=sI(w,Ese);if(!na(n)||!na(i))return null;var K=n+(Ve(A)?A:0),H=i+(Ve(E)?E:0),$;switch(N){case"start":$=zj("calc(".concat(u,")"));break;case"middle":$=zj("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:$=zj("calc(".concat(_.length-1," * -").concat(l,")"));break}var U=[];if(p){var P=_[0].width,G=w.width;U.push("scale(".concat((Ve(G)?G/P:1)/P,")"))}return C&&U.push("rotate(".concat(C,", ").concat(K,", ").concat(H,")")),U.length&&(R.transform=U.join(" ")),q.createElement("text",h_({},wt(R,!0),{x:K,y:H,className:rr("recharts-text",O),textAnchor:b,fill:S.includes("url")?cI:S}),_.map(function(L,M){var B=L.words.join(D?"":" ");return q.createElement("tspan",{x:K,dy:M===0?$:l,key:"".concat(B,"-").concat(M)},B)}))};function qc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pse(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function g5(e){let t,r,n;e.length!==2?(t=qc,r=(l,d)=>qc(e(l),d),n=(l,d)=>e(l)-d):(t=e===qc||e===Pse?e:Dse,r=e,n=e);function s(l,d,u=0,m=l.length){if(u<m){if(t(d,d)!==0)return m;do{const p=u+m>>>1;r(l[p],d)<0?u=p+1:m=p}while(u<m)}return u}function i(l,d,u=0,m=l.length){if(u<m){if(t(d,d)!==0)return m;do{const p=u+m>>>1;r(l[p],d)<=0?u=p+1:m=p}while(u<m)}return u}function o(l,d,u=0,m=l.length){const p=s(l,d,u,m-1);return p>u&&n(l[p-1],d)>-n(l[p],d)?p-1:p}return{left:s,center:o,right:i}}function Dse(){return 0}function y9(e){return e===null?NaN:+e}function*Mse(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ise=g5(qc),P0=Ise.right;g5(y9).center;class qf{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let n=0;for(let s=0;s<this._n&&s<32;s++){const i=r[s],o=t+i,l=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);l&&(r[n++]=l),t=o}return r[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let r=this._n,n,s,i,o=0;if(r>0){for(o=t[--r];r>0&&(n=o,s=t[--r],o=n+s,i=s-(o-n),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(s=i*2,n=o+s,s==n-o&&(o=n))}return o}}class dI extends Map{constructor(t,r=Fse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(uI(this,t))}has(t){return super.has(uI(this,t))}set(t,r){return super.set(Lse(this,t),r)}delete(t){return super.delete($se(this,t))}}function uI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Lse({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function $se({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Fse(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bse(e=qc){if(e===qc)return v9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function v9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Use=Math.sqrt(50),Hse=Math.sqrt(10),Gse=Math.sqrt(2);function _b(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Use?10:i>=Hse?5:i>=Gse?2:1;let l,d,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),d=Math.round(t*u),l/u<e&&++l,d/u>t&&--d,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),d=Math.round(t/u),l*u<e&&++l,d*u>t&&--d),d<l&&.5<=r&&r<2?_b(e,t,r*2):[l,d,u]}function g_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?_b(t,e,r):_b(e,t,r);if(!(i>=s))return[];const l=i-s+1,d=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)d[u]=(i-u)/-o;else for(let u=0;u<l;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)d[u]=(s+u)/-o;else for(let u=0;u<l;++u)d[u]=(s+u)*o;return d}function x_(e,t,r){return t=+t,e=+e,r=+r,_b(e,t,r)[2]}function b_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?x_(t,e,r):x_(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function fI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function pI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function N9(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?v9:Bse(s);n>r;){if(n-r>600){const d=n-r+1,u=t-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),h=.5*Math.sqrt(m*p*(d-p)/d)*(u-d/2<0?-1:1),b=Math.max(r,Math.floor(t-u*p/d+h)),v=Math.min(n,Math.floor(t+(d-u)*p/d+h));N9(e,t,b,v,s)}const i=e[t];let o=r,l=n;for(Mm(e,r,t),s(e[n],i)>0&&Mm(e,r,n);o<l;){for(Mm(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Mm(e,r,l):(++l,Mm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Mm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zse(e,t,r){if(e=Float64Array.from(Mse(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return pI(e);if(t>=1)return fI(e);var n,s=(n-1)*t,i=Math.floor(s),o=fI(N9(e,i).subarray(0,i+1)),l=pI(e.subarray(i+1));return o+(l-o)*(s-i)}}function Kse(e,t,r=y9){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function*qse(e){for(const t of e)yield*t}function Wse(e){return Array.from(qse(e))}function Vse(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const y_=Symbol("implicit");function x5(){var e=new dI,t=[],r=[],n=y_;function s(i){let o=e.get(i);if(o===void 0){if(n!==y_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new dI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return x5(t,r).unknown(n)},Ci.apply(s,arguments),s}function zh(){var e=x5().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,d=0,u=0,m=.5;delete e.unknown;function p(){var h=t().length,b=s<n,v=b?s:n,N=b?n:s;i=(N-v)/Math.max(1,h-d+u*2),l&&(i=Math.floor(i)),v+=(N-v-i*(h-d))*m,o=i*(1-d),l&&(v=Math.round(v),o=Math.round(o));var y=Vse(h).map(function(S){return v+i*S});return r(b?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),p()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,p()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,p()):l},e.padding=function(h){return arguments.length?(d=Math.min(1,u=+h),p()):d},e.paddingInner=function(h){return arguments.length?(d=Math.min(1,h),p()):d},e.paddingOuter=function(h){return arguments.length?(u=+h,p()):u},e.align=function(h){return arguments.length?(m=Math.max(0,Math.min(1,h)),p()):m},e.copy=function(){return zh(t(),[n,s]).round(l).paddingInner(d).paddingOuter(u).align(m)},Ci.apply(p(),arguments)}function S9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return S9(t())},e}function Sh(){return S9(zh.apply(null,arguments).paddingInner(1))}function b5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function j9(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function D0(){}var Kh=.7,Cb=1/Kh,Ef="\\s*([+-]?\\d+)\\s*",qh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yse=/^#([0-9a-f]{3,8})$/,Xse=new RegExp(`^rgb\\(${Ef},${Ef},${Ef}\\)$`),Qse=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),Zse=new RegExp(`^rgba\\(${Ef},${Ef},${Ef},${qh}\\)$`),Jse=new RegExp(`^rgba\\(${Go},${Go},${Go},${qh}\\)$`),eie=new RegExp(`^hsl\\(${qh},${Go},${Go}\\)$`),tie=new RegExp(`^hsla\\(${qh},${Go},${Go},${qh}\\)$`),mI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b5(D0,ru,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hI,formatHex:hI,formatHex8:rie,formatHsl:nie,formatRgb:gI,toString:gI});function hI(){return this.rgb().formatHex()}function rie(){return this.rgb().formatHex8()}function nie(){return w9(this).formatHsl()}function gI(){return this.rgb().formatRgb()}function ru(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Yse.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?xI(t):r===3?new js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ax(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ax(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xse.exec(e))?new js(t[1],t[2],t[3],1):(t=Qse.exec(e))?new js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zse.exec(e))?ax(t[1],t[2],t[3],t[4]):(t=Jse.exec(e))?ax(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eie.exec(e))?vI(t[1],t[2]/100,t[3]/100,1):(t=tie.exec(e))?vI(t[1],t[2]/100,t[3]/100,t[4]):mI.hasOwnProperty(e)?xI(mI[e]):e==="transparent"?new js(NaN,NaN,NaN,0):null}function xI(e){return new js(e>>16&255,e>>8&255,e&255,1)}function ax(e,t,r,n){return n<=0&&(e=t=r=NaN),new js(e,t,r,n)}function aie(e){return e instanceof D0||(e=ru(e)),e?(e=e.rgb(),new js(e.r,e.g,e.b,e.opacity)):new js}function Tb(e,t,r,n){return arguments.length===1?aie(e):new js(e,t,r,n??1)}function js(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}b5(js,Tb,j9(D0,{brighter(e){return e=e==null?Cb:Math.pow(Cb,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kh:Math.pow(Kh,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new js(Vd(this.r),Vd(this.g),Vd(this.b),kb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bI,formatHex:bI,formatHex8:sie,formatRgb:yI,toString:yI}));function bI(){return`#${Bd(this.r)}${Bd(this.g)}${Bd(this.b)}`}function sie(){return`#${Bd(this.r)}${Bd(this.g)}${Bd(this.b)}${Bd((isNaN(this.opacity)?1:this.opacity)*255)}`}function yI(){const e=kb(this.opacity);return`${e===1?"rgb(":"rgba("}${Vd(this.r)}, ${Vd(this.g)}, ${Vd(this.b)}${e===1?")":`, ${e})`}`}function kb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bd(e){return e=Vd(e),(e<16?"0":"")+e.toString(16)}function vI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qi(e,t,r,n)}function w9(e){if(e instanceof qi)return new qi(e.h,e.s,e.l,e.opacity);if(e instanceof D0||(e=ru(e)),!e)return new qi;if(e instanceof qi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,d=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=d<.5?i+s:2-i-s,o*=60):l=d>0&&d<1?0:o,new qi(o,l,d,e.opacity)}function iie(e,t,r,n){return arguments.length===1?w9(e):new qi(e,t,r,n??1)}function qi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}b5(qi,iie,j9(D0,{brighter(e){return e=e==null?Cb:Math.pow(Cb,e),new qi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kh:Math.pow(Kh,e),new qi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new js(Kj(e>=240?e-240:e+120,s,n),Kj(e,s,n),Kj(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new qi(NI(this.h),sx(this.s),sx(this.l),kb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kb(this.opacity);return`${e===1?"hsl(":"hsla("}${NI(this.h)}, ${sx(this.s)*100}%, ${sx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NI(e){return e=(e||0)%360,e<0?e+360:e}function sx(e){return Math.max(0,Math.min(1,e||0))}function Kj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function oie(e,t,r,n,s){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*s)/6}function lie(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),s=e[n],i=e[n+1],o=n>0?e[n-1]:2*s-i,l=n<t-1?e[n+2]:2*i-s;return oie((r-n/t)*t,o,s,i,l)}}const y5=e=>()=>e;function cie(e,t){return function(r){return e+r*t}}function die(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function uie(e){return(e=+e)==1?E9:function(t,r){return r-t?die(t,r,e):y5(isNaN(t)?r:t)}}function E9(e,t){var r=t-e;return r?cie(e,r):y5(isNaN(e)?t:e)}const Ob=(function e(t){var r=uie(t);function n(s,i){var o=r((s=Tb(s)).r,(i=Tb(i)).r),l=r(s.g,i.g),d=r(s.b,i.b),u=E9(s.opacity,i.opacity);return function(m){return s.r=o(m),s.g=l(m),s.b=d(m),s.opacity=u(m),s+""}}return n.gamma=e,n})(1);function fie(e){return function(t){var r=t.length,n=new Array(r),s=new Array(r),i=new Array(r),o,l;for(o=0;o<r;++o)l=Tb(t[o]),n[o]=l.r||0,s[o]=l.g||0,i[o]=l.b||0;return n=e(n),s=e(s),i=e(i),l.opacity=1,function(d){return l.r=n(d),l.g=s(d),l.b=i(d),l+""}}}var pie=fie(lie);function mie(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function hie(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gie(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Lp(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function xie(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function zi(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bie(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Lp(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var v_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qj=new RegExp(v_.source,"g");function yie(e){return function(){return e}}function vie(e){return function(t){return e(t)+""}}function A9(e,t){var r=v_.lastIndex=qj.lastIndex=0,n,s,i,o=-1,l=[],d=[];for(e=e+"",t=t+"";(n=v_.exec(e))&&(s=qj.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,d.push({i:o,x:zi(n,s)})),r=qj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?vie(d[0].x):yie(t):(t=d.length,function(u){for(var m=0,p;m<t;++m)l[(p=d[m]).i]=p.x(u);return l.join("")})}function Lp(e,t){var r=typeof t,n;return t==null||r==="boolean"?y5(t):(r==="number"?zi:r==="string"?(n=ru(t))?(t=n,Ob):A9:t instanceof ru?Ob:t instanceof Date?xie:hie(t)?mie:Array.isArray(t)?gie:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bie:zi)(e,t)}function v5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var SI=180/Math.PI,N_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _9(e,t,r,n,s,i){var o,l,d;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(d=e*r+t*n)&&(r-=e*d,n-=t*d),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,d/=l),e*n<t*r&&(e=-e,t=-t,d=-d,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*SI,skewX:Math.atan(d)*SI,scaleX:o,scaleY:l}}var ix;function Nie(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?N_:_9(t.a,t.b,t.c,t.d,t.e,t.f)}function Sie(e){return e==null||(ix||(ix=document.createElementNS("http://www.w3.org/2000/svg","g")),ix.setAttribute("transform",e),!(e=ix.transform.baseVal.consolidate()))?N_:(e=e.matrix,_9(e.a,e.b,e.c,e.d,e.e,e.f))}function C9(e,t,r,n){function s(u){return u.length?u.pop()+" ":""}function i(u,m,p,h,b,v){if(u!==p||m!==h){var N=b.push("translate(",null,t,null,r);v.push({i:N-4,x:zi(u,p)},{i:N-2,x:zi(m,h)})}else(p||h)&&b.push("translate("+p+t+h+r)}function o(u,m,p,h){u!==m?(u-m>180?m+=360:m-u>180&&(u+=360),h.push({i:p.push(s(p)+"rotate(",null,n)-2,x:zi(u,m)})):m&&p.push(s(p)+"rotate("+m+n)}function l(u,m,p,h){u!==m?h.push({i:p.push(s(p)+"skewX(",null,n)-2,x:zi(u,m)}):m&&p.push(s(p)+"skewX("+m+n)}function d(u,m,p,h,b,v){if(u!==p||m!==h){var N=b.push(s(b)+"scale(",null,",",null,")");v.push({i:N-4,x:zi(u,p)},{i:N-2,x:zi(m,h)})}else(p!==1||h!==1)&&b.push(s(b)+"scale("+p+","+h+")")}return function(u,m){var p=[],h=[];return u=e(u),m=e(m),i(u.translateX,u.translateY,m.translateX,m.translateY,p,h),o(u.rotate,m.rotate,p,h),l(u.skewX,m.skewX,p,h),d(u.scaleX,u.scaleY,m.scaleX,m.scaleY,p,h),u=m=null,function(b){for(var v=-1,N=h.length,y;++v<N;)p[(y=h[v]).i]=y.x(b);return p.join("")}}}var jie=C9(Nie,"px, ","px)","deg)"),wie=C9(Sie,", ",")",")"),Eie=1e-12;function jI(e){return((e=Math.exp(e))+1/e)/2}function Aie(e){return((e=Math.exp(e))-1/e)/2}function _ie(e){return((e=Math.exp(2*e))-1)/(e+1)}const Cie=(function e(t,r,n){function s(i,o){var l=i[0],d=i[1],u=i[2],m=o[0],p=o[1],h=o[2],b=m-l,v=p-d,N=b*b+v*v,y,S;if(N<Eie)S=Math.log(h/u)/t,y=function(O){return[l+O*b,d+O*v,u*Math.exp(t*O*S)]};else{var w=Math.sqrt(N),_=(h*h-u*u+n*N)/(2*u*r*w),A=(h*h-u*u-n*N)/(2*h*r*w),E=Math.log(Math.sqrt(_*_+1)-_),C=Math.log(Math.sqrt(A*A+1)-A);S=(C-E)/t,y=function(O){var D=O*S,R=jI(E),K=u/(r*w)*(R*_ie(t*D+E)-Aie(E));return[l+K*b,d+K*v,u*R/jI(t*D+E)]}}return y.duration=S*1e3*t/Math.SQRT2,y}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,d=l*l;return e(o,l,d)},s})(Math.SQRT2,2,4);function Tie(e,t){t===void 0&&(t=e,e=Lp);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function kie(e){return function(){return e}}function Rb(e){return+e}var wI=[0,1];function ns(e){return e}function S_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:kie(isNaN(t)?NaN:.5)}function Oie(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Rie(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=S_(s,n),i=r(o,i)):(n=S_(n,s),i=r(i,o)),function(l){return i(n(l))}}function Pie(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=S_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var d=P0(e,l,1,n)-1;return i[d](s[d](l))}}function M0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bv(){var e=wI,t=wI,r=Lp,n,s,i,o=ns,l,d,u;function m(){var h=Math.min(e.length,t.length);return o!==ns&&(o=Oie(e[0],e[h-1])),l=h>2?Pie:Rie,d=u=null,p}function p(h){return h==null||isNaN(h=+h)?i:(d||(d=l(e.map(n),t,r)))(n(o(h)))}return p.invert=function(h){return o(s((u||(u=l(t,e.map(n),zi)))(h)))},p.domain=function(h){return arguments.length?(e=Array.from(h,Rb),m()):e.slice()},p.range=function(h){return arguments.length?(t=Array.from(h),m()):t.slice()},p.rangeRound=function(h){return t=Array.from(h),r=v5,m()},p.clamp=function(h){return arguments.length?(o=h?!0:ns,m()):o!==ns},p.interpolate=function(h){return arguments.length?(r=h,m()):r},p.unknown=function(h){return arguments.length?(i=h,p):i},function(h,b){return n=h,s=b,m()}}function N5(){return bv()(ns,ns)}function Die(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Pb(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Wf(e){return e=Pb(Math.abs(e)),e?e[1]:NaN}function Mie(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],d=0;s>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),i.push(r.substring(s-=l,s+l)),!((d+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Iie(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Lie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wh(e){if(!(t=Lie.exec(e)))throw new Error("invalid format: "+e);var t;return new S5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wh.prototype=S5.prototype;function S5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}S5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $ie(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Db;function Fie(e,t){var r=Pb(e,t);if(!r)return Db=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(Db=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Pb(e,Math.max(0,t+i-1))[0]}function EI(e,t){var r=Pb(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const AI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Die,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EI(e*100,t),r:EI,s:Fie,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _I(e){return e}var CI=Array.prototype.map,TI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bie(e){var t=e.grouping===void 0||e.thousands===void 0?_I:Mie(CI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_I:Iie(CI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(p,h){p=Wh(p);var b=p.fill,v=p.align,N=p.sign,y=p.symbol,S=p.zero,w=p.width,_=p.comma,A=p.precision,E=p.trim,C=p.type;C==="n"?(_=!0,C="g"):AI[C]||(A===void 0&&(A=12),E=!0,C="g"),(S||b==="0"&&v==="=")&&(S=!0,b="0",v="=");var O=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),D=(y==="$"?n:/[%p]/.test(C)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),R=AI[C],K=/[defgprs%]/.test(C);A=A===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function H($){var U=O,P=D,G,L,M;if(C==="c")P=R($)+P,$="";else{$=+$;var B=$<0||1/$<0;if($=isNaN($)?d:R(Math.abs($),A),E&&($=$ie($)),B&&+$==0&&N!=="+"&&(B=!1),U=(B?N==="("?N:l:N==="-"||N==="("?"":N)+U,P=(C==="s"&&!isNaN($)&&Db!==void 0?TI[8+Db/3]:"")+P+(B&&N==="("?")":""),K){for(G=-1,L=$.length;++G<L;)if(M=$.charCodeAt(G),48>M||M>57){P=(M===46?s+$.slice(G+1):$.slice(G))+P,$=$.slice(0,G);break}}}_&&!S&&($=t($,1/0));var J=U.length+$.length+P.length,ee=J<w?new Array(w-J+1).join(b):"";switch(_&&S&&($=t(ee+$,ee.length?w-P.length:1/0),ee=""),v){case"<":$=U+$+P+ee;break;case"=":$=U+ee+$+P;break;case"^":$=ee.slice(0,J=ee.length>>1)+U+$+P+ee.slice(J);break;default:$=ee+U+$+P;break}return i($)}return H.toString=function(){return p+""},H}function m(p,h){var b=Math.max(-8,Math.min(8,Math.floor(Wf(h)/3)))*3,v=Math.pow(10,-b),N=u((p=Wh(p),p.type="f",p),{suffix:TI[8+b/3]});return function(y){return N(v*y)}}return{format:u,formatPrefix:m}}var ox,j5,T9;Uie({thousands:",",grouping:[3],currency:["$",""]});function Uie(e){return ox=Bie(e),j5=ox.format,T9=ox.formatPrefix,ox}function Hie(e){return Math.max(0,-Wf(Math.abs(e)))}function Gie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wf(t)/3)))*3-Wf(Math.abs(e)))}function zie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wf(t)-Wf(e))+1}function k9(e,t,r,n){var s=b_(e,t,r),i;switch(n=Wh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Gie(s,o))&&(n.precision=i),T9(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=zie(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Hie(s))&&(n.precision=i-(n.type==="%")*2);break}}return j5(n)}function rd(e){var t=e.domain;return e.ticks=function(r){var n=t();return g_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return k9(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],d,u,m=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);m-- >0;){if(u=x_(o,l,r),u===d)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;d=u}return e},e}function Mb(){var e=N5();return e.copy=function(){return M0(e,Mb())},Ci.apply(e,arguments),rd(e)}function O9(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Rb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return O9(e).unknown(t)},e=arguments.length?Array.from(e,Rb):[0,1],rd(r)}function R9(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function kI(e){return Math.log(e)}function OI(e){return Math.exp(e)}function Kie(e){return-Math.log(-e)}function qie(e){return-Math.exp(-e)}function Wie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vie(e){return e===10?Wie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Yie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function RI(e){return(t,r)=>-e(-t,r)}function w5(e){const t=e(kI,OI),r=t.domain;let n=10,s,i;function o(){return s=Yie(n),i=Vie(n),r()[0]<0?(s=RI(s),i=RI(i),e(Kie,qie)):e(kI,OI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const d=r();let u=d[0],m=d[d.length-1];const p=m<u;p&&([u,m]=[m,u]);let h=s(u),b=s(m),v,N;const y=l==null?10:+l;let S=[];if(!(n%1)&&b-h<y){if(h=Math.floor(h),b=Math.ceil(b),u>0){for(;h<=b;++h)for(v=1;v<n;++v)if(N=h<0?v/i(-h):v*i(h),!(N<u)){if(N>m)break;S.push(N)}}else for(;h<=b;++h)for(v=n-1;v>=1;--v)if(N=h>0?v/i(-h):v*i(h),!(N<u)){if(N>m)break;S.push(N)}S.length*2<y&&(S=g_(u,m,y))}else S=g_(h,b,Math.min(b-h,y)).map(i);return p?S.reverse():S},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Wh(d)).precision==null&&(d.trim=!0),d=j5(d)),l===1/0)return d;const u=Math.max(1,n*l/t.ticks().length);return m=>{let p=m/i(Math.round(s(m)));return p*n<n-.5&&(p*=n),p<=u?d(m):""}},t.nice=()=>r(R9(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function P9(){const e=w5(bv()).domain([1,10]);return e.copy=()=>M0(e,P9()).base(e.base()),Ci.apply(e,arguments),e}function PI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function E5(e){var t=1,r=e(PI(t),DI(t));return r.constant=function(n){return arguments.length?e(PI(t=+n),DI(t)):t},rd(r)}function D9(){var e=E5(bv());return e.copy=function(){return M0(e,D9()).constant(e.constant())},Ci.apply(e,arguments)}function MI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Xie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qie(e){return e<0?-e*e:e*e}function A5(e){var t=e(ns,ns),r=1;function n(){return r===1?e(ns,ns):r===.5?e(Xie,Qie):e(MI(r),MI(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},rd(t)}function _5(){var e=A5(bv());return e.copy=function(){return M0(e,_5()).exponent(e.exponent())},Ci.apply(e,arguments),e}function Zie(){return _5.apply(null,arguments).exponent(.5)}function II(e){return Math.sign(e)*e*e}function Jie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function M9(){var e=N5(),t=[0,1],r=!1,n;function s(i){var o=Jie(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(II(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Rb)).map(II)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return M9(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ci.apply(s,arguments),rd(s)}function I9(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Kse(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[P0(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(qc),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return I9().domain(e).range(t).unknown(n)},Ci.apply(i,arguments)}function C5(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(d){return d!=null&&d<=d?s[P0(n,d,0,r)]:i}function l(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,l()):s.slice()},o.invertExtent=function(d){var u=s.indexOf(d);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return C5().domain([e,t]).range(s).unknown(i)},Ci.apply(rd(o),arguments)}function L9(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[P0(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return L9().domain(e).range(t).unknown(r)},Ci.apply(s,arguments)}const Wj=new Date,Vj=new Date;function ia(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const d=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let u;do d.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return d},s.filter=i=>ia(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Wj.setTime(+i),Vj.setTime(+o),e(Wj),e(Vj),Math.floor(r(Wj,Vj))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Ib=ia(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ib.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ia(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ib);Ib.range;const kl=1e3,Si=kl*60,Ol=Si*60,Bl=Ol*24,T5=Bl*7,LI=Bl*30,Yj=Bl*365,Ud=ia(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getUTCSeconds());Ud.range;const k5=ia(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kl)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getMinutes());k5.range;const O5=ia(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getUTCMinutes());O5.range;const R5=ia(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kl-e.getMinutes()*Si)},(e,t)=>{e.setTime(+e+t*Ol)},(e,t)=>(t-e)/Ol,e=>e.getHours());R5.range;const P5=ia(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ol)},(e,t)=>(t-e)/Ol,e=>e.getUTCHours());P5.range;const I0=ia(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Si)/Bl,e=>e.getDate()-1);I0.range;const yv=ia(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bl,e=>e.getUTCDate()-1);yv.range;const $9=ia(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bl,e=>Math.floor(e/Bl));$9.range;function pu(e){return ia(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Si)/T5)}const vv=pu(0),Lb=pu(1),eoe=pu(2),toe=pu(3),Vf=pu(4),roe=pu(5),noe=pu(6);vv.range;Lb.range;eoe.range;toe.range;Vf.range;roe.range;noe.range;function mu(e){return ia(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/T5)}const Nv=mu(0),$b=mu(1),aoe=mu(2),soe=mu(3),Yf=mu(4),ioe=mu(5),ooe=mu(6);Nv.range;$b.range;aoe.range;soe.range;Yf.range;ioe.range;ooe.range;const D5=ia(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());D5.range;const M5=ia(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());M5.range;const Ul=ia(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ul.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ia(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ul.range;const Hl=ia(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ia(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hl.range;function F9(e,t,r,n,s,i){const o=[[Ud,1,kl],[Ud,5,5*kl],[Ud,15,15*kl],[Ud,30,30*kl],[i,1,Si],[i,5,5*Si],[i,15,15*Si],[i,30,30*Si],[s,1,Ol],[s,3,3*Ol],[s,6,6*Ol],[s,12,12*Ol],[n,1,Bl],[n,2,2*Bl],[r,1,T5],[t,1,LI],[t,3,3*LI],[e,1,Yj]];function l(u,m,p){const h=m<u;h&&([u,m]=[m,u]);const b=p&&typeof p.range=="function"?p:d(u,m,p),v=b?b.range(u,+m+1):[];return h?v.reverse():v}function d(u,m,p){const h=Math.abs(m-u)/p,b=g5(([,,y])=>y).right(o,h);if(b===o.length)return e.every(b_(u/Yj,m/Yj,p));if(b===0)return Ib.every(Math.max(b_(u,m,p),1));const[v,N]=o[h/o[b-1][2]<o[b][2]/h?b-1:b];return v.every(N)}return[l,d]}const[loe,coe]=F9(Hl,M5,Nv,$9,P5,O5),[doe,uoe]=F9(Ul,D5,vv,I0,R5,k5);function Xj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Im(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function foe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,u=Lm(s),m=$m(s),p=Lm(i),h=$m(i),b=Lm(o),v=$m(o),N=Lm(l),y=$m(l),S=Lm(d),w=$m(d),_={a:M,A:B,b:J,B:ee,c:null,d:GI,e:GI,f:Moe,g:Koe,G:Woe,H:Roe,I:Poe,j:Doe,L:B9,m:Ioe,M:Loe,p:I,q:Y,Q:qI,s:WI,S:$oe,u:Foe,U:Boe,V:Uoe,w:Hoe,W:Goe,x:null,X:null,y:zoe,Y:qoe,Z:Voe,"%":KI},A={a:ae,A:le,b:he,B:X,c:null,d:zI,e:zI,f:Zoe,g:lle,G:dle,H:Yoe,I:Xoe,j:Qoe,L:H9,m:Joe,M:ele,p:ne,q:ve,Q:qI,s:WI,S:tle,u:rle,U:nle,V:ale,w:sle,W:ile,x:null,X:null,y:ole,Y:cle,Z:ule,"%":KI},E={a:K,A:H,b:$,B:U,c:P,d:UI,e:UI,f:Coe,g:BI,G:FI,H:HI,I:HI,j:woe,L:_oe,m:joe,M:Eoe,p:R,q:Soe,Q:koe,s:Ooe,S:Aoe,u:xoe,U:boe,V:yoe,w:goe,W:voe,x:G,X:L,y:BI,Y:FI,Z:Noe,"%":Toe};_.x=C(r,_),_.X=C(n,_),_.c=C(t,_),A.x=C(r,A),A.X=C(n,A),A.c=C(t,A);function C(pe,Ce){return function(ge){var se=[],Ze=-1,V=0,de=pe.length,Ae,ce,ye;for(ge instanceof Date||(ge=new Date(+ge));++Ze<de;)pe.charCodeAt(Ze)===37&&(se.push(pe.slice(V,Ze)),(ce=$I[Ae=pe.charAt(++Ze)])!=null?Ae=pe.charAt(++Ze):ce=Ae==="e"?" ":"0",(ye=Ce[Ae])&&(Ae=ye(ge,ce)),se.push(Ae),V=Ze+1);return se.push(pe.slice(V,Ze)),se.join("")}}function O(pe,Ce){return function(ge){var se=Im(1900,void 0,1),Ze=D(se,pe,ge+="",0),V,de;if(Ze!=ge.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Ce&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(V=Qj(Im(se.y,0,1)),de=V.getUTCDay(),V=de>4||de===0?$b.ceil(V):$b(V),V=yv.offset(V,(se.V-1)*7),se.y=V.getUTCFullYear(),se.m=V.getUTCMonth(),se.d=V.getUTCDate()+(se.w+6)%7):(V=Xj(Im(se.y,0,1)),de=V.getDay(),V=de>4||de===0?Lb.ceil(V):Lb(V),V=I0.offset(V,(se.V-1)*7),se.y=V.getFullYear(),se.m=V.getMonth(),se.d=V.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),de="Z"in se?Qj(Im(se.y,0,1)).getUTCDay():Xj(Im(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(de+5)%7:se.w+se.U*7-(de+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Qj(se)):Xj(se)}}function D(pe,Ce,ge,se){for(var Ze=0,V=Ce.length,de=ge.length,Ae,ce;Ze<V;){if(se>=de)return-1;if(Ae=Ce.charCodeAt(Ze++),Ae===37){if(Ae=Ce.charAt(Ze++),ce=E[Ae in $I?Ce.charAt(Ze++):Ae],!ce||(se=ce(pe,ge,se))<0)return-1}else if(Ae!=ge.charCodeAt(se++))return-1}return se}function R(pe,Ce,ge){var se=u.exec(Ce.slice(ge));return se?(pe.p=m.get(se[0].toLowerCase()),ge+se[0].length):-1}function K(pe,Ce,ge){var se=b.exec(Ce.slice(ge));return se?(pe.w=v.get(se[0].toLowerCase()),ge+se[0].length):-1}function H(pe,Ce,ge){var se=p.exec(Ce.slice(ge));return se?(pe.w=h.get(se[0].toLowerCase()),ge+se[0].length):-1}function $(pe,Ce,ge){var se=S.exec(Ce.slice(ge));return se?(pe.m=w.get(se[0].toLowerCase()),ge+se[0].length):-1}function U(pe,Ce,ge){var se=N.exec(Ce.slice(ge));return se?(pe.m=y.get(se[0].toLowerCase()),ge+se[0].length):-1}function P(pe,Ce,ge){return D(pe,t,Ce,ge)}function G(pe,Ce,ge){return D(pe,r,Ce,ge)}function L(pe,Ce,ge){return D(pe,n,Ce,ge)}function M(pe){return o[pe.getDay()]}function B(pe){return i[pe.getDay()]}function J(pe){return d[pe.getMonth()]}function ee(pe){return l[pe.getMonth()]}function I(pe){return s[+(pe.getHours()>=12)]}function Y(pe){return 1+~~(pe.getMonth()/3)}function ae(pe){return o[pe.getUTCDay()]}function le(pe){return i[pe.getUTCDay()]}function he(pe){return d[pe.getUTCMonth()]}function X(pe){return l[pe.getUTCMonth()]}function ne(pe){return s[+(pe.getUTCHours()>=12)]}function ve(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ce=C(pe+="",_);return Ce.toString=function(){return pe},Ce},parse:function(pe){var Ce=O(pe+="",!1);return Ce.toString=function(){return pe},Ce},utcFormat:function(pe){var Ce=C(pe+="",A);return Ce.toString=function(){return pe},Ce},utcParse:function(pe){var Ce=O(pe+="",!0);return Ce.toString=function(){return pe},Ce}}}var $I={"-":"",_:" ",0:"0"},xa=/^\s*\d+/,poe=/^%/,moe=/[\\^$*+?|[\]().{}]/g;function Dr(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function hoe(e){return e.replace(moe,"\\$&")}function Lm(e){return new RegExp("^(?:"+e.map(hoe).join("|")+")","i")}function $m(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function goe(e,t,r){var n=xa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function xoe(e,t,r){var n=xa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function boe(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function yoe(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function voe(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function FI(e,t,r){var n=xa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function BI(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Noe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Soe(e,t,r){var n=xa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function joe(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function UI(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function woe(e,t,r){var n=xa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function HI(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Eoe(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Aoe(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function _oe(e,t,r){var n=xa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Coe(e,t,r){var n=xa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Toe(e,t,r){var n=poe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function koe(e,t,r){var n=xa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ooe(e,t,r){var n=xa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function GI(e,t){return Dr(e.getDate(),t,2)}function Roe(e,t){return Dr(e.getHours(),t,2)}function Poe(e,t){return Dr(e.getHours()%12||12,t,2)}function Doe(e,t){return Dr(1+I0.count(Ul(e),e),t,3)}function B9(e,t){return Dr(e.getMilliseconds(),t,3)}function Moe(e,t){return B9(e,t)+"000"}function Ioe(e,t){return Dr(e.getMonth()+1,t,2)}function Loe(e,t){return Dr(e.getMinutes(),t,2)}function $oe(e,t){return Dr(e.getSeconds(),t,2)}function Foe(e){var t=e.getDay();return t===0?7:t}function Boe(e,t){return Dr(vv.count(Ul(e)-1,e),t,2)}function U9(e){var t=e.getDay();return t>=4||t===0?Vf(e):Vf.ceil(e)}function Uoe(e,t){return e=U9(e),Dr(Vf.count(Ul(e),e)+(Ul(e).getDay()===4),t,2)}function Hoe(e){return e.getDay()}function Goe(e,t){return Dr(Lb.count(Ul(e)-1,e),t,2)}function zoe(e,t){return Dr(e.getFullYear()%100,t,2)}function Koe(e,t){return e=U9(e),Dr(e.getFullYear()%100,t,2)}function qoe(e,t){return Dr(e.getFullYear()%1e4,t,4)}function Woe(e,t){var r=e.getDay();return e=r>=4||r===0?Vf(e):Vf.ceil(e),Dr(e.getFullYear()%1e4,t,4)}function Voe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dr(t/60|0,"0",2)+Dr(t%60,"0",2)}function zI(e,t){return Dr(e.getUTCDate(),t,2)}function Yoe(e,t){return Dr(e.getUTCHours(),t,2)}function Xoe(e,t){return Dr(e.getUTCHours()%12||12,t,2)}function Qoe(e,t){return Dr(1+yv.count(Hl(e),e),t,3)}function H9(e,t){return Dr(e.getUTCMilliseconds(),t,3)}function Zoe(e,t){return H9(e,t)+"000"}function Joe(e,t){return Dr(e.getUTCMonth()+1,t,2)}function ele(e,t){return Dr(e.getUTCMinutes(),t,2)}function tle(e,t){return Dr(e.getUTCSeconds(),t,2)}function rle(e){var t=e.getUTCDay();return t===0?7:t}function nle(e,t){return Dr(Nv.count(Hl(e)-1,e),t,2)}function G9(e){var t=e.getUTCDay();return t>=4||t===0?Yf(e):Yf.ceil(e)}function ale(e,t){return e=G9(e),Dr(Yf.count(Hl(e),e)+(Hl(e).getUTCDay()===4),t,2)}function sle(e){return e.getUTCDay()}function ile(e,t){return Dr($b.count(Hl(e)-1,e),t,2)}function ole(e,t){return Dr(e.getUTCFullYear()%100,t,2)}function lle(e,t){return e=G9(e),Dr(e.getUTCFullYear()%100,t,2)}function cle(e,t){return Dr(e.getUTCFullYear()%1e4,t,4)}function dle(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Yf(e):Yf.ceil(e),Dr(e.getUTCFullYear()%1e4,t,4)}function ule(){return"+0000"}function KI(){return"%"}function qI(e){return+e}function WI(e){return Math.floor(+e/1e3)}var qu,z9,K9;fle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fle(e){return qu=foe(e),z9=qu.format,qu.parse,K9=qu.utcFormat,qu.utcParse,qu}function ple(e){return new Date(e)}function mle(e){return e instanceof Date?+e:+new Date(+e)}function I5(e,t,r,n,s,i,o,l,d,u){var m=N5(),p=m.invert,h=m.domain,b=u(".%L"),v=u(":%S"),N=u("%I:%M"),y=u("%I %p"),S=u("%a %d"),w=u("%b %d"),_=u("%B"),A=u("%Y");function E(C){return(d(C)<C?b:l(C)<C?v:o(C)<C?N:i(C)<C?y:n(C)<C?s(C)<C?S:w:r(C)<C?_:A)(C)}return m.invert=function(C){return new Date(p(C))},m.domain=function(C){return arguments.length?h(Array.from(C,mle)):h().map(ple)},m.ticks=function(C){var O=h();return e(O[0],O[O.length-1],C??10)},m.tickFormat=function(C,O){return O==null?E:u(O)},m.nice=function(C){var O=h();return(!C||typeof C.range!="function")&&(C=t(O[0],O[O.length-1],C??10)),C?h(R9(O,C)):m},m.copy=function(){return M0(m,I5(e,t,r,n,s,i,o,l,d,u))},m}function hle(){return Ci.apply(I5(doe,uoe,Ul,D5,vv,I0,R5,k5,Ud,z9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gle(){return Ci.apply(I5(loe,coe,Hl,M5,Nv,yv,P5,O5,Ud,K9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sv(){var e=0,t=1,r,n,s,i,o=ns,l=!1,d;function u(p){return p==null||isNaN(p=+p)?d:o(s===0?.5:(p=(i(p)-r)*s,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function m(p){return function(h){var b,v;return arguments.length?([b,v]=h,o=p(b,v),u):[o(0),o(1)]}}return u.range=m(Lp),u.rangeRound=m(v5),u.unknown=function(p){return arguments.length?(d=p,u):d},function(p){return i=p,r=p(e),n=p(t),s=r===n?0:1/(n-r),u}}function nd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function L5(){var e=rd(Sv()(ns));return e.copy=function(){return nd(e,L5())},Yl.apply(e,arguments)}function q9(){var e=w5(Sv()).domain([1,10]);return e.copy=function(){return nd(e,q9()).base(e.base())},Yl.apply(e,arguments)}function W9(){var e=E5(Sv());return e.copy=function(){return nd(e,W9()).constant(e.constant())},Yl.apply(e,arguments)}function $5(){var e=A5(Sv());return e.copy=function(){return nd(e,$5()).exponent(e.exponent())},Yl.apply(e,arguments)}function xle(){return $5.apply(null,arguments).exponent(.5)}function V9(){var e=[],t=ns;function r(n){if(n!=null&&!isNaN(n=+n))return t((P0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(qc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>zse(e,i/n))},r.copy=function(){return V9(t).domain(e)},Yl.apply(r,arguments)}function jv(){var e=0,t=.5,r=1,n=1,s,i,o,l,d,u=ns,m,p=!1,h;function b(N){return isNaN(N=+N)?h:(N=.5+((N=+m(N))-i)*(n*N<n*i?l:d),u(p?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([e,t,r]=N,s=m(e=+e),i=m(t=+t),o=m(r=+r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,b):[e,t,r]},b.clamp=function(N){return arguments.length?(p=!!N,b):p},b.interpolator=function(N){return arguments.length?(u=N,b):u};function v(N){return function(y){var S,w,_;return arguments.length?([S,w,_]=y,u=Tie(N,[S,w,_]),b):[u(0),u(.5),u(1)]}}return b.range=v(Lp),b.rangeRound=v(v5),b.unknown=function(N){return arguments.length?(h=N,b):h},function(N){return m=N,s=N(e),i=N(t),o=N(r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,b}}function Y9(){var e=rd(jv()(ns));return e.copy=function(){return nd(e,Y9())},Yl.apply(e,arguments)}function X9(){var e=w5(jv()).domain([.1,1,10]);return e.copy=function(){return nd(e,X9()).base(e.base())},Yl.apply(e,arguments)}function Q9(){var e=E5(jv());return e.copy=function(){return nd(e,Q9()).constant(e.constant())},Yl.apply(e,arguments)}function F5(){var e=A5(jv());return e.copy=function(){return nd(e,F5()).exponent(e.exponent())},Yl.apply(e,arguments)}function ble(){return F5.apply(null,arguments).exponent(.5)}const VI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zh,scaleDiverging:Y9,scaleDivergingLog:X9,scaleDivergingPow:F5,scaleDivergingSqrt:ble,scaleDivergingSymlog:Q9,scaleIdentity:O9,scaleImplicit:y_,scaleLinear:Mb,scaleLog:P9,scaleOrdinal:x5,scalePoint:Sh,scalePow:_5,scaleQuantile:I9,scaleQuantize:C5,scaleRadial:M9,scaleSequential:L5,scaleSequentialLog:q9,scaleSequentialPow:$5,scaleSequentialQuantile:V9,scaleSequentialSqrt:xle,scaleSequentialSymlog:W9,scaleSqrt:Zie,scaleSymlog:D9,scaleThreshold:L9,scaleTime:hle,scaleUtc:gle,tickFormat:k9},Symbol.toStringTag,{value:"Module"}));var Zj,YI;function wv(){if(YI)return Zj;YI=1;var e=Rp();function t(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],d=n(l);if(d!=null&&(u===void 0?d===d&&!e(d):s(d,u)))var u=d,m=l}return m}return Zj=t,Zj}var Jj,XI;function Z9(){if(XI)return Jj;XI=1;function e(t,r){return t>r}return Jj=e,Jj}var ew,QI;function yle(){if(QI)return ew;QI=1;var e=wv(),t=Z9(),r=Ip();function n(s){return s&&s.length?e(s,r,t):void 0}return ew=n,ew}var vle=yle();const Fc=$r(vle);var tw,ZI;function J9(){if(ZI)return tw;ZI=1;function e(t,r){return t<r}return tw=e,tw}var rw,JI;function Nle(){if(JI)return rw;JI=1;var e=wv(),t=J9(),r=Ip();function n(s){return s&&s.length?e(s,r,t):void 0}return rw=n,rw}var Sle=Nle();const Ev=$r(Sle);var nw,eL;function jle(){if(eL)return nw;eL=1;var e=sv(),t=Zo(),r=s9(),n=os();function s(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return nw=s,nw}var aw,tL;function wle(){if(tL)return aw;tL=1;var e=f5(),t=jle();function r(n,s){return e(t(n,s),1)}return aw=r,aw}var Ele=wle();const Ale=$r(Ele);var sw,rL;function _le(){if(rL)return sw;rL=1;var e=u5();function t(r,n){return e(r,n)}return sw=t,sw}var Cle=_le();const Xc=$r(Cle);var $p=1e9,Tle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},U5,vn=!0,Ei="[DecimalError] ",Yd=Ei+"Invalid argument: ",B5=Ei+"Exponent out of range: ",Fp=Math.floor,Md=Math.pow,kle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bs,ma=1e7,fn=7,eU=9007199254740991,Fb=Fp(eU/fn),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*fn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};mt.dividedBy=mt.div=function(e){return Ml(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var t=this,r=t.constructor;return Zr(Ml(t,new r(e),0,1),r.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return Kn(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Bs))throw Error(Ei+"NaN");if(r.s<1)throw Error(Ei+(r.s?"NaN":"-Infinity"));return r.eq(Bs)?new n(0):(vn=!1,t=Ml(Vh(r,i),Vh(e,i),i),vn=!0,Zr(t,s))};mt.minus=mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nU(t,e):tU(t,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Ei+"NaN");return r.s?(vn=!1,t=Ml(r,e,0,1).times(e),vn=!0,r.minus(t)):Zr(new n(r),s)};mt.naturalExponential=mt.exp=function(){return rU(this)};mt.naturalLogarithm=mt.ln=function(){return Vh(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tU(t,e):nU(t,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yd+e);if(t=Kn(s)+1,n=s.d.length-1,r=n*fn+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};mt.squareRoot=mt.sqrt=function(){var e,t,r,n,s,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Ei+"NaN")}for(e=Kn(l),vn=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Po(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Fp((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=o=r+3;;)if(i=n,n=i.plus(Ml(l,i,o+2)).times(.5),Po(i.d).slice(0,o)===(t=Po(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Zr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return vn=!0,Zr(n,r)};mt.times=mt.mul=function(e){var t,r,n,s,i,o,l,d,u,m=this,p=m.constructor,h=m.d,b=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,r=m.e+e.e,d=h.length,u=b.length,d<u&&(i=h,h=b,b=i,o=d,d=u,u=o),i=[],o=d+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=d+n;s>n;)l=i[s]+b[n]*h[s-n-1]+t,i[s--]=l%ma|0,t=l/ma|0;i[s]=(i[s]+t)%ma|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,vn?Zr(e,p.precision):e};mt.toDecimalPlaces=mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Yo(e,0,$p),t===void 0?t=n.rounding:Yo(t,0,8),Zr(r,e+Kn(r)+1,t))};mt.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=nu(n,!0):(Yo(e,0,$p),t===void 0?t=s.rounding:Yo(t,0,8),n=Zr(new s(n),e+1,t),r=nu(n,!0,e+1)),r};mt.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?nu(s):(Yo(e,0,$p),t===void 0?t=i.rounding:Yo(t,0,8),n=Zr(new i(s),e+Kn(s)+1,t),r=nu(n.abs(),!1,e+Kn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};mt.toInteger=mt.toint=function(){var e=this,t=e.constructor;return Zr(new t(e),Kn(e)+1,t.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var t,r,n,s,i,o,l=this,d=l.constructor,u=12,m=+(e=new d(e));if(!e.s)return new d(Bs);if(l=new d(l),!l.s){if(e.s<1)throw Error(Ei+"Infinity");return l}if(l.eq(Bs))return l;if(n=d.precision,e.eq(Bs))return Zr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=m<0?-m:m)<=eU){for(s=new d(Bs),t=Math.ceil(n/fn+4),vn=!1;r%2&&(s=s.times(l),aL(s.d,t)),r=Fp(r/2),r!==0;)l=l.times(l),aL(l.d,t);return vn=!0,e.s<0?new d(Bs).div(s):Zr(s,n)}}else if(i<0)throw Error(Ei+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,vn=!1,s=e.times(Vh(l,n+u)),vn=!0,s=rU(s),s.s=i,s};mt.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Kn(s),n=nu(s,r<=i.toExpNeg||r>=i.toExpPos)):(Yo(e,1,$p),t===void 0?t=i.rounding:Yo(t,0,8),s=Zr(new i(s),e,t),r=Kn(s),n=nu(s,e<=r||r<=i.toExpNeg,e)),n};mt.toSignificantDigits=mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Yo(e,1,$p),t===void 0?t=n.rounding:Yo(t,0,8)),Zr(new n(r),e,t)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kn(e),r=e.constructor;return nu(e,t<=r.toExpNeg||t>=r.toExpPos)};function tU(e,t){var r,n,s,i,o,l,d,u,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),vn?Zr(t,p):t;if(d=e.d,u=t.d,o=e.e,s=t.e,d=d.slice(),i=o-s,i){for(i<0?(n=d,i=-i,l=u.length):(n=u,s=o,l=d.length),o=Math.ceil(p/fn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=d.length,i=u.length,l-i<0&&(i=l,n=u,u=d,d=n),r=0;i;)r=(d[--i]=d[i]+u[i]+r)/ma|0,d[i]%=ma;for(r&&(d.unshift(r),++s),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=s,vn?Zr(t,p):t}function Yo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Yd+e)}function Po(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=fn-n.length,r&&(i+=Oc(r)),i+=n;o=e[t],n=o+"",r=fn-n.length,r&&(i+=Oc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ml=(function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%ma|0,o=i/ma|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(n[l]!=s[l]){d=n[l]>s[l]?1:-1;break}return d}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*ma+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,d,u,m,p,h,b,v,N,y,S,w,_,A,E,C,O,D,R=n.constructor,K=n.s==s.s?1:-1,H=n.d,$=s.d;if(!n.s)return new R(n);if(!s.s)throw Error(Ei+"Division by zero");for(d=n.e-s.e,O=$.length,E=H.length,b=new R(K),v=b.d=[],u=0;$[u]==(H[u]||0);)++u;if($[u]>(H[u]||0)&&--d,i==null?w=i=R.precision:o?w=i+(Kn(n)-Kn(s))+1:w=i,w<0)return new R(0);if(w=w/fn+2|0,u=0,O==1)for(m=0,$=$[0],w++;(u<E||m)&&w--;u++)_=m*ma+(H[u]||0),v[u]=_/$|0,m=_%$|0;else{for(m=ma/($[0]+1)|0,m>1&&($=e($,m),H=e(H,m),O=$.length,E=H.length),A=O,N=H.slice(0,O),y=N.length;y<O;)N[y++]=0;D=$.slice(),D.unshift(0),C=$[0],$[1]>=ma/2&&++C;do m=0,l=t($,N,O,y),l<0?(S=N[0],O!=y&&(S=S*ma+(N[1]||0)),m=S/C|0,m>1?(m>=ma&&(m=ma-1),p=e($,m),h=p.length,y=N.length,l=t(p,N,h,y),l==1&&(m--,r(p,O<h?D:$,h))):(m==0&&(l=m=1),p=$.slice()),h=p.length,h<y&&p.unshift(0),r(N,p,y),l==-1&&(y=N.length,l=t($,N,O,y),l<1&&(m++,r(N,O<y?D:$,y))),y=N.length):l===0&&(m++,N=[0]),v[u++]=m,l&&N[0]?N[y++]=H[A]||0:(N=[H[A]],y=1);while((A++<E||N[0]!==void 0)&&w--)}return v[0]||v.shift(),b.e=d,Zr(b,o?i+Kn(b)+1:i)}})();function rU(e,t){var r,n,s,i,o,l,d=0,u=0,m=e.constructor,p=m.precision;if(Kn(e)>16)throw Error(B5+Kn(e));if(!e.s)return new m(Bs);for(vn=!1,l=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Md(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new m(Bs),m.precision=l;;){if(s=Zr(s.times(e),l),r=r.times(++d),o=i.plus(Ml(s,r,l)),Po(o.d).slice(0,l)===Po(i.d).slice(0,l)){for(;u--;)i=Zr(i.times(i),l);return m.precision=p,t==null?(vn=!0,Zr(i,p)):i}i=o}}function Kn(e){for(var t=e.e*fn,r=e.d[0];r>=10;r/=10)t++;return t}function iw(e,t,r){if(t>e.LN10.sd())throw vn=!0,r&&(e.precision=r),Error(Ei+"LN10 precision limit exceeded");return Zr(new e(e.LN10),t)}function Oc(e){for(var t="";e--;)t+="0";return t}function Vh(e,t){var r,n,s,i,o,l,d,u,m,p=1,h=10,b=e,v=b.d,N=b.constructor,y=N.precision;if(b.s<1)throw Error(Ei+(b.s?"NaN":"-Infinity"));if(b.eq(Bs))return new N(0);if(t==null?(vn=!1,u=y):u=t,b.eq(10))return t==null&&(vn=!0),iw(N,u);if(u+=h,N.precision=u,r=Po(v),n=r.charAt(0),i=Kn(b),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Po(b.d),n=r.charAt(0),p++;i=Kn(b),n>1?(b=new N("0."+r),i++):b=new N(n+"."+r.slice(1))}else return d=iw(N,u+2,y).times(i+""),b=Vh(new N(n+"."+r.slice(1)),u-h).plus(d),N.precision=y,t==null?(vn=!0,Zr(b,y)):b;for(l=o=b=Ml(b.minus(Bs),b.plus(Bs),u),m=Zr(b.times(b),u),s=3;;){if(o=Zr(o.times(m),u),d=l.plus(Ml(o,new N(s),u)),Po(d.d).slice(0,u)===Po(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(iw(N,u+2,y).times(i+""))),l=Ml(l,new N(p),u),N.precision=y,t==null?(vn=!0,Zr(l,y)):l;l=d,s+=2}}function nL(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Fp(r/fn),e.d=[],n=(r+1)%fn,r<0&&(n+=fn),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=fn;n<s;)e.d.push(+t.slice(n,n+=fn));t=t.slice(n),n=fn-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),vn&&(e.e>Fb||e.e<-Fb))throw Error(B5+r)}else e.s=0,e.e=0,e.d=[0];return e}function Zr(e,t,r){var n,s,i,o,l,d,u,m,p=e.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=fn,s=t,u=p[m=0];else{if(m=Math.ceil((n+1)/fn),i=p.length,m>=i)return e;for(u=i=p[m],o=1;i>=10;i/=10)o++;n%=fn,s=n-fn+o}if(r!==void 0&&(i=Md(10,o-s-1),l=u/i%10|0,d=t<0||p[m+1]!==void 0||u%i,d=r<4?(l||d)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||d||r==6&&(n>0?s>0?u/Md(10,o-s):0:p[m-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(i=Kn(e),p.length=1,t=t-i-1,p[0]=Md(10,(fn-t%fn)%fn),e.e=Fp(-t/fn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=m,i=1,m--):(p.length=m+1,i=Md(10,fn-n),p[m]=s>0?(u/Md(10,o-s)%Md(10,s)|0)*i:0),d)for(;;)if(m==0){(p[0]+=i)==ma&&(p[0]=1,++e.e);break}else{if(p[m]+=i,p[m]!=ma)break;p[m--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(vn&&(e.e>Fb||e.e<-Fb))throw Error(B5+Kn(e));return e}function nU(e,t){var r,n,s,i,o,l,d,u,m,p,h=e.constructor,b=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),vn?Zr(t,b):t;if(d=e.d,p=t.d,n=t.e,u=e.e,d=d.slice(),o=u-n,o){for(m=o<0,m?(r=d,o=-o,l=p.length):(r=p,n=u,l=d.length),s=Math.max(Math.ceil(b/fn),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=d.length,l=p.length,m=s<l,m&&(l=s),s=0;s<l;s++)if(d[s]!=p[s]){m=d[s]<p[s];break}o=0}for(m&&(r=d,d=p,p=r,t.s=-t.s),l=d.length,s=p.length-l;s>0;--s)d[l++]=0;for(s=p.length;s>o;){if(d[--s]<p[s]){for(i=s;i&&d[--i]===0;)d[i]=ma-1;--d[i],d[s]+=ma}d[s]-=p[s]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,vn?Zr(t,b):t):new h(0)}function nu(e,t,r){var n,s=Kn(e),i=Po(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Oc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Oc(-s-1)+i,r&&(n=r-o)>0&&(i+=Oc(n))):s>=o?(i+=Oc(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Oc(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Oc(n))),e.s<0?"-"+i:i}function aL(e,t){if(e.length>t)return e.length=t,!0}function aU(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Yd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return nL(o,i.toString())}else if(typeof i!="string")throw Error(Yd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,kle.test(i))nL(o,i);else throw Error(Yd+i)}if(s.prototype=mt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=aU,s.config=s.set=Ole,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Ole(e){if(!e||typeof e!="object")throw Error(Ei+"Object expected");var t,r,n,s=["precision",1,$p,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Fp(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Yd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yd+r+": "+n);return this}var U5=aU(Tle);Bs=new U5(1);const Vr=U5;function Rle(e){return Ile(e)||Mle(e)||Dle(e)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dle(e,t){if(e){if(typeof e=="string")return j_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j_(e,t)}}function Mle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ile(e){if(Array.isArray(e))return j_(e)}function j_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lle=function(t){return t},sU={},iU=function(t){return t===sU},sL=function(t){return function r(){return arguments.length===0||arguments.length===1&&iU(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},$le=function e(t,r){return t===1?r:sL(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==sU}).length;return o>=t?r.apply(void 0,s):e(t-o,sL(function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];var m=s.map(function(p){return iU(p)?d.shift():p});return r.apply(void 0,Rle(m).concat(d))}))})},Av=function(t){return $le(t.length,t)},w_=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},Fle=Av(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Ble=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Lle;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,d){return d(l)},i.apply(void 0,arguments))}},E_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},oU=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,d){return l===r[d]})||(r=i,n=t.apply(void 0,i)),n}};function Ule(e){var t;return e===0?t=1:t=Math.floor(new Vr(e).abs().log(10).toNumber())+1,t}function Hle(e,t,r){for(var n=new Vr(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var Gle=Av(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),zle=Av(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Kle=Av(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const _v={rangeStep:Hle,getDigitCount:Ule,interpolateNumber:Gle,uninterpolateNumber:zle,uninterpolateTruncation:Kle};function A_(e){return Vle(e)||Wle(e)||lU(e)||qle()}function qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Vle(e){if(Array.isArray(e))return __(e)}function Yh(e,t){return Qle(e)||Xle(e,t)||lU(e,t)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lU(e,t){if(e){if(typeof e=="string")return __(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(e,t)}}function __(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xle(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(d){s=!0,i=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function Qle(e){if(Array.isArray(e))return e}function cU(e){var t=Yh(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function dU(e,t,r){if(e.lte(0))return new Vr(0);var n=_v.getDigitCount(e.toNumber()),s=new Vr(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Vr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=l.mul(s);return t?d:new Vr(Math.ceil(d))}function Zle(e,t,r){var n=1,s=new Vr(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Vr(10).pow(_v.getDigitCount(e)-1),s=new Vr(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Vr(Math.floor(e)))}else e===0?s=new Vr(Math.floor((t-1)/2)):r||(s=new Vr(Math.floor(e)));var o=Math.floor((t-1)/2),l=Ble(Fle(function(d){return s.add(new Vr(d-o).mul(n)).toNumber()}),w_);return l(0,t)}function uU(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Vr(0),tickMin:new Vr(0),tickMax:new Vr(0)};var i=dU(new Vr(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Vr(0):(o=new Vr(e).add(t).div(2),o=o.sub(new Vr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),d=Math.ceil(new Vr(t).sub(o).div(i).toNumber()),u=l+d+1;return u>r?uU(e,t,r,n,s+1):(u<r&&(d=t>0?d+(r-u):d,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Vr(l).mul(i)),tickMax:o.add(new Vr(d).mul(i))})}function Jle(e){var t=Yh(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=cU([r,n]),d=Yh(l,2),u=d[0],m=d[1];if(u===-1/0||m===1/0){var p=m===1/0?[u].concat(A_(w_(0,s-1).map(function(){return 1/0}))):[].concat(A_(w_(0,s-1).map(function(){return-1/0})),[m]);return r>n?E_(p):p}if(u===m)return Zle(u,s,i);var h=uU(u,m,o,i),b=h.step,v=h.tickMin,N=h.tickMax,y=_v.rangeStep(v,N.add(new Vr(.1).mul(b)),b);return r>n?E_(y):y}function ece(e,t){var r=Yh(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=cU([n,s]),l=Yh(o,2),d=l[0],u=l[1];if(d===-1/0||u===1/0)return[n,s];if(d===u)return[d];var m=Math.max(t,2),p=dU(new Vr(u).sub(d).div(m-1),i,0),h=[].concat(A_(_v.rangeStep(new Vr(d),new Vr(u).sub(new Vr(.99).mul(p)),p)),[u]);return n>s?E_(h):h}var tce=oU(Jle),rce=oU(ece),nce="Invariant failed";function au(e,t){throw new Error(nce)}var ace=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function sce(e,t){return cce(e)||lce(e,t)||oce(e,t)||ice()}function ice(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(e,t){if(e){if(typeof e=="string")return iL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iL(e,t)}}function iL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cce(e){if(Array.isArray(e))return e}function dce(e,t){if(e==null)return{};var r=uce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mU(n.key),n)}}function mce(e,t,r){return t&&pce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hce(e,t,r){return t=Ub(t),gce(e,fU()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function gce(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(e)}function xce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fU=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function bce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},C_(e,t)}function pU(e,t,r){return t=mU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=yce(e,"string");return Xf(t)=="symbol"?t:t+""}function yce(e,t){if(Xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bp=(function(e){function t(){return fce(this,t),hce(this,t,arguments)}return bce(t,e),mce(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,d=n.data,u=n.dataPointFormatter,m=n.xAxis,p=n.yAxis,h=dce(n,ace),b=wt(h,!1);this.props.direction==="x"&&m.type!=="number"&&au();var v=d.map(function(N){var y=u(N,l),S=y.x,w=y.y,_=y.value,A=y.errorVal;if(!A)return null;var E=[],C,O;if(Array.isArray(A)){var D=sce(A,2);C=D[0],O=D[1]}else C=O=A;if(i==="vertical"){var R=m.scale,K=w+s,H=K+o,$=K-o,U=R(_-C),P=R(_+O);E.push({x1:P,y1:H,x2:P,y2:$}),E.push({x1:U,y1:K,x2:P,y2:K}),E.push({x1:U,y1:H,x2:U,y2:$})}else if(i==="horizontal"){var G=p.scale,L=S+s,M=L-o,B=L+o,J=G(_-C),ee=G(_+O);E.push({x1:M,y1:ee,x2:B,y2:ee}),E.push({x1:L,y1:J,x2:L,y2:ee}),E.push({x1:M,y1:J,x2:B,y2:J})}return q.createElement(sr,Bb({className:"recharts-errorBar",key:"bar-".concat(E.map(function(I){return"".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))},b),E.map(function(I){return q.createElement("line",Bb({},I,{key:"line-".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))}))});return q.createElement(sr,{className:"recharts-errorBars"},v)}}])})(q.Component);pU(Bp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pU(Bp,"displayName","ErrorBar");function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function oL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(r),!0).forEach(function(n){vce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vce(e,t,r){return t=Nce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nce(e){var t=Sce(e,"string");return Xh(t)=="symbol"?t:t+""}function Sce(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hU=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Ba(r,Ho);if(!o)return null;var l=Ho.defaultProps,d=l!==void 0?kd(kd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(m,p){var h=p.item,b=p.props,v=b.sectors||b.data||[];return m.concat(v.map(function(N){return{type:o.props.iconType||h.props.legendType,value:N.name,color:N.fill,payload:N}}))},[]):u=(n||[]).map(function(m){var p=m.item,h=p.type.defaultProps,b=h!==void 0?kd(kd({},h),p.props):{},v=b.dataKey,N=b.name,y=b.legendType,S=b.hide;return{inactive:S,dataKey:v,type:d.iconType||y||"square",color:H5(p),value:N||v,payload:b}}),kd(kd(kd({},d),Ho.getWithHeight(o,s)),{},{payload:u,item:o})};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function lL(e){return Ace(e)||Ece(e)||wce(e)||jce()}function jce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(e,t){if(e){if(typeof e=="string")return T_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T_(e,t)}}function Ece(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ace(e){if(Array.isArray(e))return T_(e)}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(r),!0).forEach(function(n){Af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Af(e,t,r){return t=_ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ce(e){var t=Cce(e,"string");return Qh(t)=="symbol"?t:t+""}function Cce(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t,r){return qt(e)||qt(t)?r:na(t)?Es(e,t,r):Pt(t)?t(e):r}function jh(e,t,r,n){var s=Ale(e,function(l){return Qr(l,t)});if(r==="number"){var i=s.filter(function(l){return Ve(l)||parseFloat(l)});return i.length?[Ev(i),Fc(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!qt(l)}):s;return o.map(function(l){return na(l)||l instanceof Date?l:""})}var Tce=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,u=0;u<l;u++){var m=u>0?s[u-1].coordinate:s[l-1].coordinate,p=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,b=void 0;if(ts(p-m)!==ts(h-p)){var v=[];if(ts(h-p)===ts(d[1]-d[0])){b=h;var N=p+d[1]-d[0];v[0]=Math.min(N,(N+m)/2),v[1]=Math.max(N,(N+m)/2)}else{b=m;var y=h+d[1]-d[0];v[0]=Math.min(p,(y+p)/2),v[1]=Math.max(p,(y+p)/2)}var S=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){o=s[u].index;break}}else{var w=Math.min(m,h),_=Math.max(m,h);if(t>(w+p)/2&&t<=(_+p)/2){o=s[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&t>(n[A].coordinate+n[A-1].coordinate)/2&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&t>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},H5=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Pn(Pn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,d;switch(s){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:l;break;default:d=l;break}return d},kce=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),d=0,u=l.length;d<u;d++)for(var m=i[l[d]].stackGroups,p=Object.keys(m),h=0,b=p.length;h<b;h++){var v=m[p[h]],N=v.items,y=v.cateAxisId,S=N.filter(function(O){return Dl(O.type).indexOf("Bar")>=0});if(S&&S.length){var w=S[0].type.defaultProps,_=w!==void 0?Pn(Pn({},w),S[0].props):S[0].props,A=_.barSize,E=_[y];o[E]||(o[E]=[]);var C=qt(A)?r:A;o[E].push({item:S[0],stackList:S.slice(1),barSize:qt(C)?void 0:rs(C,n,0)})}}return o},Oce=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,d=o.length;if(d<1)return null;var u=rs(r,s,0,!0),m,p=[];if(o[0].barSize===+o[0].barSize){var h=!1,b=s/d,v=o.reduce(function(A,E){return A+E.barSize||0},0);v+=(d-1)*u,v>=s&&(v-=(d-1)*u,u=0),v>=s&&b>0&&(h=!0,b*=.9,v=d*b);var N=(s-v)/2>>0,y={offset:N-u,size:0};m=o.reduce(function(A,E){var C={item:E.item,position:{offset:y.offset+y.size+u,size:h?b:E.barSize}},O=[].concat(lL(A),[C]);return y=O[O.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){O.push({item:D,position:y})}),O},p)}else{var S=rs(n,s,0,!0);s-2*S-(d-1)*u<=0&&(u=0);var w=(s-2*S-(d-1)*u)/d;w>1&&(w>>=0);var _=l===+l?Math.min(w,l):w;m=o.reduce(function(A,E,C){var O=[].concat(lL(A),[{item:E.item,position:{offset:S+(w+u)*C+(w-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){O.push({item:D,position:O[O.length-1].position})}),O},p)}return m},Rce=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,d=o-(l.left||0)-(l.right||0),u=hU({children:i,legendWidth:d});if(u){var m=s||{},p=m.width,h=m.height,b=u.align,v=u.verticalAlign,N=u.layout;if((N==="vertical"||N==="horizontal"&&v==="middle")&&b!=="center"&&Ve(t[b]))return Pn(Pn({},t),{},Af({},b,t[b]+(p||0)));if((N==="horizontal"||N==="vertical"&&b==="center")&&v!=="middle"&&Ve(t[v]))return Pn(Pn({},t),{},Af({},v,t[v]+(h||0)))}return t},Pce=function(t,r,n){return qt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},gU=function(t,r,n,s,i){var o=r.props.children,l=ss(o,Bp).filter(function(u){return Pce(s,i,u.props.direction)});if(l&&l.length){var d=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,m){var p=Qr(m,n);if(qt(p))return u;var h=Array.isArray(p)?[Ev(p),Fc(p)]:[p,p],b=d.reduce(function(v,N){var y=Qr(m,N,0),S=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(S,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(b[0],u[0]),Math.max(b[1],u[1])]},[1/0,-1/0])}return null},Dce=function(t,r,n,s,i){var o=r.map(function(l){return gU(t,l,n,i,s)}).filter(function(l){return!qt(l)});return o&&o.length?o.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},xU=function(t,r,n,s,i){var o=r.map(function(d){var u=d.props.dataKey;return n==="number"&&u&&gU(t,d,u,s)||jh(t,u,n,i)});if(n==="number")return o.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(d,u){for(var m=0,p=u.length;m<p;m++)l[u[m]]||(l[u[m]]=!0,d.push(u[m]));return d},[])},bU=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},yU=function(t,r,n,s){if(s)return t.map(function(d){return d.coordinate});var i,o,l=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(o=!0),d.coordinate});return i||l.push(r),o||l.push(n),l},Rl=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/d:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?ts(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(p){var h=i?i.indexOf(p):p;return{coordinate:s(h)+u,value:p,offset:u}});return m.filter(function(p){return!td(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,h){return{coordinate:s(p)+u,value:p,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(p){return{coordinate:s(p)+u,value:p,offset:u}}):s.domain().map(function(p,h){return{coordinate:s(p)+u,value:i?i[p]:p,index:h,offset:u}})},ow=new WeakMap,lx=function(t,r){if(typeof r!="function")return t;ow.has(t)||ow.set(t,new WeakMap);var n=ow.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},vU=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Mb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Sh(),realScaleType:"point"}:i==="category"?{scale:zh(),realScaleType:"band"}:{scale:Mb(),realScaleType:"linear"};if(eu(s)){var d="scale".concat(cv(s));return{scale:(VI[d]||Sh)(),realScaleType:VI[d]?d:"point"}}return Pt(s)?{scale:s}:{scale:Sh(),realScaleType:"point"}},dL=1e-4,NU=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-dL,o=Math.max(s[0],s[1])+dL,l=t(r[0]),d=t(r[n-1]);(l<i||l>o||d<i||d>o)&&t.domain([r[0],r[n-1]])}},Mce=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},Ice=function(t,r){if(!r||r.length!==2||!Ve(r[0])||!Ve(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(i[0]=n),(!Ve(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},Lce=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var d=td(t[l][n][1])?t[l][n][0]:t[l][n][1];d>=0?(t[l][n][0]=i,t[l][n][1]=i+d,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+d,o=t[l][n][1])}},$ce=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=td(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Fce={sign:Lce,expand:wre,none:Uf,silhouette:Ere,wiggle:Are,positive:$ce},Bce=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=Fce[n],o=jre().keys(s).value(function(l,d){return+Qr(l,d,0)}).order(s_).offset(i);return o(t)},Uce=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,d={},u=l.reduce(function(p,h){var b,v=(b=h.type)!==null&&b!==void 0&&b.defaultProps?Pn(Pn({},h.type.defaultProps),h.props):h.props,N=v.stackId,y=v.hide;if(y)return p;var S=v[n],w=p[S]||{hasStack:!1,stackGroups:{}};if(na(N)){var _=w.stackGroups[N]||{numericAxisId:n,cateAxisId:s,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[N]=_}else w.stackGroups[Vl("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Pn(Pn({},p),{},Af({},S,w))},d),m={};return Object.keys(u).reduce(function(p,h){var b=u[h];if(b.hasStack){var v={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(N,y){var S=b.stackGroups[y];return Pn(Pn({},N),{},Af({},y,{numericAxisId:n,cateAxisId:s,items:S.items,stackedData:Bce(t,S.items,i)}))},v)}return Pn(Pn({},p),{},Af({},h,b))},m)},SU=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var m=tce(u,i,l);return t.domain([Ev(m),Fc(m)]),{niceTicks:m}}if(i&&s==="number"){var p=t.domain(),h=rce(p,i,l);return{niceTicks:h}}return null};function Qf(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qt(s[t.dataKey])){var l=mb(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=Qr(s,qt(o)?t.dataKey:o);return qt(d)?null:t.scale(d)}var uL=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var d=Qr(o,r.dataKey,r.domain[l]);return qt(d)?null:r.scale(d)-i/2+s},Hce=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},Gce=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Pn(Pn({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(na(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},zce=function(t){return t.reduce(function(r,n){return[Ev(n.concat([r[0]]).filter(Ve)),Fc(n.concat([r[1]]).filter(Ve))]},[1/0,-1/0])},jU=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,d=l.reduce(function(u,m){var p=zce(m.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},fL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k_=function(t,r,n){if(Pt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Ve(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(fL.test(t[0])){var i=+fL.exec(t[0])[1];s[0]=r[0]-i}else Pt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Ve(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(pL.test(t[1])){var o=+pL.exec(t[1])[1];s[1]=r[1]+o}else Pt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Hb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=m5(r,function(p){return p.coordinate}),o=1/0,l=1,d=i.length;l<d;l++){var u=i[l],m=i[l-1];o=Math.min((u.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},mL=function(t,r,n){return!t||!t.length||Xc(t,Es(n,"type.defaultProps.domain"))?r:t},wU=function(t,r){var n=t.type.defaultProps?Pn(Pn({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,d=n.tooltipType,u=n.chartType,m=n.hide;return Pn(Pn({},wt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:H5(t),value:Qr(r,s),type:d,payload:r,chartType:u,hide:m})};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){EU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EU(e,t,r){return t=Kce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kce(e){var t=qce(e,"string");return Zh(t)=="symbol"?t:t+""}function qce(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wce(e,t){return Qce(e)||Xce(e,t)||Yce(e,t)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yce(e,t){if(e){if(typeof e=="string")return gL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gL(e,t)}}function gL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Qce(e){if(Array.isArray(e))return e}var Gb=Math.PI/180,Zce=function(t){return t*180/Math.PI},ln=function(t,r,n,s){return{x:t+Math.cos(-Gb*s)*n,y:r+Math.sin(-Gb*s)*n}},AU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Jce=function(t,r,n,s,i){var o=t.width,l=t.height,d=t.startAngle,u=t.endAngle,m=rs(t.cx,o,o/2),p=rs(t.cy,l,l/2),h=AU(o,l,n),b=rs(t.innerRadius,h,0),v=rs(t.outerRadius,h,h*.8),N=Object.keys(r);return N.reduce(function(y,S){var w=r[S],_=w.domain,A=w.reversed,E;if(qt(w.range))s==="angleAxis"?E=[d,u]:s==="radiusAxis"&&(E=[b,v]),A&&(E=[E[1],E[0]]);else{E=w.range;var C=E,O=Wce(C,2);d=O[0],u=O[1]}var D=vU(w,i),R=D.realScaleType,K=D.scale;K.domain(_).range(E),NU(K);var H=SU(K,_l(_l({},w),{},{realScaleType:R})),$=_l(_l(_l({},w),H),{},{range:E,radius:v,realScaleType:R,scale:K,cx:m,cy:p,innerRadius:b,outerRadius:v,startAngle:d,endAngle:u});return _l(_l({},y),{},EU({},S,$))},{})},ede=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},tde=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=ede({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var d=(n-i)/l,u=Math.acos(d);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Zce(u),angleInRadian:u}},rde=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},nde=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},xL=function(t,r){var n=t.x,s=t.y,i=tde({x:n,y:s},r),o=i.radius,l=i.angle,d=r.innerRadius,u=r.outerRadius;if(o<d||o>u)return!1;if(o===0)return!0;var m=rde(r),p=m.startAngle,h=m.endAngle,b=l,v;if(p<=h){for(;b>h;)b-=360;for(;b<p;)b+=360;v=b>=p&&b<=h}else{for(;b>p;)b-=360;for(;b<h;)b+=360;v=b>=h&&b<=p}return v?_l(_l({},r),{},{radius:o,angle:nde(b,r)}):null},_U=function(t){return!g.isValidElement(t)&&!Pt(t)&&typeof t!="boolean"?t.className:""};function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}var ade=["offset"];function sde(e){return cde(e)||lde(e)||ode(e)||ide()}function ide(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ode(e,t){if(e){if(typeof e=="string")return O_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O_(e,t)}}function lde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cde(e){if(Array.isArray(e))return O_(e)}function O_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dde(e,t){if(e==null)return{};var r=ude(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ude(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){fde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fde(e,t,r){return t=pde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pde(e){var t=mde(e,"string");return Jh(t)=="symbol"?t:t+""}function mde(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(this,arguments)}var hde=function(t){var r=t.value,n=t.formatter,s=qt(t.children)?r:t.children;return Pt(n)?n(s):s},gde=function(t,r){var n=ts(r-t),s=Math.min(Math.abs(r-t),360);return n*s},xde=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,d=i,u=d.cx,m=d.cy,p=d.innerRadius,h=d.outerRadius,b=d.startAngle,v=d.endAngle,N=d.clockWise,y=(p+h)/2,S=gde(b,v),w=S>=0?1:-1,_,A;s==="insideStart"?(_=b+w*o,A=N):s==="insideEnd"?(_=v-w*o,A=!N):s==="end"&&(_=v+w*o,A=N),A=S<=0?A:!A;var E=ln(u,m,y,_),C=ln(u,m,y,_+(A?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(C.x,",").concat(C.y),D=qt(t.id)?Vl("recharts-radial-line-"):t.id;return q.createElement("text",e0({},n,{dominantBaseline:"central",className:rr("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:D,d:O})),q.createElement("textPath",{xlinkHref:"#".concat(D)},r))},bde=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,d=i.innerRadius,u=i.outerRadius,m=i.startAngle,p=i.endAngle,h=(m+p)/2;if(s==="outside"){var b=ln(o,l,u+n,h),v=b.x,N=b.y;return{x:v,y:N,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(d+u)/2,S=ln(o,l,y,h),w=S.x,_=S.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},yde=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,d=o.y,u=o.width,m=o.height,p=m>=0?1:-1,h=p*s,b=p>0?"end":"start",v=p>0?"start":"end",N=u>=0?1:-1,y=N*s,S=N>0?"end":"start",w=N>0?"start":"end";if(i==="top"){var _={x:l+u/2,y:d-p*s,textAnchor:"middle",verticalAnchor:b};return Jn(Jn({},_),n?{height:Math.max(d-n.y,0),width:u}:{})}if(i==="bottom"){var A={x:l+u/2,y:d+m+h,textAnchor:"middle",verticalAnchor:v};return Jn(Jn({},A),n?{height:Math.max(n.y+n.height-(d+m),0),width:u}:{})}if(i==="left"){var E={x:l-y,y:d+m/2,textAnchor:S,verticalAnchor:"middle"};return Jn(Jn({},E),n?{width:Math.max(E.x-n.x,0),height:m}:{})}if(i==="right"){var C={x:l+u+y,y:d+m/2,textAnchor:w,verticalAnchor:"middle"};return Jn(Jn({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:m}:{})}var O=n?{width:u,height:m}:{};return i==="insideLeft"?Jn({x:l+y,y:d+m/2,textAnchor:w,verticalAnchor:"middle"},O):i==="insideRight"?Jn({x:l+u-y,y:d+m/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideTop"?Jn({x:l+u/2,y:d+h,textAnchor:"middle",verticalAnchor:v},O):i==="insideBottom"?Jn({x:l+u/2,y:d+m-h,textAnchor:"middle",verticalAnchor:b},O):i==="insideTopLeft"?Jn({x:l+y,y:d+h,textAnchor:w,verticalAnchor:v},O):i==="insideTopRight"?Jn({x:l+u-y,y:d+h,textAnchor:S,verticalAnchor:v},O):i==="insideBottomLeft"?Jn({x:l+y,y:d+m-h,textAnchor:w,verticalAnchor:b},O):i==="insideBottomRight"?Jn({x:l+u-y,y:d+m-h,textAnchor:S,verticalAnchor:b},O):Pp(i)&&(Ve(i.x)||Fd(i.x))&&(Ve(i.y)||Fd(i.y))?Jn({x:l+rs(i.x,u),y:d+rs(i.y,m),textAnchor:"end",verticalAnchor:"end"},O):Jn({x:l+u/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},O)},vde=function(t){return"cx"in t&&Ve(t.cx)};function ha(e){var t=e.offset,r=t===void 0?5:t,n=dde(e,ade),s=Jn({offset:r},n),i=s.viewBox,o=s.position,l=s.value,d=s.children,u=s.content,m=s.className,p=m===void 0?"":m,h=s.textBreakAll;if(!i||qt(l)&&qt(d)&&!g.isValidElement(u)&&!Pt(u))return null;if(g.isValidElement(u))return g.cloneElement(u,s);var b;if(Pt(u)){if(b=g.createElement(u,s),g.isValidElement(b))return b}else b=hde(s);var v=vde(i),N=wt(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return xde(s,b,N);var y=v?bde(s):yde(s);return q.createElement(tu,e0({className:rr("recharts-label",p)},N,y,{breakAll:h}),b)}ha.displayName="Label";var CU=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,d=t.radius,u=t.innerRadius,m=t.outerRadius,p=t.x,h=t.y,b=t.top,v=t.left,N=t.width,y=t.height,S=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ve(N)&&Ve(y)){if(Ve(p)&&Ve(h))return{x:p,y:h,width:N,height:y};if(Ve(b)&&Ve(v))return{x:b,y:v,width:N,height:y}}return Ve(p)&&Ve(h)?{x:p,y:h,width:0,height:0}:Ve(r)&&Ve(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:m||d||l||0,clockWise:S}:t.viewBox?t.viewBox:{}},Nde=function(t,r){return t?t===!0?q.createElement(ha,{key:"label-implicit",viewBox:r}):na(t)?q.createElement(ha,{key:"label-implicit",viewBox:r,value:t}):g.isValidElement(t)?t.type===ha?g.cloneElement(t,{key:"label-implicit",viewBox:r}):q.createElement(ha,{key:"label-implicit",content:t,viewBox:r}):Pt(t)?q.createElement(ha,{key:"label-implicit",content:t,viewBox:r}):Pp(t)?q.createElement(ha,e0({viewBox:r},t,{key:"label-implicit"})):null:null},Sde=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=CU(t),o=ss(s,ha).map(function(d,u){return g.cloneElement(d,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Nde(t.label,r||i);return[l].concat(sde(o))};ha.parseViewBox=CU;ha.renderCallByParent=Sde;var lw,yL;function TU(){if(yL)return lw;yL=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return lw=e,lw}var jde=TU();const wde=$r(jde);function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}var Ede=["valueAccessor"],Ade=["data","dataKey","clockWise","id","textBreakAll"];function _de(e){return Ode(e)||kde(e)||Tde(e)||Cde()}function Cde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(e,t){if(e){if(typeof e=="string")return R_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R_(e,t)}}function kde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ode(e){if(Array.isArray(e))return R_(e)}function R_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zb.apply(this,arguments)}function vL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(r),!0).forEach(function(n){Rde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rde(e,t,r){return t=Pde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pde(e){var t=Dde(e,"string");return t0(t)=="symbol"?t:t+""}function Dde(e,t){if(t0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SL(e,t){if(e==null)return{};var r=Mde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ide=function(t){return Array.isArray(t.value)?wde(t.value):t.value};function Ea(e){var t=e.valueAccessor,r=t===void 0?Ide:t,n=SL(e,Ede),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,d=n.textBreakAll,u=SL(n,Ade);return!s||!s.length?null:q.createElement(sr,{className:"recharts-label-list"},s.map(function(m,p){var h=qt(i)?r(m,p):Qr(m&&m.payload,i),b=qt(l)?{}:{id:"".concat(l,"-").concat(p)};return q.createElement(ha,zb({},wt(m,!0),u,b,{parentViewBox:m.parentViewBox,value:h,textBreakAll:d,viewBox:ha.parseViewBox(qt(o)?m:NL(NL({},m),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Ea.displayName="LabelList";function Lde(e,t){return e?e===!0?q.createElement(Ea,{key:"labelList-implicit",data:t}):q.isValidElement(e)||Pt(e)?q.createElement(Ea,{key:"labelList-implicit",data:t,content:e}):Pp(e)?q.createElement(Ea,zb({data:t},e,{key:"labelList-implicit"})):null:null}function $de(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=ss(n,Ea).map(function(o,l){return g.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=Lde(e.label,t);return[i].concat(_de(s))}Ea.renderCallByParent=$de;function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(this,arguments)}function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(n){Fde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fde(e,t,r){return t=Bde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bde(e){var t=Ude(e,"string");return r0(t)=="symbol"?t:t+""}function Ude(e,t){if(r0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(r0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hde=function(t,r){var n=ts(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},cx=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,d=t.cornerRadius,u=t.cornerIsExternal,m=d*(l?1:-1)+s,p=Math.asin(d/m)/Gb,h=u?i:i+o*p,b=ln(r,n,m,h),v=ln(r,n,s,h),N=u?i-o*p:i,y=ln(r,n,m*Math.cos(p*Gb),N);return{center:b,circleTangency:v,lineTangency:y,theta:p}},kU=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,d=Hde(o,l),u=o+d,m=ln(r,n,i,o),p=ln(r,n,i,u),h="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(s>0){var b=ln(r,n,s,o),v=ln(r,n,s,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Gde=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,d=t.cornerIsExternal,u=t.startAngle,m=t.endAngle,p=ts(m-u),h=cx({cx:r,cy:n,radius:i,angle:u,sign:p,cornerRadius:o,cornerIsExternal:d}),b=h.circleTangency,v=h.lineTangency,N=h.theta,y=cx({cx:r,cy:n,radius:i,angle:m,sign:-p,cornerRadius:o,cornerIsExternal:d}),S=y.circleTangency,w=y.lineTangency,_=y.theta,A=d?Math.abs(u-m):Math.abs(u-m)-N-_;if(A<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):kU({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:m});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var C=cx({cx:r,cy:n,radius:s,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),O=C.circleTangency,D=C.lineTangency,R=C.theta,K=cx({cx:r,cy:n,radius:s,angle:m,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),H=K.circleTangency,$=K.lineTangency,U=K.theta,P=d?Math.abs(u-m):Math.abs(u-m)-R-U;if(P<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},zde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OU=function(t){var r=wL(wL({},zde),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,d=r.forceCornerRadius,u=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,h=r.className;if(o<i||m===p)return null;var b=rr("recharts-sector",h),v=o-i,N=rs(l,v,0,!0),y;return N>0&&Math.abs(m-p)<360?y=Gde({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(N,v/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:m,endAngle:p}):y=kU({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:m,endAngle:p}),q.createElement("path",P_({},wt(r,!0),{className:b,d:y,role:"img"}))};function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D_.apply(this,arguments)}function EL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EL(Object(r),!0).forEach(function(n){Kde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kde(e,t,r){return t=qde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qde(e){var t=Wde(e,"string");return n0(t)=="symbol"?t:t+""}function Wde(e,t){if(n0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _L={curveBasisClosed:fre,curveBasisOpen:pre,curveBasis:ure,curveBumpX:Qte,curveBumpY:Zte,curveLinearClosed:mre,curveLinear:uv,curveMonotoneX:hre,curveMonotoneY:gre,curveNatural:xre,curveStep:bre,curveStepAfter:vre,curveStepBefore:yre},dx=function(t){return t.x===+t.x&&t.y===+t.y},Fm=function(t){return t.x},Bm=function(t){return t.y},Vde=function(t,r){if(Pt(t))return t;var n="curve".concat(cv(t));return(n==="curveMonotone"||n==="curveBump")&&r?_L["".concat(n).concat(r==="vertical"?"Y":"X")]:_L[n]||uv},Yde=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,d=t.connectNulls,u=d===void 0?!1:d,m=Vde(n,l),p=u?i.filter(function(N){return dx(N)}):i,h;if(Array.isArray(o)){var b=u?o.filter(function(N){return dx(N)}):o,v=p.map(function(N,y){return AL(AL({},N),{},{base:b[y]})});return l==="vertical"?h=ex().y(Bm).x1(Fm).x0(function(N){return N.base.x}):h=ex().x(Fm).y1(Bm).y0(function(N){return N.base.y}),h.defined(dx).curve(m),h(v)}return l==="vertical"&&Ve(o)?h=ex().y(Bm).x1(Fm).x0(o):Ve(o)?h=ex().x(Fm).y1(Bm).y0(o):h=AB().x(Fm).y(Bm),h.defined(dx).curve(m),h(p)},Wc=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?Yde(t):s;return g.createElement("path",D_({},wt(t,!1),hb(t),{className:rr("recharts-curve",r),d:o,ref:i}))},cw={exports:{}},dw,CL;function Xde(){if(CL)return dw;CL=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dw=e,dw}var uw,TL;function Qde(){if(TL)return uw;TL=1;var e=Xde();function t(){}function r(){}return r.resetWarningCache=t,uw=function(){function n(o,l,d,u,m,p){if(p!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},uw}var kL;function Zde(){return kL||(kL=1,cw.exports=Qde()()),cw.exports}var Jde=Zde();const Hr=$r(Jde),{getOwnPropertyNames:eue,getOwnPropertySymbols:tue}=Object,{hasOwnProperty:rue}=Object.prototype;function fw(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function ux(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const d=e(r,n,s);return i.delete(r),i.delete(n),d}}function nue(e){return e?.[Symbol.toStringTag]}function OL(e){return eue(e).concat(tue(e))}const aue=Object.hasOwn||((e,t)=>rue.call(e,t));function hu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const sue="__v",iue="__o",oue="_owner",{getOwnPropertyDescriptor:RL,keys:PL}=Object;function lue(e,t){return e.byteLength===t.byteLength&&Kb(new Uint8Array(e),new Uint8Array(t))}function cue(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function due(e,t){return e.byteLength===t.byteLength&&Kb(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function uue(e,t){return hu(e.getTime(),t.getTime())}function fue(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function pue(e,t){return e===t}function DL(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,d=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let m=!1,p=0;for(;(l=u.next())&&!l.done;){if(s[p]){p++;continue}const h=o.value,b=l.value;if(r.equals(h[0],b[0],d,p,e,t,r)&&r.equals(h[1],b[1],h[0],b[0],e,t,r)){m=s[p]=!0;break}p++}if(!m)return!1;d++}return!0}const mue=hu;function hue(e,t,r){const n=PL(e);let s=n.length;if(PL(t).length!==s)return!1;for(;s-- >0;)if(!RU(e,t,r,n[s]))return!1;return!0}function Um(e,t,r){const n=OL(e);let s=n.length;if(OL(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!RU(e,t,r,i)||(o=RL(e,i),l=RL(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function gue(e,t){return hu(e.valueOf(),t.valueOf())}function xue(e,t){return e.source===t.source&&e.flags===t.flags}function ML(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const d=t.values();let u=!1,m=0;for(;(l=d.next())&&!l.done;){if(!s[m]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[m]=!0;break}m++}if(!u)return!1}return!0}function Kb(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function bue(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function RU(e,t,r,n){return(n===oue||n===iue||n===sue)&&(e.$$typeof||t.$$typeof)?!0:aue(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const yue="[object ArrayBuffer]",vue="[object Arguments]",Nue="[object Boolean]",Sue="[object DataView]",jue="[object Date]",wue="[object Error]",Eue="[object Map]",Aue="[object Number]",_ue="[object Object]",Cue="[object RegExp]",Tue="[object Set]",kue="[object String]",Oue={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Rue="[object URL]",Pue=Object.prototype.toString;function Due({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:d,arePrimitiveWrappersEqual:u,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:h,areUrlsEqual:b,unknownTagComparators:v}){return function(y,S,w){if(y===S)return!0;if(y==null||S==null)return!1;const _=typeof y;if(_!==typeof S)return!1;if(_!=="object")return _==="number"?l(y,S,w):_==="function"?i(y,S,w):!1;const A=y.constructor;if(A!==S.constructor)return!1;if(A===Object)return d(y,S,w);if(Array.isArray(y))return t(y,S,w);if(A===Date)return n(y,S,w);if(A===RegExp)return m(y,S,w);if(A===Map)return o(y,S,w);if(A===Set)return p(y,S,w);const E=Pue.call(y);if(E===jue)return n(y,S,w);if(E===Cue)return m(y,S,w);if(E===Eue)return o(y,S,w);if(E===Tue)return p(y,S,w);if(E===_ue)return typeof y.then!="function"&&typeof S.then!="function"&&d(y,S,w);if(E===Rue)return b(y,S,w);if(E===wue)return s(y,S,w);if(E===vue)return d(y,S,w);if(Oue[E])return h(y,S,w);if(E===yue)return e(y,S,w);if(E===Sue)return r(y,S,w);if(E===Nue||E===Aue||E===kue)return u(y,S,w);if(v){let C=v[E];if(!C){const O=nue(y);O&&(C=v[O])}if(C)return C(y,S,w)}return!1}}function Mue({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:lue,areArraysEqual:r?Um:cue,areDataViewsEqual:due,areDatesEqual:uue,areErrorsEqual:fue,areFunctionsEqual:pue,areMapsEqual:r?fw(DL,Um):DL,areNumbersEqual:mue,areObjectsEqual:r?Um:hue,arePrimitiveWrappersEqual:gue,areRegExpsEqual:xue,areSetsEqual:r?fw(ML,Um):ML,areTypedArraysEqual:r?fw(Kb,Um):Kb,areUrlsEqual:bue,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=ux(n.areArraysEqual),i=ux(n.areMapsEqual),o=ux(n.areObjectsEqual),l=ux(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function Iue(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function Lue({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,d){const{cache:u=e?new WeakMap:void 0,meta:m}=r();return t(l,d,{cache:u,equals:n,meta:m,strict:s})};if(e)return function(l,d){return t(l,d,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,d){return t(l,d,i)}}const $ue=ad();ad({strict:!0});ad({circular:!0});ad({circular:!0,strict:!0});ad({createInternalComparator:()=>hu});ad({strict:!0,createInternalComparator:()=>hu});ad({circular:!0,createInternalComparator:()=>hu});ad({circular:!0,createInternalComparator:()=>hu,strict:!0});function ad(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=Mue(e),o=Due(i),l=r?r(o):Iue(o);return Lue({circular:t,comparator:o,createState:n,equals:l,strict:s})}function Fue(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function IL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Fue(s)};requestAnimationFrame(n)}function M_(e){"@babel/helpers - typeof";return M_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M_(e)}function Bue(e){return zue(e)||Gue(e)||Hue(e)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hue(e,t){if(e){if(typeof e=="string")return LL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LL(e,t)}}function LL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zue(e){if(Array.isArray(e))return e}function Kue(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Bue(o),d=l[0],u=l.slice(1);if(typeof d=="number"){IL(s.bind(null,u),d);return}s(d),IL(s.bind(null,u));return}M_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){PU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PU(e,t,r){return t=que(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function que(e){var t=Wue(e,"string");return a0(t)==="symbol"?t:String(t)}function Wue(e,t){if(a0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(a0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vue=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Yue=function(t){return t},Xue=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wh=function(t,r){return Object.keys(r).reduce(function(n,s){return FL(FL({},n),{},PU({},s,t(s,r[s])))},{})},BL=function(t,r,n){return t.map(function(s){return"".concat(Xue(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Que(e,t){return efe(e)||Jue(e,t)||DU(e,t)||Zue()}function Zue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function efe(e){if(Array.isArray(e))return e}function tfe(e){return afe(e)||nfe(e)||DU(e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DU(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function nfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function afe(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qb=1e-4,MU=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},IU=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},UL=function(t,r){return function(n){var s=MU(t,r);return IU(s,n)}},sfe=function(t,r){return function(n){var s=MU(t,r),i=[].concat(tfe(s.map(function(o,l){return o*l}).slice(1)),[0]);return IU(i,n)}},HL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var u=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),m=Que(u,4);s=m[0],i=m[1],o=m[2],l=m[3]}}}var p=UL(s,o),h=UL(i,l),b=sfe(s,o),v=function(S){return S>1?1:S<0?0:S},N=function(S){for(var w=S>1?1:S,_=w,A=0;A<8;++A){var E=p(_)-w,C=b(_);if(Math.abs(E-w)<qb||C<qb)return h(_);_=v(_-E/C)}return h(_)};return N.isStepper=!1,N},ife=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,d=function(m,p,h){var b=-(m-p)*n,v=h*i,N=h+(b-v)*l/1e3,y=h*l/1e3+m;return Math.abs(y-p)<qb&&Math.abs(N)<qb?[p,0]:[y,N]};return d.isStepper=!0,d.dt=l,d},ofe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HL(s);case"spring":return ife();default:if(s.split("(")[0]==="cubic-bezier")return HL(s)}return typeof s=="function"?s:null};function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function GL(e){return dfe(e)||cfe(e)||LU(e)||lfe()}function lfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dfe(e){if(Array.isArray(e))return $_(e)}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){L_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L_(e,t,r){return t=ufe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ufe(e){var t=ffe(e,"string");return s0(t)==="symbol"?t:String(t)}function ffe(e,t){if(s0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(s0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pfe(e,t){return gfe(e)||hfe(e,t)||LU(e,t)||mfe()}function mfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LU(e,t){if(e){if(typeof e=="string")return $_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $_(e,t)}}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gfe(e){if(Array.isArray(e))return e}var Wb=function(t,r,n){return t+(r-t)*n},F_=function(t){var r=t.from,n=t.to;return r!==n},xfe=function e(t,r,n){var s=wh(function(i,o){if(F_(o)){var l=t(o.from,o.to,o.velocity),d=pfe(l,2),u=d[0],m=d[1];return ja(ja({},o),{},{from:u,velocity:m})}return o},r);return n<1?wh(function(i,o){return F_(o)?ja(ja({},o),{},{velocity:Wb(o.velocity,s[i].velocity,n),from:Wb(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const bfe=(function(e,t,r,n,s){var i=Vue(e,t),o=i.reduce(function(y,S){return ja(ja({},y),{},L_({},S,[e[S],t[S]]))},{}),l=i.reduce(function(y,S){return ja(ja({},y),{},L_({},S,{from:e[S],velocity:0,to:t[S]}))},{}),d=-1,u,m,p=function(){return null},h=function(){return wh(function(S,w){return w.from},l)},b=function(){return!Object.values(l).filter(F_).length},v=function(S){u||(u=S);var w=S-u,_=w/r.dt;l=xfe(r,l,_),s(ja(ja(ja({},e),t),h())),u=S,b()||(d=requestAnimationFrame(p))},N=function(S){m||(m=S);var w=(S-m)/n,_=wh(function(E,C){return Wb.apply(void 0,GL(C).concat([r(w)]))},o);if(s(ja(ja(ja({},e),t),_)),w<1)d=requestAnimationFrame(p);else{var A=wh(function(E,C){return Wb.apply(void 0,GL(C).concat([r(1)]))},o);s(ja(ja(ja({},e),t),A))}};return p=r.isStepper?v:N,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}var yfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function vfe(e,t){if(e==null)return{};var r=Nfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function pw(e){return Efe(e)||wfe(e)||jfe(e)||Sfe()}function Sfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jfe(e,t){if(e){if(typeof e=="string")return B_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B_(e,t)}}function wfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Efe(e){if(Array.isArray(e))return B_(e)}function B_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(n){lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lh(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Afe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$U(n.key),n)}}function Cfe(e,t,r){return t&&_fe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $U(e){var t=Tfe(e,"string");return Zf(t)==="symbol"?t:String(t)}function Tfe(e,t){if(Zf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U_(e,t)}function U_(e,t){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U_(e,t)}function Ofe(e){var t=Rfe();return function(){var n=Vb(e),s;if(t){var i=Vb(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return H_(this,s)}}function H_(e,t){if(t&&(Zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G_(e)}function G_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}var As=(function(e){kfe(r,e);var t=Ofe(r);function r(n,s){var i;Afe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,d=o.attributeName,u=o.from,m=o.to,p=o.steps,h=o.children,b=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(G_(i)),i.changeStyle=i.changeStyle.bind(G_(i)),!l||b<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:m}),H_(i);if(p&&p.length)i.state={style:p[0].style};else if(u){if(typeof h=="function")return i.state={style:u},H_(i);i.state={style:d?lh({},d,u):u}}else i.state={style:{}};return i}return Cfe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,d=i.attributeName,u=i.shouldReAnimate,m=i.to,p=i.from,h=this.state.style;if(l){if(!o){var b={style:d?lh({},d,m):m};this.state&&h&&(d&&h[d]!==m||!d&&h!==m)&&this.setState(b);return}if(!($ue(s.to,m)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var N=v||u?p:s.to;if(this.state&&h){var y={style:d?lh({},d,N):N};(d&&h[d]!==N||!d&&h!==N)&&this.setState(y)}this.runAnimation($i($i({},this.props),{},{from:N,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,d=s.duration,u=s.easing,m=s.begin,p=s.onAnimationEnd,h=s.onAnimationStart,b=bfe(o,l,ofe(u),d,this.changeStyle),v=function(){i.stopJSAnimation=b()};this.manager.start([h,m,v,d,p])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,d=s.onAnimationStart,u=o[0],m=u.style,p=u.duration,h=p===void 0?0:p,b=function(N,y,S){if(S===0)return N;var w=y.duration,_=y.easing,A=_===void 0?"ease":_,E=y.style,C=y.properties,O=y.onAnimationEnd,D=S>0?o[S-1]:y,R=C||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(pw(N),[i.runJSAnimation.bind(i,{from:D.style,to:E,duration:w,easing:A}),w]);var K=BL(R,w,A),H=$i($i($i({},D.style),E),{},{transition:K});return[].concat(pw(N),[H,w,O]).filter(Yue)};return this.manager.start([d].concat(pw(o.reduce(b,[m,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Kue());var i=s.begin,o=s.duration,l=s.attributeName,d=s.to,u=s.easing,m=s.onAnimationStart,p=s.onAnimationEnd,h=s.steps,b=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof b=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var N=l?lh({},l,d):d,y=BL(Object.keys(N),o,u);v.start([m,i,$i($i({},N),{},{transition:y}),o,p])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=vfe(s,yfe),u=g.Children.count(i),m=this.state.style;if(typeof i=="function")return i(m);if(!l||u===0||o<=0)return i;var p=function(b){var v=b.props,N=v.style,y=N===void 0?{}:N,S=v.className,w=g.cloneElement(b,$i($i({},d),{},{style:$i($i({},y),m),className:S}));return w};return u===1?p(g.Children.only(i)):q.createElement("div",null,g.Children.map(i,function(h){return p(h)}))}}]),r})(g.PureComponent);As.displayName="Animate";As.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};As.propTypes={from:Hr.oneOfType([Hr.object,Hr.string]),to:Hr.oneOfType([Hr.object,Hr.string]),attributeName:Hr.string,duration:Hr.number,begin:Hr.number,easing:Hr.oneOfType([Hr.string,Hr.func]),steps:Hr.arrayOf(Hr.shape({duration:Hr.number.isRequired,style:Hr.object.isRequired,easing:Hr.oneOfType([Hr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Hr.func]),properties:Hr.arrayOf("string"),onAnimationEnd:Hr.func})),children:Hr.oneOfType([Hr.node,Hr.func]),isActive:Hr.bool,canBegin:Hr.bool,onAnimationEnd:Hr.func,shouldReAnimate:Hr.bool,onAnimationStart:Hr.func,onAnimationReStart:Hr.func};function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(this,arguments)}function Pfe(e,t){return Lfe(e)||Ife(e,t)||Mfe(e,t)||Dfe()}function Dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mfe(e,t){if(e){if(typeof e=="string")return qL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qL(e,t)}}function qL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ife(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Lfe(e){if(Array.isArray(e))return e}function WL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(r),!0).forEach(function(n){$fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $fe(e,t,r){return t=Ffe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ffe(e){var t=Bfe(e,"string");return i0(t)=="symbol"?t:t+""}function Bfe(e,t){if(i0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YL=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,d=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,m;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],h=0,b=4;h<b;h++)p[h]=i[h]>o?o:i[h];m="M".concat(t,",").concat(r+l*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+d*p[0],",").concat(r)),m+="L ".concat(t+n-d*p[1],",").concat(r),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*p[1])),m+="L ".concat(t+n,",").concat(r+s-l*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-d*p[2],",").concat(r+s)),m+="L ".concat(t+d*p[3],",").concat(r+s),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*p[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);m="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+d*v,",").concat(r,`
            L `).concat(t+n-d*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-d*v,",").concat(r+s,`
            L `).concat(t+d*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*v," Z")}else m="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return m},Ufe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,d=r.height;if(Math.abs(l)>0&&Math.abs(d)>0){var u=Math.min(i,i+l),m=Math.max(i,i+l),p=Math.min(o,o+d),h=Math.max(o,o+d);return n>=u&&n<=m&&s>=p&&s<=h}return!1},Hfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cv=function(t){var r=VL(VL({},Hfe),t),n=g.useRef(),s=g.useState(-1),i=Pfe(s,2),o=i[0],l=i[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var d=r.x,u=r.y,m=r.width,p=r.height,h=r.radius,b=r.className,v=r.animationEasing,N=r.animationDuration,y=r.animationBegin,S=r.isAnimationActive,w=r.isUpdateAnimationActive;if(d!==+d||u!==+u||m!==+m||p!==+p||m===0||p===0)return null;var _=rr("recharts-rectangle",b);return w?q.createElement(As,{canBegin:o>0,from:{width:m,height:p,x:d,y:u},to:{width:m,height:p,x:d,y:u},duration:N,animationEasing:v,isActive:w},function(A){var E=A.width,C=A.height,O=A.x,D=A.y;return q.createElement(As,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:N,isActive:S,easing:v},q.createElement("path",Yb({},wt(r,!0),{className:_,d:YL(O,D,E,C,h),ref:n})))}):q.createElement("path",Yb({},wt(r,!0),{className:_,d:YL(d,u,m,p,h)}))},Gfe=["points","className","baseLinePoints","connectNulls"];function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}function zfe(e,t){if(e==null)return{};var r=Kfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XL(e){return Yfe(e)||Vfe(e)||Wfe(e)||qfe()}function qfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wfe(e,t){if(e){if(typeof e=="string")return z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z_(e,t)}}function Vfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yfe(e){if(Array.isArray(e))return z_(e)}function z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var QL=function(t){return t&&t.x===+t.x&&t.y===+t.y},Xfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){QL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),QL(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Eh=function(t,r){var n=Xfe(t);r&&(n=[n.reduce(function(i,o){return[].concat(XL(i),XL(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,d){return"".concat(o).concat(d===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Qfe=function(t,r,n){var s=Eh(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Eh(r.reverse(),n).slice(1))},FU=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=zfe(t,Gfe);if(!r||!r.length)return null;var l=rr("recharts-polygon",n);if(s&&s.length){var d=o.stroke&&o.stroke!=="none",u=Qfe(r,s,i);return q.createElement("g",{className:l},q.createElement("path",uf({},wt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),d?q.createElement("path",uf({},wt(o,!0),{fill:"none",d:Eh(r,i)})):null,d?q.createElement("path",uf({},wt(o,!0),{fill:"none",d:Eh(s,i)})):null)}var m=Eh(r,i);return q.createElement("path",uf({},wt(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",className:l,d:m}))};function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K_.apply(this,arguments)}var L0=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=rr("recharts-dot",i);return r===+r&&n===+n&&s===+s?g.createElement("circle",K_({},wt(t,!1),hb(t),{className:o,cx:r,cy:n,r:s})):null};function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}var Zfe=["x","y","top","left","width","height","className"];function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q_.apply(this,arguments)}function ZL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(r),!0).forEach(function(n){epe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function epe(e,t,r){return t=tpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tpe(e){var t=rpe(e,"string");return o0(t)=="symbol"?t:t+""}function rpe(e,t){if(o0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(o0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function npe(e,t){if(e==null)return{};var r=ape(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ape(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var spe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},ipe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,d=t.left,u=d===void 0?0:d,m=t.width,p=m===void 0?0:m,h=t.height,b=h===void 0?0:h,v=t.className,N=npe(t,Zfe),y=Jfe({x:n,y:i,top:l,left:u,width:p,height:b},N);return!Ve(n)||!Ve(i)||!Ve(p)||!Ve(b)||!Ve(l)||!Ve(u)?null:q.createElement("path",q_({},wt(y,!0),{className:rr("recharts-cross",v),d:spe(n,i,p,b,l,u)}))},mw,JL;function ope(){if(JL)return mw;JL=1;var e=wv(),t=Z9(),r=Zo();function n(s,i){return s&&s.length?e(s,r(i,2),t):void 0}return mw=n,mw}var lpe=ope();const cpe=$r(lpe);var hw,e4;function dpe(){if(e4)return hw;e4=1;var e=wv(),t=Zo(),r=J9();function n(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return hw=n,hw}var upe=dpe();const fpe=$r(upe);var ppe=["cx","cy","angle","ticks","axisLine"],mpe=["ticks","tick","angle","tickFormatter","stroke"];function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(this,arguments)}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){Tv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r4(e,t){if(e==null)return{};var r=hpe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UU(n.key),n)}}function xpe(e,t,r){return t&&n4(e.prototype,t),r&&n4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bpe(e,t,r){return t=Xb(t),ype(e,BU()?Reflect.construct(t,r||[],Xb(e).constructor):t.apply(e,r))}function ype(e,t){if(t&&(Jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(e)}function vpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(e)}function Npe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},W_(e,t)}function Tv(e,t,r){return t=UU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=Spe(e,"string");return Jf(t)=="symbol"?t:t+""}function Spe(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kv=(function(e){function t(){return gpe(this,t),bpe(this,t,arguments)}return Npe(t,e),xpe(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,d=i.cy;return ln(l,d,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,d=cpe(l,function(m){return m.coordinate||0}),u=fpe(l,function(m){return m.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,d=n.axisLine,u=r4(n,ppe),m=l.reduce(function(v,N){return[Math.min(v[0],N.coordinate),Math.max(v[1],N.coordinate)]},[1/0,-1/0]),p=ln(s,i,m[0],o),h=ln(s,i,m[1],o),b=Od(Od(Od({},wt(u,!1)),{},{fill:"none"},wt(d,!1)),{},{x1:p.x,y1:p.y,x2:h.x,y2:h.y});return q.createElement("line",Ah({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,d=s.tickFormatter,u=s.stroke,m=r4(s,mpe),p=this.getTickTextAnchor(),h=wt(m,!1),b=wt(o,!1),v=i.map(function(N,y){var S=n.getTickValueCoord(N),w=Od(Od(Od(Od({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(S.x,", ").concat(S.y,")")},h),{},{stroke:"none",fill:u},b),{},{index:y},S),{},{payload:N});return q.createElement(sr,Ah({className:rr("recharts-polar-radius-axis-tick",_U(o)),key:"tick-".concat(N.coordinate)},Yc(n.props,N,y)),t.renderTickItem(o,w,d?d(N.value,y):N.value))});return q.createElement(sr,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:q.createElement(sr,{className:rr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ha.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,s):Pt(n)?o=n(s):o=q.createElement(tu,Ah({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(g.PureComponent);Tv(kv,"displayName","PolarRadiusAxis");Tv(kv,"axisType","radiusAxis");Tv(kv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(this,arguments)}function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(n){Ov(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GU(n.key),n)}}function wpe(e,t,r){return t&&s4(e.prototype,t),r&&s4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Epe(e,t,r){return t=Qb(t),Ape(e,HU()?Reflect.construct(t,r||[],Qb(e).constructor):t.apply(e,r))}function Ape(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(e)}function _pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HU=function(){return!!e})()}function Qb(e){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qb(e)}function Cpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V_(e,t)}function V_(e,t){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V_(e,t)}function Ov(e,t,r){return t=GU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=Tpe(e,"string");return ep(t)=="symbol"?t:t+""}function Tpe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kpe=Math.PI/180,i4=1e-5,Rv=(function(e){function t(){return jpe(this,t),Epe(this,t,arguments)}return Cpe(t,e),wpe(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,d=s.orientation,u=s.tickSize,m=u||8,p=ln(i,o,l,n.coordinate),h=ln(i,o,l+(d==="inner"?-1:1)*m,n.coordinate);return{x1:p.x,y1:p.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*kpe),o;return i>i4?o=s==="outer"?"start":"end":i<-i4?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,d=n.axisLineType,u=Rd(Rd({},wt(this.props,!1)),{},{fill:"none"},wt(l,!1));if(d==="circle")return q.createElement(L0,Ld({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var m=this.props.ticks,p=m.map(function(h){return ln(s,i,o,h.coordinate)});return q.createElement(FU,Ld({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,d=s.tickFormatter,u=s.stroke,m=wt(this.props,!1),p=wt(o,!1),h=Rd(Rd({},m),{},{fill:"none"},wt(l,!1)),b=i.map(function(v,N){var y=n.getTickLineCoord(v),S=n.getTickTextAnchor(v),w=Rd(Rd(Rd({textAnchor:S},m),{},{stroke:"none",fill:u},p),{},{index:N,payload:v,x:y.x2,y:y.y2});return q.createElement(sr,Ld({className:rr("recharts-polar-angle-axis-tick",_U(o)),key:"tick-".concat(v.coordinate)},Yc(n.props,v,N)),l&&q.createElement("line",Ld({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,w,d?d(v.value,N):v.value))});return q.createElement(sr,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:q.createElement(sr,{className:rr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return q.isValidElement(n)?o=q.cloneElement(n,s):Pt(n)?o=n(s):o=q.createElement(tu,Ld({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(g.PureComponent);Ov(Rv,"displayName","PolarAngleAxis");Ov(Rv,"axisType","angleAxis");Ov(Rv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var gw,o4;function G5(){if(o4)return gw;o4=1;var e=YB(),t=e(Object.getPrototypeOf,Object);return gw=t,gw}var xw,l4;function zU(){if(l4)return xw;l4=1;var e=Wl(),t=G5(),r=ro(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,d=o.call(Object);function u(m){if(!r(m)||e(m)!=n)return!1;var p=t(m);if(p===null)return!0;var h=l.call(p,"constructor")&&p.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==d}return xw=u,xw}var Ope=zU();const Rpe=$r(Ope);var bw,c4;function Ppe(){if(c4)return bw;c4=1;var e=Wl(),t=ro(),r="[object Boolean]";function n(s){return s===!0||s===!1||t(s)&&e(s)==r}return bw=n,bw}var Dpe=Ppe();const Mpe=$r(Dpe);function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(this,arguments)}function Ipe(e,t){return Bpe(e)||Fpe(e,t)||$pe(e,t)||Lpe()}function Lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $pe(e,t){if(e){if(typeof e=="string")return d4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d4(e,t)}}function d4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Bpe(e){if(Array.isArray(e))return e}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function f4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){Upe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Upe(e,t,r){return t=Hpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hpe(e){var t=Gpe(e,"string");return l0(t)=="symbol"?t:t+""}function Gpe(e,t){if(l0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(l0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p4=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},zpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kpe=function(t){var r=f4(f4({},zpe),t),n=g.useRef(),s=g.useState(-1),i=Ipe(s,2),o=i[0],l=i[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var d=r.x,u=r.y,m=r.upperWidth,p=r.lowerWidth,h=r.height,b=r.className,v=r.animationEasing,N=r.animationDuration,y=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||u!==+u||m!==+m||p!==+p||h!==+h||m===0&&p===0||h===0)return null;var w=rr("recharts-trapezoid",b);return S?q.createElement(As,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:d,y:u},to:{upperWidth:m,lowerWidth:p,height:h,x:d,y:u},duration:N,animationEasing:v,isActive:S},function(_){var A=_.upperWidth,E=_.lowerWidth,C=_.height,O=_.x,D=_.y;return q.createElement(As,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:N,easing:v},q.createElement("path",Zb({},wt(r,!0),{className:w,d:p4(O,D,A,E,C),ref:n})))}):q.createElement("g",null,q.createElement("path",Zb({},wt(r,!0),{className:w,d:p4(d,u,m,p,h)})))},qpe=["option","shapeType","propTransformer","activeClassName","isActive"];function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function Wpe(e,t){if(e==null)return{};var r=Vpe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){Ype(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ype(e,t,r){return t=Xpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xpe(e){var t=Qpe(e,"string");return c0(t)=="symbol"?t:t+""}function Qpe(e,t){if(c0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(c0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zpe(e,t){return Jb(Jb({},t),e)}function Jpe(e,t){return e==="symbols"}function h4(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return q.createElement(Cv,r);case"trapezoid":return q.createElement(Kpe,r);case"sector":return q.createElement(OU,r);case"symbols":if(Jpe(t))return q.createElement(pv,r);break;default:return null}}function eme(e){return g.isValidElement(e)?e.props:e}function ey(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?Zpe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,d=Wpe(e,qpe),u;if(g.isValidElement(t))u=g.cloneElement(t,Jb(Jb({},d),eme(t)));else if(Pt(t))u=t(d);else if(Rpe(t)&&!Mpe(t)){var m=s(t,d);u=q.createElement(h4,{shapeType:r,elementProps:m})}else{var p=d;u=q.createElement(h4,{shapeType:r,elementProps:p})}return l?q.createElement(sr,{className:o},u):u}function Pv(e,t){return t!=null&&"trapezoids"in e.props}function Dv(e,t){return t!=null&&"sectors"in e.props}function d0(e,t){return t!=null&&"points"in e.props}function tme(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function rme(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function nme(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function ame(e,t){var r;return Pv(e,t)?r=tme:Dv(e,t)?r=rme:d0(e,t)&&(r=nme),r}function sme(e,t){var r;return Pv(e,t)?r="trapezoids":Dv(e,t)?r="sectors":d0(e,t)&&(r="points"),r}function ime(e,t){if(Pv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Dv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return d0(e,t)?t.payload:{}}function ome(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=sme(r,t),i=ime(r,t),o=n.filter(function(d,u){var m=Xc(i,d),p=r.props[s].filter(function(v){var N=ame(r,t);return N(v,t)}),h=r.props[s].indexOf(p[p.length-1]),b=u===h;return m&&b}),l=n.indexOf(o[o.length-1]);return l}var zx;function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(this,arguments)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){bi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qU(n.key),n)}}function cme(e,t,r){return t&&x4(e.prototype,t),r&&x4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dme(e,t,r){return t=ty(t),ume(e,KU()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function ume(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fme(e)}function fme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function pme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y_(e,t)}function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Y_(e,t)}function bi(e,t,r){return t=qU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qU(e){var t=mme(e,"string");return tp(t)=="symbol"?t:t+""}function mme(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jo=(function(e){function t(r){var n;return lme(this,t),n=dme(this,t,[r]),bi(n,"pieRef",null),bi(n,"sectorRefs",[]),bi(n,"id",Vl("recharts-pie-")),bi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pt(s)&&s()}),bi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pt(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return pme(t,e),cme(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,d=i.dataKey,u=i.valueKey,m=wt(this.props,!1),p=wt(o,!1),h=wt(l,!1),b=o&&o.offsetRadius||20,v=n.map(function(N,y){var S=(N.startAngle+N.endAngle)/2,w=ln(N.cx,N.cy,N.outerRadius+b,S),_=sn(sn(sn(sn({},m),N),{},{stroke:"none"},p),{},{index:y,textAnchor:t.getTextAnchor(w.x,N.cx)},w),A=sn(sn(sn(sn({},m),N),{},{fill:"none",stroke:N.fill},h),{},{index:y,points:[ln(N.cx,N.cy,N.outerRadius,S),w]}),E=d;return qt(d)&&qt(u)?E="value":qt(d)&&(E=u),q.createElement(sr,{key:"label-".concat(N.startAngle,"-").concat(N.endAngle,"-").concat(N.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,A,"line"),t.renderLabelItem(o,_,Qr(N,E)))});return q.createElement(sr,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,d=i.inactiveShape;return n.map(function(u,m){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var p=s.isActiveIndex(m),h=d&&s.hasActiveIndex()?d:null,b=p?o:h,v=sn(sn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(sr,ff({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Yc(s.props,u,m),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(m)}),q.createElement(ey,ff({option:b,isActive:p,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,d=s.animationDuration,u=s.animationEasing,m=s.animationId,p=this.state,h=p.prevSectors,b=p.prevIsAnimationActive;return q.createElement(As,{begin:l,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var N=v.t,y=[],S=i&&i[0],w=S.startAngle;return i.forEach(function(_,A){var E=h&&h[A],C=A>0?Es(_,"paddingAngle",0):0;if(E){var O=An(E.endAngle-E.startAngle,_.endAngle-_.startAngle),D=sn(sn({},_),{},{startAngle:w+C,endAngle:w+O(N)+C});y.push(D),w=D.endAngle}else{var R=_.endAngle,K=_.startAngle,H=An(0,R-K),$=H(N),U=sn(sn({},_),{},{startAngle:w+C,endAngle:w+$+C});y.push(U),w=U.endAngle}}),q.createElement(sr,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Xc(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,d=s.label,u=s.cx,m=s.cy,p=s.innerRadius,h=s.outerRadius,b=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Ve(u)||!Ve(m)||!Ve(p)||!Ve(h))return null;var N=rr("recharts-pie",l);return q.createElement(sr,{tabIndex:this.props.rootTabIndex,className:N,ref:function(S){n.pieRef=S}},this.renderSectors(),d&&this.renderLabels(o),ha.renderCallByParent(this.props,null,!1),(!b||v)&&Ea.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(q.isValidElement(n))return q.cloneElement(n,s);if(Pt(n))return n(s);var o=rr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return q.createElement(Wc,ff({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(q.isValidElement(n))return q.cloneElement(n,s);var o=i;if(Pt(n)&&(o=n(s),q.isValidElement(o)))return o;var l=rr("recharts-pie-label-text",typeof n!="boolean"&&!Pt(n)?n.className:"");return q.createElement(tu,ff({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(g.PureComponent);zx=Jo;bi(Jo,"displayName","Pie");bi(Jo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Qi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});bi(Jo,"parseDeltaAngle",function(e,t){var r=ts(t-e),n=Math.min(Math.abs(t-e),360);return r*n});bi(Jo,"getRealPieData",function(e){var t=e.data,r=e.children,n=wt(e,!1),s=ss(r,Ni);return t&&t.length?t.map(function(i,o){return sn(sn(sn({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return sn(sn({},n),i.props)}):[]});bi(Jo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=AU(s,i),l=n+rs(e.cx,s,s/2),d=r+rs(e.cy,i,i/2),u=rs(e.innerRadius,o,0),m=rs(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:d,innerRadius:u,outerRadius:m,maxRadius:p}});bi(Jo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?sn(sn({},t.type.defaultProps),t.props):t.props,s=zx.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,d=n.paddingAngle,u=n.dataKey,m=n.nameKey,p=n.valueKey,h=n.tooltipType,b=Math.abs(n.minAngle),v=zx.parseCoordinateOfPie(n,r),N=zx.parseDeltaAngle(o,l),y=Math.abs(N),S=u;qt(u)&&qt(p)?(Xi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):qt(u)&&(Xi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var w=s.filter(function(D){return Qr(D,S,0)!==0}).length,_=(y>=360?w:w-1)*d,A=y-w*b-_,E=s.reduce(function(D,R){var K=Qr(R,S,0);return D+(Ve(K)?K:0)},0),C;if(E>0){var O;C=s.map(function(D,R){var K=Qr(D,S,0),H=Qr(D,m,R),$=(Ve(K)?K:0)/E,U;R?U=O.endAngle+ts(N)*d*(K!==0?1:0):U=o;var P=U+ts(N)*((K!==0?b:0)+$*A),G=(U+P)/2,L=(v.innerRadius+v.outerRadius)/2,M=[{name:H,value:K,payload:D,dataKey:S,type:h}],B=ln(v.cx,v.cy,L,G);return O=sn(sn(sn({percent:$,cornerRadius:i,name:H,tooltipPayload:M,midAngle:G,middleRadius:L,tooltipPosition:B},D),v),{},{value:Qr(D,S),startAngle:U,endAngle:P,payload:D,paddingAngle:ts(N)*d}),O})}return sn(sn({},v),{},{sectors:C,data:s})});var yw,b4;function hme(){if(b4)return yw;b4=1;var e=Math.ceil,t=Math.max;function r(n,s,i,o){for(var l=-1,d=t(e((s-n)/(i||1)),0),u=Array(d);d--;)u[o?d:++l]=n,n+=i;return u}return yw=r,yw}var vw,y4;function WU(){if(y4)return vw;y4=1;var e=p9(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return vw=n,vw}var Nw,v4;function gme(){if(v4)return Nw;v4=1;var e=hme(),t=xv(),r=WU();function n(s){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,s)}}return Nw=n,Nw}var Sw,N4;function xme(){if(N4)return Sw;N4=1;var e=gme(),t=e();return Sw=t,Sw}var bme=xme();const ry=$r(bme);function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function j4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return t=yme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yme(e){var t=vme(e,"string");return u0(t)=="symbol"?t:t+""}function vme(e,t){if(u0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(u0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nme=["Webkit","Moz","O","ms"],Sme=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Nme.reduce(function(i,o){return j4(j4({},i),{},VU({},o+n,r))},{});return s[t]=r,s};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(this,arguments)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){$s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XU(n.key),n)}}function wme(e,t,r){return t&&E4(e.prototype,t),r&&E4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eme(e,t,r){return t=ay(t),Ame(e,YU()?Reflect.construct(t,r||[],ay(e).constructor):t.apply(e,r))}function Ame(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _me(e)}function _me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YU=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}function Cme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},X_(e,t)}function $s(e,t,r){return t=XU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=Tme(e,"string");return rp(t)=="symbol"?t:t+""}function Tme(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kme=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,u=Sh().domain(ry(0,d)).range([i,i+o-l]),m=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:m}},A4=function(t){return t.changedTouches&&!!t.changedTouches.length},np=(function(e){function t(r){var n;return jme(this,t),n=Eme(this,t,[r]),$s(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),$s(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),$s(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),$s(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$s(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$s(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$s(n,"handleSlideDragStart",function(s){var i=A4(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Cme(t,e),wme(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,d=l.gap,u=l.data,m=u.length-1,p=Math.min(s,i),h=Math.max(s,i),b=t.getIndexInRange(o,p),v=t.getIndexInRange(o,h);return{startIndex:b-b%d,endIndex:v===m?m:v-v%d}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,d=Qr(i[n],l,n);return Pt(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,d=this.props,u=d.x,m=d.width,p=d.travellerWidth,h=d.startIndex,b=d.endIndex,v=d.onChange,N=n.pageX-i;N>0?N=Math.min(N,u+m-p-l,u+m-p-o):N<0&&(N=Math.max(N,u-o,u-l));var y=this.getIndex({startX:o+N,endX:l+N});(y.startIndex!==h||y.endIndex!==b)&&v&&v(y),this.setState({startX:o+N,endX:l+N,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=A4(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,d=s.startX,u=this.state[o],m=this.props,p=m.x,h=m.width,b=m.travellerWidth,v=m.onChange,N=m.gap,y=m.data,S={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,p+h-b-u):w<0&&(w=Math.max(w,p-u)),S[o]=u+w;var _=this.getIndex(S),A=_.startIndex,E=_.endIndex,C=function(){var D=y.length-1;return o==="startX"&&(l>d?A%N===0:E%N===0)||l<d&&E===D||o==="endX"&&(l>d?E%N===0:A%N===0)||l>d&&E===D};this.setState($s($s({},o,u+w),"brushMoveStartX",n.pageX),function(){v&&C()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,d=o.startX,u=o.endX,m=this.state[s],p=l.indexOf(m);if(p!==-1){var h=p+n;if(!(h===-1||h>=l.length)){var b=l[h];s==="startX"&&b>=u||s==="endX"&&b<=d||this.setState($s({},s,b),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,d=n.fill,u=n.stroke;return q.createElement("rect",{stroke:u,fill:d,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,d=n.data,u=n.children,m=n.padding,p=g.Children.only(u);return p?q.cloneElement(p,{x:s,y:i,width:o,height:l,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,d=this.props,u=d.y,m=d.travellerWidth,p=d.height,h=d.traveller,b=d.ariaLabel,v=d.data,N=d.startIndex,y=d.endIndex,S=Math.max(n,this.props.x),w=jw(jw({},wt(this.props,!1)),{},{x:S,y:u,width:m,height:p}),_=b||"Min value: ".concat((i=v[N])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return q.createElement(sr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,d=i.stroke,u=i.travellerWidth,m=Math.min(n,s)+u,p=Math.max(Math.abs(s-n)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:o,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,d=n.travellerWidth,u=n.stroke,m=this.state,p=m.startX,h=m.endX,b=5,v={pointerEvents:"none",fill:u};return q.createElement(sr,{className:"recharts-brush-texts"},q.createElement(tu,ny({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,h)-b,y:o+l/2},v),this.getTextOfTick(s)),q.createElement(tu,ny({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,h)+d+b,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,d=n.y,u=n.width,m=n.height,p=n.alwaysShowText,h=this.state,b=h.startX,v=h.endX,N=h.isTextActive,y=h.isSlideMoving,S=h.isTravellerMoving,w=h.isTravellerFocused;if(!s||!s.length||!Ve(l)||!Ve(d)||!Ve(u)||!Ve(m)||u<=0||m<=0)return null;var _=rr("recharts-brush",i),A=q.Children.count(o)===1,E=Sme("userSelect","none");return q.createElement(sr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(b,v),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(v,"endX"),(N||y||S||w||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,d=n.stroke,u=Math.floor(i+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:s,y:i,width:o,height:l,fill:d,stroke:"none"}),q.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return q.isValidElement(n)?i=q.cloneElement(n,s):Pt(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,d=n.travellerWidth,u=n.updateId,m=n.startIndex,p=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return jw({prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?kme({data:i,width:o,x:l,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([l,l+o-d]);var h=s.scale.domain().map(function(b){return s.scale(b)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var d=Math.floor((o+l)/2);n[d]>s?l=d:o=d}return s>=n[l]?l:o}}])})(g.PureComponent);$s(np,"displayName","Brush");$s(np,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ww,_4;function Ome(){if(_4)return ww;_4=1;var e=p5();function t(r,n){var s;return e(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return ww=t,ww}var Ew,C4;function Rme(){if(C4)return Ew;C4=1;var e=UB(),t=Zo(),r=Ome(),n=os(),s=xv();function i(o,l,d){var u=n(o)?e:r;return d&&s(o,l,d)&&(l=void 0),u(o,t(l,3))}return Ew=i,Ew}var Pme=Rme();const Dme=$r(Pme);var zo=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},Aw,T4;function z5(){if(T4)return Aw;T4=1;var e=o9();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return Aw=t,Aw}var _w,k4;function Mme(){if(k4)return _w;k4=1;var e=z5(),t=a9(),r=Zo();function n(s,i){var o={};return i=r(i,3),t(s,function(l,d,u){e(o,d,i(l,d,u))}),o}return _w=n,_w}var Ime=Mme();const Lme=$r(Ime);var Cw,O4;function $me(){if(O4)return Cw;O4=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(!r(t[n],n,t))return!1;return!0}return Cw=e,Cw}var Tw,R4;function Fme(){if(R4)return Tw;R4=1;var e=p5();function t(r,n){var s=!0;return e(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return Tw=t,Tw}var kw,P4;function Bme(){if(P4)return kw;P4=1;var e=$me(),t=Fme(),r=Zo(),n=os(),s=xv();function i(o,l,d){var u=n(o)?e:t;return d&&s(o,l,d)&&(l=void 0),u(o,r(l,3))}return kw=i,kw}var Ume=Bme();const QU=$r(Ume);var Hme=["x","y"];function f0(e){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f0(e)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q_.apply(this,arguments)}function D4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(r),!0).forEach(function(n){Gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gme(e,t,r){return t=zme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zme(e){var t=Kme(e,"string");return f0(t)=="symbol"?t:t+""}function Kme(e,t){if(f0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(f0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qme(e,t){if(e==null)return{};var r=Wme(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vme(e,t){var r=e.x,n=e.y,s=qme(e,Hme),i="".concat(r),o=parseInt(i,10),l="".concat(n),d=parseInt(l,10),u="".concat(t.height||s.height),m=parseInt(u,10),p="".concat(t.width||s.width),h=parseInt(p,10);return Hm(Hm(Hm(Hm(Hm({},t),s),o?{x:o}:{}),d?{y:d}:{}),{},{height:m,width:h,name:t.name,radius:t.radius})}function M4(e){return q.createElement(ey,Q_({shapeType:"rectangle",propTransformer:Vme,activeClassName:"recharts-active-bar"},e))}var Yme=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=Ve(n)||yte(n);return i?t(n,s):(i||au(),r)}},Xme=["value","background"],ZU;function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function Qme(e,t){if(e==null)return{};var r=Zme(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(this,arguments)}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){Bc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eH(n.key),n)}}function ehe(e,t,r){return t&&L4(e.prototype,t),r&&L4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function the(e,t,r){return t=iy(t),rhe(e,JU()?Reflect.construct(t,r||[],iy(e).constructor):t.apply(e,r))}function rhe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nhe(e)}function nhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iy(e)}function ahe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Z_(e,t)}function Bc(e,t,r){return t=eH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=she(e,"string");return ap(t)=="symbol"?t:t+""}function she(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Aa=(function(e){function t(){var r;Jme(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=the(this,t,[].concat(s)),Bc(r,"state",{isAnimationFinished:!1}),Bc(r,"id",Vl("recharts-bar-")),Bc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Bc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ahe(t,e),ehe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,d=i.activeIndex,u=i.activeBar,m=wt(this.props,!1);return n&&n.map(function(p,h){var b=h===d,v=b?u:o,N=Hn(Hn(Hn({},m),p),{},{isActive:b,option:v,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return q.createElement(sr,sy({className:"recharts-bar-rectangle"},Yc(s.props,p,h),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(h)}),q.createElement(M4,N))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,d=s.animationBegin,u=s.animationDuration,m=s.animationEasing,p=s.animationId,h=this.state.prevData;return q.createElement(As,{begin:d,duration:u,isActive:l,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t,N=i.map(function(y,S){var w=h&&h[S];if(w){var _=An(w.x,y.x),A=An(w.y,y.y),E=An(w.width,y.width),C=An(w.height,y.height);return Hn(Hn({},y),{},{x:_(v),y:A(v),width:E(v),height:C(v)})}if(o==="horizontal"){var O=An(0,y.height),D=O(v);return Hn(Hn({},y),{},{y:y.y+y.height-D,height:D})}var R=An(0,y.width),K=R(v);return Hn(Hn({},y),{},{width:K})});return q.createElement(sr,null,n.renderRectanglesStatically(N))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Xc(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,d=wt(this.props.background,!1);return i.map(function(u,m){u.value;var p=u.background,h=Qme(u,Xme);if(!p)return null;var b=Hn(Hn(Hn(Hn(Hn({},h),{},{fill:"#eee"},p),d),Yc(n.props,u,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return q.createElement(M4,sy({key:"background-bar-".concat(m),option:n.props.background,isActive:m===l},b))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,d=i.yAxis,u=i.layout,m=i.children,p=ss(m,Bp);if(!p)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,b=function(y,S){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Qr(y,S)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return q.createElement(sr,v,p.map(function(N){return q.cloneElement(N,{key:"error-bar-".concat(s,"-").concat(N.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,offset:h,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,d=n.yAxis,u=n.left,m=n.top,p=n.width,h=n.height,b=n.isAnimationActive,v=n.background,N=n.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,S=rr("recharts-bar",o),w=l&&l.allowDataOverflow,_=d&&d.allowDataOverflow,A=w||_,E=qt(N)?this.id:N;return q.createElement(sr,{className:S},w||_?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:w?u:u-p/2,y:_?m:m-h/2,width:w?p:p*2,height:_?h:h*2}))):null,q.createElement(sr,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!b||y)&&Ea.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(g.PureComponent);ZU=Aa;Bc(Aa,"displayName","Bar");Bc(Aa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bc(Aa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,d=e.yAxisTicks,u=e.stackedData,m=e.dataStartIndex,p=e.displayedData,h=e.offset,b=Mce(n,r);if(!b)return null;var v=t.layout,N=r.type.defaultProps,y=N!==void 0?Hn(Hn({},N),r.props):r.props,S=y.dataKey,w=y.children,_=y.minPointSize,A=v==="horizontal"?o:i,E=u?A.scale.domain():null,C=Hce({numericAxis:A}),O=ss(w,Ni),D=p.map(function(R,K){var H,$,U,P,G,L;u?H=Ice(u[m+K],E):(H=Qr(R,S),Array.isArray(H)||(H=[C,H]));var M=Yme(_,ZU.defaultProps.minPointSize)(H[1],K);if(v==="horizontal"){var B,J=[o.scale(H[0]),o.scale(H[1])],ee=J[0],I=J[1];$=uL({axis:i,ticks:l,bandSize:s,offset:b.offset,entry:R,index:K}),U=(B=I??ee)!==null&&B!==void 0?B:void 0,P=b.size;var Y=ee-I;if(G=Number.isNaN(Y)?0:Y,L={x:$,y:o.y,width:P,height:o.height},Math.abs(M)>0&&Math.abs(G)<Math.abs(M)){var ae=ts(G||M)*(Math.abs(M)-Math.abs(G));U-=ae,G+=ae}}else{var le=[i.scale(H[0]),i.scale(H[1])],he=le[0],X=le[1];if($=he,U=uL({axis:o,ticks:d,bandSize:s,offset:b.offset,entry:R,index:K}),P=X-he,G=b.size,L={x:i.x,y:U,width:i.width,height:G},Math.abs(M)>0&&Math.abs(P)<Math.abs(M)){var ne=ts(P||M)*(Math.abs(M)-Math.abs(P));P+=ne}}return Hn(Hn(Hn({},R),{},{x:$,y:U,width:P,height:G,value:u?H:H[1],payload:R,background:L},O&&O[K]&&O[K].props),{},{tooltipPayload:[wU(r,R)],tooltipPosition:{x:$+P/2,y:U+G/2}})});return Hn({data:D,layout:v},h)});function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}function ihe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tH(n.key),n)}}function ohe(e,t,r){return t&&$4(e.prototype,t),r&&$4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){Mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mv(e,t,r){return t=tH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=lhe(e,"string");return p0(t)=="symbol"?t:t+""}function lhe(e,t){if(p0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(p0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iv=function(t,r,n,s,i){var o=t.width,l=t.height,d=t.layout,u=t.children,m=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ba(u,Aa);return m.reduce(function(b,v){var N=r[v],y=N.orientation,S=N.domain,w=N.padding,_=w===void 0?{}:w,A=N.mirror,E=N.reversed,C="".concat(y).concat(A?"Mirror":""),O,D,R,K,H;if(N.type==="number"&&(N.padding==="gap"||N.padding==="no-gap")){var $=S[1]-S[0],U=1/0,P=N.categoricalDomain.sort(jte);if(P.forEach(function(le,he){he>0&&(U=Math.min((le||0)-(P[he-1]||0),U))}),Number.isFinite(U)){var G=U/$,L=N.layout==="vertical"?n.height:n.width;if(N.padding==="gap"&&(O=G*L/2),N.padding==="no-gap"){var M=rs(t.barCategoryGap,G*L),B=G*L/2;O=B-M-(B-M)/L*M}}}s==="xAxis"?D=[n.left+(_.left||0)+(O||0),n.left+n.width-(_.right||0)-(O||0)]:s==="yAxis"?D=d==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(O||0),n.top+n.height-(_.bottom||0)-(O||0)]:D=N.range,E&&(D=[D[1],D[0]]);var J=vU(N,i,h),ee=J.scale,I=J.realScaleType;ee.domain(S).range(D),NU(ee);var Y=SU(ee,Ui(Ui({},N),{},{realScaleType:I}));s==="xAxis"?(H=y==="top"&&!A||y==="bottom"&&A,R=n.left,K=p[C]-H*N.height):s==="yAxis"&&(H=y==="left"&&!A||y==="right"&&A,R=p[C]-H*N.width,K=n.top);var ae=Ui(Ui(Ui({},N),Y),{},{realScaleType:I,x:R,y:K,scale:ee,width:s==="xAxis"?n.width:N.width,height:s==="yAxis"?n.height:N.height});return ae.bandSize=Hb(ae,Y),!N.hide&&s==="xAxis"?p[C]+=(H?-1:1)*ae.height:N.hide||(p[C]+=(H?-1:1)*ae.width),Ui(Ui({},b),{},Mv({},v,ae))},{})},rH=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},che=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return rH({x:r,y:n},{x:s,y:i})},nH=(function(){function e(t){ihe(this,e),this.scale=t}return ohe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();Mv(nH,"EPS",1e-4);var K5=function(t){var r=Object.keys(t).reduce(function(n,s){return Ui(Ui({},n),{},Mv({},s,nH.create(t[s])))},{});return Ui(Ui({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Lme(s,function(d,u){return r[u].apply(d,{bandAware:o,position:l})})},isInRange:function(s){return QU(s,function(i,o){return r[o].isInRange(i)})}})};function dhe(e){return(e%180+180)%180}var uhe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=dhe(s),o=i*Math.PI/180,l=Math.atan(n/r),d=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},Ow,B4;function fhe(){if(B4)return Ow;B4=1;var e=Zo(),t=Dp(),r=Mp();function n(s){return function(i,o,l){var d=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(p){return u(d[p],p,d)}}var m=s(i,o,l);return m>-1?d[u?i[m]:m]:void 0}}return Ow=n,Ow}var Rw,U4;function phe(){if(U4)return Rw;U4=1;var e=WU();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return Rw=t,Rw}var Pw,H4;function mhe(){if(H4)return Pw;H4=1;var e=e9(),t=Zo(),r=phe(),n=Math.max;function s(i,o,l){var d=i==null?0:i.length;if(!d)return-1;var u=l==null?0:r(l);return u<0&&(u=n(d+u,0)),e(i,t(o,3),u)}return Pw=s,Pw}var Dw,G4;function hhe(){if(G4)return Dw;G4=1;var e=fhe(),t=mhe(),r=e(t);return Dw=r,Dw}var ghe=hhe();const xhe=$r(ghe);var bhe=pB();const yhe=$r(bhe);var vhe=yhe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),q5=g.createContext(void 0),W5=g.createContext(void 0),aH=g.createContext(void 0),sH=g.createContext({}),iH=g.createContext(void 0),oH=g.createContext(0),lH=g.createContext(0),z4=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,d=t.width,u=t.height,m=vhe(i);return q.createElement(q5.Provider,{value:n},q.createElement(W5.Provider,{value:s},q.createElement(sH.Provider,{value:i},q.createElement(aH.Provider,{value:m},q.createElement(iH.Provider,{value:o},q.createElement(oH.Provider,{value:u},q.createElement(lH.Provider,{value:d},l)))))))},Nhe=function(){return g.useContext(iH)},cH=function(t){var r=g.useContext(q5);r==null&&au();var n=r[t];return n==null&&au(),n},She=function(){var t=g.useContext(q5);return Lc(t)},jhe=function(){var t=g.useContext(W5),r=xhe(t,function(n){return QU(n.domain,Number.isFinite)});return r||Lc(t)},dH=function(t){var r=g.useContext(W5);r==null&&au();var n=r[t];return n==null&&au(),n},whe=function(){var t=g.useContext(aH);return t},Ehe=function(){return g.useContext(sH)},V5=function(){return g.useContext(lH)},Y5=function(){return g.useContext(oH)};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Ahe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _he(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fH(n.key),n)}}function Che(e,t,r){return t&&_he(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function The(e,t,r){return t=oy(t),khe(e,uH()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function khe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ohe(e)}function Ohe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uH=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function Rhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J_(e,t)}function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){X5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X5(e,t,r){return t=fH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fH(e){var t=Phe(e,"string");return sp(t)=="symbol"?t:t+""}function Phe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Dhe(e,t){return $he(e)||Lhe(e,t)||Ihe(e,t)||Mhe()}function Mhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ihe(e,t){if(e){if(typeof e=="string")return W4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W4(e,t)}}function W4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function $he(e){if(Array.isArray(e))return e}function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eC.apply(this,arguments)}var Fhe=function(t,r){var n;return q.isValidElement(t)?n=q.cloneElement(t,r):Pt(t)?n=t(r):n=q.createElement("line",eC({},r,{className:"recharts-reference-line-line"})),n},Bhe=function(t,r,n,s,i,o,l,d,u){var m=i.x,p=i.y,h=i.width,b=i.height;if(n){var v=u.y,N=t.y.apply(v,{position:o});if(zo(u,"discard")&&!t.y.isInRange(N))return null;var y=[{x:m+h,y:N},{x:m,y:N}];return d==="left"?y.reverse():y}if(r){var S=u.x,w=t.x.apply(S,{position:o});if(zo(u,"discard")&&!t.x.isInRange(w))return null;var _=[{x:w,y:p+b},{x:w,y:p}];return l==="top"?_.reverse():_}if(s){var A=u.segment,E=A.map(function(C){return t.apply(C,{position:o})});return zo(u,"discard")&&Dme(E,function(C){return!t.isInRange(C)})?null:E}return null};function Uhe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,d=e.alwaysShow,u=Nhe(),m=cH(s),p=dH(i),h=whe();if(!u||!h)return null;Xi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=K5({x:m.scale,y:p.scale}),v=na(t),N=na(r),y=n&&n.length===2,S=Bhe(b,v,N,y,h,e.position,m.orientation,p.orientation,e);if(!S)return null;var w=Dhe(S,2),_=w[0],A=_.x,E=_.y,C=w[1],O=C.x,D=C.y,R=zo(e,"hidden")?"url(#".concat(u,")"):void 0,K=q4(q4({clipPath:R},wt(e,!0)),{},{x1:A,y1:E,x2:O,y2:D});return q.createElement(sr,{className:rr("recharts-reference-line",l)},Fhe(o,K),ha.renderCallByParent(e,che({x1:A,y1:E,x2:O,y2:D})))}var Ko=(function(e){function t(){return Ahe(this,t),The(this,t,arguments)}return Rhe(t,e),Che(t,[{key:"render",value:function(){return q.createElement(Uhe,this.props)}}])})(q.Component);X5(Ko,"displayName","ReferenceLine");X5(Ko,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tC.apply(this,arguments)}function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function V4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Y4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(r),!0).forEach(function(n){Lv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ghe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mH(n.key),n)}}function zhe(e,t,r){return t&&Ghe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Khe(e,t,r){return t=ly(t),qhe(e,pH()?Reflect.construct(t,r||[],ly(e).constructor):t.apply(e,r))}function qhe(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Whe(e)}function Whe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!e})()}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(e)}function Vhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rC(e,t)}function rC(e,t){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rC(e,t)}function Lv(e,t,r){return t=mH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=Yhe(e,"string");return ip(t)=="symbol"?t:t+""}function Yhe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xhe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=K5({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return zo(t,"discard")&&!o.isInRange(l)?null:l},$0=(function(e){function t(){return Hhe(this,t),Khe(this,t,arguments)}return Vhe(t,e),zhe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,d=n.clipPathId,u=na(s),m=na(i);if(Xi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!m)return null;var p=Xhe(this.props);if(!p)return null;var h=p.x,b=p.y,v=this.props,N=v.shape,y=v.className,S=zo(this.props,"hidden")?"url(#".concat(d,")"):void 0,w=Y4(Y4({clipPath:S},wt(this.props,!0)),{},{cx:h,cy:b});return q.createElement(sr,{className:rr("recharts-reference-dot",y)},t.renderDot(N,w),ha.renderCallByParent(this.props,{x:h-o,y:b-o,width:2*o,height:2*o}))}}])})(q.Component);Lv($0,"displayName","ReferenceDot");Lv($0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Lv($0,"renderDot",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):Pt(e)?r=e(t):r=q.createElement(L0,tC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nC.apply(this,arguments)}function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){$v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gH(n.key),n)}}function Jhe(e,t,r){return t&&Zhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e0e(e,t,r){return t=cy(t),t0e(e,hH()?Reflect.construct(t,r||[],cy(e).constructor):t.apply(e,r))}function t0e(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r0e(e)}function r0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cy(e)}function n0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}function aC(e,t){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aC(e,t)}function $v(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=a0e(e,"string");return op(t)=="symbol"?t:t+""}function a0e(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var s0e=function(t,r,n,s,i){var o=i.x1,l=i.x2,d=i.y1,u=i.y2,m=i.xAxis,p=i.yAxis;if(!m||!p)return null;var h=K5({x:m.scale,y:p.scale}),b={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(d,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return zo(i,"discard")&&(!h.isInRange(b)||!h.isInRange(v))?null:rH(b,v)},Fv=(function(e){function t(){return Qhe(this,t),e0e(this,t,arguments)}return n0e(t,e),Jhe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,d=n.className,u=n.alwaysShow,m=n.clipPathId;Xi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=na(s),h=na(i),b=na(o),v=na(l),N=this.props.shape;if(!p&&!h&&!b&&!v&&!N)return null;var y=s0e(p,h,b,v,this.props);if(!y&&!N)return null;var S=zo(this.props,"hidden")?"url(#".concat(m,")"):void 0;return q.createElement(sr,{className:rr("recharts-reference-area",d)},t.renderRect(N,Q4(Q4({clipPath:S},wt(this.props,!0)),y)),ha.renderCallByParent(this.props,y))}}])})(q.Component);$v(Fv,"displayName","ReferenceArea");$v(Fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$v(Fv,"renderRect",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):Pt(e)?r=e(t):r=q.createElement(Cv,nC({},t,{className:"recharts-reference-area-rect"})),r});function xH(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function i0e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return uhe(n,r)}function o0e(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function dy(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function l0e(e,t){return xH(e,t+1)}function c0e(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,d=0,u=1,m=o,p=function(){var v=n?.[d];if(v===void 0)return{v:xH(n,u)};var N=d,y,S=function(){return y===void 0&&(y=r(v,N)),y},w=v.coordinate,_=d===0||dy(e,w,S,m,l);_||(d=0,m=o,u+=1),_&&(m=w+e*(S()/2+s),d+=u)},h;u<=i.length;)if(h=p(),h)return h.v;return[]}function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}function Z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z4(Object(r),!0).forEach(function(n){d0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d0e(e,t,r){return t=u0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u0e(e){var t=f0e(e,"string");return m0(t)=="symbol"?t:t+""}function f0e(e,t){if(m0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(m0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p0e(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,d=t.end,u=function(h){var b=i[h],v,N=function(){return v===void 0&&(v=r(b,h)),v};if(h===o-1){var y=e*(b.coordinate+e*N()/2-d);i[h]=b=$a($a({},b),{},{tickCoord:y>0?b.coordinate-y*e:b.coordinate})}else i[h]=b=$a($a({},b),{},{tickCoord:b.coordinate});var S=dy(e,b.tickCoord,N,l,d);S&&(d=b.tickCoord-e*(N()/2+s),i[h]=$a($a({},b),{},{isShow:!0}))},m=o-1;m>=0;m--)u(m);return i}function m0e(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,d=t.start,u=t.end;if(i){var m=n[l-1],p=r(m,l-1),h=e*(m.coordinate+e*p/2-u);o[l-1]=m=$a($a({},m),{},{tickCoord:h>0?m.coordinate-h*e:m.coordinate});var b=dy(e,m.tickCoord,function(){return p},d,u);b&&(u=m.tickCoord-e*(p/2+s),o[l-1]=$a($a({},m),{},{isShow:!0}))}for(var v=i?l-1:l,N=function(w){var _=o[w],A,E=function(){return A===void 0&&(A=r(_,w)),A};if(w===0){var C=e*(_.coordinate-e*E()/2-d);o[w]=_=$a($a({},_),{},{tickCoord:C<0?_.coordinate-C*e:_.coordinate})}else o[w]=_=$a($a({},_),{},{tickCoord:_.coordinate});var O=dy(e,_.tickCoord,E,d,u);O&&(d=_.tickCoord+e*(E()/2+s),o[w]=$a($a({},_),{},{isShow:!0}))},y=0;y<v;y++)N(y);return o}function Q5(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,d=e.interval,u=e.tickFormatter,m=e.unit,p=e.angle;if(!s||!s.length||!n)return[];if(Ve(d)||Qi.isSsr)return l0e(s,typeof d=="number"&&Ve(d)?d:0);var h=[],b=l==="top"||l==="bottom"?"width":"height",v=m&&b==="width"?wf(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},N=function(_,A){var E=Pt(u)?u(_.value,A):_.value;return b==="width"?i0e(wf(E,{fontSize:t,letterSpacing:r}),v,p):wf(E,{fontSize:t,letterSpacing:r})[b]},y=s.length>=2?ts(s[1].coordinate-s[0].coordinate):1,S=o0e(i,y,b);return d==="equidistantPreserveStart"?c0e(y,S,N,s,o):(d==="preserveStart"||d==="preserveStartEnd"?h=m0e(y,S,N,s,o,d==="preserveStartEnd"):h=p0e(y,S,N,s,o),h.filter(function(w){return w.isShow}))}var h0e=["viewBox"],g0e=["viewBox"],x0e=["ticks"];function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){Z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mw(e,t){if(e==null)return{};var r=b0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yH(n.key),n)}}function v0e(e,t,r){return t&&e$(e.prototype,t),r&&e$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N0e(e,t,r){return t=uy(t),S0e(e,bH()?Reflect.construct(t,r||[],uy(e).constructor):t.apply(e,r))}function S0e(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j0e(e)}function j0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(e)}function w0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sC(e,t)}function sC(e,t){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sC(e,t)}function Z5(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=E0e(e,"string");return lp(t)=="symbol"?t:t+""}function E0e(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Up=(function(e){function t(r){var n;return y0e(this,t),n=N0e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return w0e(t,e),v0e(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Mw(n,h0e),l=this.props,d=l.viewBox,u=Mw(l,g0e);return!jf(i,d)||!jf(o,u)||!jf(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,d=s.height,u=s.orientation,m=s.tickSize,p=s.mirror,h=s.tickMargin,b,v,N,y,S,w,_=p?-1:1,A=n.tickSize||m,E=Ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":b=v=n.coordinate,y=o+ +!p*d,N=y-_*A,w=N-_*h,S=E;break;case"left":N=y=n.coordinate,v=i+ +!p*l,b=v-_*A,S=b-_*h,w=E;break;case"right":N=y=n.coordinate,v=i+ +p*l,b=v+_*A,S=b+_*h,w=E;break;default:b=v=n.coordinate,y=o+ +p*d,N=y+_*A,w=N+_*h,S=E;break}return{line:{x1:b,y1:N,x2:v,y2:y},tick:{x:S,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,d=n.orientation,u=n.mirror,m=n.axisLine,p=Zn(Zn(Zn({},wt(this.props,!1)),wt(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var h=+(d==="top"&&!u||d==="bottom"&&u);p=Zn(Zn({},p),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var b=+(d==="left"&&!u||d==="right"&&u);p=Zn(Zn({},p),{},{x1:s+b*o,y1:i,x2:s+b*o,y2:i+l})}return q.createElement("line",pf({},p,{className:rr("recharts-cartesian-axis-line",Es(m,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,d=l.tickLine,u=l.stroke,m=l.tick,p=l.tickFormatter,h=l.unit,b=Q5(Zn(Zn({},this.props),{},{ticks:n}),s,i),v=this.getTickTextAnchor(),N=this.getTickVerticalAnchor(),y=wt(this.props,!1),S=wt(m,!1),w=Zn(Zn({},y),{},{fill:"none"},wt(d,!1)),_=b.map(function(A,E){var C=o.getTickLineCoord(A),O=C.line,D=C.tick,R=Zn(Zn(Zn(Zn({textAnchor:v,verticalAnchor:N},y),{},{stroke:"none",fill:u},S),D),{},{index:E,payload:A,visibleTicksCount:b.length,tickFormatter:p});return q.createElement(sr,pf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Yc(o.props,A,E)),d&&q.createElement("line",pf({},w,O,{className:rr("recharts-cartesian-axis-tick-line",Es(d,"className"))})),m&&t.renderTickItem(m,R,"".concat(Pt(p)?p(A.value,E):A.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,d=s.ticksGenerator,u=s.className,m=s.hide;if(m)return null;var p=this.props,h=p.ticks,b=Mw(p,x0e),v=h;return Pt(d)&&(v=h&&h.length>0?d(this.props):d(b)),o<=0||l<=0||!v||!v.length?null:q.createElement(sr,{className:rr("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),ha.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=rr(s.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(n)?o=q.cloneElement(n,Zn(Zn({},s),{},{className:l})):Pt(n)?o=n(Zn(Zn({},s),{},{className:l})):o=q.createElement(tu,pf({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(g.Component);Z5(Up,"displayName","CartesianAxis");Z5(Up,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var A0e=["x1","y1","x2","y2","key"],_0e=["offset"];function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){C0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C0e(e,t,r){return t=T0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T0e(e){var t=k0e(e,"string");return su(t)=="symbol"?t:t+""}function k0e(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(this,arguments)}function r$(e,t){if(e==null)return{};var r=O0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R0e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,d=t.ry;return q.createElement("rect",{x:s,y:i,ry:d,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vH(e,t){var r;if(q.isValidElement(e))r=q.cloneElement(e,t);else if(Pt(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,d=r$(t,A0e),u=wt(d,!1);u.offset;var m=r$(u,_0e);r=q.createElement("line",Hd({},m,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function P0e(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,d){var u=Ua(Ua({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(d),index:d});return vH(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function D0e(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,d){var u=Ua(Ua({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(d),index:d});return vH(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function M0e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,d=e.horizontal,u=d===void 0?!0:d;if(!u||!t||!t.length)return null;var m=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,b){return h-b});s!==m[0]&&m.unshift(0);var p=m.map(function(h,b){var v=!m[b+1],N=v?s+o-h:m[b+1]-h;if(N<=0)return null;var y=b%t.length;return q.createElement("rect",{key:"react-".concat(b),y:h,x:n,height:N,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function I0e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,d=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var m=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,b){return h-b});i!==m[0]&&m.unshift(0);var p=m.map(function(h,b){var v=!m[b+1],N=v?i+l-h:m[b+1]-h;if(N<=0)return null;var y=b%n.length;return q.createElement("rect",{key:"react-".concat(b),x:h,y:o,width:N,height:d,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var L0e=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return yU(Q5(Ua(Ua(Ua({},Up.defaultProps),n),{},{ticks:Rl(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},$0e=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return yU(Q5(Ua(Ua(Ua({},Up.defaultProps),n),{},{ticks:Rl(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Wu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ha(e){var t,r,n,s,i,o,l=V5(),d=Y5(),u=Ehe(),m=Ua(Ua({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Wu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Wu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Wu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Wu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Wu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Wu.verticalFill,x:Ve(e.x)?e.x:u.left,y:Ve(e.y)?e.y:u.top,width:Ve(e.width)?e.width:u.width,height:Ve(e.height)?e.height:u.height}),p=m.x,h=m.y,b=m.width,v=m.height,N=m.syncWithTicks,y=m.horizontalValues,S=m.verticalValues,w=She(),_=jhe();if(!Ve(b)||b<=0||!Ve(v)||v<=0||!Ve(p)||p!==+p||!Ve(h)||h!==+h)return null;var A=m.verticalCoordinatesGenerator||L0e,E=m.horizontalCoordinatesGenerator||$0e,C=m.horizontalPoints,O=m.verticalPoints;if((!C||!C.length)&&Pt(E)){var D=y&&y.length,R=E({yAxis:_?Ua(Ua({},_),{},{ticks:D?y:_.ticks}):void 0,width:l,height:d,offset:u},D?!0:N);Xi(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(su(R),"]")),Array.isArray(R)&&(C=R)}if((!O||!O.length)&&Pt(A)){var K=S&&S.length,H=A({xAxis:w?Ua(Ua({},w),{},{ticks:K?S:w.ticks}):void 0,width:l,height:d,offset:u},K?!0:N);Xi(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(su(H),"]")),Array.isArray(H)&&(O=H)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(R0e,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),q.createElement(P0e,Hd({},m,{offset:u,horizontalPoints:C,xAxis:w,yAxis:_})),q.createElement(D0e,Hd({},m,{offset:u,verticalPoints:O,xAxis:w,yAxis:_})),q.createElement(M0e,Hd({},m,{horizontalPoints:C})),q.createElement(I0e,Hd({},m,{verticalPoints:O})))}Ha.displayName="CartesianGrid";var F0e=["type","layout","connectNulls","ref"],B0e=["key"];function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function n$(e,t){if(e==null)return{};var r=U0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_h.apply(this,arguments)}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(n){Hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vu(e){return K0e(e)||z0e(e)||G0e(e)||H0e()}function H0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G0e(e,t){if(e){if(typeof e=="string")return iC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iC(e,t)}}function z0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K0e(e){if(Array.isArray(e))return iC(e)}function iC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SH(n.key),n)}}function W0e(e,t,r){return t&&s$(e.prototype,t),r&&s$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V0e(e,t,r){return t=fy(t),Y0e(e,NH()?Reflect.construct(t,r||[],fy(e).constructor):t.apply(e,r))}function Y0e(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X0e(e)}function X0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fy(e)}function Q0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oC(e,t)}function oC(e,t){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},oC(e,t)}function Hi(e,t,r){return t=SH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=Z0e(e,"string");return cp(t)=="symbol"?t:t+""}function Z0e(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aa=(function(e){function t(){var r;q0e(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=V0e(this,t,[].concat(s)),Hi(r,"state",{isAnimationFinished:!0,totalLength:0}),Hi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Hi(r,"getStrokeDasharray",function(o,l,d){var u=d.reduce(function(S,w){return S+w});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var m=Math.floor(o/u),p=o%u,h=l-o,b=[],v=0,N=0;v<d.length;N+=d[v],++v)if(N+d[v]>p){b=[].concat(Vu(d.slice(0,v)),[p-N]);break}var y=b.length%2===0?[0,h]:[h];return[].concat(Vu(t.repeat(d,m)),Vu(b),y).map(function(S){return"".concat(S,"px")}).join(", ")}),Hi(r,"id",Vl("recharts-line-")),Hi(r,"pathRef",function(o){r.mainCurve=o}),Hi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Hi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Q0e(t,e),W0e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,d=i.yAxis,u=i.layout,m=i.children,p=ss(m,Bp);if(!p)return null;var h=function(N,y){return{x:N.x,y:N.y,value:N.value,errorVal:Qr(N.payload,y)}},b={clipPath:n?"url(#clipPath-".concat(s,")"):null};return q.createElement(sr,b,p.map(function(v){return q.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,u=l.points,m=l.dataKey,p=wt(this.props,!1),h=wt(d,!0),b=u.map(function(N,y){var S=Is(Is(Is({key:"dot-".concat(y),r:3},p),h),{},{index:y,cx:N.x,cy:N.y,value:N.value,dataKey:m,payload:N.payload,points:u});return t.renderDotItem(d,S)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return q.createElement(sr,_h({className:"recharts-line-dots",key:"dots"},v),b)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,d=l.type,u=l.layout,m=l.connectNulls;l.ref;var p=n$(l,F0e),h=Is(Is(Is({},wt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:d,layout:u,connectNulls:m});return q.createElement(Wc,_h({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,d=o.strokeDasharray,u=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,h=o.animationEasing,b=o.animationId,v=o.animateNewValues,N=o.width,y=o.height,S=this.state,w=S.prevPoints,_=S.totalLength;return q.createElement(As,{begin:m,duration:p,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(w){var C=w.length/l.length,O=l.map(function($,U){var P=Math.floor(U*C);if(w[P]){var G=w[P],L=An(G.x,$.x),M=An(G.y,$.y);return Is(Is({},$),{},{x:L(E),y:M(E)})}if(v){var B=An(N*2,$.x),J=An(y/2,$.y);return Is(Is({},$),{},{x:B(E),y:J(E)})}return Is(Is({},$),{},{x:$.x,y:$.y})});return i.renderCurveStatically(O,n,s)}var D=An(0,_),R=D(E),K;if(d){var H="".concat(d).split(/[,\s]+/gim).map(function($){return parseFloat($)});K=i.getStrokeDasharray(R,_,H)}else K=i.generateSimpleStrokeDasharray(_,R);return i.renderCurveStatically(l,n,s,{strokeDasharray:K})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,d=this.state,u=d.prevPoints,m=d.totalLength;return l&&o&&o.length&&(!u&&m>0||!Xc(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,d=s.className,u=s.xAxis,m=s.yAxis,p=s.top,h=s.left,b=s.width,v=s.height,N=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var S=this.state.isAnimationFinished,w=l.length===1,_=rr("recharts-line",d),A=u&&u.allowDataOverflow,E=m&&m.allowDataOverflow,C=A||E,O=qt(y)?this.id:y,D=(n=wt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=D.r,K=R===void 0?3:R,H=D.strokeWidth,$=H===void 0?2:H,U=bB(o)?o:{},P=U.clipDot,G=P===void 0?!0:P,L=K*2+$;return q.createElement(sr,{className:_},A||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(O)},q.createElement("rect",{x:A?h:h-b/2,y:E?p:p-v/2,width:A?b:b*2,height:E?v:v*2})),!G&&q.createElement("clipPath",{id:"clipPath-dots-".concat(O)},q.createElement("rect",{x:h-L/2,y:p-L/2,width:b+L,height:v+L}))):null,!w&&this.renderCurve(C,O),this.renderErrorBar(C,O),(w||o)&&this.renderDots(C,G,O),(!N||S)&&Ea.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(Vu(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(Vu(o),Vu(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(q.isValidElement(n))i=q.cloneElement(n,s);else if(Pt(n))i=n(s);else{var o=s.key,l=n$(s,B0e),d=rr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=q.createElement(L0,_h({key:o},l,{className:d}))}return i}}])})(g.PureComponent);Hi(aa,"displayName","Line");Hi(aa,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Hi(aa,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,d=e.displayedData,u=e.offset,m=t.layout,p=d.map(function(h,b){var v=Qr(h,o);return m==="horizontal"?{x:Qf({axis:r,ticks:s,bandSize:l,entry:h,index:b}),y:qt(v)?null:n.scale(v),value:v,payload:h}:{x:qt(v)?null:r.scale(v),y:Qf({axis:n,ticks:i,bandSize:l,entry:h,index:b}),value:v,payload:h}});return Is({points:p,layout:m},u)});var J0e=["layout","type","stroke","connectNulls","isRange","ref"],ege=["key"],jH;function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function wH(e,t){if(e==null)return{};var r=tge(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(this,arguments)}function i$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(r),!0).forEach(function(n){Do(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AH(n.key),n)}}function nge(e,t,r){return t&&o$(e.prototype,t),r&&o$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function age(e,t,r){return t=py(t),sge(e,EH()?Reflect.construct(t,r||[],py(e).constructor):t.apply(e,r))}function sge(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ige(e)}function ige(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},py(e)}function oge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lC(e,t)}function lC(e,t){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lC(e,t)}function Do(e,t,r){return t=AH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=lge(e,"string");return dp(t)=="symbol"?t:t+""}function lge(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var el=(function(e){function t(){var r;rge(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=age(this,t,[].concat(s)),Do(r,"state",{isAnimationFinished:!0}),Do(r,"id",Vl("recharts-area-")),Do(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pt(o)&&o()}),Do(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pt(o)&&o()}),r}return oge(t,e),nge(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var d=this.props,u=d.dot,m=d.points,p=d.dataKey,h=wt(this.props,!1),b=wt(u,!0),v=m.map(function(y,S){var w=Cc(Cc(Cc({key:"dot-".concat(S),r:3},h),b),{},{index:S,cx:y.x,cy:y.y,dataKey:p,value:y.value,payload:y.payload,points:m});return t.renderDotItem(u,w)}),N={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return q.createElement(sr,Gd({className:"recharts-area-dots"},N),v)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,d=o[0].x,u=o[o.length-1].x,m=n*Math.abs(d-u),p=Fc(o.map(function(h){return h.y||0}));return Ve(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Fc(i.map(function(h){return h.y||0})),p)),Ve(p)?q.createElement("rect",{x:d<u?d:d-m,y:0,width:m,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,d=o[0].y,u=o[o.length-1].y,m=n*Math.abs(d-u),p=Fc(o.map(function(h){return h.x||0}));return Ve(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Fc(i.map(function(h){return h.x||0})),p)),Ve(p)?q.createElement("rect",{x:0,y:d<u?d:d-m,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,d=l.layout,u=l.type,m=l.stroke,p=l.connectNulls,h=l.isRange;l.ref;var b=wH(l,J0e);return q.createElement(sr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},q.createElement(Wc,Gd({},wt(b,!0),{points:n,connectNulls:p,type:u,baseLine:s,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&q.createElement(Wc,Gd({},wt(this.props,!1),{className:"recharts-area-curve",layout:d,type:u,connectNulls:p,fill:"none",points:n})),m!=="none"&&h&&q.createElement(Wc,Gd({},wt(this.props,!1),{className:"recharts-area-curve",layout:d,type:u,connectNulls:p,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,d=o.baseLine,u=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,h=o.animationEasing,b=o.animationId,v=this.state,N=v.prevPoints,y=v.prevBaseLine;return q.createElement(As,{begin:m,duration:p,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(N){var _=N.length/l.length,A=l.map(function(D,R){var K=Math.floor(R*_);if(N[K]){var H=N[K],$=An(H.x,D.x),U=An(H.y,D.y);return Cc(Cc({},D),{},{x:$(w),y:U(w)})}return D}),E;if(Ve(d)&&typeof d=="number"){var C=An(y,d);E=C(w)}else if(qt(d)||td(d)){var O=An(y,0);E=O(w)}else E=d.map(function(D,R){var K=Math.floor(R*_);if(y[K]){var H=y[K],$=An(H.x,D.x),U=An(H.y,D.y);return Cc(Cc({},D),{},{x:$(w),y:U(w)})}return D});return i.renderAreaStatically(A,E,n,s)}return q.createElement(sr,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(w))),q.createElement(sr,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,d,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,d=i.isAnimationActive,u=this.state,m=u.prevPoints,p=u.prevBaseLine,h=u.totalLength;return d&&o&&o.length&&(!m&&h>0||!Xc(m,o)||!Xc(p,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,d=s.className,u=s.top,m=s.left,p=s.xAxis,h=s.yAxis,b=s.width,v=s.height,N=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var S=this.state.isAnimationFinished,w=l.length===1,_=rr("recharts-area",d),A=p&&p.allowDataOverflow,E=h&&h.allowDataOverflow,C=A||E,O=qt(y)?this.id:y,D=(n=wt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=D.r,K=R===void 0?3:R,H=D.strokeWidth,$=H===void 0?2:H,U=bB(o)?o:{},P=U.clipDot,G=P===void 0?!0:P,L=K*2+$;return q.createElement(sr,{className:_},A||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(O)},q.createElement("rect",{x:A?m:m-b/2,y:E?u:u-v/2,width:A?b:b*2,height:E?v:v*2})),!G&&q.createElement("clipPath",{id:"clipPath-dots-".concat(O)},q.createElement("rect",{x:m-L/2,y:u-L/2,width:b+L,height:v+L}))):null,w?null:this.renderArea(C,O),(o||w)&&this.renderDots(C,G,O),(!N||S)&&Ea.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(g.PureComponent);jH=el;Do(el,"displayName","Area");Do(el,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Qi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Do(el,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Ve(l)&&typeof l=="number")return l;var d=s==="horizontal"?n:r,u=d.scale.domain();if(d.type==="number"){var m=Math.max(u[0],u[1]),p=Math.min(u[0],u[1]);return l==="dataMin"?p:l==="dataMax"||m<0?m:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Do(el,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,d=e.dataKey,u=e.stackedData,m=e.dataStartIndex,p=e.displayedData,h=e.offset,b=t.layout,v=u&&u.length,N=jH.getBaseValue(t,r,n,s),y=b==="horizontal",S=!1,w=p.map(function(A,E){var C;v?C=u[m+E]:(C=Qr(A,d),Array.isArray(C)?S=!0:C=[N,C]);var O=C[1]==null||v&&Qr(A,d)==null;return y?{x:Qf({axis:n,ticks:i,bandSize:l,entry:A,index:E}),y:O?null:s.scale(C[1]),value:C,payload:A}:{x:O?null:n.scale(C[1]),y:Qf({axis:s,ticks:o,bandSize:l,entry:A,index:E}),value:C,payload:A}}),_;return v||S?_=w.map(function(A){var E=Array.isArray(A.value)?A.value[0]:null;return y?{x:A.x,y:E!=null&&A.y!=null?s.scale(E):null}:{x:E!=null?n.scale(E):null,y:A.y}}):_=y?s.scale(N):n.scale(N),Cc({points:w,baseLine:_,layout:b,isRange:S},h)});Do(el,"renderDotItem",function(e,t){var r;if(q.isValidElement(e))r=q.cloneElement(e,t);else if(Pt(e))r=e(t);else{var n=rr("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=wH(t,ege);r=q.createElement(L0,Gd({},i,{key:s,className:n}))}return r});function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function cge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TH(n.key),n)}}function uge(e,t,r){return t&&dge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fge(e,t,r){return t=my(t),pge(e,_H()?Reflect.construct(t,r||[],my(e).constructor):t.apply(e,r))}function pge(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mge(e)}function mge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}function hge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cC(e,t)}function cC(e,t){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cC(e,t)}function CH(e,t,r){return t=TH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=gge(e,"string");return up(t)=="symbol"?t:t+""}function gge(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hp=(function(e){function t(){return cge(this,t),fge(this,t,arguments)}return hge(t,e),uge(t,[{key:"render",value:function(){return null}}])})(g.Component);CH(Hp,"displayName","ZAxis");CH(Hp,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var xge=["option","isActive"];function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}function bge(e,t){if(e==null)return{};var r=yge(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vge(e){var t=e.option,r=e.isActive,n=bge(e,xge);return typeof t=="string"?g.createElement(ey,Ch({option:g.createElement(pv,Ch({type:t},n)),isActive:r,shapeType:"symbols"},n)):g.createElement(ey,Ch({option:t,isActive:r,shapeType:"symbols"},n))}function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Th.apply(this,arguments)}function l$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(r),!0).forEach(function(n){Uc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OH(n.key),n)}}function Sge(e,t,r){return t&&c$(e.prototype,t),r&&c$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jge(e,t,r){return t=hy(t),wge(e,kH()?Reflect.construct(t,r||[],hy(e).constructor):t.apply(e,r))}function wge(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ege(e)}function Ege(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(e)}function Age(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dC(e,t)}function dC(e,t){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dC(e,t)}function Uc(e,t,r){return t=OH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=_ge(e,"string");return fp(t)=="symbol"?t:t+""}function _ge(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gp=(function(e){function t(){var r;Nge(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=jge(this,t,[].concat(s)),Uc(r,"state",{isAnimationFinished:!1}),Uc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Uc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Uc(r,"id",Vl("recharts-scatter-")),r}return Age(t,e),Sge(t,[{key:"renderSymbolsStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.activeShape,d=i.activeIndex,u=wt(this.props,!1);return n.map(function(m,p){var h=d===p,b=h?l:o,v=gi(gi({},u),m);return q.createElement(sr,Th({className:"recharts-scatter-symbol",key:"symbol-".concat(m?.cx,"-").concat(m?.cy,"-").concat(m?.size,"-").concat(p)},Yc(s.props,m,p),{role:"img"}),q.createElement(vge,Th({option:b,isActive:h,key:"symbol-".concat(p)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,s=this.props,i=s.points,o=s.isAnimationActive,l=s.animationBegin,d=s.animationDuration,u=s.animationEasing,m=s.animationId,p=this.state.prevPoints;return q.createElement(As,{begin:l,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var b=h.t,v=i.map(function(N,y){var S=p&&p[y];if(S){var w=An(S.cx,N.cx),_=An(S.cy,N.cy),A=An(S.size,N.size);return gi(gi({},N),{},{cx:w(b),cy:_(b),size:A(b)})}var E=An(0,N.size);return gi(gi({},N),{},{size:E(b)})});return q.createElement(sr,null,n.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var n=this.props,s=n.points,i=n.isAnimationActive,o=this.state.prevPoints;return i&&s&&s.length&&(!o||!Xc(o,s))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(s)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,o=s.xAxis,l=s.yAxis,d=s.children,u=ss(d,Bp);return u?u.map(function(m,p){var h=m.props,b=h.direction,v=h.dataKey;return q.cloneElement(m,{key:"".concat(b,"-").concat(v,"-").concat(i[p]),data:i,xAxis:o,yAxis:l,layout:b==="x"?"vertical":"horizontal",dataPointFormatter:function(y,S){return{x:y.cx,y:y.cy,value:b==="x"?+y.node.x:+y.node.y,errorVal:Qr(y,S)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,s=n.points,i=n.line,o=n.lineType,l=n.lineJointType,d=wt(this.props,!1),u=wt(i,!1),m,p;if(o==="joint")m=s.map(function(_){return{x:_.cx,y:_.cy}});else if(o==="fitting"){var h=Ste(s),b=h.xmin,v=h.xmax,N=h.a,y=h.b,S=function(A){return N*A+y};m=[{x:b,y:S(b)},{x:v,y:S(v)}]}var w=gi(gi(gi({},d),{},{fill:"none",stroke:d&&d.fill},u),{},{points:m});return q.isValidElement(i)?p=q.cloneElement(i,w):Pt(i)?p=i(w):p=q.createElement(Wc,Th({},w,{type:l})),q.createElement(sr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.points,o=n.line,l=n.className,d=n.xAxis,u=n.yAxis,m=n.left,p=n.top,h=n.width,b=n.height,v=n.id,N=n.isAnimationActive;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,S=rr("recharts-scatter",l),w=d&&d.allowDataOverflow,_=u&&u.allowDataOverflow,A=w||_,E=qt(v)?this.id:v;return q.createElement(sr,{className:S,clipPath:A?"url(#clipPath-".concat(E,")"):null},w||_?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:w?m:m-h/2,y:_?p:p-b/2,width:w?h:h*2,height:_?b:b*2}))):null,o&&this.renderLine(),this.renderErrorBar(),q.createElement(sr,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!N||y)&&Ea.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}}])})(g.PureComponent);Uc(Gp,"displayName","Scatter");Uc(Gp,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Uc(Gp,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,s=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,d=e.offset,u=s.props.tooltipType,m=ss(s.props.children,Ni),p=qt(t.dataKey)?s.props.dataKey:t.dataKey,h=qt(r.dataKey)?s.props.dataKey:r.dataKey,b=n&&n.dataKey,v=n?n.range:Hp.defaultProps.range,N=v&&v[0],y=t.scale.bandwidth?t.scale.bandwidth():0,S=r.scale.bandwidth?r.scale.bandwidth():0,w=i.map(function(_,A){var E=Qr(_,p),C=Qr(_,h),O=!qt(b)&&Qr(_,b)||"-",D=[{name:qt(t.dataKey)?s.props.name:t.name||t.dataKey,unit:t.unit||"",value:E,payload:_,dataKey:p,type:u},{name:qt(r.dataKey)?s.props.name:r.name||r.dataKey,unit:r.unit||"",value:C,payload:_,dataKey:h,type:u}];O!=="-"&&D.push({name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:_,dataKey:b,type:u});var R=Qf({axis:t,ticks:o,bandSize:y,entry:_,index:A,dataKey:p}),K=Qf({axis:r,ticks:l,bandSize:S,entry:_,index:A,dataKey:h}),H=O!=="-"?n.scale(O):N,$=Math.sqrt(Math.max(H,0)/Math.PI);return gi(gi({},_),{},{cx:R,cy:K,x:R-$,y:K-$,xAxis:t,yAxis:r,zAxis:n,width:2*$,height:2*$,size:H,node:{x:E,y:C,z:O},tooltipPayload:D,tooltipPosition:{x:R,y:K},payload:_},m&&m[A]&&m[A].props)});return gi({points:w},d)});function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function Cge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DH(n.key),n)}}function kge(e,t,r){return t&&Tge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oge(e,t,r){return t=gy(t),Rge(e,RH()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function Rge(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(e)}function Pge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RH=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function Dge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uC(e,t)}function uC(e,t){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uC(e,t)}function PH(e,t,r){return t=DH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=Mge(e,"string");return pp(t)=="symbol"?t:t+""}function Mge(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fC(){return fC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fC.apply(this,arguments)}function Ige(e){var t=e.xAxisId,r=V5(),n=Y5(),s=cH(t);return s==null?null:g.createElement(Up,fC({},s,{className:rr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Rl(o,!0)}}))}var $n=(function(e){function t(){return Cge(this,t),Oge(this,t,arguments)}return Dge(t,e),kge(t,[{key:"render",value:function(){return g.createElement(Ige,this.props)}}])})(g.Component);PH($n,"displayName","XAxis");PH($n,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function Lge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LH(n.key),n)}}function Fge(e,t,r){return t&&$ge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bge(e,t,r){return t=xy(t),Uge(e,MH()?Reflect.construct(t,r||[],xy(e).constructor):t.apply(e,r))}function Uge(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hge(e)}function Hge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MH=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(e)}function Gge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pC(e,t)}function pC(e,t){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pC(e,t)}function IH(e,t,r){return t=LH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=zge(e,"string");return mp(t)=="symbol"?t:t+""}function zge(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mC(){return mC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mC.apply(this,arguments)}var Kge=function(t){var r=t.yAxisId,n=V5(),s=Y5(),i=dH(r);return i==null?null:g.createElement(Up,mC({},i,{className:rr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Rl(l,!0)}}))},_n=(function(e){function t(){return Lge(this,t),Bge(this,t,arguments)}return Gge(t,e),Fge(t,[{key:"render",value:function(){return g.createElement(Kge,this.props)}}])})(g.Component);IH(_n,"displayName","YAxis");IH(_n,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function d$(e){return Yge(e)||Vge(e)||Wge(e)||qge()}function qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wge(e,t){if(e){if(typeof e=="string")return hC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(e,t)}}function Vge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yge(e){if(Array.isArray(e))return hC(e)}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gC=function(t,r,n,s,i){var o=ss(t,Ko),l=ss(t,$0),d=[].concat(d$(o),d$(l)),u=ss(t,Fv),m="".concat(s,"Id"),p=s[0],h=r;if(d.length&&(h=d.reduce(function(N,y){if(y.props[m]===n&&zo(y.props,"extendDomain")&&Ve(y.props[p])){var S=y.props[p];return[Math.min(N[0],S),Math.max(N[1],S)]}return N},h)),u.length){var b="".concat(p,"1"),v="".concat(p,"2");h=u.reduce(function(N,y){if(y.props[m]===n&&zo(y.props,"extendDomain")&&Ve(y.props[b])&&Ve(y.props[v])){var S=y.props[b],w=y.props[v];return[Math.min(N[0],S,w),Math.max(N[1],S,w)]}return N},h)}return i&&i.length&&(h=i.reduce(function(N,y){return Ve(y)?[Math.min(N[0],y),Math.max(N[1],y)]:N},h)),h},Iw={exports:{}},u$;function Xge(){return u$||(u$=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,u,m){this.fn=d,this.context=u,this.once=m||!1}function i(d,u,m,p,h){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new s(m,p||d,h),v=r?r+u:u;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],b]:d._events[v].push(b):(d._events[v]=b,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new n:delete d._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],m,p;if(this._eventsCount===0)return u;for(p in m=this._events)t.call(m,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},l.prototype.listeners=function(u){var m=r?r+u:u,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,b=p.length,v=new Array(b);h<b;h++)v[h]=p[h].fn;return v},l.prototype.listenerCount=function(u){var m=r?r+u:u,p=this._events[m];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,m,p,h,b,v){var N=r?r+u:u;if(!this._events[N])return!1;var y=this._events[N],S=arguments.length,w,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),S){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,m),!0;case 3:return y.fn.call(y.context,m,p),!0;case 4:return y.fn.call(y.context,m,p,h),!0;case 5:return y.fn.call(y.context,m,p,h,b),!0;case 6:return y.fn.call(y.context,m,p,h,b,v),!0}for(_=1,w=new Array(S-1);_<S;_++)w[_-1]=arguments[_];y.fn.apply(y.context,w)}else{var A=y.length,E;for(_=0;_<A;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),S){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,m);break;case 3:y[_].fn.call(y[_].context,m,p);break;case 4:y[_].fn.call(y[_].context,m,p,h);break;default:if(!w)for(E=1,w=new Array(S-1);E<S;E++)w[E-1]=arguments[E];y[_].fn.apply(y[_].context,w)}}return!0},l.prototype.on=function(u,m,p){return i(this,u,m,p,!1)},l.prototype.once=function(u,m,p){return i(this,u,m,p,!0)},l.prototype.removeListener=function(u,m,p,h){var b=r?r+u:u;if(!this._events[b])return this;if(!m)return o(this,b),this;var v=this._events[b];if(v.fn)v.fn===m&&(!h||v.once)&&(!p||v.context===p)&&o(this,b);else{for(var N=0,y=[],S=v.length;N<S;N++)(v[N].fn!==m||h&&!v[N].once||p&&v[N].context!==p)&&y.push(v[N]);y.length?this._events[b]=y.length===1?y[0]:y:o(this,b)}return this},l.prototype.removeAllListeners=function(u){var m;return u?(m=r?r+u:u,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Iw)),Iw.exports}var Qge=Xge();const Zge=$r(Qge);var Lw=new Zge,$w="recharts.syncMouseEvents";function h0(e){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h0(e)}function Jge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function exe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$H(n.key),n)}}function txe(e,t,r){return t&&exe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fw(e,t,r){return t=$H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=rxe(e,"string");return h0(t)=="symbol"?t:t+""}function rxe(e,t){if(h0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(h0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nxe=(function(){function e(){Jge(this,e),Fw(this,"activeIndex",0),Fw(this,"coordinateList",[]),Fw(this,"layout","horizontal")}return txe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,d=r.layout,u=d===void 0?null:d,m=r.offset,p=m===void 0?null:m,h=r.mouseHandlerCallback,b=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,d=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=i+d+u,h=o+this.offset.top+l/2+m;this.mouseHandlerCallback({pageX:p,pageY:h})}}}])})();function axe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],s=e?.[1];if(n&&s&&Ve(n)&&Ve(s))return!0}return!1}function sxe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function FH(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=ln(t,r,n,s),l=ln(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function ixe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,d=t.cy,u=t.innerRadius,m=t.outerRadius,p=t.angle,h=ln(l,d,u,p),b=ln(l,d,m,p);n=h.x,s=h.y,i=b.x,o=b.y}else return FH(t);return[{x:n,y:s},{x:i,y:o}]}function g0(e){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g0(e)}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(n){oxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oxe(e,t,r){return t=lxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lxe(e){var t=cxe(e,"string");return g0(t)=="symbol"?t:t+""}function cxe(e,t){if(g0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(g0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dxe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,d=e.offset,u=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,b=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var v,N=Wc;if(h==="ScatterChart")v=o,N=ipe;else if(h==="BarChart")v=sxe(p,o,d,m),N=Cv;else if(p==="radial"){var y=FH(o),S=y.cx,w=y.cy,_=y.radius,A=y.startAngle,E=y.endAngle;v={cx:S,cy:w,startAngle:A,endAngle:E,innerRadius:_,outerRadius:_},N=OU}else v={points:ixe(p,o,d)},N=Wc;var C=fx(fx(fx(fx({stroke:"#ccc",pointerEvents:"none"},d),v),wt(b,!1)),{},{payload:l,payloadIndex:u,className:rr("recharts-tooltip-cursor",b.className)});return g.isValidElement(b)?g.cloneElement(b,C):g.createElement(N,C)}var uxe=["item"],fxe=["children","className","width","height","style","compact","title","desc"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}function p$(e,t){return hxe(e)||mxe(e,t)||UH(e,t)||pxe()}function pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(m){u=!0,s=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function hxe(e){if(Array.isArray(e))return e}function m$(e,t){if(e==null)return{};var r=gxe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HH(n.key),n)}}function yxe(e,t,r){return t&&bxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vxe(e,t,r){return t=by(t),Nxe(e,BH()?Reflect.construct(t,r||[],by(e).constructor):t.apply(e,r))}function Nxe(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sxe(e)}function Sxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BH=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(e)}function jxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xC(e,t)}function gp(e){return Axe(e)||Exe(e)||UH(e)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UH(e,t){if(e){if(typeof e=="string")return bC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bC(e,t)}}function Exe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Axe(e){if(Array.isArray(e))return bC(e)}function bC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(n){Yt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yt(e,t,r){return t=HH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=_xe(e,"string");return hp(t)=="symbol"?t:t+""}function _xe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cxe={xAxis:["bottom","top"],yAxis:["left","right"]},Txe={width:"100%",height:"100%"},GH={x:0,y:0};function px(e){return e}var kxe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Oxe=function(t,r,n,s){var i=r.find(function(m){return m&&m.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return Pe(Pe(Pe({},s),ln(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var d=i.coordinate,u=s.angle;return Pe(Pe(Pe({},s),ln(s.cx,s.cy,d,u)),{},{angle:u,radius:d})}return GH},Bv=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,d){var u=d.props.data;return u&&u.length?[].concat(gp(l),gp(u)):l},[]);return o.length>0?o:t&&t.length&&Ve(s)&&Ve(i)?t.slice(s,i+1):[]};function zH(e){return e==="number"?[0,"auto"]:void 0}var yC=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Bv(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(d,u){var m,p=(m=u.props.data)!==null&&m!==void 0?m:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var b=p===void 0?l:p;h=mb(b,o.dataKey,s)}else h=p&&p[n]||l[n];return h?[].concat(gp(d),[wU(u,h)]):d},[])},g$=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=kxe(i,n),l=t.orderedTooltipTicks,d=t.tooltipAxis,u=t.tooltipTicks,m=Tce(o,l,u,d);if(m>=0&&u){var p=u[m]&&u[m].value,h=yC(t,r,m,p),b=Oxe(n,l,m,i);return{activeTooltipIndex:m,activeLabel:p,activePayload:h,activeCoordinate:b}}return null},Rxe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,m=t.layout,p=t.children,h=t.stackOffset,b=bU(m,i);return n.reduce(function(v,N){var y,S=N.type.defaultProps!==void 0?Pe(Pe({},N.type.defaultProps),N.props):N.props,w=S.type,_=S.dataKey,A=S.allowDataOverflow,E=S.allowDuplicatedCategory,C=S.scale,O=S.ticks,D=S.includeHidden,R=S[o];if(v[R])return v;var K=Bv(t.data,{graphicalItems:s.filter(function(Y){var ae,le=o in Y.props?Y.props[o]:(ae=Y.type.defaultProps)===null||ae===void 0?void 0:ae[o];return le===R}),dataStartIndex:d,dataEndIndex:u}),H=K.length,$,U,P;axe(S.domain,A,w)&&($=k_(S.domain,null,A),b&&(w==="number"||C!=="auto")&&(P=jh(K,_,"category")));var G=zH(w);if(!$||$.length===0){var L,M=(L=S.domain)!==null&&L!==void 0?L:G;if(_){if($=jh(K,_,w),w==="category"&&b){var B=Nte($);E&&B?(U=$,$=ry(0,H)):E||($=mL(M,$,N).reduce(function(Y,ae){return Y.indexOf(ae)>=0?Y:[].concat(gp(Y),[ae])},[]))}else if(w==="category")E?$=$.filter(function(Y){return Y!==""&&!qt(Y)}):$=mL(M,$,N).reduce(function(Y,ae){return Y.indexOf(ae)>=0||ae===""||qt(ae)?Y:[].concat(gp(Y),[ae])},[]);else if(w==="number"){var J=Dce(K,s.filter(function(Y){var ae,le,he=o in Y.props?Y.props[o]:(ae=Y.type.defaultProps)===null||ae===void 0?void 0:ae[o],X="hide"in Y.props?Y.props.hide:(le=Y.type.defaultProps)===null||le===void 0?void 0:le.hide;return he===R&&(D||!X)}),_,i,m);J&&($=J)}b&&(w==="number"||C!=="auto")&&(P=jh(K,_,"category"))}else b?$=ry(0,H):l&&l[R]&&l[R].hasStack&&w==="number"?$=h==="expand"?[0,1]:jU(l[R].stackGroups,d,u):$=xU(K,s.filter(function(Y){var ae=o in Y.props?Y.props[o]:Y.type.defaultProps[o],le="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ae===R&&(D||!le)}),w,m,!0);if(w==="number")$=gC(p,$,R,i,O),M&&($=k_(M,$,A));else if(w==="category"&&M){var ee=M,I=$.every(function(Y){return ee.indexOf(Y)>=0});I&&($=ee)}}return Pe(Pe({},v),{},Yt({},R,Pe(Pe({},S),{},{axisType:i,domain:$,categoricalDomain:P,duplicateDomain:U,originalDomain:(y=S.domain)!==null&&y!==void 0?y:G,isCategorical:b,layout:m})))},{})},Pxe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,m=t.layout,p=t.children,h=Bv(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:u}),b=h.length,v=bU(m,i),N=-1;return n.reduce(function(y,S){var w=S.type.defaultProps!==void 0?Pe(Pe({},S.type.defaultProps),S.props):S.props,_=w[o],A=zH("number");if(!y[_]){N++;var E;return v?E=ry(0,b):l&&l[_]&&l[_].hasStack?(E=jU(l[_].stackGroups,d,u),E=gC(p,E,_,i)):(E=k_(A,xU(h,n.filter(function(C){var O,D,R=o in C.props?C.props[o]:(O=C.type.defaultProps)===null||O===void 0?void 0:O[o],K="hide"in C.props?C.props.hide:(D=C.type.defaultProps)===null||D===void 0?void 0:D.hide;return R===_&&!K}),"number",m),s.defaultProps.allowDataOverflow),E=gC(p,E,_,i)),Pe(Pe({},y),{},Yt({},_,Pe(Pe({axisType:i},s.defaultProps),{},{hide:!0,orientation:Es(Cxe,"".concat(i,".").concat(N%2),null),domain:E,originalDomain:A,isCategorical:v,layout:m})))}return y},{})},Dxe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,m=t.children,p="".concat(s,"Id"),h=ss(m,i),b={};return h&&h.length?b=Rxe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:u}):o&&o.length&&(b=Pxe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:u})),b},Mxe=function(t){var r=Lc(t),n=Rl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:m5(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Hb(r,n)}},x$=function(t){var r=t.children,n=t.defaultShowTooltip,s=Ba(r,np),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Ixe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Dl(r&&r.type);return n&&n.indexOf("Bar")>=0})},b$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Lxe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,d=l===void 0?{}:l,u=n.width,m=n.height,p=n.children,h=n.margin||{},b=Ba(p,np),v=Ba(p,Ho),N=Object.keys(d).reduce(function(E,C){var O=d[C],D=O.orientation;return!O.mirror&&!O.hide?Pe(Pe({},E),{},Yt({},D,E[D]+O.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(E,C){var O=o[C],D=O.orientation;return!O.mirror&&!O.hide?Pe(Pe({},E),{},Yt({},D,Es(E,"".concat(D))+O.height)):E},{top:h.top||0,bottom:h.bottom||0}),S=Pe(Pe({},y),N),w=S.bottom;b&&(S.bottom+=b.props.height||np.defaultProps.height),v&&r&&(S=Rce(S,s,n,r));var _=u-S.left-S.right,A=m-S.top-S.bottom;return Pe(Pe({brushBottom:w},S),{},{width:Math.max(_,0),height:Math.max(A,0)})},$xe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},F0=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,d=t.axisComponents,u=t.legendContent,m=t.formatAxisMap,p=t.defaultProps,h=function(S,w){var _=w.graphicalItems,A=w.stackGroups,E=w.offset,C=w.updateId,O=w.dataStartIndex,D=w.dataEndIndex,R=S.barSize,K=S.layout,H=S.barGap,$=S.barCategoryGap,U=S.maxBarSize,P=b$(K),G=P.numericAxisName,L=P.cateAxisName,M=Ixe(_),B=[];return _.forEach(function(J,ee){var I=Bv(S.data,{graphicalItems:[J],dataStartIndex:O,dataEndIndex:D}),Y=J.type.defaultProps!==void 0?Pe(Pe({},J.type.defaultProps),J.props):J.props,ae=Y.dataKey,le=Y.maxBarSize,he=Y["".concat(G,"Id")],X=Y["".concat(L,"Id")],ne={},ve=d.reduce(function(Dt,ze){var $e=w["".concat(ze.axisType,"Map")],or=Y["".concat(ze.axisType,"Id")];$e&&$e[or]||ze.axisType==="zAxis"||au();var Vt=$e[or];return Pe(Pe({},Dt),{},Yt(Yt({},ze.axisType,Vt),"".concat(ze.axisType,"Ticks"),Rl(Vt)))},ne),pe=ve[L],Ce=ve["".concat(L,"Ticks")],ge=A&&A[he]&&A[he].hasStack&&Gce(J,A[he].stackGroups),se=Dl(J.type).indexOf("Bar")>=0,Ze=Hb(pe,Ce),V=[],de=M&&kce({barSize:R,stackGroups:A,totalSize:$xe(ve,L)});if(se){var Ae,ce,ye=qt(le)?U:le,Ie=(Ae=(ce=Hb(pe,Ce,!0))!==null&&ce!==void 0?ce:ye)!==null&&Ae!==void 0?Ae:0;V=Oce({barGap:H,barCategoryGap:$,bandSize:Ie!==Ze?Ie:Ze,sizeList:de[X],maxBarSize:ye}),Ie!==Ze&&(V=V.map(function(Dt){return Pe(Pe({},Dt),{},{position:Pe(Pe({},Dt.position),{},{offset:Dt.position.offset-Ie/2})})}))}var Ct=J&&J.type&&J.type.getComposedData;Ct&&B.push({props:Pe(Pe({},Ct(Pe(Pe({},ve),{},{displayedData:I,props:S,dataKey:ae,item:J,bandSize:Ze,barPosition:V,offset:E,stackedData:ge,layout:K,dataStartIndex:O,dataEndIndex:D}))),{},Yt(Yt(Yt({key:J.key||"item-".concat(ee)},G,ve[G]),L,ve[L]),"animationId",C)),childIndex:Dte(J,S.children),item:J})}),B},b=function(S,w){var _=S.props,A=S.dataStartIndex,E=S.dataEndIndex,C=S.updateId;if(!ZA({props:_}))return null;var O=_.children,D=_.layout,R=_.stackOffset,K=_.data,H=_.reverseStackOrder,$=b$(D),U=$.numericAxisName,P=$.cateAxisName,G=ss(O,n),L=Uce(K,G,"".concat(U,"Id"),"".concat(P,"Id"),R,H),M=d.reduce(function(Y,ae){var le="".concat(ae.axisType,"Map");return Pe(Pe({},Y),{},Yt({},le,Dxe(_,Pe(Pe({},ae),{},{graphicalItems:G,stackGroups:ae.axisType===U&&L,dataStartIndex:A,dataEndIndex:E}))))},{}),B=Lxe(Pe(Pe({},M),{},{props:_,graphicalItems:G}),w?.legendBBox);Object.keys(M).forEach(function(Y){M[Y]=m(_,M[Y],B,Y.replace("Map",""),r)});var J=M["".concat(P,"Map")],ee=Mxe(J),I=h(_,Pe(Pe({},M),{},{dataStartIndex:A,dataEndIndex:E,updateId:C,graphicalItems:G,stackGroups:L,offset:B}));return Pe(Pe({formattedGraphicalItems:I,graphicalItems:G,offset:B,stackGroups:L},ee),M)},v=(function(y){function S(w){var _,A,E;return xxe(this,S),E=vxe(this,S,[w]),Yt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Yt(E,"accessibilityManager",new nxe),Yt(E,"handleLegendBBoxUpdate",function(C){if(C){var O=E.state,D=O.dataStartIndex,R=O.dataEndIndex,K=O.updateId;E.setState(Pe({legendBBox:C},b({props:E.props,dataStartIndex:D,dataEndIndex:R,updateId:K},Pe(Pe({},E.state),{},{legendBBox:C}))))}}),Yt(E,"handleReceiveSyncEvent",function(C,O,D){if(E.props.syncId===C){if(D===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(O)}}),Yt(E,"handleBrushChange",function(C){var O=C.startIndex,D=C.endIndex;if(O!==E.state.dataStartIndex||D!==E.state.dataEndIndex){var R=E.state.updateId;E.setState(function(){return Pe({dataStartIndex:O,dataEndIndex:D},b({props:E.props,dataStartIndex:O,dataEndIndex:D,updateId:R},E.state))}),E.triggerSyncEvent({dataStartIndex:O,dataEndIndex:D})}}),Yt(E,"handleMouseEnter",function(C){var O=E.getMouseInfo(C);if(O){var D=Pe(Pe({},O),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var R=E.props.onMouseEnter;Pt(R)&&R(D,C)}}),Yt(E,"triggeredAfterMouseMove",function(C){var O=E.getMouseInfo(C),D=O?Pe(Pe({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(D),E.triggerSyncEvent(D);var R=E.props.onMouseMove;Pt(R)&&R(D,C)}),Yt(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Yt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Yt(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),Yt(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};E.setState(O),E.triggerSyncEvent(O);var D=E.props.onMouseLeave;Pt(D)&&D(O,C)}),Yt(E,"handleOuterEvent",function(C){var O=Pte(C),D=Es(E.props,"".concat(O));if(O&&Pt(D)){var R,K;/.*touch.*/i.test(O)?K=E.getMouseInfo(C.changedTouches[0]):K=E.getMouseInfo(C),D((R=K)!==null&&R!==void 0?R:{},C)}}),Yt(E,"handleClick",function(C){var O=E.getMouseInfo(C);if(O){var D=Pe(Pe({},O),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var R=E.props.onClick;Pt(R)&&R(D,C)}}),Yt(E,"handleMouseDown",function(C){var O=E.props.onMouseDown;if(Pt(O)){var D=E.getMouseInfo(C);O(D,C)}}),Yt(E,"handleMouseUp",function(C){var O=E.props.onMouseUp;if(Pt(O)){var D=E.getMouseInfo(C);O(D,C)}}),Yt(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Yt(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),Yt(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),Yt(E,"handleDoubleClick",function(C){var O=E.props.onDoubleClick;if(Pt(O)){var D=E.getMouseInfo(C);O(D,C)}}),Yt(E,"handleContextMenu",function(C){var O=E.props.onContextMenu;if(Pt(O)){var D=E.getMouseInfo(C);O(D,C)}}),Yt(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&Lw.emit($w,E.props.syncId,C,E.eventEmitterSymbol)}),Yt(E,"applySyncEvent",function(C){var O=E.props,D=O.layout,R=O.syncMethod,K=E.state.updateId,H=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(Pe({dataStartIndex:H,dataEndIndex:$},b({props:E.props,dataStartIndex:H,dataEndIndex:$,updateId:K},E.state)));else if(C.activeTooltipIndex!==void 0){var U=C.chartX,P=C.chartY,G=C.activeTooltipIndex,L=E.state,M=L.offset,B=L.tooltipTicks;if(!M)return;if(typeof R=="function")G=R(B,C);else if(R==="value"){G=-1;for(var J=0;J<B.length;J++)if(B[J].value===C.activeLabel){G=J;break}}var ee=Pe(Pe({},M),{},{x:M.left,y:M.top}),I=Math.min(U,ee.x+ee.width),Y=Math.min(P,ee.y+ee.height),ae=B[G]&&B[G].value,le=yC(E.state,E.props.data,G),he=B[G]?{x:D==="horizontal"?B[G].coordinate:I,y:D==="horizontal"?Y:B[G].coordinate}:GH;E.setState(Pe(Pe({},C),{},{activeLabel:ae,activeCoordinate:he,activePayload:le,activeTooltipIndex:G}))}else E.setState(C)}),Yt(E,"renderCursor",function(C){var O,D=E.state,R=D.isTooltipActive,K=D.activeCoordinate,H=D.activePayload,$=D.offset,U=D.activeTooltipIndex,P=D.tooltipAxisBandSize,G=E.getTooltipEventType(),L=(O=C.props.active)!==null&&O!==void 0?O:R,M=E.props.layout,B=C.key||"_recharts-cursor";return q.createElement(dxe,{key:B,activeCoordinate:K,activePayload:H,activeTooltipIndex:U,chartName:r,element:C,isActive:L,layout:M,offset:$,tooltipAxisBandSize:P,tooltipEventType:G})}),Yt(E,"renderPolarAxis",function(C,O,D){var R=Es(C,"type.axisType"),K=Es(E.state,"".concat(R,"Map")),H=C.type.defaultProps,$=H!==void 0?Pe(Pe({},H),C.props):C.props,U=K&&K[$["".concat(R,"Id")]];return g.cloneElement(C,Pe(Pe({},U),{},{className:rr(R,U.className),key:C.key||"".concat(O,"-").concat(D),ticks:Rl(U,!0)}))}),Yt(E,"renderPolarGrid",function(C){var O=C.props,D=O.radialLines,R=O.polarAngles,K=O.polarRadius,H=E.state,$=H.radiusAxisMap,U=H.angleAxisMap,P=Lc($),G=Lc(U),L=G.cx,M=G.cy,B=G.innerRadius,J=G.outerRadius;return g.cloneElement(C,{polarAngles:Array.isArray(R)?R:Rl(G,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(K)?K:Rl(P,!0).map(function(ee){return ee.coordinate}),cx:L,cy:M,innerRadius:B,outerRadius:J,key:C.key||"polar-grid",radialLines:D})}),Yt(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,O=E.props,D=O.children,R=O.width,K=O.height,H=E.props.margin||{},$=R-(H.left||0)-(H.right||0),U=hU({children:D,formattedGraphicalItems:C,legendWidth:$,legendContent:u});if(!U)return null;var P=U.item,G=m$(U,uxe);return g.cloneElement(P,Pe(Pe({},G),{},{chartWidth:R,chartHeight:K,margin:H,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Yt(E,"renderTooltip",function(){var C,O=E.props,D=O.children,R=O.accessibilityLayer,K=Ba(D,qr);if(!K)return null;var H=E.state,$=H.isTooltipActive,U=H.activeCoordinate,P=H.activePayload,G=H.activeLabel,L=H.offset,M=(C=K.props.active)!==null&&C!==void 0?C:$;return g.cloneElement(K,{viewBox:Pe(Pe({},L),{},{x:L.left,y:L.top}),active:M,label:G,payload:M?P:[],coordinate:U,accessibilityLayer:R})}),Yt(E,"renderBrush",function(C){var O=E.props,D=O.margin,R=O.data,K=E.state,H=K.offset,$=K.dataStartIndex,U=K.dataEndIndex,P=K.updateId;return g.cloneElement(C,{key:C.key||"_recharts-brush",onChange:lx(E.handleBrushChange,C.props.onChange),data:R,x:Ve(C.props.x)?C.props.x:H.left,y:Ve(C.props.y)?C.props.y:H.top+H.height+H.brushBottom-(D.bottom||0),width:Ve(C.props.width)?C.props.width:H.width,startIndex:$,endIndex:U,updateId:"brush-".concat(P)})}),Yt(E,"renderReferenceElement",function(C,O,D){if(!C)return null;var R=E,K=R.clipPathId,H=E.state,$=H.xAxisMap,U=H.yAxisMap,P=H.offset,G=C.type.defaultProps||{},L=C.props,M=L.xAxisId,B=M===void 0?G.xAxisId:M,J=L.yAxisId,ee=J===void 0?G.yAxisId:J;return g.cloneElement(C,{key:C.key||"".concat(O,"-").concat(D),xAxis:$[B],yAxis:U[ee],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:K})}),Yt(E,"renderActivePoints",function(C){var O=C.item,D=C.activePoint,R=C.basePoint,K=C.childIndex,H=C.isRange,$=[],U=O.props.key,P=O.item.type.defaultProps!==void 0?Pe(Pe({},O.item.type.defaultProps),O.item.props):O.item.props,G=P.activeDot,L=P.dataKey,M=Pe(Pe({index:K,dataKey:L,cx:D.x,cy:D.y,r:4,fill:H5(O.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},wt(G,!1)),hb(G));return $.push(S.renderActiveDot(G,M,"".concat(U,"-activePoint-").concat(K))),R?$.push(S.renderActiveDot(G,Pe(Pe({},M),{},{cx:R.x,cy:R.y}),"".concat(U,"-basePoint-").concat(K))):H&&$.push(null),$}),Yt(E,"renderGraphicChild",function(C,O,D){var R=E.filterFormatItem(C,O,D);if(!R)return null;var K=E.getTooltipEventType(),H=E.state,$=H.isTooltipActive,U=H.tooltipAxis,P=H.activeTooltipIndex,G=H.activeLabel,L=E.props.children,M=Ba(L,qr),B=R.props,J=B.points,ee=B.isRange,I=B.baseLine,Y=R.item.type.defaultProps!==void 0?Pe(Pe({},R.item.type.defaultProps),R.item.props):R.item.props,ae=Y.activeDot,le=Y.hide,he=Y.activeBar,X=Y.activeShape,ne=!!(!le&&$&&M&&(ae||he||X)),ve={};K!=="axis"&&M&&M.props.trigger==="click"?ve={onClick:lx(E.handleItemMouseEnter,C.props.onClick)}:K!=="axis"&&(ve={onMouseLeave:lx(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:lx(E.handleItemMouseEnter,C.props.onMouseEnter)});var pe=g.cloneElement(C,Pe(Pe({},R.props),ve));function Ce(ze){return typeof U.dataKey=="function"?U.dataKey(ze.payload):null}if(ne)if(P>=0){var ge,se;if(U.dataKey&&!U.allowDuplicatedCategory){var Ze=typeof U.dataKey=="function"?Ce:"payload.".concat(U.dataKey.toString());ge=mb(J,Ze,G),se=ee&&I&&mb(I,Ze,G)}else ge=J?.[P],se=ee&&I&&I[P];if(X||he){var V=C.props.activeIndex!==void 0?C.props.activeIndex:P;return[g.cloneElement(C,Pe(Pe(Pe({},R.props),ve),{},{activeIndex:V})),null,null]}if(!qt(ge))return[pe].concat(gp(E.renderActivePoints({item:R,activePoint:ge,basePoint:se,childIndex:P,isRange:ee})))}else{var de,Ae=(de=E.getItemByXY(E.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:pe},ce=Ae.graphicalItem,ye=ce.item,Ie=ye===void 0?C:ye,Ct=ce.childIndex,Dt=Pe(Pe(Pe({},R.props),ve),{},{activeIndex:Ct});return[g.cloneElement(Ie,Dt),null,null]}return ee?[pe,null,null]:[pe,null]}),Yt(E,"renderCustomized",function(C,O,D){return g.cloneElement(C,Pe(Pe({key:"recharts-customized-".concat(D)},E.props),E.state))}),Yt(E,"renderMap",{CartesianGrid:{handler:px,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:px},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:px},YAxis:{handler:px},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Vl("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=m9(E.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return jxe(S,y),yxe(S,[{key:"componentDidMount",value:function(){var _,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,A=_.children,E=_.data,C=_.height,O=_.layout,D=Ba(A,qr);if(D){var R=D.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,H=yC(this.state,E,R,K),$=this.state.tooltipTicks[R].coordinate,U=(this.state.offset.top+C)/2,P=O==="horizontal",G=P?{x:$,y:U}:{y:$,x:U},L=this.state.formattedGraphicalItems.find(function(B){var J=B.item;return J.type.name==="Scatter"});L&&(G=Pe(Pe({},G),L.props.points[R].tooltipPosition),H=L.props.points[R].tooltipPayload);var M={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:K,activePayload:H,activeCoordinate:G};this.setState(M),this.renderCursor(D),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(_){JA([Ba(_.children,qr)],[Ba(this.props.children,qr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ba(this.props.children,qr);if(_&&typeof _.props.shared=="boolean"){var A=_.props.shared?"axis":"item";return l.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),C=lse(E),O={chartX:Math.round(_.pageX-C.left),chartY:Math.round(_.pageY-C.top)},D=E.width/A.offsetWidth||1,R=this.inRange(O.chartX,O.chartY,D);if(!R)return null;var K=this.state,H=K.xAxisMap,$=K.yAxisMap,U=this.getTooltipEventType(),P=g$(this.state,this.props.data,this.props.layout,R);if(U!=="axis"&&H&&$){var G=Lc(H).scale,L=Lc($).scale,M=G&&G.invert?G.invert(O.chartX):null,B=L&&L.invert?L.invert(O.chartY):null;return Pe(Pe({},O),{},{xValue:M,yValue:B},P)}return P?Pe(Pe({},O),P):null}},{key:"inRange",value:function(_,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,O=_/E,D=A/E;if(C==="horizontal"||C==="vertical"){var R=this.state.offset,K=O>=R.left&&O<=R.left+R.width&&D>=R.top&&D<=R.top+R.height;return K?{x:O,y:D}:null}var H=this.state,$=H.angleAxisMap,U=H.radiusAxisMap;if($&&U){var P=Lc($);return xL({x:O,y:D},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,A=this.getTooltipEventType(),E=Ba(_,qr),C={};E&&A==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=hb(this.props,this.handleOuterEvent);return Pe(Pe({},O),C)}},{key:"addListener",value:function(){Lw.on($w,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lw.removeListener($w,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,A,E){for(var C=this.state.formattedGraphicalItems,O=0,D=C.length;O<D;O++){var R=C[O];if(R.item===_||R.props.key===_.key||A===Dl(R.item.type)&&E===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,A=this.state.offset,E=A.left,C=A.top,O=A.height,D=A.width;return q.createElement("defs",null,q.createElement("clipPath",{id:_},q.createElement("rect",{x:E,y:C,height:O,width:D})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(A,E){var C=p$(E,2),O=C[0],D=C[1];return Pe(Pe({},A),{},Yt({},O,D.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(A,E){var C=p$(E,2),O=C[0],D=C[1];return Pe(Pe({},A),{},Yt({},O,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(_){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(_){var A=this.state,E=A.formattedGraphicalItems,C=A.activeItem;if(E&&E.length)for(var O=0,D=E.length;O<D;O++){var R=E[O],K=R.props,H=R.item,$=H.type.defaultProps!==void 0?Pe(Pe({},H.type.defaultProps),H.props):H.props,U=Dl(H.type);if(U==="Bar"){var P=(K.data||[]).find(function(B){return Ufe(_,B)});if(P)return{graphicalItem:R,payload:P}}else if(U==="RadialBar"){var G=(K.data||[]).find(function(B){return xL(_,B)});if(G)return{graphicalItem:R,payload:G}}else if(Pv(R,C)||Dv(R,C)||d0(R,C)){var L=ome({graphicalItem:R,activeTooltipItem:C,itemData:$.data}),M=$.activeIndex===void 0?L:$.activeIndex;return{graphicalItem:Pe(Pe({},R),{},{childIndex:M}),payload:d0(R,C)?$.data[L]:R.props.data[L]}}}return null}},{key:"render",value:function(){var _=this;if(!ZA(this))return null;var A=this.props,E=A.children,C=A.className,O=A.width,D=A.height,R=A.style,K=A.compact,H=A.title,$=A.desc,U=m$(A,fxe),P=wt(U,!1);if(K)return q.createElement(z4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(gb,mf({},P,{width:O,height:D,title:H,desc:$}),this.renderClipPath(),kP(E,this.renderMap)));if(this.props.accessibilityLayer){var G,L;P.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,P.role=(L=this.props.role)!==null&&L!==void 0?L:"application",P.onKeyDown=function(B){_.accessibilityManager.keyboardEvent(B)},P.onFocus=function(){_.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return q.createElement(z4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",mf({className:rr("recharts-wrapper",C),style:Pe({position:"relative",cursor:"default",width:O,height:D},R)},M,{ref:function(J){_.container=J}}),q.createElement(gb,mf({},P,{width:O,height:D,title:H,desc:$,style:Txe}),this.renderClipPath(),kP(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(g.Component);Yt(v,"displayName",r),Yt(v,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Yt(v,"getDerivedStateFromProps",function(y,S){var w=y.dataKey,_=y.data,A=y.children,E=y.width,C=y.height,O=y.layout,D=y.stackOffset,R=y.margin,K=S.dataStartIndex,H=S.dataEndIndex;if(S.updateId===void 0){var $=x$(y);return Pe(Pe(Pe({},$),{},{updateId:0},b(Pe(Pe({props:y},$),{},{updateId:0}),S)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:C,prevLayout:O,prevStackOffset:D,prevMargin:R,prevChildren:A})}if(w!==S.prevDataKey||_!==S.prevData||E!==S.prevWidth||C!==S.prevHeight||O!==S.prevLayout||D!==S.prevStackOffset||!jf(R,S.prevMargin)){var U=x$(y),P={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},G=Pe(Pe({},g$(S,_,O)),{},{updateId:S.updateId+1}),L=Pe(Pe(Pe({},U),P),G);return Pe(Pe(Pe({},L),b(Pe({props:y},L),S)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:C,prevLayout:O,prevStackOffset:D,prevMargin:R,prevChildren:A})}if(!JA(A,S.prevChildren)){var M,B,J,ee,I=Ba(A,np),Y=I&&(M=(B=I.props)===null||B===void 0?void 0:B.startIndex)!==null&&M!==void 0?M:K,ae=I&&(J=(ee=I.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&J!==void 0?J:H,le=Y!==K||ae!==H,he=!qt(_),X=he&&!le?S.updateId:S.updateId+1;return Pe(Pe({updateId:X},b(Pe(Pe({props:y},S),{},{updateId:X,dataStartIndex:Y,dataEndIndex:ae}),S)),{},{prevChildren:A,dataStartIndex:Y,dataEndIndex:ae})}return null}),Yt(v,"renderActiveDot",function(y,S,w){var _;return g.isValidElement(y)?_=g.cloneElement(y,S):Pt(y)?_=y(S):_=q.createElement(L0,S),q.createElement(sr,{className:"recharts-active-dot",key:w},_)});var N=g.forwardRef(function(S,w){return q.createElement(v,mf({},S,{ref:w}))});return N.displayName=v.displayName,N},Uv=F0({chartName:"LineChart",GraphicalChild:aa,axisComponents:[{axisType:"xAxis",AxisComp:$n},{axisType:"yAxis",AxisComp:_n}],formatAxisMap:Iv}),zd=F0({chartName:"BarChart",GraphicalChild:Aa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:$n},{axisType:"yAxis",AxisComp:_n}],formatAxisMap:Iv}),KH=F0({chartName:"PieChart",GraphicalChild:Jo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rv},{axisType:"radiusAxis",AxisComp:kv}],formatAxisMap:Jce,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Bw,y$;function Fxe(){if(y$)return Bw;y$=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s&&r(t[n],n,t)!==!1;);return t}return Bw=e,Bw}var Uw,v$;function qH(){if(v$)return Uw;v$=1;var e=z5(),t=tv(),r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l){var d=i[o];(!(n.call(i,o)&&t(d,l))||l===void 0&&!(o in i))&&e(i,o,l)}return Uw=s,Uw}var Hw,N$;function B0(){if(N$)return Hw;N$=1;var e=qH(),t=z5();function r(n,s,i,o){var l=!i;i||(i={});for(var d=-1,u=s.length;++d<u;){var m=s[d],p=o?o(i[m],n[m],m,i,n):void 0;p===void 0&&(p=n[m]),l?t(i,m,p):e(i,m,p)}return i}return Hw=r,Hw}var Gw,S$;function Bxe(){if(S$)return Gw;S$=1;var e=B0(),t=Mp();function r(n,s){return n&&e(s,t(s),n)}return Gw=r,Gw}var zw,j$;function Uxe(){if(j$)return zw;j$=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return zw=e,zw}var Kw,w$;function Hxe(){if(w$)return Kw;w$=1;var e=no(),t=d5(),r=Uxe(),n=Object.prototype,s=n.hasOwnProperty;function i(o){if(!e(o))return r(o);var l=t(o),d=[];for(var u in o)u=="constructor"&&(l||!s.call(o,u))||d.push(u);return d}return Kw=i,Kw}var qw,E$;function J5(){if(E$)return qw;E$=1;var e=VB(),t=Hxe(),r=Dp();function n(s){return r(s)?e(s,!0):t(s)}return qw=n,qw}var Ww,A$;function Gxe(){if(A$)return Ww;A$=1;var e=B0(),t=J5();function r(n,s){return n&&e(s,t(s),n)}return Ww=r,Ww}var ch={exports:{}};ch.exports;var _$;function zxe(){return _$||(_$=1,(function(e,t){var r=to(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function d(u,m){if(m)return u.slice();var p=u.length,h=l?l(p):new u.constructor(p);return u.copy(h),h}e.exports=d})(ch,ch.exports)),ch.exports}var Vw,C$;function Kxe(){if(C$)return Vw;C$=1;function e(t,r){var n=-1,s=t.length;for(r||(r=Array(s));++n<s;)r[n]=t[n];return r}return Vw=e,Vw}var Yw,T$;function qxe(){if(T$)return Yw;T$=1;var e=B0(),t=a5();function r(n,s){return e(n,t(n),s)}return Yw=r,Yw}var Xw,k$;function WH(){if(k$)return Xw;k$=1;var e=n5(),t=G5(),r=a5(),n=qB(),s=Object.getOwnPropertySymbols,i=s?function(o){for(var l=[];o;)e(l,r(o)),o=t(o);return l}:n;return Xw=i,Xw}var Qw,O$;function Wxe(){if(O$)return Qw;O$=1;var e=B0(),t=WH();function r(n,s){return e(n,t(n),s)}return Qw=r,Qw}var Zw,R$;function VH(){if(R$)return Zw;R$=1;var e=KB(),t=WH(),r=J5();function n(s){return e(s,r,t)}return Zw=n,Zw}var Jw,P$;function Vxe(){if(P$)return Jw;P$=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var s=n.length,i=new n.constructor(s);return s&&typeof n[0]=="string"&&t.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return Jw=r,Jw}var eE,D$;function e3(){if(D$)return eE;D$=1;var e=zB();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return eE=t,eE}var tE,M$;function Yxe(){if(M$)return tE;M$=1;var e=e3();function t(r,n){var s=n?e(r.buffer):r.buffer;return new r.constructor(s,r.byteOffset,r.byteLength)}return tE=t,tE}var rE,I$;function Xxe(){if(I$)return rE;I$=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return rE=t,rE}var nE,L$;function Qxe(){if(L$)return nE;L$=1;var e=Op(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(s){return r?Object(r.call(s)):{}}return nE=n,nE}var aE,$$;function Zxe(){if($$)return aE;$$=1;var e=e3();function t(r,n){var s=n?e(r.buffer):r.buffer;return new r.constructor(s,r.byteOffset,r.length)}return aE=t,aE}var sE,F$;function Jxe(){if(F$)return sE;F$=1;var e=e3(),t=Yxe(),r=Xxe(),n=Qxe(),s=Zxe(),i="[object Boolean]",o="[object Date]",l="[object Map]",d="[object Number]",u="[object RegExp]",m="[object Set]",p="[object String]",h="[object Symbol]",b="[object ArrayBuffer]",v="[object DataView]",N="[object Float32Array]",y="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",_="[object Int32Array]",A="[object Uint8Array]",E="[object Uint8ClampedArray]",C="[object Uint16Array]",O="[object Uint32Array]";function D(R,K,H){var $=R.constructor;switch(K){case b:return e(R);case i:case o:return new $(+R);case v:return t(R,H);case N:case y:case S:case w:case _:case A:case E:case C:case O:return s(R,H);case l:return new $;case d:case p:return new $(R);case u:return r(R);case m:return new $;case h:return n(R)}}return sE=D,sE}var iE,B$;function ebe(){if(B$)return iE;B$=1;var e=no(),t=Object.create,r=(function(){function n(){}return function(s){if(!e(s))return{};if(t)return t(s);n.prototype=s;var i=new n;return n.prototype=void 0,i}})();return iE=r,iE}var oE,U$;function tbe(){if(U$)return oE;U$=1;var e=ebe(),t=G5(),r=d5();function n(s){return typeof s.constructor=="function"&&!r(s)?e(t(s)):{}}return oE=n,oE}var lE,H$;function rbe(){if(H$)return lE;H$=1;var e=hv(),t=ro(),r="[object Map]";function n(s){return t(s)&&e(s)==r}return lE=n,lE}var cE,G$;function nbe(){if(G$)return cE;G$=1;var e=rbe(),t=mv(),r=c5(),n=r&&r.isMap,s=n?t(n):e;return cE=s,cE}var dE,z$;function abe(){if(z$)return dE;z$=1;var e=hv(),t=ro(),r="[object Set]";function n(s){return t(s)&&e(s)==r}return dE=n,dE}var uE,K$;function sbe(){if(K$)return uE;K$=1;var e=abe(),t=mv(),r=c5(),n=r&&r.isSet,s=n?t(n):e;return uE=s,uE}var fE,q$;function ibe(){if(q$)return fE;q$=1;var e=t5(),t=Fxe(),r=qH(),n=Bxe(),s=Gxe(),i=zxe(),o=Kxe(),l=qxe(),d=Wxe(),u=XB(),m=VH(),p=hv(),h=Vxe(),b=Jxe(),v=tbe(),N=os(),y=i5(),S=nbe(),w=no(),_=sbe(),A=Mp(),E=J5(),C=1,O=2,D=4,R="[object Arguments]",K="[object Array]",H="[object Boolean]",$="[object Date]",U="[object Error]",P="[object Function]",G="[object GeneratorFunction]",L="[object Map]",M="[object Number]",B="[object Object]",J="[object RegExp]",ee="[object Set]",I="[object String]",Y="[object Symbol]",ae="[object WeakMap]",le="[object ArrayBuffer]",he="[object DataView]",X="[object Float32Array]",ne="[object Float64Array]",ve="[object Int8Array]",pe="[object Int16Array]",Ce="[object Int32Array]",ge="[object Uint8Array]",se="[object Uint8ClampedArray]",Ze="[object Uint16Array]",V="[object Uint32Array]",de={};de[R]=de[K]=de[le]=de[he]=de[H]=de[$]=de[X]=de[ne]=de[ve]=de[pe]=de[Ce]=de[L]=de[M]=de[B]=de[J]=de[ee]=de[I]=de[Y]=de[ge]=de[se]=de[Ze]=de[V]=!0,de[U]=de[P]=de[ae]=!1;function Ae(ce,ye,Ie,Ct,Dt,ze){var $e,or=ye&C,Vt=ye&O,hn=ye&D;if(Ie&&($e=Dt?Ie(ce,Ct,Dt,ze):Ie(ce)),$e!==void 0)return $e;if(!w(ce))return ce;var zr=N(ce);if(zr){if($e=h(ce),!or)return o(ce,$e)}else{var Rt=p(ce),mr=Rt==P||Rt==G;if(y(ce))return i(ce,or);if(Rt==B||Rt==R||mr&&!Dt){if($e=Vt||mr?{}:v(ce),!or)return Vt?d(ce,s($e,ce)):l(ce,n($e,ce))}else{if(!de[Rt])return Dt?ce:{};$e=b(ce,Rt,or)}}ze||(ze=new e);var ar=ze.get(ce);if(ar)return ar;ze.set(ce,$e),_(ce)?ce.forEach(function(jr){$e.add(Ae(jr,ye,Ie,jr,ce,ze))}):S(ce)&&ce.forEach(function(jr,Or){$e.set(Or,Ae(jr,ye,Ie,Or,ce,ze))});var Fr=hn?Vt?m:u:Vt?E:A,Mr=zr?void 0:Fr(ce);return t(Mr||ce,function(jr,Or){Mr&&(Or=jr,jr=ce[Or]),r($e,Or,Ae(jr,ye,Ie,Or,ce,ze))}),$e}return fE=Ae,fE}var pE,W$;function obe(){if(W$)return pE;W$=1;var e=ov(),t=yB();function r(n,s){return s.length<2?n:e(n,t(s,0,-1))}return pE=r,pE}var mE,V$;function lbe(){if(V$)return mE;V$=1;var e=iv(),t=TU(),r=obe(),n=R0(),s=Object.prototype,i=s.hasOwnProperty;function o(l,d){d=e(d,l);var u=-1,m=d.length;if(!m)return!0;for(var p=l==null||typeof l!="object"&&typeof l!="function";++u<m;){var h=d[u];if(typeof h=="string"){if(h==="__proto__"&&!i.call(l,"__proto__"))return!1;if(h==="constructor"&&u+1<m&&typeof d[u+1]=="string"&&d[u+1]==="prototype"){if(p&&u===0)continue;return!1}}}var b=r(l,d);return b==null||delete b[n(t(d))]}return mE=o,mE}var hE,Y$;function cbe(){if(Y$)return hE;Y$=1;var e=zU();function t(r){return e(r)?void 0:r}return hE=t,hE}var gE,X$;function dbe(){if(X$)return gE;X$=1;var e=f5();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return gE=t,gE}var xE,Q$;function ube(){if(Q$)return xE;Q$=1;var e=dbe(),t=i9(),r=l9();function n(s){return r(t(s,void 0,e),s+"")}return xE=n,xE}var bE,Z$;function fbe(){if(Z$)return bE;Z$=1;var e=sv(),t=ibe(),r=lbe(),n=iv(),s=B0(),i=cbe(),o=ube(),l=VH(),d=1,u=2,m=4,p=o(function(h,b){var v={};if(h==null)return v;var N=!1;b=e(b,function(S){return S=n(S,h),N||(N=S.length>1),S}),s(h,l(h),v),N&&(v=t(v,d|u|m,i));for(var y=b.length;y--;)r(v,b[y]);return v});return bE=p,bE}var pbe=fbe();const mbe=$r(pbe);var hbe=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],gbe=["width","height","className","style","children","type"];function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}function xbe(e,t){if(e==null)return{};var r=bbe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ybe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XH(n.key),n)}}function vbe(e,t,r){return t&&J$(e.prototype,t),r&&J$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nbe(e,t,r){return t=vy(t),Sbe(e,YH()?Reflect.construct(t,r||[],vy(e).constructor):t.apply(e,r))}function Sbe(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jbe(e)}function jbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YH=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(e)}function wbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vC(e,t)}function vC(e,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vC(e,t)}function e6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(r),!0).forEach(function(n){Il(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Il(e,t,r){return t=XH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=Ebe(e,"string");return xp(t)=="symbol"?t:t+""}function Ebe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x0="value",yE=function e(t){var r=t.depth,n=t.node,s=t.index,i=t.valueKey,o=n.children,l=r+1,d=o&&o.length?o.map(function(m,p){return e({depth:l,node:m,index:p,valueKey:i})}):null,u;return o&&o.length?u=d.reduce(function(m,p){return m+p[x0]},0):u=td(n[i])||n[i]<=0?0:n[i],an(an({},n),{},Il(Il(Il({children:d},x0,u),"depth",r),"index",s))},Abe=function(t){return{x:t.x,y:t.y,width:t.width,height:t.height}},_be=function(t,r){var n=r<0?0:r;return t.map(function(s){var i=s[x0]*n;return an(an({},s),{},{area:td(i)||i<=0?0:i})})},Cbe=function(t,r,n){var s=r*r,i=t.area*t.area,o=t.reduce(function(u,m){return{min:Math.min(u.min,m.area),max:Math.max(u.max,m.area)}},{min:1/0,max:0}),l=o.min,d=o.max;return i?Math.max(s*d*n/i,i/(s*l*n)):1/0},Tbe=function(t,r,n,s){var i=r?Math.round(t.area/r):0;(s||i>n.height)&&(i=n.height);for(var o=n.x,l,d=0,u=t.length;d<u;d++)l=t[d],l.x=o,l.y=n.y,l.height=i,l.width=Math.min(i?Math.round(l.area/i):0,n.x+n.width-o),o+=l.width;return l.width+=n.x+n.width-o,an(an({},n),{},{y:n.y+i,height:n.height-i})},kbe=function(t,r,n,s){var i=r?Math.round(t.area/r):0;(s||i>n.width)&&(i=n.width);for(var o=n.y,l,d=0,u=t.length;d<u;d++)l=t[d],l.x=n.x,l.y=o,l.width=i,l.height=Math.min(i?Math.round(l.area/i):0,n.y+n.height-o),o+=l.height;return l&&(l.height+=n.y+n.height-o),an(an({},n),{},{x:n.x+i,width:n.width-i})},t6=function(t,r,n,s){return r===n.width?Tbe(t,r,n,s):kbe(t,r,n,s)},vE=function e(t,r){var n=t.children;if(n&&n.length){var s=Abe(t),i=[],o=1/0,l,d,u=Math.min(s.width,s.height),m=_be(n,s.width*s.height/t[x0]),p=m.slice();for(i.area=0;p.length>0;)i.push(l=p[0]),i.area+=l.area,d=Cbe(i,u,r),d<=o?(p.shift(),o=d):(i.area-=i.pop().area,s=t6(i,u,s,!1),u=Math.min(s.width,s.height),i.length=i.area=0,o=1/0);return i.length&&(s=t6(i,u,s,!0),i.length=i.area=0),an(an({},t),{},{children:m.map(function(h){return e(h,r)})})}return t},Obe={isTooltipActive:!1,isAnimationFinished:!1,activeNode:null,formatRoot:null,currentRoot:null,nestIndex:[]},Ny=(function(e){function t(){var r;ybe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Nbe(this,t,[].concat(s)),Il(r,"state",an({},Obe)),Il(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pt(o)&&o()}),Il(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pt(o)&&o()}),r}return wbe(t,e),vbe(t,[{key:"handleMouseEnter",value:function(n,s){s.persist();var i=this.props,o=i.onMouseEnter,l=i.children,d=Ba(l,qr);d?this.setState({isTooltipActive:!0,activeNode:n},function(){o&&o(n,s)}):o&&o(n,s)}},{key:"handleMouseLeave",value:function(n,s){s.persist();var i=this.props,o=i.onMouseLeave,l=i.children,d=Ba(l,qr);d?this.setState({isTooltipActive:!1,activeNode:null},function(){o&&o(n,s)}):o&&o(n,s)}},{key:"handleClick",value:function(n){var s=this.props,i=s.onClick,o=s.type;if(o==="nest"&&n.children){var l=this.props,d=l.width,u=l.height,m=l.dataKey,p=l.aspectRatio,h=yE({depth:0,node:an(an({},n),{},{x:0,y:0,width:d,height:u}),index:0,valueKey:m}),b=vE(h,p),v=this.state.nestIndex;v.push(n),this.setState({formatRoot:b,currentRoot:h,nestIndex:v})}i&&i(n)}},{key:"handleNestIndex",value:function(n,s){var i=this.state.nestIndex,o=this.props,l=o.width,d=o.height,u=o.dataKey,m=o.aspectRatio,p=yE({depth:0,node:an(an({},n),{},{x:0,y:0,width:l,height:d}),index:0,valueKey:u}),h=vE(p,m);i=i.slice(0,s+1),this.setState({formatRoot:h,currentRoot:n,nestIndex:i})}},{key:"renderItem",value:function(n,s,i){var o=this,l=this.props,d=l.isAnimationActive,u=l.animationBegin,m=l.animationDuration,p=l.animationEasing,h=l.isUpdateAnimationActive,b=l.type,v=l.animationId,N=l.colorPanel,y=this.state.isAnimationFinished,S=s.width,w=s.height,_=s.x,A=s.y,E=s.depth,C=parseInt("".concat((Math.random()*2-1)*S),10),O={};return(i||b==="nest")&&(O={onMouseEnter:this.handleMouseEnter.bind(this,s),onMouseLeave:this.handleMouseLeave.bind(this,s),onClick:this.handleClick.bind(this,s)}),d?q.createElement(As,{begin:u,duration:m,isActive:d,easing:p,key:"treemap-".concat(v),from:{x:_,y:A,width:S,height:w},to:{x:_,y:A,width:S,height:w},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(D){var R=D.x,K=D.y,H=D.width,$=D.height;return q.createElement(As,{from:"translate(".concat(C,"px, ").concat(C,"px)"),to:"translate(0, 0)",attributeName:"transform",begin:u,easing:p,isActive:d,duration:m},q.createElement(sr,O,(function(){return E>2&&!y?null:o.constructor.renderContentItem(n,an(an({},s),{},{isAnimationActive:d,isUpdateAnimationActive:!h,width:H,height:$,x:R,y:K}),b,N)})()))}):q.createElement(sr,O,this.constructor.renderContentItem(n,an(an({},s),{},{isAnimationActive:!1,isUpdateAnimationActive:!1,width:S,height:w,x:_,y:A}),b,N))}},{key:"renderNode",value:function(n,s){var i=this,o=this.props,l=o.content,d=o.type,u=an(an(an({},wt(this.props,!1)),s),{},{root:n}),m=!s.children||!s.children.length,p=this.state.currentRoot,h=(p.children||[]).filter(function(b){return b.depth===s.depth&&b.name===s.name});return!h.length&&n.depth&&d==="nest"?null:q.createElement(sr,{key:"recharts-treemap-node-".concat(u.x,"-").concat(u.y,"-").concat(u.name),className:"recharts-treemap-depth-".concat(s.depth)},this.renderItem(l,u,m),s.children&&s.children.length?s.children.map(function(b){return i.renderNode(s,b)}):null)}},{key:"renderAllNodes",value:function(){var n=this.state.formatRoot;return n?this.renderNode(n,n):null}},{key:"renderTooltip",value:function(){var n=this.props,s=n.children,i=n.nameKey,o=Ba(s,qr);if(!o)return null;var l=this.props,d=l.width,u=l.height,m=this.state,p=m.isTooltipActive,h=m.activeNode,b={x:0,y:0,width:d,height:u},v=h?{x:h.x+h.width/2,y:h.y+h.height/2}:null,N=p&&h?[{payload:h,name:Qr(h,i,""),value:Qr(h,x0)}]:[];return q.cloneElement(o,{viewBox:b,active:p,coordinate:v,label:"",payload:N})}},{key:"renderNestIndex",value:function(){var n=this,s=this.props,i=s.nameKey,o=s.nestIndexContent,l=this.state.nestIndex;return q.createElement("div",{className:"recharts-treemap-nest-index-wrapper",style:{marginTop:"8px",textAlign:"center"}},l.map(function(d,u){var m=Es(d,i,"root"),p=null;return q.isValidElement(o)&&(p=q.cloneElement(o,d,u)),Pt(o)?p=o(d,u):p=m,q.createElement("div",{onClick:n.handleNestIndex.bind(n,d,u),key:"nest-index-".concat(Vl()),className:"recharts-treemap-nest-index-box",style:{cursor:"pointer",display:"inline-block",padding:"0 7px",background:"#000",color:"#fff",marginRight:"3px"}},p)}))}},{key:"render",value:function(){if(!ZA(this))return null;var n=this.props,s=n.width,i=n.height,o=n.className,l=n.style,d=n.children,u=n.type,m=xbe(n,gbe),p=wt(m,!1);return q.createElement("div",{className:rr("recharts-wrapper",o),style:an(an({},l),{},{position:"relative",cursor:"default",width:s,height:i}),role:"region"},q.createElement(gb,yy({},p,{width:s,height:u==="nest"?i-30:i}),this.renderAllNodes(),Rte(d)),this.renderTooltip(),u==="nest"&&this.renderNestIndex())}}],[{key:"getDerivedStateFromProps",value:function(n,s){if(n.data!==s.prevData||n.type!==s.prevType||n.width!==s.prevWidth||n.height!==s.prevHeight||n.dataKey!==s.prevDataKey||n.aspectRatio!==s.prevAspectRatio){var i=yE({depth:0,node:{children:n.data,x:0,y:0,width:n.width,height:n.height},index:0,valueKey:n.dataKey}),o=vE(i,n.aspectRatio);return an(an({},s),{},{formatRoot:o,currentRoot:i,nestIndex:[i],prevAspectRatio:n.aspectRatio,prevData:n.data,prevWidth:n.width,prevHeight:n.height,prevDataKey:n.dataKey,prevType:n.type})}return null}},{key:"renderContentItem",value:function(n,s,i,o){if(q.isValidElement(n))return q.cloneElement(n,s);if(Pt(n))return n(s);var l=s.x,d=s.y,u=s.width,m=s.height,p=s.index,h=null;u>10&&m>10&&s.children&&i==="nest"&&(h=q.createElement(FU,{points:[{x:l+2,y:d+m/2},{x:l+6,y:d+m/2+3},{x:l+2,y:d+m/2+6}]}));var b=null,v=wf(s.name);u>20&&m>20&&v.width<u&&v.height<m&&(b=q.createElement("text",{x:l+8,y:d+m/2+7,fontSize:14},s.name));var N=o||hbe;return q.createElement("g",null,q.createElement(Cv,yy({fill:s.depth<2?N[p%N.length]:"rgba(255,255,255,0)",stroke:"#fff"},mbe(s,"children"),{role:"img"})),h,b)}}])})(g.PureComponent);Il(Ny,"displayName","Treemap");Il(Ny,"defaultProps",{aspectRatio:.5*(1+Math.sqrt(5)),dataKey:"value",type:"flat",isAnimationActive:!Qi.isSsr,isUpdateAnimationActive:!Qi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"linear"});var Rbe=F0({chartName:"ScatterChart",GraphicalChild:Gp,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:$n},{axisType:"yAxis",AxisComp:_n},{axisType:"zAxis",AxisComp:Hp}],formatAxisMap:Iv}),t3=F0({chartName:"ComposedChart",GraphicalChild:[aa,el,Aa,Gp],axisComponents:[{axisType:"xAxis",AxisComp:$n},{axisType:"yAxis",AxisComp:_n},{axisType:"zAxis",AxisComp:Hp}],formatAxisMap:Iv}),Pbe={value:()=>{}};function r3(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Kx(r)}function Kx(e){this._=e}function Dbe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");if(s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Kx.prototype=r3.prototype={constructor:Kx,on:function(e,t){var r=this._,n=Dbe(e+"",r),s,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((s=(e=n[i]).type)&&(s=Mbe(r[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=n[i]).type)r[s]=r6(r[s],e.name,t);else if(t==null)for(s in r)r[s]=r6(r[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Kx(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var r=new Array(s),n=0,s,i;n<s;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,s=i.length;n<s;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,i=n.length;s<i;++s)n[s].value.apply(t,r)}};function Mbe(e,t){for(var r=0,n=e.length,s;r<n;++r)if((s=e[r]).name===t)return s.value}function r6(e,t,r){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=Pbe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var NC="http://www.w3.org/1999/xhtml";const n6={svg:"http://www.w3.org/2000/svg",xhtml:NC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hv(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),n6.hasOwnProperty(t)?{space:n6[t],local:e}:e}function Ibe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===NC&&t.documentElement.namespaceURI===NC?t.createElement(e):t.createElementNS(r,e)}}function Lbe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function QH(e){var t=Hv(e);return(t.local?Lbe:Ibe)(t)}function $be(){}function n3(e){return e==null?$be:function(){return this.querySelector(e)}}function Fbe(e){typeof e!="function"&&(e=n3(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=n[s]=new Array(o),d,u,m=0;m<o;++m)(d=i[m])&&(u=e.call(d,d.__data__,m,i))&&("__data__"in d&&(u.__data__=d.__data__),l[m]=u);return new Gs(n,this._parents)}function Bbe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ube(){return[]}function ZH(e){return e==null?Ube:function(){return this.querySelectorAll(e)}}function Hbe(e){return function(){return Bbe(e.apply(this,arguments))}}function Gbe(e){typeof e=="function"?e=Hbe(e):e=ZH(e);for(var t=this._groups,r=t.length,n=[],s=[],i=0;i<r;++i)for(var o=t[i],l=o.length,d,u=0;u<l;++u)(d=o[u])&&(n.push(e.call(d,d.__data__,u,o)),s.push(d));return new Gs(n,s)}function JH(e){return function(){return this.matches(e)}}function eG(e){return function(t){return t.matches(e)}}var zbe=Array.prototype.find;function Kbe(e){return function(){return zbe.call(this.children,e)}}function qbe(){return this.firstElementChild}function Wbe(e){return this.select(e==null?qbe:Kbe(typeof e=="function"?e:eG(e)))}var Vbe=Array.prototype.filter;function Ybe(){return Array.from(this.children)}function Xbe(e){return function(){return Vbe.call(this.children,e)}}function Qbe(e){return this.selectAll(e==null?Ybe:Xbe(typeof e=="function"?e:eG(e)))}function Zbe(e){typeof e!="function"&&(e=JH(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=n[s]=[],d,u=0;u<o;++u)(d=i[u])&&e.call(d,d.__data__,u,i)&&l.push(d);return new Gs(n,this._parents)}function tG(e){return new Array(e.length)}function Jbe(){return new Gs(this._enter||this._groups.map(tG),this._parents)}function Sy(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Sy.prototype={constructor:Sy,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function eye(e){return function(){return e}}function tye(e,t,r,n,s,i){for(var o=0,l,d=t.length,u=i.length;o<u;++o)(l=t[o])?(l.__data__=i[o],n[o]=l):r[o]=new Sy(e,i[o]);for(;o<d;++o)(l=t[o])&&(s[o]=l)}function rye(e,t,r,n,s,i,o){var l,d,u=new Map,m=t.length,p=i.length,h=new Array(m),b;for(l=0;l<m;++l)(d=t[l])&&(h[l]=b=o.call(d,d.__data__,l,t)+"",u.has(b)?s[l]=d:u.set(b,d));for(l=0;l<p;++l)b=o.call(e,i[l],l,i)+"",(d=u.get(b))?(n[l]=d,d.__data__=i[l],u.delete(b)):r[l]=new Sy(e,i[l]);for(l=0;l<m;++l)(d=t[l])&&u.get(h[l])===d&&(s[l]=d)}function nye(e){return e.__data__}function aye(e,t){if(!arguments.length)return Array.from(this,nye);var r=t?rye:tye,n=this._parents,s=this._groups;typeof e!="function"&&(e=eye(e));for(var i=s.length,o=new Array(i),l=new Array(i),d=new Array(i),u=0;u<i;++u){var m=n[u],p=s[u],h=p.length,b=sye(e.call(m,m&&m.__data__,u,n)),v=b.length,N=l[u]=new Array(v),y=o[u]=new Array(v),S=d[u]=new Array(h);r(m,p,N,y,S,b,t);for(var w=0,_=0,A,E;w<v;++w)if(A=N[w]){for(w>=_&&(_=w+1);!(E=y[_])&&++_<v;);A._next=E||null}}return o=new Gs(o,n),o._enter=l,o._exit=d,o}function sye(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iye(){return new Gs(this._exit||this._groups.map(tG),this._parents)}function oye(e,t,r){var n=this.enter(),s=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),r==null?i.remove():r(i),n&&s?n.merge(s).order():s}function lye(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,s=r.length,i=n.length,o=Math.min(s,i),l=new Array(s),d=0;d<o;++d)for(var u=r[d],m=n[d],p=u.length,h=l[d]=new Array(p),b,v=0;v<p;++v)(b=u[v]||m[v])&&(h[v]=b);for(;d<s;++d)l[d]=r[d];return new Gs(l,this._parents)}function cye(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],s=n.length-1,i=n[s],o;--s>=0;)(o=n[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function dye(e){e||(e=uye);function t(p,h){return p&&h?e(p.__data__,h.__data__):!p-!h}for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i){for(var o=r[i],l=o.length,d=s[i]=new Array(l),u,m=0;m<l;++m)(u=o[m])&&(d[m]=u);d.sort(t)}return new Gs(s,this._parents).order()}function uye(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function fye(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function pye(){return Array.from(this)}function mye(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length;s<i;++s){var o=n[s];if(o)return o}return null}function hye(){let e=0;for(const t of this)++e;return e}function gye(){return!this.node()}function xye(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var s=t[r],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function bye(e){return function(){this.removeAttribute(e)}}function yye(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vye(e,t){return function(){this.setAttribute(e,t)}}function Nye(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Sye(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function jye(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function wye(e,t){var r=Hv(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?yye:bye:typeof t=="function"?r.local?jye:Sye:r.local?Nye:vye)(r,t))}function rG(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Eye(e){return function(){this.style.removeProperty(e)}}function Aye(e,t,r){return function(){this.style.setProperty(e,t,r)}}function _ye(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Cye(e,t,r){return arguments.length>1?this.each((t==null?Eye:typeof t=="function"?_ye:Aye)(e,t,r??"")):bp(this.node(),e)}function bp(e,t){return e.style.getPropertyValue(t)||rG(e).getComputedStyle(e,null).getPropertyValue(t)}function Tye(e){return function(){delete this[e]}}function kye(e,t){return function(){this[e]=t}}function Oye(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Rye(e,t){return arguments.length>1?this.each((t==null?Tye:typeof t=="function"?Oye:kye)(e,t)):this.node()[e]}function nG(e){return e.trim().split(/^|\s+/)}function a3(e){return e.classList||new aG(e)}function aG(e){this._node=e,this._names=nG(e.getAttribute("class")||"")}aG.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function sG(e,t){for(var r=a3(e),n=-1,s=t.length;++n<s;)r.add(t[n])}function iG(e,t){for(var r=a3(e),n=-1,s=t.length;++n<s;)r.remove(t[n])}function Pye(e){return function(){sG(this,e)}}function Dye(e){return function(){iG(this,e)}}function Mye(e,t){return function(){(t.apply(this,arguments)?sG:iG)(this,e)}}function Iye(e,t){var r=nG(e+"");if(arguments.length<2){for(var n=a3(this.node()),s=-1,i=r.length;++s<i;)if(!n.contains(r[s]))return!1;return!0}return this.each((typeof t=="function"?Mye:t?Pye:Dye)(r,t))}function Lye(){this.textContent=""}function $ye(e){return function(){this.textContent=e}}function Fye(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Bye(e){return arguments.length?this.each(e==null?Lye:(typeof e=="function"?Fye:$ye)(e)):this.node().textContent}function Uye(){this.innerHTML=""}function Hye(e){return function(){this.innerHTML=e}}function Gye(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function zye(e){return arguments.length?this.each(e==null?Uye:(typeof e=="function"?Gye:Hye)(e)):this.node().innerHTML}function Kye(){this.nextSibling&&this.parentNode.appendChild(this)}function qye(){return this.each(Kye)}function Wye(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vye(){return this.each(Wye)}function Yye(e){var t=typeof e=="function"?e:QH(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Xye(){return null}function Qye(e,t){var r=typeof e=="function"?e:QH(e),n=t==null?Xye:typeof t=="function"?t:n3(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Zye(){var e=this.parentNode;e&&e.removeChild(this)}function Jye(){return this.each(Zye)}function eve(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tve(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rve(e){return this.select(e?tve:eve)}function nve(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ave(e){return function(t){e.call(this,t,this.__data__)}}function sve(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function ive(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,s=t.length,i;r<s;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function ove(e,t,r){return function(){var n=this.__on,s,i=ave(t);if(n){for(var o=0,l=n.length;o<l;++o)if((s=n[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=t;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(s):this.__on=[s]}}function lve(e,t,r){var n=sve(e+""),s,i=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,u=l.length,m;d<u;++d)for(s=0,m=l[d];s<i;++s)if((o=n[s]).type===m.type&&o.name===m.name)return m.value}return}for(l=t?ove:ive,s=0;s<i;++s)this.each(l(n[s],t,r));return this}function oG(e,t,r){var n=rG(e),s=n.CustomEvent;typeof s=="function"?s=new s(t,r):(s=n.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function cve(e,t){return function(){return oG(this,e,t)}}function dve(e,t){return function(){return oG(this,e,t.apply(this,arguments))}}function uve(e,t){return this.each((typeof t=="function"?dve:cve)(e,t))}function*fve(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length,o;s<i;++s)(o=n[s])&&(yield o)}var lG=[null];function Gs(e,t){this._groups=e,this._parents=t}function U0(){return new Gs([[document.documentElement]],lG)}function pve(){return this}Gs.prototype=U0.prototype={constructor:Gs,select:Fbe,selectAll:Gbe,selectChild:Wbe,selectChildren:Qbe,filter:Zbe,data:aye,enter:Jbe,exit:iye,join:oye,merge:lye,selection:pve,order:cye,sort:dye,call:fye,nodes:pye,node:mye,size:hye,empty:gye,each:xye,attr:wye,style:Cye,property:Rye,classed:Iye,text:Bye,html:zye,raise:qye,lower:Vye,append:Yye,insert:Qye,remove:Jye,clone:rve,datum:nve,on:lve,dispatch:uve,[Symbol.iterator]:fve};function Cl(e){return typeof e=="string"?new Gs([[document.querySelector(e)]],[document.documentElement]):new Gs([[e]],lG)}function mve(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Tc(e,t){if(e=mve(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const SC={capture:!0,passive:!1};function jC(e){e.preventDefault(),e.stopImmediatePropagation()}function hve(e){var t=e.document.documentElement,r=Cl(e).on("dragstart.drag",jC,SC);"onselectstart"in t?r.on("selectstart.drag",jC,SC):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function gve(e,t){var r=e.document.documentElement,n=Cl(e).on("dragstart.drag",null);t&&(n.on("click.drag",jC,SC),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var yp=0,dh=0,Gm=0,cG=1e3,jy,uh,wy=0,iu=0,Gv=0,b0=typeof performance=="object"&&performance.now?performance:Date,dG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function s3(){return iu||(dG(xve),iu=b0.now()+Gv)}function xve(){iu=0}function Ey(){this._call=this._time=this._next=null}Ey.prototype=uG.prototype={constructor:Ey,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?s3():+r)+(t==null?0:+t),!this._next&&uh!==this&&(uh?uh._next=this:jy=this,uh=this),this._call=e,this._time=r,wC()},stop:function(){this._call&&(this._call=null,this._time=1/0,wC())}};function uG(e,t,r){var n=new Ey;return n.restart(e,t,r),n}function bve(){s3(),++yp;for(var e=jy,t;e;)(t=iu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yp}function a6(){iu=(wy=b0.now())+Gv,yp=dh=0;try{bve()}finally{yp=0,vve(),iu=0}}function yve(){var e=b0.now(),t=e-wy;t>cG&&(Gv-=t,wy=e)}function vve(){for(var e,t=jy,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:jy=r);uh=e,wC(n)}function wC(e){if(!yp){dh&&(dh=clearTimeout(dh));var t=e-iu;t>24?(e<1/0&&(dh=setTimeout(a6,e-b0.now()-Gv)),Gm&&(Gm=clearInterval(Gm))):(Gm||(wy=b0.now(),Gm=setInterval(yve,cG)),yp=1,dG(a6))}}function s6(e,t,r){var n=new Ey;return t=t==null?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,r),n}var Nve=r3("start","end","cancel","interrupt"),Sve=[],fG=0,i6=1,EC=2,qx=3,o6=4,AC=5,Wx=6;function zv(e,t,r,n,s,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;jve(e,r,{name:t,index:n,group:s,on:Nve,tween:Sve,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:fG})}function i3(e,t){var r=so(e,t);if(r.state>fG)throw new Error("too late; already scheduled");return r}function tl(e,t){var r=so(e,t);if(r.state>qx)throw new Error("too late; already running");return r}function so(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function jve(e,t,r){var n=e.__transition,s;n[t]=r,r.timer=uG(i,0,r.time);function i(u){r.state=i6,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var m,p,h,b;if(r.state!==i6)return d();for(m in n)if(b=n[m],b.name===r.name){if(b.state===qx)return s6(o);b.state===o6?(b.state=Wx,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete n[m]):+m<t&&(b.state=Wx,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete n[m])}if(s6(function(){r.state===qx&&(r.state=o6,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=EC,r.on.call("start",e,e.__data__,r.index,r.group),r.state===EC){for(r.state=qx,s=new Array(h=r.tween.length),m=0,p=-1;m<h;++m)(b=r.tween[m].value.call(e,e.__data__,r.index,r.group))&&(s[++p]=b);s.length=p+1}}function l(u){for(var m=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(d),r.state=AC,1),p=-1,h=s.length;++p<h;)s[p].call(e,m);r.state===AC&&(r.on.call("end",e,e.__data__,r.index,r.group),d())}function d(){r.state=Wx,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Vx(e,t){var r=e.__transition,n,s,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}s=n.state>EC&&n.state<AC,n.state=Wx,n.timer.stop(),n.on.call(s?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}function wve(e){return this.each(function(){Vx(this,e)})}function Eve(e,t){var r,n;return function(){var s=tl(this,e),i=s.tween;if(i!==r){n=r=i;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}s.tween=n}}function Ave(e,t,r){var n,s;if(typeof r!="function")throw new Error;return function(){var i=tl(this,e),o=i.tween;if(o!==n){s=(n=o).slice();for(var l={name:t,value:r},d=0,u=s.length;d<u;++d)if(s[d].name===t){s[d]=l;break}d===u&&s.push(l)}i.tween=s}}function _ve(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=so(this.node(),r).tween,s=0,i=n.length,o;s<i;++s)if((o=n[s]).name===e)return o.value;return null}return this.each((t==null?Eve:Ave)(r,e,t))}function o3(e,t,r){var n=e._id;return e.each(function(){var s=tl(this,n);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return so(s,n).value[t]}}function pG(e,t){var r;return(typeof t=="number"?zi:t instanceof ru?Ob:(r=ru(t))?(t=r,Ob):A9)(e,t)}function Cve(e){return function(){this.removeAttribute(e)}}function Tve(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kve(e,t,r){var n,s=r+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===n?i:i=t(n=o,r)}}function Ove(e,t,r){var n,s=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===n?i:i=t(n=o,r)}}function Rve(e,t,r){var n,s,i;return function(){var o,l=r(this),d;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),d=l+"",o===d?null:o===n&&d===s?i:(s=d,i=t(n=o,l)))}}function Pve(e,t,r){var n,s,i;return function(){var o,l=r(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),d=l+"",o===d?null:o===n&&d===s?i:(s=d,i=t(n=o,l)))}}function Dve(e,t){var r=Hv(e),n=r==="transform"?wie:pG;return this.attrTween(e,typeof t=="function"?(r.local?Pve:Rve)(r,n,o3(this,"attr."+e,t)):t==null?(r.local?Tve:Cve)(r):(r.local?Ove:kve)(r,n,t))}function Mve(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Ive(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Lve(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Ive(e,i)),r}return s._value=t,s}function $ve(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Mve(e,i)),r}return s._value=t,s}function Fve(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Hv(e);return this.tween(r,(n.local?Lve:$ve)(n,t))}function Bve(e,t){return function(){i3(this,e).delay=+t.apply(this,arguments)}}function Uve(e,t){return t=+t,function(){i3(this,e).delay=t}}function Hve(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Bve:Uve)(t,e)):so(this.node(),t).delay}function Gve(e,t){return function(){tl(this,e).duration=+t.apply(this,arguments)}}function zve(e,t){return t=+t,function(){tl(this,e).duration=t}}function Kve(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Gve:zve)(t,e)):so(this.node(),t).duration}function qve(e,t){if(typeof t!="function")throw new Error;return function(){tl(this,e).ease=t}}function Wve(e){var t=this._id;return arguments.length?this.each(qve(t,e)):so(this.node(),t).ease}function Vve(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;tl(this,e).ease=r}}function Yve(e){if(typeof e!="function")throw new Error;return this.each(Vve(this._id,e))}function Xve(e){typeof e!="function"&&(e=JH(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=n[s]=[],d,u=0;u<o;++u)(d=i[u])&&e.call(d,d.__data__,u,i)&&l.push(d);return new Gl(n,this._parents,this._name,this._id)}function Qve(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,s=r.length,i=Math.min(n,s),o=new Array(n),l=0;l<i;++l)for(var d=t[l],u=r[l],m=d.length,p=o[l]=new Array(m),h,b=0;b<m;++b)(h=d[b]||u[b])&&(p[b]=h);for(;l<n;++l)o[l]=t[l];return new Gl(o,this._parents,this._name,this._id)}function Zve(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Jve(e,t,r){var n,s,i=Zve(t)?i3:tl;return function(){var o=i(this,e),l=o.on;l!==n&&(s=(n=l).copy()).on(t,r),o.on=s}}function e1e(e,t){var r=this._id;return arguments.length<2?so(this.node(),r).on.on(e):this.each(Jve(r,e,t))}function t1e(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function r1e(){return this.on("end.remove",t1e(this._id))}function n1e(e){var t=this._name,r=this._id;typeof e!="function"&&(e=n3(e));for(var n=this._groups,s=n.length,i=new Array(s),o=0;o<s;++o)for(var l=n[o],d=l.length,u=i[o]=new Array(d),m,p,h=0;h<d;++h)(m=l[h])&&(p=e.call(m,m.__data__,h,l))&&("__data__"in m&&(p.__data__=m.__data__),u[h]=p,zv(u[h],t,r,h,u,so(m,r)));return new Gl(i,this._parents,t,r)}function a1e(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ZH(e));for(var n=this._groups,s=n.length,i=[],o=[],l=0;l<s;++l)for(var d=n[l],u=d.length,m,p=0;p<u;++p)if(m=d[p]){for(var h=e.call(m,m.__data__,p,d),b,v=so(m,r),N=0,y=h.length;N<y;++N)(b=h[N])&&zv(b,t,r,N,h,v);i.push(h),o.push(m)}return new Gl(i,o,t,r)}var s1e=U0.prototype.constructor;function i1e(){return new s1e(this._groups,this._parents)}function o1e(e,t){var r,n,s;return function(){var i=bp(this,e),o=(this.style.removeProperty(e),bp(this,e));return i===o?null:i===r&&o===n?s:s=t(r=i,n=o)}}function mG(e){return function(){this.style.removeProperty(e)}}function l1e(e,t,r){var n,s=r+"",i;return function(){var o=bp(this,e);return o===s?null:o===n?i:i=t(n=o,r)}}function c1e(e,t,r){var n,s,i;return function(){var o=bp(this,e),l=r(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),bp(this,e))),o===d?null:o===n&&d===s?i:(s=d,i=t(n=o,l))}}function d1e(e,t){var r,n,s,i="style."+t,o="end."+i,l;return function(){var d=tl(this,e),u=d.on,m=d.value[i]==null?l||(l=mG(t)):void 0;(u!==r||s!==m)&&(n=(r=u).copy()).on(o,s=m),d.on=n}}function u1e(e,t,r){var n=(e+="")=="transform"?jie:pG;return t==null?this.styleTween(e,o1e(e,n)).on("end.style."+e,mG(e)):typeof t=="function"?this.styleTween(e,c1e(e,n,o3(this,"style."+e,t))).each(d1e(this._id,e)):this.styleTween(e,l1e(e,n,t),r).on("end.style."+e,null)}function f1e(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function p1e(e,t,r){var n,s;function i(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&f1e(e,o,r)),n}return i._value=t,i}function m1e(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,p1e(e,t,r??""))}function h1e(e){return function(){this.textContent=e}}function g1e(e){return function(){var t=e(this);this.textContent=t??""}}function x1e(e){return this.tween("text",typeof e=="function"?g1e(o3(this,"text",e)):h1e(e==null?"":e+""))}function b1e(e){return function(t){this.textContent=e.call(this,t)}}function y1e(e){var t,r;function n(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&b1e(s)),t}return n._value=e,n}function v1e(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,y1e(e))}function N1e(){for(var e=this._name,t=this._id,r=hG(),n=this._groups,s=n.length,i=0;i<s;++i)for(var o=n[i],l=o.length,d,u=0;u<l;++u)if(d=o[u]){var m=so(d,t);zv(d,e,r,u,o,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Gl(n,this._parents,e,r)}function S1e(){var e,t,r=this,n=r._id,s=r.size();return new Promise(function(i,o){var l={value:o},d={value:function(){--s===0&&i()}};r.each(function(){var u=tl(this,n),m=u.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),u.on=t}),s===0&&i()})}var j1e=0;function Gl(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function hG(){return++j1e}var bl=U0.prototype;Gl.prototype={constructor:Gl,select:n1e,selectAll:a1e,selectChild:bl.selectChild,selectChildren:bl.selectChildren,filter:Xve,merge:Qve,selection:i1e,transition:N1e,call:bl.call,nodes:bl.nodes,node:bl.node,size:bl.size,empty:bl.empty,each:bl.each,on:e1e,attr:Dve,attrTween:Fve,style:u1e,styleTween:m1e,text:x1e,textTween:v1e,remove:r1e,tween:_ve,delay:Hve,duration:Kve,ease:Wve,easeVarying:Yve,end:S1e,[Symbol.iterator]:bl[Symbol.iterator]};function w1e(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var E1e={time:null,delay:0,duration:250,ease:w1e};function A1e(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function _1e(e){var t,r;e instanceof Gl?(t=e._id,e=e._name):(t=hG(),(r=E1e).time=s3(),e=e==null?null:e+"");for(var n=this._groups,s=n.length,i=0;i<s;++i)for(var o=n[i],l=o.length,d,u=0;u<l;++u)(d=o[u])&&zv(d,e,t,u,o,r||A1e(d,t));return new Gl(n,this._parents,e,t)}U0.prototype.interrupt=wve;U0.prototype.transition=_1e;var _f=1e-6,l3=Math.PI,C1e=l3*2,T1e=180/l3,k1e=l3/180,Cf=Math.abs,O1e=Math.cos,R1e=Math.sin,c3=Math.sqrt;function ji(){}function Ay(e,t){e&&c6.hasOwnProperty(e.type)&&c6[e.type](e,t)}var l6={Feature:function(e,t){Ay(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,s=r.length;++n<s;)Ay(r[n].geometry,t)}},c6={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){_C(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)_C(r[n],t,0)},Polygon:function(e,t){d6(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,s=r.length;++n<s;)d6(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,s=r.length;++n<s;)Ay(r[n],t)}};function _C(e,t,r){var n=-1,s=e.length-r,i;for(t.lineStart();++n<s;)i=e[n],t.point(i[0],i[1],i[2]);t.lineEnd()}function d6(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)_C(e[r],t,1);t.polygonEnd()}function af(e,t){e&&l6.hasOwnProperty(e.type)?l6[e.type](e,t):Ay(e,t)}function P1e(){var e=[],t;return{point:function(r,n,s){t.push([r,n,s])},lineStart:function(){e.push(t=[])},lineEnd:ji,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function D1e(e,t){return Cf(e[0]-t[0])<_f&&Cf(e[1]-t[1])<_f}function mx(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function M1e(e,t,r,n,s){var i=[],o=[],l,d;if(e.forEach(function(v){if(!((N=v.length-1)<=0)){var N,y=v[0],S=v[N],w;if(D1e(y,S)){if(!y[2]&&!S[2]){for(s.lineStart(),l=0;l<N;++l)s.point((y=v[l])[0],y[1]);s.lineEnd();return}S[0]+=2*_f}i.push(w=new mx(y,v,null,!0)),o.push(w.o=new mx(y,null,w,!1)),i.push(w=new mx(S,v,null,!1)),o.push(w.o=new mx(S,null,w,!0))}}),!!i.length){for(o.sort(t),u6(i),u6(o),l=0,d=o.length;l<d;++l)o[l].e=r=!r;for(var u=i[0],m,p;;){for(var h=u,b=!0;h.v;)if((h=h.n)===u)return;m=h.z,s.lineStart();do{if(h.v=h.o.v=!0,h.e){if(b)for(l=0,d=m.length;l<d;++l)s.point((p=m[l])[0],p[1]);else n(h.x,h.n.x,1,s);h=h.n}else{if(b)for(m=h.p.z,l=m.length-1;l>=0;--l)s.point((p=m[l])[0],p[1]);else n(h.x,h.p.x,-1,s);h=h.p}h=h.o,m=h.z,b=!b}while(!h.v);s.lineEnd()}}}function u6(e){if(t=e.length){for(var t,r=0,n=e[0],s;++r<t;)n.n=s=e[r],s.p=n,n=s;n.n=s=e[0],s.p=n}}function I1e(e,t,r,n,s,i){var o=e[0],l=e[1],d=t[0],u=t[1],m=0,p=1,h=d-o,b=u-l,v;if(v=r-o,!(!h&&v>0)){if(v/=h,h<0){if(v<m)return;v<p&&(p=v)}else if(h>0){if(v>p)return;v>m&&(m=v)}if(v=s-o,!(!h&&v<0)){if(v/=h,h<0){if(v>p)return;v>m&&(m=v)}else if(h>0){if(v<m)return;v<p&&(p=v)}if(v=n-l,!(!b&&v>0)){if(v/=b,b<0){if(v<m)return;v<p&&(p=v)}else if(b>0){if(v>p)return;v>m&&(m=v)}if(v=i-l,!(!b&&v<0)){if(v/=b,b<0){if(v>p)return;v>m&&(m=v)}else if(b>0){if(v<m)return;v<p&&(p=v)}return m>0&&(e[0]=o+m*h,e[1]=l+m*b),p<1&&(t[0]=o+p*h,t[1]=l+p*b),!0}}}}}var fh=1e9,hx=-fh;function L1e(e,t,r,n){function s(u,m){return e<=u&&u<=r&&t<=m&&m<=n}function i(u,m,p,h){var b=0,v=0;if(u==null||(b=o(u,p))!==(v=o(m,p))||d(u,m)<0^p>0)do h.point(b===0||b===3?e:r,b>1?n:t);while((b=(b+p+4)%4)!==v);else h.point(m[0],m[1])}function o(u,m){return Cf(u[0]-e)<_f?m>0?0:3:Cf(u[0]-r)<_f?m>0?2:1:Cf(u[1]-t)<_f?m>0?1:0:m>0?3:2}function l(u,m){return d(u.x,m.x)}function d(u,m){var p=o(u,1),h=o(m,1);return p!==h?p-h:p===0?m[1]-u[1]:p===1?u[0]-m[0]:p===2?u[1]-m[1]:m[0]-u[0]}return function(u){var m=u,p=P1e(),h,b,v,N,y,S,w,_,A,E,C,O={point:D,lineStart:$,lineEnd:U,polygonStart:K,polygonEnd:H};function D(G,L){s(G,L)&&m.point(G,L)}function R(){for(var G=0,L=0,M=b.length;L<M;++L)for(var B=b[L],J=1,ee=B.length,I=B[0],Y,ae,le=I[0],he=I[1];J<ee;++J)Y=le,ae=he,I=B[J],le=I[0],he=I[1],ae<=n?he>n&&(le-Y)*(n-ae)>(he-ae)*(e-Y)&&++G:he<=n&&(le-Y)*(n-ae)<(he-ae)*(e-Y)&&--G;return G}function K(){m=p,h=[],b=[],C=!0}function H(){var G=R(),L=C&&G,M=(h=Wse(h)).length;(L||M)&&(u.polygonStart(),L&&(u.lineStart(),i(null,null,1,u),u.lineEnd()),M&&M1e(h,l,G,i,u),u.polygonEnd()),m=u,h=b=v=null}function $(){O.point=P,b&&b.push(v=[]),E=!0,A=!1,w=_=NaN}function U(){h&&(P(N,y),S&&A&&p.rejoin(),h.push(p.result())),O.point=D,A&&m.lineEnd()}function P(G,L){var M=s(G,L);if(b&&v.push([G,L]),E)N=G,y=L,S=M,E=!1,M&&(m.lineStart(),m.point(G,L));else if(M&&A)m.point(G,L);else{var B=[w=Math.max(hx,Math.min(fh,w)),_=Math.max(hx,Math.min(fh,_))],J=[G=Math.max(hx,Math.min(fh,G)),L=Math.max(hx,Math.min(fh,L))];I1e(B,J,e,t,r,n)?(A||(m.lineStart(),m.point(B[0],B[1])),m.point(J[0],J[1]),M||m.lineEnd(),C=!1):M&&(m.lineStart(),m.point(G,L),C=!1)}w=G,_=L,A=M}return O}}const CC=e=>e;var NE=new qf,TC=new qf,gG,xG,kC,OC,Tl={point:ji,lineStart:ji,lineEnd:ji,polygonStart:function(){Tl.lineStart=$1e,Tl.lineEnd=B1e},polygonEnd:function(){Tl.lineStart=Tl.lineEnd=Tl.point=ji,NE.add(Cf(TC)),TC=new qf},result:function(){var e=NE/2;return NE=new qf,e}};function $1e(){Tl.point=F1e}function F1e(e,t){Tl.point=bG,gG=kC=e,xG=OC=t}function bG(e,t){TC.add(OC*e-kC*t),kC=e,OC=t}function B1e(){bG(gG,xG)}var vp=1/0,_y=vp,y0=-vp,Cy=y0,Ty={point:U1e,lineStart:ji,lineEnd:ji,polygonStart:ji,polygonEnd:ji,result:function(){var e=[[vp,_y],[y0,Cy]];return y0=Cy=-(_y=vp=1/0),e}};function U1e(e,t){e<vp&&(vp=e),e>y0&&(y0=e),t<_y&&(_y=t),t>Cy&&(Cy=t)}var RC=0,PC=0,ph=0,ky=0,Oy=0,hf=0,DC=0,MC=0,mh=0,yG,vG,ko,Oo,yi={point:ou,lineStart:f6,lineEnd:p6,polygonStart:function(){yi.lineStart=z1e,yi.lineEnd=K1e},polygonEnd:function(){yi.point=ou,yi.lineStart=f6,yi.lineEnd=p6},result:function(){var e=mh?[DC/mh,MC/mh]:hf?[ky/hf,Oy/hf]:ph?[RC/ph,PC/ph]:[NaN,NaN];return RC=PC=ph=ky=Oy=hf=DC=MC=mh=0,e}};function ou(e,t){RC+=e,PC+=t,++ph}function f6(){yi.point=H1e}function H1e(e,t){yi.point=G1e,ou(ko=e,Oo=t)}function G1e(e,t){var r=e-ko,n=t-Oo,s=c3(r*r+n*n);ky+=s*(ko+e)/2,Oy+=s*(Oo+t)/2,hf+=s,ou(ko=e,Oo=t)}function p6(){yi.point=ou}function z1e(){yi.point=q1e}function K1e(){NG(yG,vG)}function q1e(e,t){yi.point=NG,ou(yG=ko=e,vG=Oo=t)}function NG(e,t){var r=e-ko,n=t-Oo,s=c3(r*r+n*n);ky+=s*(ko+e)/2,Oy+=s*(Oo+t)/2,hf+=s,s=Oo*e-ko*t,DC+=s*(ko+e),MC+=s*(Oo+t),mh+=s*3,ou(ko=e,Oo=t)}function SG(e){this._context=e}SG.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,C1e);break}}},result:ji};var IC=new qf,SE,jG,wG,hh,gh,v0={point:ji,lineStart:function(){v0.point=W1e},lineEnd:function(){SE&&EG(jG,wG),v0.point=ji},polygonStart:function(){SE=!0},polygonEnd:function(){SE=null},result:function(){var e=+IC;return IC=new qf,e}};function W1e(e,t){v0.point=EG,jG=hh=e,wG=gh=t}function EG(e,t){hh-=e,gh-=t,IC.add(c3(hh*hh+gh*gh)),hh=e,gh=t}let m6,Ry,h6,g6;class x6{constructor(t){this._append=t==null?AG:V1e(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==h6||this._append!==Ry){const n=this._radius,s=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,h6=n,Ry=this._append,g6=this._,this._=s}this._+=g6;break}}}result(){const t=this._;return this._="",t.length?t:null}}function AG(e){let t=1;this._+=e[0];for(const r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function V1e(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return AG;if(t!==m6){const r=10**t;m6=t,Ry=function(s){let i=1;this._+=s[0];for(const o=s.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+s[i]}}return Ry}function Y1e(e,t){let r=3,n=4.5,s,i;function o(l){return l&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),af(l,s(i))),i.result()}return o.area=function(l){return af(l,s(Tl)),Tl.result()},o.measure=function(l){return af(l,s(v0)),v0.result()},o.bounds=function(l){return af(l,s(Ty)),Ty.result()},o.centroid=function(l){return af(l,s(yi)),yi.result()},o.projection=function(l){return arguments.length?(s=l==null?(e=null,CC):(e=l).stream,o):e},o.context=function(l){return arguments.length?(i=l==null?(t=null,new x6(r)):new SG(t=l),typeof n!="function"&&i.pointRadius(n),o):t},o.pointRadius=function(l){return arguments.length?(n=typeof l=="function"?l:(i.pointRadius(+l),+l),o):n},o.digits=function(l){if(!arguments.length)return r;if(l==null)r=null;else{const d=Math.floor(l);if(!(d>=0))throw new RangeError(`invalid digits: ${l}`);r=d}return t===null&&(i=new x6(r)),o},o.projection(e).digits(r).context(t)}function X1e(e){return function(t){var r=new LC;for(var n in e)r[n]=e[n];return r.stream=t,r}}function LC(){}LC.prototype={constructor:LC,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function d3(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),af(r,e.stream(Ty)),t(Ty.result()),n!=null&&e.clipExtent(n),e}function _G(e,t,r){return d3(e,function(n){var s=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(s/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),l=+t[0][0]+(s-o*(n[1][0]+n[0][0]))/2,d=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([l,d])},r)}function Q1e(e,t,r){return _G(e,[[0,0],t],r)}function Z1e(e,t,r){return d3(e,function(n){var s=+t,i=s/(n[1][0]-n[0][0]),o=(s-i*(n[1][0]+n[0][0]))/2,l=-i*n[0][1];e.scale(150*i).translate([o,l])},r)}function J1e(e,t,r){return d3(e,function(n){var s=+t,i=s/(n[1][1]-n[0][1]),o=-i*n[0][0],l=(s-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,l])},r)}function eNe(){var e=1,t=0,r=0,n=1,s=1,i=0,o,l,d=null,u,m,p,h=1,b=1,v=X1e({point:function(A,E){var C=_([A,E]);this.stream.point(C[0],C[1])}}),N=CC,y,S;function w(){return h=e*n,b=e*s,y=S=null,_}function _(A){var E=A[0]*h,C=A[1]*b;if(i){var O=C*o-E*l;E=E*o+C*l,C=O}return[E+t,C+r]}return _.invert=function(A){var E=A[0]-t,C=A[1]-r;if(i){var O=C*o+E*l;E=E*o-C*l,C=O}return[E/h,C/b]},_.stream=function(A){return y&&S===A?y:y=v(N(S=A))},_.postclip=function(A){return arguments.length?(N=A,d=u=m=p=null,w()):N},_.clipExtent=function(A){return arguments.length?(N=A==null?(d=u=m=p=null,CC):L1e(d=+A[0][0],u=+A[0][1],m=+A[1][0],p=+A[1][1]),w()):d==null?null:[[d,u],[m,p]]},_.scale=function(A){return arguments.length?(e=+A,w()):e},_.translate=function(A){return arguments.length?(t=+A[0],r=+A[1],w()):[t,r]},_.angle=function(A){return arguments.length?(i=A%360*k1e,l=R1e(i),o=O1e(i),w()):i*T1e},_.reflectX=function(A){return arguments.length?(n=A?-1:1,w()):n<0},_.reflectY=function(A){return arguments.length?(s=A?-1:1,w()):s<0},_.fitExtent=function(A,E){return _G(_,A,E)},_.fitSize=function(A,E){return Q1e(_,A,E)},_.fitWidth=function(A,E){return Z1e(_,A,E)},_.fitHeight=function(A,E){return J1e(_,A,E)},_}function tNe(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const rNe=e=>pie(e[e.length-1]);var nNe=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(tNe);const aNe=rNe(nNe),gx=e=>()=>e;function sNe(e,{sourceEvent:t,target:r,transform:n,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function Pl(e,t,r){this.k=e,this.x=t,this.y=r}Pl.prototype={constructor:Pl,scale:function(e){return e===1?this:new Pl(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Pl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Py=new Pl(1,0,0);Pl.prototype;function jE(e){e.stopImmediatePropagation()}function zm(e){e.preventDefault(),e.stopImmediatePropagation()}function iNe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function oNe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function b6(){return this.__zoom||Py}function lNe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cNe(){return navigator.maxTouchPoints||"ontouchstart"in this}function dNe(e,t,r){var n=e.invertX(t[0][0])-r[0][0],s=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(s>n?(n+s)/2:Math.min(0,n)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function uNe(){var e=iNe,t=oNe,r=dNe,n=lNe,s=cNe,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,d=Cie,u=r3("start","zoom","end"),m,p,h,b=500,v=150,N=0,y=10;function S(P){P.property("__zoom",b6).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",K).filter(s).on("touchstart.zoom",H).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(P,G,L,M){var B=P.selection?P.selection():P;B.property("__zoom",b6),P!==B?E(P,G,L,M):B.interrupt().each(function(){C(this,arguments).event(M).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},S.scaleBy=function(P,G,L,M){S.scaleTo(P,function(){var B=this.__zoom.k,J=typeof G=="function"?G.apply(this,arguments):G;return B*J},L,M)},S.scaleTo=function(P,G,L,M){S.transform(P,function(){var B=t.apply(this,arguments),J=this.__zoom,ee=L==null?A(B):typeof L=="function"?L.apply(this,arguments):L,I=J.invert(ee),Y=typeof G=="function"?G.apply(this,arguments):G;return r(_(w(J,Y),ee,I),B,o)},L,M)},S.translateBy=function(P,G,L,M){S.transform(P,function(){return r(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),o)},null,M)},S.translateTo=function(P,G,L,M,B){S.transform(P,function(){var J=t.apply(this,arguments),ee=this.__zoom,I=M==null?A(J):typeof M=="function"?M.apply(this,arguments):M;return r(Py.translate(I[0],I[1]).scale(ee.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof L=="function"?-L.apply(this,arguments):-L),J,o)},M,B)};function w(P,G){return G=Math.max(i[0],Math.min(i[1],G)),G===P.k?P:new Pl(G,P.x,P.y)}function _(P,G,L){var M=G[0]-L[0]*P.k,B=G[1]-L[1]*P.k;return M===P.x&&B===P.y?P:new Pl(P.k,M,B)}function A(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function E(P,G,L,M){P.on("start.zoom",function(){C(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(M).end()}).tween("zoom",function(){var B=this,J=arguments,ee=C(B,J).event(M),I=t.apply(B,J),Y=L==null?A(I):typeof L=="function"?L.apply(B,J):L,ae=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),le=B.__zoom,he=typeof G=="function"?G.apply(B,J):G,X=d(le.invert(Y).concat(ae/le.k),he.invert(Y).concat(ae/he.k));return function(ne){if(ne===1)ne=he;else{var ve=X(ne),pe=ae/ve[2];ne=new Pl(pe,Y[0]-ve[0]*pe,Y[1]-ve[1]*pe)}ee.zoom(null,ne)}})}function C(P,G,L){return!L&&P.__zooming||new O(P,G)}function O(P,G){this.that=P,this.args=G,this.active=0,this.sourceEvent=null,this.extent=t.apply(P,G),this.taps=0}O.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,G){return this.mouse&&P!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var G=Cl(this.that).datum();u.call(P,this.that,new sNe(P,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:u}),G)}};function D(P,...G){if(!e.apply(this,arguments))return;var L=C(this,G).event(P),M=this.__zoom,B=Math.max(i[0],Math.min(i[1],M.k*Math.pow(2,n.apply(this,arguments)))),J=Tc(P);if(L.wheel)(L.mouse[0][0]!==J[0]||L.mouse[0][1]!==J[1])&&(L.mouse[1]=M.invert(L.mouse[0]=J)),clearTimeout(L.wheel);else{if(M.k===B)return;L.mouse=[J,M.invert(J)],Vx(this),L.start()}zm(P),L.wheel=setTimeout(ee,v),L.zoom("mouse",r(_(w(M,B),L.mouse[0],L.mouse[1]),L.extent,o));function ee(){L.wheel=null,L.end()}}function R(P,...G){if(h||!e.apply(this,arguments))return;var L=P.currentTarget,M=C(this,G,!0).event(P),B=Cl(P.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",ae,!0),J=Tc(P,L),ee=P.clientX,I=P.clientY;hve(P.view),jE(P),M.mouse=[J,this.__zoom.invert(J)],Vx(this),M.start();function Y(le){if(zm(le),!M.moved){var he=le.clientX-ee,X=le.clientY-I;M.moved=he*he+X*X>N}M.event(le).zoom("mouse",r(_(M.that.__zoom,M.mouse[0]=Tc(le,L),M.mouse[1]),M.extent,o))}function ae(le){B.on("mousemove.zoom mouseup.zoom",null),gve(le.view,M.moved),zm(le),M.event(le).end()}}function K(P,...G){if(e.apply(this,arguments)){var L=this.__zoom,M=Tc(P.changedTouches?P.changedTouches[0]:P,this),B=L.invert(M),J=L.k*(P.shiftKey?.5:2),ee=r(_(w(L,J),M,B),t.apply(this,G),o);zm(P),l>0?Cl(this).transition().duration(l).call(E,ee,M,P):Cl(this).call(S.transform,ee,M,P)}}function H(P,...G){if(e.apply(this,arguments)){var L=P.touches,M=L.length,B=C(this,G,P.changedTouches.length===M).event(P),J,ee,I,Y;for(jE(P),ee=0;ee<M;++ee)I=L[ee],Y=Tc(I,this),Y=[Y,this.__zoom.invert(Y),I.identifier],B.touch0?!B.touch1&&B.touch0[2]!==Y[2]&&(B.touch1=Y,B.taps=0):(B.touch0=Y,J=!0,B.taps=1+!!m);m&&(m=clearTimeout(m)),J&&(B.taps<2&&(p=Y[0],m=setTimeout(function(){m=null},b)),Vx(this),B.start())}}function $(P,...G){if(this.__zooming){var L=C(this,G).event(P),M=P.changedTouches,B=M.length,J,ee,I,Y;for(zm(P),J=0;J<B;++J)ee=M[J],I=Tc(ee,this),L.touch0&&L.touch0[2]===ee.identifier?L.touch0[0]=I:L.touch1&&L.touch1[2]===ee.identifier&&(L.touch1[0]=I);if(ee=L.that.__zoom,L.touch1){var ae=L.touch0[0],le=L.touch0[1],he=L.touch1[0],X=L.touch1[1],ne=(ne=he[0]-ae[0])*ne+(ne=he[1]-ae[1])*ne,ve=(ve=X[0]-le[0])*ve+(ve=X[1]-le[1])*ve;ee=w(ee,Math.sqrt(ne/ve)),I=[(ae[0]+he[0])/2,(ae[1]+he[1])/2],Y=[(le[0]+X[0])/2,(le[1]+X[1])/2]}else if(L.touch0)I=L.touch0[0],Y=L.touch0[1];else return;L.zoom("touch",r(_(ee,I,Y),L.extent,o))}}function U(P,...G){if(this.__zooming){var L=C(this,G).event(P),M=P.changedTouches,B=M.length,J,ee;for(jE(P),h&&clearTimeout(h),h=setTimeout(function(){h=null},b),J=0;J<B;++J)ee=M[J],L.touch0&&L.touch0[2]===ee.identifier?delete L.touch0:L.touch1&&L.touch1[2]===ee.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(ee=Tc(ee,this),Math.hypot(p[0]-ee[0],p[1]-ee[1])<y)){var I=Cl(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return S.wheelDelta=function(P){return arguments.length?(n=typeof P=="function"?P:gx(+P),S):n},S.filter=function(P){return arguments.length?(e=typeof P=="function"?P:gx(!!P),S):e},S.touchable=function(P){return arguments.length?(s=typeof P=="function"?P:gx(!!P),S):s},S.extent=function(P){return arguments.length?(t=typeof P=="function"?P:gx([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),S):t},S.scaleExtent=function(P){return arguments.length?(i[0]=+P[0],i[1]=+P[1],S):[i[0],i[1]]},S.translateExtent=function(P){return arguments.length?(o[0][0]=+P[0][0],o[1][0]=+P[1][0],o[0][1]=+P[0][1],o[1][1]=+P[1][1],S):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},S.constrain=function(P){return arguments.length?(r=P,S):r},S.duration=function(P){return arguments.length?(l=+P,S):l},S.interpolate=function(P){return arguments.length?(d=P,S):d},S.on=function(){var P=u.on.apply(u,arguments);return P===u?S:P},S.clickDistance=function(P){return arguments.length?(N=(P=+P)*P,S):Math.sqrt(N)},S.tapDistance=function(P){return arguments.length?(y=+P,S):y},S}function fNe(){const e=g.useRef(null),[t,r]=g.useState({width:0,height:0});return g.useEffect(()=>{if(!e.current)return;const n=e.current,s=n.getBoundingClientRect();s.width>0&&s.height>0&&r({width:s.width,height:s.height});const i=new ResizeObserver(o=>{const l=o[0];if(!l)return;const{width:d,height:u}=l.contentRect;r({width:d,height:u})});return i.observe(n),()=>i.disconnect()},[]),{ref:e,width:t.width,height:t.height}}const es=e=>`${e.level}:${e.code}`,Rn=e=>String(e??"").trim(),y6=e=>e==="ctprvn"?"REGION":e==="sig"?"SIGUNGU":"EUPMYEONDONG",yl=e=>{if(!e)return null;const t=e.split(":");return t.length>=2?t.slice(1).join(":").trim()||null:Rn(e)||null},xx=50;function wE(e){return Rn(e?.properties?.code??e?.properties?.adm_cd??e?.properties?.ADM_CD??e?.properties?.sggnm_cd??e?.properties?.SGGNM_CD??e?.properties?.sigungu_cd??e?.properties?.SIGUNGU_CD??e?.properties?.emd_cd??e?.properties?.EMD_CD??e?.properties?.CTPRVN_CD??e?.properties?.SIG_CD??e?.properties?.EMD_CD??"")}function v6(e){return String(e?.properties?.name??e?.properties?.CTP_KOR_NM??e?.properties?.SIG_KOR_NM??e?.properties?.EMD_KOR_NM??"-")}function pNe({level:e,features:t,stats:r,onSelect:n,indicatorLabel:s="",unit:i="",year:o,valueFormatter:l,colorPalette:d,getTooltipExtraLines:u}){const{ref:m,width:p,height:h}=fNe(),[b,v]=g.useState(null),[N,y]=g.useState(null),S=g.useRef(null),w=g.useRef(null),_=g.useRef(null),A=g.useRef(null),[E,C]=g.useState(Py),O=12,D=8,R=g.useMemo(()=>new Map(r.map(M=>[M.code,M.value])),[r]),K=g.useMemo(()=>({type:"FeatureCollection",features:t}),[t]),H=g.useMemo(()=>{const M=r.map(I=>I.value),B=M.length?Math.min(...M):0,J=M.length?Math.max(...M):100,ee=B===J?[B-1,J+1]:[B,J];return d&&d.length>0?C5().domain(ee).range(d):L5(I=>aNe(.15+.85*I)).domain(ee)},[r,d]),$=g.useMemo(()=>p<xx||h<xx||!t.length?null:eNe().reflectY(!0).fitSize([p,h],K),[p,h,K,t.length]),U=g.useMemo(()=>$?Y1e($):null,[$]),P=g.useMemo(()=>U?t.map(M=>{const B=wE(M),J=v6(M),[ee,I]=U.centroid(M);return{code:B,name:J,x:ee,y:I}}):[],[t,U]),G=M=>{_.current&&Cl(_.current).attr("transform",M.toString()),C(M)};g.useEffect(()=>{if(!w.current)return;const M=uNe().scaleExtent([1,5]).on("zoom",J=>{G(J.transform)});Cl(w.current).call(M),A.current=M},[p,h]);const L=M=>{const B=wE(M);B&&(e==="ctprvn"?n("sig",B):e==="sig"&&n("emd",B))};return a.jsxs("div",{ref:m,className:"relative w-full h-full",children:[p<xx||h<xx||!U?a.jsx("div",{className:"p-3 text-sm text-gray-500",children:t.length===0?"  .":"    ."}):a.jsxs("svg",{ref:w,width:p,height:h,className:"block",style:{touchAction:"none",cursor:"grab"},onWheel:M=>{M.preventDefault();const B=M.deltaY>0?.9:1.1,J=Math.max(1,Math.min(5,E.k*B)),ee=Tc(M,w.current),I=ee[0]-(ee[0]-E.x)/E.k*J,Y=ee[1]-(ee[1]-E.y)/E.k*J;G(Py.translate(I,Y).scale(J))},children:[a.jsx("rect",{width:p,height:h,fill:"transparent",style:{pointerEvents:"all"}}),a.jsxs("g",{ref:_,transform:`translate(${E.x}, ${E.y}) scale(${E.k})`,children:[t.map(M=>{const B=wE(M),J=R.get(B)??0,ee=H(J),I=U(M)||void 0,Y=N===B;return a.jsx("path",{d:I,fill:ee,stroke:Y?"#0b1020":"#111827",strokeWidth:Y?2.2:.9,fillOpacity:N&&!Y?.65:.95,style:{cursor:e==="emd"?"default":"pointer",...Y?{filter:"drop-shadow(0 3px 6px rgba(15, 23, 42, 0.35))"}:{}},onMouseMove:ae=>{const le=m.current?.getBoundingClientRect();if(!le)return;const he=ae.clientX-le.left,X=ae.clientY-le.top,ne=S.current?.offsetWidth??240,ve=S.current?.offsetHeight??120;let pe=he+O,Ce=X+O;pe+ne+D>p&&(pe=he-ne-O),Ce+ve+D>h&&(Ce=X-ve-O),pe<D&&(pe=D),Ce<D&&(Ce=D),v({x:pe,y:Ce,name:v6(M),value:J,code:B}),y(B)},onMouseLeave:()=>{v(null),y(null)},onClick:()=>L(M)},B)}),P.map(M=>a.jsx("text",{x:M.x,y:M.y,fontSize:e==="ctprvn"?12:10,fill:"#1e3a8a",textAnchor:"middle",pointerEvents:"none",style:{paintOrder:"stroke",stroke:"#fff",strokeWidth:3},children:M.name},`label-${M.code}`))]})]}),b&&a.jsxs("div",{ref:S,className:"pointer-events-none absolute z-[80] max-w-[260px] rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-900 shadow-2xl",style:{left:b.x,top:b.y},children:[a.jsx("div",{className:"text-sm font-semibold mb-1",children:b.name}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-[11px] text-slate-500",children:s}),a.jsxs("span",{className:"text-base font-bold",children:[l?l(b.value):b.value,!l&&i?a.jsxs("span",{className:"text-xs ml-1",children:["(",i,")"]}):null]})]}),typeof o=="number"&&a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:[": ",o,""]}),u?.({level:e,code:b.code,name:b.name,value:b.value}).slice(0,3).map((M,B)=>a.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:M},B))]})]})}const N6=[{id:"total_cases",label:"  ",unit:"",scale:[120,2200]},{id:"completion",label:" ",unit:"%",scale:[60,98]},{id:"referral",label:"SLA ",unit:"%",scale:[85,99]},{id:"consultation_time",label:"SLA ",unit:"%",scale:[1,15]},{id:"wait_time",label:" ",unit:"",scale:[6,40]},{id:"recontact",label:" ",unit:"%",scale:[80,99]},{id:"followup_dropout",label:" ",unit:"%",scale:[1,20]},{id:"high_risk_rate",label:" ",unit:"%",scale:[5,35]},{id:"screening_coverage",label:"1  ",unit:"%",scale:[50,95]},{id:"dropout",label:"  ",unit:"%",scale:[3,25]},{id:"waitlist_pressure",label:"/ ",unit:"",scale:[30,95]},{id:"accessibility_score",label:" ",unit:"",scale:[40,98]},{id:"regional_sla_violation",label:" SLA ",unit:"%",scale:[2,34]},{id:"regional_queue_risk",label:"  ",unit:"",scale:[15,95]},{id:"regional_recontact_rate",label:"  ",unit:"%",scale:[4,38]},{id:"regional_data_readiness",label:"  ",unit:"%",scale:[62,99]},{id:"regional_governance_missing",label:"  ",unit:"%",scale:[1,28]},{id:"regional_ad_transition_hotspot",label:" AD   ",unit:"",scale:[18,92]},{id:"regional_dx_delay_hotspot",label:"   ",unit:"",scale:[9,68]},{id:"regional_screen_to_dx_rate",label:"  ",unit:"%",scale:[34,91]}];function mNe(e){return N6.find(t=>t.id===e)??N6[0]}function fi(e,t){return t.unit==="%"?`${e.toFixed(1)}%`:t.unit===""?`${Math.round(e)}`:t.unit===""?`${Math.round(e)}`:t.unit===""?`${Math.round(e)}`:`${Math.round(e)}${t.unit}`}const CG=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t},hNe=(e,t,r)=>Math.min(r,Math.max(t,e)),gNe=e=>CG(e)%1e4/1e4,vl=(e,t,r)=>t+gNe(e)*(r-t),TG=(e,t,r)=>{if(!r.length)return[];const[n,s]=t.scale,i=s-n,o=r.length,l=Math.max(1,o-1),d=`${e}-${t.id}`,u=vl(`${d}-base`,n+i*.2,s-i*.2),m=vl(`${d}-slope`,-i*.045,i*.045),p=vl(`${d}-amp`,i*.04,i*.14),h=vl(`${d}-phase`,0,Math.PI*2),b=i*.03,v=Math.round(vl(`${d}-shock-index`,1,Math.max(1,o-2))),N=vl(`${d}-shock-sign`,-1,1)>=0?1:-1,y=vl(`${d}-shock-amp`,i*.06,i*.18)*N,S=vl(`${d}-shock-rec`,.38,.72);return r.map((w,_)=>{const A=(_-l/2)*m,E=Math.sin(_/l*Math.PI*2+h)*p,C=Math.sin(_/l*Math.PI+h*.35)*p*.35,O=vl(`${d}-noise-${w}`,-b,b);let D=0;_===v&&(D+=y),_===v-1&&(D+=y*.22),_===v+1&&(D-=y*S),_===v+2&&(D-=y*S*.35);const R=hNe(u+A+E+C+O+D,n,s);return{year:w,value:Number(R.toFixed(1))}})},xNe=e=>Rn(e?.properties?.code??e?.properties?.adm_cd??e?.properties?.ADM_CD??e?.properties?.sggnm_cd??e?.properties?.SGGNM_CD??e?.properties?.sigungu_cd??e?.properties?.SIGUNGU_CD??e?.properties?.emd_cd??e?.properties?.EMD_CD??e?.properties?.CTPRVN_CD??e?.properties?.SIG_CD??e?.properties?.EMD_CD??""),bNe=e=>String(e?.properties?.name??e?.properties?.CTP_KOR_NM??e?.properties?.SIG_KOR_NM??e?.properties?.EMD_KOR_NM??"-"),yNe=(e,t,r)=>{const n=e.map(i=>{const o=xNe(i),l=bNe(i),d=TG(o,t,[r-1,r]),u=d[0]?.value??t.scale[0],m=d[1]?.value??u,p=m-u;return{code:o,name:l,value:m,yoy:p,rank:0}});return[...n].sort((i,o)=>o.value-i.value).forEach((i,o)=>{i.rank=o+1}),n},vNe=(e,t,r)=>TG(e,t,r),NNe=e=>{const r=40+CG(e)%40,n=100-r;return[{name:"",value:r},{name:"",value:n}]},Rc={blue:["#eff6ff","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8"],red:["#fef2f2","#fecaca","#fca5a5","#f87171","#ef4444","#dc2626","#b91c1c"],green:["#f0fdf4","#bbf7d0","#86efac","#4ade80","#22c55e","#16a34a","#15803d"],teal:["#f0fdfa","#ccfbf1","#99f6e4","#5eead4","#2dd4bf","#14b8a6","#0f766e"],orange:["#fff7ed","#fed7aa","#fdba74","#fb923c","#f97316","#ea580c","#c2410c"],purple:["#faf5ff","#e9d5ff","#d8b4fe","#c084fc","#a855f7","#9333ea","#7e22ce"],heat:["#fef3c7","#fde68a","#fcd34d","#fbbf24","#f59e0b","#d97706","#b45309"],risk:["#ecfdf3","#bbf7d0","#86efac","#fde68a","#fbbf24","#f97316","#dc2626"]};class SNe{values;mode;steps;colors;bins;constructor(t,r="quantile",n=6,s="blue"){this.values=t.filter(i=>i!=null&&!isNaN(i)).sort((i,o)=>i-o),this.mode=r,this.steps=Math.min(n,this.values.length),this.colors=Rc[s].slice(0,this.steps),this.bins=this.buildBins()}buildBins(){if(this.values.length===0)return[];const t=[],r=Math.min(...this.values),n=Math.max(...this.values);if(this.mode==="quantile")for(let s=0;s<this.steps;s++){const i=Math.floor(s/this.steps*this.values.length),o=Math.floor((s+1)/this.steps*this.values.length)-1,l=this.values[i],d=this.values[Math.min(o,this.values.length-1)];this.values.filter(u=>u>=l&&(s===this.steps-1?u<=d:u<(t[s-1]?.max??l))).length,t.push({min:l,max:d,color:this.colors[s],count:Math.max(1,Math.floor(this.values.length/this.steps))})}else{const s=(n-r)/this.steps;for(let i=0;i<this.steps;i++){const o=r+s*i,l=i===this.steps-1?n:r+s*(i+1),d=this.values.filter(u=>u>=o&&u<=l).length;t.push({min:Math.round(o),max:Math.round(l),color:this.colors[i],count:d})}}return t}getColor(t){if(t==null||isNaN(t))return"#e5e7eb";for(let r=0;r<this.bins.length;r++){const n=this.bins[r];if(t>=n.min&&(r===this.bins.length-1?t<=n.max:t<this.bins[r+1]?.min))return n.color}return t<this.bins[0]?.min?this.colors[0]:this.colors[this.colors.length-1]}getLegendBins(){return this.bins}getStats(){if(this.values.length===0)return{min:0,max:0,avg:0,median:0,total:0};const t=this.values.reduce((n,s)=>n+s,0),r=Math.floor(this.values.length/2);return{min:Math.min(...this.values),max:Math.max(...this.values),avg:Math.round(t/this.values.length),median:this.values.length%2?this.values[r]:Math.round((this.values[r-1]+this.values[r])/2),total:t}}}function bx(e,t){if(e==null||isNaN(e))return"-";const r=e>=1e4?`${(e/1e4).toFixed(1)}`:e>=1e3?`${(e/1e3).toFixed(1)}`:e.toLocaleString();return t?`${r}${t}`:r}const jNe={blue:" (Blue)",green:" (Green)",teal:" (Teal)",purple:" (Purple)",orange:" (Orange)",red:" (Red)",heat:" (Heat)",risk:" ()"},S6=e=>Rc[e],EE={ctprvn:"https://raw.githubusercontent.com/southkorea/southkorea-maps/master/kostat/2018/json/skorea-provinces-2018-geo.json",sig:"https://raw.githubusercontent.com/southkorea/southkorea-maps/master/kostat/2018/json/skorea-municipalities-2018-geo.json",emd:"https://raw.githubusercontent.com/southkorea/southkorea-maps/master/kostat/2018/json/skorea-submunicipalities-2018-geo.json"},j6={ctprvn:"",sig:"//",emd:"//"};function Ls(e){return Rn(e?.properties?.code??e?.properties?.adm_cd??e?.properties?.ADM_CD??e?.properties?.sggnm_cd??e?.properties?.SGGNM_CD??e?.properties?.sigungu_cd??e?.properties?.SIGUNGU_CD??e?.properties?.emd_cd??e?.properties?.EMD_CD??e?.properties?.CTPRVN_CD??e?.properties?.SIG_CD??e?.properties?.EMD_CD??"")}function Fi(e){return String(e?.properties?.name??e?.properties?.CTP_KOR_NM??e?.properties?.SIG_KOR_NM??e?.properties?.EMD_KOR_NM??"-")}function AE(e,t){return e.map(r=>{const n=Ls(r),s=Fi(r),i={level:t,code:n};return{...r,id:es(i),properties:{...r.properties,code:n,name:s,level:t,regionId:es(i)}}})}function _E(e,t=[]){return t.length?e.filter(r=>{const n=Ls(r);return t.some(s=>n.startsWith(s))}):e}function u3({title:e,indicatorId:t,year:r=2026,scope:n={mode:"national"},fixedLevel:s,lockedSigCode:i,lockedSigName:o,hideBreadcrumb:l=!1,hintText:d,variant:u="default",mapHeight:m=420,className:p,externalLevel:h,externalSelectedCode:b,onRegionSelect:v,onGoBack:N,externalColorScheme:y,hideLegendPanel:S=!1,onSubRegionsChange:w,getTooltipExtraLines:_}){const A=mNe(t),E=JSON.stringify(n),C=n.mode==="regional",O=u==="portal",[D,R]=g.useState(null),[K,H]=g.useState(null),[$,U]=g.useState(null),[P,G]=g.useState(!0),[L,M]=g.useState(null),B=g.useMemo(()=>{const Oe=n.ctprvnCodes?.[0];if(!D||Oe&&D.some(rt=>Ls(rt)===Oe)||!n.label)return Oe;const Te=D.find(rt=>{const St=Fi(rt);return St===n.label||St.includes(n.label)||n.label.includes(St)});return Te?Ls(Te):Oe},[D,n.ctprvnCodes,n.label]),J=B?[B]:n.ctprvnCodes,ee=J?.[0],I=C&&J?.length===1?"sig":"ctprvn",[Y,ae]=g.useState(I),[le,he]=g.useState({ctprvn:ee}),[X,ne]=g.useState({}),[ve,pe]=g.useState("blue"),[Ce,ge]=g.useState(!0),[se,Ze]=g.useState(!0),[V,de]=g.useState(!1),Ae=g.useRef(""),ce=y??ve;g.useEffect(()=>{let Oe=!0;return(async()=>{G(!0),M(null);try{const[rt,St,Bt]=await Promise.all([fetch(EE.ctprvn),fetch(EE.sig),fetch(EE.emd)]),[Wt,It,lt]=await Promise.all([rt.json(),St.json(),Bt.json()]);if(!Oe)return;R(AE(Wt?.features??[],"REGION")),H(AE(It?.features??[],"SIGUNGU")),U(AE(lt?.features??[],"EUPMYEONDONG"))}catch{if(!Oe)return;M("    .")}finally{Oe&&G(!1)}})(),()=>{Oe=!1}},[]),g.useEffect(()=>{ae(s??I),he({ctprvn:J?.[0]}),ne(n.label?{ctprvn:n.label}:{})},[E,n.label,I,J?.[0],s]),g.useEffect(()=>{s&&Y!==s&&ae(s)},[s,Y]),g.useEffect(()=>{i&&(he(Oe=>({...Oe,sig:i})),o&&ne(Oe=>({...Oe,sig:o})))},[i,o]),g.useEffect(()=>{if(C&&J?.length){const Oe=J[0];le.ctprvn!==Oe&&he({ctprvn:Oe})}},[C,le.ctprvn,J]),g.useEffect(()=>{C&&n.label&&!X.ctprvn&&ne(Oe=>({...Oe,ctprvn:n.label}))},[C,n.label,X.ctprvn]),g.useEffect(()=>{C&&J?.length&&Y==="ctprvn"&&ae("sig")},[C,J,Y]),g.useEffect(()=>{if(h){if(h==="ctprvn"){ae("ctprvn"),he({}),ne({});return}if(h==="sig"&&b){const Oe=b.slice(0,2),Te=b.length>2?b.slice(0,5):void 0;ae("sig"),he({ctprvn:Oe,...Te?{sig:Te}:{}});const rt=D?.find(Bt=>Ls(Bt).startsWith(Oe)),St=Te?K?.find(Bt=>Ls(Bt)===Te):void 0;rt&&ne({ctprvn:Fi(rt),...St?{sig:Fi(St)}:{}});return}if(h==="emd"&&b){const Oe=b.slice(0,2),Te=b.slice(0,5),rt=b.length>5?b:void 0;ae("emd"),he({ctprvn:Oe,sig:Te,...rt?{emd:rt}:{}});const St=D?.find(It=>Ls(It).startsWith(Oe)),Bt=K?.find(It=>Ls(It)===Te),Wt=rt?$?.find(It=>Ls(It)===rt):void 0;ne({ctprvn:St?Fi(St):void 0,sig:Bt?Fi(Bt):void 0,...Wt?{emd:Fi(Wt)}:{}});return}}},[h,b,D,K,$]);const ye=g.useMemo(()=>D?_E(D,J):[],[D,J]),Ie=g.useMemo(()=>{if(!K)return[];const Oe=C?J?.[0]:le.ctprvn;return Oe?_E(K,[Oe]):[]},[K,le.ctprvn,J,C]),Ct=g.useMemo(()=>{const Oe=i??le.sig;return!$||!Oe?[]:_E($,[Oe])},[$,le.sig,i]);g.useEffect(()=>{if(Y!=="sig"||le.sig||!Ie.length)return;const Oe=Ie[0],Te=Ls(Oe);Te&&(he(rt=>({ctprvn:rt.ctprvn,sig:Te})),ne(rt=>({ctprvn:rt.ctprvn,sig:Fi(Oe)})))},[Y,Ie,le.sig]),g.useEffect(()=>{if(Y!=="emd"||le.emd||!Ct.length)return;const Oe=Ct[0],Te=Ls(Oe);Te&&(he(rt=>({...rt,emd:Te})),ne(rt=>({...rt,emd:Fi(Oe)})))},[Y,Ct,le.emd]);const Dt=g.useMemo(()=>Y==="ctprvn"?ye:Y==="sig"?Ie:Ct,[Y,ye,Ie,Ct]);g.useEffect(()=>{if(!w||!Dt.length)return;const Oe=y6(Y),Te=new Set,rt=Dt.map(Bt=>{const Wt=Ls(Bt),It=Fi(Bt);return{code:Wt,name:It,regionKey:{level:Oe,code:Wt,name:It},regionId:es({level:Oe,code:Wt})}}).filter(Bt=>!Bt.code||Te.has(Bt.code)?!1:(Te.add(Bt.code),!0));if(!rt.length)return;const St=`${Oe}|${rt.slice().sort((Bt,Wt)=>Bt.code.localeCompare(Wt.code,"ko-KR")).map(Bt=>`${Bt.code}:${Bt.name}`).join("|")}`;Ae.current!==St&&(Ae.current=St,w(rt))},[Dt,Y,w]);const ze=g.useMemo(()=>Dt.length?yNe(Dt,A,r):[],[Dt,A,r]),$e=g.useMemo(()=>ze.map(Oe=>({code:Oe.code,value:Oe.value})),[ze]),or=(Oe,Te)=>{const rt=Dt.find(It=>Ls(It)===Te),St=rt?Fi(rt):Te,Bt={level:y6(Y),code:Te,name:St},Wt=es(Bt);if(s){s==="ctprvn"?(he({ctprvn:Te}),ne({ctprvn:St}),v?.({level:"sig",code:Te,name:St,regionKey:Bt,regionId:Wt})):s==="sig"?(he(It=>({ctprvn:It.ctprvn,sig:Te})),ne(It=>({ctprvn:It.ctprvn,sig:St})),v?.({level:"emd",code:Te,name:St,regionKey:Bt,regionId:Wt})):(he(It=>({...It,emd:Te})),ne(It=>({...It,emd:St})),v?.({level:"emd",code:Te,name:St,regionKey:Bt,regionId:Wt}));return}if(h){Y==="ctprvn"?(he({ctprvn:Te}),ne({ctprvn:St})):Y==="sig"?(he(It=>({ctprvn:It.ctprvn,sig:Te})),ne(It=>({ctprvn:It.ctprvn,sig:St}))):(he(It=>({...It,emd:Te})),ne(It=>({...It,emd:St}))),v?.({level:Oe,code:Te,name:St,regionKey:Bt,regionId:Wt});return}if(Y==="ctprvn"){he({ctprvn:Te}),ne({ctprvn:St}),ae(Oe),v?.({level:Oe,code:Te,name:St,regionKey:Bt,regionId:Wt});return}if(Y==="sig"){he(It=>({ctprvn:It.ctprvn,sig:Te})),ne(It=>({ctprvn:It.ctprvn,sig:St})),ae(Oe),v?.({level:Oe,code:Te,name:St,regionKey:Bt,regionId:Wt});return}Y==="emd"&&(he(It=>({...It,emd:Te})),ne(It=>({...It,emd:St})),v?.({level:"emd",code:Te,name:St,regionKey:Bt,regionId:Wt}))},Vt=()=>{s||C||(ae("ctprvn"),he({}),ne({}),N?.())},hn=()=>{if(!s&&!(C&&Y==="sig")){if(Y==="emd"){ae("sig"),he(Oe=>({ctprvn:Oe.ctprvn,sig:Oe.sig})),ne(Oe=>({ctprvn:Oe.ctprvn,sig:Oe.sig})),N?.();return}Y==="sig"&&(ae("ctprvn"),he({ctprvn:le.ctprvn}),ne({ctprvn:X.ctprvn}),N?.())}},zr=[{label:"",disabled:C,onClick:Vt},...X.ctprvn?[{label:X.ctprvn,disabled:Y==="ctprvn",onClick:()=>ae("sig")}]:[],...X.sig?[{label:X.sig,disabled:Y==="sig",onClick:()=>ae("sig")}]:[],...X.emd?[{label:X.emd,disabled:!0}]:[]],Rt=g.useMemo(()=>[...ze].sort((Oe,Te)=>Te.value-Oe.value),[ze]),mr=ze.length?ze.reduce((Oe,Te)=>Oe+Te.value,0)/ze.length:null,ar=Rt[0]??null,Fr=Rt.length?Rt[Rt.length-1]:null,Mr=Rt.slice(0,5),jr=[...Rt].reverse().slice(0,5),Or=Rt.length?Rt[Math.floor(Rt.length/2)]?.value:null,ur=Y==="ctprvn"?le.ctprvn:Y==="sig"?le.sig:le.emd,xt=(ur?ze.find(Oe=>Oe.code===ur):null)??Rt[0]??null,Ue=xt?.name??" ",Mt=xt?.rank??0,ot=ze.length,Qt=ot>1&&Mt?Math.round((1-(Mt-1)/(ot-1))*100):ot===1?100:0,Ht=g.useMemo(()=>Array.from({length:7}).map((Oe,Te)=>r-6+Te),[r]),Ee=g.useMemo(()=>xt?vNe(xt.code,A,Ht):[],[xt,A,Ht]),Be=g.useMemo(()=>{if(Ee.length<2)return"";const Oe=Ee.map(Wt=>Wt.value),Te=Math.min(...Oe),rt=Math.max(...Oe),St=220,Bt=70;return Ee.map((Wt,It)=>{const lt=It/(Ee.length-1)*St,lr=rt===Te?.5:(Wt.value-Te)/(rt-Te),Jr=Bt-lr*(Bt-10)-5;return`${lt},${Jr}`}).join(" ")},[Ee]),Qe=g.useMemo(()=>xt?NNe(xt.code):[],[xt]),Ft=g.useMemo(()=>{if(!ze.length)return[];const Oe=new Array(12).fill(0),Te=ze.map(Wt=>Wt.value),rt=Math.min(...Te),St=Math.max(...Te);ze.forEach(Wt=>{const It=St===rt?.5:(Wt.value-rt)/(St-rt),lt=Math.min(Oe.length-1,Math.floor(It*Oe.length));Oe[lt]+=1});const Bt=Math.max(...Oe,1);return Oe.map(Wt=>Wt/Bt)},[ze]),hr=g.useMemo(()=>{const Oe=ze.map(Te=>Te.value);return Oe.length===0?null:new SNe(Oe,"quantile",7,ce)},[ze,ce]),at=g.useMemo(()=>S6(ce),[ce]),br=g.useMemo(()=>hr?.getLegendBins()??[],[hr]),Ye=g.useMemo(()=>hr?.getStats()??{min:0,max:0,avg:0,total:0},[hr]),Yr=Oe=>{const Te=Oe>=0?"+":"";return A.unit==="%"?`${Te}${Oe.toFixed(1)}%p`:`${Te}${fi(Math.abs(Oe),A)}`},Gt=g.useMemo(()=>!xt||!_?[]:_({level:Y,code:xt.code,name:xt.name,value:xt.value}),[xt,_,Y]);return a.jsxs("div",{className:`${O?"border border-gray-200":"border-2 border-gray-300"} bg-white ${p||""}`,children:[a.jsx("div",{className:`${O?"border-b border-gray-200":"border-b-2 border-gray-300"} px-4 py-3`,children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:e}),a.jsxs("p",{className:"text-xs text-gray-500",children:[A.label,"  ",j6[Y]]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[C&&n.label&&a.jsxs("span",{className:"rounded-full bg-blue-50 px-2 py-1 text-blue-700",children:[n.label," "]}),a.jsxs("span",{className:"rounded-full bg-gray-100 px-2 py-1",children:[" ",r]})]})]})}),!l&&a.jsx("div",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[zr.map((Oe,Te)=>a.jsxs(q.Fragment,{children:[a.jsx("button",{type:"button",disabled:Oe.disabled,onClick:Oe.onClick,className:`font-medium ${Oe.disabled?"text-gray-400":"text-blue-600 hover:underline"}`,children:Oe.label}),Te<zr.length-1&&a.jsx("span",{children:"/"})]},`${Oe.label}-${Te}`)),Y!=="ctprvn"&&!(C&&Y==="sig")&&a.jsx("button",{type:"button",onClick:hn,className:"ml-2 rounded-full border border-gray-200 px-2 py-0.5 text-gray-600",children:""})]})}),a.jsxs("div",{className:"px-4 pb-8",children:[!O&&ze.length>0&&a.jsxs("div",{className:"mb-4 grid grid-cols-2 lg:grid-cols-4 gap-3 text-xs",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"text-base font-semibold text-gray-900",children:mr!==null?fi(mr,A):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ar?.name??"-"}),a.jsx("div",{className:"text-xs text-gray-500",children:ar?fi(ar.value,A):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Fr?.name??"-"}),a.jsx("div",{className:"text-xs text-gray-500",children:Fr?fi(Fr.value,A):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Ue}),a.jsx("div",{className:"text-xs text-gray-500",children:xt?fi(xt.value,A):"-"}),Gt.length>0&&a.jsx("div",{className:"mt-2 space-y-1",children:Gt.slice(0,3).map((Oe,Te)=>a.jsx("div",{className:"text-[11px] text-gray-500",children:Oe},Te))})]})]}),(()=>{const Oe=a.jsxs("div",{children:[a.jsxs("div",{className:`${O?"rounded-sm":"rounded-lg"} border border-gray-200 bg-gray-50`,style:{height:m,minHeight:m},children:[P&&a.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500",children:"  ..."}),L&&a.jsx("div",{className:"flex h-full items-center justify-center text-sm text-red-600",children:L}),!P&&!L&&a.jsx(pNe,{level:Y,features:Dt,stats:$e,onSelect:or,indicatorLabel:A.label,unit:A.unit,year:r,valueFormatter:Te=>fi(Te,A),colorPalette:at,getTooltipExtraLines:_})]}),!S&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"mt-3 relative rounded-xl border border-gray-200 bg-white/95 px-4 py-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[Ce&&a.jsxs("div",{className:"flex-1",children:[a.jsxs("button",{onClick:()=>Ze(!se),className:"flex items-center gap-1.5 text-xs text-gray-700 hover:text-gray-900 mb-1.5 font-semibold",children:[se?a.jsx(za,{className:"h-4 w-4"}):a.jsx($l,{className:"h-4 w-4"}),a.jsxs("span",{children:[A.label,"  ()"]})]}),!se&&a.jsxs("div",{className:"space-y-1.5 pl-4 border-l-2 border-gray-200",children:[br.length>0?br.map((Te,rt)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("div",{className:"w-5 h-3.5 rounded-sm border border-gray-300",style:{backgroundColor:Te.color}}),a.jsxs("span",{className:"text-gray-700",children:[bx(Te.min)," ~ ",bx(Te.max)]}),Te.count!==void 0&&a.jsxs("span",{className:"text-gray-400",children:["(",Te.count,")"]})]},rt)):at.slice(0,7).map((Te,rt)=>{const St=ze.map(_a=>_a.value),Bt=Math.min(...St,A.scale[0]),Wt=Math.max(...St,A.scale[1]),lt=(Wt-Bt)/7,lr=Bt+rt*lt,Jr=rt===6?Wt:Bt+(rt+1)*lt;return a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("div",{className:"w-5 h-3.5 rounded-sm border border-gray-300",style:{backgroundColor:Te}}),a.jsxs("span",{className:"text-gray-700",children:[fi(lr,A)," ~ ",fi(Jr,A)]})]},rt)}),Ye.total>0&&a.jsxs("div",{className:"mt-1.5 pt-1.5 border-t border-gray-200 text-[11px] text-gray-500",children:[a.jsxs("span",{children:[" : ",a.jsx("strong",{children:Ye.total.toLocaleString()})]}),a.jsxs("span",{className:"ml-3",children:[": ",a.jsx("strong",{children:Ye.avg.toLocaleString()})]})]})]}),se&&a.jsxs("div",{className:"flex items-center gap-1 pl-4",children:[at.slice(0,7).map((Te,rt)=>a.jsx("div",{className:"w-5 h-3 rounded-sm",style:{backgroundColor:Te}},rt)),a.jsxs("span",{className:"ml-3 text-xs text-gray-600",children:[bx(Ye.min)," ~ ",bx(Ye.max)]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>de(!V),className:"flex items-center gap-1.5 h-9 px-3 text-xs text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[a.jsx(H8,{className:"h-4 w-4"}),a.jsx("span",{children:" "}),a.jsx(za,{className:`h-4 w-4 transition-transform ${V?"rotate-180":""}`})]}),V&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>de(!1)}),a.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white border border-gray-200 rounded-xl shadow-lg z-50 p-3",children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 mb-1.5 block",children:[a.jsx(nX,{className:"h-3.5 w-3.5 inline mr-1"})," "]}),a.jsx("select",{value:ve,onChange:Te=>pe(Te.target.value),className:"w-full px-2.5 py-1.5 text-xs border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:Object.entries(jNe).map(([Te,rt])=>a.jsx("option",{value:Te,children:rt},Te))}),a.jsx("div",{className:"flex gap-1 mt-1.5",children:S6(ve).slice(0,7).map((Te,rt)=>a.jsx("div",{className:"flex-1 h-3 rounded-sm",style:{backgroundColor:Te}},rt))})]}),a.jsx("div",{className:"border-t border-gray-200 pt-2",children:a.jsxs("button",{onClick:()=>ge(!Ce),className:"flex items-center gap-2 w-full px-2.5 py-1.5 text-xs text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-medium",children:[Ce?a.jsx(If,{className:"h-4 w-4"}):a.jsx($A,{className:"h-4 w-4"}),a.jsx("span",{children:Ce?" ":" "})]})}),a.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2 text-[11px] text-gray-400",children:d??"     "})]})]})]})]})})})]});return O?Oe:a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,1fr)] gap-4",children:[Oe,ze.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:" "}),a.jsx("div",{className:"text-base font-semibold text-gray-900",children:Ue})]}),a.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-gray-600",children:j6[Y]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3 text-sm",children:[a.jsxs("div",{className:"rounded-md bg-slate-50 p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:""}),a.jsx("div",{className:"font-semibold text-gray-900",children:xt?fi(xt.value,A):"-"})]}),a.jsxs("div",{className:"rounded-md bg-slate-50 p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:" "}),a.jsx("div",{className:`font-semibold ${xt&&xt.yoy>=0?"text-emerald-600":"text-red-600"}`,children:xt?Yr(xt.yoy):"-"})]}),a.jsxs("div",{className:"rounded-md bg-slate-50 p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:""}),a.jsx("div",{className:"font-semibold text-gray-900",children:Mt?`${Mt} / ${ot}`:"-"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:" 7 "}),a.jsx("svg",{width:"220",height:"70",className:"block",children:a.jsx("polyline",{points:Be,fill:"none",stroke:"#2563eb",strokeWidth:"2"})}),a.jsxs("div",{className:"mt-1 text-[11px] text-gray-500",children:[" ",Qt,"% "]})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:" "}),Qe.map(Te=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[a.jsx("span",{children:Te.name}),a.jsxs("span",{children:[Te.value,"%"]})]}),a.jsx("div",{className:"h-2 rounded-full bg-gray-100",children:a.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${Te.value}%`}})})]},Te.name))]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:" "}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500 mb-2",children:" 5"}),a.jsx("div",{className:"space-y-2",children:Mr.map((Te,rt)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-gray-700",children:[rt+1,". ",Te.name]}),a.jsx("span",{className:"font-semibold text-gray-900",children:fi(Te.value,A)})]},Te.code))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500 mb-2",children:" 5"}),a.jsx("div",{className:"space-y-2",children:jr.map((Te,rt)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-gray-700",children:[ot-jr.length+rt+1,". ",Te.name]}),a.jsx("span",{className:"font-semibold text-gray-900",children:fi(Te.value,A)})]},Te.code))})]})]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:" "}),a.jsx("div",{className:"flex items-end gap-1 h-20",children:Ft.map((Te,rt)=>a.jsx("div",{className:"w-2 rounded-sm bg-blue-200",style:{height:`${Math.round(Te*100)}%`}},`bucket-${rt}`))}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[" ",ot,"    ",Or?fi(Or,A):"-"]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["   ",Qt,"% "]})]})]})]})})()]})]})}const Ll=[{id:"seoul",name:"",label:"",ctprvnCode:"11"},{id:"busan",name:"",label:"",ctprvnCode:"21"},{id:"daegu",name:"",label:"",ctprvnCode:"22"},{id:"incheon",name:"",label:"",ctprvnCode:"23"},{id:"gwangju",name:"",label:"",ctprvnCode:"24"},{id:"daejeon",name:"",label:"",ctprvnCode:"25"},{id:"ulsan",name:"",label:"",ctprvnCode:"26"},{id:"sejong",name:"",label:"",ctprvnCode:"29"},{id:"gyeonggi",name:"",label:"",ctprvnCode:"31"},{id:"gangwon",name:"",label:"",ctprvnCode:"32"},{id:"chungbuk",name:"",label:"",ctprvnCode:"33"},{id:"chungnam",name:"",label:"",ctprvnCode:"34"},{id:"jeonbuk",name:"",label:"",ctprvnCode:"35"},{id:"jeonnam",name:"",label:"",ctprvnCode:"36"},{id:"gyeongbuk",name:"",label:"",ctprvnCode:"37"},{id:"gyeongnam",name:"",label:"",ctprvnCode:"38"},{id:"jeju",name:"",label:"",ctprvnCode:"39"}];function wNe(e){return e?Ll.find(r=>e.includes(r.name)||e.includes(r.label))??Ll[0]:Ll[0]}const Km=({label:e,value:t,change:r,isUp:n,color:s,onClick:i})=>a.jsxs("div",{onClick:i,className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col gap-2 group",children:[a.jsx("span",{className:"text-gray-500 text-xs font-semibold group-hover:text-blue-600 transition-colors",children:e}),a.jsxs("div",{className:"flex items-baseline justify-between",children:[a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t}),a.jsxs("div",{className:ue("flex items-center text-[10px] font-bold px-1.5 py-0.5 rounded",n?"text-emerald-600 bg-emerald-50":"text-red-600 bg-red-50"),children:[n?a.jsx(L8,{size:12}):a.jsx(I8,{size:12}),r]})]}),a.jsx("div",{className:"mt-2 h-1 w-full bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:ue("h-full",s),style:{width:"65%"}})})]}),CE=[{name:"Low",value:45,color:"#059669"},{name:"Moderate",value:35,color:"#d97706"},{name:"High",value:20,color:"#dc2626"}],ENe=[{id:"CASE-0121",age:69,probability:"85%",period:"6",nextAction:"3  "},{id:"CASE-0254",age:74,probability:"78%",period:"12",nextAction:" "},{id:"CASE-0310",age:81,probability:"92%",period:"3",nextAction:"3  "}],ANe=[{name:"1 ",count:1240,rate:100,drop:5,wait:1.2},{name:"2 ",count:850,rate:68,drop:12,wait:4.5},{name:"MCI",count:320,rate:25,drop:8,wait:7.2},{name:"High MCI",count:145,rate:11,drop:4,wait:12},{name:"3 ",count:88,rate:7,drop:2,wait:15.4}],_Ne=[{id:"CASE-0012",age:78,stage:"Stage 2",reason:"  ( )",action:"",sla:"1h "},{id:"CASE-0045",age:82,stage:"Stage 3",reason:"  3 ",action:"",sla:""},{id:"CASE-0092",age:75,stage:"Stage 1",reason:"  ",action:"",sla:"3h "},{id:"CASE-0121",age:69,stage:"Stage 2",reason:" MCI  ",action:"3",sla:"5h "}],CNe={:"11010",:"11020",:"11030",:"11040",:"11050",:"11060",:"11070",:"11080",:"11090",:"11100",:"11110",:"11120",:"11130",:"11140",:"11150",:"11160",:"11170",:"11180",:"11190",:"11200",:"11210",:"11220",:"11230",:"11240",:"11250"};function TNe(e){const t=Ll.find(l=>e?.includes(l.name)||e?.includes(l.label))??Ll[0],r=Object.entries(CNe).find(([l])=>e?.includes(l)),n=r?.[1]??"11230",s=r?.[0]??"",i=n.slice(0,2)||t.ctprvnCode,o=Ll.find(l=>l.ctprvnCode===i)?.label??t.label;return{ctprvnCode:i,ctprvnLabel:o,sigCode:n,sigLabel:s}}function w6({onNavigateToCases:e,onSelectCase:t,centerName:r}){const n=TNe(r),[s,i]=g.useState(null);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[a.jsx(Km,{label:"  ",value:"42",change:"+12%",isUp:!0,color:"bg-blue-600",onClick:()=>e("SLA ")}),a.jsx(Km,{label:"2 ",value:"128",change:"-4%",isUp:!1,color:"bg-orange-500",onClick:()=>e(" ")}),a.jsx(Km,{label:" MCI",value:"14",change:"+2",isUp:!0,color:"bg-red-600",onClick:()=>e("High MCI")}),a.jsx(Km,{label:"3 ",value:"31",change:"+5%",isUp:!0,color:"bg-purple-600",onClick:()=>e("3 ")}),a.jsx(Km,{label:"",value:"8",change:"-12%",isUp:!1,color:"bg-gray-500",onClick:()=>e(" ")})]}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-gray-200 bg-gradient-to-b from-white to-slate-50/80 p-6 shadow-sm",children:[a.jsx("div",{className:"pointer-events-none absolute -right-14 -top-14 h-40 w-40 rounded-full bg-blue-100/60 blur-3xl"}),a.jsx("div",{className:"pointer-events-none absolute -left-20 bottom-0 h-28 w-52 rounded-full bg-indigo-100/40 blur-3xl"}),a.jsxs("div",{className:"relative z-10 mb-5 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"       ."})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-[10px]",children:[a.jsx("span",{className:"rounded-full border border-blue-200 bg-blue-50 px-2 py-1 font-semibold text-blue-700",children:" "}),a.jsx("span",{className:"rounded-full border border-rose-200 bg-rose-50 px-2 py-1 font-semibold text-rose-700",children:" "})]})]}),a.jsx("div",{className:"relative z-10 overflow-x-auto pb-1",children:a.jsx("div",{className:"grid min-w-[980px] grid-cols-5 gap-5",children:ANe.map((o,l)=>{const d=l===0?"from-blue-600 to-cyan-500":l===1?"from-indigo-600 to-blue-500":l===2?"from-sky-600 to-blue-500":l===3?"from-violet-600 to-indigo-500":"from-blue-700 to-indigo-700",u=Math.max(8,Math.min(o.rate,100)),m=s===o.name;return a.jsxs("button",{onClick:()=>e(o.name),onPointerEnter:p=>{p.pointerType!=="touch"&&i(o.name)},onPointerMove:p=>{p.pointerType!=="touch"&&i(o.name)},onPointerLeave:()=>i(p=>p===o.name?null:p),onMouseEnter:()=>i(o.name),onMouseLeave:()=>i(p=>p===o.name?null:p),onFocus:()=>i(o.name),onBlur:()=>i(p=>p===o.name?null:p),className:ue("relative text-left rounded-2xl border border-slate-200 bg-white transition-all duration-200",m?"-translate-y-1 shadow-[0_18px_34px_rgba(37,99,235,0.22)]":"shadow-[0_14px_28px_rgba(15,23,42,0.08)]"),children:[a.jsx("div",{className:ue("pointer-events-none absolute inset-x-4 -bottom-2 h-3 rounded-xl blur-sm transition-colors",m?"bg-blue-300/60":"bg-slate-300/60")}),a.jsxs("div",{className:"relative rounded-2xl",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[11px] font-semibold tracking-wide text-slate-700",children:o.name}),a.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-500",children:["Stage ",l+1]})]}),a.jsxs("div",{className:"mt-2 flex items-end justify-between",children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 leading-none",children:o.count.toLocaleString()}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] text-slate-400",children:""}),a.jsxs("p",{className:"text-sm font-bold text-blue-700",children:[o.rate,"%"]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-slate-100",children:a.jsx("div",{className:ue("h-full rounded-full bg-gradient-to-r",d),style:{width:`${u}%`}})})}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"rounded-lg border border-rose-100 bg-rose-50 px-2 py-1.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-rose-500",children:""}),a.jsxs("p",{className:"text-xs font-bold text-rose-700",children:[o.drop,"%"]})]}),a.jsxs("div",{className:"rounded-lg border border-amber-100 bg-amber-50 px-2 py-1.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-amber-600",children:" "}),a.jsxs("p",{className:"text-xs font-bold text-amber-700",children:[o.wait,""]})]})]})]}),l<4&&a.jsxs("div",{className:"pointer-events-none absolute top-1/2 -right-2 hidden -translate-y-1/2 md:flex items-center",children:[a.jsx("span",{className:"h-px w-3 bg-slate-200"}),a.jsx(Hs,{size:12,className:"text-slate-300"})]})]})]},o.name)})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[a.jsxs("div",{className:"lg:col-span-8 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-5 border-b border-gray-100 flex items-center justify-between",children:[a.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Ka,{className:"text-amber-500",size:18}),"  "]}),a.jsxs("button",{onClick:()=>e("SLA "),className:"text-xs font-semibold text-blue-600 hover:underline flex items-center gap-1",children:["  ",a.jsx(Hs,{size:14})]})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:[a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:"ID"}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:""}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:" Stage"}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100",children:"SLA"}),a.jsx("th",{className:"px-5 py-3 border-b border-gray-100 text-right",children:" "})]})}),a.jsx("tbody",{className:"text-sm",children:_Ne.map(o=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[a.jsx("td",{className:"px-5 py-4 font-mono font-medium text-gray-900 group-hover:text-blue-600 cursor-pointer",onClick:()=>t(o.id,o.stage),children:o.id}),a.jsxs("td",{className:"px-5 py-4 text-gray-600",children:[o.age,""]}),a.jsx("td",{className:"px-5 py-4",children:a.jsx("span",{className:ue("px-2 py-0.5 rounded text-[10px] font-bold border",o.stage==="Stage 1"?"bg-emerald-50 text-emerald-700 border-emerald-100":o.stage==="Stage 2"?"bg-blue-50 text-blue-700 border-blue-100":"bg-purple-50 text-purple-700 border-purple-100"),children:o.stage})}),a.jsx("td",{className:"px-5 py-4 text-gray-600 max-w-[200px] truncate",children:o.reason}),a.jsx("td",{className:"px-5 py-4",children:a.jsx("span",{className:ue("px-2 py-0.5 rounded text-[10px] font-bold",o.sla===""?"bg-red-50 text-red-700":"bg-orange-50 text-orange-700"),children:o.sla})}),a.jsx("td",{className:"px-5 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"",children:a.jsx(as,{size:14})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"",children:a.jsx(Wi,{size:14})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"",children:a.jsx(FA,{size:14})})]})})]},o.id))})]})}),a.jsx("div",{className:"p-3 bg-gray-50 text-[10px] text-gray-500 italic text-center",children:"*  : SLA            ."})]}),a.jsxs("div",{className:"lg:col-span-4 bg-white rounded-xl border border-gray-200 shadow-sm p-5 flex flex-col",children:[a.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"MCI  "}),a.jsxs("div",{className:"flex gap-4 items-center mb-6",children:[a.jsx("div",{className:"h-32 w-32 shrink-0",children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(KH,{children:[a.jsx(Jo,{data:CE,cx:"50%",cy:"50%",innerRadius:30,outerRadius:45,paddingAngle:5,dataKey:"value",children:CE.map((o,l)=>a.jsx(Ni,{fill:o.color},`cell-${l}`))}),a.jsx(qr,{})]})})}),a.jsx("div",{className:"space-y-1.5 flex-1",children:CE.map(o=>a.jsxs("div",{className:"flex items-center justify-between text-[10px] font-bold",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:o.color}}),a.jsxs("span",{className:"text-gray-500",children:[o.name," MCI"]})]}),a.jsxs("span",{children:[o.value,"%"]})]},o.name))})]}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" MCI  (High)"}),ENe.map(o=>a.jsxs("div",{className:"p-2.5 bg-gray-50 rounded-lg border border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-bold text-blue-600",children:[o.id," ",a.jsxs("span",{className:"text-gray-400 text-[10px]",children:["(",o.age,")"]})]}),a.jsxs("p",{className:"text-[9px] text-red-600 font-bold",children:["  ",o.probability," | ",o.period]})]}),a.jsx("button",{onClick:()=>t(o.id,"Stage 2"),className:"px-2 py-1 bg-white border border-gray-200 rounded text-[9px] font-bold text-gray-600 hover:bg-gray-100",children:o.nextAction})]},o.id))]}),a.jsx("button",{className:"mt-4 w-full py-2 bg-red-50 text-red-700 text-xs font-bold rounded-lg hover:bg-red-100 transition-colors",children:"3    "})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"relative bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center justify-between",children:["   (//)",a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-blue-50 rounded text-blue-700",children:n.sigLabel}),a.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-gray-100 rounded text-gray-500",children:"emd "})]})]}),a.jsx(u3,{title:`${n.sigLabel} // `,indicatorId:"total_cases",year:2026,scope:{mode:"regional",ctprvnCodes:[n.ctprvnCode],label:n.ctprvnLabel},fixedLevel:"emd",lockedSigCode:n.sigCode,lockedSigName:n.sigLabel,hideBreadcrumb:!0,variant:"portal",mapHeight:320,externalColorScheme:"risk",hideLegendPanel:!0,hintText:"//     .",className:"rounded-lg overflow-hidden"}),a.jsxs("div",{className:"pointer-events-none absolute left-8 top-[92px] z-10 rounded-md border border-slate-200 bg-white/95 px-4 py-3 shadow-md backdrop-blur-sm",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700",children:"  "}),a.jsxs("div",{className:"mt-2 space-y-1.5 text-[10px] font-semibold text-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-[#ef4444]"}),a.jsx("span",{children:" ( )"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-[#f59e0b]"}),a.jsx("span",{children:" ( )"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-[#10b981]"}),a.jsx("span",{children:"/"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-bold text-gray-800",children:"   "}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600"})," "]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#d97706]"})," "]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#059669]"})," "]})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(Uv,{data:[{date:"02/05",screen:72,evaluation:65,completed:58},{date:"02/06",screen:75,evaluation:68,completed:55},{date:"02/07",screen:82,evaluation:62,completed:62},{date:"02/08",screen:80,evaluation:70,completed:65},{date:"02/09",screen:88,evaluation:74,completed:68},{date:"02/10",screen:92,evaluation:81,completed:72},{date:"02/11",screen:89,evaluation:85,completed:75}],children:[a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx($n,{dataKey:"date",fontSize:9,axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),a.jsx(_n,{fontSize:9,axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"},unit:"%"}),a.jsx(qr,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),a.jsx(aa,{type:"monotone",dataKey:"screen",stroke:"#2563eb",strokeWidth:2.5,dot:{r:3}}),a.jsx(aa,{type:"monotone",dataKey:"evaluation",stroke:"#d97706",strokeWidth:2.5,dot:{r:3}}),a.jsx(aa,{type:"monotone",dataKey:"completed",stroke:"#059669",strokeWidth:2.5,dot:{r:3}})]})})}),a.jsxs("div",{className:"mt-4 flex items-center justify-around border-t border-gray-50 pt-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"  "}),a.jsx("p",{className:"text-sm font-bold text-emerald-600",children:"+4.2%"})]}),a.jsx("div",{className:"w-px h-6 bg-gray-100"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"  "}),a.jsx("p",{className:"text-sm font-bold text-red-600",children:"115%"})]})]})]})]}),a.jsx("div",{className:"p-3 bg-gray-50 text-[10px] text-gray-500 italic text-center rounded-lg",children:"*  :         100%  .      ."})]})}const Yx=["","SLA "," ","MCI "," "," ","High MCI"],$C=[{level:"L0",label:"( )",tone:"text-gray-700 bg-gray-100 border-gray-200",purpose:"    ",whenToUse:"      ",actions:["    ","  ","/   "]},{level:"L1",label:"(/)",tone:"text-blue-700 bg-blue-50 border-blue-200",purpose:"    ",whenToUse:"     ",actions:["    ","  / "," (:  7) "]},{level:"L2",label:"(  )",tone:"text-orange-700 bg-orange-50 border-orange-200",purpose:"       ",whenToUse:"SLA ,  ,    ",actions:["      ","     ","2    "]},{level:"L3",label:" (2  )",tone:"text-purple-700 bg-purple-50 border-purple-200",purpose:"Stage 1     ",whenToUse:"   SLA/   ",actions:["2   ","/ ","       "]}],Xx=[{id:"CASE-2026-001",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:"1  ",updated:"2026-02-11 09:30",quality:"",profile:{name:"",age:78,phone:"010-2481-9320",guardianPhone:"010-8821-1209"},alertTags:["SLA "," "]},{id:"CASE-2026-002",stage:"Stage 2",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-11 10:15",quality:"",profile:{name:"",age:73,phone:"010-3841-5520"},alertTags:[" "]},{id:"CASE-2026-003",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:"  ",updated:"2026-02-10 16:45",quality:"",profile:{name:"",age:81,phone:"010-5510-2840"},alertTags:[" "," "]},{id:"CASE-2026-004",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:"",updated:"2026-02-11 11:00",quality:"",profile:{name:"",age:66,phone:"010-7652-9213",guardianPhone:"010-4312-5591"},alertTags:[]},{id:"CASE-2026-005",stage:"Stage 2",risk:"",path:"High MCI ",status:"",manager:"",action:" ",updated:"2026-02-11 11:20",quality:"",profile:{name:"",age:75,phone:"010-4288-7712"},alertTags:["SLA ","High MCI","MCI "]},{id:"CASE-2026-006",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:"  ",updated:"2026-02-11 11:45",quality:"",profile:{name:"",age:69,phone:"010-6721-2098"},alertTags:[]},{id:"CASE-2026-007",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-09 14:00",quality:"",profile:{name:"",age:84,phone:"010-9191-2504"},alertTags:["SLA "," "]},{id:"CASE-2026-008",stage:"Stage 2",risk:"",path:"MCI ",status:"",manager:"",action:"MCI  ",updated:"2026-02-10 09:50",quality:"",profile:{name:"",age:72,phone:"010-2351-9801"},alertTags:["MCI "," "]},{id:"CASE-2026-009",stage:"Stage 3",risk:"",path:"3  ",status:"",manager:"",action:"3  ",updated:"2026-02-11 08:35",quality:"",profile:{name:"",age:79,phone:"010-4089-1302"},alertTags:["SLA "," "]},{id:"CASE-2026-010",stage:"Stage 1",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-10 13:20",quality:"",profile:{name:"",age:64,phone:"010-7413-8267",guardianPhone:"010-3755-6401"},alertTags:[" "]},{id:"CASE-2026-011",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:"  ",updated:"2026-02-11 12:05",quality:"",profile:{name:"",age:83,phone:"010-6671-2104",guardianPhone:"010-7201-5543"},alertTags:["SLA "]},{id:"CASE-2026-012",stage:"Stage 2",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-08 10:10",quality:"",profile:{name:"",age:71,phone:"010-5870-3370"},alertTags:[]},{id:"CASE-2026-013",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-07 17:40",quality:"",profile:{name:"",age:68,phone:"010-8901-0061"},alertTags:[]},{id:"CASE-2026-014",stage:"Stage 2",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-11 07:55",quality:"",profile:{name:"",age:70,phone:"010-3520-9912"},alertTags:[" "]},{id:"CASE-2026-015",stage:"Stage 1",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-09 11:25",quality:"",profile:{name:"",age:76,phone:"010-1002-4451",guardianPhone:"010-9001-1112"},alertTags:[" ","SLA "]},{id:"CASE-2026-016",stage:"Stage 2",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-09 08:10",quality:"",profile:{name:"",age:82,phone:"010-4721-2004"},alertTags:["High MCI","SLA "," "]},{id:"CASE-2026-017",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-06 15:25",quality:"",profile:{name:"",age:74,phone:"010-7790-6631"},alertTags:[]},{id:"CASE-2026-018",stage:"Stage 1",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-10 15:50",quality:"",profile:{name:"",age:63,phone:"010-8101-3321",guardianPhone:"010-7750-4012"},alertTags:[]},{id:"CASE-2026-019",stage:"Stage 2",risk:"",path:"  ",status:"",manager:"",action:"  ",updated:"2026-02-11 06:50",quality:"",profile:{name:"",age:77,phone:"010-3124-8823"},alertTags:["SLA "," "]},{id:"CASE-2026-020",stage:"Stage 3",risk:"",path:" ",status:"",manager:"",action:"  ",updated:"2026-02-08 17:05",quality:"",profile:{name:"",age:80,phone:"010-8823-2240"},alertTags:[" "," "]},{id:"CASE-2026-021",stage:"Stage 1",risk:"",path:"MCI  ",status:"",manager:"",action:" ",updated:"2026-02-10 08:45",quality:"",profile:{name:"",age:85,phone:"010-6012-5566",guardianPhone:"010-2201-8890"},alertTags:["MCI "," "]},{id:"CASE-2026-022",stage:"Stage 2",risk:"",path:" ",status:"",manager:"",action:" ",updated:"2026-02-07 13:15",quality:"",profile:{name:"",age:67,phone:"010-4781-0190"},alertTags:[]},{id:"CASE-2026-023",stage:"Stage 3",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-09 19:20",quality:"",profile:{name:"",age:72,phone:"010-2441-5567"},alertTags:[" "]},{id:"CASE-2026-024",stage:"Stage 1",risk:"",path:"  ",status:"",manager:"",action:" ",updated:"2026-02-05 16:20",quality:"",profile:{name:"",age:62,phone:"010-7140-0013"},alertTags:[]}],kNe={"1 ":"Stage 1","1":"Stage 1","Stage 1":"Stage 1","2 ":"Stage 2","2 ":"Stage 2","2":"Stage 2","Stage 2":"Stage 2",MCI:"Stage 2","High MCI":"Stage 2","3 ":"Stage 3","3":"Stage 3","3 ":"Stage 3","Stage 3":"Stage 3"};function ONe(e){if(!e)return{alertFilter:"",stageFilter:"all"};const t=e.trim();if(Yx.includes(t))return{alertFilter:t,stageFilter:"all"};const r=kNe[t];return r?{alertFilter:"",stageFilter:r}:{alertFilter:"",stageFilter:"all"}}function E6(e,t){return t===""?!0:e.alertTags.includes(t)}function Kv(e){return Xx.find(t=>t.id===e)}function kG(e){return!e||e.stage!=="Stage 1"?{label:"",tone:"text-blue-700 bg-blue-50 border-blue-200"}:e.status===""||e.status===""||e.alertTags.includes("SLA ")?{label:"",tone:"text-red-700 bg-red-50 border-red-200"}:e.status===""||e.alertTags.includes(" ")||e.alertTags.includes(" ")||e.alertTags.includes("MCI ")?{label:"",tone:"text-orange-700 bg-orange-50 border-orange-200"}:e.status===""?{label:"",tone:"text-blue-700 bg-blue-50 border-blue-200"}:{label:"",tone:"text-emerald-700 bg-emerald-50 border-emerald-200"}}function RNe(){return $C}function PNe(e){const t=$C[1];if(!e||e.stage!=="Stage 1")return{level:t.level,guide:t,exceptionState:null};const r=e.status===""||e.status===""||e.alertTags.includes("SLA ")||e.alertTags.includes(" "),n=e.risk===""||e.alertTags.includes(" ")||e.alertTags.includes("MCI "),s=e.status===""||e.alertTags.includes(" ");let i="L0",o=null,l;e.quality===""?(i="L0",o="",l="      "):n&&(r||s)?i="L3":r||n?i="L2":(s||e.quality==="")&&(i="L1"),!o&&e.status===""&&!r&&!n&&(o="",l="7   ");const d=$C.find(u=>u.level===i)??t;return{level:i,guide:d,exceptionState:o,exceptionReason:l}}function N0(e){return e<70?"60":e<80?"70":"80"}function DNe(e){return e?e.length===1?`${e}*`:e.length===2?`${e[0]}*`:`${e[0]}${"*".repeat(e.length-2)}${e[e.length-1]}`:"-"}function Mo(e){const t=e.match(/^(\d{3})-(\d{3,4})-(\d{4})$/);if(!t)return e;const[,r,n,s]=t;return`${r}-${"*".repeat(n.length)}-${s}`}const MNe=[{label:"Stage 1",value:"Stage 1"},{label:"Stage 2",value:"Stage 2"},{label:"Stage 3",value:"Stage 3"}],INe=[{label:"",value:"ALL"},{label:"Agent",value:"AGENT"},{label:"",value:"HUMAN"},{label:"",value:"UNASSIGNED"}],LNe=[{label:"",value:"ALL"},{label:"L3",value:"L3_ONLY"},{label:"L2~L3",value:"L2_L3"},{label:"L0~L1",value:"L0_L1"}],$Ne=[{label:"",value:"ALL"},{label:"",value:"NOT_TRIED"},{label:" ",value:"RETRY_NEEDED"},{label:"",value:"IN_PROGRESS"},{label:"",value:"SUCCESS"}];function OG(e){const t=new Date(e.replace(" ","T"));return Number.isNaN(t.getTime())?0:t.getTime()}function FNe(e){return e.length>16?e.slice(0,16):e}function BNe(e,t){const r=new Date(e.replace(" ","T"));return Number.isNaN(r.getTime())?e.slice(0,10):(r.setDate(r.getDate()+t),`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`)}function jc(e){return Math.max(0,Math.min(1,e))}function UNe(e){return Math.max(0,Math.min(100,e))}function HNe(e){return e>=85?"L3":e>=70?"L2":e>=50?"L1":"L0"}function GNe(e){return e==="L3"?"bg-red-50 text-red-700 border-red-200":e==="L2"?"bg-orange-50 text-orange-700 border-orange-200":e==="L1"?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-100 text-gray-700 border-gray-200"}function A6(e){return e==="L3"?" ":e==="L2"?"":e==="L1"?"":""}function zNe(e){return e==="L3"?"2   ":e==="L2"?"   ":e==="L1"?"/  ":"/ "}function KNe(e){return e==="AGENT"?"bg-indigo-50 text-indigo-700 border-indigo-200":e==="HUMAN"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-100 text-gray-700 border-gray-200"}function FC(e){return e==="AGENT"?"Agent":e==="HUMAN"?"":""}function qNe(e){return[...e.priorityFactors].sort((t,r)=>r.contribution-t.contribution).slice(0,3)}function WNe(e,t){return t==="ALL"?!0:t==="NOT_TRIED"?e==="":t==="RETRY_NEEDED"?e===" "||e==="":t==="IN_PROGRESS"?e==="":e===""}function VNe(e,t){return t==="ALL"?!0:t==="L3_ONLY"?e==="L3":t==="L2_L3"?e==="L3"||e==="L2":e==="L1"||e==="L0"}function YNe(e,t,r){return e.quality===""||e.profile.phone.trim().length===0?{ownerType:"UNASSIGNED",ownerName:void 0,ownerReason:"         ."}:e.path.includes("")||e.action.includes("")?{ownerType:"AGENT",ownerName:"  Agent",ownerReason:"     /   ."}:e.risk===""||e.alertTags.includes(" ")||r===""&&(t===" "||t==="")?{ownerType:"HUMAN",ownerName:e.manager,ownerReason:"         ."}:{ownerType:"HUMAN",ownerName:e.manager,ownerReason:"       ."}}function XNe(e,t,r,n){const s=e.alertTags.includes("SLA "),i=e.status===""||e.status===""||s?1:e.status===""?.5:e.status===""?.35:e.status===""?.2:0,o=n>0?(Date.now()-n)/(1e3*60*60):0,l=t===""?.6:o>=48?1:o>=24?.85:o>=12?.55:o>=6?.3:o>=3?.2:.1,d=e.risk===""?1:e.risk===""?.6:.25,u=e.alertTags.includes("High MCI")||e.alertTags.includes(" ")?.2:0,m=jc(d+u),p=t===" "||t===""?1:t===""?.6:t===""?.2:0,h=e.quality===""?.65:e.quality===""?.35:.1,b=jc(h+(r===""?.2:0)+(!e.profile.guardianPhone&&(t===""||t===" ")?.2:0)),v=[{key:"SLA_URGENCY",label:"SLA ",weight:40,value:jc(i),contribution:0},{key:"CONTACT_STALENESS",label:" ",weight:25,value:jc(l),contribution:0},{key:"RISK_LEVEL",label:" ",weight:20,value:jc(m),contribution:0},{key:"RETRY_NEEDED",label:" ",weight:10,value:jc(p),contribution:0},{key:"CHANNEL_FRICTION",label:" ",weight:5,value:jc(b),contribution:0}].map(y=>({...y,contribution:Number((y.weight*y.value).toFixed(1))})),N=Math.round(UNe(v.reduce((y,S)=>y+S.contribution,0)));return{priorityScore:N,priorityTier:HNe(N),priorityFactors:v,slaUrgencyScore:jc(i)}}function QNe(e){return e===" "?"bg-red-50 text-red-700 border-red-200":e===""?"bg-orange-50 text-orange-700 border-orange-200":e===""?"bg-blue-50 text-blue-700 border-blue-200":e===""?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-100 text-gray-700 border-gray-200"}function ZNe(e){return e===""?"bg-violet-50 text-violet-700 border-violet-200":e===""?"bg-blue-50 text-blue-700 border-blue-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}function JNe(e){return e===" "?"bg-gray-100 text-gray-700 border-gray-200":e===" "||e==="Stage2 "?"bg-indigo-50 text-indigo-700 border-indigo-200":e===" "?"bg-violet-50 text-violet-700 border-violet-200":e===" "?"bg-blue-50 text-blue-700 border-blue-200":"bg-orange-50 text-orange-700 border-orange-200"}function e2e(e){return e==="AD"?"bg-red-50 text-red-700 border-red-200":e==="MCI"?"bg-orange-50 text-orange-700 border-orange-200":e===""?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-100 text-gray-700 border-gray-200"}function t2e(e){return e===""?"bg-blue-50 text-blue-700 border-blue-200":"bg-amber-50 text-amber-700 border-amber-200"}function r2e(e){return e==="Stage3"?"bg-violet-50 text-violet-700 border-violet-200":e===""?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-orange-50 text-orange-700 border-orange-200"}function n2e(e){return e===" "?"bg-red-50 text-red-700 border-red-200":e===""?"bg-orange-50 text-orange-700 border-orange-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}function a2e(e){return e===""?"bg-red-50 text-red-700 border-red-200":e===""?"bg-orange-50 text-orange-700 border-orange-200":"bg-blue-50 text-blue-700 border-blue-200"}function s2e(e){const t=e.status===""?"":e.status===""?"":e.status===""?"":e.status===""?" ":"",r=e.action.includes("")?"":e.action.includes("")||(t===""||t===" ")&&e.profile.guardianPhone?"":"",n=t===""&&(e.risk===""||e.alertTags.includes(" "))?"Stage2 ":t===""||t===""?" ":r!==""&&e.profile.guardianPhone?" ":"",s={" ":5,:4,:3,:2,:1},i=OG(e.updated),o=YNe(e,t,r),l=XNe(e,t,r,i),d=o.ownerType==="UNASSIGNED"?" ":o.ownerType==="AGENT"&&(l.priorityTier==="L3"||l.priorityTier==="L2")?" ":n;return{kind:"Stage 1",stage:"Stage 1",caseId:e.id,manager:e.manager,updated:e.updated,source:e,contactStatus:t,lastContactAttemptAt:FNe(e.updated),channel:r,nextAction:d,ownerType:o.ownerType,ownerName:o.ownerName,ownerReason:o.ownerReason,priorityScore:l.priorityScore,priorityTier:l.priorityTier,priorityFactors:l.priorityFactors,statusRank:s[t],lastContactMs:i,slaUrgencyScore:l.slaUrgencyScore,slaHint:e.status===""||e.status===""?e.status:void 0}}function i2e(e){const t=e.path.includes("High MCI")||e.risk===""&&e.quality===""?"AD":e.path.includes("MCI")||e.alertTags.includes("MCI ")?"MCI":e.risk===""&&e.status===""?"":"",r=e.status===""?"":"",n=t===""||e.quality===""?" ":t===""?"":"Stage3",s=[e.path];e.alertTags.length>0&&s.push(` ${e.alertTags.slice(0,2).join(", ")}`),e.quality!==""&&s.push(` ${e.quality}`);const i={AD:4,MCI:3,:2,:1};return{kind:"Stage 2",stage:"Stage 2",caseId:e.id,manager:e.manager,updated:e.updated,source:e,classification:t,rationale:s.join("  "),confirmation:r,nextPath:n,confirmationRank:r===""?2:1,classificationRank:i[t],updatedMs:OG(e.updated)}}function o2e(e){const t=e.alertTags.includes(" ")||e.status===""?" ":e.risk===""||e.status===""?"":"",r=t===" "?"":t===""?"":"",n=BNe(e.updated,t===""?30:t===""?14:7),s=new Date(`${n}T09:00:00`).getTime();return{kind:"Stage 3",stage:"Stage 3",caseId:e.id,manager:e.manager,updated:e.updated,source:e,trackingStatus:t,recentEvent:e.action,nextEvalDate:n,intensity:r,intensityRank:r===""?3:r===""?2:1,nextEvalMs:s}}const l2e={"Stage 1":{operationQuestion:"   ?  ?   ?",operationHint:"Stage 1 /   .",sortLabel:"  ",defaultSortDescending:!0,mapRow:e=>s2e(e),compare:(e,t)=>{const r=e,n=t;return n.priorityScore!==r.priorityScore?n.priorityScore-r.priorityScore:n.slaUrgencyScore!==r.slaUrgencyScore?n.slaUrgencyScore-r.slaUrgencyScore:r.lastContactMs!==n.lastContactMs?r.lastContactMs-n.lastContactMs:n.statusRank-r.statusRank},searchBlob:e=>{const t=e;return[t.caseId,t.contactStatus,t.channel,t.nextAction,t.manager,FC(t.ownerType),t.ownerName??"",t.priorityTier,String(t.priorityScore)].join(" ")},summary:e=>{const t=e;return[{label:" ",value:t.length.toLocaleString(),color:"text-slate-900",icon:Bo},{label:" ",value:t.filter(r=>r.contactStatus!=="").length.toLocaleString(),color:"text-blue-600",icon:as},{label:" ",value:t.filter(r=>r.contactStatus===" "||r.contactStatus==="").length.toLocaleString(),color:"text-red-600",icon:zn},{label:"  ",value:t.filter(r=>r.nextAction===" ").length.toLocaleString(),color:"text-indigo-600",icon:Wi},{label:"Stage2  ",value:t.filter(r=>r.nextAction==="Stage2 ").length.toLocaleString(),color:"text-violet-600",icon:sa}]},quickActions:e=>{const t=e;return t.ownerType==="UNASSIGNED"?[{key:"precheck",label:" ",icon:Lf,tone:"text-gray-700 bg-gray-100 border-gray-200 hover:bg-gray-200"},{key:"verify-channel",label:" ",icon:wi,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"}]:t.ownerType==="AGENT"?[{key:"agent-run",label:t.priorityTier==="L3"||t.priorityTier==="L2"?" Agent ":"Agent  ",icon:wi,tone:"text-indigo-700 bg-indigo-50 border-indigo-100 hover:bg-indigo-100"},{key:"agent-status",label:" ",icon:Gn,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"}]:[{key:"call",label:"",icon:as,tone:"text-emerald-700 bg-emerald-50 border-emerald-100 hover:bg-emerald-100"},{key:"guardian",label:" ",icon:sh,tone:t.source.profile.guardianPhone?"text-violet-700 bg-violet-50 border-violet-100 hover:bg-violet-100":"text-gray-400 bg-gray-100 border-gray-200",disabled:!t.source.profile.guardianPhone},{key:"reserve",label:" ",icon:Wi,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"}]}},"Stage 2":{operationQuestion:"    ,  ?",operationHint:"Stage 2    .",sortLabel:"  ",defaultSortDescending:!0,mapRow:e=>i2e(e),compare:(e,t)=>{const r=e,n=t;return n.confirmationRank!==r.confirmationRank?n.confirmationRank-r.confirmationRank:n.classificationRank!==r.classificationRank?n.classificationRank-r.classificationRank:n.updatedMs-r.updatedMs},searchBlob:e=>{const t=e;return[t.source.profile.name,t.caseId,t.classification,t.confirmation,t.nextPath,t.rationale,t.manager].join(" ")},summary:e=>{const t=e;return[{label:" ",value:t.length.toLocaleString(),color:"text-slate-900",icon:Bo},{label:" ",value:t.filter(r=>r.confirmation==="").length.toLocaleString(),color:"text-amber-600",icon:zn},{label:" ",value:t.filter(r=>r.confirmation==="").length.toLocaleString(),color:"text-blue-600",icon:sh},{label:"Stage3 ",value:t.filter(r=>r.nextPath==="Stage3").length.toLocaleString(),color:"text-violet-600",icon:sa},{label:"  ",value:t.filter(r=>r.nextPath===" ").length.toLocaleString(),color:"text-orange-600",icon:Gn}]},quickActions:()=>[{key:"edit-classification",label:" ",icon:Lf,tone:"text-indigo-700 bg-indigo-50 border-indigo-100 hover:bg-indigo-100"},{key:"review-rationale",label:" ",icon:Gn,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"},{key:"move-stage3",label:"Stage3 ",icon:sa,tone:"text-violet-700 bg-violet-50 border-violet-100 hover:bg-violet-100"}]},"Stage 3":{operationQuestion:" , ,   ?",operationHint:"Stage 3 /  .",sortLabel:"  ",defaultSortDescending:!0,mapRow:e=>o2e(e),compare:(e,t)=>{const r=e,n=t;return n.intensityRank!==r.intensityRank?n.intensityRank-r.intensityRank:r.nextEvalMs-n.nextEvalMs},searchBlob:e=>{const t=e;return[t.source.profile.name,t.caseId,t.trackingStatus,t.intensity,t.recentEvent,t.nextEvalDate,t.manager].join(" ")},summary:e=>{const t=e;return[{label:" ",value:t.length.toLocaleString(),color:"text-slate-900",icon:Bo},{label:" ",value:t.filter(r=>r.trackingStatus===" ").length.toLocaleString(),color:"text-red-600",icon:zn},{label:"",value:t.filter(r=>r.trackingStatus==="").length.toLocaleString(),color:"text-orange-600",icon:Gn},{label:" ",value:t.filter(r=>r.intensity==="").length.toLocaleString(),color:"text-red-600",icon:sh},{label:"7  ",value:t.filter(r=>r.nextEvalMs-Date.now()<=10080*60*1e3).length.toLocaleString(),color:"text-blue-600",icon:Wi}]},quickActions:()=>[{key:"add-tracking",label:"  ",icon:Gn,tone:"text-blue-700 bg-blue-50 border-blue-100 hover:bg-blue-100"},{key:"book-recheck",label:" ",icon:Wi,tone:"text-orange-700 bg-orange-50 border-orange-100 hover:bg-orange-100"},{key:"adjust-intensity",label:"  ",icon:sh,tone:"text-violet-700 bg-violet-50 border-violet-100 hover:bg-violet-100"}]}};function c2e({onSelectCase:e,initialFilter:t}){const[r,n]=g.useState(""),[s,i]=g.useState("Stage 1"),[o,l]=g.useState(""),[d,u]=g.useState("ALL"),[m,p]=g.useState("ALL"),[h,b]=g.useState("ALL"),[v,N]=g.useState(!1),[y,S]=g.useState(!0),[w,_]=g.useState(null),A=g.useRef(null),E=g.useRef(null);g.useEffect(()=>{const I=ONe(t);n(I.alertFilter),i(I.stageFilter==="all"?"Stage 1":I.stageFilter)},[t]);const C=g.useMemo(()=>l2e[s],[s]);g.useEffect(()=>{S(C.defaultSortDescending)},[C.defaultSortDescending,s]),g.useEffect(()=>{s!=="Stage 1"&&N(!1)},[s]),g.useEffect(()=>{if(!v)return;const I=Y=>{E.current&&(E.current.contains(Y.target)||N(!1))};return window.addEventListener("pointerdown",I),()=>window.removeEventListener("pointerdown",I)},[v]);const O=g.useMemo(()=>{const I=o.trim().toLowerCase();return Xx.filter(Y=>Y.stage===s).map(Y=>{const ae=C.mapRow(Y);return{item:Y,row:ae,searchBlob:C.searchBlob(ae).toLowerCase()}}).filter(Y=>I?Y.searchBlob.includes(I):!0)},[C,o,s]),D=g.useMemo(()=>{const I=Object.fromEntries(Yx.map(Y=>[Y,0]));I.=O.length;for(const Y of Yx)Y!==""&&(I[Y]=O.reduce((ae,le)=>ae+(E6(le.item,Y)?1:0),0));return I},[O]),R=g.useMemo(()=>{const I={"Stage 1":0,"Stage 2":0,"Stage 3":0};for(const Y of Xx)(Y.stage==="Stage 1"||Y.stage==="Stage 2"||Y.stage==="Stage 3")&&(I[Y.stage]+=1);return I},[]),K=g.useMemo(()=>{const I=O.filter(le=>E6(le.item,r)).map(le=>le.row),ae=[...s==="Stage 1"?I.filter(le=>{const he=d==="ALL"?!0:le.ownerType===d,X=VNe(le.priorityTier,m),ne=WNe(le.contactStatus,h);return he&&X&&ne}):I].sort(C.compare);return y||ae.reverse(),ae},[r,C,d,m,O,y,s,h]),H=g.useMemo(()=>C.summary(K),[C,K]),$=g.useMemo(()=>K.find(I=>I.caseId===w)??null,[w,K]),U=d!=="ALL"||m!=="ALL"||h!=="ALL",P=+(d!=="ALL")+ +(m!=="ALL")+ +(h!=="ALL"),G=r!==""||o.trim().length>0||s==="Stage 1"&&U,L=()=>{u("ALL"),p("ALL"),b("ALL")},M=()=>{n(""),l(""),L()},B=()=>{A.current&&(clearTimeout(A.current),A.current=null)},J=(I,Y=0)=>{if(B(),Y<=0){_(I);return}A.current=setTimeout(()=>{_(I),A.current=null},Y)},ee=(I=140)=>{B(),w&&(A.current=setTimeout(()=>{_(null),A.current=null},I))};return g.useEffect(()=>()=>B(),[]),a.jsxs("div",{className:"h-full flex flex-col gap-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:H.map((I,Y)=>a.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:I.label}),a.jsx("p",{className:ue("text-xl font-bold mt-1",I.color),children:I.value})]}),a.jsx("div",{className:ue("p-2 rounded-lg bg-gray-50",I.color),children:a.jsx(I.icon,{size:20,className:"opacity-20"})})]},Y))}),a.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:a.jsxs("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/30 space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 md:pb-0 scrollbar-hide",children:Yx.map(I=>a.jsxs("button",{onClick:()=>n(I),className:ue("group whitespace-nowrap rounded-xl border px-4 py-2 text-[12px] font-bold transition-all duration-200 ease-out active:scale-[0.98]",r===I?"border-blue-600 bg-gradient-to-b from-blue-500 to-blue-700 text-white shadow-[0_10px_20px_-12px_rgba(37,99,235,0.9)]":"border-gray-200 bg-white text-gray-600 shadow-[0_2px_8px_rgba(15,23,42,0.08)] hover:-translate-y-0.5 hover:scale-[1.03] hover:border-blue-200 hover:text-blue-700 hover:shadow-[0_12px_24px_-16px_rgba(37,99,235,0.75)]"),children:[I,a.jsxs("span",{className:ue("ml-1 text-[10px] font-semibold",r===I?"text-blue-100":"text-gray-400 transition-colors group-hover:text-blue-500"),children:["(",D[I].toLocaleString(),")"]})]},I))}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>S(I=>!I),className:"flex items-center gap-1 text-[10px] font-bold text-gray-600 bg-white px-2 py-1 border border-gray-200 rounded",children:[C.sortLabel,a.jsx(yV,{size:10})]}),a.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg border border-gray-200",title:"",children:a.jsx(yf,{size:16})})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-bold text-gray-500 bg-white border border-gray-200 rounded px-2 py-1",children:[a.jsx(Lf,{size:10}),"Stage "]}),MNe.map(I=>a.jsxs("button",{onClick:()=>i(I.value),className:ue("group rounded-lg border px-3.5 py-1.5 text-[12px] font-semibold transition-all duration-200 ease-out active:scale-[0.98]",s===I.value?"border-[#163b6f] bg-gradient-to-b from-[#244f87] to-[#163b6f] text-white shadow-[0_8px_18px_-12px_rgba(22,59,111,0.9)]":"border-gray-200 bg-white text-gray-600 shadow-[0_1px_6px_rgba(15,23,42,0.06)] hover:-translate-y-0.5 hover:scale-[1.03] hover:border-[#9eb5d8] hover:text-[#163b6f] hover:shadow-[0_10px_20px_-14px_rgba(30,64,175,0.6)]"),children:[I.label,a.jsxs("span",{className:ue("ml-1 text-[10px] font-semibold",s===I.value?"text-blue-100":"text-gray-400 transition-colors group-hover:text-[#295a9d]"),children:["(",R[I.value].toLocaleString(),")"]})]},I.value)),s==="Stage 1"&&a.jsxs("div",{ref:E,className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>N(I=>!I),"aria-expanded":v,className:ue("inline-flex items-center gap-2 rounded-lg border px-3 py-1.5 text-[11px] font-semibold transition-colors",U?"border-blue-200 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-600 hover:bg-gray-50"),children:[a.jsx(Lf,{size:12})," ",P>0&&a.jsx("span",{className:"rounded bg-blue-600 px-1.5 py-0.5 text-[10px] font-bold text-white",children:P})]}),v&&a.jsx("div",{className:"absolute left-0 top-[calc(100%+8px)] z-40 w-[360px] rounded-xl border border-gray-200 bg-white p-3 shadow-xl",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-[11px] font-bold text-gray-600",children:""}),a.jsx("div",{className:"flex flex-wrap gap-1",children:INe.map(I=>a.jsx("button",{onClick:()=>u(I.value),className:ue("rounded-md border px-2 py-1 text-[11px] font-semibold transition-colors",d===I.value?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:I.label},I.value))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-[11px] font-bold text-gray-600",children:" "}),a.jsx("div",{className:"flex flex-wrap gap-1",children:LNe.map(I=>a.jsx("button",{onClick:()=>p(I.value),className:ue("rounded-md border px-2 py-1 text-[11px] font-semibold transition-colors",m===I.value?"border-orange-200 bg-orange-50 text-orange-700":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:I.label},I.value))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-[11px] font-bold text-gray-600",children:""}),a.jsx("div",{className:"flex flex-wrap gap-1",children:$Ne.map(I=>a.jsx("button",{onClick:()=>b(I.value),className:ue("rounded-md border px-2 py-1 text-[11px] font-semibold transition-colors",h===I.value?"border-blue-200 bg-blue-50 text-blue-700":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:I.label},I.value))})]}),a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-2",children:[a.jsx("span",{className:"text-[10px] text-gray-500",children:"   ."}),a.jsx("button",{type:"button",onClick:L,className:"text-[11px] font-semibold text-blue-600 hover:text-blue-700",children:"  "})]})]})})]}),s==="Stage 1"&&a.jsx("span",{className:"text-[10px] text-gray-500",children:" //   "}),a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:"inline-flex h-7 w-7 cursor-help items-center justify-center rounded-lg border border-blue-100 bg-blue-50 text-blue-700 shadow-sm transition-colors hover:bg-blue-100",children:a.jsx($f,{size:13})}),a.jsxs("div",{className:"pointer-events-none invisible absolute left-0 top-full z-30 mt-2 w-[320px] rounded-lg border border-blue-100 bg-white p-3 opacity-0 shadow-xl transition-all duration-150 group-hover:visible group-hover:opacity-100",children:[a.jsx("p",{className:"text-[11px] font-bold text-blue-800",children:" "}),a.jsx("p",{className:"mt-1 text-xs text-gray-800",children:C.operationQuestion}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:C.operationHint})]})]}),a.jsxs("div",{className:"ml-auto flex w-full md:w-[280px] items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-1.5",children:[a.jsx(_0,{size:14,className:"text-gray-400"}),a.jsx("input",{value:o,onChange:I=>l(I.target.value),placeholder:"/ID///  ",className:"w-full bg-transparent text-xs text-gray-700 outline-none placeholder:text-gray-400"})]}),G&&a.jsx("button",{onClick:M,className:"text-[11px] font-semibold text-blue-600 hover:text-blue-700",children:" "})]})]}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[s==="Stage 1"&&a.jsxs(a.Fragment,{children:[a.jsx("thead",{className:"sticky top-0 bg-white z-20 shadow-sm",children:a.jsxs("tr",{className:"bg-gray-50/80 text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:[a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:""}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "})]})}),a.jsxs("tbody",{className:"text-sm",children:[K.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-16 text-center text-xs text-gray-400",children:"   ."})}),K.map(I=>a.jsxs("tr",{"data-case-id":I.caseId,className:ue("cursor-pointer transition-colors border-b border-gray-50 last:border-0",w===I.caseId?"bg-blue-50/60":"hover:bg-gray-50/70"),onClick:()=>e(I.caseId,I.stage),onMouseEnter:()=>J(I.caseId,30),onMouseLeave:()=>ee(150),children:[a.jsxs("td",{className:"px-4 py-3.5",children:[a.jsx("p",{className:"font-mono font-medium text-gray-900",children:I.caseId}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",I.manager]})]}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsxs("div",{className:"group relative inline-flex flex-col",children:[a.jsx("span",{className:ue("inline-flex w-fit rounded border px-2 py-0.5 text-[10px] font-semibold",KNe(I.ownerType)),children:FC(I.ownerType)}),a.jsx("p",{className:"mt-1 text-[10px] text-gray-500",children:I.ownerName??" "}),a.jsx("div",{className:"pointer-events-none invisible absolute left-0 top-[calc(100%+6px)] z-20 w-56 rounded-lg border border-gray-200 bg-white p-2 text-[11px] text-gray-700 opacity-0 shadow-xl transition-all duration-150 group-hover:visible group-hover:opacity-100",children:I.ownerReason})]})}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsxs("div",{className:"group relative inline-flex flex-col",children:[a.jsxs("span",{className:ue("inline-flex w-fit rounded border px-2 py-0.5 text-[10px] font-semibold",GNe(I.priorityTier)),children:[I.priorityTier,"  ",A6(I.priorityTier)]}),a.jsxs("p",{className:"mt-1 text-[10px] text-gray-500",children:[zNe(I.priorityTier),"   ",I.priorityScore]}),a.jsxs("div",{className:"pointer-events-none invisible absolute left-0 top-[calc(100%+6px)] z-20 w-60 rounded-lg border border-gray-200 bg-white p-2 text-[11px] text-gray-700 opacity-0 shadow-xl transition-all duration-150 group-hover:visible group-hover:opacity-100",children:[a.jsx("p",{className:"font-semibold text-gray-800",children:"  "}),qNe(I).map(Y=>a.jsxs("p",{className:"mt-1",children:[" ",Y.label," ",Y.contribution.toFixed(1),""]},`${I.caseId}-${Y.key}`))]})]})}),a.jsxs("td",{className:"px-4 py-3.5",children:[a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",QNe(I.contactStatus)),children:I.contactStatus}),I.slaHint?a.jsxs("p",{className:"mt-1 text-[10px] text-gray-500",children:["SLA  : ",I.slaHint]}):null]}),a.jsx("td",{className:"px-4 py-3.5 text-xs text-gray-700",children:I.lastContactAttemptAt}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",ZNe(I.channel)),children:I.channel})}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",JNe(I.nextAction)),children:I.nextAction})})]},I.caseId))]})]}),s==="Stage 2"&&a.jsxs(a.Fragment,{children:[a.jsx("thead",{className:"sticky top-0 bg-white z-20 shadow-sm",children:a.jsxs("tr",{className:"bg-gray-50/80 text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:[a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "})]})}),a.jsxs("tbody",{className:"text-sm",children:[K.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-16 text-center text-xs text-gray-400",children:"   ."})}),K.map(I=>a.jsxs("tr",{"data-case-id":I.caseId,className:ue("cursor-pointer transition-colors border-b border-gray-50 last:border-0",w===I.caseId?"bg-blue-50/60":"hover:bg-gray-50/70"),onClick:()=>e(I.caseId,I.stage),onMouseEnter:()=>J(I.caseId,30),onMouseLeave:()=>ee(150),children:[a.jsxs("td",{className:"px-4 py-3.5",children:[a.jsx("p",{className:"font-medium text-gray-900",children:I.source.profile.name}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",I.manager]})]}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",e2e(I.classification)),children:I.classification})}),a.jsx("td",{className:"px-4 py-3.5 text-xs text-gray-700",children:I.rationale}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",t2e(I.confirmation)),children:I.confirmation})}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",r2e(I.nextPath)),children:I.nextPath})})]},I.caseId))]})]}),s==="Stage 3"&&a.jsxs(a.Fragment,{children:[a.jsx("thead",{className:"sticky top-0 bg-white z-20 shadow-sm",children:a.jsxs("tr",{className:"bg-gray-50/80 text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:[a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:"  "}),a.jsx("th",{className:"px-4 py-3 border-b border-gray-100",children:" "})]})}),a.jsxs("tbody",{className:"text-sm",children:[K.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-16 text-center text-xs text-gray-400",children:"   ."})}),K.map(I=>a.jsxs("tr",{"data-case-id":I.caseId,className:ue("cursor-pointer transition-colors border-b border-gray-50 last:border-0",w===I.caseId?"bg-blue-50/60":"hover:bg-gray-50/70"),onClick:()=>e(I.caseId,I.stage),onMouseEnter:()=>J(I.caseId,30),onMouseLeave:()=>ee(150),children:[a.jsxs("td",{className:"px-4 py-3.5",children:[a.jsx("p",{className:"font-medium text-gray-900",children:I.source.profile.name}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",I.manager]})]}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",n2e(I.trackingStatus)),children:I.trackingStatus})}),a.jsx("td",{className:"px-4 py-3.5 text-xs text-gray-700",children:I.recentEvent}),a.jsx("td",{className:"px-4 py-3.5 text-xs font-semibold text-gray-700",children:I.nextEvalDate}),a.jsx("td",{className:"px-4 py-3.5",children:a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",a2e(I.intensity)),children:I.intensity})})]},I.caseId))]})]})]}),$&&a.jsxs("div",{className:"fixed z-50 w-64 rounded-xl border border-gray-200 bg-white p-4 shadow-2xl",style:{top:(()=>{const I=document.querySelector(`tr[data-case-id="${$.caseId}"]`);if(!I)return 180;const Y=I.getBoundingClientRect(),ae=250,le=Y.top+Y.height/2-ae/2;return Math.max(80,Math.min(le,window.innerHeight-ae-20))})(),right:24},onMouseEnter:()=>B(),onMouseLeave:()=>ee(120),children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wide text-gray-400",children:" "}),a.jsx("p",{className:ue("mt-0.5 text-sm font-bold text-blue-700",$.kind==="Stage 1"?"font-mono":"font-sans"),children:$.kind==="Stage 1"?$.caseId:$.source.profile.name}),a.jsxs("p",{className:"mt-0.5 text-[11px] text-gray-500",children:[" ",$.manager]})]}),a.jsxs("div",{className:"mb-3 rounded-lg border border-gray-100 bg-gray-50 p-2 text-[11px] text-gray-700",children:[$.kind==="Stage 1"&&a.jsxs("p",{children:[FC($.ownerType),"  ",$.priorityTier," ",A6($.priorityTier),"(",$.priorityScore,")   ",$.contactStatus,"   ",$.nextAction]}),$.kind==="Stage 2"&&a.jsxs("p",{children:[" ",$.classification,"  ",$.confirmation,"   ",$.nextPath]}),$.kind==="Stage 3"&&a.jsxs("p",{children:[" ",$.trackingStatus,"   ",$.intensity,"   ",$.nextEvalDate]})]}),a.jsx("div",{className:"mb-3 grid grid-cols-2 gap-1.5",children:C.quickActions($).map(I=>a.jsxs("button",{onClick:Y=>Y.stopPropagation(),disabled:I.disabled,className:ue("inline-flex items-center gap-1 rounded-lg border px-2 py-2 text-[11px] font-semibold",I.tone,I.disabled?"cursor-not-allowed opacity-70":"cursor-pointer"),children:[a.jsx(I.icon,{size:12}),I.label]},`${$.caseId}-${I.key}`))}),a.jsx("button",{className:"w-full rounded-lg bg-blue-600 py-2 text-[11px] font-bold text-white hover:bg-blue-700",onClick:()=>e($.caseId,$.stage),children:" "})]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 text-[10px] text-gray-500 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("span",{children:[s,"  : 1 - ",K.length," of ",Xx.filter(I=>I.stage===s).length]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"italic",children:"Stage  ///  ."}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx(Gn,{size:10}),"   "]})]})]})]})})]})}function tr(e){let t=0;for(let r=0;r<e.length;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return(t>>>0)%1e4/1e4}function Yu(e,t){return e[Math.floor(tr(t)*e.length)]}function Fa(e,t,r){return new Date(e,t-1,1+r).toISOString().split("T")[0]}const d2e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],u2e=["","","",""],f2e=["MRI","PET","BLOOD","ETC"],p2e=["CENTER_SCREEN","PUBLIC_HEALTH","HOSPITAL_REFERRAL"],m2e=["  ,  ","    ","1   ,  ","MMSE   ","   ","  ,  ","  ,  ","    "],h2e=[" "," "," ",""," "," ","",""];function g2e(e,t){const r=[],n=Fa(2026,1,Math.floor(tr(`${t}-reg`)*20)+5);if(r.push(` : ${n}`),e.smsHistory.length>0&&e.smsHistory.forEach((s,i)=>{r.push(` (${s.templateId}): ${s.sentAt}  ${s.result==="SUCCESS"?"":""}`)}),e.contactStatus==="REACHED"){const s=Fa(2026,1,Math.floor(tr(`${t}-cont`)*25)+10);r.push(` : ${s} ${String(9+Math.floor(tr(`${t}-ch`)*8)).padStart(2,"0")}:${String(Math.floor(tr(`${t}-cm`)*60)).padStart(2,"0")}`)}if(e.consultStatus==="IN_PROGRESS"?r.push(` : ${Fa(2026,1,Math.floor(tr(`${t}-cip`)*25)+15)} (1)`):e.consultStatus==="DONE"&&r.push(` : ${Fa(2026,1,Math.floor(tr(`${t}-cd`)*20)+18)} (1)`),e.reservation){const s=e.reservation.type==="CENTER_SCREEN"?" ":e.reservation.type==="PUBLIC_HEALTH"?" ":" ";r.push(` : ${e.reservation.date} ${e.reservation.time} ${s} / : ${e.reservation.reasonText.slice(0,20)}`)}return e.secondExamStatus==="SCHEDULED"?r.push(`2  : ${Fa(2026,2,Math.floor(tr(`${t}-se`)*20)+5)} (${e.secondExamType||"MRI"})`):e.secondExamStatus==="DONE"?r.push(`2  : ${Fa(2026,2,Math.floor(tr(`${t}-sed`)*15)+1)}`):e.secondExamStatus==="RESULT_CONFIRMED"&&(r.push(`2  : ${Fa(2026,1,Math.floor(tr(`${t}-sedc`)*15)+20)}`),r.push(`2    : ${Fa(2026,2,Math.floor(tr(`${t}-serc`)*10)+1)}`)),tr(`${t}-churn`)<.12&&(r.push("  (3):    "),r.push(`   1: ${Fa(2026,1,Math.floor(tr(`${t}-ns`)*20)+10)}`)),r}function x2e(){return d2e.map((e,t)=>{const r=`CASE-2026-${String(t+1).padStart(3,"0")}`,n=`${r}-seed`,s=tr(n),i=s<.25?"high":s<.7?"medium":"low",o=tr(`${n}-cs`)<.28?"UNREACHED":"REACHED";let l="NOT_STARTED";if(o==="REACHED"){const A=tr(`${n}-cons`);l=A<.15?"NOT_STARTED":A<.45?"IN_PROGRESS":"DONE"}let d="not_contacted";o==="REACHED"&&(l==="DONE"?d=tr(`${n}-apt`)<.55?"appointment_scheduled":"consultation_complete":d="contacted");let u="NONE";const m=tr(`${n}-se`);l==="DONE"?u=m<.35?"NONE":m<.6?"SCHEDULED":m<.82?"DONE":"RESULT_CONFIRMED":l==="IN_PROGRESS"&&m>.85&&(u="SCHEDULED");const p=u!=="NONE"?Yu(f2e,`${n}-set`):void 0;let h=null;tr(`${n}-res`)<.35&&o==="REACHED"&&(h={type:Yu(p2e,`${n}-rt`),date:Fa(2026,2,Math.floor(tr(`${n}-rd`)*25)+3),time:`${String(9+Math.floor(tr(`${n}-rh`)*8)).padStart(2,"0")}:${tr(`${n}-rm`)<.5?"00":"30"}`,reasonText:Yu(m2e,`${n}-rr`),locationText:Yu(h2e,`${n}-rl`)});const b=[],v=Math.floor(tr(`${n}-sms`)*4);for(let A=0;A<v;A++){const C=Yu([" "," ","  ","  "],`${n}-sms-${A}`);b.push({sentAt:`${Fa(2026,1,Math.floor(tr(`${n}-smsd-${A}`)*30)+1)} ${String(9+Math.floor(tr(`${n}-smsh-${A}`)*9)).padStart(2,"0")}:${String(Math.floor(tr(`${n}-smsm-${A}`)*60)).padStart(2,"0")}`,templateId:C,previewText:`[] ${C}  .`,to:`010-****-${String(1e3+t*100+A).slice(-4)}`,result:tr(`${n}-smsr-${A}`)<.85?"SUCCESS":"FAIL"})}const N=60+Math.floor(tr(`${n}-age`)*25),y=tr(`${n}-gen`)<.55?"":"",S=o==="REACHED"?Fa(2026,1,Math.floor(tr(`${n}-lc`)*30)+1):null,_=g2e({contactStatus:o,consultStatus:l,secondExamStatus:u,secondExamType:p,reservation:h,smsHistory:b},n);return{id:r,patientName:e,age:N,gender:y,riskLevel:i,riskScore:i==="high"?65+Math.floor(tr(`${n}-rs`)*30):i==="medium"?35+Math.floor(tr(`${n}-rs`)*30):5+Math.floor(tr(`${n}-rs`)*30),lastContact:S,status:d,counselor:Yu(u2e,`${n}-coun`),isFavorite:tr(`${n}-fav`)<.15,phone:`010-${String(1e3+Math.floor(tr(`${n}-p1`)*9e3)).padStart(4,"0")}-${String(1e3+Math.floor(tr(`${n}-p2`)*9e3)).padStart(4,"0")}`,registeredDate:Fa(2026,1,Math.floor(tr(`${n}-reg`)*20)+1),secondExamStatus:u,secondExamType:p,contactStatus:o,consultStatus:l,reservation:h,autoMemo:{lastUpdatedAt:_.length>0?Fa(2026,2,Math.floor(tr(`${n}-mu`)*5)+1):Fa(2026,1,15),lines:_},smsHistory:b,guardianPhone:tr(`${n}-gp`)<.3?`010-${String(2e3+Math.floor(tr(`${n}-gp1`)*8e3)).padStart(4,"0")}-${String(1e3+Math.floor(tr(`${n}-gp2`)*9e3)).padStart(4,"0")}`:void 0}})}function b2e(e){const t=[];let r=0;return e.forEach(n=>{if(!n.reservation)return;r++;const s=n.reservation.type==="CENTER_SCREEN"?" ":n.reservation.type==="PUBLIC_HEALTH"?" ":" ";t.push({id:`APT-${String(r).padStart(3,"0")}`,caseId:n.id,patientName:n.patientName,patientAge:n.age,date:n.reservation.date,time:n.reservation.time,type:s,reservationType:n.reservation.type,reasonText:n.reservation.reasonText,status:tr(`${n.id}-aptst`)<.3?"confirmed":tr(`${n.id}-aptst`)<.55?"reminder_sent":tr(`${n.id}-aptst`)<.75?"pending":"completed",riskLevel:n.riskLevel,counselor:n.counselor,phone:n.phone,reminderSent:tr(`${n.id}-rem`)<.6,notes:n.reservation.reasonText,caseContactStatus:n.contactStatus,caseConsultStatus:n.consultStatus,caseSecondExamStatus:n.secondExamStatus,autoMemoRecent:n.autoMemo.lines.slice(-3)})}),e.forEach(n=>{n.secondExamStatus==="SCHEDULED"&&(r++,t.push({id:`APT-${String(r).padStart(3,"0")}`,caseId:n.id,patientName:n.patientName,patientAge:n.age,date:Fa(2026,2,Math.floor(tr(`${n.id}-se-apt`)*20)+5),time:`${String(9+Math.floor(tr(`${n.id}-se-h`)*8)).padStart(2,"0")}:00`,type:`2  (${n.secondExamType||"MRI"})`,status:"confirmed",riskLevel:n.riskLevel,counselor:n.counselor,phone:n.phone,reminderSent:!1,notes:`2  (${n.secondExamType}) `,caseContactStatus:n.contactStatus,caseConsultStatus:n.consultStatus,caseSecondExamStatus:n.secondExamStatus,autoMemoRecent:n.autoMemo.lines.slice(-3)}))}),t}const TE={NONE:"",SCHEDULED:"",DONE:"",RESULT_CONFIRMED:""},kE={UNREACHED:"",REACHED:""},OE={NOT_STARTED:"",IN_PROGRESS:"",DONE:""},RE={CENTER_SCREEN:" ",PUBLIC_HEALTH:" ",HOSPITAL_REFERRAL:" "};function _6(e){return e.replace(/(\d{3})-(\d{4})-(\d{4})/,"$1-****-$3")}function Ao(e){return String(e).padStart(2,"0")}function $c(e){return`${e.getFullYear()}-${Ao(e.getMonth()+1)}-${Ao(e.getDate())}`}function yx(e){const[t,r,n]=e.split("-").map(Number);return new Date(t,(r||1)-1,n||1)}function Qx(e,t){const r=new Date(e);return r.setDate(e.getDate()+t),r}function y2e(e,t){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return Math.round((n-r)/(1440*60*1e3))}function v2e(e){return e==="pending"?"":e==="completed"?"":e==="cancelled"?"":""}function N2e(e){return e.includes("2 ")?"":e.includes("")?"":e.includes("")?"":e.includes("")?"":""}function PE(e,t){return t===""||e==="high"?"":e==="medium"?"":""}function C6(e){return e===""?{icon:as,chip:"bg-blue-500 text-white"}:e===""?{icon:Wi,chip:"bg-emerald-500 text-white"}:e===""?{icon:_p,chip:"bg-violet-500 text-white"}:e===""?{icon:OX,chip:"bg-indigo-600 text-white"}:{icon:sa,chip:"bg-cyan-600 text-white"}}function T6(e){return e===""?"text-red-700 bg-red-50 border-red-100":e===""?"text-amber-700 bg-amber-50 border-amber-100":e===""?"text-gray-600 bg-gray-50 border-gray-200":e===""?"text-slate-600 bg-slate-100 border-slate-200":"text-emerald-700 bg-emerald-50 border-emerald-100"}function k6(e){return e===""?"text-red-700 bg-red-50 border-red-100":e===""?"text-orange-700 bg-orange-50 border-orange-100":"text-blue-700 bg-blue-50 border-blue-100"}function DE(e){return e==="high"?{label:"",tone:"text-red-700 bg-red-50 border-red-100"}:e==="medium"?{label:"",tone:"text-amber-700 bg-amber-50 border-amber-100"}:{label:"",tone:"text-emerald-700 bg-emerald-50 border-emerald-100"}}function O6(e){return{title:"",caseId:"",patientName:"",patientAge:"70",date:e,time:"09:00",durationMinutes:"30",type:"",status:"",priority:"",riskLevel:"medium",assignee:"",location:"",reservationType:"",contactStatus:"",consultStatus:"",secondExamStatus:"",phone:"",guardianPhone:"",reminderSent:!1,reminderChannel:"SMS",followUpRequired:!1,reasonText:"",notes:""}}function S2e(e){return{title:e.title,caseId:e.caseId,patientName:e.patientName,patientAge:String(e.patientAge||70),date:e.date,time:e.time,durationMinutes:String(e.durationMinutes||30),type:e.type,status:e.status,priority:e.priority,riskLevel:e.riskLevel,assignee:e.assignee,location:e.location??"",reservationType:e.reservationType??"",contactStatus:e.contactStatus??"",consultStatus:e.consultStatus??"",secondExamStatus:e.secondExamStatus??"",phone:e.phone??"",guardianPhone:e.guardianPhone??"",reminderSent:e.reminderSent,reminderChannel:e.reminderChannel,followUpRequired:e.followUpRequired,reasonText:e.reasonText??"",notes:e.notes??""}}function j2e(e){const t=x2e(),r=b2e(t).slice(0,24),n=new Map(t.map(l=>[l.id,l])),s=r.map((l,d)=>{const u=v2e(l.status),m=N2e(l.type),p=$c(Qx(e,d%17-6)),h=d%2===0?"00":"30",b=n.get(l.caseId);return{id:`SCH-APT-${Ao(d+1)}`,caseId:l.caseId,patientName:l.patientName,patientAge:l.patientAge||0,date:p,time:l.time||`${Ao(9+d%8)}:${h}`,durationMinutes:m===""?60:30,type:m,status:u,priority:PE(l.riskLevel,u),riskLevel:l.riskLevel,title:l.type,assignee:l.counselor,location:b?.reservation?.locationText,reservationType:l.reservationType,contactStatus:l.caseContactStatus,consultStatus:l.caseConsultStatus,secondExamStatus:l.caseSecondExamStatus,phone:l.phone,guardianPhone:b?.guardianPhone,reminderSent:l.status==="reminder_sent"||!!l.reminderSent,reminderChannel:"SMS",followUpRequired:u===""||l.riskLevel==="high",reasonText:l.reasonText,notes:l.notes,autoMemoRecent:l.autoMemoRecent}}),i=t.filter(l=>l.contactStatus==="UNREACHED").slice(0,8).map((l,d)=>{const u=d%4===0?"":d%3===0?"":"";return{id:`SCH-CALL-${Ao(d+1)}`,caseId:l.id,patientName:l.patientName,patientAge:l.age,date:$c(Qx(e,d%9-2)),time:`${Ao(10+d%6)}:${d%2===0?"00":"30"}`,durationMinutes:20,type:"",status:u,priority:PE(l.riskLevel,u),riskLevel:l.riskLevel,title:"  ",assignee:l.counselor,contactStatus:l.contactStatus,consultStatus:l.consultStatus,secondExamStatus:l.secondExamStatus,phone:l.phone,guardianPhone:l.guardianPhone,reminderSent:!1,reminderChannel:"",followUpRequired:!0,reasonText:"    ",notes:"3      ",autoMemoRecent:l.autoMemo.lines.slice(-3)}}),o=t.filter(l=>l.consultStatus!=="NOT_STARTED").slice(0,8).map((l,d)=>{const u=d%2===0,m=d%5===0?"":"";return{id:`SCH-SVC-${Ao(d+1)}`,caseId:l.id,patientName:l.patientName,patientAge:l.age,date:$c(Qx(e,d+1)),time:`${Ao(9+d%7)}:${d%3===0?"00":"30"}`,durationMinutes:u?50:40,type:u?"":"",status:m,priority:PE(l.riskLevel,m),riskLevel:l.riskLevel,title:u?"  ":"   ",assignee:l.counselor,location:u?l.reservation?.locationText??"    ":" /",reservationType:l.reservation?.type,contactStatus:l.contactStatus,consultStatus:l.consultStatus,secondExamStatus:l.secondExamStatus,phone:l.phone,guardianPhone:l.guardianPhone,reminderSent:d%3===0,reminderChannel:u?"":"SMS",followUpRequired:l.secondExamStatus==="SCHEDULED"||m==="",reasonText:l.reservation?.reasonText??"   ",notes:l.autoMemo.lines.slice(-2).join(" / "),autoMemoRecent:l.autoMemo.lines.slice(-3)}});return[...s,...i,...o].sort((l,d)=>`${l.date} ${l.time}`.localeCompare(`${d.date} ${d.time}`))}function w2e(){const[e,t]=g.useState("month"),[r,n]=g.useState(()=>{const V=new Date;return new Date(V.getFullYear(),V.getMonth(),1)}),[s,i]=g.useState(()=>$c(new Date)),[o,l]=g.useState(!1),[d,u]=g.useState(null),[m,p]=g.useState(!1),[h,b]=g.useState("create"),[v,N]=g.useState(null),[y,S]=g.useState(()=>O6($c(new Date))),[w,_]=g.useState(""),[A,E]=g.useState(""),[C,O]=g.useState(""),[D,R]=g.useState(""),K=new Date,H=$c(K),[$,U]=g.useState(()=>j2e(K)),P=g.useMemo(()=>$.find(V=>V.id===d)??null,[$,d]),G=g.useMemo(()=>Array.from(new Set($.map(V=>V.assignee))).sort((V,de)=>V.localeCompare(de,"ko")),[$]),L=g.useMemo(()=>{const V=w.trim().toLowerCase();return $.filter(de=>A!==""&&de.status!==A||C!==""&&de.type!==C||D!==""&&de.assignee!==D?!1:V?[de.caseId,de.patientName,de.title,de.assignee,de.location,de.reasonText].filter(Boolean).join(" ").toLowerCase().includes(V):!0)},[$,w,A,C,D]),M=g.useMemo(()=>{const V=r.getFullYear(),de=r.getMonth(),Ae=new Date(V,de,1).getDay(),ce=new Date(V,de+1,0).getDate(),ye=[];for(let Ie=0;Ie<Ae;Ie+=1)ye.push(null);for(let Ie=1;Ie<=ce;Ie+=1)ye.push(Ie);for(;ye.length%7!==0;)ye.push(null);return ye},[r]),B=g.useMemo(()=>{const V=new Map;for(const de of L){const Ae=V.get(de.date)??[];Ae.push(de),V.set(de.date,Ae)}for(const de of V.values())de.sort((Ae,ce)=>Ae.time.localeCompare(ce.time));return V},[L]),J=g.useMemo(()=>L.filter(V=>{if(V.status!==""&&V.status!==""||V.reminderSent)return!1;const de=y2e(K,yx(V.date));return de>=0&&de<=3}),[L,K]),ee=L.filter(V=>V.status===""),I=L.filter(V=>V.riskLevel==="high"),Y=B.get(H)??[],ae=B.get(s)??[],le=g.useMemo(()=>{if(e==="month")return[];if(e==="day")return[s];const V=yx(s),de=new Date(V);return de.setDate(V.getDate()-V.getDay()),Array.from({length:7}).map((Ae,ce)=>$c(Qx(de,ce)))},[e,s]),he=`${r.getFullYear()} ${r.getMonth()+1}`,X=V=>{n(de=>new Date(de.getFullYear(),de.getMonth()+V,1))},ne=()=>{_(""),E(""),O(""),R("")},ve=()=>{b("create"),N(null),S(O6(s)),p(!0)},pe=V=>{u(V),l(!0)},Ce=()=>{P&&(b("edit"),N(P.id),S(S2e(P)),l(!1),p(!0))},ge=(V,de)=>{S(Ae=>({...Ae,[V]:de}))},se=()=>{if(!y.title.trim()||!y.caseId.trim()||!y.patientName.trim()||!y.date||!y.time||!y.assignee.trim()){window.alert(" (,  ID, , , , ) .");return}const V=Number(y.patientAge),de=Number(y.durationMinutes),Ae=y.notes.trim(),ce=h==="create"?`SCH-${Date.now()}`:v??`SCH-${Date.now()}`,ye={id:ce,caseId:y.caseId.trim(),patientName:y.patientName.trim(),patientAge:Number.isFinite(V)&&V>0?Math.round(V):0,date:y.date,time:y.time,durationMinutes:Number.isFinite(de)&&de>0?Math.round(de):30,type:y.type,status:y.status,priority:y.priority,riskLevel:y.riskLevel,title:y.title.trim(),assignee:y.assignee.trim(),location:y.location.trim()||void 0,reservationType:y.reservationType||void 0,contactStatus:y.contactStatus||void 0,consultStatus:y.consultStatus||void 0,secondExamStatus:y.secondExamStatus||void 0,phone:y.phone.trim()||void 0,guardianPhone:y.guardianPhone.trim()||void 0,reminderSent:y.reminderSent,reminderChannel:y.reminderChannel,followUpRequired:y.followUpRequired,reasonText:y.reasonText.trim()||void 0,notes:Ae||void 0,autoMemoRecent:Ae?Ae.split(`
`).map(Ct=>Ct.trim()).filter(Boolean).slice(0,3).map(Ct=>`: ${Ct}`):void 0};h==="create"?U(Ct=>[ye,...Ct]):(U(Ct=>Ct.map(Dt=>Dt.id===ce?ye:Dt)),u(ce),l(!0));const Ie=yx(ye.date);i(ye.date),n(new Date(Ie.getFullYear(),Ie.getMonth(),1)),p(!1),N(null)},Ze=()=>{!P||!window.confirm("  ?")||(U(de=>de.filter(Ae=>Ae.id!==P.id)),u(null),l(!1))};return a.jsxs("div",{className:"space-y-5",children:[J.length>0&&a.jsx("section",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(EV,{size:16,className:"text-amber-700"}),a.jsxs("p",{className:"text-sm font-semibold text-amber-900",children:["   ",J.length,""]})]}),a.jsx("span",{className:"rounded-md border border-amber-300 bg-white px-2.5 py-1 text-[11px] font-semibold text-amber-800",children:"3  / "})]})}),a.jsxs("section",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-[11px] font-semibold text-gray-500",children:"  "}),a.jsx("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:L.length}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[" ",$.length," "]})]}),a.jsxs("div",{className:"rounded-xl border border-blue-200 bg-blue-50 p-4",children:[a.jsx("p",{className:"text-[11px] font-semibold text-blue-700",children:" "}),a.jsx("p",{className:"mt-1 text-2xl font-bold text-blue-900",children:Y.length}),a.jsx("p",{className:"mt-1 text-[11px] text-blue-700",children:"   "})]}),a.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4",children:[a.jsx("p",{className:"text-[11px] font-semibold text-red-700",children:" "}),a.jsx("p",{className:"mt-1 text-2xl font-bold text-red-900",children:ee.length}),a.jsx("p",{className:"mt-1 text-[11px] text-red-700",children:"SLA  "})]}),a.jsxs("div",{className:"rounded-xl border border-orange-200 bg-orange-50 p-4",children:[a.jsx("p",{className:"text-[11px] font-semibold text-orange-700",children:" "}),a.jsx("p",{className:"mt-1 text-2xl font-bold text-orange-900",children:I.length}),a.jsx("p",{className:"mt-1 text-[11px] text-orange-700",children:"  "})]})]}),a.jsx("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[a.jsxs("div",{className:"min-w-[220px] flex-1",children:[a.jsx(At,{className:"text-xs text-gray-600",children:""}),a.jsxs("div",{className:"relative mt-1.5",children:[a.jsx(_0,{size:14,className:"pointer-events-none absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx(Cr,{value:w,onChange:V=>_(V.target.value),className:"pl-8",placeholder:" ID, , , "})]})]}),a.jsxs("div",{className:"w-[150px]",children:[a.jsx(At,{className:"text-xs text-gray-600",children:""}),a.jsx("select",{value:A,onChange:V=>E(V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","","","","",""].map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsxs("div",{className:"w-[150px]",children:[a.jsx(At,{className:"text-xs text-gray-600",children:""}),a.jsx("select",{value:C,onChange:V=>O(V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","","","","",""].map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsxs("div",{className:"w-[150px]",children:[a.jsx(At,{className:"text-xs text-gray-600",children:""}),a.jsxs("select",{value:D,onChange:V=>R(V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:""}),G.map(V=>a.jsx("option",{value:V,children:V},V))]})]}),a.jsxs(dt,{variant:"outline",onClick:ne,className:"h-9",children:[a.jsx(Lf,{size:14,className:"mr-1"})," "]})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 xl:grid-cols-12",children:[a.jsxs("section",{className:"xl:col-span-8 rounded-xl border border-gray-200 bg-white shadow-sm",children:[a.jsx("header",{className:"border-b border-gray-100 px-4 py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:he}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>X(-1),className:"rounded border border-gray-200 p-1 text-gray-600 hover:bg-gray-50",children:a.jsx(Pf,{size:15})}),a.jsx("button",{onClick:()=>X(1),className:"rounded border border-gray-200 p-1 text-gray-600 hover:bg-gray-50",children:a.jsx(Hs,{size:15})})]}),a.jsx("button",{onClick:()=>{const V=new Date;n(new Date(V.getFullYear(),V.getMonth(),1)),i($c(V))},className:"text-xs font-semibold text-gray-500 hover:text-gray-800",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-1 text-[11px] font-semibold",children:["month","week","day"].map(V=>a.jsx("button",{onClick:()=>t(V),className:ue("rounded-md px-2.5 py-1",e===V?"bg-white text-gray-900 shadow-sm":"text-gray-500"),children:V==="month"?"":V==="week"?"":""},V))}),a.jsxs("button",{onClick:ve,className:"inline-flex items-center gap-1 rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white",children:[a.jsx(U8,{size:13})," "]})]})]})}),a.jsx("div",{className:"px-3 pb-3 pt-2",children:e==="month"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-7 border-b border-gray-100 pb-2 text-center text-[10px] font-bold uppercase tracking-wider text-gray-400",children:["","","","","","",""].map(V=>a.jsx("div",{children:V},V))}),a.jsx("div",{className:"grid grid-cols-7 gap-1 pt-2",children:M.map((V,de)=>{if(!V)return a.jsx("div",{className:"min-h-[92px] rounded-lg border border-transparent bg-gray-50/40"},`empty-${de}`);const Ae=`${r.getFullYear()}-${Ao(r.getMonth()+1)}-${Ao(V)}`,ce=B.get(Ae)??[],ye=Ae===H,Ie=Ae===s;return a.jsxs("button",{onClick:()=>i(Ae),className:ue("min-h-[92px] rounded-lg border p-2 text-left transition-colors",Ie?"border-blue-300 bg-blue-50":"border-gray-100 bg-white hover:border-gray-200 hover:bg-gray-50",ye&&!Ie?"border-emerald-300":""),children:[a.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[a.jsx("span",{className:ue("inline-flex h-5 w-5 items-center justify-center rounded-full text-[10px] font-bold",ye?"bg-emerald-500 text-white":"text-gray-600"),children:V}),a.jsx("span",{className:"text-[10px] text-gray-400",children:ce.length?`${ce.length}`:""})]}),a.jsxs("div",{className:"space-y-1",children:[ce.slice(0,3).map(Ct=>{const Dt=C6(Ct.type),ze=Dt.icon;return a.jsxs("button",{onClick:$e=>{$e.stopPropagation(),pe(Ct.id)},className:ue("flex w-full items-center gap-1 rounded px-1 py-0.5 text-[10px] font-semibold transition-opacity hover:opacity-90",Dt.chip,Ct.riskLevel==="high"?"ring-1 ring-red-300":""),children:[a.jsx(ze,{size:9}),a.jsxs("span",{className:"truncate",children:[Ct.time," ",Ct.patientName]})]},Ct.id)}),ce.length>3?a.jsxs("p",{className:"text-[10px] text-gray-500",children:["+",ce.length-3,""]}):null]})]},Ae)})}),a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2 border-t border-gray-100 pt-3 text-[11px] md:grid-cols-5",children:["","","","",""].map(V=>{const Ae=C6(V).icon;return a.jsxs("div",{className:"inline-flex items-center gap-1 rounded border border-gray-100 bg-gray-50 px-2 py-1 text-gray-600",children:[a.jsx(Ae,{size:11}),V]},V)})})]}):a.jsx("div",{className:"space-y-3 pt-2",children:le.map(V=>{const de=B.get(V)??[],Ae=yx(V).toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"});return a.jsxs("section",{className:"rounded-lg border border-gray-200",children:[a.jsxs("header",{className:"flex items-center justify-between border-b border-gray-100 px-3 py-2",children:[a.jsx("button",{onClick:()=>i(V),className:ue("text-sm font-semibold",V===s?"text-blue-700":"text-gray-800"),children:Ae}),a.jsxs("span",{className:"text-[11px] text-gray-500",children:[de.length,""]})]}),a.jsx("div",{className:"space-y-2 p-2",children:de.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:"  ."}):de.map(ce=>a.jsxs("button",{onClick:()=>pe(ce.id),className:"w-full rounded-md border border-gray-100 bg-white px-3 py-2 text-left text-xs transition-colors hover:border-blue-200 hover:bg-blue-50/30",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[ce.time,"  ",ce.title]}),a.jsx("span",{className:ue("rounded border px-1.5 py-0.5 text-[10px] font-semibold",T6(ce.status)),children:ce.status})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-600",children:[ce.caseId,"  ",ce.patientName,"   ",ce.assignee]})]},ce.id))})]},V)})})})]}),a.jsxs("aside",{className:"space-y-4 xl:col-span-4 xl:sticky xl:top-4 xl:self-start xl:max-h-[calc(100vh-132px)] xl:overflow-y-auto xl:pr-1",children:[a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-gray-900",children:[a.jsx(Ky,{size:14,className:"text-blue-600"})," "]}),a.jsx("div",{className:"mt-3 space-y-2",children:Y.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:"  ."}):Y.map(V=>a.jsxs("button",{onClick:()=>pe(V.id),className:"w-full rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-left text-xs transition-colors hover:border-blue-200 hover:bg-blue-50/40",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("p",{className:"font-semibold text-gray-800",children:[V.time,"  ",V.title]}),a.jsx("span",{className:ue("rounded border px-1.5 py-0.5 text-[10px] font-semibold",k6(V.priority)),children:V.priority})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[V.caseId,"  ",V.patientName]})]},V.id))})]}),a.jsxs("section",{className:"rounded-xl border border-red-200 bg-red-50 p-4",children:[a.jsxs("h3",{className:"flex items-center gap-2 text-sm font-bold text-red-800",children:[a.jsx(zn,{size:14})," "]}),a.jsx("div",{className:"mt-3 space-y-2",children:ee.length===0?a.jsx("p",{className:"rounded-md border border-red-100 bg-white px-3 py-2 text-xs text-red-700",children:"  ."}):ee.slice(0,8).map(V=>a.jsxs("button",{onClick:()=>pe(V.id),className:"w-full rounded-md border border-red-100 bg-white px-3 py-2 text-left text-xs transition-colors hover:border-red-200 hover:bg-red-50",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[V.caseId,"  ",V.patientName]}),a.jsx("p",{className:"mt-0.5 text-red-700",children:V.title}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[V.date," ",V.time]})]},V.id))})]}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:s}),a.jsx("div",{className:"mt-3 space-y-2",children:ae.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:"   ."}):ae.map(V=>{const de=DE(V.riskLevel);return a.jsxs("button",{onClick:()=>pe(V.id),className:"w-full rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-left text-xs transition-colors hover:border-gray-200 hover:bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[V.time,"  ",V.type]}),a.jsx("span",{className:ue("rounded border px-1.5 py-0.5 text-[10px] font-semibold",de.tone),children:de.label})]}),a.jsx("p",{className:"mt-1 text-gray-700",children:V.title}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[V.caseId,"   ",V.assignee]})]},V.id)})})]})]})]}),a.jsx(qd,{open:m,onOpenChange:p,children:a.jsxs(Wd,{className:"max-h-[85vh] max-w-3xl overflow-y-auto",children:[a.jsxs(db,{children:[a.jsx(ub,{children:h==="create"?" ":" "}),a.jsx(qA,{children:"v1         ."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(At,{children:" *"}),a.jsx(Cr,{value:y.title,onChange:V=>ge("title",V.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(At,{children:" ID *"}),a.jsx(Cr,{value:y.caseId,onChange:V=>ge("caseId",V.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(At,{children:" *"}),a.jsx(Cr,{value:y.patientName,onChange:V=>ge("patientName",V.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(At,{children:""}),a.jsx(Cr,{type:"number",min:0,value:y.patientAge,onChange:V=>ge("patientAge",V.target.value),className:"mt-1.5"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[a.jsxs("div",{children:[a.jsx(At,{children:" *"}),a.jsx(Cr,{type:"date",value:y.date,onChange:V=>ge("date",V.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(At,{children:" *"}),a.jsx(Cr,{type:"time",value:y.time,onChange:V=>ge("time",V.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(At,{children:"()"}),a.jsx(Cr,{type:"number",min:10,step:10,value:y.durationMinutes,onChange:V=>ge("durationMinutes",V.target.value),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(At,{children:" *"}),a.jsx(Cr,{value:y.assignee,onChange:V=>ge("assignee",V.target.value),className:"mt-1.5"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[a.jsxs("div",{children:[a.jsx(At,{children:" "}),a.jsx("select",{value:y.type,onChange:V=>ge("type",V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","","","",""].map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsxs("div",{children:[a.jsx(At,{children:""}),a.jsx("select",{value:y.status,onChange:V=>ge("status",V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","","","",""].map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsxs("div",{children:[a.jsx(At,{children:""}),a.jsx("select",{value:y.priority,onChange:V=>ge("priority",V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["","",""].map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsxs("div",{children:[a.jsx(At,{children:""}),a.jsxs("select",{value:y.riskLevel,onChange:V=>ge("riskLevel",V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"high",children:""}),a.jsx("option",{value:"medium",children:""}),a.jsx("option",{value:"low",children:""})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(At,{children:" (v1 )"}),a.jsxs("select",{value:y.reservationType,onChange:V=>ge("reservationType",V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:" "}),Object.keys(RE).map(V=>a.jsx("option",{value:V,children:RE[V]},V))]})]}),a.jsxs("div",{children:[a.jsx(At,{children:""}),a.jsx(Cr,{value:y.location,onChange:V=>ge("location",V.target.value),className:"mt-1.5"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(At,{children:""}),a.jsx(Cr,{value:y.phone,onChange:V=>ge("phone",V.target.value),className:"mt-1.5",placeholder:"010-1234-5678"})]}),a.jsxs("div",{children:[a.jsx(At,{children:" "}),a.jsx(Cr,{value:y.guardianPhone,onChange:V=>ge("guardianPhone",V.target.value),className:"mt-1.5",placeholder:"010-8765-4321"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx(At,{children:" (v1)"}),a.jsxs("select",{value:y.contactStatus,onChange:V=>ge("contactStatus",V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:" "}),Object.keys(kE).map(V=>a.jsx("option",{value:V,children:kE[V]},V))]})]}),a.jsxs("div",{children:[a.jsx(At,{children:" (v1)"}),a.jsxs("select",{value:y.consultStatus,onChange:V=>ge("consultStatus",V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:" "}),Object.keys(OE).map(V=>a.jsx("option",{value:V,children:OE[V]},V))]})]}),a.jsxs("div",{children:[a.jsx(At,{children:"2 (v1)"}),a.jsxs("select",{value:y.secondExamStatus,onChange:V=>ge("secondExamStatus",V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:[a.jsx("option",{value:"",children:" "}),Object.keys(TE).map(V=>a.jsx("option",{value:V,children:TE[V]},V))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(At,{children:" "}),a.jsx("select",{value:y.reminderChannel,onChange:V=>ge("reminderChannel",V.target.value),className:"mt-1.5 h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-blue-200",children:["SMS","",""].map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsxs("div",{className:"flex items-center gap-6 pt-7",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:y.reminderSent,onChange:V=>ge("reminderSent",V.target.checked),className:"h-4 w-4 rounded border-gray-300"}),"  "]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:y.followUpRequired,onChange:V=>ge("followUpRequired",V.target.checked),className:"h-4 w-4 rounded border-gray-300"})," "]})]})]}),a.jsxs("div",{children:[a.jsx(At,{children:"/ "}),a.jsx(Ki,{value:y.reasonText,onChange:V=>ge("reasonText",V.target.value),className:"mt-1.5",rows:2})]}),a.jsxs("div",{children:[a.jsx(At,{children:" "}),a.jsx(Ki,{value:y.notes,onChange:V=>ge("notes",V.target.value),className:"mt-1.5",rows:3})]})]}),a.jsxs(KA,{className:"gap-2 sm:gap-0",children:[a.jsx(dt,{variant:"outline",onClick:()=>p(!1),children:""}),a.jsx(dt,{onClick:se,children:h==="create"?"":" "})]})]})}),a.jsx(qd,{open:o,onOpenChange:l,children:a.jsxs(Wd,{className:"max-w-2xl",children:[a.jsxs(db,{children:[a.jsx(ub,{children:" "}),a.jsx(qA,{children:"    /"})]}),P?a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("p",{className:"text-base font-bold text-gray-900",children:P.title}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",T6(P.status)),children:P.status}),a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",k6(P.priority)),children:P.priority}),a.jsx("span",{className:ue("rounded border px-2 py-0.5 text-[10px] font-semibold",DE(P.riskLevel).tone),children:DE(P.riskLevel).label})]})]}),a.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:[P.caseId,"  ",P.patientName]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:" "}),a.jsxs("p",{className:"mt-1 font-semibold text-gray-900",children:[P.date," ",P.time," (",P.durationMinutes,")"]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:" "}),a.jsx("p",{className:"mt-1 font-semibold text-gray-900",children:P.type})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsxs("p",{className:"mt-1 flex items-center gap-1 font-semibold text-gray-900",children:[a.jsx(Vo,{size:13,className:"text-gray-400"}),P.assignee]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsxs("p",{className:"mt-1 font-semibold text-gray-900",children:[P.reminderChannel,"  ",P.reminderSent?" ":""]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"mt-1 font-semibold text-gray-900",children:P.phone?_6(P.phone):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:" "}),a.jsx("p",{className:"mt-1 font-semibold text-gray-900",children:P.guardianPhone?_6(P.guardianPhone):"-"})]})]}),P.location?a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:""}),a.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:P.location})]}):null,(P.contactStatus||P.consultStatus||P.secondExamStatus)&&a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsxs("p",{className:"mb-2 flex items-center gap-1 text-xs font-semibold text-slate-700",children:[a.jsx(G8,{size:13}),"  (v1 )"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-700",children:[P.contactStatus?a.jsxs("span",{children:[": ",a.jsx("strong",{children:kE[P.contactStatus]})]}):null,P.consultStatus?a.jsxs("span",{children:[": ",a.jsx("strong",{children:OE[P.consultStatus]})]}):null,P.secondExamStatus?a.jsxs("span",{children:["2: ",a.jsx("strong",{children:TE[P.secondExamStatus]})]}):null,P.reservationType?a.jsxs("span",{children:[": ",a.jsx("strong",{children:RE[P.reservationType]})]}):null]})]}),P.reasonText?a.jsxs("div",{className:"rounded-lg border border-purple-100 bg-purple-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"/ "}),a.jsx("p",{className:"mt-1 text-sm text-purple-900",children:P.reasonText})]}):null,P.autoMemoRecent&&P.autoMemoRecent.length>0?a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("p",{className:"mb-2 flex items-center gap-1 text-xs font-semibold text-gray-700",children:[a.jsx(wi,{size:13}),"  "]}),a.jsx("ul",{className:"space-y-1",children:P.autoMemoRecent.map((V,de)=>a.jsxs("li",{className:"text-xs text-gray-700",children:[" ",V]},`${V}-${de}`))})]}):null,P.notes?a.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-blue-700",children:""}),a.jsx("p",{className:"mt-1 text-sm text-blue-900",children:P.notes})]}):null,a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-white px-3 py-2",children:[a.jsx("span",{className:"text-xs text-gray-600",children:P.followUpRequired?"  .":"   ."}),a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-emerald-700",children:[a.jsx(ws,{size:13}),"  "]})]}),a.jsxs(KA,{className:"gap-2 sm:gap-0",children:[a.jsx(dt,{variant:"outline",onClick:()=>l(!1),children:""}),a.jsxs(dt,{variant:"outline",onClick:Ce,children:[a.jsx(sX,{size:14,className:"mr-1"}),""]}),a.jsxs(dt,{variant:"destructive",onClick:Ze,children:[a.jsx(DX,{size:14,className:"mr-1"}),""]})]})]}):null]})})]})}function E2e(){const e=[{name:"   ",type:"PDF",lastRun:"2026-02-01",status:""},{name:"Stage   ",type:"XLSX",lastRun:"2026-02-10",status:""},{name:"   ( )",type:"CSV",lastRun:"2026-02-11",status:""},{name:"  ",type:"PDF",lastRun:"2026-01-31",status:""}];return a.jsxs("div",{className:"space-y-6 pb-12",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2 flex items-center gap-2 text-xs font-semibold shadow-sm",children:[a.jsx(Lf,{size:14,className:"text-gray-400"}),": 2026-01-01 ~ 2026-01-31"]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2 flex items-center gap-2 text-xs font-semibold shadow-sm text-gray-400",children:": "})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-xs font-bold rounded-lg shadow-sm",children:[a.jsx(yf,{size:16}),"    "]})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsxs("div",{className:"col-span-8 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-5 border-b border-gray-100 flex items-center justify-between",children:a.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Zd,{size:18,className:"text-blue-600"})," "]})}),a.jsx("div",{className:"divide-y divide-gray-50",children:e.map((t,r)=>a.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center justify-between group cursor-pointer transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:ue("w-10 h-10 rounded-lg flex items-center justify-center",t.type==="PDF"?"bg-red-50 text-red-600":t.type==="XLSX"?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"),children:t.type==="PDF"?a.jsx(Zd,{size:20}):a.jsx(wY,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:t.name}),a.jsxs("p",{className:"text-[10px] text-gray-500",children:[" : ",t.lastRun," | ",a.jsx("span",{className:"text-blue-600 font-bold",children:t.status})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"px-3 py-1.5 border border-gray-200 rounded text-[10px] font-bold text-gray-600 hover:bg-white",children:""}),a.jsx("button",{className:"px-3 py-1.5 bg-gray-900 text-white rounded text-[10px] font-bold hover:bg-black",children:""})]})]},r))}),a.jsx("div",{className:"p-4 bg-gray-50 flex items-center justify-center border-t border-gray-100",children:a.jsxs("button",{className:"text-xs font-bold text-gray-500 hover:text-blue-600 flex items-center gap-1",children:["    ",a.jsx(Hs,{size:14})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center justify-between",children:["   ",a.jsx("span",{className:"text-[10px] text-emerald-600 font-bold",children:"   12% "})]}),a.jsx("div",{className:"h-64",children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(zd,{data:[{name:"",target:2,actual:1.2},{name:"",target:5,actual:4.5},{name:"",target:14,actual:15.4},{name:"",target:7,actual:5.2},{name:"",target:180,actual:192}],children:[a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1}),a.jsx($n,{dataKey:"name",fontSize:10,axisLine:!1,tickLine:!1}),a.jsx(_n,{fontSize:10,axisLine:!1,tickLine:!1}),a.jsx(qr,{}),a.jsx(Aa,{dataKey:"target",fill:"#e2e8f0",radius:[4,4,0,0],barSize:20}),a.jsx(Aa,{dataKey:"actual",fill:"#2563eb",radius:[4,4,0,0],barSize:20})]})})})]})]}),a.jsxs("div",{className:"col-span-4 space-y-6",children:[a.jsxs("div",{className:"bg-blue-600 text-white rounded-xl p-6 shadow-md",children:[a.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[a.jsx(q8,{size:18}),"  (AI )"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 bg-white/10 rounded-lg border border-white/10",children:[a.jsx("p",{className:"text-[10px] font-bold text-white/60 uppercase",children:" "}),a.jsx("p",{className:"text-sm font-medium mt-1",children:"2      15% , 3      ."})]}),a.jsxs("div",{className:"p-3 bg-white/10 rounded-lg border border-white/10",children:[a.jsx("p",{className:"text-[10px] font-bold text-white/60 uppercase",children:" "}),a.jsx("p",{className:"text-sm font-medium mt-1",children:"        8% .     ."})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsx("h3",{className:"font-bold text-gray-800 mb-4 text-sm",children:"  "}),a.jsx("div",{className:"space-y-4",children:[{label:"   ",value:"+4.2%",color:"text-emerald-600"},{label:" ",value:"92%",color:"text-blue-600"},{label:"  ",value:"115%",color:"text-red-600"}].map((t,r)=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50 last:border-0",children:[a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:t.label}),a.jsx("span",{className:ue("text-sm font-bold",t.color),children:t.value})]},r))})]})]})]}),a.jsx("div",{className:"p-3 bg-gray-50 text-[10px] text-gray-500 italic text-center rounded-lg border border-gray-200",children:"*  :      ,           ."})]})}function A2e(){const[e,t]=g.useState(""),r=[{title:"  ( )",id:"",icon:Fo,items:[{label:"   (Stage 1)",value:"3",type:"number",desc:"  2        "},{label:"SLA   (/)",value:"24",type:"number",desc:"   SLA   "},{label:"  ( )",value:"10%",type:"number",desc:"        "},{label:"   ()",value:"3",type:"number",desc:"    "}]},{title:"   ",id:"",icon:Ap,items:[{label:"   ",value:"On",type:"toggle"},{label:"    ",value:"On",type:"toggle"},{label:"   ",value:"Off",type:"toggle"},{label:"    ",value:"On",type:"toggle"}]}];return a.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-12",children:[a.jsx("div",{className:"flex gap-1 border-b border-gray-200",children:["","","/",""].map(n=>a.jsx("button",{onClick:()=>t(n),className:ue("px-6 py-3 text-sm font-bold border-b-2 transition-all",e===n?"border-blue-600 text-blue-600":"border-transparent text-gray-400 hover:text-gray-600"),children:n},n))}),a.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[a.jsx("div",{className:"col-span-8 space-y-8",children:r.map((n,s)=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-gray-100 flex items-center gap-3 bg-gray-50/50",children:[a.jsx(n.icon,{className:"text-blue-600",size:20}),a.jsx("h3",{className:"font-bold text-gray-800",children:n.title})]}),a.jsx("div",{className:"p-0",children:n.items.map((i,o)=>a.jsxs("div",{className:"p-5 flex items-start justify-between border-b border-gray-50 last:border-0 hover:bg-gray-50/50 transition-colors",children:[a.jsxs("div",{className:"max-w-[70%]",children:[a.jsx("p",{className:"text-sm font-bold text-gray-700",children:i.label}),a.jsx("p",{className:"text-[11px] text-gray-400 mt-0.5",children:i.desc})]}),a.jsx("div",{className:"flex flex-col items-end gap-2",children:i.type==="number"?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:i.value,readOnly:!0,className:"w-16 text-right px-2 py-1.5 bg-gray-100 border border-gray-200 rounded-lg text-xs font-bold text-blue-600"}),a.jsx("button",{className:"text-[10px] font-bold text-blue-600 hover:underline",children:""})]}):a.jsx("div",{className:ue("w-10 h-5 rounded-full relative cursor-pointer transition-colors shadow-inner",i.value==="On"?"bg-emerald-500":"bg-gray-200"),children:a.jsx("div",{className:ue("absolute top-0.5 w-4 h-4 bg-white rounded-full shadow-md transition-transform",i.value==="On"?"translate-x-5.5":"translate-x-0.5")})})})]},o))})]},s))}),a.jsxs("div",{className:"col-span-4 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2",children:[a.jsx(G8,{className:"text-orange-500",size:20}),"  "]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(zc,{size:14,className:"text-gray-400"}),a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "})]}),a.jsx("p",{className:"text-sm font-bold text-gray-900 leading-tight",children:",  (L2 )"}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsx("span",{className:"text-[9px] text-emerald-600 font-bold bg-emerald-50 px-1.5 py-0.5 rounded",children:"2FA "}),a.jsx("button",{className:"text-[10px] font-bold text-blue-600 hover:underline",children:" "})]})]}),a.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ql,{size:14,className:"text-gray-400"}),a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"   "})]}),a.jsx("p",{className:"text-sm font-bold text-gray-900",children:"  5 ( )"}),a.jsx("p",{className:"text-[9px] text-gray-400 mt-2",children:"  : 2026-12-31"})]})]})]}),a.jsxs("div",{className:"bg-blue-600 text-white rounded-2xl p-6 shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(Gn,{size:120})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[a.jsx(Gn,{className:"text-blue-400",size:20}),"  "]}),a.jsxs("div",{className:"space-y-4 text-xs leading-relaxed text-white/70",children:[a.jsx("p",{children:"  , ,    ID, IP ,      ."}),a.jsxs("div",{className:"p-3 bg-white/10 rounded-xl border border-white/10",children:[a.jsxs("p",{className:"text-[10px] font-bold text-blue-400 uppercase mb-1 flex items-center gap-1",children:[a.jsx(If,{size:10}),"   "]}),a.jsx("p",{className:"text-white/80",children:" (Stage 2)       ."})]}),a.jsx("p",{children:"        ."})]}),a.jsx("button",{className:"mt-6 w-full py-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl text-xs font-bold transition-all",children:"    "})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-xl flex items-center gap-4 shadow-sm",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center text-orange-600 shrink-0",children:a.jsx(zn,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"   "}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"     ,        . (  )"})]})]})]})}function _2e({activeTab:e,setActiveTab:t,userName:r,centerName:n,userRole:s,onLogout:i}){const[o,l]=g.useState(!0),d=[{id:"main",label:"  ",icon:A0},{id:"cases",label:" ",icon:Bo},{id:"calendar",label:"",icon:Wi},{id:"reports",label:"",icon:Rf},{id:"settings",label:"",icon:C0}];return a.jsxs("aside",{className:`${o?"w-64":"w-20"} bg-slate-800 border-r border-slate-700 text-white flex flex-col shrink-0 transition-all duration-300`,children:[a.jsx("div",{className:"h-16 flex items-center justify-between px-4 border-b border-slate-700",children:o?a.jsxs(a.Fragment,{children:[a.jsx(RT,{size:36,showText:!0,subtitle:" ",variant:"dark"}),a.jsx("button",{type:"button",onClick:()=>l(!1),className:"h-8 w-8 p-0 rounded-md inline-flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 shrink-0","aria-label":" ",children:a.jsx(ed,{className:"h-4 w-4"})})]}):a.jsx("button",{type:"button",onClick:()=>l(!0),className:"h-8 w-8 p-0 mx-auto rounded-md inline-flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700","aria-label":" ",children:a.jsx(CT,{className:"h-4 w-4"})})}),a.jsx("nav",{className:"flex-1 py-4 px-3 space-y-1",children:d.map(u=>a.jsxs("button",{onClick:()=>t(u.id),className:ue("w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors",e===u.id?"bg-blue-600 text-white shadow-sm":"text-slate-300 hover:bg-slate-700 hover:text-white"),title:o?void 0:u.label,children:[a.jsx(u.icon,{size:20,className:o?void 0:"mx-auto"}),o&&u.label]},u.id))}),a.jsxs("div",{className:"p-4 border-t border-slate-700",children:[o?a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 text-slate-700 flex items-center justify-center text-xs font-bold",children:r.slice(0,1)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate",children:r}),a.jsxs("p",{className:"text-[10px] text-slate-300 truncate",children:[n," / ",s==="center_manager"?"":""]})]})]}):null,a.jsxs("button",{onClick:i,className:"mt-3 w-full flex items-center justify-center gap-2 rounded-lg border border-red-400/40 px-3 py-2 text-xs font-semibold text-red-200 hover:bg-red-500/10 hover:text-red-100 transition-colors",title:o?void 0:"",children:[a.jsx(_T,{size:14}),o?"":null]})]})]})}const f3={"national-dashboard":{title:"  ",subtitle:"Neuro-Shield  "},"model-apply":{title:"  ",subtitle:"Neuro-Shield  "},"model-governance":{title:"/  ",subtitle:"Neuro-Shield  "},"quality-monitoring":{title:"& ",subtitle:"Neuro-Shield  "},"compliance-audit":{title:"   ",subtitle:"Neuro-Shield  "},"kpi-dictionary":{title:"KPI ",subtitle:"Neuro-Shield  "},settings:{title:"",subtitle:"Neuro-Shield  "},overview:{title:"  ",subtitle:"Neuro-Shield   "},cause:{title:" ",subtitle:"Neuro-Shield   "},interventions:{title:" ",subtitle:"Neuro-Shield   "},reports:{title:"",subtitle:"Neuro-Shield   "},"regional-settings":{title:"",subtitle:"Neuro-Shield   "},dashboard:{title:" ",subtitle:"Neuro-Shield   "},calendar:{title:" ",subtitle:"Neuro-Shield   "},"audit-log":{title:" ",subtitle:"Neuro-Shield   "},main:{title:"  ",subtitle:"Neuro-Shield   "},cases:{title:" ",subtitle:"Neuro-Shield   "}};function p3({title:e,subtitle:t,icon:r,iconBg:n="from-blue-600 to-blue-700"}){return a.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[a.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br ${n} shadow-sm shrink-0`,"aria-hidden":"true",children:r??a.jsx(_p,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h2",{className:"text-[15px] font-bold text-slate-800 leading-[1.1] whitespace-nowrap overflow-hidden text-ellipsis",children:e}),a.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-[1.1] mt-[2px] whitespace-nowrap overflow-hidden text-ellipsis",children:t})]})]})}const C2e={main:A0,cases:Bo,calendar:Wi,reports:Rf,settings:C0};function T2e({activeTab:e}){const t=C2e[e]||A0,r=f3[e];return a.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0 z-10",children:[a.jsx("div",{className:"flex items-center gap-6",children:a.jsx(p3,{title:r?.title??e,subtitle:r?.subtitle??"Neuro-Shield   ",icon:a.jsx(t,{className:"h-4 w-4 text-white"})})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:a.jsx(_0,{size:16,className:"text-gray-400"})}),a.jsx("input",{type:"text",placeholder:" ID,  ...",className:"bg-gray-100 border-none rounded-full pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 w-64 transition-all focus:w-80 outline-none"})]}),a.jsxs("button",{className:"relative p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:[a.jsx(Ap,{size:20}),a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white"})]}),a.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[a.jsx("span",{className:"w-8 h-8 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center border border-emerald-200",children:a.jsx(ws,{size:16})}),a.jsx("span",{children:" "})]})]})]})}const R6=new Map;let P6=1,D6=1;function k2e(){return new Date().toISOString()}function M6(e){return new Date(Date.now()+e*60*60*1e3).toISOString()}function RG(){return globalThis?.__NEURO_SHIELD_USE_REAL_API__===!0}function O2e(){return globalThis?.__NEURO_SHIELD_FORCE_CALENDAR_ERROR__===!0}async function PG(e=160){await new Promise(t=>setTimeout(t,e))}async function DG(e,t){const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...t.headers??{}},...t});if(!r.ok)throw new Error(`HTTP ${r.status}`);return await r.json()}function R2e(e){return e?{R1_SELF_REJECT:" ",R2_GUARDIAN_REJECT:" ",R3_OTHER_INSTITUTION:"  ",R4_ALREADY_DIAGNOSED:" / ",R5_CONTACT_INVALID:" ",R6_EMOTIONAL_BACKLASH:"  ",R7_OTHER:""}[e]:"  "}function P2e(e){return{CALL_RETRY:" ",SMS_RETRY:" ",TIME_CHANGE:"   ",PROTECTOR_CONTACT:"  ",AGENT_SMS:"  "}[e]}function MG(e){const t=[];if(e.outcomeType==="NO_RESPONSE"&&e.noResponse?.nextContactAt&&t.push({caseId:e.caseId,type:"RECONTACT",title:`${P2e(e.noResponse.strategy)} `,startAt:e.noResponse.nextContactAt,durationMin:20,priority:e.noResponse.escalateLevel==="L3"?"HIGH":"NORMAL",payload:{strategy:e.noResponse.strategy,escalateLevel:e.noResponse.escalateLevel}}),e.outcomeType==="LATER"){const r=e.noResponse?.nextContactAt??M6(72);t.push({caseId:e.caseId,type:"RECONTACT",title:"  ",startAt:r,durationMin:20,priority:"NORMAL",payload:{memo:e.memo}})}return e.outcomeType==="REJECT"&&(e.reject?.followup?.createFollowupEvent||e.reject?.followup?.followupAt)&&t.push({caseId:e.caseId,type:"FOLLOWUP",title:`   (${R2e(e.reject?.code)})`,startAt:e.reject?.followup?.followupAt??M6(168),durationMin:20,priority:e.reject?.level==="FINAL"?"HIGH":"NORMAL",payload:{rejectCode:e.reject?.code,rejectLevel:e.reject?.level}}),t}async function D2e(e,t){if(await PG(),RG())return DG(`/api/cases/${e}/outcomes`,{body:JSON.stringify(t)});const r=`OUT-${e}-${String(P6).padStart(5,"0")}`;P6+=1;const n=MG({caseId:e,outcomeType:t.outcomeType,memo:t.memo,reject:t.reject,noResponse:t.noResponse});return{ok:!0,outcomeId:r,timelinePatch:{at:k2e(),outcomeType:t.outcomeType},nextAction:n.length?{type:"CREATE_CALENDAR_EVENT",events:n}:void 0}}async function I6(e){if(await PG(),RG())return DG("/api/calendar/events",{body:JSON.stringify(e)});if(O2e())throw new Error("CALENDAR_FORCED_FAILURE");const t=R6.get(e.idempotencyKey);if(t)return t;const r={ok:!0,eventId:`CAL-${String(D6).padStart(6,"0")}`};return D6+=1,R6.set(e.idempotencyKey,r),r}function M2e(){return new Date().toISOString()}function ME(e){return e instanceof Error?e.message:typeof e=="string"?e:"    ."}function L6(e){return{idempotencyKey:e.idempotencyKey,caseId:e.caseId,outcomeId:e.outcomeId,event:e.event,eventType:e.event.type,title:e.event.title,scheduledAt:e.event.startAt,errorMessage:e.errorMessage,retryCount:e.retryCount,recordedAt:M2e()}}function I2e(){const[e,t]=g.useState(!1),[r,n]=g.useState(null),[s,i]=g.useState([]),[o,l]=g.useState({}),d=g.useCallback(async({caseId:h,payload:b})=>{if(e)return null;t(!0),n(null);try{const v=await D2e(h,b),N=v.nextAction?.events??MG({caseId:h,outcomeType:b.outcomeType,memo:b.memo,reject:b.reject,noResponse:b.noResponse}),y=[],S=[];for(let w=0;w<N.length;w+=1){const _=N[w],A=`${h}:${v.outcomeId}:${_.type}:${w}`;try{const E=await I6({idempotencyKey:A,event:_});y.push({idempotencyKey:A,eventId:E.eventId,event:_})}catch(E){S.push(L6({idempotencyKey:A,caseId:h,outcomeId:v.outcomeId,event:_,errorMessage:ME(E),retryCount:0}))}}return i(w=>{const _=w.filter(A=>!S.some(E=>E.idempotencyKey===A.idempotencyKey));return[...S,..._]}),{outcome:v,calendar:{created:y,failed:S}}}catch(v){return n(ME(v)),null}finally{t(!1)}},[e]),u=g.useCallback(async h=>{const b=s.find(v=>v.idempotencyKey===h);if(!b)return{ok:!1};l(v=>({...v,[h]:!0}));try{const v=await I6({idempotencyKey:b.idempotencyKey,event:b.event});return i(N=>N.filter(y=>y.idempotencyKey!==h)),{ok:!0,eventId:v.eventId}}catch(v){const N=L6({idempotencyKey:b.idempotencyKey,caseId:b.caseId,outcomeId:b.outcomeId,event:b.event,errorMessage:ME(v),retryCount:b.retryCount+1});return i(y=>y.map(S=>S.idempotencyKey===h?N:S)),{ok:!1,failure:N}}finally{l(v=>{const N={...v};return delete N[h],N})}},[s]),m=g.useMemo(()=>Object.values(o).some(Boolean),[o]),p=g.useCallback(()=>n(null),[]);return{isSaving:e,submitError:r,calendarFailures:s,retryingKeys:o,isRetrying:m,submit:d,retryCalendarFailure:u,clearSubmitError:p}}const IG="080-000-0000",L2e=` ${IG}`,LG="",$G="  ",$2e=[{id:"S1_SENT_BASE",stage:"STAGE1",situation:"DELIVERED",channel:"SMS",tone:"government",type:"CONTACT",label:"1  ",template:"[{{CENTER_NAME}}]   . ({{CASE_ALIAS}})        . {{LINK}}  {{CALLBACK_PHONE}} {{OPT_OUT}}"},{id:"S1_NO_RESPONSE",stage:"STAGE1",situation:"NO_RESPONSE",channel:"SMS",tone:"government",type:"REMINDER",label:"1  ",template:"[{{CENTER_NAME}}]    ,   /  . {{LINK}}  {{CALLBACK_PHONE}} {{OPT_OUT}}"},{id:"S1_FAILED",stage:"STAGE1",situation:"FAILED",channel:"SMS",tone:"government",type:"CONTACT",label:"1   ",template:"[{{CENTER_NAME}}]     .    {{CALLBACK_PHONE}}  . {{OPT_OUT}}"},{id:"S2_SENT_BASE",stage:"STAGE2",situation:"DELIVERED",channel:"SMS",tone:"government",type:"BOOKING",label:"2    ",template:"[{{CENTER_NAME}}] /     .          . {{LINK}}  {{CALLBACK_PHONE}} {{OPT_OUT}}"},{id:"S2_CLICKED_INCOMPLETE",stage:"STAGE2",situation:"CLICKED",channel:"SMS",tone:"government",type:"REMINDER",label:"2   ",template:"[{{CENTER_NAME}}]    .    ,     . {{LINK}}  {{CALLBACK_PHONE}} {{OPT_OUT}}"},{id:"S2_NO_RESPONSE",stage:"STAGE2",situation:"NO_RESPONSE",channel:"SMS",tone:"government",type:"REMINDER",label:"2  ",template:"[{{CENTER_NAME}}] /  .      . {{LINK}}  {{CALLBACK_PHONE}} {{OPT_OUT}}"},{id:"S3_SENT_BASE",stage:"STAGE3",situation:"DELIVERED",channel:"SMS",tone:"government",type:"CONTACT",label:"3   ",template:"[{{CENTER_NAME}}]     .  /     . {{LINK}}  {{CALLBACK_PHONE}} {{OPT_OUT}}"},{id:"S3_ACTION_COMPLETED",stage:"STAGE3",situation:"ACTION_COMPLETED",channel:"SMS",tone:"government",type:"REMINDER",label:"3   ",template:"[{{CENTER_NAME}}]    .    {{CALLBACK_PHONE}}  . {{OPT_OUT}}"},{id:"S3_NO_RESPONSE",stage:"STAGE3",situation:"NO_RESPONSE",channel:"SMS",tone:"government",type:"REMINDER",label:"3   ",template:"[{{CENTER_NAME}}]        . {{CALLBACK_PHONE}}  ,    . {{LINK}} {{OPT_OUT}}"}],$6={DRAFT:{label:"",tone:"border-slate-300 bg-slate-50 text-slate-700"},SCHEDULED:{label:"",tone:"border-blue-300 bg-blue-50 text-blue-700"},SENT:{label:"",tone:"border-indigo-300 bg-indigo-50 text-indigo-700"},DELIVERED:{label:"",tone:"border-emerald-300 bg-emerald-50 text-emerald-700"},FAILED:{label:"",tone:"border-red-300 bg-red-50 text-red-700"},CLICKED:{label:" ",tone:"border-cyan-300 bg-cyan-50 text-cyan-700"},ACTION_COMPLETED:{label:" ",tone:"border-green-300 bg-green-50 text-green-700"},NO_RESPONSE:{label:"",tone:"border-amber-300 bg-amber-50 text-amber-700"},OPTOUT:{label:"",tone:"border-zinc-300 bg-zinc-100 text-zinc-700"}},F2e={DRAFT:[{id:"MARK_COMPLETED",label:" ",nextStatus:"ACTION_COMPLETED"},{id:"MARK_OPTOUT",label:" ",nextStatus:"OPTOUT"}],SCHEDULED:[{id:"MARK_NO_RESPONSE",label:" ",nextStatus:"NO_RESPONSE"},{id:"SWITCH_TO_CALL",label:" "}],SENT:[{id:"SEND_REMINDER",label:" ",nextStatus:"CLICKED"},{id:"MARK_NO_RESPONSE",label:" ",nextStatus:"NO_RESPONSE"}],DELIVERED:[{id:"SEND_REMINDER",label:" ",nextStatus:"CLICKED"},{id:"MARK_COMPLETED",label:" ",nextStatus:"ACTION_COMPLETED"}],FAILED:[{id:"VERIFY_PHONE",label:" "},{id:"SWITCH_TO_CALL",label:" "}],CLICKED:[{id:"SEND_REMINDER",label:" "},{id:"MARK_COMPLETED",label:" ",nextStatus:"ACTION_COMPLETED"}],ACTION_COMPLETED:[{id:"CREATE_RECONTACT_TASK",label:"  "},{id:"MARK_OPTOUT",label:" ",nextStatus:"OPTOUT"}],NO_RESPONSE:[{id:"RETRY_WITH_ALT_TEMPLATE",label:"( )"},{id:"SWITCH_TO_CALL",label:" "}],OPTOUT:[{id:"SWITCH_TO_CALL",label:"  "},{id:"CREATE_RECONTACT_TASK",label:"   "}]};function B2e(e={}){const t=e.OPTOUT_NUMBER?.trim()||IG;return{CENTER_NAME:e.CENTER_NAME||" ",CALLBACK_PHONE:e.CALLBACK_PHONE||"02-555-0199",LINK:e.LINK||"",OPT_OUT:e.OPT_OUT||` ${t}`,CASE_ALIAS:e.CASE_ALIAS||LG,DUE_DATE:e.DUE_DATE||$G,OPTOUT_NUMBER:t}}function U2e(e,t={}){const r=B2e(t),n=/\{\{\s*([A-Z0-9_]+)\s*\}\}/g,s=i=>i.replace(n,(o,l)=>r[l]??"");return s(s(e)).replace(/\s{2,}/g," ").trim()}function H2e(e){return $2e.filter(t=>t.stage===e)}function G2e(e){return H2e(e).map(t=>({id:t.id,type:t.type,label:t.label,body:r=>U2e(t.template,{CENTER_NAME:r.centerName,CALLBACK_PHONE:r.centerPhone,LINK:r.guideLink,CASE_ALIAS:r.caseAlias||LG,DUE_DATE:r.dueDate||$G,OPT_OUT:r.optOut||L2e})}))}function z2e(e){return e.includes("3")?"STAGE3":e.includes("2")?"STAGE2":"STAGE1"}const K2e={VITE_BASE_PATH:"/neuro-shield/"},kh="/api/sms/messages",Zx="/api/outreach/send-sms";function q2e(e){if(!e.trim())return"/neuro-shield/";let t=e.trim();return t.startsWith("/")||(t=`/${t}`),t.endsWith("/")||(t=`${t}/`),t}function W2e(){const e=K2e,t=e.VITE_PUBLIC_BASE_URL||e.DEPLOY_BASE_URL;if(t&&t.trim())return t.replace(/\/$/,"");if(typeof window<"u"){const r=q2e(e.VITE_BASE_PATH);return`${window.location.origin}${r.replace(/\/$/,"")}`}return"http://146.56.162.226/neuro-shield"}function m3(e){return`${W2e()}/p/sms?t=${encodeURIComponent(e)}`}function h3(e){return`tmp-${(e||"case").replace(/[^a-zA-Z0-9_-]/g,"").slice(-18)||"case"}-${Date.now().toString(36)}`}function FG(e,t="SENT"){if(!e)return t;const r=e.toUpperCase();return r.includes("FAIL")?"FAILED":r.includes("DELIVER")?"DELIVERED":r.includes("SCHEDULE")?"SCHEDULED":r.includes("CLICK")?"CLICKED":r.includes("OPT")?"OPTOUT":t}function V2e(e,t){return{case_id:e.caseId,center_id:e.centerId,citizen_phone:e.citizenPhone,template_id:e.templateId,variables:{template:e.renderedMessage,link_url:t,guideLink:t,...e.variables||{}},dedupe_key:e.dedupeKey||`${e.caseId}-${Date.now()}`,guardian_phone:e.guardianPhone}}function Y2e(e,t,r){return{caseId:e.caseId,centerId:e.centerId,citizenPhone:e.citizenPhone,stage:e.stage||"STAGE1",templateId:e.templateId,variables:{LINK:t,...e.variables||{}},sendPolicy:e.sendPolicy==="SCHEDULE"?"SCHEDULED":"IMMEDIATE",scheduledAt:e.scheduledAt,channel:e.channel||"SMS",renderedText:e.renderedMessage,dedupeKey:e.dedupeKey||`${e.caseId}-${Date.now()}`,guardianPhone:e.guardianPhone,token:r,statusHint:e.statusHint}}function F6(e,t){return e.includes(t)?e:`${e} ${t}`.trim()}async function X2e(e,t,r){const n=await fetch(kh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y2e(e,t,r))});if(!n.ok){const o=await n.text();return{success:!1,endpoint:kh,error:`  (${n.status}): ${o}`}}const s=await n.json(),i=FG(s.status,e.sendPolicy==="SCHEDULE"?"SCHEDULED":"SENT");return{success:!0,endpoint:kh,providerMessageId:s.providerMessageId||s.messageId,status:s.status||i,lifecycleStatus:i,renderedText:s.renderedText||s.renderedMessage||e.renderedMessage,renderedMessage:s.renderedMessage||s.renderedText||e.renderedMessage,token:s.token||r,linkUrl:s.linkUrl||t,actualTo:s.actualTo,intendedTo:s.intendedTo}}async function Q2e(e,t){const r=await fetch(Zx,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V2e(e,t))});if(!r.ok){const i=await r.text();return{success:!1,endpoint:Zx,error:`  (${r.status}): ${i}`}}const n=await r.json(),s=FG(n.status,e.sendPolicy==="SCHEDULE"?"SCHEDULED":"SENT");return{success:!0,endpoint:Zx,providerMessageId:n.provider_message_id,status:n.status||s,lifecycleStatus:s,actualTo:n.actual_to,intendedTo:n.intended_to,renderedMessage:n.rendered_message||F6(e.renderedMessage,t),renderedText:n.rendered_message||F6(e.renderedMessage,t),token:e.linkToken,linkUrl:t}}function Z2e(e,t){return e?t==="SCHEDULE"?"SCHEDULED":"SENT":"FAILED"}function J2e(e){return e==="SCHEDULED"?"SCHEDULED":e==="FAILED"?"FAILED":e==="DELIVERED"?"DELIVERED":e==="CLICKED"?"CLICKED":e==="ACTION_COMPLETED"?"ACTION_COMPLETED":e==="NO_RESPONSE"?"NO_RESPONSE":e==="OPTOUT"?"OPTOUT":"SENT"}function eSe(){return m3(h3("preview"))}async function BG(e){const t=e.linkToken||h3(e.caseId),r=e.linkUrl||m3(t);try{const n=await X2e(e,r,t);if(n.success)return n;console.warn(`[SMS] ${kh} , legacy fallback :`,n.error);const s=await Q2e(e,r);return s.success?s:{success:!1,endpoint:s.endpoint,error:s.error||n.error||"  ",token:t,linkUrl:r}}catch(n){return console.warn(`[SMS] ${kh}/${Zx}  :`,n),{success:!1,token:t,linkUrl:r,error:"SMS    .  ."}}}function BC(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`}const IE={CONTACT:"",BOOKING:"",REMINDER:""},tSe={CONTACT:"bg-blue-100 text-blue-800",BOOKING:"bg-emerald-100 text-emerald-800",REMINDER:"bg-amber-100 text-amber-800"},rSe={SENT:"",SCHEDULED:"",FAILED:"",DELIVERED:"",CLICKED:" ",ACTION_COMPLETED:" ",NO_RESPONSE:"",OPTOUT:""},nSe={SENT:"text-indigo-700 border-indigo-300",SCHEDULED:"text-blue-700 border-blue-300",FAILED:"text-red-700 border-red-300",DELIVERED:"text-emerald-700 border-emerald-300",CLICKED:"text-cyan-700 border-cyan-300",ACTION_COMPLETED:"text-green-700 border-green-300",NO_RESPONSE:"text-amber-700 border-amber-300",OPTOUT:"text-zinc-700 border-zinc-400"},aSe=[{step:"greeting",title:"1:    ",content:".   .   ?       .",tips:["  ","    ","   "],checkpoints:["  ","/ ","   "]},{step:"purpose",title:"2:   ",content:"       .     , /    .",tips:["  ","   ","   "],checkpoints:["   ","   ","  "]},{step:"assessment",title:"3:   ",content:"   ,   , /    .",tips:["  ","  ","   "],checkpoints:["  ","   ","    "]},{step:"scheduling",title:"4:   ",content:"     , / ,   .",tips:["  1 ","   ","  "],checkpoints:["  ","   ","  "]}],sSe={centerName:" ",centerPhone:"02-555-0199",guideLink:eSe(),bookingLink:"(  )",caseAlias:"",dueDate:"  ",optOut:" 080-000-0000"};function LE(e,t,r){e(n=>[{id:`TL-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,at:BC(),status:t,note:r},...n])}function $E(e,t){return e.find(r=>r.type===t)}function B6({stageLabel:e,stageCode:t,templates:r,defaultVars:n,caseId:s,centerId:i="center-001",citizenPhone:o="010-****-1234",guardianPhone:l,onSmsSent:d,onConsultation:u,callScripts:m,onNavigateLink:p,showLinkageTab:h=!1,compact:b=!1}){const v=t??z2e(e),N=g.useMemo(()=>G2e(v),[v]),y=g.useMemo(()=>r.length>0?r:N,[N,r]),S={...sSe,...n},w=m??aSe,[_,A]=g.useState("CALL"),[E,C]=g.useState("citizen"),[O,D]=g.useState(0),[R,K]=g.useState({}),[H,$]=g.useState(!1),[U,P]=g.useState(0),[G,L]=g.useState("SUCCESS"),[M,B]=g.useState("");g.useEffect(()=>{if(!H)return;const Ee=setInterval(()=>P(Be=>Be+1),1e3);return()=>clearInterval(Ee)},[H]);const J=`${String(Math.floor(U/60)).padStart(2,"0")}:${String(U%60).padStart(2,"0")}`,ee=w[O]??w[0],I=()=>{u?.(`[] : ${E==="citizen"?"":""} / : ${G} / : ${J}
${M}`,"CONTACT",` (${e})`),B(""),$(!1),P(0),K({}),D(0)},Y=y[0]?.type??"CONTACT",[ae,le]=g.useState(Y),[he,X]=g.useState(y[0]?.id??""),[ne,ve]=g.useState(""),[pe,Ce]=g.useState("NOW"),[ge,se]=g.useState(""),[Ze,V]=g.useState(""),[de,Ae]=g.useState(S),[ce,ye]=g.useState(!1),[Ie,Ct]=g.useState(!0),[Dt,ze]=g.useState(!1),[$e,or]=g.useState(null),[Vt,hn]=g.useState([]),[zr,Rt]=g.useState(!1),[mr,ar]=g.useState("DRAFT"),[Fr,Mr]=g.useState([{id:"TL-INIT",at:BC(),status:"DRAFT",note:"  "}]),jr=g.useMemo(()=>{const Ee=new Set,Be=[];for(const Qe of y)Ee.has(Qe.type)||(Ee.add(Qe.type),Be.push(Qe.type));return Be},[y]);g.useEffect(()=>{jr.includes(ae)||le(jr[0]??"CONTACT")},[jr,ae]);const Or=g.useMemo(()=>y.filter(Ee=>Ee.type===ae),[y,ae]),ur=g.useMemo(()=>y.find(Ee=>Ee.id===he)??Or[0]??y[0],[y,he,Or]);g.useEffect(()=>{Or.some(Ee=>Ee.id===he)||X(Or[0]?.id??y[0]?.id??"")},[Or,he,y]);const ir=g.useMemo(()=>{if(!ur||typeof ur.body!="function")return"";const Ee=ur.body(de);if(!Ie)return Ee;const Be=de.guideLink?.trim();return!Be||Ee.includes(Be)?Ee:`${Ee} ${Be}`.trim()},[ur,de,Ie]),xt=$6[mr],Ue=(F2e[mr]??[]).slice(0,2),Mt=Ee=>{le(Ee);const Be=$E(y,Ee);Be&&X(Be.id)},ot=Ee=>{const Be=(Qe,Ft)=>{ar(Qe),LE(Mr,Qe,Ft)};if(Ee.id==="RETRY_WITH_ALT_TEMPLATE"){Be("DRAFT","   ");const Qe=$E(y,"REMINDER")??y[0];Qe&&(le(Qe.type),X(Qe.id)),Le.info("    .");return}if(Ee.id==="SWITCH_TO_CALL"){Be("NO_RESPONSE","   "),A("CALL"),p?.("call");return}if(Ee.id==="VERIFY_PHONE"){V(Qe=>Qe?`${Qe}
  `:"  "),Be("FAILED","    ");return}if(Ee.id==="CREATE_RECONTACT_TASK"){Le.success(" ()  "),LE(Mr,mr,"  ");return}if(Ee.id==="SEND_REMINDER"){const Qe=$E(y,"REMINDER");Qe&&(le("REMINDER"),X(Qe.id)),Be("CLICKED","     ");return}if(Ee.id==="MARK_NO_RESPONSE"){Be("NO_RESPONSE","   ");return}if(Ee.id==="MARK_COMPLETED"){Be("ACTION_COMPLETED","  ");return}Ee.id==="MARK_OPTOUT"&&Be("OPTOUT"," ")},Qt=async()=>{if(!ur){or({success:!1,error:"   ."});return}if(mr==="OPTOUT"){or({success:!1,error:"  SMS   ."});return}if(pe==="SCHEDULE"&&!ge.trim()){or({success:!1,error:"   ."});return}const Ee=h3(s),Be=m3(Ee),Qe={...de,guideLink:Ie?Be:de.guideLink},Ft=ur.body(Qe),hr=Ie&&Qe.guideLink&&!Ft.includes(Qe.guideLink)?`${Ft} ${Qe.guideLink}`.trim():Ft;ze(!0),or(null);const at=await BG({caseId:s,centerId:i,citizenPhone:ne===""&&l?l:o,templateId:ur.id,renderedMessage:hr,guardianPhone:ne===""?l:void 0,stage:v,sendPolicy:pe,scheduledAt:pe==="SCHEDULE"?ge:void 0,channel:"SMS",linkToken:Ee,linkUrl:Be,statusHint:mr,variables:{CENTER_NAME:Qe.centerName,CALLBACK_PHONE:Qe.centerPhone,CASE_ALIAS:Qe.caseAlias||"",DUE_DATE:Qe.dueDate||"  ",OPT_OUT:Qe.optOut||" 080-000-0000"}});ze(!1),or(at);const br=at.lifecycleStatus||Z2e(at.success,pe),Ye=J2e(br);ar(br),LE(Mr,br,`${pe==="NOW"?"":""}   ${ur.label}`);const Yr={id:`SMS-${Date.now()}`,at:pe==="SCHEDULE"?ge.replace("T"," "):BC(),templateLabel:ur.label,type:ur.type,mode:pe,recipient:ne,status:Ye,preview:hr,note:Ze.trim(),providerMessageId:at.providerMessageId,lifecycleStatus:br,token:at.token||Ee,linkUrl:at.linkUrl||Be};hn(Gt=>[Yr,...Gt]),d?.(Yr),at.success&&(V(""),Ae(Gt=>({...Gt,guideLink:at.linkUrl||Be})))},Ht=()=>{ur&&(u?.(Ze.trim(),ae,ur.label),V(""))};return a.jsxs("div",{className:"bg-white rounded-xl overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx(BA,{className:"h-4 w-4 text-blue-300"})," ",a.jsx(Gr,{className:"ml-1 bg-blue-500/20 text-blue-200 border-blue-400/30 text-[10px]",children:e})]}),a.jsxs("p",{className:"text-[11px] text-slate-300 mt-1",children:["  ",h?"  ":"","   "]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:ue("text-xs px-2.5 py-1 border",xt.tone),children:xt.label}),Vt.length>0&&a.jsxs(Gr,{className:"bg-white/10 text-white border-white/20 text-xs px-2.5 py-1",children:[Vt.length," "]})]})]})}),a.jsx("div",{className:"border-b border-slate-200 bg-slate-50",children:a.jsx("div",{className:"flex",children:[{key:"CALL",icon:BA,label:""},{key:"SMS",icon:wi,label:""},...h?[{key:"LINK",icon:Ff,label:""}]:[]].map(({key:Ee,icon:Be,label:Qe})=>a.jsxs("button",{onClick:()=>A(Ee),className:ue("flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold transition-all border-b-2",_===Ee?"border-blue-600 text-blue-700 bg-white":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-white/50"),children:[a.jsx(Be,{className:"h-4 w-4"}),Qe]},Ee))})}),_==="CALL"&&a.jsxs("div",{className:ue("space-y-4",b?"px-4 py-4":"px-6 py-5"),children:[a.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50/80 px-4 py-2.5 text-xs text-amber-800 flex items-start gap-2",children:[a.jsx(zn,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:" :"})," /AI   .   .   ."]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:" "}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"citizen",label:" ",sub:"  ",icon:Vo},{key:"guardian",label:"",sub:l?"  ":"  ",icon:Bo}].map(({key:Ee,label:Be,sub:Qe,icon:Ft})=>a.jsxs("button",{onClick:()=>{C(Ee),D(0),K({})},disabled:Ee==="guardian"&&!l,className:ue("flex items-center gap-3 rounded-xl border-2 px-4 py-3 text-left transition-all",E===Ee?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-slate-200 bg-white hover:border-slate-300",Ee==="guardian"&&!l&&"opacity-40 cursor-not-allowed"),children:[a.jsx("div",{className:ue("h-8 w-8 rounded-full flex items-center justify-center",E===Ee?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500"),children:a.jsx(Ft,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Be}),a.jsx("p",{className:"text-[11px] text-slate-500",children:Qe})]}),E===Ee&&a.jsx(Qd,{className:"h-4 w-4 text-blue-600 ml-auto"})]},Ee))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:" "}),a.jsx("div",{className:"grid grid-cols-4 gap-1 rounded-xl border border-slate-200 bg-slate-50 p-1",children:w.map((Ee,Be)=>a.jsxs("button",{onClick:()=>D(Be),className:ue("rounded-lg px-2 py-2 text-xs font-semibold transition-all",O===Be?"bg-white text-slate-900 shadow-sm ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700 hover:bg-white/50"),children:[Be+1,""]},Ee.step))}),a.jsxs("div",{className:"mt-3 rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50/50 p-4",children:[a.jsx("p",{className:"text-sm font-bold text-blue-900 mb-2",children:ee.title}),a.jsx("p",{className:"text-xs leading-relaxed text-blue-800/90",children:ee.content})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50/80 p-3",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700 mb-2",children:" "}),a.jsx("ul",{className:"space-y-1",children:ee.tips.map(Ee=>a.jsxs("li",{className:"text-[11px] text-slate-600 flex items-start gap-1.5",children:[a.jsx("span",{className:"text-blue-400 mt-0.5",children:""})," ",Ee]},Ee))})]}),a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50/80 p-3",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-700 mb-2",children:""}),a.jsx("div",{className:"space-y-1.5",children:ee.checkpoints.map(Ee=>a.jsxs("label",{className:"flex items-center gap-2 text-[11px] text-slate-600 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:!!R[Ee],onChange:Be=>K(Qe=>({...Qe,[Ee]:Be.target.checked})),className:"h-3.5 w-3.5 rounded border-slate-300 text-blue-600"}),a.jsx("span",{className:R[Ee]?"line-through text-slate-400":"",children:Ee})]},Ee))})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:" "}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:"SUCCESS",label:"",icon:ws,ac:"border-emerald-500 bg-emerald-50 text-emerald-700"},{value:"NO_ANSWER",label:"",icon:Ky,ac:"border-amber-500 bg-amber-50 text-amber-700"},{value:"REJECTED",label:"",icon:Mf,ac:"border-red-500 bg-red-50 text-red-700"},{value:"WRONG_NUMBER",label:"",icon:ed,ac:"border-slate-500 bg-slate-50 text-slate-700"}].map(({value:Ee,label:Be,icon:Qe,ac:Ft})=>a.jsxs("button",{onClick:()=>L(Ee),className:ue("flex flex-col items-center gap-1.5 rounded-xl border-2 px-3 py-3 text-xs font-semibold transition-all",G===Ee?Ft:"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:[a.jsx(Qe,{className:"h-4 w-4"}),Be]},Ee))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1.5 block",children:" "}),a.jsx(Ki,{value:M,onChange:Ee=>B(Ee.target.value),className:"min-h-[80px] text-xs rounded-lg border-slate-200",placeholder:"    "})]}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsxs("div",{className:ue("inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-bold",H?"bg-red-50 text-red-700 border border-red-200":"bg-slate-100 text-slate-600"),children:[a.jsx(K8,{className:"h-4 w-4"}),H?`  ${J}`:""]}),a.jsxs("div",{className:"flex gap-2",children:[H?a.jsxs(dt,{onClick:()=>$(!1),variant:"outline",className:"h-10 border-red-300 text-red-700 hover:bg-red-50 text-sm font-semibold gap-2 rounded-xl",children:[a.jsx(ws,{className:"h-4 w-4"})," "]}):a.jsxs(dt,{onClick:()=>{$(!0),P(0)},className:"h-10 bg-blue-600 text-sm font-semibold text-white hover:bg-blue-700 gap-2 px-5 rounded-xl",children:[a.jsx(as,{className:"h-4 w-4"}),""]}),a.jsxs(dt,{onClick:I,className:"h-10 bg-slate-800 text-sm font-semibold text-white hover:bg-slate-900 gap-2 px-5 rounded-xl",children:[a.jsx(Qd,{className:"h-4 w-4"}),"  "]})]})]})]}),_==="SMS"&&a.jsxs("div",{className:ue("space-y-4",b?"px-4 py-4":"px-6 py-5"),children:[a.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50/80 px-4 py-2.5 text-xs text-amber-800 flex items-start gap-2",children:[a.jsx(zn,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:" :"}),"  /AI   .  .    ."]})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"bg-slate-800 text-white border-slate-700 text-[10px]",children:v}),a.jsx(Gr,{className:ue("text-[10px] border",xt.tone),children:xt.label})]}),a.jsx("span",{className:"text-[11px] text-slate-500",children:"   1~2"})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Ue.map(Ee=>a.jsx(dt,{type:"button",variant:"outline",size:"sm",onClick:()=>ot(Ee),className:"h-8 rounded-lg text-xs",children:Ee.label},Ee.id))})]}),a.jsx("div",{className:"grid grid-cols-3 gap-1.5 rounded-xl border border-slate-200 bg-slate-50 p-1.5",children:["CONTACT","BOOKING","REMINDER"].map(Ee=>{const Be=!jr.includes(Ee);return a.jsx("button",{onClick:()=>Mt(Ee),disabled:Be,className:ue("rounded-lg px-3 py-2.5 text-xs font-semibold transition-all",ae===Ee?"bg-white text-slate-900 shadow-sm ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700 hover:bg-white/50",Be&&"opacity-40 cursor-not-allowed"),children:IE[Ee]},Ee)})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("select",{value:he,onChange:Ee=>X(Ee.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",children:Or.map(Ee=>a.jsx("option",{value:Ee.id,children:Ee.label},Ee.id))}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-xs text-slate-700 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Ie,onChange:Ee=>Ct(Ee.target.checked),className:"h-3.5 w-3.5 rounded border-slate-300"}),"   "]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:""}),a.jsx("div",{className:"flex gap-2",children:["",""].map(Ee=>a.jsxs("button",{onClick:()=>ve(Ee),disabled:Ee===""&&!l,className:ue("flex-1 flex items-center justify-center gap-2 rounded-xl border-2 px-3 py-2.5 text-xs font-semibold transition-all",ne===Ee?"border-blue-500 bg-blue-50 text-blue-800 ring-1 ring-blue-200":"border-slate-200 bg-white text-slate-500 hover:border-slate-300",Ee===""&&!l&&"opacity-40 cursor-not-allowed"),children:[Ee===""?a.jsx(Vo,{className:"h-3.5 w-3.5"}):a.jsx(Bo,{className:"h-3.5 w-3.5"}),Ee]},Ee))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:" "}),a.jsx("div",{className:"grid grid-cols-2 gap-1.5 rounded-xl border border-slate-200 bg-slate-50 p-1.5",children:[{key:"NOW",icon:Ih,label:""},{key:"SCHEDULE",icon:wT,label:""}].map(({key:Ee,icon:Be,label:Qe})=>a.jsxs("button",{onClick:()=>Ce(Ee),className:ue("flex items-center justify-center gap-1.5 rounded-lg px-3 py-2.5 text-xs font-semibold transition-all",pe===Ee?"bg-white text-slate-900 shadow-sm ring-1 ring-slate-200":"text-slate-500"),children:[a.jsx(Be,{className:"h-3.5 w-3.5"})," ",Qe]},Ee))})]})]}),a.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-slate-100 bg-slate-50/50 px-4 py-2.5",children:[a.jsx("span",{className:"text-xs text-slate-500",children:":"}),a.jsx("span",{className:"text-xs font-medium text-slate-700",children:ne===""&&l?` ${l}`:` ${o}`}),a.jsx("span",{className:"text-[10px] text-slate-400 ml-auto",children:"(: TEST_SMS_TO  )"})]}),pe==="SCHEDULE"&&a.jsx("input",{type:"datetime-local",value:ge,onChange:Ee=>se(Ee.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100"}),a.jsxs("button",{onClick:()=>ye(!ce),className:"flex items-center gap-1.5 text-xs text-blue-600 hover:text-blue-800 font-medium",children:[ce?a.jsx($l,{className:"h-3.5 w-3.5"}):a.jsx(za,{className:"h-3.5 w-3.5"}),"  ",ce?"":""]}),ce&&a.jsx("div",{className:"grid grid-cols-2 gap-3 rounded-xl border border-slate-200 bg-slate-50/50 p-4",children:[["centerName",""],["centerPhone"," "],["guideLink"," "],["bookingLink"," "],["caseAlias"," "],["optOut"," "]].map(([Ee,Be])=>a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-slate-500",children:Be}),a.jsx("input",{type:"text",value:de[Ee]??"",onChange:Qe=>Ae(Ft=>({...Ft,[Ee]:Qe.target.value})),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs outline-none focus:border-blue-400"})]},Ee))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[11px] font-bold text-slate-600",children:""}),a.jsx(Gr,{variant:"outline",className:ue("text-[10px]",tSe[ae]),children:IE[ae]})]}),a.jsx("p",{className:"whitespace-pre-wrap text-xs leading-relaxed text-slate-700 min-h-[80px]",children:ir}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-[10px] text-slate-400 border-t border-slate-200 pt-2",children:[a.jsxs("span",{children:[ir.length,"  ",ir.length>90?"LMS":"SMS"]}),a.jsxs("span",{children:[": ",ne]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-[11px] font-bold text-slate-600 mb-1.5",children:"/ "}),a.jsx(Ki,{value:Ze,onChange:Ee=>V(Ee.target.value),className:"flex-1 min-h-[120px] text-xs rounded-lg border-slate-200",placeholder:"    ()"})]})]}),$e&&a.jsx("div",{className:ue("rounded-xl border px-4 py-3 text-xs flex items-center gap-2",$e.success?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-red-200 bg-red-50 text-red-800"),children:$e.success?a.jsxs(a.Fragment,{children:[a.jsx(ws,{className:"h-4 w-4 shrink-0"}),a.jsxs("span",{children:["  ",$e.actualTo&&`(: ${$e.actualTo})`,$e.endpoint&&`  ${$e.endpoint}`]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Mf,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:$e.error??" "})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-1",children:[a.jsxs(dt,{variant:"outline",className:"h-11 text-sm font-semibold gap-2 rounded-xl border-slate-300",onClick:Ht,children:[a.jsx(as,{className:"h-4 w-4"})," "]}),a.jsxs(dt,{className:"h-11 bg-blue-600 text-sm font-semibold text-white hover:bg-blue-700 gap-2 rounded-xl",onClick:Qt,disabled:Dt||mr==="OPTOUT"||!ur,children:[a.jsx(wi,{className:"h-4 w-4"}),Dt?" ...":pe==="NOW"?" ":" "]})]}),mr==="OPTOUT"&&a.jsx("div",{className:"rounded-lg border border-zinc-300 bg-zinc-100 px-3 py-2 text-xs text-zinc-700",children:" .   ,      ."}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-700",children:" "}),(mr==="FAILED"||mr==="NO_RESPONSE"||mr==="CLICKED")&&a.jsx(dt,{size:"sm",variant:"outline",className:"h-7 text-[11px]",onClick:()=>ot({id:"CREATE_RECONTACT_TASK"}),children:"  "})]}),a.jsx("div",{className:"mt-2 space-y-1.5 max-h-[180px] overflow-y-auto",children:Fr.map(Ee=>{const Be=$6[Ee.status];return a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:ue("inline-flex rounded-full border px-2 py-0.5 text-[10px] font-semibold",Be.tone),children:Be.label}),a.jsx("span",{className:"text-[10px] text-slate-500",children:Ee.at})]}),Ee.note&&a.jsx("p",{className:"mt-1 text-[11px] text-slate-600",children:Ee.note})]},Ee.id)})})]}),Vt.length>0&&a.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[a.jsxs("button",{onClick:()=>Rt(!zr),className:"flex items-center gap-1.5 text-xs font-semibold text-slate-600",children:[zr?a.jsx($l,{className:"h-3.5 w-3.5"}):a.jsx(za,{className:"h-3.5 w-3.5"}),"  (",Vt.length,")"]}),zr&&a.jsx("div",{className:"mt-3 space-y-2 max-h-[240px] overflow-y-auto",children:Vt.map(Ee=>a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 text-xs bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:Ee.templateLabel}),a.jsx(Gr,{variant:"outline",className:ue("text-[10px]",nSe[Ee.status]),children:rSe[Ee.status]})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-500",children:[Ee.at,"  ",Ee.recipient,"  ",IE[Ee.type]]}),Ee.note&&a.jsxs("p",{className:"mt-1 text-[11px] text-slate-600 italic",children:[": ",Ee.note]}),Ee.linkUrl&&a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[": ",Ee.linkUrl]})]},Ee.id))})]})]}),_==="LINK"&&h&&a.jsxs("div",{className:ue("space-y-4",b?"px-4 py-4":"px-6 py-5"),children:[a.jsx("p",{className:"text-xs text-slate-500",children:" ,  ,      ."}),a.jsx("div",{className:"space-y-2",children:[{entry:"program",icon:Ff,bg:"bg-blue-100 text-blue-700",label:" ",sub:"    "},{entry:"call",icon:as,bg:"bg-emerald-100 text-emerald-700",label:"  ",sub:"v1    "},{entry:"sms",icon:wi,bg:"bg-amber-100 text-amber-700",label:"/ ",sub:"v1  /  "}].map(({entry:Ee,icon:Be,bg:Qe,label:Ft,sub:hr})=>a.jsxs("button",{onClick:()=>p?.(Ee),className:"w-full flex items-center justify-between rounded-xl border-2 border-slate-200 bg-white px-4 py-3.5 text-left hover:border-blue-300 hover:bg-blue-50/30 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:ue("h-9 w-9 rounded-lg flex items-center justify-center",Qe),children:a.jsx(Be,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Ft}),a.jsx("p",{className:"text-[11px] text-slate-500",children:hr})]})]}),a.jsx(Df,{className:"h-5 w-5 text-slate-400"})]},Ee))})]})]})}const UG=["","","",""],Qc=[{top:"",mid:"",sub:" ",code:"H-PH-001",label:"  ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-PH-002",label:"  ( 3 )",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:"",sub:" ",code:"H-PH-003",label:"   ",keywords:["","","",""],stageFit:[2],mciSeverityFit:[""],dementiaFit:!1},{top:"",mid:"",sub:" ",code:"H-PH-004",label:"    ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-PH-005",label:" ( )",keywords:["","",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"H-CG-001",label:"  (8)",keywords:["","","","8"],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:"",sub:"",code:"H-CG-002",label:"   ",keywords:["","","",""],stageFit:[2],mciSeverityFit:[""],dementiaFit:!1},{top:"",mid:"",sub:"",code:"H-CG-003",label:"  (1:1)",keywords:["","","","1:1"],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-CG-004",label:"    ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-CG-005",label:"/  ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"H-PR-001",label:"   ",keywords:["","",""],stageFit:[3],dementiaFit:!0},{top:"",mid:"",sub:"",code:"H-PR-002",label:" MRI/PET  ",keywords:["MRI","PET",""],stageFit:[3],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"H-PR-003",label:"    ",keywords:["","","",""],stageFit:[2,3],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"L-DA-001",label:"   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"L-DA-002",label:"  ()",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"L-DA-003",label:" /   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"L-AD-001",label:"  (/)",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:"",sub:"",code:"L-AD-002",label:"  /",keywords:["","",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"L-EN-001",label:"   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:" ",code:"L-EN-002",label:"   ",keywords:["","",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"L-SP-001",label:"  ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"L-SP-002",label:"   ",keywords:["","",""],stageFit:[2],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:"",sub:"",code:"S-FA-001",label:"   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-FA-002",label:"    ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-WA-001",label:" /",keywords:["","","GPS",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-WA-002",label:"   ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"119",code:"S-EM-001",label:"119  ",keywords:["119","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-EM-002",label:"    ",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-ME-001",label:"  (/)",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"S-ME-002",label:"    ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"F-ED-001",label:"   (1)",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"F-ED-002",label:"   (2)",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"F-ED-003",label:"    ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!1},{top:"",mid:" ",sub:" ",code:"F-RC-001",label:"  ()",keywords:["","","",""],stageFit:[2,3],mciSeverityFit:["",""],dementiaFit:!0},{top:"",mid:" ",sub:" ",code:"F-RC-002",label:"  ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-CO-001",label:"  ",keywords:["","",""],stageFit:[2,3],mciSeverityFit:["","",""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-CO-002",label:"/  ",keywords:["","","",""],stageFit:[3],mciSeverityFit:[""],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-DS-001",label:"  /",keywords:["","",""],stageFit:[3],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-DS-002",label:"  ",keywords:["","",""],stageFit:[2,3],dementiaFit:!0},{top:"",mid:"",sub:"",code:"F-DS-003",label:"   ",keywords:["","",""],stageFit:[3],dementiaFit:!0}];function iSe(e){const t=new Set;for(const r of Qc)r.top===e&&t.add(r.mid);return Array.from(t)}function oSe(e,t){return Qc.filter(r=>r.top===e&&r.mid===t)}function lSe(e){if(!e.trim())return Qc;const t=e.toLowerCase().trim();return Qc.filter(r=>r.label.toLowerCase().includes(t)||r.code.toLowerCase().includes(t)||r.keywords.some(n=>n.toLowerCase().includes(t))||r.mid.toLowerCase().includes(t)||r.sub.toLowerCase().includes(t))}function cSe(e){const t=[];e.stage===2&&(e.resultLabel==="MCI"?(e.mciSeverity===""?(nn(t,"H-PH-002","rule","","MCI        "),nn(t,"H-CG-001","rule","","   MCI    "),nn(t,"S-ME-001","rule","","   MCI     ")):e.mciSeverity===""?(nn(t,"H-CG-003","rule","","MCI  :      (  )"),nn(t,"H-PH-004","rule","","        "),nn(t,"F-ED-001","rule","","  MCI    (  )"),nn(t,"L-DA-001","rule","","      ")):e.mciSeverity===""&&(nn(t,"H-CG-003","rule","","MCI :   +     "),nn(t,"H-CG-005","rule","","/     (  )"),nn(t,"F-ED-002","rule","","        "),nn(t,"S-FA-001","rule","","     MCI   "),nn(t,"F-RC-001","rule","","         ")),e.riskTags.includes("")&&nn(t,"S-FA-002","rule","","         "),e.riskTags.includes("")&&nn(t,"S-WA-001","rule","","       "),e.riskTags.includes("")&&nn(t,"F-RC-001","rule","","        ")):e.resultLabel===""&&(nn(t,"H-PR-003","rule","","        "),nn(t,"F-DS-001","rule","","    (  )"),nn(t,"F-ED-002","rule","","     "))),e.stage===3&&(nn(t,"H-PR-001","rule","","Stage3       (  )"),nn(t,"H-PR-002","rule",""," MRI/PET    "),nn(t,"H-CG-003","rule","","       "),e.resultLabel===""&&(nn(t,"F-DS-001","rule","","      "),nn(t,"F-DS-002","rule","","    (  )")),e.riskTags.includes("")&&(nn(t,"S-EM-001","rule","","   119     "),nn(t,"L-DA-003","rule","","      (  )")),e.riskTags.includes("")&&nn(t,"S-ME-002","rule","","         "));const r=new Set;return t.filter(n=>r.has(n.code)?!1:(r.add(n.code),!0)).slice(0,5)}function nn(e,t,r,n,s){const i=Qc.find(o=>o.code===t);i&&e.push({code:i.code,label:i.label,top:i.top,mid:i.mid,reasonSummary:s,evidenceSnippets:[],source:r,confidenceLabel:n})}function dSe(e){const t=[];if(e.stage===2&&e.resultLabel==="MCI"&&e.mciSeverity===""){const r=Qc.find(n=>n.code==="H-CG-004");r&&t.push({code:r.code,label:r.label,top:r.top,mid:r.mid,reasonSummary:"MCI          (  )",evidenceSnippets:["   3.2: MCI      ,     ."," :     ,      ."],source:"rag",confidenceLabel:""})}if(e.stage===3){const r=Qc.find(n=>n.code==="F-CO-002");r&&t.push({code:r.code,label:r.label,top:r.top,mid:r.mid,reasonSummary:"Stage3         (  )",evidenceSnippets:["   :          ."],source:"rag",confidenceLabel:""})}return t.slice(0,3)}function uSe(e){const t=cSe(e),r=dSe(e),n=new Set(t.map(i=>i.code)),s=[...t];for(const i of r)n.has(i.code)||(n.add(i.code),s.push(i));return s.slice(0,5)}let U6=0;function fSe(e,t,r,n,s,i){return U6+=1,{eventId:`AE-${Date.now()}-${U6}`,caseId:e,actorId:t,actorName:r,at:new Date().toISOString(),type:n,payload:s,sourceMeta:i}}const pSe={ADD_SELECTED:"  ",REMOVE_SELECTED:"  ",UPDATE_EXECUTION:"  ",PIN:" ",UNPIN:" ",ADD_FROM_RECO:"  ",HOLD_RECO:"  ",STATUS_CHANGE:" "},mSe=["","","","",""],hSe=["","","",""],HG={:"bg-blue-100 text-blue-700",:"bg-amber-100 text-amber-700",:"bg-green-100 text-green-700",:"bg-gray-100 text-gray-500"};function gSe(e){const t=new Date;return t.setDate(t.getDate()+e),`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}const GG={:a.jsx(RY,{className:"h-4 w-4"}),:a.jsx(_p,{className:"h-4 w-4"}),:a.jsx(Yi,{className:"h-4 w-4"}),:a.jsx(Bo,{className:"h-4 w-4"})};function xSe({caseId:e,stage:t,resultLabel:r,mciSeverity:n,riskTags:s=[],actorId:i="OP-001",actorName:o="",readOnly:l=!1}){const[d,u]=g.useState([]),[m,p]=g.useState(new Set),[h,b]=g.useState(new Set),[v,N]=g.useState(!1),[y,S]=g.useState(""),[w,_]=g.useState(""),[A,E]=g.useState(new Set),[C,O]=g.useState([]),[D,R]=g.useState(null),[K,H]=g.useState(!1),[$,U]=g.useState(new Set),[P,G]=g.useState("picker"),L=g.useMemo(()=>({stage:t,resultLabel:r,mciSeverity:n,riskTags:s}),[t,r,n,s]),M=g.useMemo(()=>uSe(L),[L]),B=g.useCallback((V,de,Ae)=>{const ce=fSe(e,i,o,V,de,Ae);O(ye=>[ce,...ye])},[e,i,o]),J=g.useCallback(V=>{p(de=>{const Ae=new Set(de);if(Ae.has(V))Ae.delete(V),u(ce=>ce.filter(ye=>ye.code!==V)),B("REMOVE_SELECTED",{code:V});else{Ae.add(V);const ce=Qc.find(ye=>ye.code===V);if(ce){const ye={code:ce.code,label:ce.label,top:ce.top,mid:ce.mid,mode:"",dueDate:"",assigneeId:i,assigneeName:o,notes:"",status:"",addedAt:new Date().toISOString(),addedSource:"manual"};u(Ie=>[...Ie,ye]),B("ADD_SELECTED",{code:V,label:ce.label})}}return Ae})},[i,o,B]),ee=g.useCallback(V=>{if(m.has(V.code))return;p(Ae=>new Set(Ae).add(V.code));const de={code:V.code,label:V.label,top:V.top,mid:V.mid,mode:"",dueDate:"",assigneeId:i,assigneeName:o,notes:"",status:"",addedAt:new Date().toISOString(),addedSource:V.source};u(Ae=>[...Ae,de]),B("ADD_FROM_RECO",{code:V.code,label:V.label,source:V.source},{source:V.source,code:V.code})},[m,i,o,B]),I=g.useCallback(V=>{b(de=>{const Ae=new Set(de);return Ae.has(V)?(Ae.delete(V),B("UNPIN",{code:V})):(Ae.add(V),B("PIN",{code:V})),Ae})},[B]),Y=g.useCallback(()=>{if(l)return;const V=M.filter(de=>!m.has(de.code)).slice(0,3);if(V.length!==0)for(const de of V)ee(de)},[ee,m,M,l]),ae=g.useCallback(()=>{l||(u(V=>V.map((de,Ae)=>{const ce=t===2?r===""?"":r==="MCI"?Ae%2===0?"":"":"":Ae%3===0?"":Ae%3===1?"":"",ye=de.status===""?"":"",Ie=de.dueDate||gSe(t===2?3+Ae:2+Ae);return{...de,mode:ce,status:ye,dueDate:Ie}})),B("STATUS_CHANGE",{reason:"  ",stage:t,resultLabel:r}))},[B,l,r,t]),le=g.useMemo(()=>d.filter(V=>V.addedSource&&V.addedSource!=="manual").length,[d]),he=g.useMemo(()=>d.filter(V=>V.status==="").length,[d]),X=g.useMemo(()=>d.filter(V=>V.status==="").length,[d]),ne=g.useMemo(()=>d.filter(V=>V.status!==""&&!V.dueDate).length,[d]),ve=g.useMemo(()=>{if(M.length===0)return 0;const V=M.filter(de=>m.has(de.code)).length;return Math.round(V/M.length*100)},[m,M]),pe=g.useMemo(()=>t===2?["1)      ","2)  // ","3)   "]:["1) /   ","2)   /  ","3)     "],[t]),Ce=g.useCallback(V=>{R({...V}),H(!0)},[]),ge=g.useCallback(V=>{u(de=>de.map(Ae=>Ae.code===V.code?V:Ae)),B("UPDATE_EXECUTION",{code:V.code,mode:V.mode,status:V.status,dueDate:V.dueDate,assigneeName:V.assigneeName}),H(!1),R(null)},[B]),se=g.useMemo(()=>{if(!y.trim())return null;let V=lSe(y);return v&&(V=V.filter(de=>h.has(de.code))),V},[y,v,h]),Ze=g.useCallback(V=>{E(de=>{const Ae=new Set(de);return Ae.has(V)?Ae.delete(V):Ae.add(V),Ae})},[]);return a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-3",children:[a.jsxs("div",{className:"xl:col-span-8 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Gr,{variant:"outline",className:"text-xs",children:["Stage ",t]}),a.jsx(Gr,{variant:"outline",className:"text-xs",children:r}),n&&a.jsxs(Gr,{variant:"outline",className:"text-xs",children:["MCI ",n]}),s.map(V=>a.jsx(Gr,{variant:"destructive",className:"text-xs",children:V},V))]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),a.jsxs("p",{className:"mt-1 text-sm font-bold text-slate-900",children:[ve,"%"]}),a.jsx("div",{className:"mt-1.5 h-1.5 w-full rounded-full bg-gray-200 overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-blue-500 transition-all",style:{width:`${ve}%`}})}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",M.length,"  ",le," "]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),a.jsxs("p",{className:"mt-1 text-sm font-bold text-slate-900",children:[d.length===0?0:Math.round(he/d.length*100),"%"]}),a.jsx("div",{className:"mt-1.5 h-1.5 w-full rounded-full bg-gray-200 overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${d.length===0?0:Math.round(he/d.length*100)}%`}})}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",he," /  ",X]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),a.jsxs("p",{className:"mt-1 text-sm font-bold text-slate-900",children:[ne,""]}),a.jsx("p",{className:"text-[10px] text-slate-500",children:"/  "})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),pe.map(V=>a.jsx("p",{className:"mt-1 text-[10px] text-slate-600",children:V},V))]})]}),!l&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(dt,{size:"sm",variant:"outline",onClick:Y,children:[a.jsx(ib,{className:"mr-1 h-3.5 w-3.5"}),"  3  "]}),a.jsxs(dt,{size:"sm",variant:"outline",onClick:ae,children:[a.jsx(Fo,{className:"mr-1 h-3.5 w-3.5"}),"   "]})]}),a.jsx("div",{className:"flex gap-1 border-b border-gray-200 pb-0",children:["picker","selected","audit"].map(V=>a.jsxs("button",{onClick:()=>G(V),className:ue("px-3 py-2 text-sm font-medium border-b-2 transition-colors",P===V?"border-blue-600 text-blue-700":"border-transparent text-gray-500 hover:text-gray-700"),children:[V==="picker"&&a.jsxs(a.Fragment,{children:[a.jsx(TT,{className:"inline h-3.5 w-3.5 mr-1"})," "]}),V==="selected"&&a.jsxs(a.Fragment,{children:[a.jsx(Qd,{className:"inline h-3.5 w-3.5 mr-1"})," (",d.length,")"]}),V==="audit"&&a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"inline h-3.5 w-3.5 mr-1"}),"  (",C.length,")"]})]},V))}),P==="picker"&&a.jsx(bSe,{activeTop:w,setActiveTop:_,expandedMids:A,toggleMid:Ze,checkedCodes:m,toggleCheck:J,pinnedCodes:h,togglePin:I,showPinnedOnly:v,setShowPinnedOnly:N,searchQuery:y,setSearchQuery:S,searchResults:se,readOnly:l}),P==="selected"&&a.jsx(ySe,{items:d,onOpenDrawer:Ce,readOnly:l}),P==="audit"&&a.jsx(SSe,{events:C})]}),a.jsx("div",{className:"xl:col-span-4",children:a.jsx("div",{className:"sticky top-4",children:a.jsx(NSe,{recommendations:M,checkedCodes:m,heldCodes:$,onAdd:ee,onHold:V=>{U(de=>new Set(de).add(V)),B("HOLD_RECO",{code:V})},readOnly:l})})}),K&&D&&a.jsx(vSe,{item:D,onSave:ge,onClose:()=>{H(!1),R(null)},readOnly:l})]})}function bSe({activeTop:e,setActiveTop:t,expandedMids:r,toggleMid:n,checkedCodes:s,toggleCheck:i,pinnedCodes:o,togglePin:l,showPinnedOnly:d,setShowPinnedOnly:u,searchQuery:m,setSearchQuery:p,searchResults:h,readOnly:b}){const v=g.useRef(null);return a.jsxs(Nr,{children:[a.jsxs(pn,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(mn,{className:"text-sm flex items-center gap-1.5",children:[a.jsx(TT,{className:"h-4 w-4 text-blue-600"})," "]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{onClick:()=>u(!d),className:ue("flex items-center gap-1 text-xs px-2 py-1 rounded-md transition-colors",d?"bg-amber-100 text-amber-700":"text-gray-500 hover:bg-gray-100"),children:[d?a.jsx(TV,{className:"h-3 w-3"}):a.jsx(OV,{className:"h-3 w-3"})," "]})})]}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(_0,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-gray-400"}),a.jsx(Cr,{value:m,onChange:N=>p(N.target.value),placeholder:", ,  ...",className:"pl-8 h-8 text-xs"}),m&&a.jsx("button",{onClick:()=>p(""),className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:a.jsx(ed,{className:"h-3.5 w-3.5"})})]})]}),a.jsx(Sr,{className:"pt-0",children:h!==null?a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[h.length,"  "]}),a.jsx("div",{ref:v,className:"max-h-[400px] overflow-y-auto space-y-0.5 pr-1",children:h.length===0?a.jsx("div",{className:"text-center text-xs text-gray-400 py-8",children:"  "}):h.map(N=>a.jsx(H6,{item:N,checked:s.has(N.code),pinned:o.has(N.code),onToggle:()=>i(N.code),onPin:()=>l(N.code),readOnly:b,showBreadcrumb:!0},N.code))})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-4 gap-1.5 mt-2 mb-3",children:UG.map(N=>{const y=e===N;return a.jsxs("button",{onClick:()=>t(N),className:ue("flex flex-col items-center gap-1 py-2.5 rounded-lg text-xs font-medium transition-all border",y?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-200 bg-white text-gray-600 hover:bg-gray-50"),children:[a.jsx("span",{className:ue("p-1.5 rounded-md",y?"bg-blue-100":"bg-gray-100"),children:GG[N]}),N]},N)})}),a.jsx("div",{ref:v,className:"max-h-[400px] overflow-y-auto space-y-1 pr-1",children:iSe(e).map(N=>{const y=r.has(N);let S=oSe(e,N);return d&&(S=S.filter(w=>o.has(w.code))),a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>n(N),className:"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-700 bg-gray-50 hover:bg-gray-100 transition-colors","aria-expanded":y,children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[y?a.jsx(za,{className:"h-3.5 w-3.5"}):a.jsx(Hs,{className:"h-3.5 w-3.5"}),N,a.jsx(Gr,{variant:"secondary",className:"text-[10px] ml-1",children:S.length})]}),S.some(w=>s.has(w.code))&&a.jsxs(Gr,{className:"text-[10px] bg-blue-600",children:[S.filter(w=>s.has(w.code)).length," "]})]}),y&&a.jsx("div",{className:"border-t border-gray-100 divide-y divide-gray-50",children:S.length===0?a.jsx("div",{className:"text-xs text-gray-400 text-center py-3",children:d?"   ":" "}):S.map(w=>a.jsx(H6,{item:w,checked:s.has(w.code),pinned:o.has(w.code),onToggle:()=>i(w.code),onPin:()=>l(w.code),readOnly:b},w.code))})]},N)})})]})})]})}function H6({item:e,checked:t,pinned:r,onToggle:n,onPin:s,readOnly:i,showBreadcrumb:o=!1}){return a.jsxs("div",{className:ue("flex items-center gap-2 px-3 py-2 text-xs transition-colors group",t?"bg-blue-50/60":"hover:bg-gray-50"),children:[!i&&a.jsx("button",{onClick:n,className:ue("w-4 h-4 rounded border flex items-center justify-center shrink-0 transition-colors",t?"bg-blue-600 border-blue-600 text-white":"border-gray-300 hover:border-blue-400"),"aria-label":`${e.label} ${t?" ":""}`,children:t&&a.jsx(Qd,{className:"h-3 w-3"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-800 truncate",children:e.label}),o&&a.jsxs("div",{className:"text-[10px] text-gray-400 truncate mt-0.5",children:[e.top,"  ",e.mid,"  ",e.sub]})]}),a.jsx("span",{className:"text-[10px] text-gray-400 font-mono shrink-0",children:e.code}),a.jsx("button",{onClick:s,className:ue("p-0.5 rounded transition-colors shrink-0",r?"text-amber-500":"text-gray-300 opacity-0 group-hover:opacity-100"),"aria-label":`${e.label} ${r?" ":" "}`,children:r?a.jsx(TX,{className:"h-3 w-3 fill-current"}):a.jsx(_X,{className:"h-3 w-3"})})]})}function ySe({items:e,onOpenDrawer:t,readOnly:r}){if(e.length===0)return a.jsx(Nr,{children:a.jsxs(Sr,{className:"py-8 text-center",children:[a.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mb-3",children:a.jsx(TT,{className:"h-6 w-6 text-blue-400"})}),a.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"   "}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1.5 max-w-[280px] mx-auto",children:['" "    ,',a.jsx("br",{}),"        ."]}),a.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:a.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-md border border-blue-200 bg-blue-50 px-3 py-1.5 text-[11px] text-blue-700",children:[a.jsx(ib,{className:"h-3.5 w-3.5"}),"       "]})})]})});const n=e.reduce((s,i)=>((s[i.top]??=[]).push(i),s),{});return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[a.jsxs("span",{children:[" ",e.length," "]}),a.jsx("span",{children:""}),a.jsxs("span",{className:"text-green-600",children:[e.filter(s=>s.status==="").length," "]}),a.jsxs("span",{className:"text-amber-600",children:[e.filter(s=>s.status==="").length," "]}),a.jsxs("span",{className:"text-blue-600",children:[e.filter(s=>s.status==="").length," "]}),a.jsxs("span",{className:"text-gray-400",children:[e.filter(s=>s.status==="").length," "]})]}),UG.filter(s=>n[s]?.length).map(s=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[a.jsx("span",{className:"p-1 rounded bg-gray-100",children:GG[s]}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:s}),a.jsx(Gr,{variant:"secondary",className:"text-[10px]",children:n[s].length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:n[s].map(i=>a.jsxs("button",{onClick:()=>!r&&t(i),className:ue("text-left border rounded-lg p-3 transition-all",r?"cursor-default":"hover:shadow-md hover:border-blue-300 cursor-pointer","bg-white border-gray-200"),children:[a.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-800 flex-1 min-w-0 truncate",children:i.label}),a.jsx(Gr,{className:ue("text-[10px] shrink-0 ml-2",HG[i.status]),children:i.status})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 text-[11px] text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Zd,{className:"h-3 w-3"}),i.mode]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Vo,{className:"h-3 w-3"}),i.assigneeName]}),i.dueDate&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(FV,{className:"h-3 w-3"}),i.dueDate]}),i.orgLink?.name&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(sb,{className:"h-3 w-3"}),i.orgLink.name]})]}),i.notes&&a.jsxs("div",{className:"text-[10px] text-gray-400 mt-1.5 truncate",children:[" ",i.notes]}),i.addedSource&&i.addedSource!=="manual"&&a.jsxs("div",{className:"text-[10px] text-purple-500 mt-1",children:[a.jsx(ib,{className:"inline h-3 w-3 mr-0.5"}),i.addedSource==="rule"?"   ":"   "," "]}),!r&&a.jsxs("div",{className:"text-[10px] mt-2 text-blue-600 font-medium flex items-center gap-1",children:[a.jsx(sa,{className:"h-3 w-3"}),"  "]})]},i.code))})]},s))]})}function vSe({item:e,onSave:t,onClose:r,readOnly:n}){const[s,i]=g.useState({...e}),o=(d,u)=>{i(m=>({...m,[d]:u}))},l=(d,u)=>{i(m=>({...m,orgLink:{...m.orgLink,name:m.orgLink?.name??"",[d]:u}}))};return a.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:r}),a.jsxs("div",{className:"relative w-full max-w-md bg-white shadow-xl flex flex-col animate-in slide-in-from-right duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"  "}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:s.label})]}),a.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-gray-200 text-gray-500",children:a.jsx(ed,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-4",children:[a.jsxs("div",{children:[a.jsx(wc,{children:" "}),a.jsx("div",{className:"text-xs text-gray-600 bg-gray-50 px-2 py-1.5 rounded font-mono",children:s.code})]}),a.jsxs("div",{children:[a.jsx(wc,{children:""}),a.jsxs("div",{className:"text-xs text-gray-600",children:[s.top,"  ",s.mid]})]}),a.jsxs("div",{children:[a.jsx(wc,{children:" "}),a.jsx("div",{className:"grid grid-cols-5 gap-1 mt-1",children:mSe.map(d=>a.jsx("button",{onClick:()=>!n&&o("mode",d),disabled:n,className:ue("text-xs py-1.5 rounded-md border transition-colors text-center",s.mode===d?"bg-blue-600 text-white border-blue-600":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:d},d))})]}),a.jsxs("div",{children:[a.jsx(wc,{children:""}),a.jsx("div",{className:"grid grid-cols-4 gap-1 mt-1",children:hSe.map(d=>a.jsx("button",{onClick:()=>!n&&o("status",d),disabled:n,className:ue("text-xs py-1.5 rounded-md border transition-colors text-center",s.status===d?HG[d]+" border-transparent font-medium":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:d},d))})]}),a.jsxs("div",{children:[a.jsx(wc,{children:""}),a.jsx(Cr,{value:s.assigneeName,onChange:d=>o("assigneeName",d.target.value),className:"h-8 text-xs mt-1",disabled:n})]}),a.jsxs("div",{children:[a.jsx(wc,{children:""}),a.jsx(Cr,{type:"date",value:s.dueDate,onChange:d=>o("dueDate",d.target.value),className:"h-8 text-xs mt-1",disabled:n})]}),a.jsxs("div",{children:[a.jsx(wc,{children:" "}),a.jsxs("div",{className:"space-y-1.5 mt-1",children:[a.jsx(Cr,{placeholder:"",value:s.orgLink?.name??"",onChange:d=>l("name",d.target.value),className:"h-8 text-xs",disabled:n}),a.jsx(Cr,{placeholder:"",value:s.orgLink?.phone??"",onChange:d=>l("phone",d.target.value),className:"h-8 text-xs",disabled:n}),a.jsx(Cr,{placeholder:"",value:s.orgLink?.note??"",onChange:d=>l("note",d.target.value),className:"h-8 text-xs",disabled:n})]})]}),a.jsxs("div",{children:[a.jsx(wc,{children:" (/)"}),a.jsx(Ki,{value:s.notes,onChange:d=>o("notes",d.target.value),className:"text-xs mt-1 min-h-[60px]",placeholder:" ...",disabled:n})]})]}),!n&&a.jsxs("div",{className:"flex items-center justify-end gap-2 px-4 py-3 border-t bg-gray-50",children:[a.jsx(dt,{variant:"outline",size:"sm",onClick:r,children:""}),a.jsx(dt,{size:"sm",onClick:()=>t(s),children:""})]})]})]})}function wc({children:e}){return a.jsx("label",{className:"text-xs font-medium text-gray-700",children:e})}function NSe({recommendations:e,checkedCodes:t,heldCodes:r,onAdd:n,onHold:s,readOnly:i}){const[o,l]=g.useState(new Set),d=u=>{l(m=>{const p=new Set(m);return p.has(u)?p.delete(u):p.add(u),p})};return a.jsxs(Nr,{className:"border-purple-200",children:[a.jsxs(pn,{className:"pb-2",children:[a.jsxs(mn,{className:"text-sm flex items-center gap-1.5",children:[a.jsx(ib,{className:"h-4 w-4 text-purple-600"}),"   "]}),a.jsxs("div",{className:"flex items-start gap-1.5 bg-amber-50 border border-amber-200 rounded-md px-2.5 py-2 mt-2",children:[a.jsx($f,{className:"h-3.5 w-3.5 text-amber-600 mt-0.5 shrink-0"}),a.jsx("p",{className:"text-[11px] text-amber-800 leading-relaxed",children:" ,      ."})]})]}),a.jsx(Sr,{className:"pt-0 space-y-2",children:e.length===0?a.jsx("div",{className:"text-center text-xs text-gray-400 py-6",children:"      "}):e.map(u=>{const m=t.has(u.code),p=r.has(u.code),h=o.has(u.code);return a.jsxs("div",{className:ue("border rounded-lg p-2.5 transition-colors",m?"border-green-300 bg-green-50/50":p?"border-gray-200 bg-gray-50 opacity-60":"border-gray-200 bg-white"),children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-800 flex-1",children:u.label}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx(Gr,{variant:"outline",className:ue("text-[10px]",u.source==="rule"?"border-blue-300 text-blue-600":"border-purple-300 text-purple-600"),children:u.source==="rule"?"":" "}),a.jsx(Gr,{variant:"outline",className:ue("text-[10px]",u.confidenceLabel===""?"border-green-300 text-green-600":u.confidenceLabel===""?"border-amber-300 text-amber-600":"border-gray-300 text-gray-500"),children:u.confidenceLabel})]})]}),a.jsx("p",{className:"text-[11px] text-gray-600 leading-relaxed mb-2",children:u.reasonSummary}),u.evidenceSnippets.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsxs("button",{onClick:()=>d(u.code),className:"text-[10px] text-purple-600 hover:underline flex items-center gap-0.5",children:[h?a.jsx($l,{className:"h-3 w-3"}):a.jsx(za,{className:"h-3 w-3"}),"  "]}),h&&a.jsx("div",{className:"mt-1.5 space-y-1.5",children:u.evidenceSnippets.map((b,v)=>a.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded px-2 py-1.5 text-[10px] text-gray-600 leading-relaxed",children:b},v))})]}),!i&&!m&&!p&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs(dt,{size:"sm",variant:"outline",className:"text-[11px] h-7",onClick:()=>n(u),children:[a.jsx(U8,{className:"h-3 w-3 mr-0.5"}),"  "]}),a.jsx(dt,{size:"sm",variant:"ghost",className:"text-[11px] h-7 text-gray-400",onClick:()=>s(u.code),children:""})]}),m&&a.jsxs("div",{className:"text-[10px] text-green-600 flex items-center gap-1",children:[a.jsx(Qd,{className:"h-3 w-3"}),"  "]}),p&&!m&&a.jsx("div",{className:"text-[10px] text-gray-400 flex items-center gap-1",children:"  (  )"})]},u.code)})})]})}function SSe({events:e}){return e.length===0?a.jsx(Nr,{children:a.jsxs(Sr,{className:"py-8 text-center",children:[a.jsx(Gn,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"  "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" /   "})]})}):a.jsxs(Nr,{children:[a.jsx(pn,{className:"pb-2",children:a.jsxs(mn,{className:"text-sm flex items-center gap-1.5",children:[a.jsx(Gn,{className:"h-4 w-4 text-gray-600"}),"  ",a.jsxs(Gr,{variant:"secondary",className:"text-[10px] ml-1",children:[e.length,""]})]})}),a.jsx(Sr,{className:"pt-0",children:a.jsx("div",{className:"relative space-y-0 max-h-[400px] overflow-y-auto",children:e.map((t,r)=>a.jsxs("div",{className:"flex gap-3 pb-3",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:ue("w-2 h-2 rounded-full mt-1.5 shrink-0",t.type==="ADD_SELECTED"||t.type==="ADD_FROM_RECO"?"bg-blue-500":t.type==="UPDATE_EXECUTION"?"bg-amber-500":t.type==="REMOVE_SELECTED"?"bg-red-500":"bg-gray-400")}),r<e.length-1&&a.jsx("div",{className:"flex-1 w-px bg-gray-200 mt-1"})]}),a.jsxs("div",{className:"flex-1 min-w-0 pb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("span",{className:"font-medium text-gray-800",children:pSe[t.type]}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-gray-400",children:t.actorName})]}),a.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5",children:new Date(t.at).toLocaleString("ko-KR")}),t.payload&&a.jsx("div",{className:"text-[10px] text-gray-500 mt-1 bg-gray-50 rounded px-2 py-1",children:Object.entries(t.payload).map(([n,s])=>a.jsxs("span",{className:"mr-2",children:[n,": ",a.jsx("strong",{children:String(s)})]},n))}),t.sourceMeta&&a.jsxs("div",{className:"text-[10px] text-purple-500 mt-0.5",children:[": ",t.sourceMeta.source==="rule"?" ":" "]})]})]},t.eventId))})})]})}function FE(e){if(e==null||Number.isNaN(e))return 0;const t=e<=1?e*100:e;return Math.max(0,Math.min(100,Math.round(t)))}function jSe(e){const t={NORMAL:FE(e?.NORMAL),MCI:FE(e?.MCI),AD:FE(e?.AD)},r=t.NORMAL+t.MCI+t.AD;return r<=0?{NORMAL:0,MCI:0,AD:0,hasData:!1}:{NORMAL:Math.round(t.NORMAL/r*100),MCI:Math.round(t.MCI/r*100),AD:Math.round(t.AD/r*100),hasData:!0}}function wSe(e){return e<40?"":e<70?"":""}function ESe(e){return e===""?82:e===""?34:58}function ASe(e){return e===""?"":e===""?"":""}function zG({probs:e,predictedLabel:t,mciSeverity:r,mciScore:n}){const s=g.useMemo(()=>jSe(e),[e]),i=[{key:"NORMAL",label:"NORMAL",value:s.NORMAL,tone:"bg-emerald-500",textTone:"text-emerald-700"},{key:"MCI",label:"MCI",value:s.MCI,tone:"bg-blue-500",textTone:"text-blue-700"},{key:"AD",label:"AD",value:s.AD,tone:"bg-rose-500",textTone:"text-rose-700"}],o=i.reduce((h,b)=>b.value>h.value?b:h,i[0]),l=t===""?"NORMAL":t===""?"AD":t==="MCI"?"MCI":void 0,d=Math.max(0,Math.min(100,Math.round(n??ESe(r)))),u=wSe(d),m=ASe(r),p=t==="MCI";return a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-gradient-to-b from-white to-slate-50 p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"Stage2   "}),a.jsx("span",{className:"rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-semibold text-slate-700",title:"   .  .",children:"  ( )"})]}),s.hasData?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-3 overflow-hidden rounded-lg border border-slate-200 bg-white",children:a.jsx("div",{className:"flex h-10 w-full",children:i.map(h=>{const b=`${h.value}%`,v=h.key===o.key,N=l===h.key;return a.jsxs("div",{title:`${h.label}: ${h.value}%`,className:ue("relative flex min-w-0 items-center justify-center px-1 text-[11px] font-bold text-white",h.tone,v&&"ring-2 ring-white/80",N&&"outline outline-2 outline-slate-900/60 outline-offset-[-2px]"),style:{width:b},children:[h.value>=9?`${h.label} ${h.value}%`:`${h.value}%`,v?a.jsx("span",{className:"absolute right-1 top-1 rounded bg-white/85 px-1 py-[1px] text-[9px] font-bold text-slate-700",children:" "}):null]},h.key)})})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:i.map(h=>a.jsxs("span",{className:ue("rounded border border-slate-200 bg-white px-2 py-1 text-[11px] font-semibold",h.textTone),children:[h.label," ",h.value,"%"]},`legend-${h.key}`))})]}):a.jsx("p",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2 text-[11px] text-slate-500",children:"   ."}),p?a.jsxs("div",{className:"mt-4 rounded-lg border border-blue-200 bg-blue-50/60 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-blue-900",children:"MCI   (ANN)"}),a.jsxs("span",{className:"rounded-full border border-blue-200 bg-white px-2 py-0.5 text-[10px] font-semibold text-blue-700",title:":  , : /  , :   +  ",children:[" : ",u]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"relative h-3 rounded-full bg-gradient-to-r from-emerald-400 via-amber-400 to-rose-500",children:a.jsx("span",{className:"absolute top-1/2 h-4 w-4 -translate-y-1/2 rounded-full border-2 border-white bg-slate-900 shadow",style:{left:`calc(${d}% - 8px)`},"aria-label":`MCI  ${d}`})}),a.jsxs("div",{className:"mt-1 flex items-center justify-between text-[10px] text-slate-500",children:[a.jsx("span",{children:"0 ()"}),a.jsx("span",{children:"40 ()"}),a.jsx("span",{children:"70 ()"}),a.jsx("span",{children:"100"})]}),a.jsxs("p",{className:"mt-1 text-[11px] font-semibold text-slate-700",children:[" ",d,"   ",m]})]})]}):null]})}const _Se=["AGE_OVER_THRESHOLD","HAS_MCI_HISTORY","HAS_DEMENTIA_HISTORY","HAS_COMPLAINT_HISTORY","HAS_REFUSAL_HISTORY","GUARDIAN_PRIMARY","COMPREHENSION_DIFFICULTY"],KG=new Set(_Se);function CSe(e){const t=[];e.age>=80&&t.push("AGE_OVER_THRESHOLD"),e.dxHistory.hasMCI&&t.push("HAS_MCI_HISTORY"),e.dxHistory.hasDementia&&t.push("HAS_DEMENTIA_HISTORY"),e.contactHistory.hasComplaint&&t.push("HAS_COMPLAINT_HISTORY"),e.contactHistory.hasRefusal&&t.push("HAS_REFUSAL_HISTORY"),e.guardian.isPrimaryContact&&t.push("GUARDIAN_PRIMARY"),e.contactHistory.needsGuardian&&t.push("NEEDS_GUARDIAN_SUPPORT"),e.contactHistory.comprehensionDifficultyFlag&&t.push("COMPREHENSION_DIFFICULTY"),t.length===0&&t.push("STANDARD_CONTACT_PATH");const r=t.some(s=>KG.has(s))?"HUMAN_FIRST":"AI_FIRST";return{strategy:r,triggers:t,policyNote:r==="HUMAN_FIRST"?"       .      .":" ()  /   .        .",confidence:"RULE"}}function g3(e){return e.some(t=>KG.has(t))}function TSe({outcomeCode:e,execution:t,linkageStatus:r,contactPlan:n}){const s=e==="REQUEST_HUMAN"||e==="REQUEST_GUARDIAN"||e==="CONFUSED"||e==="EMOTIONAL";let i=t.status;e==="CONTINUE_SELF"&&(i="DONE"),e==="SCHEDULE_LATER"&&(i="WAITING_RESPONSE"),e==="NO_RESPONSE"&&(i="RETRY_NEEDED"),e==="REFUSE"&&(i="STOPPED"),s&&(i="HANDOFF_TO_HUMAN");const o=e==="NO_RESPONSE"?t.retryCount+1:t.retryCount;let l=r,d=" ";e==="CONTINUE_SELF"?(l=r==="BOOKING_IN_PROGRESS"?"BOOKING_DONE":"BOOKING_IN_PROGRESS",d=l==="BOOKING_DONE"?"     ":"  "):e==="SCHEDULE_LATER"?(l="BOOKING_IN_PROGRESS",d="  "):s?(l="REFERRAL_CREATED",d="   /  "):e==="REFUSE"?(l="NOT_CREATED",d="   "):e==="NO_RESPONSE"&&(d="  ");let u=n;u&&e==="SCHEDULE_LATER"&&(u={...u});let m=!1;return u&&e==="NO_RESPONSE"&&o>=2&&u.channel!=="HYBRID"&&(u={...u,channel:"HYBRID"},m=!0),{executionStatus:i,retryCount:o,linkageStatus:l,contactPlan:u,requiresHandoffMemo:s,recommendedNextAction:d,recontactAfterHours:e==="SCHEDULE_LATER"?72:e==="NO_RESPONSE"?24:e==="REFUSE"?168:48,switchedToHybrid:m}}const _o="",BE=" ",jo="02-555-0199";function kSe(){return typeof window<"u"?`${`${window.location.origin}${"/neuro-shield/".replace(/\/$/,"")}`}/p/sms?t=preview`:"http://146.56.162.226/neuro-shield/p/sms?t=preview"}const OSe=kSe(),qG=" 080-000-0000",x3=[{id:"S1_CONTACT_BASE",messageType:"CONTACT",label:"1 ()",body:({centerName:e,guideLink:t,centerPhone:r})=>`[:${e}]     .  (/)   .      : ${t} / : ${r}`},{id:"S1_CONTACT_GUARDIAN",messageType:"CONTACT",label:"1 ( )",body:({centerName:e,guideLink:t,centerPhone:r})=>`[:${e}]        ()   .  / : ${t} / : ${r}`},{id:"S1_BOOKING_BASE",messageType:"BOOKING",label:"1 (/)",body:({centerName:e,centerPhone:t,reservationLink:r})=>`[:${e}]  . ${r}     ${t}  .`},{id:"S1_BOOKING_CHANNEL",messageType:"BOOKING",label:"1 (/ )",body:({centerName:e,centerPhone:t,reservationLink:r})=>`[:${e}]   . ${r}  /   . : ${t}`},{id:"S1_REMINDER_FIRST",messageType:"REMINDER",label:"1 (1 )",body:({centerName:e,centerPhone:t,unsubscribe:r})=>`[:${e}]       .    . : ${t} / ${r}`},{id:"S1_REMINDER_FINAL",messageType:"REMINDER",label:"1 ()",body:({centerName:e,centerPhone:t})=>`[:${e}]    .      . : ${t}`}],b3=[{id:"S2_CONTACT_BASE",messageType:"CONTACT",label:"2   ",body:({centerName:e,guideLink:t,centerPhone:r})=>`[:${e}] 2 (/)  .        . ${t} / : ${r}`},{id:"S2_CONTACT_RELIEF",messageType:"CONTACT",label:"2   ",body:({centerName:e,guideLink:t,centerPhone:r})=>`[:${e}] 2   .       .  : ${t} / : ${r}`},{id:"S2_BOOKING_NEURO",messageType:"BOOKING",label:"2   ",body:({centerName:e,reservationLink:t})=>`[:${e}] 2       . / : ${t}`},{id:"S2_BOOKING_CLINICAL",messageType:"BOOKING",label:"2   ",body:({centerName:e,reservationLink:t,centerPhone:r})=>`[:${e}] 2 (  )  . /: ${t} / : ${r}`},{id:"S2_REMINDER_BOOKING",messageType:"REMINDER",label:"2  / ",body:({centerName:e,guideLink:t,centerPhone:r})=>`[:${e}]      .         . ${t} / : ${r}`},{id:"S2_REMINDER_NOSHOW",messageType:"REMINDER",label:"2   ",body:({centerName:e,reservationLink:t})=>`[:${e}]      .    . ${t}`}],y3=[{id:"S3_CONTACT_BASE",messageType:"CONTACT",label:"3   ",body:({centerName:e,centerPhone:t})=>`[:${e}]     . /    . : ${t}`},{id:"S3_BOOKING_REEVAL",messageType:"BOOKING",label:"3 /  ",body:({centerName:e,reservationLink:t,centerPhone:r})=>`[:${e}] /  .   : ${t} / : ${r}`},{id:"S3_BOOKING_CONFIRM",messageType:"BOOKING",label:"3  / ",body:({centerName:e,reservationLink:t,centerPhone:r})=>`[:${e}]      .  /: ${t} / : ${r}`},{id:"S3_PROGRAM_GUIDE",messageType:"CONTACT",label:"3 (/) ",body:({centerName:e,guideLink:t,centerPhone:r})=>`[:${e}]  / .        . ${t} / : ${r}`},{id:"S3_REMINDER_TRACK",messageType:"REMINDER",label:"3 ( )",body:({centerName:e,centerPhone:t})=>`[:${e}]     .      . : ${t}`}],RSe=[{step:"greeting",title:"1:    ",content:".   .   ?       .",tips:["  ","    ","   "],checkpoints:["  ","/ ","   "]},{step:"purpose",title:"2:  ",content:"       . /     .",tips:["   ","   ","   "],checkpoints:["  ","   ","  "]},{step:"assessment",title:"3:   ",content:"   ,  (//), /    .       .",tips:["  ","  ","  "],checkpoints:["  ","  ","    "]},{step:"scheduling",title:"4:   ",content:"     , / ,   .     .",tips:["  1 ","   ","  "],checkpoints:["  ","   ","  "]}],PSe=[{step:"greeting",title:"1:   / ",content:".   .   ?       .",tips:["    ","/   ","   "],checkpoints:["  ","/ ","  "]},{step:"purpose",title:"2: 2  ",content:"  2 (/)   .        .",tips:["     ","   ","   "],checkpoints:["2   ","   ","   "]},{step:"assessment",title:"3: /  ",content:"   ,   ,     .       .",tips:["    ","   ","/    "],checkpoints:["/  ","/  ","  "]},{step:"scheduling",title:"4:    ",content:"     , / ,    .     .",tips:["  1 ","   ","  "],checkpoints:["  ","/  ","  "]}];function kt(){return new Date().toISOString()}function pt(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function nt(e){return new Date(Date.now()+e*60*60*1e3).toISOString()}function Pc(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const r=t.getTimezoneOffset();return new Date(t.getTime()-r*60*1e3).toISOString().slice(0,16)}function Dc(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString()}function DSe(e,t){const r=e==="stage1"?RSe:PSe;return t?r.map((n,s)=>({...n,content:s===1?`${n.content}

 : ${t.scriptBody}`:n.content,tips:s===0?[...n.tips,` : ${t.useCase}`]:s===2?[...n.tips,...t.evidence.slice(0,2)]:n.tips})):r}function Oh(e){if(!e||!e.scheduledAt)return"(  )";const t=e.place?.trim()||"  ",r=e.contactGuide?.trim()||jo;return`${e.reservationType} / ${pt(e.scheduledAt)} / ${t} /  ${r}`}function MSe(e){return e===""?10:e===""?7:e===""?6:e===""?3:1}function ISe(e){return e===""?{level:"OVERDUE",dueAt:nt(-4)}:e===""||e===""?{level:"DUE_SOON",dueAt:nt(18)}:{level:"OK",dueAt:nt(72)}}function qv(e){return e===""?{level:"EXCLUDE",score:58,notes:["  ","/  "]}:e===""?{level:"WARN",score:79,notes:["   "]}:{level:"GOOD",score:96,notes:["  "]}}function UC(e){const t={:62,:76,:24,:88,:94},r={:0,:8,:16},n={:0,:6,:18};if(!e)return 60;const s=Math.min(e.alertTags.length*3,12),i=t[e.status]+r[e.risk]+s-n[e.quality];return Math.max(5,Math.min(99,i))}function LSe(e){return e>=85?{label:"",tone:"border-red-200 bg-red-50 text-red-700",bar:"bg-red-500",guide:"24   "}:e>=65?{label:"",tone:"border-orange-200 bg-orange-50 text-orange-700",bar:"bg-orange-500",guide:" /  "}:e>=45?{label:"",tone:"border-blue-200 bg-blue-50 text-blue-700",bar:"bg-blue-500",guide:"  "}:{label:"",tone:"border-emerald-200 bg-emerald-50 text-emerald-700",bar:"bg-emerald-500",guide:"/ "}}function $Se(e){return e==="TRACKING"?"":e==="REEVAL_DUE"?" ":e==="REEVAL_PENDING"?" ":e==="LINKAGE_PENDING"?" ":e==="PLAN_NEEDS_UPDATE"?"  ":e==="CHURN_RISK"?" ":""}function Dy(e){return e==="ACTIVE"?"ACTIVE":e==="PAUSED"?"PAUSED":"NEEDS_UPDATE"}function FSe(e){return e?e.status===""?"CLOSED":e.alertTags.includes(" ")?"CHURN_RISK":e.alertTags.includes(" ")?"LINKAGE_PENDING":e.alertTags.includes(" ")?e.status===""||e.status===""?"REEVAL_DUE":"REEVAL_PENDING":e.status===""?"PLAN_NEEDS_UPDATE":"TRACKING":"TRACKING"}function BSe(e){return e?e.status===""?"PAUSED":e.status===""||e.alertTags.includes(" ")?"NEEDS_UPDATE":"ACTIVE":"ACTIVE"}function USe(e){return e?e.alertTags.includes(" ")||e.status===""?"HIGH":e.risk===""||e.status===""?"MID":"LOW":"MID"}function HSe(e){const t=FSe(e),r=BSe(e),n=USe(e),s=e?.risk===""?14:e?.risk===""?21:30,i=nt(e?.status===""?12:e?.status===""?-6:72),o=nt(e?.status===""?8:36),l=nt(e?.risk===""?120:168);return{opsStatus:t,nextReevalAt:i,nextTrackingContactAt:o,nextProgramAt:l,planStatus:r,trackingCycleDays:s,churnRisk:n}}function GSe(e,t,r=!1){const n=[],s=e?.alertTags.includes(" ")??!0,i=e?.alertTags.includes(" ")??!1,o=e?.alertTags.includes(" ")??!1,l=qv(e?.quality).level;return(s||t.opsStatus==="REEVAL_DUE"||t.opsStatus==="REEVAL_PENDING")&&n.push({id:"s3-action-reeval",type:"SCHEDULE_REEVAL",title:r?"/  ":"  ",reason:r?"    .":"      .",severity:t.opsStatus==="REEVAL_DUE"?"HIGH":"MID",requiresApproval:!0,decision:"PENDING"}),(i||t.churnRisk==="HIGH")&&n.push({id:"s3-action-reminder",type:"SEND_REMINDER",title:r?" /  ":" / ",reason:r?"/         .":"/      .",severity:"HIGH",requiresApproval:!1,decision:"PENDING"}),t.planStatus==="NEEDS_UPDATE"&&n.push({id:"s3-action-plan",type:"UPDATE_PLAN",title:r?"  ":"  ",reason:r?" /      .":"       .",severity:"MID",requiresApproval:!0,decision:"PENDING"}),(o||t.opsStatus==="LINKAGE_PENDING")&&n.push({id:"s3-action-escalate",type:"ESCALATE_LEVEL",title:r?"  / ":" /  ",reason:r?"      .":"       .",severity:o?"MID":"LOW",requiresApproval:!0,decision:"PENDING"}),l==="EXCLUDE"&&n.unshift({id:"s3-action-quality",type:"SEND_REMINDER",title:"  ",reason:r?"       .":"      .",severity:"HIGH",requiresApproval:!1,decision:"PENDING"}),n.slice(0,3)}function Dn(e){return Math.max(0,Math.min(1,e))}function Gi(e){return Math.round(Dn(e)*100)}function Np(e){const t=Dn(e);return t>=.7?"HIGH":t>=.45?"MID":"LOW"}function zSe(e){return e>=85?"":e>=65?"":e>=45?"":""}function Nl(e){if(e==null||Number.isNaN(e))return;const t=e<=1?e*100:e;return Math.max(0,Math.min(100,Math.round(t)))}function KSe(e){const t=e.header.dataQuality.score;return t>=90?"HIGH":t>=70?"MID":"LOW"}function qSe(e){if(!e)return;const t=Dn(e.risk2y_now),r=e.trend==="UP"?.14:e.trend==="DOWN"?-.1:e.trend==="VOLATILE"?.08:.02;return Dn(t+r)}function WSe(e,t){return t===""?{MCI:.68,AD:.25,NORMAL:.07}:{MCI:.72,AD:.18,NORMAL:.1}}function HC(e){return e?.risk===""?"":e?.risk===""?"":""}function VSe(e){return e?e===""?"":e:"-"}function WG(e){return e?e==="NOT_STARTED"?"":e==="IN_PROGRESS"?"":"":"-"}function GC(e){return e?.risk===""?"":e?.risk===""?"MCI":""}function UE(e){return e==="MCI"||e===""}function YSe(e){return e===""?"FOLLOWUP_2Y":e==="MCI"?"STAGE3":"DIFF_PATH"}function Jx(e,t){return e===""?{NORMAL:.08,MCI:.2,AD:.72}:e==="MCI"?t===""?{NORMAL:.08,MCI:.66,AD:.26}:t===""?{NORMAL:.32,MCI:.56,AD:.12}:{NORMAL:.1,MCI:.72,AD:.18}:{NORMAL:.78,MCI:.17,AD:.05}}function xh(e){return+!!e.specialist+ +(typeof e.mmse=="number")+ +(typeof e.cdr=="number")+ +!!e.neuroCognitiveType}function zC(e,t){const r=xh(e);return t||r>=4?"COMPLETED":r>0?"IN_PROGRESS":"NOT_STARTED"}function G6(e){const t=GC(e),r=t==="MCI"?HC(e):void 0,n=e?.status===""||e?.status===""||e?.status==="",s={specialist:n?e?.risk!=="":!1,mmse:void 0,cdr:void 0,neuroCognitiveType:void 0};return{status:zC(s,!1),tests:s,classification:n?{label:t,probs:Jx(t,r),mciStage:r}:void 0,nextStep:void 0}}function XSe({detail:e,modelPriorityValue:t,stage2ResultLabel:r,stage2MciSeverity:n,stage2TestAt:s,stage2Org:i}){const o=Math.max(0,Math.min(100,t)),l=Math.max(1,100-o),d=e.stage3?.transitionRisk,u=d?.risk2y_now,m=qSe(d),p=WSe(r,n),h=Date.now(),b=720*60*60*1e3,v=C=>{const O=new Date(C).getTime();return Number.isNaN(O)?!1:h-O<=b},N=e.timeline.filter(C=>v(C.at)),y=N.filter(C=>C.type==="CALL_ATTEMPT").length,S=N.filter(C=>C.type==="CALL_ATTEMPT"&&C.result==="SUCCESS").length,w=N.filter(C=>C.type==="CALL_ATTEMPT"&&C.result!=="SUCCESS"||C.type==="SMS_SENT"&&C.status==="FAILED").length,_=N.filter(C=>C.type==="REEVAL_SCHEDULED"||C.type==="REEVAL_RESCHEDULED"||C.type==="DIFF_SCHEDULED").length,A=e.stage3?.programs.filter(C=>C.selected&&(C.execution?.status==="PLANNED"||C.execution?.status==="IN_PROGRESS")).length??0,E=e.stage3?.programs.filter(C=>C.selected&&C.execution?.status==="DONE").length??0;return{stage1:{priorityScore:o,priorityBand:zSe(o),interventionLevel:e.interventionLevel,percentileTop:l,updatedAt:e.scoreSummary[0]?.updatedAt??e.timeline[0]?.at},stage2:{resultLabel:r,mciSeverity:n,probs:p,tests:{neuropsych:e.stage3?"DONE":"MISSING",clinical:e.stage3?"DONE":"MISSING",specialist:e.stage3?"DONE":"MISSING"},testAt:s,org:i},stage3:{risk2yNow:u,risk2yLabel:u==null?void 0:Np(u),confidence:KSe(e),status:e.stage3?.diffPathStatus==="COMPLETED"||e.stage3?.riskReviewedAt?"RESULT_APPLIED":"RESULT_PENDING",nextReevalAt:e.stage3?.headerMeta.nextReevalAt,nextContactAt:e.stage3?.headerMeta.nextTrackingContactAt,riskAt2y:m},opsCounts:{contactAttempts30d:y,contactSuccess30d:S,contactFail30d:w,bookings:_,programsPlanned:A,programsDone:E},dataQuality:{score:e.header.dataQuality.score,missingCount:e.header.dataQuality.notes?.length??0}}}function QSe(e){const t=UC(e),r=Dn(t/100),n=e?.risk===""?.12:e?.risk===""?.05:0,s=e?.status===""?.1:e?.status===""?.06:e?.status===""?-.08:0,i=Dn(r+n+s),l=(e?.status===""?[.18,.14,.1,.06,.03,0]:e?.status===""?[-.1,-.07,-.05,-.03,-.01,0]:[.04,.02,.03,.01,.005,0]).map((h,b)=>{const v=Dn(i-h),N=e?.quality===""?.08:e?.quality===""?.06:.04;return{t:nt(-(720*(5-b))),risk2y:v,ciLow:Dn(v-N),ciHigh:Dn(v+N),source:"model"}}),d=l[0]?.risk2y??i,u=i-d,p=Math.max(...l.map((h,b)=>b===0?0:Math.abs(h.risk2y-(l[b-1]?.risk2y??h.risk2y))))>=.08?"VOLATILE":u>=.04?"UP":u<=-.04?"DOWN":"FLAT";return{risk2y_now:i,risk2y_label:i>=.7?"HIGH":i>=.45?"MID":"LOW",trend:p,variabilityNote:p==="VOLATILE"?"  /     .":void 0,updatedAt:kt(),modelVersion:"stage3-risk-v1.2",series:l}}function ZSe(e){const t=e?.risk===""||e?.status==="";return[{id:"program-precision-diff-neuro",major:" ",middle:" ",leaf:"  ",pinned:t},{id:"program-precision-mri-route",major:" ",middle:" ",leaf:" / ",pinned:t},{id:"program-case-followup-weekly",major:" ",middle:" ",leaf:"     ",pinned:!0},{id:"program-case-caregiver",major:" ",middle:" ",leaf:"  "},{id:"program-support-homevisit",major:"",middle:" ",leaf:" / "},{id:"program-support-education",major:"",middle:"",leaf:"   ",pinned:e?.quality!==""},{id:"program-family-rest",major:"/ ",middle:"",leaf:"    "},{id:"program-family-counseling",major:"/ ",middle:"",leaf:"  "}]}function JSe(e){const t=new Set(["program-precision-diff-neuro","program-case-followup-weekly","program-support-education"]);return e.filter(r=>t.has(r.id)).map(r=>({...r,selected:!0,execution:{owner:_o,status:"PLANNED",dueDate:nt(72),method:""}}))}function z6(e){return e?e==="CONTINUE_SELF"?"":e==="NO_RESPONSE"||e==="REFUSE"?"":" ":" "}function eje(e){const t=qv(e?.quality).level,r=!!e?.profile.guardianPhone;return[{key:"CONSENT_OK",label:" ",status:t==="EXCLUDE"?"FAIL":"PASS",failReason:t==="EXCLUDE"?"   ":void 0,fixAction:t==="EXCLUDE"?{label:" ",action:"REQUEST_CONSENT"}:void 0},{key:"CONTACTABLE_TIME_OK",label:"   ",status:e?.status===""?"UNKNOWN":"PASS",failReason:e?.status===""?"   ":void 0,fixAction:e?.status===""?{label:" ",action:"CONFIRM_CONTACT_TIME"}:void 0},{key:"PHONE_VERIFIED",label:" ",status:t==="GOOD"?"PASS":"FAIL",failReason:t==="GOOD"?void 0:"  ",fixAction:t==="GOOD"?void 0:{label:" ",action:"VERIFY_PHONE"}},{key:"GUARDIAN_OPTIONAL",label:" ",status:r?"PASS":"UNKNOWN",failReason:r?void 0:"   ",fixAction:r?void 0:{label:" ",action:"ADD_GUARDIAN"}}]}function tje(e,t="stage1",r=!1){if(t==="stage3"&&!r)return{topFactors:[{title:"  ",description:"       .",recency:nt(-14)},{title:"  ",description:"    /  .",recency:nt(-20),isMissing:e?.quality!==""},{title:"  ",description:"    /  .",recency:nt(-32)}],computedAt:kt(),version:"stage3-risk-v1.2"};if(t==="stage3"&&r)return{topFactors:[{title:"  ",description:"SLA        .",recency:nt(-14)},{title:" ",description:"   /  .",recency:nt(-20),isMissing:e?.quality!==""},{title:"  ",description:"      .",recency:nt(-32)}],computedAt:kt(),version:"stage2-ops-v3.1"};const n=e?.risk??"";return{topFactors:n===""?[{title:"   ",description:" 2       .",recency:nt(-16)},{title:"  ",description:"       .",recency:nt(-30)},{title:"   ",description:"        .",recency:nt(-40),isMissing:e?.quality===""}]:n===""?[{title:"  ",description:"     .",recency:nt(-18)},{title:"   ",description:"     L0/L1   .",recency:nt(-34)},{title:"  ",description:"       .",recency:nt(-45),isMissing:e?.quality!==""}]:[{title:"  ",description:"     .",recency:nt(-20)},{title:"  ",description:"       .",recency:nt(-32)},{title:"  ",description:"      .",recency:nt(-46),isMissing:e?.quality!==""}],computedAt:kt(),version:t==="stage2"?"stage2-risk-v2.4":"stage1-risk-v2.4"}}function rje(e,t="stage1",r,n=!1){if(t==="stage3"&&r){const l=qv(e?.quality),d=r.recommendedActions.length,u=r.recommendedActions.some(b=>b.severity==="HIGH")?"HIGH":r.recommendedActions.some(b=>b.severity==="MID")?"MID":"LOW",m=e?.status===""?94:e?.status===""?58:e?.status===""?67:76,p=Gi(r.transitionRisk.risk2y_now),h=r.reevalStatus==="COMPLETED"?"COMPLETED":r.reevalStatus==="SCHEDULED"?"SCHEDULED":r.reevalStatus==="NOSHOW"?"NOSHOW":"PENDING";if(n){const b=(r.diffPathStatus==="SCHEDULED"||r.diffPathStatus==="COMPLETED"?2:1)+(r.reevalStatus==="SCHEDULED"||r.reevalStatus==="COMPLETED"?1:0)+(r.planProgressPct>=80?1:0),v=Math.max(0,Math.min(100,Math.round(b/4*100))),N=e?.status===""?7:e?.status===""?3:0,y=r.diffPathStatus==="SCHEDULED"||r.diffPathStatus==="COMPLETED"?0:1,S=r.planProgressPct>=80;return[{label:" ",value:v,unit:"%",updatedAt:r.transitionRisk.updatedAt,flags:[v>=100?"DONE":v>=40?"IN_PROGRESS":"BLOCKED"]},{label:"/ ",value:y,unit:"",updatedAt:r.headerMeta.nextReevalAt??kt(),flags:[y===0?"CONFIRMED":"WAITING"]},{label:"  ",value:N,unit:"",updatedAt:r.headerMeta.nextTrackingContactAt??kt(),flags:N>0?["DELAYED"]:["NORMAL"]},{label:"  ",value:S?1:0,unit:"",updatedAt:kt(),flags:[S?"CONFIRMED":"UNCONFIRMED"]},{label:" ",value:l.score,unit:"%",updatedAt:kt(),flags:l.level==="GOOD"?["OK"]:["MISSING_IMPACT"]}]}return[{label:"2  ( )",value:p,unit:"%",updatedAt:r.transitionRisk.updatedAt,flags:[Np(r.transitionRisk.risk2y_now),r.transitionRisk.trend]},{label:" ",value:d,unit:"",updatedAt:r.headerMeta.nextReevalAt??kt(),flags:[` ${u}`,h]},{label:" ",value:m,unit:"%",updatedAt:r.headerMeta.nextTrackingContactAt??kt(),flags:m<70?[" "]:void 0},{label:" ",value:r.planProgressPct,unit:"%",updatedAt:kt(),flags:[Dy(r.headerMeta.planStatus)]},{label:" ",value:l.score,unit:"%",updatedAt:kt(),flags:l.level==="GOOD"?["  "]:["  "]}]}const s=e?.risk??"",i=Number(e?.id.slice(-2)??0)%5,o=s===""?[41,53,47,44]:s===""?[79,83,86,82]:[61,68,65,66];return[{label:"CIST ",value:Math.max(0,Math.min(100,o[0]-i)),unit:"",updatedAt:nt(-12),flags:s===""?[" "]:void 0},{label:"  ",value:Math.max(0,Math.min(100,o[1]-i)),unit:"",updatedAt:nt(-14),flags:s!==""?[""]:void 0},{label:"  ",value:Math.max(0,Math.min(100,o[2]+i)),unit:"",updatedAt:nt(-26),flags:e?.quality!==""?[" "]:void 0},{label:"  ",value:Math.max(0,Math.min(100,o[3])),unit:"",updatedAt:nt(-8),flags:e?.status===""||e?.status===""?[" "]:void 0}]}function KC(e,t){const r={L0:[{id:"todo-L0-1",title:"    ",priority:1,status:"OPEN",suggestedAction:"VERIFY"},{id:"todo-L0-2",title:"   ",priority:2,status:"OPEN",suggestedAction:"SCHEDULE"},{id:"todo-L0-3",title:"  ",priority:2,status:"OPEN",suggestedAction:"VERIFY"}],L1:[{id:"todo-L1-1",title:"  ",priority:1,status:"OPEN",suggestedAction:"SMS"},{id:"todo-L1-2",title:"  ",priority:2,status:"OPEN",suggestedAction:"VERIFY"},{id:"todo-L1-3",title:"   ",priority:3,status:"OPEN",suggestedAction:"HOLD"}],L2:[{id:"todo-L2-1",title:"1  1 ",priority:1,status:"OPEN",suggestedAction:"CALL"},{id:"todo-L2-2",title:"    ",priority:1,status:"OPEN",suggestedAction:"SCHEDULE"},{id:"todo-L2-3",title:"2   ",priority:2,status:"OPEN",suggestedAction:"SMS"}],L3:[{id:"todo-L3-1",title:"2     ",priority:1,status:"OPEN",suggestedAction:"VERIFY"},{id:"todo-L3-2",title:"   ",priority:1,status:"OPEN",suggestedAction:"SMS"},{id:"todo-L3-3",title:"    ",priority:2,status:"OPEN",suggestedAction:"SCHEDULE"}]};return t==="EXCLUDE"?[{id:"todo-q-1",title:"   ",priority:1,status:"OPEN",suggestedAction:"VERIFY"},{id:"todo-q-2",title:"   ",priority:2,status:"OPEN",suggestedAction:"EXCLUDE"},{id:"todo-q-3",title:"   ",priority:3,status:"CANCELED",suggestedAction:"HOLD"}]:t==="WARN"?r[e].map((n,s)=>s===0?{...n,priority:2}:n):r[e]}function nje(e,t,r="stage1"){const n=e?.status??"",s=e?.manager??_o,i=r==="stage2"?"Stage2":r==="stage3"?"Stage3":"Stage1",o=r==="stage2"?"S2_CONTACT_BASE":r==="stage3"?"S3_CONTACT_BASE":"S1_CONTACT_BASE",l=[{type:"STATUS_CHANGE",at:nt(-72),from:"",to:n,reason:`${i}  `,by:s},{type:"LEVEL_CHANGE",at:nt(-48),from:"L0",to:t,reason:"   SLA  ",by:s}];return n!==""&&l.unshift({type:"CALL_ATTEMPT",at:nt(-18),result:"NO_ANSWER",note:"  ",by:s}),e?.alertTags.includes(" ")&&l.unshift({type:"SMS_SENT",at:nt(-14),templateId:o,status:"PENDING",by:s}),r==="stage3"&&(l.unshift({type:"RISK_SERIES_UPDATED",at:nt(-12),by:s,summary:"2    "}),l.unshift({type:"RISK_REVIEWED",at:nt(-11),by:s,summary:"    "}),l.unshift({type:"DIFF_RECO_CREATED",at:nt(-9),by:s,summary:"  "}),l.unshift({type:"PLAN_UPDATED",at:nt(-10),by:s,summary:"     "}),l.unshift({type:"REEVAL_SCHEDULED",at:nt(-8),scheduledAt:nt(72),by:s,reason:"   "})),l}function HE(e,t="stage1",r=!1){const n=PNe(e),s=qv(e?.quality),i=Cje(e),o=Tje(i),l=rz(o.strategy,e,t),d=kje(),u="NOT_CREATED",m=t==="stage3"?HSe(e):void 0,p=t==="stage3"?QSe(e):void 0,h=t==="stage3"&&m?GSe(e,m,r):[],b=t==="stage3"?ZSe(e):[],v=t==="stage3"?JSe(b):[],N=h.length>0?"RECOMMENDED":"NONE",y=m?.opsStatus==="REEVAL_DUE"||m?.opsStatus==="REEVAL_PENDING"?"PENDING":"SCHEDULED",S=t==="stage3"?m?.planStatus==="ACTIVE"?72:m?.planStatus==="NEEDS_UPDATE"?48:91:void 0,w=[];return g3(o.triggers)&&w.push("  :   "),o.triggers.includes("GUARDIAN_PRIMARY")&&w.push("  "),o.triggers.includes("HAS_COMPLAINT_HISTORY")&&w.push("   "),o.triggers.includes("HAS_REFUSAL_HISTORY")&&w.push("   "),t==="stage3"&&w.push(r?" :  /     // ":" :       "),{header:{caseId:e?.id??"CASE-UNKNOWN",stage:t==="stage2"?"STAGE2":t==="stage3"?"STAGE3":"STAGE1",assigneeName:e?.manager??_o,statusLabel:t==="stage3"&&m?r?"":$Se(m.opsStatus):e?.status===""?"":e?.status===""?"":e?.status??"",waitDays:MSe(e?.status),sla:ISe(e?.status),dataQuality:s,contactStrategy:o.strategy,effectiveStrategy:o.strategy,riskGuardrails:w.length>0?w:void 0},policyGates:eje(e),interventionLevel:n.level,riskEvidence:tje(e,t,r),scoreSummary:rje(e,t,t==="stage3"&&m&&p&&S!=null?{headerMeta:m,transitionRisk:p,recommendedActions:h,planProgressPct:S,reevalStatus:y,diffPathStatus:N}:void 0,r),todos:KC(n.level,s.level),timeline:nje(e,n.level,t),preTriageInput:i,preTriageResult:o,contactPlan:l,contactExecution:d,contactFlowSteps:mi(d,o,u,t),linkageStatus:u,contactExecutor:o.strategy==="AI_FIRST"?"AGENT_SEND_ONLY":"HUMAN",agentExecutionLogs:[],stage3:t==="stage3"&&m&&p&&S!=null?{headerMeta:m,transitionRisk:p,reevalStatus:y,riskReviewedAt:void 0,diffPathStatus:N,triggersReviewedAt:void 0,planProgressPct:S,planUpdatedAt:m.planStatus==="NEEDS_UPDATE"?void 0:nt(-10),recommendedActions:h,programs:v}:void 0}}function K6(e,t,r="stage1",n=!1){const s=e?.manager??_o,i=r==="stage2"?"Stage2":r==="stage3"?"Stage3":"Stage1";return[{id:`audit-${t.header.caseId}-1`,at:pt(nt(-72)),actor:s,message:"  :   "},{id:`audit-${t.header.caseId}-2`,at:pt(nt(-48)),actor:s,message:r==="stage3"?n?`  :  ${t.stage3?.headerMeta.trackingCycleDays??21} /  ${Dy(t.stage3?.headerMeta.planStatus??"ACTIVE")}`:`  : ${t.stage3?.headerMeta.trackingCycleDays??21}  /  ${Dy(t.stage3?.headerMeta.planStatus??"ACTIVE")}`:`${r==="stage2"?" ":" "} : ${t.preTriageResult?.strategy==="HUMAN_FIRST"?" ":" "}`},{id:`audit-${t.header.caseId}-3`,at:pt(nt(-32)),actor:s,message:`  : ${t.interventionLevel}`},{id:`audit-${t.header.caseId}-4`,at:pt(nt(-18)),actor:s,message:`${i}   : `}]}function aje(e,t="stage1"){const r=e.riskEvidence.topFactors.map(u=>u.title).slice(0,2),n=g3(e.preTriageResult?.triggers??[]),s=e.preTriageInput?.contactHistory.hasComplaint??!1,i=e.preTriageInput?.contactHistory.hasRefusal??!1,o=e.header.sla.level!=="OK",l=e.contactExecutor==="AGENT_SEND_ONLY";return t==="stage3"?[{id:"RAG-S3-01",title:"  ",useCase:"    Stage3 ",evidence:[` : ${r.join(", ")||" "}`,"      .","        ."],scriptBody:"      ,     ."},{id:"RAG-S3-02",title:" /",useCase:"      ",evidence:["        .",o?"     .":"    .","    /   ."],scriptBody:"          ."},{id:"RAG-S3-03",title:" /",useCase:"      ",evidence:[" /       .",l?"Agent      .":"     .","/     ."],scriptBody:"/     .     ."}]:t==="stage2"?[{id:"RAG-S2-01",title:"2  ",useCase:"2 1/2    ",evidence:[` : ${r.join(", ")||"  "}`,"          .","      ."],scriptBody:"  2     .    ,      ."},{id:"RAG-S2-02",title:s||i?"  ":"  ",useCase:s||i?"/      ":"  /   ",evidence:[s?"       .":"       .",i?"        .":"       .","   /   ."],scriptBody:"         ,   ."},{id:"RAG-S2-03",title:o?"  ":" ",useCase:o?"SLA /    ":"      ",evidence:[o?"SLA    /   .":"   //   .",l?"Agent       .":"/     .","        ."],scriptBody:o?"       ,    .":"        ."}]:[{id:"RAG-GUIDE-01",title:n?"  ":" ",useCase:n?"   /  ":" ,   ",evidence:[` : ${r.join(", ")||"  "}`,n?"       .":"       .","     /  ."],scriptBody:n?"      .       .":"        .      ."},{id:"RAG-GUIDE-02",title:s||i?"  ":" ",useCase:s||i?"/   ":"     ",evidence:[s?"         .":"        .",i?"         .":"   /   .","        ."],scriptBody:"     .        ."},{id:"RAG-GUIDE-03",title:l?"Agent  ":"SLA  ",useCase:l?"      ":"SLA /  ",evidence:[o?"SLA /     .":" SLA       .",l?"Agent     Step3/4    .":"/        .","     ."],scriptBody:l?"   .     .":"          ."}].slice(0,3)}function sje(e){return e.type==="CALL_ATTEMPT"?"CALL":e.type==="MESSAGE_SENT"?e.summary.includes("STAGE1_RESPONSE_RECORDED")||e.summary.includes("STAGE2_RESPONSE_RECORDED")?"STATUS":"SMS":e.type==="SMS_SENT"||e.type==="AGENT_SMS_SENT"?"SMS":"STATUS"}function VG(e){return e.type==="CALL_ATTEMPT"?e.result==="SUCCESS"?" ":e.result==="NO_ANSWER"?"":e.result==="REJECTED"?" ":" ":e.type==="SMS_SENT"?`  (${pje(e.templateId)})`:e.type==="MESSAGE_SENT"?e.summary.includes("STAGE1_RESPONSE_RECORDED")||e.summary.includes("STAGE2_RESPONSE_RECORDED")?"  ":"   ":e.type==="LEVEL_CHANGE"?`   ${e.from}  ${e.to}`:e.type==="POLICY_GATE_UPDATE"?`   (${e.key})`:e.type==="OUTCOME_RECORDED"?`   (${Io[e.outcomeCode].label})`:e.type==="CALENDAR_SYNC"?e.status==="SUCCESS"?"  ":"   ":e.type==="CAL_EVENT_CREATED"?"  ":e.type==="STRATEGY_CHANGE"?`   ${Mc[e.from]}  ${Mc[e.to]}`:e.type==="AGENT_JOB_QUEUED"?"Agent   ":e.type==="AGENT_JOB_STARTED"?"Agent   ":e.type==="AGENT_SMS_SENT"?"Agent  ":e.type==="AGENT_JOB_SUCCEEDED"?"Agent   ":e.type==="AGENT_JOB_FAILED"?"Agent   ":e.type==="AGENT_JOB_CANCELED"?"Agent   ":e.type==="CONTACT_STRATEGY_CHANGED"?"  ":e.type==="OPERATOR_OVERRIDE_TO_HUMAN"?"  ":e.type==="REEVAL_SCHEDULED"?"/  ":e.type==="REEVAL_RESCHEDULED"?"/  ":e.type==="REEVAL_COMPLETED"?"/ ":e.type==="REEVAL_NOSHOW"?"/ ":e.type==="PLAN_CREATED"?" ":e.type==="PLAN_UPDATED"?" ":e.type==="PROGRAM_STARTED"?" ":e.type==="PROGRAM_COMPLETED"?" ":e.type==="PROGRAM_STOPPED"?" ":e.type==="LINKAGE_CREATED"?" ":e.type==="LINKAGE_APPROVED"?" ":e.type==="LINKAGE_COMPLETED"?" ":e.type==="STAGE3_ACTION_DECISION"?"  ":e.type==="RISK_SERIES_UPDATED"?"   ":e.type==="RISK_REVIEWED"?"  ":e.type==="DIFF_RECO_CREATED"?"   ":e.type==="DIFF_REFER_CREATED"?"  ":e.type==="DIFF_SCHEDULED"?"  ":e.type==="DIFF_COMPLETED"?"  ":e.type==="DIFF_RESULT_APPLIED"?"  ":e.type==="PROGRAM_SELECTED"?" ":e.type==="PROGRAM_EXEC_UPDATED"?"  ":e.type==="PROGRAM_EXEC_COMPLETED"?"  ":e.type==="NEXT_TRACKING_SET"?"   ":e.type==="STAGE2_PLAN_CONFIRMED"?"Stage2   ":e.type==="STAGE2_RESULTS_RECORDED"?"Stage2    ":e.type==="STAGE2_CLASS_CONFIRMED"?"Stage2  ":e.type==="STAGE2_NEXT_STEP_SET"?"Stage2   ":`  ${e.from}  ${e.to}`}function YG(e){if(e.type==="CALL_ATTEMPT")return e.note??"  ";if(e.type==="SMS_SENT")return` : ${e.status}`;if(e.type==="MESSAGE_SENT")return e.summary;if(e.type==="LEVEL_CHANGE")return e.reason;if(e.type==="POLICY_GATE_UPDATE")return`: ${e.status}`;if(e.type==="OUTCOME_RECORDED"){const t=[];return e.reasonTags&&e.reasonTags.length>0&&t.push(` ${e.reasonTags.map(r=>My[r].label).join(", ")}`),e.rejectCode&&t.push(` ${e.rejectCode}`),e.rejectLevel&&t.push(` ${e.rejectLevel}`),e.recontactStrategy&&t.push(`  ${e.recontactStrategy}`),e.nextContactAt&&t.push(`  ${pt(e.nextContactAt)}`),e.note&&t.push(e.note),t.length>0?t.join("  "):"  "}if(e.type==="CALENDAR_SYNC"){const t=`${e.title}  ${pt(e.scheduledAt)}`;return e.status==="FAILED"?`${t}  ${e.error??" "}`:t}return e.type==="CAL_EVENT_CREATED"?`${pt(e.scheduledAt)}  ${e.summary}`:e.type==="AGENT_SMS_SENT"?`${e.summary}   ${WC[e.channelResult]}${e.detail?`  ${e.detail}`:""}`:e.type==="AGENT_JOB_QUEUED"||e.type==="AGENT_JOB_STARTED"||e.type==="AGENT_JOB_SUCCEEDED"||e.type==="AGENT_JOB_FAILED"||e.type==="AGENT_JOB_CANCELED"||e.type==="CONTACT_STRATEGY_CHANGED"||e.type==="OPERATOR_OVERRIDE_TO_HUMAN"?[e.summary,e.detail].filter(Boolean).join("  "):e.type==="REEVAL_SCHEDULED"?`${pt(e.scheduledAt)}  ${e.reason??"  "}`:e.type==="REEVAL_RESCHEDULED"?`${pt(e.from)}  ${pt(e.to)}${e.reason?`  ${e.reason}`:""}`:e.type==="REEVAL_COMPLETED"||e.type==="REEVAL_NOSHOW"?e.note??"   ":e.type==="PLAN_CREATED"||e.type==="PLAN_UPDATED"||e.type==="PROGRAM_STARTED"||e.type==="PROGRAM_COMPLETED"||e.type==="PROGRAM_STOPPED"?e.summary:e.type==="LINKAGE_CREATED"||e.type==="LINKAGE_APPROVED"||e.type==="LINKAGE_COMPLETED"?`${e.linkageType}  ${e.summary??"  "}`:e.type==="STAGE3_ACTION_DECISION"?`${e.actionId}  ${e.decision}${e.note?`  ${e.note}`:""}`:e.type==="RISK_SERIES_UPDATED"||e.type==="RISK_REVIEWED"||e.type==="DIFF_RECO_CREATED"||e.type==="DIFF_REFER_CREATED"||e.type==="DIFF_SCHEDULED"||e.type==="DIFF_COMPLETED"||e.type==="DIFF_RESULT_APPLIED"||e.type==="PROGRAM_SELECTED"||e.type==="PROGRAM_EXEC_UPDATED"||e.type==="PROGRAM_EXEC_COMPLETED"||e.type==="STAGE2_PLAN_CONFIRMED"||e.type==="STAGE2_RESULTS_RECORDED"||e.type==="STAGE2_CLASS_CONFIRMED"||e.type==="STAGE2_NEXT_STEP_SET"?e.summary:e.type==="NEXT_TRACKING_SET"?`${pt(e.nextAt)}${e.summary?`  ${e.summary}`:""}`:e.reason}function ije(e){return e==="PASS"?"border-emerald-200 bg-emerald-50 text-emerald-700":e==="FAIL"?"border-red-200 bg-red-50 text-red-700":"border-gray-200 bg-gray-50 text-gray-600"}function q6(e){return e==="OK"?"border-emerald-200 bg-emerald-50 text-emerald-700":e==="RESTRICTED"?"border-red-200 bg-red-50 text-red-700":"border-gray-200 bg-gray-50 text-gray-600"}function W6(e){return e==="OK"?"":e==="RESTRICTED"?"":" "}function Pd(e){return e==="OK"?" ":e==="RESTRICTED"?"/ ":"  "}function V6(e){return e?/|||/.test(e):!1}function oje(e){const t=["CONSENT_OK","CONTACTABLE_TIME_OK","PHONE_VERIFIED"],r=e.filter(n=>t.includes(n.key));return r.some(n=>n.status==="FAIL")?"BLOCKED":r.some(n=>n.status!=="PASS")?"NEEDS_CHECK":"PASS"}function lje(e,t,r,n){return`${e}:${t}:${r}:${n}`}function cje(e){return e==="AUTO_ON_ENTER"?"   ":e==="AUTO_ON_STRATEGY"?"    ":e==="AUTO_ON_RETRY_DUE"?"   ":e==="MANUAL_RETRY_NOW"?"  ":"  "}function dje({caseRecord:e,gates:t,attemptNo:r}){const n=t.find(i=>i.key==="PHONE_VERIFIED"),s=e?.profile.phone;return n?.status!=="PASS"||!s?{success:!1,channelResult:"FAILED",errorCode:"PHONE_INVALID",errorMessage:"      ."}:(e?.alertTags??[]).includes(" ")&&r===1?{success:!1,channelResult:"FAILED",errorCode:"CHANNEL_TEMP_ERROR",errorMessage:"     ."}:{success:!0,channelResult:"SENT"}}const Y6={queueSms({caseId:e,idempotencyKey:t}){return{ok:!0,jobId:`agent-job:${e}:${t}`,queuedAt:kt()}},cancelJob(e){return e?{ok:!0}:{ok:!1}}};function X6(e,t){const r=e.find(n=>t.includes(n.key)&&n.status!=="PASS");return r?.failReason??(r?`${r.label}  `:void 0)}function uje(e){return e==="SUCCESS"?" ":e==="NO_ANSWER"?"":e==="REJECTED"?"":" "}function fje(e){return e==="CONTACT"?"":e==="BOOKING"?"":""}function pje(e){const t=e.split("(")[0],r=[...x3,...b3,...y3].find(n=>n.id===t);return r?`${fje(r.messageType)}  ${r.label}`:e}const Mc={HUMAN_FIRST:" ",AI_FIRST:" ",MANUAL_OVERRIDE:" "},Q6={HUMAN_FIRST:"border-red-200 bg-red-50 text-red-700",AI_FIRST:"border-blue-200 bg-blue-50 text-blue-700",MANUAL_OVERRIDE:"border-amber-200 bg-amber-50 text-amber-700"},mje="   ()  ,  /  .",hje={AGE_OVER_THRESHOLD:"      .",HAS_MCI_HISTORY:"      .",HAS_DEMENTIA_HISTORY:"       .",HAS_COMPLAINT_HISTORY:"       .",HAS_REFUSAL_HISTORY:"       .",GUARDIAN_PRIMARY:"       .",NEEDS_GUARDIAN_SUPPORT:"        .",COMPREHENSION_DIFFICULTY:"       .",STANDARD_CONTACT_PATH:"      .",CALL_RESPONSE_POOR:"       .",SMS_RESPONSE_POOR:"       ."};function Z6(e){return e.startsWith(" :")?`   : ${e.replace(" :","").trim()}`:hje[e]??e}const Io={CONTINUE_SELF:{label:" ",tone:"border-emerald-200 bg-emerald-50 text-emerald-700"},SCHEDULE_LATER:{label:"",tone:"border-blue-200 bg-blue-50 text-blue-700"},REQUEST_GUARDIAN:{label:" ",tone:"border-violet-200 bg-violet-50 text-violet-700"},REQUEST_HUMAN:{label:" ",tone:"border-orange-200 bg-orange-50 text-orange-700"},REFUSE:{label:"/",tone:"border-red-200 bg-red-50 text-red-700"},NO_RESPONSE:{label:" ",tone:"border-gray-200 bg-gray-50 text-gray-600"},CONFUSED:{label:" ",tone:"border-amber-200 bg-amber-50 text-amber-700"},EMOTIONAL:{label:" ",tone:"border-yellow-200 bg-yellow-50 text-yellow-700"}},gje=["CONTINUE_SELF","SCHEDULE_LATER","REQUEST_GUARDIAN","REQUEST_HUMAN","NO_RESPONSE","REFUSE"],My={CONFUSION:{label:" ",hint:"     ",tone:"border-amber-200 bg-amber-50 text-amber-700"},EMOTIONAL:{label:" ",hint:"/    ",tone:"border-yellow-200 bg-yellow-50 text-yellow-700"}},XG={CALL:"CALL_RETRY",SMS:"SMS_RETRY"},J6={CALL:"",SMS:""},xje={CONTINUE_SELF:"PROCEED",SCHEDULE_LATER:"LATER",REQUEST_GUARDIAN:"PROTECTOR_LINK",REQUEST_HUMAN:"COUNSELOR_LINK",REFUSE:"REJECT",NO_RESPONSE:"NO_RESPONSE",CONFUSED:"HARD_TO_UNDERSTAND",EMOTIONAL:"EMOTIONAL"},vi={HUMAN:"  ",AGENT_SEND_ONLY:"Agent ( )"},qC={HUMAN:"border-blue-200 bg-blue-50 text-blue-700",AGENT_SEND_ONLY:"border-violet-200 bg-violet-50 text-violet-700"},v3={SENT_SUCCESS:" ",SENT_FAILED:" ",NO_RESPONSE:" ",WAITING:" "},QG={IDLE:"",QUEUED:"",RUNNING:"",SUCCEEDED:"",FAILED:"",CANCELED:""},WC={SENT:"",DELIVERED:" ",FAILED:"",UNKNOWN:" "},vx={RECOMMEND_DIFF:"  ",HOLD:"  ",UPDATE_PLAN:"  "},Tf={CENTER_VISIT_BOOKING:{label:"  ",description:"    / ",linkageStatus:"BOOKING_IN_PROGRESS",reservationType:" ",defaultPlace:" "},HOSPITAL_REFERRAL_BOOKING:{label:" /",description:"     ",linkageStatus:"REFERRAL_CREATED",reservationType:" /",defaultPlace:" "},COUNSELING_CENTER_BOOKING:{label:" ",description:"   ",linkageStatus:"BOOKING_DONE",reservationType:" ",defaultPlace:" "},HOLD_TRACKING:{label:"/",description:"   ",linkageStatus:"NOT_CREATED",reservationType:" ",defaultPlace:"/ "}},bje=[{code:"R1_SELF_REJECT",label:" "},{code:"R2_GUARDIAN_REJECT",label:" "},{code:"R3_OTHER_INSTITUTION",label:"  "},{code:"R4_ALREADY_DIAGNOSED",label:" / "},{code:"R5_CONTACT_INVALID",label:" "},{code:"R6_EMOTIONAL_BACKLASH",label:"  "},{code:"R7_OTHER",label:""}],yje=[{value:"TEMP",label:" "},{value:"FINAL",label:" "}],ZG=[{step:"PRE_TRIAGE",label:"A.  ",description:"   "},{step:"STRATEGY",label:"B.  ",description:" /  "},{step:"COMPOSE",label:"C.  ",description:"/  "},{step:"SEND",label:"D.  ",description:"   "},{step:"RESPONSE",label:"E.  ",description:"/// "},{step:"OUTCOME",label:"F.  ",description:"// "}],JG=[{step:"PRE_TRIAGE",label:"A.  ",description:"2     "},{step:"STRATEGY",label:"B.  ",description:"     "},{step:"COMPOSE",label:"C.  ",description:"/MCI/AD     "},{step:"SEND",label:"D.  ",description:" // "},{step:"RESPONSE",label:"E.  ",description:"/    "},{step:"OUTCOME",label:"F. /",description:"    "}],ez=[{step:"PRE_TRIAGE",label:"A.   ",description:" /  "},{step:"STRATEGY",label:"A-2.  ",description:"/// "},{step:"COMPOSE",label:"B.  ",description:"/  "},{step:"SEND",label:"B-2. /",description:"/   "},{step:"RESPONSE",label:"C.  ",description:"    "},{step:"OUTCOME",label:"D.  ()",description:"  /  "}],vje=[{step:"PRE_TRIAGE",label:"A.   ",description:"//   "},{step:"STRATEGY",label:"A-2.  ",description:"  / "},{step:"COMPOSE",label:"B.   ",description:"//  "},{step:"SEND",label:"B-2.  ",description:"// "},{step:"RESPONSE",label:"C.  ",description:"/MCI/    "},{step:"OUTCOME",label:"D.   ",description:" /MCI Stage3/  "}],Nje=[{id:"PRECHECK",title:"  ",description:"/   ",relatedSteps:["PRE_TRIAGE","STRATEGY"],action:"OPEN_PRECHECK"},{id:"CONTACT_EXECUTION",title:" ",description:"   ",relatedSteps:["COMPOSE","SEND"],action:"OPEN_CONTACT_EXECUTION"},{id:"RESPONSE_HANDLING",title:" ",description:" //  ",relatedSteps:["RESPONSE"],action:"OPEN_RESPONSE_HANDLING"},{id:"FOLLOW_UP",title:" ",description:"   ",relatedSteps:["OUTCOME"],action:"OPEN_FOLLOW_UP"}],Sje=[{id:"PRECHECK",title:"  ",description:" /     ",relatedSteps:["PRE_TRIAGE","STRATEGY"],action:"OPEN_PRECHECK"},{id:"CONTACT_EXECUTION",title:"  ",description:"MMSE/CDR//  ",relatedSteps:["COMPOSE","SEND"],action:"OPEN_CONTACT_EXECUTION"},{id:"RESPONSE_HANDLING",title:" ",description:"/MCI/  ",relatedSteps:["RESPONSE"],action:"OPEN_RESPONSE_HANDLING"},{id:"FOLLOW_UP",title:"  ",description:"2 /Stage3/ ",relatedSteps:["OUTCOME"],action:"OPEN_FOLLOW_UP"}],jje=[{id:"PRECHECK",title:"  ()",description:" /  ",relatedSteps:["PRE_TRIAGE","STRATEGY"],action:"OPEN_PRECHECK"},{id:"CONTACT_EXECUTION",title:" ",description:"// ",relatedSteps:["COMPOSE","SEND"],action:"OPEN_CONTACT_EXECUTION"},{id:"RESPONSE_HANDLING",title:" ",description:" /  ",relatedSteps:["RESPONSE"],action:"OPEN_RESPONSE_HANDLING"},{id:"FOLLOW_UP",title:" ()",description:"  /  ",relatedSteps:["OUTCOME"],action:"OPEN_FOLLOW_UP"}],wje=[{id:"PRECHECK",title:"  ",description:"//    ",relatedSteps:["PRE_TRIAGE","STRATEGY"],action:"OPEN_PRECHECK"},{id:"CONTACT_EXECUTION",title:"  ",description:" /  /  ",relatedSteps:["COMPOSE","SEND"],action:"OPEN_CONTACT_EXECUTION"},{id:"RESPONSE_HANDLING",title:" ",description:"/MCI/  ",relatedSteps:["RESPONSE"],action:"OPEN_RESPONSE_HANDLING"},{id:"FOLLOW_UP",title:"  ",description:" /MCI Stage3/  ",relatedSteps:["OUTCOME"],action:"OPEN_FOLLOW_UP"}],Eje={OPEN_PRECHECK:"PRECHECK",OPEN_CONTACT_EXECUTION:"CONTACT_EXECUTION",OPEN_RESPONSE_HANDLING:"RESPONSE_HANDLING",OPEN_FOLLOW_UP:"FOLLOW_UP"};function sf(e,t){const r=e.findIndex(i=>i.id===t);if(r<=0)return null;const n=e.slice(0,r).find(i=>i.status!=="COMPLETED");if(!n)return null;const s=e[r]?.title??"";return`${n.title}    ${s}    .`}const Aje={COMPLETED:{label:"",icon:ws,cardTone:"border-emerald-200 bg-emerald-50/70 text-emerald-900 shadow-sm hover:shadow-emerald-200/70",chipTone:"border border-emerald-200 bg-emerald-100 text-emerald-700",reasonTone:"border-emerald-200 bg-white/70 text-emerald-800"},PENDING:{label:"",icon:Ky,cardTone:"border-sky-200 bg-sky-50/70 text-slate-900 shadow-sm hover:shadow-sky-200/60",chipTone:"border border-sky-200 bg-sky-100 text-sky-700",reasonTone:"border-sky-200 bg-white/70 text-slate-700"},BLOCKED:{label:"",icon:zn,cardTone:"border-rose-200 bg-rose-50/80 text-rose-900 shadow-inner hover:shadow-rose-200/50",chipTone:"border border-rose-200 bg-rose-100 text-rose-700",reasonTone:"border-rose-200 bg-white/70 text-rose-800"}},tz={NOT_STARTED:"",SENT:" ",WAITING_RESPONSE:" ",RETRY_NEEDED:" ",HANDOFF_TO_HUMAN:" ",PAUSED:"",STOPPED:"",DONE:""},Hc={NOT_CREATED:"",BOOKING_IN_PROGRESS:"",BOOKING_DONE:"",REFERRAL_CREATED:""},VC={CENTER_LINKAGE:{title:" ",description:"  / ",nextStatus:"BOOKING_IN_PROGRESS",note:"    ."},HOSPITAL_LINKAGE:{title:" ",description:"     ",nextStatus:"REFERRAL_CREATED",note:"    ."},COUNSELING_LINKAGE:{title:" ",description:"     ",nextStatus:"BOOKING_DONE",note:"      ."}};function _je(e,t,r=!1){return g.useMemo(()=>{const n=t==="stage2",s=t==="stage3",i=s?r?wje:jje:n?Sje:Nje,o=s?r?vje:ez:n?JG:ZG,l=e.policyGates.filter(_=>_.status==="FAIL").length,d=!!e.preTriageInput&&e.header.dataQuality.level!=="EXCLUDE",u=!!e.preTriageResult?.strategy,m=e.contactExecution.status!=="NOT_STARTED",p=!!(e.contactExecution.lastOutcomeCode||e.contactExecution.lastResponseAt),h=e.linkageStatus!=="NOT_CREATED"||e.contactExecution.status==="DONE"||e.contactExecution.status==="STOPPED",b=new Map(e.contactFlowSteps.map(_=>[_.step,_.status])),v=new Map(o.map(_=>[_.step,_.label])),N=_=>_.map(A=>`${v.get(A)??A}:${b.get(A)??"WAITING"}`).join(" / ");if(s){const _=e.stage3,A=d&&u,E=_?.recommendedActions.filter(L=>L.requiresApproval&&L.decision==="PENDING").length??0,C=!!_?.riskReviewedAt,O=_?.diffPathStatus??"NONE",D=O==="SCHEDULED"||O==="COMPLETED",R=_?.programs.some(L=>{const M=L.execution?.status;return M==="PLANNED"||M==="IN_PROGRESS"||M==="DONE"})??!1,K=!!_?.planUpdatedAt||e.linkageStatus!=="NOT_CREATED",H=!!_?.headerMeta.nextTrackingContactAt,U=i.map(L=>{const M=N(L.relatedSteps);return L.id==="PRECHECK"?r?A?C?{...L,status:"COMPLETED",reason:"    .",nextActionHint:"STEP2    .",metricLabel:`     ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:"STEP1      .",nextActionHint:"    STEP2(  )  .",metricLabel:`      ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:"        .",nextActionHint:"STEP1        .",metricLabel:`     ${M}`,isCurrent:!1}:A?C?{...L,status:"COMPLETED",reason:"       .",nextActionHint:"/     .",metricLabel:`    ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:"2       .",nextActionHint:"   '   '  .",metricLabel:`    ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:" (//)    .",nextActionHint:"        .",metricLabel:`   ${M}`,isCurrent:!1}:L.id==="CONTACT_EXECUTION"?r?!A||!C?{...L,status:"BLOCKED",reason:"STEP1        .",nextActionHint:"STEP1(  )  .",metricLabel:`     ${M}`,isCurrent:!1}:D?{...L,status:"COMPLETED",reason:"   .",nextActionHint:"STEP3 /MCI/  .",metricLabel:`     ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:"  (/ )   .",nextActionHint:"STEP2 MMSE/CDR/  .",metricLabel:`     ${M}`,isCurrent:!1}:!A||!C?{...L,status:"BLOCKED",reason:"STEP1(   )       .",nextActionHint:"STEP1      .",metricLabel:`   ${M}`,isCurrent:!1}:E>0?{...L,status:"PENDING",reason:`   ${E}  .`,nextActionHint:"    / .",metricLabel:`   ${E}  ${M}`,isCurrent:!1}:D?{...L,status:"COMPLETED",reason:"/   .",nextActionHint:"     .",metricLabel:` ${O}  ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:"/      .",nextActionHint:"   /  .",metricLabel:` ${O}  ${M}`,isCurrent:!1}:L.id==="RESPONSE_HANDLING"?r?D?_?.reevalStatus==="SCHEDULED"||_?.reevalStatus==="COMPLETED"?{...L,status:"COMPLETED",reason:"  .",nextActionHint:"STEP4   .",metricLabel:`    ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:"/MCI/     .",nextActionHint:"STEP3    .",metricLabel:`    ${M}`,isCurrent:!1}:{...L,status:"BLOCKED",reason:"STEP2       .",nextActionHint:"    .",metricLabel:`    ${M}`,isCurrent:!1}:!D||E>0?{...L,status:"BLOCKED",reason:" /         .",nextActionHint:"STEP2         .",metricLabel:`   ${M}`,isCurrent:!1}:R?{...L,status:"COMPLETED",reason:"    .",nextActionHint:" ()    .",metricLabel:`     ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:"   (////)   .",nextActionHint:"       .",metricLabel:`    ${M}`,isCurrent:!1}:r?_?.planUpdatedAt?{...L,status:"COMPLETED",reason:"   .",nextActionHint:"/    .",metricLabel:`     ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:"  ( /MCI Stage3/ )  .",nextActionHint:"STEP4   .",metricLabel:`     ${M}`,isCurrent:!1}:R?K&&H?{...L,status:"COMPLETED",reason:"/        .",nextActionHint:"/    .",metricLabel:` +     ${M}`,isCurrent:!1}:{...L,status:"PENDING",reason:" / /      .",nextActionHint:"      .",metricLabel:`    ${M}`,isCurrent:!1}:{...L,status:"BLOCKED",reason:"    1   ()    .",nextActionHint:"STEP3     .",metricLabel:`    ${M}`,isCurrent:!1}}).reduce((L,M,B)=>{if(B===0||L[B-1].status==="COMPLETED")return L.push(M),L;const ee=B;return L.push({...M,status:"BLOCKED",reason:`STEP ${ee}   ${M.title}    .`,nextActionHint:`STEP ${ee}   .`,metricLabel:`    ${N(M.relatedSteps)}`,isCurrent:!1}),L},[]),P=U.findIndex(L=>L.status!=="COMPLETED"),G=P===-1?U.length-1:P;return U.map((L,M)=>({...L,isCurrent:M===G}))}const y=i.map(_=>{const A=N(_.relatedSteps);if(_.id==="PRECHECK")return l>0||!d?{..._,status:"BLOCKED",reason:l>0?n?`  ${l}   .`:`  ${l}   .`:n?"      .":"       .",nextActionHint:n?"/      .":" /     .",metricLabel:l>0?`${n?" ":""} FAIL ${l}  ${A}`:`${n?"  ":"  "}  ${A}`,isCurrent:!1}:u?{..._,status:"COMPLETED",reason:n?"2     .":"    .",nextActionHint:n?"/      .":"    / .",metricLabel:`${n?" ":""} ${e.preTriageResult?.strategy??""}  ${A}`,isCurrent:!1}:{..._,status:"PENDING",reason:n?"     .":"      .",nextActionHint:n?" /     .":"       .",metricLabel:`${n?" ":" "}   ${A}`,isCurrent:!1};if(_.id==="CONTACT_EXECUTION"){const C=(e.header.effectiveStrategy??e.preTriageResult?.strategy)==="AI_FIRST"&&e.contactExecutor==="AGENT_SEND_ONLY"?n?"Agent      ":"Agent      ":_.description;return!d||!u?{..._,description:C,status:"BLOCKED",reason:n?"    /  .":"      .",nextActionHint:n?"      .":"       .",metricLabel:`${n?" ":""}   ${A}`,isCurrent:!1}:m?{..._,description:C,status:"COMPLETED",reason:e.contactExecutor==="AGENT_SEND_ONLY"?n?"Agent    /   .":"Agent   .":n?"/   .":"   .",nextActionHint:n?"/      .":"      .",metricLabel:`${tz[e.contactExecution.status]}  ${vi[e.contactExecutor]}  ${A}`,isCurrent:!1}:{..._,description:C,status:"PENDING",reason:e.contactExecutor==="AGENT_SEND_ONLY"?n?"Agent     .":"Agent      .":n?" /   .":" /   .",nextActionHint:e.contactExecutor==="AGENT_SEND_ONLY"?n?"/   Agent     .":"   Agent     .":n?"/      .":"/    1  .",metricLabel:`${n?" ":""}  ${vi[e.contactExecutor]}  ${A}`,isCurrent:!1}}return _.id==="RESPONSE_HANDLING"?m?p?{..._,status:"COMPLETED",reason:n?"/   .":"     .",nextActionHint:n?"/      .":"   // .",metricLabel:e.contactExecution.lastOutcomeCode?`${Io[e.contactExecution.lastOutcomeCode].label}  ${A}`:`${n?"  ":"  "}  ${A}`,isCurrent:!1}:{..._,status:"PENDING",reason:n?"     .":"     .",nextActionHint:n?"       .":"       .",metricLabel:`${n?"   ":"  "}  ${A}`,isCurrent:!1}:{..._,status:"BLOCKED",reason:n?"/   /   .":"       .",nextActionHint:n?"/     .":"    / .",metricLabel:`${n?"  ":" "}  ${A}`,isCurrent:!1}:p?h?{..._,status:"COMPLETED",reason:n?"     .":"    .",nextActionHint:n?"       .":"      .",metricLabel:`${Hc[e.linkageStatus]}  ${A}`,isCurrent:!1}:{..._,status:"PENDING",reason:n?"      .":"      .",nextActionHint:n?"       .":"   // .",metricLabel:`${Hc[e.linkageStatus]}  ${A}`,isCurrent:!1}:{..._,status:"BLOCKED",reason:n?"/    /   .":"       .",nextActionHint:n?"/     .":"   Outcome  .",metricLabel:`${Hc[e.linkageStatus]}  ${A}`,isCurrent:!1}}),S=y.findIndex(_=>_.status!=="COMPLETED"),w=S===-1?y.length-1:S;return y.map((_,A)=>({..._,isCurrent:A===w}))},[e,t,r])}function Cje(e){const t=e?.profile.age??70,r=!!e?.profile.guardianPhone,n=e?.quality===""||!!e?.alertTags.includes(" "),s=e?.status===""||!!e?.alertTags.includes(" "),i=!r&&t>=75,o=t>=80||e?.risk==="",l=!!(e?.alertTags.includes("High MCI")||e?.alertTags.includes(" ")),d=e?.risk===""&&t>=80;return{age:t,dxHistory:{hasMCI:l,hasDementia:d},contactHistory:{hasComplaint:n,hasRefusal:s,needsGuardian:i,comprehensionDifficultyFlag:o},guardian:{exists:r,isPrimaryContact:r&&(i||o)},responseHistory:{smsResponseGood:e?.risk!=="",callResponseGood:e?.status!=="",lastOutcome:e?.status===""?"NO_RESPONSE":void 0}}}function Tje(e){return CSe(e)}function rz(e,t,r="stage1"){const n=r==="stage2",s=r==="stage3",i=n?t?.profile.guardianPhone?"S2_CONTACT_RELIEF":"S2_CONTACT_BASE":s?"S3_CONTACT_BASE":t?.profile.guardianPhone?"S1_CONTACT_GUARDIAN":"S1_CONTACT_BASE",o=n?"S2_CONTACT_BASE":s?"S3_CONTACT_BASE":"S1_CONTACT_BASE";return e==="HUMAN_FIRST"?{channel:"HYBRID",templateId:i,maxRetryPolicy:{maxRetries:3,intervalHours:24}}:{channel:"SMS",templateId:o,maxRetryPolicy:{maxRetries:2,intervalHours:24}}}function kje(){return{status:"NOT_STARTED",retryCount:0}}function mi(e,t,r="NOT_CREATED",n="stage1"){const s=!!t,i=!!t?.strategy,o=e.status!=="NOT_STARTED",l=!!(e.lastOutcomeCode||e.lastResponseAt),d=e.status==="HANDOFF_TO_HUMAN"||e.status==="STOPPED"||e.status==="RETRY_NEEDED";return(n==="stage2"?JG:n==="stage3"?ez:ZG).map(({step:m,label:p,description:h})=>{let b="WAITING";return m==="PRE_TRIAGE"?b=s?"DONE":"MISSING":m==="STRATEGY"?b=i?"DONE":"MISSING":m==="COMPOSE"?b=i?o||n==="stage3"?"DONE":"WAITING":"MISSING":m==="SEND"?b=o||n==="stage3"?l?"DONE":"WAITING":"MISSING":m==="RESPONSE"?b=l?d?"WARNING":"DONE":o||n==="stage3"?"WAITING":"MISSING":m==="OUTCOME"&&(l?r==="NOT_CREATED"?b="WAITING":b="DONE":b="MISSING"),{step:m,label:p,status:b,description:h}})}function N3(e){return e.map(t=>({id:t.id,type:t.messageType,label:t.label,body:r=>t.body({caseId:r.caseAlias??"CASE",centerName:r.centerName,centerPhone:r.centerPhone,guideLink:r.guideLink,reservationLink:r.bookingLink,unsubscribe:r.optOut??qG})}))}const Oje=N3(x3),Rje=N3(b3),Pje=N3(y3);function nz({caseRecord:e,onHeaderSummaryChange:t,onPrimaryActionChange:r,mode:n="stage1",surfaceStage:s}){const i=n==="stage2",o=n==="stage3",l=o&&s==="Stage 2",d=i||l?"2":o?"3":"1",u=i?b3:o?y3:x3,m=i?Rje:o?Pje:Oje,p=u[0]?.id??"",[h,b]=g.useState(()=>HE(e,n,l)),[v,N]=g.useState(()=>K6(e,HE(e,n,l),n,l)),[y,S]=g.useState("ALL"),[w,_]=g.useState(null),[A,E]=g.useState("citizen"),[C,O]=g.useState(!1),[D,R]=g.useState(0),[K,H]=g.useState(""),[$,U]=g.useState("SUCCESS"),[P,G]=g.useState({citizen:!0,guardian:!1}),[L,M]=g.useState(p),[B,J]=g.useState("NOW"),[ee,I]=g.useState(""),[Y,ae]=g.useState(!0),[le,he]=g.useState(null),[X,ne]=g.useState(null),[ve,pe]=g.useState(!1),[Ce,ge]=g.useState(Date.now()),[se,Ze]=g.useState(nt(24)),[V,de]=g.useState(!1),[Ae,ce]=g.useState(""),[ye,Ie]=g.useState("HUMAN_FIRST"),[Ct,Dt]=g.useState(null),[ze,$e]=g.useState(""),[or,Vt]=g.useState(!0),[hn,zr]=g.useState(!1),[Rt,mr]=g.useState(null),[ar,Fr]=g.useState(""),[Mr,jr]=g.useState("ALL"),[Or,ur]=g.useState(!1),[ir,xt]=g.useState(null),[Ue,Mt]=g.useState({owner:e?.manager??_o,status:"PLANNED",method:""}),[ot,Qt]=g.useState({diffNeeded:!0,diffDecisionSet:!1,priority:"HIGH",caregiverNeeded:!1,sensitiveHistory:!1,resultLinkedChecked:!1,consentConfirmed:!1,strategyMemo:""}),[Ht,Ee]=g.useState({orgName:" ",orgPhone:"02-555-0199",preferredHospital:" ",preferredTimeWindow:"  14:00~16:00",caregiverCompanion:!1,mobilityIssue:!1,testBiomarker:!0,testBrainImaging:!0,testOther:!1,bookingAt:nt(72),bookingAltAt:nt(96),bookingConfirmed:!1,prepGuide:"/ /   ",note:"",resultSummary:"",resultLabel:"",riskReady:!1,abeta:"",tau:""}),[Be,Qe]=g.useState({consultStarted:!1,infoCollected:!1,ragGenerated:!1,bookingConfirmed:!1,messageSent:!1,calendarSynced:!1}),[Ft,hr]=g.useState(null),[at,br]=g.useState({memo:"",nextAction:"RECOMMEND_DIFF"}),[Ye,Yr]=g.useState({nextTrackingAt:nt(504),reminderDaysBefore:2,reminderTime:"09:00",retryCount:2}),[Gt,Oe]=g.useState(null),[Te,rt]=g.useState({code:null,level:"TEMP",detail:"",createFollowupEvent:!1,followupAt:nt(168)}),[St,Bt]=g.useState({strategy:null,channel:"CALL",assigneeId:e?.manager??_o,nextContactAt:nt(24),applyL3:!1}),[Wt,It]=g.useState([]),[lt,lr]=g.useState(null),[Jr,_a]=g.useState(!1),[zs,Ar]=g.useState(null),[Mn,Lt]=g.useState([]),[vr,qa]=g.useState(!1),[Ca,Tr]=g.useState(null),[io,Ir]=g.useState(""),[Rr,_s]=g.useState({route:"CENTER_VISIT_BOOKING",scheduledAt:nt(72),place:Tf.CENTER_VISIT_BOOKING.defaultPlace,contactGuide:jo,note:""}),[ut,_r]=g.useState(()=>G6(e)),[Nn,Wr]=g.useState(()=>GC(e)),[Ta,en]=g.useState(""),[Wa,ka]=g.useState(" "),[Fn,ls]=g.useState(nt(72)),[Sn,Va]=g.useState("HOSPITAL_REFERRAL"),[Ya,Ks]=g.useState({specialist:!0,mmse:!0,cdrOrGds:!0,neuroCognitive:!0}),[Cs,tn]=g.useState({gdsk:!1,adl:!1,bpsd:!1}),[qs]=g.useState(()=>e?.created??nt(-96)),[Ws]=g.useState(()=>nt(240)),[cn,dn]=g.useState(void 0),[Vs,Jt]=g.useState(!1),[Ts,Ys]=g.useState(""),[fr,W]=g.useState({status:"IDLE",attemptNo:0}),ie=g.useRef(0),Re=g.useRef(new Set),Je=g.useRef(new Set),We=g.useRef(!1),{isSaving:Ke,submitError:$t,calendarFailures:Zt,retryingKeys:wr,submit:cr,retryCalendarFailure:Br,clearSubmitError:jn}=I2e();g.useEffect(()=>{const F=HE(e,n,l);b(F),N(K6(e,F,n,l)),S("ALL"),_(null),E("citizen"),O(!1),R(0),H(""),U("SUCCESS"),G({citizen:!0,guardian:!1}),M(p),J("NOW"),I(""),ae(!0),he(null),ne(null),pe(!1),Ze(nt(24)),Vt(!0),zr(!1),mr(null),Fr(""),jr("ALL"),ur(!1),xt(null),Mt({owner:e?.manager??_o,status:"PLANNED",method:""}),Qt({diffNeeded:!0,diffDecisionSet:!1,priority:e?.risk===""?"HIGH":e?.risk===""?"MID":"LOW",caregiverNeeded:!!e?.profile.guardianPhone,sensitiveHistory:!!e?.alertTags.includes(" "),resultLinkedChecked:!1,consentConfirmed:!1,strategyMemo:""}),Ee({orgName:" ",orgPhone:jo,preferredHospital:" ",preferredTimeWindow:"  14:00~16:00",caregiverCompanion:!1,mobilityIssue:!1,testBiomarker:!0,testBrainImaging:!0,testOther:!1,bookingAt:nt(72),bookingAltAt:nt(96),bookingConfirmed:!1,prepGuide:"/ /   ",note:"",resultSummary:"",resultLabel:"",riskReady:!1,abeta:"",tau:""}),Qe({consultStarted:!1,infoCollected:!1,ragGenerated:!1,bookingConfirmed:!1,messageSent:!1,calendarSynced:!1}),hr(null),br({memo:"",nextAction:"RECOMMEND_DIFF"}),Yr({nextTrackingAt:nt((F.stage3?.headerMeta.trackingCycleDays??21)*24),reminderDaysBefore:2,reminderTime:"09:00",retryCount:2}),Oe(null),Dt(null),$e(""),rt({code:null,level:"TEMP",detail:"",createFollowupEvent:!1,followupAt:nt(168)}),Bt({strategy:null,channel:"CALL",assigneeId:e?.manager??_o,nextContactAt:nt(24),applyL3:!1}),It([]),lr(null),_a(!1),Ar(null),Lt([]),qa(!1),Tr(null),Ir(""),_s({route:"CENTER_VISIT_BOOKING",scheduledAt:nt(72),place:Tf.CENTER_VISIT_BOOKING.defaultPlace,contactGuide:jo,note:""});const Z=G6(e);_r(Z),Wr(Z.classification?.label??GC(e)),en(""),ka(" "),ls(nt(72)),Va("HOSPITAL_REFERRAL"),Ks({specialist:!0,mmse:!0,cdrOrGds:!0,neuroCognitive:!0}),tn({gdsk:!1,adl:!1,bpsd:!1}),dn(void 0),W({status:"IDLE",attemptNo:0}),ie.current=0,Re.current=new Set,Je.current=new Set,We.current=!1,jn()},[e?.id,jn,p,l,n]),g.useEffect(()=>{const F=window.setInterval(()=>ge(Date.now()),1e3);return()=>window.clearInterval(F)},[]),g.useEffect(()=>{if(!C)return;const F=window.setInterval(()=>{R(Z=>Z+1)},1e3);return()=>window.clearInterval(F)},[C]),g.useEffect(()=>{if(!(w==="CONTACT_EXECUTION"||o&&Rt==="CONTACT_EXECUTION"))return;qa(!0);const Z=window.setTimeout(()=>{const te=aje(h,n);Lt(te);const xe=te[0];Tr(xe?.id??null),Ir(xe?.scriptBody??""),qa(!1)},180);return()=>window.clearTimeout(Z)},[w,h,o,n,Rt]);const Ti=g.useMemo(()=>RNe(),[]),nl=g.useMemo(()=>h.todos.find(F=>F.status==="OPEN"),[h.todos]),ld=g.useMemo(()=>y==="ALL"?h.timeline:h.timeline.filter(F=>sje(F)===y),[h.timeline,y]),Xl=g.useMemo(()=>u.find(F=>F.id===L)??u[0],[u,L]),Ql=g.useMemo(()=>Xl.body({caseId:h.header.caseId,centerName:BE,centerPhone:jo,guideLink:OSe,reservationLink:Oh(h.reservationInfo),unsubscribe:qG}),[h.header.caseId,h.reservationInfo,Xl]),Wn=g.useMemo(()=>Mn.find(F=>F.id===Ca)??null,[Mn,Ca]),oo=g.useMemo(()=>DSe(n,Wn??void 0),[n,Wn]),ki=g.useMemo(()=>h.contactExecutor==="AGENT_SEND_ONLY"?m.filter(F=>F.type!=="BOOKING"):h.reservationInfo?m:m.filter(F=>F.type!=="BOOKING"),[h.contactExecutor,h.reservationInfo,m]),lo=!!e?.profile.guardianPhone,cs=X6(h.policyGates,["CONSENT_OK","CONTACTABLE_TIME_OK","PHONE_VERIFIED"]),Q=X6(h.policyGates,["CONSENT_OK","CONTACTABLE_TIME_OK","PHONE_VERIFIED"]),be=cs??(A==="guardian"&&!lo?"  ":void 0);Q??((P.guardian&&!lo||!P.citizen&&!P.guardian)&&!P.citizen&&P.guardian);const De=[h.preTriageInput?.contactHistory.hasComplaint?" ":null,h.preTriageInput?.contactHistory.hasRefusal?" ":null].filter(Boolean);new Date(Ce).getHours();const Ne=F=>{const Z={id:`audit-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,at:pt(kt()),actor:h.header.assigneeName||_o,message:F};N(te=>[Z,...te])},je=F=>{b(Z=>({...Z,timeline:[F,...Z.timeline]}))},et=()=>{const F=!!ut.classification?.label,Z=zC(ut.tests,F);_r(te=>({...te,status:Z})),je({type:"STATUS_CHANGE",at:kt(),from:"",to:"",reason:`Stage2    (${xh(ut.tests)}/4)`,by:h.header.assigneeName}),Ne(`Stage2    : ${xh(ut.tests)}/4`),Le.success("   .")},ht=()=>{if(!fs){Le.error("   .");return}const F=Nn,Z=F==="MCI"?HC(e):void 0,te=Jx(F,Z),xe=YSe(F),fe=kt(),Me=zC(ut.tests,!0);_r(tt=>({...tt,status:Me,classification:{label:F,probs:te,mciStage:Z},nextStep:xe})),dn(fe),je({type:"STATUS_CHANGE",at:fe,from:"",to:`(${F}${Z?`-${Z}`:""})`,reason:Ta.trim()||"   ",by:h.header.assigneeName}),Ne(`Stage2  : ${F}${Z?`(${Z})`:""}`),Le.success(" .")},gt=(F,Z)=>{_r(te=>({...te,nextStep:F})),je({type:"PLAN_UPDATED",at:kt(),by:h.header.assigneeName,summary:Z}),Ne(`Stage2   : ${Z}`),Le.success("  .")},dr=()=>{b(F=>({...F,linkageStatus:"BOOKING_DONE",reservationInfo:{route:"HOSPITAL_REFERRAL_BOOKING",reservationType:"2  ",scheduledAt:Fn,place:Wa,contactGuide:jo,note:"Stage2   "}})),je({type:"LINKAGE_CREATED",at:kt(),by:h.header.assigneeName,linkageType:"HOSPITAL",summary:`   (${Wa})`}),Ne(`   : ${Wa} / ${pt(Fn)}`),Le.success("  .")},gn=F=>{const Z={...F,id:`agent-log-${Date.now()}-${Math.random().toString(36).slice(2,7)}`};b(te=>({...te,agentExecutionLogs:[Z,...te.agentExecutionLogs]}))},Vn=(F,Z,te)=>{b(xe=>({...xe,policyGates:xe.policyGates.map(fe=>fe.key===F?{...fe,status:Z,failReason:void 0}:fe)})),je({type:"POLICY_GATE_UPDATE",at:kt(),key:F,status:Z,by:h.header.assigneeName}),Ne(`   (${te})`)},Xr=(F,Z)=>{b(te=>{const xe=new Set(te.todos.filter(Me=>Me.status==="DONE").map(Me=>Me.title)),fe=KC(F,Z).map(Me=>xe.has(Me.title)?{...Me,status:"DONE"}:Me);return{...te,todos:fe}})},ks=(F,Z)=>{b(xe=>({...xe,todos:xe.todos.map(fe=>fe.id===F?{...fe,status:Z}:fe)}));const te=h.todos.find(xe=>xe.id===F);te&&(je({type:"STATUS_CHANGE",at:kt(),from:te.status,to:Z,reason:`To-Do : ${te.title}`,by:h.header.assigneeName}),Ne(`To-Do : ${te.title}`),Le.success(" ( )"))},Xs=F=>{const Z=h.todos.find(te=>te.status==="OPEN"&&te.suggestedAction===F);Z&&ks(Z.id,"DONE")},In=F=>{const Z=F.fixAction?.action;if(Z){if(Z==="CONFIRM_CONTACT_TIME"){Vn("CONTACTABLE_TIME_OK","PASS","   "),Le.success(" ( )"),Ne("   ");return}if(Z==="REQUEST_CONSENT"){Vn("CONSENT_OK","PASS","  "),Le.success(" ( )");return}if(Z==="VERIFY_PHONE"){Vn("PHONE_VERIFIED","PASS"," "),Le.success(" ( )");return}Z==="ADD_GUARDIAN"&&(Vn("GUARDIAN_OPTIONAL","PASS","  "),Le.success(" ( )"))}},Xa=F=>{F!==h.interventionLevel&&he({mode:"LEVEL",title:`   (${h.interventionLevel}  ${F})`,confirmLabel:" ",nextLevel:F,reason:""})},Tt=F=>{he({mode:"STATUS",title:`${F}   `,confirmLabel:`${F} `,nextStatus:F,reason:""})},Cn=F=>{const Z=VC[F],te=h.linkageStatus,xe=Z.nextStatus;b(fe=>{const Me={...fe.contactExecution,status:fe.contactExecution.status==="STOPPED"?"STOPPED":fe.contactExecution.status==="DONE"?"DONE":"HANDOFF_TO_HUMAN"};return{...fe,linkageStatus:xe,contactExecution:Me,contactFlowSteps:mi(Me,fe.preTriageResult,xe,n)}}),je({type:"STATUS_CHANGE",at:kt(),from:Hc[te],to:Hc[xe],reason:`${Z.title} `,by:h.header.assigneeName}),Ne(` : ${Z.title}`),Le.success(`${Z.title} .`)},oa=(F,Z)=>{if(!o)return;const te=h.stage3?.recommendedActions.find(fe=>fe.id===F);if(!te)return;const xe=kt();b(fe=>{if(!fe.stage3)return fe;const Me=fe.stage3.recommendedActions.map(Ra=>Ra.id===F?{...Ra,decision:Z}:Ra),tt=Me.filter(Ra=>Ra.requiresApproval&&Ra.decision==="PENDING").length;let st=fe.stage3.reevalStatus,gr=fe.stage3.headerMeta.planStatus,jt=fe.stage3.planUpdatedAt,Xt=fe.linkageStatus;Z==="APPROVED"&&(te.type==="SCHEDULE_REEVAL"&&(st="SCHEDULED"),te.type==="UPDATE_PLAN"&&(gr="ACTIVE",jt=xe),te.type==="ESCALATE_LEVEL"&&(Xt="BOOKING_IN_PROGRESS"));const Er={...fe.stage3,reevalStatus:st,planUpdatedAt:jt,triggersReviewedAt:tt===0?xe:fe.stage3.triggersReviewedAt,recommendedActions:Me,headerMeta:{...fe.stage3.headerMeta,planStatus:gr,opsStatus:gr==="NEEDS_UPDATE"?"PLAN_NEEDS_UPDATE":st==="PENDING"?"REEVAL_PENDING":Xt!=="NOT_CREATED"?"LINKAGE_PENDING":"TRACKING"}};return{...fe,linkageStatus:Xt,stage3:Er,contactFlowSteps:mi(fe.contactExecution,fe.preTriageResult,Xt,n)}}),je({type:"STAGE3_ACTION_DECISION",at:xe,by:h.header.assigneeName,actionId:F,decision:Z,note:te.title}),Z==="APPROVED"&&(te.type==="SCHEDULE_REEVAL"?je({type:"REEVAL_SCHEDULED",at:xe,scheduledAt:h.stage3?.headerMeta.nextReevalAt??nt(72),by:h.header.assigneeName,reason:"  "}):te.type==="UPDATE_PLAN"?je({type:"PLAN_UPDATED",at:xe,by:h.header.assigneeName,summary:"    "}):te.type==="ESCALATE_LEVEL"?je({type:"LINKAGE_CREATED",at:xe,by:h.header.assigneeName,linkageType:"CENTER",summary:"   "}):te.type==="SEND_REMINDER"&&je({type:"SMS_SENT",at:xe,templateId:"S3_REMINDER_TRACK",status:"PENDING",by:h.header.assigneeName})),Ne(`Stage3  ${Z==="APPROVED"?"":""}: ${te.title}`),Le.success(` (  ): ${te.title}`)},Zl=F=>{if(!o)return;const Z=kt(),te=h.stage3?.headerMeta.nextReevalAt??nt(72),xe=F==="RESCHEDULE"?nt(120):F==="COMPLETE"?nt(336):te;b(fe=>{if(!fe.stage3)return fe;const Me=F==="COMPLETE"?"COMPLETED":F==="NOSHOW"?"NOSHOW":"SCHEDULED",tt=F==="COMPLETE"?fe.stage3.headerMeta.planStatus==="NEEDS_UPDATE"?"PLAN_NEEDS_UPDATE":"TRACKING":F==="NOSHOW"?"CHURN_RISK":"REEVAL_PENDING";return{...fe,stage3:{...fe.stage3,reevalStatus:Me,headerMeta:{...fe.stage3.headerMeta,nextReevalAt:xe,opsStatus:tt}},contactFlowSteps:mi(fe.contactExecution,fe.preTriageResult,fe.linkageStatus,n)}}),F==="SCHEDULE"?(je({type:"REEVAL_SCHEDULED",at:Z,scheduledAt:te,by:h.header.assigneeName,reason:"  "}),Ne(`  : ${pt(te)}`)):F==="RESCHEDULE"?(je({type:"REEVAL_RESCHEDULED",at:Z,from:te,to:xe,by:h.header.assigneeName,reason:" "}),Ne(`  : ${pt(te)}  ${pt(xe)}`)):F==="COMPLETE"?(je({type:"REEVAL_COMPLETED",at:Z,by:h.header.assigneeName,note:"  "}),Ne("  ")):(je({type:"REEVAL_NOSHOW",at:Z,by:h.header.assigneeName,note:" "}),Ne("  ")),Le.success(" ( )")},ds=F=>{if(!o)return;const Z=kt(),te=F?.summary??(l?"   ":"    ");b(xe=>{if(!xe.stage3)return xe;const fe=[...xe.stage3.transitionRisk.series],Me=fe[fe.length-1],tt=Me?{t:Z,risk2y:Me.risk2y,ciLow:Me.ciLow,ciHigh:Me.ciHigh,source:"manual",event:"REEVAL"}:{t:Z,risk2y:xe.stage3.transitionRisk.risk2y_now,source:"manual",event:"REEVAL"},st=[...fe.slice(-11),tt];return{...xe,stage3:{...xe.stage3,riskReviewedAt:Z,transitionRisk:{...xe.stage3.transitionRisk,updatedAt:Z,series:st}}}}),je({type:"RISK_REVIEWED",at:Z,by:h.header.assigneeName,summary:te}),je({type:"RISK_SERIES_UPDATED",at:Z,by:h.header.assigneeName,summary:l?"     ":"     "}),Ne(`${l?"Stage2   ":"Stage3   "} : ${te}`),F?.nextAction&&Oe({at:Z,memo:te,nextAction:F.nextAction}),F?.silentToast||Le.success(l?"   .":"   .")},ba=F=>{if(!o)return;const Z=kt();if(b(te=>{if(!te.stage3)return te;let xe=te.stage3.diffPathStatus,fe=te.stage3.reevalStatus,Me=te.stage3.headerMeta.planStatus,tt=te.stage3.planUpdatedAt,st=te.stage3.headerMeta.nextReevalAt,gr=te.stage3.transitionRisk;if(F==="CREATE_RECO")xe="RECOMMENDED";else if(F==="CREATE_REFER")xe="REFERRED";else if(F==="SCHEDULE"){xe="SCHEDULED",fe="SCHEDULED",st=nt(72);const Xt=te.stage3.transitionRisk.series[te.stage3.transitionRisk.series.length-1];gr={...te.stage3.transitionRisk,updatedAt:Z,series:[...te.stage3.transitionRisk.series.slice(-11),{t:Z,risk2y:Xt?.risk2y??te.stage3.transitionRisk.risk2y_now,ciLow:Xt?.ciLow,ciHigh:Xt?.ciHigh,source:"manual",event:"REEVAL"}]}}else if(F==="COMPLETE"){xe="COMPLETED",fe="COMPLETED";const Xt=te.stage3.transitionRisk.series[te.stage3.transitionRisk.series.length-1],Er=Dn((Xt?.risk2y??te.stage3.transitionRisk.risk2y_now)-.03);gr={...te.stage3.transitionRisk,risk2y_now:Er,risk2y_label:Er>=.7?"HIGH":Er>=.45?"MID":"LOW",updatedAt:Z,series:[...te.stage3.transitionRisk.series.slice(-11),{t:Z,risk2y:Er,ciLow:Dn(Er-.04),ciHigh:Dn(Er+.04),source:"manual",event:"REEVAL"}]}}else if(F==="APPLY_RESULT"){xe="COMPLETED",Me="NEEDS_UPDATE",tt=Z;const Xt=te.stage3.transitionRisk.series[te.stage3.transitionRisk.series.length-1],Er=Dn((Xt?.risk2y??te.stage3.transitionRisk.risk2y_now)+.04);gr={...te.stage3.transitionRisk,risk2y_now:Er,risk2y_label:Er>=.7?"HIGH":Er>=.45?"MID":"LOW",updatedAt:Z,series:[...te.stage3.transitionRisk.series.slice(-11),{t:Z,risk2y:Er,ciLow:Dn(Er-.05),ciHigh:Dn(Er+.05),source:"manual",event:"DIFF_RESULT_APPLIED"}]}}const jt=Me==="NEEDS_UPDATE"?"PLAN_NEEDS_UPDATE":xe==="REFERRED"||xe==="SCHEDULED"?"LINKAGE_PENDING":fe==="PENDING"?"REEVAL_PENDING":"TRACKING";return{...te,stage3:{...te.stage3,diffPathStatus:xe,reevalStatus:fe,planUpdatedAt:tt,transitionRisk:gr,headerMeta:{...te.stage3.headerMeta,planStatus:Me,nextReevalAt:st,opsStatus:jt}},linkageStatus:F==="CREATE_REFER"||F==="SCHEDULE"?"REFERRAL_CREATED":te.linkageStatus}}),F==="CREATE_RECO")je({type:"DIFF_RECO_CREATED",at:Z,by:h.header.assigneeName,summary:l?"   ":"/  "}),Ne(l?"   ":"  ");else if(F==="CREATE_REFER")je({type:"DIFF_REFER_CREATED",at:Z,by:h.header.assigneeName,summary:l?"/  ":"  "}),je({type:"LINKAGE_CREATED",at:Z,by:h.header.assigneeName,linkageType:"HOSPITAL",summary:l?"    ":"   "}),Ne(l?"  ":"  ");else if(F==="SCHEDULE"){const te=nt(72);je({type:"DIFF_SCHEDULED",at:Z,by:h.header.assigneeName,summary:l?"  ":"  "}),je({type:"REEVAL_SCHEDULED",at:Z,by:h.header.assigneeName,scheduledAt:te,reason:l?"  ":"  "}),Ne(l?"  ":"  ")}else F==="COMPLETE"?(je({type:"DIFF_COMPLETED",at:Z,by:h.header.assigneeName,summary:l?"   ":"  "}),je({type:"REEVAL_COMPLETED",at:Z,by:h.header.assigneeName,note:l?" ":" "}),Ne(l?"  ":"  ")):(je({type:"DIFF_RESULT_APPLIED",at:Z,by:h.header.assigneeName,summary:l?"      ":"       "}),Ne(l?"  ":"  "));Le.success(" (  )")},Qs=g.useCallback((F,Z,te)=>{if(!o)return;const xe=kt(),fe=F.trim();Qe(Me=>({...Me,consultStarted:!0,infoCollected:!0})),fe.length>0&&Ee(Me=>({...Me,note:fe})),je({type:"CALL_ATTEMPT",at:xe,result:"SUCCESS",note:fe||`${Z}  `,by:h.header.assigneeName}),Ne(`Stage3  : ${te}${fe?` (${fe.slice(0,80)})`:""}`)},[Ne,h.header.assigneeName,o]),co=g.useCallback(F=>{if(!o)return;const Z=kt();je({type:"SMS_SENT",at:Z,templateId:F.templateLabel,status:F.status==="SENT"?"DELIVERED":F.status==="SCHEDULED"?"PENDING":"FAILED",by:h.header.assigneeName}),je({type:"MESSAGE_SENT",at:Z,by:h.header.assigneeName,summary:`   ${F.mode==="NOW"?"":""}: ${F.templateLabel}`}),Qe(te=>({...te,messageSent:F.status!=="FAILED"})),Ne(`Stage3  ${F.mode==="NOW"?"":""}: ${F.templateLabel} (${F.status})`)},[Ne,h.header.assigneeName,o]),Vp=g.useCallback(()=>{if(!o)return;const F=kt(),Z=[Ht.note,K,io,Wn?.scriptBody].filter(Boolean).join(" "),te=Z.length>=180?"":Z.length>=80?"":"",xe={preferredHospital:Ht.preferredHospital||Ht.orgName||" ",preferredTimeWindow:Z.includes("")||Z.includes("")?"  10:00~12:00":Z.includes("")?"  09:00~11:00":"  14:00~16:00",caregiverCompanion:Z.includes("")||ot.caregiverNeeded,mobilityIssue:Z.includes("")||Z.includes(""),testBiomarker:!0,testBrainImaging:!0,prepGuide:" : / /  ,      ",orgName:Ht.orgName||" ",orgPhone:Ht.orgPhone||jo},fe=Object.keys(xe).filter(tt=>{const st=xe[tt],gr=Ht[tt];return st!==gr}),Me=[Wn?.title?` : ${Wn.title}`:"    ",Z.length>0?`   : ${Z.slice(0,60)}${Z.length>60?"...":""}`:"      ",`     ${te}`];hr({generatedAt:F,confidenceLabel:te,reasonSnippets:Me,patch:xe,changedFields:fe,applied:!1,ignored:!1}),Qe(tt=>({...tt,ragGenerated:!0})),Ne(`Stage3 RAG    (${te})`),Le.success("RAG   .    .")},[Ne,K,o,io,Wn?.scriptBody,Wn?.title,Ht,ot.caregiverNeeded]),Yp=g.useCallback(()=>{if(!Ft)return;const F=kt();Ee(Z=>({...Z,...Ft.patch})),hr(Z=>Z&&{...Z,applied:!0,ignored:!1}),Qe(Z=>({...Z,infoCollected:!0,ragGenerated:!0})),je({type:"STAGE3_ACTION_DECISION",at:F,by:h.header.assigneeName,actionId:"RAG_AUTOFILL",decision:"APPROVED",note:`  (${Ft.changedFields.length} )`}),Ne(`Stage3 RAG  : ${Ft.changedFields.join(", ")||" "}`)},[Ne,h.header.assigneeName,Ft]),Xp=g.useCallback(()=>{if(!Ft)return;const F=kt();hr(Z=>Z&&{...Z,ignored:!0,applied:!1}),je({type:"STAGE3_ACTION_DECISION",at:F,by:h.header.assigneeName,actionId:"RAG_AUTOFILL",decision:"HOLD",note:"  "}),Ne("Stage3 RAG  ")},[Ne,h.header.assigneeName,Ft]),Qp=g.useCallback(()=>{if(!o)return;if(!Ht.bookingAt){Le.error("    .");return}const F=kt();ba("SCHEDULE"),Ee(te=>({...te,bookingConfirmed:!0})),Qe(te=>({...te,bookingConfirmed:!0,messageSent:!0,calendarSynced:!0})),je({type:"SMS_SENT",at:F,templateId:"S3_BOOKING_CONFIRM",status:"DELIVERED",by:h.header.assigneeName}),je({type:"MESSAGE_SENT",at:F,by:h.header.assigneeName,summary:`     ${pt(Ht.bookingAt)}`});const Z=`S3-CAL-${Date.now()}`;je({type:"CALENDAR_SYNC",at:F,status:"SUCCESS",eventType:"FOLLOWUP",title:`Stage3   (${h.header.caseId})`,scheduledAt:Ht.bookingAt,idempotencyKey:Z,by:h.header.assigneeName}),je({type:"CAL_EVENT_CREATED",at:F,by:h.header.assigneeName,scheduledAt:Ht.bookingAt,summary:`${Ht.preferredHospital||Ht.orgName}  ${pt(Ht.bookingAt)}`}),Ne(`Stage3    : ${Ht.preferredHospital||Ht.orgName}  ${pt(Ht.bookingAt)}  /  `),Le.success("//  .")},[Ne,h.header.assigneeName,h.header.caseId,ba,o,Ht.bookingAt,Ht.orgName,Ht.preferredHospital]),W0=(F,Z)=>{if(!o)return;const te=kt();b(xe=>{if(!xe.stage3)return xe;const fe=xe.stage3.programs.map(Me=>{if(Me.id!==F)return Me;const tt=Z??!Me.selected;return{...Me,selected:tt,execution:tt?Me.execution??{owner:xe.header.assigneeName,dueDate:nt(72),status:"PLANNED",method:""}:void 0}});return{...xe,stage3:{...xe.stage3,programs:fe}}}),je({type:"PROGRAM_SELECTED",at:te,by:h.header.assigneeName,summary:`  : ${F}`}),Ne(`  : ${F}`)},Zp=(F,Z)=>{if(!o)return;const te=kt();b(xe=>{if(!xe.stage3)return xe;const fe=xe.stage3.programs.map(Me=>Me.id!==F?Me:{...Me,selected:!0,execution:{owner:xe.header.assigneeName,...Me.execution,...Z}});return{...xe,stage3:{...xe.stage3,programs:fe}}}),je({type:Z.status==="DONE"?"PROGRAM_EXEC_COMPLETED":"PROGRAM_EXEC_UPDATED",at:te,by:h.header.assigneeName,summary:`  : ${F}`}),Ne(`  : ${F}`),Le.success("   .")},V0=()=>{if(!o)return;const F=kt();b(Z=>{if(!Z.stage3)return Z;const te=Z.stage3.transitionRisk.series[Z.stage3.transitionRisk.series.length-1],xe=te?.risk2y??Z.stage3.transitionRisk.risk2y_now;return{...Z,stage3:{...Z.stage3,planUpdatedAt:F,transitionRisk:{...Z.stage3.transitionRisk,updatedAt:F,series:[...Z.stage3.transitionRisk.series.slice(-11),{t:F,risk2y:xe,ciLow:te?.ciLow,ciHigh:te?.ciHigh,source:"manual",event:"PLAN_UPDATED"}]},headerMeta:{...Z.stage3.headerMeta,planStatus:"ACTIVE",opsStatus:"TRACKING"}}}}),je({type:"PLAN_UPDATED",at:F,by:h.header.assigneeName,summary:"   "}),Ne("  "),Le.success("  .")},Y0=()=>{if(!o)return;const F=kt(),Z=nt((h.stage3?.headerMeta.trackingCycleDays??21)*24);b(te=>te.stage3?{...te,stage3:{...te.stage3,headerMeta:{...te.stage3.headerMeta,nextTrackingContactAt:Z}}}:te),je({type:"NEXT_TRACKING_SET",at:F,by:h.header.assigneeName,nextAt:Z,summary:"   "}),Ne(`   : ${pt(Z)}`),Le.success("   .")},X0=g.useCallback(()=>{if(!o)return;if(l){if(!h.stage3?.riskReviewedAt){ds({summary:"STEP1  "});return}if(h.stage3.diffPathStatus==="NONE"||h.stage3.diffPathStatus==="RECOMMENDED"){ba("SCHEDULE");return}if(h.stage3.reevalStatus!=="SCHEDULED"&&h.stage3.reevalStatus!=="COMPLETED"){Zl("SCHEDULE");return}mr("FOLLOW_UP");return}const F=h.stage3?.recommendedActions.find(te=>te.decision==="PENDING");if(F){oa(F.id,"APPROVED");return}if(!h.stage3?.riskReviewedAt){ds();return}if(h.stage3.diffPathStatus==="NONE"){ba("CREATE_RECO");return}if(!h.stage3.programs.some(te=>te.selected&&(te.execution?.status==="PLANNED"||te.execution?.status==="IN_PROGRESS"||te.execution?.status==="DONE"))){const te=h.stage3.programs[0];if(te){W0(te.id,!0),Zp(te.id,{status:"PLANNED",method:"",dueDate:nt(72)});return}}if(h.stage3.headerMeta.planStatus==="NEEDS_UPDATE"){V0();return}Y0()},[oa,V0,h.stage3,ba,ds,Zl,o,l,Y0,mr,W0,Zp]),gu=F=>{if(F===h.contactExecutor)return;const Z=h.contactExecutor,te=kt(),xe=Os==="AI_FIRST"&&F==="HUMAN";xe&&oc({actor:"operator",summary:"     .",detailMessage:"    ",moveToHuman:!0}),b(fe=>({...fe,contactExecutor:F})),je({type:"STATUS_CHANGE",at:te,from:vi[Z],to:vi[F],reason:"  ",by:h.header.assigneeName}),xe&&(je({type:"OPERATOR_OVERRIDE_TO_HUMAN",at:te,actor:"operator",caseId:h.header.caseId,summary:"  ",detail:"      ",by:h.header.assigneeName}),Ne("  :     ")),Ne(`  : ${vi[Z]}  ${vi[F]}`),Le.success("  .")},Q0=F=>{Tr(F.id),Ir(F.scriptBody)},Jp=()=>{const F=Tf[Rr.route];if(Rr.route!=="HOLD_TRACKING"&&!Rr.scheduledAt)return Le.error("/  ."),!1;const Z=Rr.route==="HOLD_TRACKING"?void 0:{route:Rr.route,reservationType:F.reservationType,scheduledAt:Rr.scheduledAt,place:Rr.place||F.defaultPlace,contactGuide:Rr.contactGuide||jo,note:Rr.note||void 0},te=h.linkageStatus,xe=F.linkageStatus;return b(fe=>({...fe,linkageStatus:xe,reservationInfo:Z,contactFlowSteps:mi(fe.contactExecution,fe.preTriageResult,xe,n)})),Z?.scheduledAt&&Ze(Z.scheduledAt),je({type:"STATUS_CHANGE",at:kt(),from:Hc[te],to:Hc[xe],reason:`${F.label} `,by:h.header.assigneeName}),Ne(`  : ${F.label}`),Le.success("  ."),!0},c1=()=>{if(!le||!le.reason.trim())return;if(le.mode==="LEVEL"){const te=le.nextLevel,xe=h.interventionLevel,fe=h.header.dataQuality.level;b(Me=>({...Me,interventionLevel:te})),Xr(te,fe),je({type:"LEVEL_CHANGE",at:kt(),from:xe,to:te,reason:le.reason,by:h.header.assigneeName}),Ne(`  : ${xe}  ${te} (${le.reason})`),Le.success(" ( )"),he(null);return}const F=h.header.statusLabel,Z=le.nextStatus;b(te=>{const xe=Z===" "?{level:"EXCLUDE",score:Math.min(te.header.dataQuality.score,60),notes:["  ","    "]}:te.header.dataQuality;return{...te,header:{...te.header,statusLabel:Z,dataQuality:xe},todos:Z===" "?KC(te.interventionLevel,"EXCLUDE"):te.todos}}),je({type:"STATUS_CHANGE",at:kt(),from:F,to:Z,reason:le.reason,by:h.header.assigneeName}),Ne(` : ${F}  ${Z} (${le.reason})`),Le.success(" ( )"),he(null)},d1=()=>{be||(O(!0),R(0),Ne(`   (${A==="citizen"?"":""})`))},em=async()=>{if(!X)return;if(pe(!0),X.mode==="CALL"){const tt=kt(),st=X.result,gr=X.note.trim();je({type:"CALL_ATTEMPT",at:tt,result:st,note:gr||void 0,by:h.header.assigneeName}),Ne(`  : ${uje(st)}${gr?` (${gr})`:""}`),b(jt=>({...jt,header:{...jt.header,waitDays:st==="SUCCESS"?0:jt.header.waitDays+1,statusLabel:st==="SUCCESS"?"":jt.header.statusLabel}})),st==="SUCCESS"?(Xs("CALL"),Ze(nt(72))):Ze(nt(st==="NO_ANSWER"?6:24)),H(""),R(0),pe(!1),ne(null),Le.success(" ( )");return}const F=X.result,Z=Ql,te=[{key:"citizen",label:"",phone:e?.profile.phone},{key:"guardian",label:"",phone:e?.profile.guardianPhone}].filter(tt=>P[tt.key]),xe=X.scheduled&&ee?new Date(ee).toISOString():kt();let fe=0,Me=0;for(const tt of te){let st=F;!X.scheduled&&tt.phone&&F!=="FAILED"&&((await BG({caseId:h.header.caseId,citizenPhone:tt.phone,templateId:L,renderedMessage:Z,dedupeKey:`${h.header.caseId}-${L}-${tt.label}-${Date.now()}`})).success||(st="FAILED")),(st==="DELIVERED"||st==="PENDING")&&(fe+=1),st==="FAILED"&&(Me+=1),je({type:"SMS_SENT",at:xe,templateId:`${L}(${tt.label})`,status:st,by:h.header.assigneeName})}Ne(` ${X.scheduled?"":""}: ${Xl.label} (${te.length}, / ${fe},  ${Me})`),fe>0&&(Xs("SMS"),Ze(nt(48))),pe(!1),ne(null),Le.success(" ( )")};`${String(Math.floor(D/60)).padStart(2,"0")}${String(D%60).padStart(2,"0")}`;const u1=()=>{if(!Ae.trim())return;const F=h.header.effectiveStrategy??h.preTriageResult?.strategy??"AI_FIRST",Z=ye,te=g3(h.preTriageResult?.triggers??[]);if(Z==="AI_FIRST"&&te&&Ae.trim().length<12){Le.error("        12   .");return}b(xe=>{const fe={strategy:Z,triggers:[...xe.preTriageResult?.triggers??[],` : ${Ae}`],policyNote:`    (${Mc[Z]}). : ${Ae}`,confidence:"RULE"};return{...xe,header:{...xe.header,contactStrategy:"MANUAL_OVERRIDE",effectiveStrategy:Z},contactExecutor:Z==="AI_FIRST"?"AGENT_SEND_ONLY":"HUMAN",preTriageResult:fe,contactPlan:rz(Z,e,n),contactFlowSteps:mi(xe.contactExecution,fe,xe.linkageStatus,n)}}),je({type:"STRATEGY_CHANGE",at:kt(),from:F,to:Z,reason:Ae,by:h.header.assigneeName}),je({type:"CONTACT_STRATEGY_CHANGED",at:kt(),actor:"operator",caseId:h.header.caseId,summary:`  : ${Mc[F]}  ${Mc[Z]}`,detail:Ae,by:h.header.assigneeName}),Z==="HUMAN_FIRST"&&oc({actor:"operator",summary:"     .",detailMessage:Ae,moveToHuman:!0}),Ne(`   : ${Mc[F]}  ${Mc[Z]} (${Ae})`),Le.success("  ."),de(!1),ce("")},Zs=g.useCallback(()=>{_a(!0),lt&&lr(null),jn()},[jn,lt]),tm=g.useCallback(F=>{Zs(),Dt(F)},[Zs]),xu=g.useCallback(F=>{Zs(),$e(F)},[Zs]),rm=g.useCallback(F=>{Zs(),rt(F)},[Zs]),nm=g.useCallback(F=>{Zs(),Bt(F)},[Zs]),am=g.useCallback(F=>{Zs(),It(Z=>Z.includes(F)?Z.filter(te=>te!==F):[...Z,F])},[Zs]),bu=g.useCallback(()=>{const F=h.header.sla.level!=="OK"||h.contactExecution.retryCount>=2||UC(e)>=85;Dt(null),$e(""),rt({code:null,level:"TEMP",detail:"",createFollowupEvent:!1,followupAt:nt(168)}),Bt({strategy:null,channel:"CALL",assigneeId:h.header.assigneeName||_o,nextContactAt:nt(24),applyL3:F}),It([]),lr(null),jn(),_a(!1)},[e,jn,h.contactExecution.retryCount,h.header.assigneeName,h.header.sla.level]),sm=async({code:F,note:Z,reject:te,noResponse:xe,reasonTags:fe=[]})=>{const Me=Z.trim(),tt=xe?.nextContactAt,st={outcomeType:xje[F],memo:Me||void 0,reasonTags:fe.length>0?fe:void 0};F==="REFUSE"&&te?.code&&(st.reject={code:te.code,level:te.level,detail:te.detail.trim()||void 0,followup:{createFollowupEvent:te.createFollowupEvent,followupAt:te.createFollowupEvent?te.followupAt:void 0}}),F==="NO_RESPONSE"&&xe?.strategy&&tt&&(st.noResponse={strategy:xe.strategy,nextContactAt:tt,escalateLevel:xe.applyL3?"L3":void 0,channel:xe.channel,assigneeId:xe.assigneeId||void 0});const gr=await cr({caseId:h.header.caseId,payload:st});if(!gr)return Le.error("   .   ."),!1;const jt=kt();let Xt=null,Er="",Ra=!1;b(Kr=>{const Qa=TSe({outcomeCode:F,execution:Kr.contactExecution,linkageStatus:Kr.linkageStatus,contactPlan:Kr.contactPlan});Er=Qa.recommendedNextAction,Ra=Qa.switchedToHybrid;let Ri=Qa.contactPlan;Ri&&F==="SCHEDULE_LATER"&&(Ri={...Ri,scheduledAt:nt(Qa.recontactAfterHours)}),Ri&&F==="NO_RESPONSE"&&tt&&(Ri={...Ri,scheduledAt:tt}),Qa.requiresHandoffMemo&&(Xt={triggers:Kr.preTriageResult?.triggers??[],lastContactSummary:` : ${pt(Kr.contactExecution.lastSentAt??jt)}`,currentOutcome:F,recommendedNextAction:Er,generatedAt:jt});const wu={...Kr.contactExecution,status:Qa.executionStatus,lastOutcomeCode:F,lastResponseAt:jt,retryCount:Qa.retryCount,handoffMemo:Xt??Kr.contactExecution.handoffMemo};return{...Kr,linkageStatus:Qa.linkageStatus,contactPlan:Ri,contactExecution:wu,contactFlowSteps:mi(wu,Kr.preTriageResult,Qa.linkageStatus,n)}}),je({type:"OUTCOME_RECORDED",at:jt,outcomeCode:F,reasonTags:fe.length>0?fe:void 0,note:Me||void 0,rejectCode:st.reject?.code,rejectLevel:st.reject?.level,recontactStrategy:st.noResponse?.strategy,nextContactAt:st.noResponse?.nextContactAt??st.reject?.followup?.followupAt,outcomeId:gr.outcome.outcomeId,by:h.header.assigneeName});const xn=fe.length>0?`  : ${fe.map(Kr=>My[Kr].label).join(", ")}`:"";Ne(`  : ${Io[F].label}${xn}${Me?` (${Me.slice(0,60)})`:""}`),je({type:"MESSAGE_SENT",at:jt,summary:`${i?"STAGE2_RESPONSE_RECORDED":"STAGE1_RESPONSE_RECORDED"}  ${Io[F].label}`,by:h.header.assigneeName});const ri=gr.outcome.nextAction?.events?.[0]?.startAt??st.noResponse?.nextContactAt??st.reject?.followup?.followupAt;if(Ze(ri??nt(F==="SCHEDULE_LATER"?72:F==="NO_RESPONSE"?24:F==="REFUSE"?168:48)),Ra&&Ne("     : HYBRID"),st.noResponse?.escalateLevel==="L3"&&h.interventionLevel!=="L3"){const Kr=h.interventionLevel;b(Qa=>({...Qa,interventionLevel:"L3"})),Xr("L3",h.header.dataQuality.level),je({type:"LEVEL_CHANGE",at:jt,from:Kr,to:"L3",reason:"       ",by:h.header.assigneeName}),Ne(`  : ${Kr}  L3 (   )`)}return gr.calendar.created.forEach(Kr=>{je({type:"CALENDAR_SYNC",at:kt(),status:"SUCCESS",eventType:Kr.event.type,title:Kr.event.title,scheduledAt:Kr.event.startAt,idempotencyKey:Kr.idempotencyKey,by:h.header.assigneeName})}),gr.calendar.failed.forEach(Kr=>{je({type:"CALENDAR_SYNC",at:kt(),status:"FAILED",eventType:Kr.eventType,title:Kr.title,scheduledAt:Kr.scheduledAt,idempotencyKey:Kr.idempotencyKey,error:Kr.errorMessage,by:h.header.assigneeName})}),gr.calendar.failed.length>0?(Ne(`  : ${gr.calendar.failed.length} ( )`),Le.error("      .  .")):gr.calendar.created.length>0?(Ne(`  : ${gr.calendar.created.length}`),Le.success("   .")):Le.success("  ."),Xt&&(Ys(`[ ]
 ( ): ${h.header.effectiveStrategy??h.preTriageResult?.strategy??"AI_FIRST"}
: ${Xt.triggers.join(", ")}
${Xt.lastContactSummary}
 : ${Io[F].label}
  : ${Xt.recommendedNextAction}`),Jt(!0)),!o&&w==="RESPONSE_HANDLING"?(_("FOLLOW_UP"),Jt(!0)):_(null),bu(),Ar(jt),!0},im=async()=>{if(!Ke){if(!Ct){const F="  .";lr(F),Le.error(F);return}if(Ct==="REFUSE"){if(!Te.code){const F="     .";lr(F),Le.error(F);return}if(Te.code==="R7_OTHER"&&!Te.detail.trim()){const F="     .";lr(F),Le.error(F);return}if(Te.createFollowupEvent&&!Te.followupAt){const F="   .";lr(F),Le.error(F);return}lr(null),await sm({code:"REFUSE",note:ze,reject:Te,reasonTags:Wt});return}if(Ct==="NO_RESPONSE"){const F=St.strategy??XG[St.channel];if(!F){const Z="       .";lr(Z),Le.error(Z);return}if(!St.nextContactAt){const Z="       .";lr(Z),Le.error(Z);return}if(!St.assigneeId.trim()){const Z="      .";lr(Z),Le.error(Z);return}lr(null),await sm({code:"NO_RESPONSE",note:ze,noResponse:{...St,strategy:F},reasonTags:Wt});return}lr(null),await sm({code:Ct,note:ze,reasonTags:Wt})}},cd=g.useMemo(()=>UC(e),[e]),yu=g.useMemo(()=>LSe(cd),[cd]),dd=g.useMemo(()=>kG(e),[e]),Os=h.header.effectiveStrategy??h.preTriageResult?.strategy??"AI_FIRST",vu=h.header.contactStrategy??Os,om=h.contactFlowSteps.filter(F=>F.status==="MISSING").length,lm=h.contactFlowSteps.filter(F=>F.status==="WARNING").length,Z0=!!h.preTriageInput&&h.header.dataQuality.level!=="EXCLUDE",ya=_je(h,n,l),Jl=h.stage3?.transitionRisk,uo=h.stage3?.programs??[],J0=g.useMemo(()=>uo.filter(F=>{if(Mr!=="ALL"&&F.major!==Mr||Or&&!F.pinned)return!1;if(!ar.trim())return!0;const Z=ar.trim().toLowerCase();return`${F.major} ${F.middle} ${F.leaf}`.toLowerCase().includes(Z)}),[Mr,Or,ar,uo]);g.useMemo(()=>J0.slice(0,24),[J0]),g.useMemo(()=>uo.filter(F=>F.selected),[uo]);const eg=g.useMemo(()=>uo.some(F=>F.selected&&(F.execution?.status==="PLANNED"||F.execution?.status==="IN_PROGRESS"||F.execution?.status==="DONE")),[uo]),ec=g.useMemo(()=>h.stage3?.recommendedActions.filter(F=>F.requiresApproval&&F.decision==="PENDING").length??0,[h.stage3?.recommendedActions]),ud=h.stage3?.diffPathStatus==="SCHEDULED"||h.stage3?.diffPathStatus==="COMPLETED",la=g.useMemo(()=>uo.find(F=>F.id===ir)??null,[ir,uo]),us=["PRECHECK","CONTACT_EXECUTION","RESPONSE_HANDLING","FOLLOW_UP"],al=us,sl=w?al.indexOf(w):-1,f1=w?ya.find(F=>F.id===w)??null:null,fd=Rt?us.indexOf(Rt):-1,cm=Rt?ya.find(F=>F.id===Rt)??null:null,Nu="MCI",dm=e?.risk===""?"":e?.risk===""?"":"",tg=ya.find(F=>F.id==="FOLLOW_UP")?.status==="BLOCKED",um=o?tg:!i,Oa=g.useMemo(()=>oje(h.policyGates),[h.policyGates]),Oi=Os==="AI_FIRST"&&h.contactExecutor==="AGENT_SEND_ONLY",fo=h.contactPlan?.maxRetryPolicy.intervalHours??24,fm=h.contactPlan?.maxRetryPolicy.maxRetries??2,Su=h.contactPlan?.templateId??(i?"S2_CONTACT_BASE":o?"S3_CONTACT_BASE":"S1_CONTACT_BASE"),Bn=xh(ut.tests),po=Math.round(Bn/4*100),ca=ut.classification?.label??Nn,pd=ut.classification?.mciStage,pm=UE(ca),mm=Math.max(0,Math.floor((Date.now()-new Date(Ws).getTime())/(1e3*60*60*24))),mo=[typeof ut.tests.mmse=="number"?null:"MMSE  ",typeof ut.tests.cdr=="number"?null:"CDR/GDS  ",ut.tests.neuroCognitiveType?null:"  ",ut.tests.specialist?null:"  ",Ta.trim().length>0?null:"  1 "].filter(Boolean),md=[typeof ut.tests.mmse=="number",typeof ut.tests.cdr=="number",!!ut.tests.neuroCognitiveType,!!ut.tests.specialist].filter(F=>!F).length,p1=+(h.linkageStatus!=="BOOKING_DONE")+ +(ut.status!=="COMPLETED"),tc=!!cn,fs=mo.length===0,rc=Math.max(0,Math.round((5-mo.length)/5*100)),hd=ut.status==="NOT_STARTED"?"  ":ut.status==="IN_PROGRESS"?"  ":fs?" ":"  ",Js=Nn==="MCI"?HC(e):void 0,il=Jx(Nn,Js),ho=ut.classification?.label??Nn,nc=ho==="MCI"?ut.classification?.mciStage??Js:void 0,rg=ut.classification?.probs??Jx(ho,nc),ol=g.useCallback(()=>Ke?!1:w!=="RESPONSE_HANDLING"||!Jr?!0:window.confirm("     . ?"),[w,Ke,Jr]),ac=g.useCallback(F=>Ke||w==="RESPONSE_HANDLING"&&F!=="RESPONSE_HANDLING"&&!ol()?!1:(_(F),F==="FOLLOW_UP"&&Jt(!0),!0),[w,ol,Ke]),sc=g.useCallback(()=>{ol()&&_(null)},[ol]),ic=g.useCallback(()=>{mr(null)},[]),oc=g.useCallback(({actor:F,summary:Z,detailMessage:te,moveToHuman:xe=!1})=>{if(fr.status!=="QUEUED"&&fr.status!=="RUNNING")return;const fe=kt(),Me=ie.current+1;ie.current=Me,fr.idempotencyKey&&Re.current.delete(fr.idempotencyKey),Y6.cancelJob(fr.jobId),W(tt=>({...tt,status:"CANCELED",finishedAt:fe,summary:Z,lastError:te})),xe&&b(tt=>{const st={...tt.contactExecution,status:"HANDOFF_TO_HUMAN"};return{...tt,contactExecution:st,contactFlowSteps:mi(st,tt.preTriageResult,tt.linkageStatus,n)}}),je({type:"AGENT_JOB_CANCELED",at:fe,actor:F,caseId:h.header.caseId,attemptNo:fr.attemptNo,idempotencyKey:fr.idempotencyKey??`${h.header.caseId}:0:SMS:${Su}`,summary:Z,detail:te,by:F}),Ne(`Agent   : ${Z}${te?` (${te})`:""}`)},[fr.attemptNo,fr.idempotencyKey,fr.status,Su,Ne,h.header.caseId]),Rs=g.useCallback(({trigger:F,runAfterMs:Z=250,force:te=!1})=>{if(Os!=="AI_FIRST"||h.contactExecutor!=="AGENT_SEND_ONLY"||Oa!=="PASS"||!te&&!["NOT_STARTED","RETRY_NEEDED"].includes(h.contactExecution.status)||!te&&["QUEUED","RUNNING"].includes(fr.status))return!1;const xe=h.contactExecution.retryCount+1;if(xe>fm)return Ne(`Agent   :   ${fm} .`),!1;if(!te&&h.contactExecution.status==="RETRY_NEEDED"&&h.contactExecution.lastSentAt&&Date.now()-new Date(h.contactExecution.lastSentAt).getTime()<fo*60*60*1e3)return!1;const fe=lje(h.header.caseId,xe,"SMS",Su);if(Re.current.has(fe))return!1;const Me=Y6.queueSms({caseId:h.header.caseId,idempotencyKey:fe}),tt=Me.queuedAt,st=`${cje(F)}    `;W({status:"QUEUED",attemptNo:xe,jobId:Me.jobId,idempotencyKey:fe,queuedAt:tt,startedAt:void 0,finishedAt:void 0,nextRetryAt:Z>5e3?new Date(Date.now()+Z).toISOString():void 0,channelResult:void 0,lastError:void 0,summary:st}),Re.current.add(fe),je({type:"AGENT_JOB_QUEUED",at:tt,actor:"system",caseId:h.header.caseId,attemptNo:xe,idempotencyKey:fe,summary:st,detail:`trigger=${F}`,by:"system"}),Ne(`Agent   : attempt ${xe} (${fe})`);const gr=ie.current+1;return ie.current=gr,window.setTimeout(()=>{if(ie.current!==gr)return;const jt=kt();W(Xt=>Xt.idempotencyKey!==fe||Xt.status!=="QUEUED"?Xt:{...Xt,status:"RUNNING",startedAt:jt,summary:"Agent    "}),je({type:"AGENT_JOB_STARTED",at:jt,actor:"agent",caseId:h.header.caseId,attemptNo:xe,idempotencyKey:fe,summary:"Agent    ",detail:`attempt ${xe}`,by:"agent"}),Ne(`Agent   : attempt ${xe}`),window.setTimeout(()=>{if(ie.current!==gr)return;const Xt=kt(),Er=dje({caseRecord:e,gates:h.policyGates,attemptNo:xe});if(Er.success){W(xn=>({...xn,status:"SUCCEEDED",attemptNo:xe,idempotencyKey:fe,finishedAt:Xt,channelResult:Er.channelResult,lastError:void 0,nextRetryAt:void 0,summary:"Agent    "})),b(xn=>{const ri={...xn.contactExecution,status:"SENT",lastSentAt:Xt,retryCount:Math.max(xn.contactExecution.retryCount,xe)};return{...xn,contactExecution:ri,contactFlowSteps:mi(ri,xn.preTriageResult,xn.linkageStatus,n)}}),Ze(nt(48)),je({type:"AGENT_SMS_SENT",at:Xt,actor:"agent",caseId:h.header.caseId,attemptNo:xe,idempotencyKey:fe,channelResult:Er.channelResult,summary:"Agent    ",detail:WC[Er.channelResult],by:"agent"}),je({type:"AGENT_JOB_SUCCEEDED",at:Xt,actor:"agent",caseId:h.header.caseId,attemptNo:xe,idempotencyKey:fe,summary:"Agent   ",detail:WC[Er.channelResult],by:"agent"}),gn({at:Xt,result:"SENT_SUCCESS",summary:"Agent    ",recommendationId:Ca??void 0,recommendationTitle:Mn.find(xn=>xn.id===Ca)?.title,actor:"agent"}),Ne(`Agent   : attempt ${xe} (${fe})`);return}const Ra=new Date(Date.now()+fo*60*60*1e3).toISOString();W(xn=>({...xn,status:"FAILED",attemptNo:xe,idempotencyKey:fe,finishedAt:Xt,channelResult:Er.channelResult,lastError:Er.errorMessage,nextRetryAt:Ra,summary:"Agent    "})),b(xn=>{const ri={...xn.contactExecution,status:"RETRY_NEEDED",lastSentAt:Xt,retryCount:Math.max(xn.contactExecution.retryCount,xe)};return{...xn,contactExecution:ri,contactFlowSteps:mi(ri,xn.preTriageResult,xn.linkageStatus,n)}}),Ze(Ra),je({type:"AGENT_JOB_FAILED",at:Xt,actor:"agent",caseId:h.header.caseId,attemptNo:xe,idempotencyKey:fe,summary:"Agent   ",detail:Er.errorMessage,errorCode:Er.errorCode,by:"agent"}),gn({at:Xt,result:"SENT_FAILED",summary:Er.errorMessage??"Agent    ",recommendationId:Ca??void 0,recommendationTitle:Mn.find(xn=>xn.id===Ca)?.title,actor:"agent"}),Ne(`Agent   : ${Er.errorMessage??Er.errorCode??"unknown"}`)},1e3)},Z),!0},[Oa,fr.status,fm,fo,Su,Ne,e,h.contactExecution.lastSentAt,h.contactExecution.retryCount,h.contactExecution.status,h.contactExecutor,h.header.caseId,h.policyGates,Os,Mn,Ca]),ju=g.useCallback(()=>{if(!Rs({trigger:"MANUAL_RETRY_NOW",runAfterMs:200,force:!0})){Le.error("    .");return}Le.success("Agent   .")},[Rs]),ei=g.useCallback(()=>{if(!Rs({trigger:"MANUAL_RETRY_SCHEDULE",runAfterMs:fo*60*60*1e3,force:!0})){Le.error("    .");return}Le.success(` ${fo}  .`)},[fo,Rs]);g.useEffect(()=>{if(!Oi||Oa!=="PASS"||h.contactExecution.status!=="NOT_STARTED"&&h.contactExecution.status!=="RETRY_NEEDED")return;const F=h.header.caseId;Je.current.has(F)||(Je.current.add(F),Rs({trigger:"AUTO_ON_ENTER",runAfterMs:250}))},[Oa,h.contactExecution.status,h.header.caseId,Oi,Rs]),g.useEffect(()=>{!We.current&&Oi&&Oa==="PASS"&&Rs({trigger:"AUTO_ON_STRATEGY",runAfterMs:250}),We.current=Oi},[Oa,Oi,Rs]),g.useEffect(()=>{!Oi||Oa!=="PASS"||h.contactExecution.status!=="RETRY_NEEDED"||!h.contactExecution.lastSentAt||Date.now()-new Date(h.contactExecution.lastSentAt).getTime()<fo*60*60*1e3||Rs({trigger:"AUTO_ON_RETRY_DUE",runAfterMs:200})},[Oa,fo,h.contactExecution.lastSentAt,h.contactExecution.status,Oi,Ce,Rs]),g.useEffect(()=>{Oi||fr.status!=="QUEUED"&&fr.status!=="RUNNING"||oc({actor:"system",summary:"     .",moveToHuman:!0})},[fr.status,oc,Oi]);const ti=g.useCallback(F=>{const Z=sf(ya,F);if(Z){Le.error(Z);return}if(o){mr(F);return}ac(F)},[o,ac,ya]),ps=g.useCallback(F=>{if(!Rt)return;const Z=us.indexOf(Rt),te=us[Z+F];if(!te)return;const xe=sf(ya,te);if(xe){Le.error(xe);return}mr(te)},[ya,Rt,us]),lc=g.useCallback(F=>{if(!w)return;const Z=al.indexOf(w),te=al[Z+F];if(!te)return;const xe=sf(ya,te);if(xe){Le.error(xe);return}ac(te)},[w,ac,ya,al]),m1=g.useCallback(()=>{if(!Rt||!h.stage3)return;const F=kt();if(Rt==="PRECHECK"){if(l){const xe=Object.values(Ya).filter(Boolean).length;if(!ot.consentConfirmed){Le.error("Stage1 /    .");return}if(xe<4){Le.error("  4    .");return}if(ot.strategyMemo.trim().length<20){Le.error("  20     .");return}b(Me=>{if(!Me.stage3)return Me;const tt=Me.header.effectiveStrategy??Me.preTriageResult?.strategy??"HUMAN_FIRST";return{...Me,preTriageResult:Me.preTriageResult??{strategy:tt,triggers:["STAGE2_PLAN_BASELINE_CONFIRMED"],policyNote:"Stage2      .",confidence:"RULE"},policyGates:Me.policyGates.map(st=>st.key==="CONSENT_OK"||st.key==="PHONE_VERIFIED"||st.key==="CONTACTABLE_TIME_OK"?{...st,status:"PASS",failReason:void 0}:st),stage3:{...Me.stage3,riskReviewedAt:F}}});const fe=` ${Sn==="HOSPITAL_REFERRAL"?" ":"  "}   ${Wa}   ${pt(Fn)}`;je({type:"STAGE2_PLAN_CONFIRMED",at:F,by:h.header.assigneeName,summary:fe}),Ne(`STAGE2_PLAN_CONFIRMED: ${fe}`),Le.success("STEP1   ."),ps(1);return}if(!ot.diffDecisionSet){Le.error(l?"Stage2       .":"      .");return}if(!ot.consentConfirmed){Le.error("    .");return}if(ot.strategyMemo.trim().length<20){Le.error("  20     .");return}b(xe=>{if(!xe.stage3)return xe;const fe=[...xe.stage3.transitionRisk.series],Me=fe[fe.length-1],tt={t:F,risk2y:Me?.risk2y??xe.stage3.transitionRisk.risk2y_now,ciLow:Me?.ciLow,ciHigh:Me?.ciHigh,source:"manual",event:"REEVAL"},st=[...fe.slice(-11),tt],gr=xe.header.effectiveStrategy??xe.preTriageResult?.strategy??"HUMAN_FIRST";return{...xe,preTriageResult:xe.preTriageResult??{strategy:gr,triggers:["STAGE3_REVIEW_BASELINE_CONFIRMED"],policyNote:"Stage3      .",confidence:"RULE"},policyGates:xe.policyGates.map(jt=>jt.key==="CONSENT_OK"||jt.key==="PHONE_VERIFIED"||jt.key==="CONTACTABLE_TIME_OK"?{...jt,status:"PASS",failReason:void 0}:jt),stage3:{...xe.stage3,riskReviewedAt:F,transitionRisk:{...xe.stage3.transitionRisk,updatedAt:F,series:st}}}});const Z=[ot.diffNeeded?l?"Stage2  ":" ":l?"Stage2  ":" ",ot.caregiverNeeded?"  ":null,ot.sensitiveHistory?"  ":null,ot.resultLinkedChecked?"  ":null,ot.consentConfirmed?"  ":null].filter(Boolean).join(", "),te=`      ${ot.priority}${Z?`   ${Z}`:""}  : ${ot.strategyMemo.slice(0,80)}`;je({type:"RISK_REVIEWED",at:F,by:h.header.assigneeName,summary:te}),Ne(`${l?"Stage2   ":"Stage3  "} : ${Z||" "}  ${ot.strategyMemo}`),Oe({at:F,memo:ot.strategyMemo,nextAction:l?"UPDATE_PLAN":"RECOMMEND_DIFF"}),Le.success(l?"STEP1   .":"STEP1  ."),ps(1);return}if(Rt==="CONTACT_EXECUTION"){if(l){if(md>0){Le.error("      .");return}b(te=>te.stage3?{...te,stage3:{...te.stage3,diffPathStatus:"SCHEDULED"}}:te),et();const Z=`    (${xh(ut.tests)}/4)`;je({type:"STAGE2_RESULTS_RECORDED",at:F,by:h.header.assigneeName,summary:Z}),Ne(`STAGE2_RESULTS_RECORDED: ${Z}`),Le.success("STEP2    ."),ps(1);return}if(ec>0){Le.error("     .");return}if(!ud){Le.error(l?"       STEP3   .":"      STEP3   .");return}Ne(`${l?"":""}   : ${h.stage3.diffPathStatus}`),Le.success(l?"STEP2    .":"STEP2  ."),ps(1);return}if(Rt==="RESPONSE_HANDLING"){if(l){if(!fs){Le.error("   .");return}b(xe=>xe.stage3?{...xe,stage3:{...xe.stage3,reevalStatus:"SCHEDULED"}}:xe),ht();const te=`  ${Nn}${Nn==="MCI"?`(${Js??"-"})`:""}`;je({type:"STAGE2_CLASS_CONFIRMED",at:F,by:h.header.assigneeName,summary:te}),Ne(`STAGE2_CLASS_CONFIRMED: ${te}`),Le.success("STEP3   ."),ps(1);return}if(!ud){Le.error(l?"STEP2      .":" /      .");return}if(!at.memo.trim()){Le.error(l?"(MMSE/CDR)      .":"      .");return}const Z=l?`  : ${at.memo.slice(0,120)}`:`  : ${at.memo.slice(0,120)}   : ${vx[at.nextAction]}`;ds({summary:Z,nextAction:l?"UPDATE_PLAN":at.nextAction,silentToast:!0}),Le.success(l?"STEP3   .":"STEP3    ."),ps(1);return}if(l){if(!ut.nextStep){Le.error("STEP4     .");return}b(te=>te.stage3?{...te,stage3:{...te.stage3,planUpdatedAt:F,headerMeta:{...te.stage3.headerMeta,planStatus:"ACTIVE",opsStatus:ut.nextStep==="FOLLOWUP_2Y"?"TRACKING":"LINKAGE_PENDING",nextTrackingContactAt:Ye.nextTrackingAt??te.stage3.headerMeta.nextTrackingContactAt}}}:te);const Z=ut.nextStep==="FOLLOWUP_2Y"?" (2  )":ut.nextStep==="STAGE3"?"MCI  Stage3 ":"  ";je({type:"STAGE2_NEXT_STEP_SET",at:F,by:h.header.assigneeName,summary:Z}),Ne(`STAGE2_NEXT_STEP_SET: ${Z}`),Le.success("STEP4    ."),ic();return}if(!eg){Le.error("   1     .");return}if(!Ye.nextTrackingAt){Le.error("      .");return}b(Z=>Z.stage3?{...Z,stage3:{...Z.stage3,planUpdatedAt:F,headerMeta:{...Z.stage3.headerMeta,planStatus:"ACTIVE",opsStatus:"TRACKING",nextTrackingContactAt:Ye.nextTrackingAt}}}:Z),je({type:"PLAN_UPDATED",at:F,by:h.header.assigneeName,summary:"    ."}),je({type:"NEXT_TRACKING_SET",at:F,by:h.header.assigneeName,nextAt:Ye.nextTrackingAt,summary:` D-${Ye.reminderDaysBefore} / ${Ye.reminderTime}   ${Ye.retryCount}`}),Ne(`Stage3  () :   ${pt(Ye.nextTrackingAt)}   D-${Ye.reminderDaysBefore}`),Le.success("STEP4  () ."),ic()},[ic,h.header.assigneeName,h.stage3,ds,ps,ud,eg,ec,ot.caregiverNeeded,ot.consentConfirmed,ot.diffDecisionSet,ot.diffNeeded,ot.priority,ot.resultLinkedChecked,ot.sensitiveHistory,ot.strategyMemo,at.memo,at.nextAction,Rt,Ye.nextTrackingAt,Ye.reminderDaysBefore,Ye.reminderTime,Ye.retryCount,fs,Nn,ut,Js,Wa,Ya,Sn,md,Fn,ht,l,et]),gd=g.useCallback(async()=>{if(!w)return;const F=kt();if(w==="PRECHECK"){if(h.policyGates.filter(xe=>xe.key!=="GUARDIAN_OPTIONAL"&&xe.status!=="PASS").length>0){Le.error("        .");return}je({type:"MESSAGE_SENT",at:F,summary:"STAGE1_GATE_DONE     ",by:h.header.assigneeName}),Ne("STAGE1_GATE_DONE:    "),Le.success("STEP1  ."),lc(1);return}if(w==="CONTACT_EXECUTION"){if(h.contactExecution.status==="NOT_STARTED"){Le.error("       .");return}je({type:"MESSAGE_SENT",at:F,summary:"STAGE1_CONTACT_ATTEMPT    ",by:h.header.assigneeName}),Ne("STAGE1_CONTACT_ATTEMPT:   "),Le.success("STEP2  ."),lc(1);return}if(w==="RESPONSE_HANDLING"){if(!!!(h.contactExecution.lastOutcomeCode||h.contactExecution.lastResponseAt)){Le.error("       .");return}je({type:"MESSAGE_SENT",at:F,summary:`STAGE1_RESPONSE_RECORDED  ${h.contactExecution.lastOutcomeCode?Io[h.contactExecution.lastOutcomeCode].label:" "} `,by:h.header.assigneeName}),Ne("STAGE1_RESPONSE_RECORDED:    "),Le.success("STEP3  ."),lc(1);return}Jp()&&(je({type:"MESSAGE_SENT",at:F,summary:"STAGE1_DECISION_DONE    ",by:h.header.assigneeName}),Ne("STAGE1_DECISION_DONE:   "),Le.success("STEP4  ."),sc())},[w,Ne,sc,h.contactExecution.lastOutcomeCode,h.contactExecution.lastResponseAt,h.contactExecution.status,h.header.assigneeName,h.policyGates,Jp,lc]),h1=g.useCallback(F=>{const Z=Eje[F];ti(Z)},[ti]),ng=g.useCallback(async F=>{if(!(await Br(F)).ok){Le.error("   .");return}const te=Zt.find(xe=>xe.idempotencyKey===F);te&&(je({type:"CALENDAR_SYNC",at:kt(),status:"SUCCESS",eventType:te.eventType,title:te.title,scheduledAt:te.scheduledAt,idempotencyKey:te.idempotencyKey,by:h.header.assigneeName}),Ne(`   : ${te.title}`)),Le.success("  .")},[Ne,Zt,h.header.assigneeName,Br]);if(g.useEffect(()=>{const F=n==="stage2"?mo.length:om,Z=n==="stage2"?Math.max(0,4-Bn):lm,te=n==="stage3"&&l?Math.max(0,Math.min(100,Math.round(h.header.sla.level==="OVERDUE"?76:h.header.sla.level==="DUE_SOON"?58:32+Math.max(0,F*4+Z*3)))):void 0,xe=te==null?"MID":te>=70?"HIGH":te>=45?"MID":"LOW",fe=te==null?"FLAT":te>=70?"UP":te>=45?"VOLATILE":"DOWN";t?.({contactMode:vu,effectiveMode:Os,slaLevel:h.header.sla.level,qualityScore:h.header.dataQuality.score,missingCount:F,warningCount:Z,lastUpdatedAt:h.timeline[0]?.at,nextActionLabel:n==="stage2"?hd:void 0,stage2Meta:n==="stage2"||l?{diagnosisStatus:ut.status,completionPct:po,requiredDataPct:rc,completedCount:Bn,classificationLabel:ca,mciStage:ca==="MCI"?nc:void 0,stage3EntryNeeded:pm,enteredAt:qs,targetAt:Ws,delayDays:mm,nextActionLabel:hd}:void 0,stage3Meta:n==="stage3"&&h.stage3?{opsStatus:h.stage3.headerMeta.opsStatus,risk2yNowPct:l?te??0:Gi(h.stage3.transitionRisk.risk2y_now),risk2yLabel:l?xe:Np(h.stage3.transitionRisk.risk2y_now),trend:l?fe:h.stage3.transitionRisk.trend,modelVersion:l?"stage2-ops-v1.0":h.stage3.transitionRisk.modelVersion,riskUpdatedAt:h.stage3.transitionRisk.updatedAt,nextReevalAt:h.stage3.headerMeta.nextReevalAt,nextTrackingContactAt:h.stage3.headerMeta.nextTrackingContactAt,nextProgramAt:h.stage3.headerMeta.nextProgramAt,diffPathStatus:h.stage3.diffPathStatus,planStatus:h.stage3.headerMeta.planStatus,trackingCycleDays:h.stage3.headerMeta.trackingCycleDays,churnRisk:l?h.header.sla.level==="OVERDUE"?"HIGH":h.header.sla.level==="DUE_SOON"?"MID":"LOW":h.stage3.headerMeta.churnRisk}:void 0})},[h.header.sla.level,h.header.dataQuality.score,h.stage3,h.timeline,Os,om,n,t,Bn,po,ca,nc,ut.status,qs,mo.length,hd,pm,Ws,mm,vu,lm,l]),g.useEffect(()=>{if(r){if(n!=="stage3"){r(null);return}r(()=>X0())}},[n,r,X0]),g.useEffect(()=>{la&&Mt({owner:la.execution?.owner??h.header.assigneeName,dueDate:la.execution?.dueDate,institution:la.execution?.institution,method:la.execution?.method??"",status:la.execution?.status??"PLANNED",note:la.execution?.note??""})},[la,h.header.assigneeName]),i){const F=[{key:"STEP 1",title:"  ",status:h.reservationInfo?.scheduledAt?"DONE":h.linkageStatus!=="NOT_CREATED"?"IN_PROGRESS":"PENDING",reason:h.reservationInfo?.scheduledAt?` ${pt(h.reservationInfo.scheduledAt)}`:"/   "},{key:"STEP 2",title:"  ",status:Bn>=4?"DONE":Bn>0?"IN_PROGRESS":"PENDING",reason:` 4  ${Bn} `},{key:"STEP 3",title:" ",status:cn?"DONE":fs?"IN_PROGRESS":"BLOCKED",reason:cn?"  ":fs?" ":" "},{key:"STEP 4",title:"  ",status:ut.nextStep?"DONE":cn?"IN_PROGRESS":"PENDING",reason:ut.nextStep?` ${ut.nextStep}`:"   "}],Z=[{label:" ",done:!!ut.tests.specialist,sub:ut.tests.specialist?"  ":"  "},{label:"MMSE",done:typeof ut.tests.mmse=="number",sub:typeof ut.tests.mmse=="number"?` ${ut.tests.mmse}`:""},{label:"CDR or GDS",done:typeof ut.tests.cdr=="number",sub:typeof ut.tests.cdr=="number"?` ${ut.tests.cdr}`:""},{label:"",done:!!ut.tests.neuroCognitiveType,sub:ut.tests.neuroCognitiveType??" "}];return a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 xl:grid-cols-12",children:[a.jsxs("aside",{className:"space-y-4 xl:col-span-3",children:[a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Stage1  "}),a.jsxs("div",{className:"mt-3 space-y-2 text-xs",children:[a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),a.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:h.riskEvidence.topFactors[0]?.title??"   "})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),a.jsxs("p",{className:"mt-1 font-semibold text-slate-900",children:[cd,""]})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:" "}),a.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:ca===""?"":""})]})]})]}),a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Stage2   Scorecard"}),a.jsxs("div",{className:"mt-3 space-y-2 text-xs",children:[Z.map(te=>a.jsxs("article",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:te.label}),a.jsx("span",{className:ue("rounded-md border px-2 py-0.5 text-[10px] font-semibold",te.done?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-amber-200 bg-amber-50 text-amber-700"),children:te.done?"DONE":"MISSING"})]}),a.jsx("p",{className:"mt-1 text-[11px] text-slate-600",children:te.sub})]},te.label)),a.jsxs("p",{className:"rounded-md border border-slate-200 bg-white px-2 py-1 text-[11px] text-slate-700",children:[" ",Bn,"/4 (",po,"%)"]})]})]}),a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Stage2   "}),a.jsx("p",{className:"mt-3 text-xs text-slate-500",children:" "}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-900",children:[ut.classification?.label??"",ut.classification?.label==="MCI"&&ut.classification.mciStage?` (${ut.classification.mciStage})`:""]}),a.jsx("div",{className:"mt-3 space-y-2 text-xs",children:[{key:"NORMAL",label:"NORMAL",pct:Nl(ut.classification?.probs?.NORMAL)??0,tone:"bg-emerald-500"},{key:"MCI",label:"MCI",pct:Nl(ut.classification?.probs?.MCI)??0,tone:"bg-blue-500"},{key:"AD",label:"AD",pct:Nl(ut.classification?.probs?.AD)??0,tone:"bg-rose-500"}].map(te=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] font-semibold text-slate-700",children:te.label}),a.jsxs("span",{className:"text-[11px] text-slate-600",children:[te.pct,"%"]})]}),a.jsx("div",{className:"mt-1 h-2 rounded-full bg-slate-100",children:a.jsx("div",{className:ue("h-2 rounded-full",te.tone),style:{width:`${te.pct}%`}})})]},te.key))}),a.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-slate-50 px-2 py-2 text-[11px] text-slate-700",children:[a.jsx("p",{children:"    "}),a.jsx("p",{children:"  ANN   "})]})]})]}),a.jsxs("section",{className:"space-y-4 xl:col-span-6",children:[a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Stage2 Step Workflow"}),a.jsxs("span",{className:"text-[11px] text-slate-500",children:[" ",F.filter(te=>te.status==="DONE").length,"/4"]})]}),a.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:F.map(te=>a.jsxs("article",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-500",children:te.key}),a.jsx("span",{className:ue("rounded-md border px-2 py-0.5 text-[10px] font-semibold",te.status==="DONE"?"border-emerald-200 bg-emerald-50 text-emerald-700":te.status==="IN_PROGRESS"?"border-blue-200 bg-blue-50 text-blue-700":te.status==="BLOCKED"?"border-rose-200 bg-rose-50 text-rose-700":"border-slate-200 bg-white text-slate-600"),children:te.status})]}),a.jsx("p",{className:"mt-1 text-sm font-bold text-slate-900",children:te.title}),a.jsx("p",{className:"mt-1 text-[11px] text-slate-600",children:te.reason})]},te.key))})]}),a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"STEP 2.   "}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:["MMSE ",a.jsx("input",{value:ut.tests.mmse??"",onChange:te=>_r(xe=>({...xe,tests:{...xe.tests,mmse:te.target.value===""?void 0:Number(te.target.value)}})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:["CDR ",a.jsx("input",{value:ut.tests.cdr??"",onChange:te=>_r(xe=>({...xe,tests:{...xe.tests,cdr:te.target.value===""?void 0:Number(te.target.value)}})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:["",a.jsxs("select",{value:ut.tests.neuroCognitiveType??"",onChange:te=>_r(xe=>({...xe,tests:{...xe.tests,neuroCognitiveType:te.target.value||void 0}})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"CERAD-K",children:"CERAD-K"}),a.jsx("option",{value:"SNSB-II",children:"SNSB-II"}),a.jsx("option",{value:"SNSB-C",children:"SNSB-C"}),a.jsx("option",{value:"LICA",children:"LICA"})]})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsxs("select",{value:ut.tests.specialist?"DONE":"MISSING",onChange:te=>_r(xe=>({...xe,tests:{...xe.tests,specialist:te.target.value==="DONE"}})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300",children:[a.jsx("option",{value:"MISSING",children:"MISSING"}),a.jsx("option",{value:"DONE",children:"DONE"})]})]})]}),a.jsxs("button",{onClick:et,className:"mt-3 inline-flex items-center gap-1 rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white hover:bg-[#112f5a]",children:[a.jsx(ws,{size:13}),"   "]})]}),a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"STEP 3.  "}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:["  ",a.jsxs("select",{value:Nn,onChange:te=>Wr(te.target.value),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"MCI",children:"MCI"}),a.jsx("option",{value:"",children:""})]})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-700",children:[a.jsx("p",{className:"font-semibold",children:"MCI (ANN)"}),a.jsx("p",{className:"mt-1",children:Nn==="MCI"?Js??" ":"-"})]})]}),a.jsx("div",{className:"mt-2 space-y-2 text-xs",children:[{key:"NORMAL",label:"NORMAL",pct:Nl(il.NORMAL)??0,tone:"bg-emerald-500"},{key:"MCI",label:"MCI",pct:Nl(il.MCI)??0,tone:"bg-blue-500"},{key:"AD",label:"AD",pct:Nl(il.AD)??0,tone:"bg-rose-500"}].map(te=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] font-semibold text-slate-700",children:te.label}),a.jsxs("span",{className:"text-[11px] text-slate-600",children:[te.pct,"%"]})]}),a.jsx("div",{className:"mt-1 h-2 rounded-full bg-slate-100",children:a.jsx("div",{className:ue("h-2 rounded-full",te.tone),style:{width:`${te.pct}%`}})})]},te.key))}),a.jsxs("label",{className:"mt-3 block text-[11px] text-slate-600",children:["  1()",a.jsx("textarea",{value:Ta,onChange:te=>en(te.target.value),className:"mt-1 h-20 w-full rounded-md border border-gray-200 px-2 py-1 text-xs outline-none focus:border-blue-300"})]}),a.jsxs("button",{onClick:ht,disabled:!fs,className:"mt-3 inline-flex items-center gap-1 rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white hover:bg-[#112f5a] disabled:opacity-50",children:[a.jsx(Wo,{size:13}),"  "]}),fs?null:a.jsx("div",{className:"mt-2 rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800",children:mo.map(te=>a.jsxs("p",{children:["- ",te]},te))})]}),a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"STEP 4.   "}),a.jsxs("p",{className:"mt-2 text-[11px] text-slate-600",children:["    .  : ",ca,ca==="MCI"&&pd?` (${pd})`:""]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-3",children:[a.jsx("button",{onClick:()=>gt("FOLLOWUP_2Y","  2    "),disabled:!cn||ca!=="",className:"rounded-md border border-slate-200 bg-slate-50 px-2 py-1.5 text-[11px] font-semibold text-slate-700 hover:bg-white disabled:opacity-50",children:"  2  "}),a.jsx("button",{onClick:()=>gt("STAGE3","MCI/  Stage3  "),disabled:!cn||!UE(ca),className:"rounded-md border border-blue-200 bg-blue-50 px-2 py-1.5 text-[11px] font-semibold text-blue-700 hover:bg-blue-100 disabled:opacity-50",children:"Stage3 "}),a.jsx("button",{onClick:()=>gt("DIFF_PATH","    "),disabled:!cn||ca!=="",className:"rounded-md border border-rose-200 bg-rose-50 px-2 py-1.5 text-[11px] font-semibold text-rose-700 hover:bg-rose-100 disabled:opacity-50",children:" "})]})]})]}),a.jsxs("aside",{className:"space-y-4 xl:col-span-3",children:[a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"  "}),a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsxs("select",{value:Wa,onChange:te=>ka(te.target.value),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300",children:[a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:" ",children:" "})]})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsx("input",{type:"datetime-local",value:Pc(Fn),onChange:te=>ls(Dc(te.target.value)||Fn),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300"})]}),a.jsxs("button",{onClick:dr,className:"inline-flex w-full items-center justify-center gap-1 rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white hover:bg-[#112f5a]",children:[a.jsx(BA,{size:13}),"  "]}),a.jsxs("button",{onClick:()=>{je({type:"CAL_EVENT_CREATED",at:kt(),scheduledAt:Fn,summary:"Stage2    ",by:h.header.assigneeName}),Ne(` : ${pt(Fn)}`),Le.success("   .")},className:"inline-flex w-full items-center justify-center gap-1 rounded-md border border-slate-200 bg-slate-50 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-white",children:[a.jsx(K8,{size:13}),"  "]})]})]}),a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"  "}),a.jsxs("div",{className:"mt-2 space-y-1 text-[11px] text-slate-600",children:[a.jsx("p",{children:"MMSE:  24     ."}),a.jsx("p",{children:"CDR: 0(), 0.5(MCI ), 1 ( )  ."})]})]}),a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"ANN   "}),a.jsxs("div",{className:"mt-2 space-y-1 text-[11px] text-slate-600",children:[a.jsx("p",{children:"      ."}),a.jsx("p",{children:" 10%       ."}),a.jsx("p",{children:" /       ."})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,1fr)]",children:[a.jsx(zE,{timeline:ld,filter:y,onFilterChange:S,listClassName:"max-h-[360px] overflow-y-auto pr-1",mode:n,stage2OpsView:l}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:" "}),a.jsx("div",{className:"mt-3 max-h-[360px] space-y-2 overflow-y-auto pr-1",children:v.length===0?a.jsx("p",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-500",children:"  ."}):v.map(te=>a.jsxs("article",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] text-slate-500",children:te.at}),a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:te.actor}),a.jsx("p",{className:"text-[11px] text-slate-700",children:te.message})]},te.id))})]})]})]})}return a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 xl:grid-cols-12",children:[a.jsxs("section",{className:"space-y-4 xl:col-span-8",children:[a.jsx(Uje,{scoreSummary:h.scoreSummary,modelPriorityValue:cd,modelPriorityMeta:yu,contactPriority:dd,interventionLevel:h.interventionLevel,stage3Risk:Jl,stage3DiffPathStatus:h.stage3?.diffPathStatus,stage3RiskReviewedAt:h.stage3?.riskReviewedAt,onStage3MarkRiskReviewed:ds,mode:n,stage2OpsView:l,stage2ResultLabel:ho,stage2MciStage:nc,stage2Probs:rg,stage2DiagnosisStatus:ut.status,stage2CompletionPct:po,stage2RequiredDataPct:rc,stage2NextDiagnosisAt:h.stage3?.headerMeta.nextReevalAt,stage2QualityScore:h.header.dataQuality.score,stage2WaitingCount:p1,stage2ResultMissingCount:md,stage2ClassificationConfirmed:tc}),a.jsx($je,{flowCards:ya,onAction:h1,mode:n,stage2OpsView:l}),o?null:a.jsx(Dje,{strategy:Os,strategyBadge:vu,contactExecutor:h.contactExecutor,executionStatus:h.contactExecution.status,lastSentAt:h.contactExecution.lastSentAt,lastOutcome:h.contactExecution.lastOutcomeCode,retryCount:h.contactExecution.retryCount,linkageStatus:h.linkageStatus,memoCount:v.length,lastContactAt:h.contactExecution.lastResponseAt??h.contactExecution.lastSentAt,timelineCount:h.timeline.length,preTriage:h.preTriageResult,riskGuardrails:h.header.riskGuardrails,onOpenStrategyOverride:()=>de(!0),mode:n}),o?a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"rounded-xl border border-indigo-200 bg-indigo-50 p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-indigo-900",children:" "}),a.jsx("p",{className:"mt-1 text-[11px] text-indigo-800",children:l?"Step    ///   .":"Step    //   .      ."}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-[11px]",children:[a.jsxs("span",{className:"rounded-md border border-indigo-300 bg-white px-2 py-1",children:[l?"  ":" "," ",pt(h.stage3?.headerMeta.nextReevalAt)]}),a.jsxs("span",{className:"rounded-md border border-indigo-300 bg-white px-2 py-1",children:[l?" ":""," ",Dy(h.stage3?.headerMeta.planStatus??"ACTIVE")]}),a.jsxs("span",{className:"rounded-md border border-indigo-300 bg-white px-2 py-1",children:[l?"  ":" "," ",h.stage3?.headerMeta.trackingCycleDays??21,""]})]})]}),a.jsx(KE,{level:h.interventionLevel,statusLabel:h.header.statusLabel,guides:Ti,onChangeLevel:Xa,onHold:()=>Tt(""),onExclude:()=>Tt(" "),mode:n})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsx(e7,{mode:n,stage2OpsView:l,contactExecutor:h.contactExecutor,executionStatus:h.contactExecution.status,strategy:Os,lastSentAt:h.contactExecution.lastSentAt,sensitivityFlags:De,latestAgentLog:h.agentExecutionLogs[0],selectedRecommendation:Wn,agentJob:fr,gateStatus:Oa,onSwitchExecutor:gu,onOpen:()=>ti("CONTACT_EXECUTION"),onRetryNow:ju,onScheduleRetry:ei}),a.jsx(t7,{linkageStatus:h.linkageStatus,reservationInfo:h.reservationInfo,locked:um,lockReason:um?"STEP4    /  .":void 0,onOpenStep4:()=>ti("FOLLOW_UP"),onAction:Cn})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsx(GE,{expanded:or,onToggle:()=>Vt(F=>!F),executionStatus:h.contactExecution.status,lastSentAt:h.contactExecution.lastSentAt,assigneeName:h.header.assigneeName,selectedOutcomeCode:Ct,onSelectOutcomeCode:tm,reasonTags:Wt,onToggleReasonTag:am,rejectReasonDraft:Te,onRejectReasonDraftChange:rm,noResponsePlanDraft:St,onNoResponsePlanDraftChange:nm,outcomeNote:ze,onOutcomeNoteChange:xu,isSaving:Ke,submitError:$t,validationError:lt,onClearError:jn,onReset:bu,onConfirm:im,hasUnsavedChanges:Jr,lastSavedAt:zs,onOpenHandoffMemo:()=>Jt(!0),mode:n}),a.jsx(r7,{expanded:Vs||!!h.contactExecution.handoffMemo,onToggle:()=>Jt(F=>!F),memoText:Ts,onMemoChange:Ys,onSave:()=>{Ne(`  : ${Ts.slice(0,80)}...`),Le.success("  ."),Jt(!1)},mode:n})]}),a.jsx(KE,{level:h.interventionLevel,statusLabel:h.header.statusLabel,guides:Ti,onChangeLevel:Xa,onHold:()=>Tt(""),onExclude:()=>Tt(" "),mode:n})]})]}),a.jsxs("aside",{className:"space-y-4 xl:col-span-4 xl:sticky xl:top-0 self-start",children:[o?a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"rounded-xl border border-indigo-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:l?"   ":"  "}),a.jsx("button",{onClick:()=>ti("CONTACT_EXECUTION"),className:"rounded-md border border-indigo-200 bg-indigo-50 px-2 py-1 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100",children:"STEP2  "})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[l?"STEP2/3 ":""," ",h.stage3?.diffPathStatus??"NONE","    ",ec," "," ",l?"":" "," ",pt(h.stage3?.headerMeta.nextReevalAt)]}),a.jsx("p",{className:"mt-2 text-[10px] text-indigo-700",children:l?" :    /        .":" :   /        ."})]}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("button",{onClick:()=>zr(F=>!F),className:"flex w-full items-center justify-between text-left",children:[a.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["/  (",l?"/":"/",")"]}),a.jsx("span",{className:"text-[11px] font-semibold text-slate-500",children:hn?"":""})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:l?" / /   .":"      ."}),hn?a.jsxs("div",{className:"mt-3",children:[a.jsx(e7,{mode:n,stage2OpsView:l,contactExecutor:h.contactExecutor,executionStatus:h.contactExecution.status,strategy:Os,lastSentAt:h.contactExecution.lastSentAt,sensitivityFlags:De,latestAgentLog:h.agentExecutionLogs[0],selectedRecommendation:Wn,agentJob:fr,gateStatus:Oa,onSwitchExecutor:gu,onOpen:()=>ti("CONTACT_EXECUTION"),onRetryNow:ju,onScheduleRetry:ei}),a.jsx("div",{className:"mt-3",children:a.jsx(GE,{expanded:or,onToggle:()=>Vt(F=>!F),executionStatus:h.contactExecution.status,lastSentAt:h.contactExecution.lastSentAt,assigneeName:h.header.assigneeName,selectedOutcomeCode:Ct,onSelectOutcomeCode:tm,reasonTags:Wt,onToggleReasonTag:am,rejectReasonDraft:Te,onRejectReasonDraftChange:rm,noResponsePlanDraft:St,onNoResponsePlanDraftChange:nm,outcomeNote:ze,onOutcomeNoteChange:xu,isSaving:Ke,submitError:$t,validationError:lt,onClearError:jn,onReset:bu,onConfirm:im,hasUnsavedChanges:Jr,lastSavedAt:zs,onOpenHandoffMemo:()=>Jt(!0),mode:n})})]}):null]}),Gt?a.jsxs("section",{className:"rounded-xl border border-indigo-200 bg-indigo-50 p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-indigo-900",children:l?"   ":"   "}),a.jsx("p",{className:"mt-1 text-[11px] text-indigo-800",children:Gt.memo}),a.jsxs("p",{className:"mt-1 text-[10px] text-indigo-700",children:[pt(Gt.at),"  ",l?" ":" "," ",vx[Gt.nextAction]]})]}):null,a.jsx(n7,{evidence:h.riskEvidence,quality:h.header.dataQuality,mode:n,stage2OpsView:l}),a.jsx(zE,{timeline:ld,filter:y,onFilterChange:S,listClassName:"max-h-[300px] overflow-y-auto pr-1",mode:n,stage2OpsView:l})]}):a.jsxs(a.Fragment,{children:[a.jsx(n7,{evidence:h.riskEvidence,quality:h.header.dataQuality,mode:n,stage2OpsView:l}),a.jsx(zE,{timeline:ld,filter:y,onFilterChange:S,listClassName:"max-h-[340px] overflow-y-auto pr-1",mode:n,stage2OpsView:l}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"  ( )"}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"    : Step   ."}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 text-xs",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-slate-500",children:"  "}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-900",children:[h.todos.filter(F=>F.status==="OPEN").length,""]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-slate-500",children:"  "}),a.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:pt(se)}),Zt.length>0?a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsxs("p",{className:"text-[11px] font-semibold text-red-600",children:["   ",Zt.length,""]}),Zt.slice(0,2).map(F=>a.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 px-2 py-1.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-red-700",children:F.title}),a.jsx("p",{className:"text-[10px] text-red-600",children:pt(F.scheduledAt)}),a.jsx("button",{onClick:()=>ng(F.idempotencyKey),disabled:!!wr[F.idempotencyKey],className:"mt-1 inline-flex items-center rounded-md border border-red-300 px-2 py-0.5 text-[10px] font-semibold text-red-700 hover:bg-red-100 disabled:opacity-50",children:wr[F.idempotencyKey]?" ...":""})]},F.idempotencyKey))]}):null]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-slate-500",children:"  "}),a.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:nl?.title??"   ."})]})]})]})]}),a.jsx(Lje,{logs:h.agentExecutionLogs})]})]}),a.jsx(qd,{open:!!ir,onOpenChange:F=>{F||xt(null)},children:a.jsxs(Wd,{className:"max-w-2xl p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"ProgramExecutionDrawer"}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"     Stage3 Step3  ."}),la?a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsx("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2",children:a.jsxs("p",{className:"text-xs font-semibold text-slate-900",children:[la.major," / ",la.middle," / ",la.leaf]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:["",a.jsx("input",{value:Ue.owner,onChange:F=>Mt(Z=>({...Z,owner:F.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:["Due Date",a.jsx("input",{type:"datetime-local",value:Pc(Ue.dueDate),onChange:F=>Mt(Z=>({...Z,dueDate:Dc(F.target.value)||void 0})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsxs("select",{value:Ue.method??"",onChange:F=>Mt(Z=>({...Z,method:F.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:["",a.jsxs("select",{value:Ue.status??"PLANNED",onChange:F=>Mt(Z=>({...Z,status:F.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300",children:[a.jsx("option",{value:"PLANNED",children:""}),a.jsx("option",{value:"IN_PROGRESS",children:""}),a.jsx("option",{value:"DONE",children:""}),a.jsx("option",{value:"HOLD",children:""})]})]}),a.jsxs("label",{className:"text-[11px] text-slate-600 md:col-span-2",children:["",a.jsx("input",{value:Ue.institution??"",onChange:F=>Mt(Z=>({...Z,institution:F.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600 md:col-span-2",children:["",a.jsx("textarea",{value:Ue.note??"",onChange:F=>Mt(Z=>({...Z,note:F.target.value})),className:"mt-1 h-20 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-blue-300"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>xt(null),className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:()=>{ir&&(Zp(ir,Ue),xt(null))},className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white",children:""})]})]}):null]})}),a.jsx(qd,{open:o&&!!Rt,onOpenChange:F=>{F||ic()},children:a.jsx(Wd,{className:"w-[96vw] max-w-[96vw] sm:max-w-[1460px] max-h-[92vh] overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-indigo-900",children:[l?"Stage2 ":"Stage3 ","  ",cm?.title??" "]}),a.jsx("p",{className:"text-[11px] text-indigo-700",children:l?"/   .      .":"   .      ."})]}),a.jsxs("span",{className:"rounded-md border border-indigo-300 bg-white px-2 py-1 text-[11px] font-semibold text-indigo-700",children:[" ",fd+1,"/",us.length]})]}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1.5 md:grid-cols-4",children:us.map((F,Z)=>{const te=ya.find(fe=>fe.id===F),xe=Rt===F;return a.jsxs("button",{type:"button",onClick:()=>{const fe=sf(ya,F);if(fe){Le.error(fe);return}mr(F)},className:ue("rounded-md border px-2 py-1.5 text-left text-[11px]",xe?"border-indigo-300 bg-white text-indigo-800":"border-indigo-100 bg-indigo-50/60 text-indigo-700"),children:[a.jsxs("p",{className:"font-semibold",children:["STEP ",Z+1]}),a.jsx("p",{className:"mt-0.5 truncate",children:te?.title??F})]},F)})})]}),Rt==="PRECHECK"?(()=>{const F=XSe({detail:h,modelPriorityValue:cd,stage2ResultLabel:Nu,stage2MciSeverity:dm,stage2TestAt:e?.updated,stage2Org:"  "}),Z=[{key:"AD",label:"AD"},{key:"MCI",label:"MCI"},{key:"NORMAL",label:""}],te=Z.some(tt=>F.stage2.probs?.[tt.key]!=null),xe=Nl(F.stage3.risk2yNow),fe=Nl(F.stage3.riskAt2y),Me=F.stage3.status==="RESULT_APPLIED"?l?" ":" ":l?" ":" ";if(l){const tt=h.timeline.filter(jt=>jt.type==="DIFF_REFER_CREATED"||jt.type==="DIFF_SCHEDULED"||jt.type==="LINKAGE_CREATED").length,st=h.timeline.filter(jt=>jt.type==="CALL_ATTEMPT"||jt.type==="SMS_SENT"||jt.type==="MESSAGE_SENT").length,gr=h.timeline.filter(jt=>jt.type==="STAGE2_RESULTS_RECORDED"||jt.type==="DIFF_RESULT_APPLIED").length;return a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"Stage2   &   "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:"Stage1   Stage2   ,   / ."}),a.jsx("div",{className:"mt-3",children:a.jsx(Sx,{items:Nx.PRECHECK})}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 xl:grid-cols-[1fr_1.15fr]",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:"Stage1Stage2  Scorecard"}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-[11px]",children:[a.jsxs("div",{className:"rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("p",{className:"text-slate-500",children:"Stage1 "}),a.jsxs("p",{className:"font-semibold text-slate-900",children:[F.stage1.priorityScore??"-"," / ",F.stage1.priorityBand??" "]})]}),a.jsxs("div",{className:"rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("p",{className:"text-slate-500",children:" "}),a.jsx("p",{className:"font-semibold text-slate-900",children:F.stage1.interventionLevel??"-"})]}),a.jsxs("div",{className:"rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("p",{className:"text-slate-500",children:"Stage2 "}),a.jsx("p",{className:"font-semibold text-slate-900",children:pt(qs)})]}),a.jsxs("div",{className:"rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("p",{className:"text-slate-500",children:"Stage2 "}),a.jsx("p",{className:"font-semibold text-slate-900",children:WG(ut.status)})]}),a.jsxs("div",{className:"col-span-2 rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("p",{className:"text-slate-500",children:"Stage2   "}),a.jsx("p",{className:"font-semibold text-slate-900",children:"Stage1   /   Stage2    ."})]})]})]}),a.jsxs("details",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("summary",{className:"cursor-pointer text-xs font-semibold text-slate-800",children:"  ()"}),a.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-[11px]",children:[a.jsxs("div",{className:"rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("p",{className:"text-slate-500",children:"/ "}),a.jsx("p",{className:"font-semibold text-slate-900",children:tt})]}),a.jsxs("div",{className:"rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("p",{className:"text-slate-500",children:"/ "}),a.jsx("p",{className:"font-semibold text-slate-900",children:st})]}),a.jsxs("div",{className:"rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("p",{className:"text-slate-500",children:"  "}),a.jsx("p",{className:"font-semibold text-slate-900",children:gr})]})]})]})]}),a.jsxs("div",{className:"space-y-3 rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:"  "}),a.jsx("div",{className:"grid grid-cols-1 gap-2 text-[11px]",children:[["specialist","  ()"],["mmse","MMSE (   )"],["cdrOrGds","CDR  GDS (1)"],["neuroCognitive"," (1)"]].map(([jt,Xt])=>a.jsxs("label",{className:"flex items-center gap-2 rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("input",{type:"checkbox",checked:Ya[jt],onChange:Er=>Ks(Ra=>({...Ra,[jt]:Er.target.checked}))}),a.jsx("span",{className:"text-slate-700",children:Xt})]},jt))}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-[11px]",children:[a.jsxs("label",{className:"flex items-center gap-1 rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("input",{type:"checkbox",checked:Cs.gdsk,onChange:jt=>tn(Xt=>({...Xt,gdsk:jt.target.checked}))}),"GDS-K"]}),a.jsxs("label",{className:"flex items-center gap-1 rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("input",{type:"checkbox",checked:Cs.adl,onChange:jt=>tn(Xt=>({...Xt,adl:jt.target.checked}))}),"ADL"]}),a.jsxs("label",{className:"flex items-center gap-1 rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("input",{type:"checkbox",checked:Cs.bpsd,onChange:jt=>tn(Xt=>({...Xt,bpsd:jt.target.checked}))}),"BPSD"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[a.jsx("button",{type:"button",onClick:()=>Va("HOSPITAL_REFERRAL"),className:ue("rounded border px-2 py-1.5 font-semibold",Sn==="HOSPITAL_REFERRAL"?"border-indigo-300 bg-indigo-50 text-indigo-700":"border-slate-200 bg-white text-slate-700"),children:" "}),a.jsx("button",{type:"button",onClick:()=>Va("CENTER_DIRECT"),className:ue("rounded border px-2 py-1.5 font-semibold",Sn==="CENTER_DIRECT"?"border-indigo-300 bg-indigo-50 text-indigo-700":"border-slate-200 bg-white text-slate-700"),children:"  "})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:["",a.jsx("input",{value:Wa,onChange:jt=>ka(jt.target.value),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:["",a.jsx("input",{type:"datetime-local",value:Pc(Fn),onChange:jt=>ls(Dc(jt.target.value)||Fn),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" (, 20 )",a.jsx("textarea",{value:ot.strategyMemo,onChange:jt=>Qt(Xt=>({...Xt,strategyMemo:jt.target.value})),className:"mt-1 h-24 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-indigo-300",placeholder:"Stage1  , Stage2  ,    ."})]}),a.jsxs("label",{className:"flex items-center gap-1 text-[11px] text-slate-700",children:[a.jsx("input",{type:"checkbox",checked:ot.consentConfirmed,onChange:jt=>Qt(Xt=>({...Xt,consentConfirmed:jt.target.checked}))}),"Stage1 /   "]})]})]})]})}return a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:l?"Stage1 / ":"   &  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:l?"Step1 Stage1  Stage2       .":"Step1       .       ."}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 rounded-lg border border-indigo-200 bg-indigo-50 p-2 md:grid-cols-3 xl:grid-cols-6",children:[a.jsxs("div",{title:"       .",className:"rounded-md border border-indigo-100 bg-white p-2 shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:" "}),a.jsxs("p",{className:"mt-1 text-xs font-bold text-slate-900",children:[F.stage1.priorityBand??" ","  ",F.stage1.priorityScore??"-",""]}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",F.stage1.interventionLevel??"-"]})]}),a.jsxs("div",{title:"Stage2  ( ).",className:"rounded-md border border-indigo-100 bg-white p-2 shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:"Stage2 "}),a.jsxs("p",{className:"mt-1 text-xs font-bold text-slate-900",children:[F.stage2.resultLabel,`(${F.stage2.mciSeverity})`]}),a.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:pt(F.stage2.testAt)})]}),a.jsxs("div",{title:"/AD/MCI  .      .",className:"rounded-md border border-indigo-100 bg-white p-2 shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:"Stage2  "}),a.jsx("p",{className:"mt-1 text-xs font-bold text-slate-900",children:te?" ( )":" ()"}),te?a.jsx("div",{className:"mt-1 space-y-1",children:Z.map(tt=>{const st=Nl(F.stage2.probs?.[tt.key])??0;return a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{className:"flex items-center justify-between text-[10px] text-slate-500",children:[a.jsx("span",{children:tt.label}),a.jsxs("span",{children:[st,"%"]})]}),a.jsx("div",{className:"h-1.5 rounded bg-slate-100",children:a.jsx("div",{className:"h-full rounded bg-indigo-400",style:{width:`${st}%`}})})]},tt.key)})}):a.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:"   "})]}),a.jsxs("div",{title:l?"  ( ).":"2  .     .",className:"rounded-md border border-indigo-100 bg-white p-2 shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:l?"  ()":"Stage3 ()"}),a.jsx("p",{className:"mt-1 text-xs font-bold text-slate-900",children:xe==null?" ( )":`${xe}%`}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[l?" ":""," ",F.stage3.risk2yLabel??"-"]})]}),a.jsxs("div",{title:l?"   .":"   2  .",className:"rounded-md border border-indigo-100 bg-white p-2 shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:l?"  ":"Stage3 2  "}),a.jsx("p",{className:"mt-1 text-xs font-bold text-slate-900",children:fe==null?" ( )":`${fe}%`}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",F.stage3.confidence??"-"]})]}),a.jsxs("div",{title:"   .",className:"rounded-md border border-indigo-100 bg-white p-2 shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-600",children:" "}),a.jsxs("p",{className:"mt-1 text-xs font-bold text-slate-900",children:[F.dataQuality?.score??"-","%"]}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",F.dataQuality?.missingCount??0,""]})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 xl:grid-cols-[1.6fr_1fr]",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-2 lg:grid-cols-3",children:[a.jsxs("article",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:"Stage1  "}),a.jsx("button",{type:"button",onClick:()=>Le(yu.guide),className:"rounded border border-slate-300 bg-white px-1.5 py-0.5 text-[10px] font-semibold text-slate-700",children:" "})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-700",children:[" : ",a.jsx("strong",{children:F.stage1.priorityBand??" "})," (",F.stage1.priorityScore??"-"," /"," ",F.stage1.interventionLevel??"-",")"]}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",F.stage1.percentileTop??"-","%   ",pt(F.stage1.updatedAt)]})]}),a.jsxs("article",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:"Stage2  ( )"}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-700",children:[" :"," ",a.jsxs("strong",{children:[F.stage2.resultLabel,`(${F.stage2.mciSeverity})`]})]}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" : ",te?" ( )":" ()"]}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:[["",F.stage2.tests?.neuropsych],["",F.stage2.tests?.clinical],["",F.stage2.tests?.specialist]].map(([tt,st])=>a.jsxs("span",{className:ue("rounded px-1.5 py-0.5 text-[10px] font-semibold",st==="DONE"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-600"),children:[tt," ",st==="DONE"?"":""]},tt))}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",pt(F.stage2.testAt),"  ",F.stage2.org]})]}),a.jsxs("article",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:"Stage3 /"}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-700",children:[":"," ",a.jsxs("strong",{children:[F.stage3.risk2yLabel??" "," (",xe==null?"-":`${xe}%`,")"]})]}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-1",children:[a.jsxs("span",{className:ue("rounded px-1.5 py-0.5 text-[10px] font-semibold",F.stage3.status==="RESULT_APPLIED"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:[": ",Me]}),F.stage3.status==="RESULT_PENDING"?a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-semibold text-amber-700",children:" "}):null]}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:[" ",F.stage3.confidence??"-","   ",pt(F.stage3.nextReevalAt)]}),a.jsxs("p",{className:"mt-1 text-[10px] text-slate-500",children:["  ",pt(F.stage3.nextContactAt),"  2   ",fe??"-","%"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 md:grid-cols-5",children:[a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:" (30)"}),a.jsx("p",{className:"mt-1 text-sm font-bold text-slate-900",children:F.opsCounts?.contactAttempts30d??0})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:"(30)"}),a.jsx("p",{className:"mt-1 text-sm font-bold text-emerald-700",children:F.opsCounts?.contactSuccess30d??0})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:" (30)"}),a.jsx("p",{className:"mt-1 text-sm font-bold text-rose-700",children:F.opsCounts?.contactFail30d??0})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:" "}),a.jsx("p",{className:"mt-1 text-sm font-bold text-slate-900",children:F.opsCounts?.bookings??0})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:"(/)"}),a.jsxs("p",{className:"mt-1 text-sm font-bold text-slate-900",children:[(F.opsCounts?.programsPlanned??0)+(F.opsCounts?.programsDone??0)," / ",F.opsCounts?.programsDone??0]})]})]}),a.jsxs("details",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("summary",{className:"cursor-pointer text-xs font-semibold text-slate-800",children:"()"}),a.jsxs("div",{className:"mt-2 space-y-1.5",children:[h.timeline.slice(0,8).map((tt,st)=>a.jsxs("div",{className:"rounded border border-slate-200 bg-white px-2 py-1.5",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-700",children:VG(tt)}),a.jsxs("p",{className:"text-[10px] text-slate-500",children:[pt(tt.at),"  ",tt.by]}),a.jsx("p",{className:"text-[10px] text-slate-600",children:YG(tt)})]},`${tt.at}-${st}`)),h.timeline.length===0?a.jsx("p",{className:"rounded border border-slate-200 bg-white px-2 py-1.5 text-[10px] text-slate-500",children:" ."}):null]})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:l?"Stage1Stage2  ( )":"Stage2Stage3  ( )"}),a.jsxs("ul",{className:"mt-1 space-y-1 text-[11px] text-slate-600",children:[a.jsx("li",{children:l?" Stage1    Stage2   .":"        ."}),a.jsx("li",{children:l?" /    .":"  /     ."}),a.jsx("li",{children:l?"     //    .":"     /   ."}),a.jsx("li",{children:"          ."})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:" ()"}),a.jsxs("div",{className:"mt-2 space-y-1 text-[11px] text-slate-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-700",children:l?"Stage2 /  ()":"  ()"}),a.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-1",children:[a.jsx("button",{type:"button",onClick:()=>Qt(tt=>({...tt,diffNeeded:!0,diffDecisionSet:!0})),className:ue("rounded border px-2 py-1 text-[10px] font-semibold",ot.diffDecisionSet&&ot.diffNeeded?"border-indigo-300 bg-indigo-50 text-indigo-700":"border-slate-200 bg-white text-slate-600"),children:""}),a.jsx("button",{type:"button",onClick:()=>Qt(tt=>({...tt,diffNeeded:!1,diffDecisionSet:!0})),className:ue("rounded border px-2 py-1 text-[10px] font-semibold",ot.diffDecisionSet&&!ot.diffNeeded?"border-indigo-300 bg-indigo-50 text-indigo-700":"border-slate-200 bg-white text-slate-600"),children:""})]})]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:ot.caregiverNeeded,onChange:tt=>Qt(st=>({...st,caregiverNeeded:tt.target.checked}))}),"  "]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:ot.sensitiveHistory,onChange:tt=>Qt(st=>({...st,sensitiveHistory:tt.target.checked}))}),"  "]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:ot.resultLinkedChecked,onChange:tt=>Qt(st=>({...st,resultLinkedChecked:tt.target.checked}))})," /   "]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:ot.consentConfirmed,onChange:tt=>Qt(st=>({...st,consentConfirmed:tt.target.checked}))}),"  "]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-[11px] font-semibold text-slate-600",children:" ()"}),a.jsxs("select",{value:ot.priority,onChange:tt=>Qt(st=>({...st,priority:tt.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300",children:[a.jsx("option",{value:"HIGH",children:"HIGH"}),a.jsx("option",{value:"MID",children:"MID"}),a.jsx("option",{value:"LOW",children:"LOW"})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-[11px] font-semibold text-slate-600",children:" ()"}),a.jsx("textarea",{value:ot.strategyMemo,onChange:tt=>Qt(st=>({...st,strategyMemo:tt.target.value})),className:"mt-1 h-28 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-indigo-300",placeholder:l?`1) Stage1  
2) / 
3) / `:`1)  Stage3 
2) / 
3) / `})]})]}),a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("p",{className:"text-[11px] text-indigo-800",children:["  ",a.jsx("strong",{children:l?"STEP1  ":"STAGE3_REVIEW_DONE"}),"    / ."]}),a.jsx("button",{type:"button",onClick:()=>ps(1),className:"mt-2 w-full rounded-md border border-indigo-300 bg-white px-2 py-1.5 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100",children:l?"Step2() ":"Step2() "})]})]})]})]})})():null,Rt==="CONTACT_EXECUTION"?(()=>{const F=h.stage3?.diffPathStatus??"NONE",Z=[{key:"consultStarted",label:"1)  "},{key:"infoCollected",label:"2)  "},{key:"ragGenerated",label:"3) RAG "},{key:"bookingConfirmed",label:"4)  "},{key:"messageSent",label:"5)  "},{key:"calendarSynced",label:"6)  "}];if(l)return a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:"MMSE/CDR(GDS)//     0 ."}),a.jsx("div",{className:"mt-3",children:a.jsx(Sx,{items:Nx.CONTACT_EXECUTION})}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:["MMSE ",a.jsx("input",{value:ut.tests.mmse??"",onChange:fe=>_r(Me=>({...Me,tests:{...Me.tests,mmse:fe.target.value===""?void 0:Number(fe.target.value)}})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:["CDR/GDS ",a.jsx("input",{value:ut.tests.cdr??"",onChange:fe=>_r(Me=>({...Me,tests:{...Me.tests,cdr:fe.target.value===""?void 0:Number(fe.target.value)}})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsxs("select",{value:ut.tests.neuroCognitiveType??"",onChange:fe=>_r(Me=>({...Me,tests:{...Me.tests,neuroCognitiveType:fe.target.value||void 0}})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"CERAD-K",children:"CERAD-K"}),a.jsx("option",{value:"SNSB-II",children:"SNSB-II"}),a.jsx("option",{value:"SNSB-C",children:"SNSB-C"}),a.jsx("option",{value:"LICA",children:"LICA"})]})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsxs("select",{value:ut.tests.specialist?"DONE":"MISSING",onChange:fe=>_r(Me=>({...Me,tests:{...Me.tests,specialist:fe.target.value==="DONE"}})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300",children:[a.jsx("option",{value:"MISSING",children:"MISSING"}),a.jsx("option",{value:"DONE",children:"DONE"})]})]})]}),md>0?a.jsxs("div",{className:"mt-3 rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800",children:[" :    ",md,"  ."]}):a.jsx("div",{className:"mt-3 rounded-md border border-emerald-200 bg-emerald-50 px-3 py-2 text-[11px] text-emerald-800",children:"    .    STEP3   ."}),a.jsxs("button",{onClick:et,className:"mt-3 inline-flex items-center gap-1 rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white hover:bg-[#112f5a]",children:[a.jsx(ws,{size:13}),"   "]})]});const te=ec===0,xe=Mn.slice(0,3);return a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:l?"2 1  ":"/  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:l?"//     /  .":"      RAG   //     ."}),a.jsxs("div",{className:"mt-3 rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-indigo-900",children:"  "}),a.jsxs("span",{className:"rounded border border-indigo-200 bg-white px-2 py-0.5 text-[10px] font-semibold text-indigo-700",children:["  ",F,"   ",ec,""]})]}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1.5 md:grid-cols-6",children:Z.map(fe=>{const Me=Be[fe.key];return a.jsxs("div",{className:ue("rounded border px-2 py-1.5 text-[10px]",Me?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-slate-200 bg-white text-slate-600"),children:[a.jsx("p",{className:"font-semibold",children:fe.label}),a.jsx("p",{className:"mt-0.5",children:Me?"DONE":"PENDING"})]},fe.key)})})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 xl:grid-cols-[1fr_1.1fr]",children:[a.jsxs("div",{className:"space-y-3 rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:"  "}),a.jsx("span",{className:"text-[10px] text-slate-500",children:"  UI "})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[a.jsx("button",{type:"button",onClick:()=>{Qe(fe=>({...fe,consultStarted:!0})),d1()},className:"rounded border border-blue-200 bg-blue-50 px-2 py-1 text-[10px] font-semibold text-blue-700",children:" "}),a.jsx("button",{type:"button",onClick:()=>{const fe=xe[0];fe?(Q0(fe),Qe(Me=>({...Me,consultStarted:!0})),Le.success("  .")):Le("   .")},className:"rounded border border-indigo-200 bg-indigo-50 px-2 py-1 text-[10px] font-semibold text-indigo-700",children:" "}),a.jsx("button",{type:"button",onClick:()=>{if(!K.trim()){Le.error("    .");return}Qe(fe=>({...fe,infoCollected:!0})),Ee(fe=>({...fe,note:K.trim()})),Ne(`Stage3   : ${K.slice(0,60)}`)},className:"rounded border border-slate-200 bg-white px-2 py-1 text-[10px] font-semibold text-slate-700",children:"  "})]}),a.jsx(B6,{stageLabel:"3",templates:ki,defaultVars:{centerName:BE,centerPhone:jo,bookingLink:Oh(h.reservationInfo)},caseId:h.header.caseId,citizenPhone:e?.profile.phone??"010-0000-0000",guardianPhone:e?.profile.guardianPhone,callScripts:oo,compact:!0,onConsultation:Qs,onSmsSent:co})]}),a.jsxs("div",{className:"space-y-3 rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:"/ (  )"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:["/",a.jsx("input",{value:Ht.preferredHospital,onChange:fe=>Ee(Me=>({...Me,preferredHospital:fe.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:["",a.jsx("input",{value:Ht.orgPhone,onChange:fe=>Ee(Me=>({...Me,orgPhone:fe.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsx("input",{type:"datetime-local",value:Pc(Ht.bookingAt),onChange:fe=>Ee(Me=>({...Me,bookingAt:Dc(fe.target.value)||Me.bookingAt})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsx("input",{type:"datetime-local",value:Pc(Ht.bookingAltAt),onChange:fe=>Ee(Me=>({...Me,bookingAltAt:Dc(fe.target.value)||Me.bookingAltAt})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px] text-slate-700",children:[a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Ht.testBiomarker,onChange:fe=>Ee(Me=>({...Me,testBiomarker:fe.target.checked}))}),""]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Ht.testBrainImaging,onChange:fe=>Ee(Me=>({...Me,testBrainImaging:fe.target.checked}))}),""]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Ht.caregiverCompanion,onChange:fe=>Ee(Me=>({...Me,caregiverCompanion:fe.target.checked}))})," "]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Ht.mobilityIssue,onChange:fe=>Ee(Me=>({...Me,mobilityIssue:fe.target.checked}))}),"/ "]})]}),a.jsxs("label",{className:"block text-[11px] text-slate-600",children:["/",a.jsx("textarea",{value:Ht.prepGuide,onChange:fe=>Ee(Me=>({...Me,prepGuide:fe.target.value})),className:"mt-1 h-14 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsxs("label",{className:"block text-[11px] text-slate-600",children:["/ ",a.jsx("textarea",{value:Ht.note,onChange:fe=>Ee(Me=>({...Me,note:fe.target.value})),className:"mt-1 h-16 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-indigo-300"})]}),a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-white p-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[a.jsx("button",{type:"button",onClick:Vp,className:"rounded border border-indigo-200 bg-indigo-50 px-2 py-1 text-[10px] font-semibold text-indigo-700",children:"RAG  "}),Ft?a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:Yp,className:"rounded border border-emerald-200 bg-emerald-50 px-2 py-1 text-[10px] font-semibold text-emerald-700",children:""}),a.jsx("button",{type:"button",onClick:Xp,className:"rounded border border-slate-200 bg-white px-2 py-1 text-[10px] font-semibold text-slate-700",children:""})]}):null]}),Ft?a.jsxs("div",{className:"mt-2 rounded border border-slate-200 bg-slate-50 p-2 text-[10px] text-slate-600",children:[a.jsxs("p",{className:"font-semibold text-slate-800",children:[" ( )   ",Ft.confidenceLabel]}),a.jsxs("p",{className:"mt-1",children:[" : ",Ft.changedFields.join(", ")||""]}),Ft.reasonSnippets.map(fe=>a.jsxs("p",{className:"mt-0.5",children:["- ",fe]},fe))]}):null]}),a.jsxs("div",{className:"rounded-md border border-emerald-200 bg-emerald-50 p-2",children:[a.jsx("p",{className:"text-[10px] text-emerald-800",children:" : SCHEDULED  +   0.    //   ."}),a.jsx("button",{type:"button",onClick:Qp,disabled:!te,className:"mt-2 w-full rounded-md border border-emerald-300 bg-white px-2 py-1.5 text-[11px] font-semibold text-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",children:"   "}),te?null:a.jsx("p",{className:"mt-1 text-[10px] text-amber-700",children:"    ."})]})]})]}),a.jsxs("div",{className:"mt-3 rounded-md border border-gray-200 bg-gray-50 p-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-700",children:"  "}),a.jsxs("div",{className:"mt-1 space-y-1",children:[(h.stage3?.recommendedActions??[]).filter(fe=>fe.requiresApproval).map(fe=>a.jsxs("div",{className:"flex items-center justify-between rounded border border-slate-200 bg-white px-2 py-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-800",children:fe.title}),a.jsx("p",{className:"text-[10px] text-slate-500",children:fe.reason})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>oa(fe.id,"APPROVED"),className:"rounded border border-emerald-200 bg-emerald-50 px-1.5 py-0.5 text-[10px] font-semibold text-emerald-700",children:""}),a.jsx("button",{onClick:()=>oa(fe.id,"HOLD"),className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[10px] font-semibold text-slate-700",children:""})]})]},fe.id)),(h.stage3?.recommendedActions??[]).filter(fe=>fe.requiresApproval).length===0?a.jsx("p",{className:"rounded border border-slate-200 bg-white px-2 py-1 text-[10px] text-slate-500",children:"   ."}):null]})]})]})})():null,Rt==="RESPONSE_HANDLING"?l?a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:" "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:"/MCI/    .     ."}),a.jsx("div",{className:"mt-3",children:a.jsx(Sx,{items:Nx.RESPONSE_HANDLING})}),a.jsx("div",{className:"mt-3 rounded-md border border-slate-200 bg-slate-50 p-3",children:a.jsx(zG,{probs:il,predictedLabel:Nn,mciSeverity:Js,mciScore:Nn==="MCI"?Js===""?82:Js===""?34:58:void 0})}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:[" ",a.jsxs("select",{value:Nn,onChange:F=>Wr(F.target.value),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-xs outline-none focus:border-blue-300",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"MCI",children:"MCI"}),a.jsx("option",{value:"",children:""})]})]}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-700",children:[a.jsx("p",{className:"font-semibold",children:"MCI (ANN)"}),a.jsx("p",{className:"mt-1",children:Nn==="MCI"?Js??" ":"-"})]})]}),a.jsxs("label",{className:"mt-3 block text-[11px] text-slate-600",children:["  1()",a.jsx("textarea",{value:Ta,onChange:F=>en(F.target.value),className:"mt-1 h-20 w-full rounded-md border border-gray-200 px-2 py-1 text-xs outline-none focus:border-blue-300",placeholder:"  . (  /   )"})]}),fs?null:a.jsx("div",{className:"mt-2 rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800",children:mo.map(F=>a.jsxs("p",{children:["- ",F]},F))}),a.jsxs("button",{onClick:ht,disabled:!fs,className:"mt-3 inline-flex items-center gap-1 rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white hover:bg-[#112f5a] disabled:opacity-50",children:[a.jsx(Wo,{size:13}),"  "]})]}):a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"    /"}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:" /        ."}),ud?a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-indigo-900",children:["2   ",Gi(h.stage3?.transitionRisk.risk2y_now??0),"%"]}),a.jsxs("p",{className:"mt-1 text-[11px] text-indigo-800",children:[" ",Np(h.stage3?.transitionRisk.risk2y_now??0),"   ",h.stage3?.transitionRisk.trend,"  "," ",h.stage3?.transitionRisk.modelVersion]}),h.stage3?a.jsx(az,{risk:h.stage3.transitionRisk,stage2OpsView:!1}):null]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-slate-600",children:["  ()",a.jsx("textarea",{value:at.memo,onChange:F=>br(Z=>({...Z,memo:F.target.value})),className:"mt-1 h-24 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-indigo-300",placeholder:"  /,     ."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-slate-600",children:" "}),a.jsx("select",{value:at.nextAction,onChange:F=>br(Z=>({...Z,nextAction:F.target.value})),className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-indigo-300",children:Object.entries(vx).map(([F,Z])=>a.jsx("option",{value:F,children:Z},F))}),a.jsx("button",{onClick:()=>ds({summary:` : ${at.memo||" "}   : ${vx[at.nextAction]}`,nextAction:at.nextAction}),className:"mt-3 rounded-md border border-indigo-200 bg-indigo-50 px-3 py-1.5 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100",children:"  "})]})]})]}):a.jsxs("div",{className:"mt-3 rounded-md border border-amber-200 bg-amber-50 p-3 text-[11px] text-amber-800",children:["  ",h.stage3?.diffPathStatus??"NONE"," . STEP2       ."]})]}):null,Rt==="FOLLOW_UP"?l?a.jsxs("section",{className:"space-y-3 rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"  "}),a.jsx("p",{className:"text-[11px] text-gray-600",children:"     /Stage3 /   1  ."}),a.jsx(Sx,{items:Nx.FOLLOW_UP}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:"  "}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-600",children:[" : ",ca,ca==="MCI"&&pd?` (${pd})`:""]}),a.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 md:grid-cols-3",children:[a.jsx("button",{onClick:()=>gt("FOLLOWUP_2Y","  2    "),disabled:!cn||ca!=="",className:"rounded-md border border-slate-200 bg-white px-2 py-1.5 text-[11px] font-semibold text-slate-700 disabled:opacity-50",children:"  2  "}),a.jsx("button",{onClick:()=>gt("STAGE3","MCI/  Stage3  "),disabled:!cn||!UE(ca),className:"rounded-md border border-blue-200 bg-blue-50 px-2 py-1.5 text-[11px] font-semibold text-blue-700 disabled:opacity-50",children:"MCI  Stage3 "}),a.jsx("button",{onClick:()=>gt("DIFF_PATH","    "),disabled:!cn||ca!=="",className:"rounded-md border border-rose-200 bg-rose-50 px-2 py-1.5 text-[11px] font-semibold text-rose-700 disabled:opacity-50",children:"   "})]})]}),a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-indigo-900",children:" ()"}),a.jsx("p",{className:"mt-1 text-[11px] text-indigo-800",children:" /     .   /  ."})]})]}):a.jsxs("section",{className:"space-y-3 rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:" ()"}),a.jsx("p",{className:"text-[11px] text-gray-600",children:"   UI  /    ."}),a.jsxs("div",{className:"rounded-md border border-slate-200 bg-white p-3",children:[a.jsxs("p",{className:"mb-2 text-[11px] text-slate-600",children:["  ,    UI / .",a.jsx("span",{className:"ml-1 font-semibold text-slate-800",children:"  3  "}),"  ."]}),a.jsx(xSe,{caseId:h.header.caseId,stage:3,resultLabel:Nu,mciSeverity:dm,riskTags:h.header.riskGuardrails??[],actorName:h.header.assigneeName})]}),a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-indigo-900",children:"  "}),a.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[11px] text-indigo-800",children:["  ",a.jsx("input",{type:"datetime-local",value:Pc(Ye.nextTrackingAt),onChange:F=>Yr(Z=>({...Z,nextTrackingAt:Dc(F.target.value)||Z.nextTrackingAt})),className:"mt-1 h-8 w-full rounded-md border border-indigo-200 px-2 text-[11px] outline-none focus:border-indigo-400"})]}),a.jsxs("label",{className:"text-[11px] text-indigo-800",children:[" ",a.jsx("input",{type:"time",value:Ye.reminderTime,onChange:F=>Yr(Z=>({...Z,reminderTime:F.target.value})),className:"mt-1 h-8 w-full rounded-md border border-indigo-200 px-2 text-[11px] outline-none focus:border-indigo-400"})]})]})]})]}):null,a.jsxs("div",{className:"sticky bottom-0 z-10 flex flex-wrap items-center justify-end gap-2 rounded-lg border border-slate-200 bg-white/95 p-3 backdrop-blur",children:[a.jsx("button",{onClick:ic,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:()=>ps(-1),disabled:fd<=0,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 disabled:opacity-40",children:""}),a.jsx("button",{onClick:()=>ps(1),disabled:fd<0||fd>=us.length-1,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 disabled:opacity-40",children:""}),a.jsx("button",{onClick:m1,className:"rounded-md bg-[#15386a] px-3 py-1.5 text-xs font-semibold text-white",children:" "})]})]})})}),a.jsx(qd,{open:!o&&!!w,onOpenChange:F=>{F||sc()},children:a.jsx(Wd,{className:"w-[96vw] max-w-[96vw] sm:max-w-[1700px] max-h-[92vh] overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-indigo-900",children:[i?"Stage2 ":"Stage1 ","  ",f1?.title??" "]}),a.jsx("p",{className:"text-[11px] text-indigo-700",children:i?"        .":"        ."})]}),a.jsxs("span",{className:"rounded-md border border-indigo-300 bg-white px-2 py-1 text-[11px] font-semibold text-indigo-700",children:[" ",sl+1,"/",al.length]})]}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1.5 md:grid-cols-4",children:al.map((F,Z)=>{const te=ya.find(fe=>fe.id===F),xe=w===F;return a.jsxs("button",{type:"button",onClick:()=>{const fe=sf(ya,F);if(fe){Le.error(fe);return}ac(F)},className:ue("rounded-md border px-2 py-1.5 text-left text-[11px]",xe?"border-indigo-300 bg-white text-indigo-800":"border-indigo-100 bg-indigo-50/60 text-indigo-700"),children:[a.jsxs("p",{className:"font-semibold",children:["STEP ",Z+1]}),a.jsx("p",{className:"mt-0.5 truncate",children:te?.title??F})]},F)})})]}),w==="PRECHECK"?a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:i?"2   ":"  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:i?"/  ,      .":"  ,       ."}),a.jsx("div",{className:"mt-3",children:a.jsx(Bje,{gates:h.policyGates,onFix:In,mode:n})})]}):null,w==="CONTACT_EXECUTION"?a.jsxs("section",{className:"space-y-3 rounded-lg border border-gray-200 bg-white p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:i?"/ ":" "}),a.jsx("p",{className:"text-[11px] text-slate-600",children:i?"       .":"     ."})]}),a.jsx("span",{className:ue("rounded-full border px-2.5 py-1 text-[11px] font-semibold",qC[h.contactExecutor]),children:vi[h.contactExecutor]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-[minmax(340px,0.8fr)_minmax(600px,1.2fr)]",children:[a.jsx(Mje,{loading:vr,recommendations:Mn,selectedId:Ca,editedScript:io,onSelect:Q0,onEditScript:Ir}),h.contactExecutor==="HUMAN"?a.jsx(B6,{stageLabel:d,templates:ki,defaultVars:{centerName:BE,centerPhone:jo,bookingLink:Oh(h.reservationInfo)},caseId:h.header.caseId,citizenPhone:e?.profile.phone?i||o?e.profile.phone:Mo(e.profile.phone):"010-****-1234",guardianPhone:e?.profile.guardianPhone?i||o?e.profile.guardianPhone:Mo(e.profile.guardianPhone):void 0,callScripts:oo,onSmsSent:F=>{if(F.type==="BOOKING"&&!h.reservationInfo){Le.error("       ."),Ne("  :   ");return}je({type:"SMS_SENT",at:kt(),templateId:F.templateLabel,status:F.status==="SENT"?"DELIVERED":F.status==="SCHEDULED"?"PENDING":"FAILED",by:h.header.assigneeName}),Ne(`${d}  ${F.mode==="NOW"?"":""}: ${F.templateLabel} (${F.status})`),F.status==="SENT"&&(Xs("SMS"),Ze(nt(48)),b(Z=>{const te={...Z.contactExecution,status:"SENT",lastSentAt:kt(),retryCount:Z.contactExecution.retryCount+1};return{...Z,contactExecution:te,contactFlowSteps:mi(te,Z.preTriageResult,Z.linkageStatus,n)}}))},onConsultation:(F,Z,te)=>{je({type:"CALL_ATTEMPT",at:kt(),result:"SUCCESS",note:F||void 0,by:h.header.assigneeName});const xe=Wn?` /  : ${Wn.title}`:"";Ne(`${d}  : ${te}${F?` (${F.slice(0,60)})`:""}${xe}`),Z==="CONTACT"&&Xs("CALL"),b(fe=>{const Me={...fe.contactExecution,status:"WAITING_RESPONSE",lastSentAt:kt(),retryCount:fe.contactExecution.retryCount+1};return{...fe,contactExecution:Me,contactFlowSteps:mi(Me,fe.preTriageResult,fe.linkageStatus,n)}}),Le.success("  .")}}):a.jsxs("section",{className:"rounded-xl border border-violet-200 bg-violet-50/70 p-4",children:[a.jsx("h4",{className:"text-sm font-bold text-violet-900",children:"Agent   "}),a.jsx("p",{className:"mt-1 text-[11px] text-violet-700",children:"       .      ."}),a.jsxs("div",{className:"mt-3 rounded-lg border border-violet-200 bg-white p-3 text-xs text-slate-700",children:[a.jsxs("p",{children:[" : ",a.jsx("strong",{children:QG[fr.status]})]}),a.jsxs("p",{className:"mt-1",children:[" : ",a.jsx("strong",{children:Oa==="PASS"?"":Oa==="NEEDS_CHECK"?" ":""})]}),a.jsxs("p",{className:"mt-1",children:[" : ",a.jsx("strong",{children:fr.attemptNo||h.contactExecution.retryCount+1})]}),a.jsxs("p",{children:[" :"," ",a.jsx("strong",{children:h.agentExecutionLogs[0]?`${pt(h.agentExecutionLogs[0].at)}  ${v3[h.agentExecutionLogs[0].result]}`:" "})]}),fr.idempotencyKey?a.jsxs("p",{className:"mt-1",children:["  : ",a.jsx("strong",{children:fr.idempotencyKey})]}):null,fr.lastError?a.jsxs("p",{className:"mt-1 text-red-700",children:[" : ",a.jsx("strong",{children:fr.lastError})]}):null,fr.nextRetryAt?a.jsxs("p",{className:"mt-1",children:[" : ",a.jsx("strong",{children:pt(fr.nextRetryAt)})]}):null,a.jsx("p",{className:"mt-1",children:"STEP3/STEP4     ."})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsx("button",{onClick:()=>Le(" Agent   ."),className:"rounded-md border border-violet-200 bg-violet-50 px-3 py-2 text-xs font-semibold text-violet-700",children:"Agent   "}),(fr.status==="FAILED"||fr.status==="CANCELED")&&Oa==="PASS"?a.jsx("button",{onClick:ju,className:"rounded-md border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs font-semibold text-emerald-700",children:" "}):null,fr.status==="FAILED"&&Oa==="PASS"?a.jsx("button",{onClick:ei,className:"rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-semibold text-amber-700",children:" "}):null,fr.status==="QUEUED"||fr.status==="RUNNING"?a.jsx("button",{onClick:()=>oc({actor:"operator",summary:"  Agent  .",moveToHuman:!1}),className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-xs font-semibold text-rose-700",children:" "}):null,a.jsx("button",{onClick:()=>gu("HUMAN"),className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"   "})]})]})]})]}):null,w==="RESPONSE_HANDLING"?a.jsxs("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:" "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"     //   ."}),a.jsx("div",{className:"mt-3",children:a.jsx(GE,{expanded:!0,onToggle:sc,executionStatus:h.contactExecution.status,lastSentAt:h.contactExecution.lastSentAt,assigneeName:h.header.assigneeName,selectedOutcomeCode:Ct,onSelectOutcomeCode:tm,reasonTags:Wt,onToggleReasonTag:am,rejectReasonDraft:Te,onRejectReasonDraftChange:rm,noResponsePlanDraft:St,onNoResponsePlanDraftChange:nm,outcomeNote:ze,onOutcomeNoteChange:xu,isSaving:Ke,submitError:$t,validationError:lt,onClearError:jn,onReset:bu,onConfirm:im,hasUnsavedChanges:Jr,lastSavedAt:zs,onOpenHandoffMemo:()=>Jt(!0),mode:n})})]}):null,w==="FOLLOW_UP"?a.jsxs("section",{className:"space-y-3 rounded-lg border border-gray-200 bg-white p-4",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:i?"/":" "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:i?"   ,   ,    .":"  ///     ."}),a.jsx(Ije,{draft:Rr,reservationInfo:h.reservationInfo,onChange:_s,onSave:Jp}),a.jsx(t7,{linkageStatus:h.linkageStatus,reservationInfo:h.reservationInfo,onAction:Cn,mode:n}),a.jsx(Fje,{mode:n,execution:h.contactExecution,strategy:Os,preTriageReady:Z0,strategyDecided:!!h.preTriageResult?.strategy,hasVulnerableGuardrail:!!h.header.riskGuardrails?.length,linkageStatus:h.linkageStatus,onOpenSmsModal:()=>ti("CONTACT_EXECUTION"),onOpenOutcomeTriage:()=>ti("RESPONSE_HANDLING"),onOpenHandoffMemo:()=>Jt(!0),onOpenStrategyOverride:()=>de(!0)}),a.jsx(r7,{expanded:Vs||!!h.contactExecution.handoffMemo,onToggle:()=>Jt(F=>!F),memoText:Ts,onMemoChange:Ys,onSave:()=>{Ne(`  : ${Ts.slice(0,80)}...`),Le.success("  ."),Jt(!1)},mode:n}),a.jsx(KE,{level:h.interventionLevel,statusLabel:h.header.statusLabel,guides:Ti,onChangeLevel:Xa,onHold:()=>Tt(""),onExclude:()=>Tt(" "),mode:n})]}):null,a.jsxs("div",{className:"sticky bottom-0 z-10 flex flex-wrap items-center justify-end gap-2 rounded-lg border border-slate-200 bg-white/95 p-3 backdrop-blur",children:[a.jsx("button",{onClick:sc,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:()=>lc(-1),disabled:sl<=0,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 disabled:opacity-40",children:""}),a.jsx("button",{onClick:()=>lc(1),disabled:sl<0||sl>=al.length-1,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 disabled:opacity-40",children:""}),a.jsx("button",{onClick:gd,className:"rounded-md bg-[#15386a] px-3 py-1.5 text-xs font-semibold text-white",children:" "})]})]})})}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-2",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Gn,{size:15,className:"text-slate-500"}),"    "]}),a.jsx("span",{className:"rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700",children:"  "})]}),a.jsx("div",{className:"mt-3 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full border-collapse text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-600",children:[a.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left font-semibold",children:""}),a.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left font-semibold",children:""}),a.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left font-semibold",children:""}),a.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left font-semibold",children:""})]})}),a.jsx("tbody",{children:v.map(F=>{const[Z,...te]=F.message.split(":"),xe=te.join(":").trim();return a.jsxs("tr",{className:"odd:bg-white even:bg-gray-50/60",children:[a.jsx("td",{className:"border border-gray-200 px-3 py-2 text-gray-600",children:F.at}),a.jsx("td",{className:"border border-gray-200 px-3 py-2 text-gray-700",children:F.actor}),a.jsx("td",{className:"border border-gray-200 px-3 py-2 font-semibold text-slate-800",children:Z.trim()}),a.jsx("td",{className:"border border-gray-200 px-3 py-2 text-gray-600",children:xe||"-"})]},F.id)})})]})})]}),a.jsx(Hje,{draft:le,onClose:()=>he(null),onChangeReason:F=>he(Z=>Z&&{...Z,reason:F}),onConfirm:c1}),a.jsx(Gje,{draft:X,loading:ve,onClose:()=>{ve||ne(null)},onChangeResult:F=>ne(Z=>Z&&(Z.mode==="CALL"?{...Z,result:F}:{...Z,result:F})),onChangeNote:F=>ne(Z=>Z&&{...Z,note:F}),onConfirm:em}),V&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/35 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white p-5 shadow-2xl",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Yi,{size:15,className:"text-amber-600"}),"   "]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:mje}),h.header.riskGuardrails&&h.header.riskGuardrails.length>0&&a.jsxs("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[a.jsxs("p",{className:"text-[11px] font-semibold text-amber-800 flex items-center gap-1",children:[a.jsx(Ka,{size:12}),"   "]}),a.jsx("ul",{className:"mt-1 space-y-0.5",children:h.header.riskGuardrails.map(F=>a.jsxs("li",{className:"text-[11px] text-amber-700",children:[" ",F]},F))}),ye==="AI_FIRST"?a.jsx("p",{className:"mt-2 text-[10px] font-semibold text-amber-900",children:"          ."}):null]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:"  "}),a.jsx("div",{className:"mt-1 grid grid-cols-2 gap-2",children:["HUMAN_FIRST","AI_FIRST"].map(F=>a.jsx("button",{onClick:()=>Ie(F),className:ue("rounded-lg border-2 px-3 py-2 text-xs font-semibold transition-colors",ye===F?Q6[F].replace("bg-","border-").split(" ")[0]+" "+Q6[F]:"border-gray-200 bg-gray-50 text-gray-500"),children:Mc[F]},F))})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:"  ()"}),a.jsx("textarea",{value:Ae,onChange:F=>ce(F.target.value),className:"mt-1 h-20 w-full rounded-lg border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400",placeholder:"    (  )"})]}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>de(!1),className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:u1,disabled:!Ae.trim(),className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:"  "})]})]})})]})}function Dje({strategy:e,strategyBadge:t,contactExecutor:r,executionStatus:n,lastSentAt:s,lastOutcome:i,retryCount:o,linkageStatus:l,memoCount:d,lastContactAt:u,timelineCount:m,preTriage:p,riskGuardrails:h,onOpenStrategyOverride:b,mode:v="stage1",stage2OpsView:N=!1}){const[y,S]=g.useState(null),w=v==="stage3",_=w&&N,A={NOT_STARTED:{label:"",tone:"text-gray-600"},SENT:{label:"",tone:"text-blue-700"},WAITING_RESPONSE:{label:"",tone:"text-amber-700"},RETRY_NEEDED:{label:"",tone:"text-orange-700"},HANDOFF_TO_HUMAN:{label:"",tone:"text-red-700"},PAUSED:{label:"",tone:"text-gray-600"},STOPPED:{label:"",tone:"text-red-700"},DONE:{label:"",tone:"text-emerald-700"}},E={NOT_CREATED:"",BOOKING_IN_PROGRESS:"",BOOKING_DONE:"",REFERRAL_CREATED:""},C=e==="HUMAN_FIRST"?" ":" ",O=t==="MANUAL_OVERRIDE"?"   ":"   ",D=[...(p?.triggers??[]).slice(0,4).map(Z6),...(h??[]).slice(0,2)];e==="HUMAN_FIRST"&&D.length===0&&D.push("      .");const R=_?[{title:" ",value:l==="BOOKING_DONE"||l==="REFERRAL_CREATED"?"75%":"50%",sub:`  ${E[l]}   ${m}`,helperTitle:" ",helper:[` : ${pt(u)}`,`/ : ${E[l]}`,"  //    ."],tone:"border-blue-200 bg-blue-50 text-blue-700",icon:Yi},{title:"/ ",value:l==="BOOKING_DONE"||l==="REFERRAL_CREATED"?"0":"1",sub:" /  ",helperTitle:" ",helper:[` : ${E[l]}`,"  Step2    .",` : ${o}`],tone:l==="BOOKING_DONE"||l==="REFERRAL_CREATED"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-amber-200 bg-amber-50 text-amber-700",icon:zn},{title:"  ",value:o>=3?"":o>=1?"":"",sub:` ${o}  ${z6(i)}`,helperTitle:" ",helper:[` : ${pt(s)}`,`  : ${A[n].label}`,"   /   ."],tone:o>=3?"border-red-200 bg-red-50 text-red-700":"border-slate-200 bg-slate-50 text-slate-700",icon:Nh},{title:"  ",value:l==="BOOKING_DONE"?" ":"",sub:`${pt(u)}   ${d}`,helperTitle:" ",helper:["  : // ",` : ${m}`,"   /   ."],tone:l==="BOOKING_DONE"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-gray-200 bg-gray-50 text-gray-700",icon:Gn}]:w?[{title:" ",value:o>=3?"HIGH":o>=1?"MID":"LOW",sub:` ${z6(i)}   ${m}`,helperTitle:" ",helper:[` : ${pt(u)}`,` : ${o}`,"        ."],tone:o>=3?"border-red-200 bg-red-50 text-red-700":"border-amber-200 bg-amber-50 text-amber-700",icon:Yi},{title:" ",value:`${(h?.length??0)+(p?.triggers.length??0)}`,sub:"/ ",helperTitle:" ",helper:[...h?.slice(0,2)??[],...(p?.triggers??[]).slice(0,2).map(Z6)].slice(0,3),tone:"border-slate-200 bg-slate-50 text-slate-700",icon:zn},{title:" ",value:A[n].label,sub:l==="NOT_CREATED"?"  ":` ${E[l]}`,helperTitle:" ",helper:[`/ : ${E[l]}`,`  : ${A[n].label}`,l==="NOT_CREATED"?"    Workboard  .":"  ."],tone:l==="NOT_CREATED"?"border-red-200 bg-red-50 text-red-700":"border-emerald-200 bg-emerald-50 text-emerald-700",icon:Nh},{title:"/",value:` ${d}`,sub:`${pt(u)}   ${m}`,helperTitle:" ",helper:[` : ${pt(u)}`,` : ${m}`,"     ."],tone:"border-gray-200 bg-gray-50 text-gray-700",icon:Gn}]:[{title:" ",value:C,sub:`${O}  ${vi[r]}`,helperTitle:" ",helper:D.length>0?[...D.slice(0,2),`  : ${vi[r]}`]:["       .",`  : ${vi[r]}`,"       ."],tone:e==="HUMAN_FIRST"?"border-red-200 bg-red-50 text-red-700":"border-blue-200 bg-blue-50 text-blue-700",icon:Yi},{title:" ",value:A[n].label,sub:i?` : ${Io[i].label}`:` ${o}`,helperTitle:" ",helper:[` /: ${pt(s)}`,`  : ${o}`,s?"    ":"     "],tone:`border-slate-200 bg-slate-50 ${A[n].tone}`,icon:Nh},{title:"/",value:E[l],sub:s?` : ${pt(s)}`:" ",helperTitle:" ",helper:[l==="NOT_CREATED"?"  .":` : ${E[l]}`,"       .",l==="NOT_CREATED"?"     ":"    "],tone:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:ws},{title:" ",value:` ${d}`,sub:`${pt(u)}   ${m}`,helperTitle:" ",helper:[` : ${pt(u)}`,` : ${m}`,m===0?"    ":"    "],tone:"border-gray-200 bg-gray-50 text-gray-700",icon:Gn}];return a.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3",children:R.map((K,H)=>a.jsxs("article",{onMouseEnter:()=>S(H),onMouseLeave:()=>S($=>$===H?null:$),onFocus:()=>S(H),onBlur:()=>S($=>$===H?null:$),className:ue("relative rounded-xl border p-3 shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md",K.tone),children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(K.icon,{size:14}),a.jsx("p",{className:"text-[11px] font-semibold opacity-80",children:K.title})]}),H===0&&!w?a.jsx("button",{type:"button",onClick:b,className:"rounded-md border border-current/40 bg-white/70 px-2 py-0.5 text-[10px] font-semibold",children:" "}):null]}),a.jsx("p",{className:"mt-1 text-lg font-bold",children:K.value}),a.jsx("p",{className:"mt-0.5 text-[10px] opacity-70",children:K.sub}),a.jsxs("div",{className:ue("pointer-events-none absolute inset-x-2 top-[calc(100%+8px)] z-20 rounded-lg border border-slate-200 bg-white p-3 text-slate-700 shadow-lg transition-all duration-150",y===H?"translate-y-0 opacity-100":"-translate-y-1 opacity-0"),children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-900",children:K.helperTitle}),a.jsx("div",{className:"mt-1 space-y-0.5 text-[11px] text-slate-600",children:K.helper.map($=>a.jsxs("p",{children:["- ",$]},`${K.title}-${$}`))})]})]},K.title))})}function e7({mode:e="stage1",stage2OpsView:t=!1,contactExecutor:r,executionStatus:n,strategy:s,lastSentAt:i,sensitivityFlags:o,latestAgentLog:l,selectedRecommendation:d,agentJob:u,gateStatus:m,onSwitchExecutor:p,onOpen:h,onRetryNow:b,onScheduleRetry:v}){const N=e==="stage2",y=e==="stage3",S=y&&t,w={NOT_STARTED:"",SENT:"",WAITING_RESPONSE:"",RETRY_NEEDED:"",HANDOFF_TO_HUMAN:"",PAUSED:"",STOPPED:"",DONE:""};return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(wi,{size:15,className:"text-[#15386a]"}),"/  (",S?"/":y?"/":N?"2":"1",")"]}),a.jsx("span",{className:ue("rounded-full border px-2 py-0.5 text-[10px] font-semibold",qC[r]),children:vi[r]})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:r==="HUMAN"?y?S?" /     .":"        .":N?" /     .":"/    .":y?S?"Agent   /  .     .":"Agent   /  .   /  .":N?"Agent   /  .    .":"Agent   /  .    ."}),s==="AI_FIRST"?a.jsx("p",{className:"mt-1 text-[11px] text-violet-700",children:"    : Agent        "}):null,a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:["HUMAN","AGENT_SEND_ONLY"].map(_=>a.jsx("button",{onClick:()=>p(_),className:ue("rounded-md border px-2.5 py-1.5 text-[11px] font-semibold transition-colors",r===_?qC[_]:"border-gray-200 bg-gray-50 text-gray-600 hover:bg-gray-100"),children:vi[_]},_))}),a.jsx("button",{type:"button",onClick:h,className:ue("mt-3 h-11 w-full rounded-lg text-sm font-semibold text-white transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md",r==="HUMAN"?"bg-[#15386a] hover:bg-[#102b4e]":"bg-violet-700 hover:bg-violet-800"),children:r==="HUMAN"?y?S?"/   ":"   ":N?" /  ":"/  ":"Agent   "}),a.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 text-[11px] text-slate-700",children:[a.jsxs("p",{children:[" : ",a.jsx("strong",{children:w[n]})]}),a.jsxs("p",{className:"mt-0.5",children:[y||N?" ":" ",": ",a.jsx("strong",{children:s==="HUMAN_FIRST"?" ":" "})]}),a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:pt(i)})]}),a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:o.length>0?o.join(", "):"  "})]}),r==="AGENT_SEND_ONLY"?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"mt-0.5",children:["Agent  : ",a.jsx("strong",{children:QG[u.status]})]}),a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:m==="PASS"?"":m==="NEEDS_CHECK"?" ":""})]}),a.jsxs("p",{className:"mt-0.5",children:[" Agent :"," ",a.jsx("strong",{children:l?`${pt(l.at)}  ${v3[l.result]}`:" "})]}),u.status==="FAILED"?a.jsxs("p",{className:"mt-0.5 text-red-700",children:[" : ",a.jsx("strong",{children:u.lastError??" "})]}):null,u.nextRetryAt?a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:pt(u.nextRetryAt)})]}):null,(u.status==="FAILED"||u.status==="CANCELED")&&m==="PASS"?a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[a.jsx("button",{type:"button",onClick:b,className:"rounded-md border border-violet-200 bg-violet-50 px-2 py-1 text-[10px] font-semibold text-violet-700 hover:bg-violet-100",children:" "}),a.jsx("button",{type:"button",onClick:v,className:"rounded-md border border-slate-200 bg-white px-2 py-1 text-[10px] font-semibold text-slate-700 hover:bg-slate-100",children:" "})]}):null]}):d?a.jsxs("p",{className:"mt-0.5",children:[" : ",a.jsx("strong",{children:d.title})]}):null]})]})}function t7({linkageStatus:e,reservationInfo:t,locked:r=!1,lockReason:n,onOpenStep4:s,onAction:i,mode:o="stage1"}){const l=o==="stage3";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(sa,{size:15,className:"text-[#15386a]"}),l?"/ ":" "]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:l?" /   ()  .":" /    ."}),r?a.jsxs("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-amber-800",children:n??"    ."}),a.jsx("button",{onClick:s,className:"mt-2 rounded-md border border-amber-300 bg-white px-2.5 py-1 text-[11px] font-semibold text-amber-800 hover:bg-amber-100",children:"STEP4 "})]}):null,a.jsx("div",{className:"mt-3 space-y-2",children:Object.keys(VC).map(d=>{const u=VC[d];return a.jsxs("button",{type:"button",disabled:r,onClick:()=>i(d),className:ue("w-full rounded-lg border border-slate-200 px-3 py-2 text-left transition-colors",r?"cursor-not-allowed bg-slate-100 text-slate-400":"bg-slate-50 hover:bg-slate-100"),children:[a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:u.title}),a.jsx("p",{className:"mt-0.5 text-[11px] text-slate-600",children:u.description})]},d)})}),a.jsxs("div",{className:"mt-3 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-[11px] text-emerald-800",children:[a.jsxs("p",{children:[" / : ",a.jsx("strong",{children:Hc[e]})]}),a.jsxs("p",{className:"mt-0.5",children:[" :"," ",a.jsx("strong",{children:t?Oh(t):"  ."})]}),a.jsx("p",{className:"mt-0.5",children:"       ."})]})]})}function Mje({loading:e,recommendations:t,selectedId:r,editedScript:n,onSelect:s,onEditScript:i}){return a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-xs font-bold text-slate-900",children:"RAG / "}),a.jsx("span",{className:"text-[10px] text-slate-500",children:" ,    ."})]}),e?a.jsx("div",{className:"mt-2 rounded-md border border-slate-200 bg-white px-3 py-2 text-[11px] text-slate-500",children:"   ..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-2 grid grid-cols-1 gap-2",children:t.map(o=>a.jsxs("button",{onClick:()=>s(o),className:ue("rounded-lg border px-3 py-2 text-left transition-colors",r===o.id?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:o.title}),a.jsx("p",{className:"mt-0.5 text-[11px] text-slate-600",children:o.useCase}),a.jsx("div",{className:"mt-1 space-y-0.5 text-[10px] text-slate-500",children:o.evidence.slice(0,3).map(l=>a.jsxs("p",{children:["- ",l]},`${o.id}-${l}`))})]},o.id))}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-[11px] font-semibold text-slate-600",children:"  "}),a.jsx("textarea",{value:n,onChange:o=>i(o.target.value),className:"mt-1 h-20 w-full rounded-md border border-slate-200 bg-white px-2 py-1.5 text-xs outline-none focus:border-blue-400",placeholder:"    "})]})]})]})}function Ije({draft:e,reservationInfo:t,onChange:r,onSave:n}){const s=Tf[e.route],i=e.route!=="HOLD_TRACKING";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(sa,{size:15,className:"text-blue-600"}),"STEP4  "]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"/    ."}),a.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:Object.keys(Tf).map(o=>{const l=Tf[o];return a.jsxs("button",{onClick:()=>r({...e,route:o,place:l.defaultPlace}),className:ue("rounded-lg border px-3 py-2 text-left transition-colors",e.route===o?"border-blue-300 bg-blue-50":"border-gray-200 bg-gray-50 hover:bg-gray-100"),children:[a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:l.label}),a.jsx("p",{className:"mt-0.5 text-[11px] text-slate-600",children:l.description})]},o)})}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("input",{type:"datetime-local",value:Pc(e.scheduledAt),onChange:o=>r({...e,scheduledAt:Dc(o.target.value)||e.scheduledAt}),disabled:!i,className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("input",{value:e.place,onChange:o=>r({...e,place:o.target.value}),disabled:!i,className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400 disabled:bg-gray-100"})]})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:"/ "}),a.jsx("input",{value:e.contactGuide,onChange:o=>r({...e,contactGuide:o.target.value}),disabled:!i,className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400 disabled:bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("input",{value:e.note,onChange:o=>r({...e,note:o.target.value}),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400"})]})]}),a.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-700",children:[a.jsxs("p",{children:[" : ",a.jsx("strong",{children:s.label})]}),a.jsx("p",{className:"mt-0.5",children:"       ."}),a.jsxs("p",{className:"mt-0.5",children:["  : ",a.jsx("strong",{children:t?Oh(t):""})]})]}),a.jsx("div",{className:"mt-3 flex justify-end",children:a.jsx("button",{onClick:n,className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white",children:"  "})})]})}function Lje({logs:e}){return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Agent  "}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"   ( )"}),a.jsx("div",{className:"mt-3 space-y-2",children:e.length===0?a.jsx("p",{className:"rounded-md border border-gray-200 bg-gray-50 px-3 py-2 text-[11px] text-gray-500",children:"           ."}):e.slice(0,4).map(t=>a.jsxs("div",{className:"rounded-md border border-violet-200 bg-violet-50 px-3 py-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-violet-800",children:v3[t.result]}),a.jsx("p",{className:"mt-0.5 text-[11px] text-violet-700",children:t.summary}),a.jsxs("p",{className:"mt-0.5 text-[10px] text-violet-600",children:[pt(t.at),t.recommendationTitle?`   ${t.recommendationTitle}`:""]})]},t.id))})]})}function $je({flowCards:e,onAction:t,mode:r="stage1",stage2OpsView:n=!1}){const s=r==="stage2"?"Stage2  ":r==="stage3"?n?"Stage2   ":"Stage3  ":"Stage1  ",i=e.filter(o=>o.status==="COMPLETED").length;return a.jsxs("section",{className:"relative z-10 rounded-2xl border border-gray-200 bg-gradient-to-b from-white to-slate-50 p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Nh,{size:15,className:"text-blue-600"}),s]}),a.jsxs("span",{className:"text-[11px] text-gray-500",children:[i,"/",e.length,"  "]})]}),a.jsx("div",{className:"mt-4 overflow-x-auto overflow-y-visible pt-1 pb-3",children:a.jsx("ol",{className:"relative z-10 mx-auto flex w-max items-stretch justify-center gap-3 px-2",children:e.map((o,l)=>{const d=Aje[o.status],u=d.icon,m=sf(e,o.id),p=!!m;return a.jsxs(q.Fragment,{children:[a.jsx("li",{className:"shrink-0 py-1",children:a.jsxs("button",{type:"button",onClick:()=>{p||t(o.action)},"aria-disabled":p,title:p?m??void 0:void 0,className:ue("group relative z-0 w-[230px] transform-gpu rounded-2xl border p-4 text-left transition-all duration-200 ease-out focus-visible:z-20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-300",d.cardTone,!p&&"hover:z-20 hover:-translate-y-0.5 hover:scale-[1.02]",p&&"cursor-not-allowed opacity-75 saturate-75",!p&&o.isCurrent&&"ring-2 ring-offset-1 ring-blue-300 motion-safe:animate-pulse"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-semibold tracking-wide text-slate-500",children:["STEP ",l+1]}),a.jsx("span",{className:ue("rounded-full px-2 py-0.5 text-[10px] font-semibold",d.chipTone),children:d.label})]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(u,{size:14,className:"shrink-0"}),a.jsx("p",{className:"text-sm font-bold tracking-tight",children:o.title})]}),a.jsx("p",{className:"mt-1 text-[11px] text-slate-600",children:o.description}),a.jsxs("div",{className:ue("mt-2 rounded-lg border px-2.5 py-2 text-[11px] leading-relaxed",d.reasonTone),children:[a.jsx("p",{className:"font-semibold",children:" "}),a.jsx("p",{className:"mt-0.5 text-[10px]",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:o.reason})]}),p?a.jsxs("div",{className:"mt-2 max-h-0 overflow-hidden rounded-lg border border-amber-300 bg-amber-50 px-2.5 py-0 text-[11px] leading-relaxed text-amber-900 opacity-0 transition-all duration-200 group-hover:max-h-24 group-hover:py-2 group-hover:opacity-100 group-focus-visible:max-h-24 group-focus-visible:py-2 group-focus-visible:opacity-100",children:[a.jsx("p",{className:"font-semibold",children:"  "}),a.jsx("p",{className:"mt-0.5 text-[10px]",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:m})]}):a.jsxs("div",{className:"mt-2 max-h-0 overflow-hidden rounded-lg border border-dashed border-slate-300 bg-white/70 px-2.5 py-0 text-[11px] text-slate-700 opacity-0 transition-all duration-200 group-hover:max-h-24 group-hover:py-2 group-hover:opacity-100 group-focus-visible:max-h-24 group-focus-visible:py-2 group-focus-visible:opacity-100",children:[a.jsx("p",{className:"font-semibold text-slate-800",children:" "}),a.jsx("p",{className:"mt-0.5",children:o.nextActionHint})]}),a.jsx("span",{className:"mt-2 inline-flex rounded-md border border-current/40 px-2.5 py-1 text-[11px] font-semibold",children:p?"  ":" "})]})}),l<e.length-1?a.jsx("li",{className:"flex shrink-0 items-center text-slate-300","aria-hidden":"true",children:a.jsx(Hs,{size:18})}):null]},o.id)})})}),a.jsx("p",{className:"mt-3 text-[11px] text-gray-500",children:r==="stage3"?n?"      /   .":"         .    .":"       Step1~4    ."})]})}function Fje({mode:e="stage1",execution:t,strategy:r,preTriageReady:n,strategyDecided:s,hasVulnerableGuardrail:i,linkageStatus:o,onOpenSmsModal:l,onOpenOutcomeTriage:d,onOpenHandoffMemo:u,onOpenStrategyOverride:m}){const p=e==="stage2",h=e==="stage3",b=[],v=[];return n||b.push({label:h?"    ":p?"2    ":"    ",action:m,tone:"bg-red-600 text-white hover:bg-red-700"}),(!s||i)&&b.push({label:h?" / ":p?"/ ":"  / ",action:m,tone:"bg-amber-600 text-white hover:bg-amber-700"}),(t.status==="NOT_STARTED"||t.status==="RETRY_NEEDED")&&b.push({label:h?"  /":p?`   (${r==="HUMAN_FIRST"?" ":" "})`:`1   (${r==="HUMAN_FIRST"?" ":" "})`,action:l,tone:"bg-[#15386a] text-white hover:bg-[#102b4e]"}),(t.status==="SENT"||t.status==="WAITING_RESPONSE")&&b.push({label:h?" / ":p?"/  ":"  ",action:d,tone:"bg-blue-600 text-white hover:bg-blue-700"}),(t.status==="HANDOFF_TO_HUMAN"||t.status==="PAUSED")&&b.push({label:h?"  / ":p?" / ":"   /",action:u,tone:"bg-red-600 text-white hover:bg-red-700"}),t.status==="STOPPED"&&v.push({label:h?" (/) ":p?"/  ":"   ",action:u,tone:"border-red-200 bg-red-50 text-red-700 hover:bg-red-100"}),t.status==="RETRY_NEEDED"&&v.push({label:h?" /  ":p?"   ":"    ",action:l,tone:"border-orange-200 bg-orange-50 text-orange-700 hover:bg-orange-100"}),(o==="BOOKING_IN_PROGRESS"||o==="REFERRAL_CREATED")&&v.push({label:h?"/   ":p?"/   ":"/   ",action:u,tone:"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Nh,{size:15,className:"text-orange-600"}),"  "]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"     "}),b.length>0&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-red-700",children:"P1   "}),b.map(N=>a.jsx("button",{onClick:N.action,className:ue("w-full rounded-lg border px-3 py-2.5 text-xs font-semibold transition-colors",N.tone),children:N.label},N.label))]}),v.length>0&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-blue-700",children:"P2   "}),v.map(N=>a.jsx("button",{onClick:N.action,className:ue("w-full rounded-lg border px-3 py-2 text-xs font-semibold transition-colors",N.tone),children:N.label},N.label))]}),t.lastOutcomeCode&&a.jsx("div",{className:"mt-3 rounded-md border border-gray-100 bg-gray-50 px-3 py-2",children:a.jsxs("p",{className:"text-[11px] text-gray-600",children:[" : ",a.jsx("strong",{children:Io[t.lastOutcomeCode].label})]})})]})}function GE({expanded:e,onToggle:t,executionStatus:r,lastSentAt:n,assigneeName:s,selectedOutcomeCode:i,onSelectOutcomeCode:o,reasonTags:l,onToggleReasonTag:d,rejectReasonDraft:u,onRejectReasonDraftChange:m,noResponsePlanDraft:p,onNoResponsePlanDraftChange:h,outcomeNote:b,onOutcomeNoteChange:v,isSaving:N,submitError:y,validationError:S,onClearError:w,onReset:_,onConfirm:A,hasUnsavedChanges:E,lastSavedAt:C,onOpenHandoffMemo:O,mode:D="stage1"}){const R=D==="stage3",K=i?Io[i].label:tz[r];return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Df,{size:15,className:"text-blue-600"}),R?"   ()":"  "]}),a.jsx("button",{onClick:t,className:"rounded-md border border-gray-200 px-2 py-1 text-[11px] font-semibold text-gray-600 hover:bg-gray-50",children:e?"":""})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:R?"/     .":"     "}),e?a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-[11px] md:grid-cols-3",children:[a.jsxs("p",{className:"text-slate-600",children:[" : ",a.jsx("strong",{className:"text-slate-900",children:K})]}),a.jsxs("p",{className:"text-slate-600",children:[" : ",a.jsx("strong",{className:"text-slate-900",children:pt(n)})]}),a.jsxs("p",{className:"text-slate-600",children:[": ",a.jsx("strong",{className:"text-slate-900",children:s})]})]}),a.jsx("p",{className:"mt-2 text-[11px] text-slate-600",children:"   ,     ."})]}),a.jsx("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 px-3 py-2 text-[11px] font-semibold text-indigo-800",children:"     "}),S?a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-3 py-2",children:a.jsx("p",{className:"text-[11px] font-semibold text-red-700",children:S})}):null,y?a.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-3 py-2",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("p",{className:"text-[11px] font-semibold text-red-700",children:[" : ",y]}),a.jsx("button",{onClick:w,className:"rounded border border-red-200 px-1.5 py-0.5 text-[10px] font-semibold text-red-700 hover:bg-red-100",children:""})]})}):null,a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-semibold text-gray-600",children:"  ( )"}),a.jsx("div",{className:"mt-2 grid grid-cols-1 gap-2 md:grid-cols-2",children:gje.map(H=>{const $=Io[H],U=i===H;return a.jsxs("button",{type:"button",onClick:()=>{w(),o(H)},className:ue("rounded-lg border-2 px-3 py-2 text-left transition-colors",U?`${$.tone} border-current`:"border-gray-200 bg-gray-50 hover:bg-gray-100"),children:[a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:$.label}),a.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:H==="CONTINUE_SELF"?"     ":H==="SCHEDULE_LATER"?"    ":H==="REQUEST_GUARDIAN"?"  ":H==="REQUEST_HUMAN"?"  ":H==="NO_RESPONSE"?"   ":"/  "})]},H)})})]}),i==="NO_RESPONSE"?a.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-blue-800",children:"   ()"}),a.jsxs("p",{className:"mt-1 text-[10px] text-blue-700",children:["     +1 .  ",p.channel==="CALL"?"":"","   ."]}),a.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-semibold text-gray-600",children:""}),a.jsx("div",{className:"mt-1 grid grid-cols-2 gap-1",children:Object.keys(J6).map(H=>a.jsx("button",{type:"button",onClick:()=>h({...p,channel:H,strategy:XG[H]}),className:ue("rounded-md border px-2 py-1 text-[10px] font-semibold",p.channel===H?"border-blue-300 bg-blue-100 text-blue-800":"border-gray-200 bg-white text-gray-600"),children:J6[H]},H))})]}),a.jsxs("label",{className:"text-[10px] font-semibold text-gray-600",children:["  ",a.jsx("input",{type:"datetime-local",value:Pc(p.nextContactAt),onChange:H=>{const $=Dc(H.target.value);h({...p,nextContactAt:$||p.nextContactAt})},className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-400"})]}),a.jsxs("label",{className:"text-[10px] font-semibold text-gray-600",children:["",a.jsx("input",{type:"text",value:p.assigneeId,onChange:H=>{h({...p,assigneeId:H.target.value})},className:"mt-1 h-8 w-full rounded-md border border-gray-200 px-2 text-[11px] outline-none focus:border-blue-400",placeholder:"   ID"})]})]}),a.jsxs("label",{className:"mt-2 inline-flex items-center gap-2 text-[10px] text-blue-800",children:[a.jsx("input",{type:"checkbox",checked:p.applyL3,onChange:H=>h({...p,applyL3:H.target.checked})}),"    L3 ."]})]}):null,i==="REFUSE"?a.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-red-800",children:"   ()"}),a.jsx("p",{className:"mt-1 text-[10px] text-red-700",children:"       ."}),a.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 md:grid-cols-2",children:[a.jsxs("label",{className:"text-[10px] font-semibold text-gray-600",children:[" ",a.jsxs("select",{value:u.code??"",onChange:H=>{const $=H.target.value||null;m({...u,code:$})},className:"mt-1 h-8 w-full rounded-md border border-gray-200 bg-white px-2 text-[11px] outline-none focus:border-red-300",children:[a.jsx("option",{value:"",children:" "}),bje.map(H=>a.jsx("option",{value:H.code,children:H.label},H.code))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-semibold text-gray-600",children:" "}),a.jsx("div",{className:"mt-1 grid grid-cols-2 gap-1",children:yje.map(H=>a.jsx("button",{type:"button",onClick:()=>m({...u,level:H.value}),className:ue("h-8 rounded-md border px-2 text-[10px] font-semibold",u.level===H.value?"border-red-300 bg-red-100 text-red-700":"border-gray-200 bg-white text-gray-600"),children:H.label},H.value))})]})]}),u.code==="R7_OTHER"?a.jsxs("label",{className:"mt-2 block text-[10px] font-semibold text-gray-600",children:["  ()",a.jsx("textarea",{value:u.detail,onChange:H=>m({...u,detail:H.target.value}),className:"mt-1 h-14 w-full rounded-md border border-gray-200 px-2 py-1 text-[11px] outline-none focus:border-red-300",placeholder:"   "})]}):null]}):null,i==="REQUEST_GUARDIAN"||i==="REQUEST_HUMAN"?a.jsxs("div",{className:"rounded-lg border border-violet-200 bg-violet-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-violet-800",children:"   ()"}),a.jsx("p",{className:"mt-1 text-[10px] text-violet-700",children:"      ."}),a.jsx("button",{type:"button",onClick:O,className:"mt-2 rounded-md border border-violet-300 bg-white px-2.5 py-1 text-[11px] font-semibold text-violet-700 hover:bg-violet-100",children:"  "})]}):null,a.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-amber-800",children:"   ( )"}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:Object.keys(My).map(H=>{const $=My[H],U=l.includes(H);return a.jsx("button",{type:"button",onClick:()=>d(H),className:ue("rounded-full border px-2.5 py-1 text-[10px] font-semibold transition-colors",U?$.tone:"border-gray-200 bg-white text-gray-600"),title:$.hint,children:$.label},H)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:" ()"}),a.jsx("textarea",{value:b,onChange:H=>v(H.target.value),className:"mt-1 h-16 w-full rounded-md border border-gray-200 px-2 py-1 text-xs outline-none focus:border-blue-400",placeholder:"   "})]}),a.jsxs("div",{className:"sticky bottom-0 z-10 flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white/95 px-3 py-2 backdrop-blur",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[a.jsx("span",{className:ue("rounded-full border px-2 py-0.5 font-semibold",E?"border-amber-200 bg-amber-50 text-amber-700":"border-emerald-200 bg-emerald-50 text-emerald-700"),children:E?" ":" "}),C?a.jsxs("span",{className:"text-gray-500",children:["  ",pt(C)]}):null]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:_,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:A,disabled:N,className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:N?" ...":""})]})]})]}):null]})}function r7({expanded:e,onToggle:t,memoText:r,onMemoChange:n,onSave:s,mode:i="stage1"}){const o=i==="stage3";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(vY,{size:15,className:"text-blue-600"}),o?" / ":"  "]}),a.jsx("button",{onClick:t,className:"rounded-md border border-gray-200 px-2 py-1 text-[11px] font-semibold text-gray-600 hover:bg-gray-50",children:e?"":""})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:o?" /   .":"     "}),e?a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("textarea",{value:r,onChange:l=>n(l.target.value),className:"h-40 w-full rounded-md border border-gray-200 px-3 py-2 text-xs font-mono outline-none focus:border-blue-400",placeholder:`[ ]
 ( ): ...
: ...
 : ...
 : ...
  : ...`}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:s,disabled:!r.trim(),className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:""})})]}):null]})}function Bje({gates:e,onFix:t,mode:r="stage1"}){const n=r==="stage3",s=new Map(e.map(w=>[w.key,w])),o=["CONSENT_OK","PHONE_VERIFIED","GUARDIAN_OPTIONAL"].map(w=>s.get(w)).filter(w=>!!w),l=s.get("CONSENT_OK"),d=s.get("PHONE_VERIFIED"),u=s.get("GUARDIAN_OPTIONAL"),m=d?.status==="PASS"?"OK":d?.status==="FAIL"&&V6(d.failReason)?"RESTRICTED":"NEEDS_CHECK",p=l?.status==="FAIL"?"RESTRICTED":d?.status==="PASS"?"OK":d?.status==="FAIL"&&V6(d.failReason)?"RESTRICTED":"NEEDS_CHECK",h=u?.status==="PASS"?"OK":u?.status==="FAIL"?"RESTRICTED":"NEEDS_CHECK",b=m==="OK"?Pd(m):d?.failReason??Pd(m),v=p==="OK"?Pd(p):l?.status==="FAIL"?l.failReason??Pd(p):d?.failReason??Pd(p),N=h==="OK"?Pd(h):u?.failReason??Pd(h),y=[{key:"CALL",label:"",state:m,detail:b,actionLabel:m==="NEEDS_CHECK"?" ":m==="RESTRICTED"?"  ":void 0,onAction:m==="NEEDS_CHECK"&&d?.fixAction?.action==="VERIFY_PHONE"?()=>t(d):m==="RESTRICTED"?()=>Le.error(b):void 0},{key:"SMS",label:"",state:p,detail:v,actionLabel:p==="NEEDS_CHECK"?"  ":p==="RESTRICTED"?"  ":void 0,onAction:p==="NEEDS_CHECK"?()=>Le("    ."):p==="RESTRICTED"?()=>Le.error(v):void 0},{key:"GUARDIAN",label:"",state:h,detail:N,actionLabel:h==="RESTRICTED"?"  ":h==="NEEDS_CHECK"&&u?.fixAction?u.fixAction.label:void 0,onAction:h==="RESTRICTED"?()=>Le.error(N):h==="NEEDS_CHECK"&&u?.fixAction?()=>t(u):void 0}],S=y.some(w=>w.state==="RESTRICTED")?"RESTRICTED":y.some(w=>w.state==="NEEDS_CHECK")?"NEEDS_CHECK":"OK";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(sh,{size:15,className:"text-slate-500"}),n?"  ":"  "]}),a.jsx("span",{className:"text-[11px] text-gray-500",children:n?"   Step2 .":"     "})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2",children:[o.map(w=>a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:w.label}),a.jsx("span",{className:ue("rounded px-2 py-0.5 text-[10px] font-semibold",ije(w.status)),children:w.status==="PASS"?"":w.status==="FAIL"?"":" "})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:w.failReason??"  "}),w.fixAction&&w.status!=="PASS"&&a.jsxs("button",{onClick:()=>t(w),className:"mt-2 inline-flex items-center gap-1 rounded-md border border-blue-200 bg-blue-50 px-2 py-1 text-[11px] font-semibold text-blue-700 hover:bg-blue-100",children:[a.jsx(Df,{size:11})," ",w.fixAction.label]})]},w.key)),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:"  "}),a.jsx("span",{className:ue("rounded px-2 py-0.5 text-[10px] font-semibold",q6(S)),children:W6(S)})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"//   "}),a.jsx("div",{className:"mt-2 space-y-2",children:y.map(w=>a.jsxs("div",{className:"rounded-md border border-gray-100 bg-white px-2.5 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-700",children:w.label}),a.jsx("span",{className:ue("rounded px-2 py-0.5 text-[10px] font-semibold",q6(w.state)),children:W6(w.state)})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:w.detail}),w.onAction&&w.actionLabel?a.jsxs("button",{onClick:w.onAction,className:"mt-1.5 inline-flex items-center gap-1 rounded-md border border-blue-200 bg-blue-50 px-2 py-1 text-[11px] font-semibold text-blue-700 hover:bg-blue-100",children:[a.jsx(Df,{size:11})," ",w.actionLabel]}):null]},w.key))})]})]}),a.jsxs("p",{className:"mt-3 text-[11px] text-gray-500",children:["    : ",n?"/     ":"/     "]})]})}function n7({evidence:e,quality:t,mode:r="stage1",stage2OpsView:n=!1}){const s=r==="stage3",i=s&&n;return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Ff,{size:15,className:"text-slate-500"}),i?"  ( )":s?"  ( )":"  "]}),a.jsxs("span",{className:"text-[11px] text-gray-500",children:["  ",pt(e.computedAt),"  ",e.version]})]}),a.jsx("div",{className:"mt-3 space-y-2",children:e.topFactors.slice(0,3).map(o=>a.jsxs("div",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-900",children:o.title}),o.isMissing&&a.jsx("span",{className:"rounded bg-red-100 px-1.5 py-0.5 text-[10px] font-semibold text-red-700",children:" "})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:o.description}),a.jsxs("p",{className:"mt-1 text-[10px] text-gray-400",children:[": ",pt(o.recency)]})]},o.title))}),a.jsxs("div",{className:"mt-3 rounded-md border border-gray-100 bg-white px-3 py-2 text-[11px] text-gray-600",children:[a.jsx("p",{children:" :  48   "}),a.jsxs("p",{title:"   ,  ,    .",children:[" : ",t.score,"% (  )"]}),a.jsxs("p",{children:[" : ",t.notes?.join(", ")??""]}),i?a.jsx("p",{children:" :  //    ."}):null,!i&&s?a.jsx("p",{children:" :       ."}):null]})]})}function az({risk:e,stageBadge:t,threshold:r=65,stage2OpsView:n=!1}){const s=g.useId().replace(/:/g,""),i=($,U=!1)=>{const P=new Date($);if(Number.isNaN(P.getTime()))return $.slice(5,10);const G=String(P.getFullYear()).slice(2),L=String(P.getFullYear()),M=String(P.getMonth()+1).padStart(2,"0"),B=String(P.getDate()).padStart(2,"0");return U?`${L}.${M}.${B}`:`${G}.${M}.${B}`},o=$=>$==="DIFF_RESULT_APPLIED"?n?" ":" ":$==="PLAN_UPDATED"?n?"/ ":" ":$==="REEVAL"?n?"  ":"":void 0,l=g.useMemo(()=>{const $=e.series.map(U=>{const P=new Date(U.t),G=Number.isNaN(P.getTime())?new Date(e.updatedAt):P,L=Number.isNaN(G.getTime())?new Date:G;return{t:L.toISOString(),date:L,risk01:Dn(U.risk2y),ciLow01:U.ciLow==null?void 0:Dn(U.ciLow),ciHigh01:U.ciHigh==null?void 0:Dn(U.ciHigh),eventLabel:o(U.event??(U.source==="manual"?"REEVAL":void 0))}}).sort((U,P)=>U.date.getTime()-P.date.getTime());if($.length===0){const U=(()=>{const P=new Date(e.updatedAt);return Number.isNaN(P.getTime())?new Date:P})();return[{t:U.toISOString(),date:U,risk01:Dn(e.risk2y_now),ciLow01:void 0,ciHigh01:void 0,eventLabel:void 0}]}return $},[e.risk2y_now,e.series,e.updatedAt]),d=l[l.length-1],u=Dn(d?.risk01??e.risk2y_now),m=Gi(u),p=Np(u),h=e.trend==="UP"?.14:e.trend==="DOWN"?-.1:e.trend==="VOLATILE"?.08:.02,b=Dn(u+h),v=Gi(b),N=[6,12,18,24],y=N.map(($,U)=>{const P=new Date(d.date);P.setMonth(P.getMonth()+$);const G=(U+1)/N.length,L=Dn(u+(b-u)*G);return{t:P.toISOString(),date:P,riskPct:Gi(L),axisLabel:i(P.toISOString())}}),S=[...l.map(($,U)=>{const P=Gi($.risk01);return{t:$.t,axisLabel:i($.t),pointKind:"HIST",histRiskPct:P,forecastRiskPct:U===l.length-1?P:null,areaRiskPct:P,riskPct:P,ciLowPct:$.ciLow01==null?void 0:Gi($.ciLow01),ciHighPct:$.ciHigh01==null?void 0:Gi($.ciHigh01),eventLabel:$.eventLabel}}),...y.map($=>({t:$.t,axisLabel:$.axisLabel,pointKind:"FORECAST",histRiskPct:null,forecastRiskPct:$.riskPct,areaRiskPct:$.riskPct,riskPct:$.riskPct,ciLowPct:void 0,ciHighPct:void 0,eventLabel:void 0}))],w=g.useMemo(()=>{const $=new Map;return S.forEach((U,P)=>{const G=new Date(U.t);if(Number.isNaN(G.getTime())){$.set(U.t,U.axisLabel);return}const L=P===0||P===S.length-1,M=P>0?new Date(S[P-1].t):null,B=M?M.getFullYear()!==G.getFullYear():!1;$.set(U.t,i(U.t,L||B))}),$},[S]),_=S.some($=>$.ciLowPct!=null&&$.ciHighPct!=null),A=S.filter($=>$.pointKind==="HIST"&&!!$.eventLabel).slice(-3),E=S.filter($=>$.riskPct>=r),C=E[E.length-1],O=S[S.length-1],D=m>=r?{top:"#ef4444",bottom:"#ef4444"}:{top:"#2563eb",bottom:"#2563eb"},R=(()=>{if(l.length<4)return"      .";const $=l.slice(-4).map(M=>Gi(M.risk01)),U=$.slice(1).map((M,B)=>M-$[B]),P=U.filter(M=>M>0).length,G=U.filter(M=>M<0).length;return Math.max(...U.map(M=>Math.abs(M)))>=10?n?" 3  .  /   .":" 3  . /     .":P>=2?" 3    .":G>=2?" 3    .":"     ."})(),K=t==="COMPLETED"?n?" :   ":" :   ":t==="SCHEDULED"?n?" :  ":" :  ":t==="REFERRED"?" :  ":t==="RECOMMENDED"?n?" : / ":" :  ":n?" :   ":" :  ",H=({active:$,payload:U})=>{if(!$||!U||U.length===0)return null;const P=U[0]?.payload;return P?a.jsxs("div",{className:"rounded-md border border-slate-200 bg-white px-2 py-1.5 text-[10px] shadow-sm",children:[a.jsxs("p",{className:"font-semibold text-slate-800",children:[pt(P.t),"  ",P.pointKind==="FORECAST"?" (+2y)":"/"]}),a.jsxs("p",{className:"mt-0.5 text-slate-700",children:[n?" / ":"( )"," ",P.riskPct,"%"]}),P.ciLowPct!=null&&P.ciHighPct!=null?a.jsxs("p",{className:"text-slate-500",children:[" ",P.ciLowPct,"% ~ ",P.ciHighPct,"%"]}):null,P.eventLabel?a.jsxs("p",{className:"text-slate-500",children:[" ",P.eventLabel]}):null,P.riskPct>=r?a.jsx("p",{className:"text-red-600",children:n?`${r}%   `:`${r}%  `}):null]}):null};return a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-slate-50 px-2.5 py-2.5",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[a.jsxs("span",{className:"rounded-full border border-indigo-200 bg-indigo-50 px-2 py-0.5 text-[10px] font-semibold text-indigo-700",children:[n?" /":" "," ",m,"% (",p,")"]}),a.jsxs("span",{className:"rounded-full border border-sky-200 bg-sky-50 px-2 py-0.5 text-[10px] font-semibold text-sky-700",children:[n?" ":"2  "," ",v,"%"]}),a.jsxs("span",{className:"rounded-full border border-slate-200 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:[" ",e.trend]})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2.5 xl:grid-cols-[1fr_220px]",children:[a.jsx("div",{className:"h-56 w-full",children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(Uv,{data:S,margin:{top:8,right:24,left:0,bottom:6},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`risk-grad-${s}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:D.top,stopOpacity:.3}),a.jsx("stop",{offset:"100%",stopColor:D.bottom,stopOpacity:.04})]})}),a.jsx(Ha,{stroke:"#e5e7eb",strokeDasharray:"4 4"}),a.jsx($n,{dataKey:"t",tick:{fontSize:10,fill:"#64748b"},axisLine:!1,tickLine:!1,interval:"preserveStartEnd",minTickGap:16,tickMargin:8,tickFormatter:$=>w.get($)??i($,!0)}),a.jsx(_n,{domain:[0,100],ticks:[0,25,50,75,100],tickFormatter:$=>`${$}%`,tick:{fontSize:10,fill:"#64748b"},axisLine:!1,tickLine:!1,width:34}),a.jsx(qr,{content:a.jsx(H,{})}),a.jsx(Ko,{y:r,stroke:"#dc2626",strokeDasharray:"4 3"}),A.map(($,U)=>a.jsx(Ko,{x:$.t,stroke:"#94a3b8",strokeDasharray:"3 3"},`event-${$.t}-${U}`)),_?a.jsx(aa,{type:"monotone",dataKey:"ciLowPct",stroke:"#94a3b8",strokeDasharray:"4 4",strokeWidth:1,dot:!1,isAnimationActive:!1}):null,_?a.jsx(aa,{type:"monotone",dataKey:"ciHighPct",stroke:"#94a3b8",strokeDasharray:"4 4",strokeWidth:1,dot:!1,isAnimationActive:!1}):null,a.jsx(el,{type:"monotone",dataKey:"areaRiskPct",stroke:"none",fill:`url(#risk-grad-${s})`,isAnimationActive:!1}),a.jsx(aa,{type:"monotone",dataKey:"histRiskPct",stroke:"#334155",strokeWidth:2.2,isAnimationActive:!1,dot:$=>{if($.cx==null||$.cy==null||!$.payload||$.payload.histRiskPct==null)return null;const U=$.payload.riskPct>=r;return a.jsx("circle",{cx:$.cx,cy:$.cy,r:U?4:3,fill:U?"#dc2626":"#334155",stroke:"#ffffff",strokeWidth:1.2})},activeDot:{r:5}}),a.jsx(aa,{type:"monotone",dataKey:"forecastRiskPct",stroke:"#2563eb",strokeDasharray:"6 4",strokeWidth:2,connectNulls:!1,isAnimationActive:!1,dot:$=>{if($.cx==null||$.cy==null||!$.payload||$.payload.forecastRiskPct==null)return null;const U=$.payload.riskPct>=r;return a.jsx("circle",{cx:$.cx,cy:$.cy,r:U?4:3,fill:U?"#dc2626":"#2563eb",stroke:"#ffffff",strokeWidth:1.1})}}),O?a.jsx($0,{x:O.t,y:O.riskPct,r:5,fill:O.riskPct>=r?"#dc2626":"#2563eb",stroke:"#fff",strokeWidth:1.4,label:{value:`+2y ${O.riskPct}%`,position:"top",fill:"#1e293b",fontSize:10}}):null]})})}),a.jsxs("div",{className:"space-y-2 rounded-md border border-slate-200 bg-white p-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:K}),a.jsxs("p",{className:"text-[10px] text-slate-500",children:[" ",pt(e.updatedAt),"   ",e.modelVersion]}),C?a.jsxs("div",{className:"rounded border border-red-200 bg-red-50 px-2 py-1 text-[10px] text-red-700",children:[a.jsxs("p",{className:"font-semibold",children:[r,"%  "]}),a.jsxs("p",{children:[C.axisLabel,"  ",C.riskPct,"% ( )"]})]}):a.jsxs("div",{className:"rounded border border-emerald-200 bg-emerald-50 px-2 py-1 text-[10px] text-emerald-700",children:[a.jsxs("p",{className:"font-semibold",children:[r,"%   "]}),a.jsx("p",{children:"   ."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-700",children:" "}),A.length?A.map($=>a.jsxs("p",{className:"text-[10px] text-slate-600",children:[$.axisLabel,"  ",$.eventLabel]},`${$.t}-${$.eventLabel}`)):a.jsx("p",{className:"text-[10px] text-slate-500",children:"  "})]})]})]}),a.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:R}),a.jsx("p",{className:"mt-0.5 text-[10px] text-slate-500",children:n?" :   //   .":" :         ."})]})}const Nx={PRECHECK:["Stage1   Stage2   ","  4(/MMSE/CDRGDS/)   "," ( /  ) ","// "],CONTACT_EXECUTION:["MMSE  ","CDR  GDS  "," / "," /   "],RESPONSE_HANDLING:[" (/MCI/) ","   ( )","MCI  (//) ","    "],FOLLOW_UP:["/MCI/    1 "," (/)     ","    "]};function Sx({items:e}){return a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-indigo-900",children:"  "}),a.jsx("ul",{className:"mt-1 space-y-1 text-[11px] text-indigo-800",children:e.map(t=>a.jsxs("li",{children:[" ",t]},t))})]})}function Uje({scoreSummary:e,modelPriorityValue:t,modelPriorityMeta:r,contactPriority:n,interventionLevel:s,stage3Risk:i,stage3DiffPathStatus:o,stage3RiskReviewedAt:l,onStage3MarkRiskReviewed:d,mode:u="stage1",stage2OpsView:m=!1,stage2ResultLabel:p,stage2MciStage:h,stage2Probs:b,stage2DiagnosisStatus:v,stage2CompletionPct:N,stage2RequiredDataPct:y,stage2NextDiagnosisAt:S,stage2QualityScore:w,stage2WaitingCount:_,stage2ResultMissingCount:A,stage2ClassificationConfirmed:E}){const C=u==="stage2",O=u==="stage3",D=O&&m,R=h===""?82:h===""?34:58,K=Math.max(0,Math.min(100,t)),H=Math.max(1,100-K),$=K>=85?"":K>=65?"":K>=45?"":"",U=$===""?"text-red-600":$===""?"text-orange-600":$===""?"text-blue-600":"text-emerald-600",P=[{key:"",range:"0-44",tone:"border-emerald-300 bg-emerald-50 text-emerald-700",dot:"bg-emerald-500",guide:"/"},{key:"",range:"45-64",tone:"border-blue-300 bg-blue-50 text-blue-700",dot:"bg-blue-500",guide:"  "},{key:"",range:"65-84",tone:"border-orange-300 bg-orange-50 text-orange-700",dot:"bg-orange-500",guide:"  "},{key:"",range:"85-100",tone:"border-red-300 bg-red-50 text-red-700",dot:"bg-red-500",guide:"24  "}];if(O&&i){if(D){const L=[{label:" ",value:p==="MCI"?`${p}(${VSe(h)})`:p??"",hint:"  ( )"},{label:"2  ",value:WG(v),hint:"IN_PROGRESS / COMPLETED"},{label:" ",value:`${N??0}%`,hint:" 4 "},{label:" ",value:`${y??0}%`,hint:"  "},{label:"  ",value:pt(S),hint:"/ "},{label:" ",value:`${w??0}%`,hint:"/"}];return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Stage2   "}),a.jsx("span",{className:"rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-semibold text-slate-700",children:"  ( )"})]}),a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2 md:grid-cols-3 xl:grid-cols-6",children:L.map(M=>a.jsxs("article",{title:M.hint,className:"rounded-lg border border-slate-200 bg-gradient-to-b from-white to-slate-50 px-2.5 py-2 shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-500",children:M.label}),a.jsx("p",{className:"mt-1 text-xs font-bold text-slate-900",children:M.value})]},M.label))}),a.jsx("div",{className:"mt-4",children:a.jsx(zG,{probs:b,predictedLabel:p,mciSeverity:h,mciScore:R})}),a.jsx("div",{className:"mt-4 grid grid-cols-1 gap-2 md:grid-cols-2 xl:grid-cols-5",children:e.map(M=>a.jsxs("article",{className:"rounded-xl border border-gray-200 bg-gradient-to-b from-white to-slate-50 p-3 shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md",title:"Stage2  KPI",children:[a.jsx("p",{className:"text-[11px] font-semibold text-gray-500",children:M.label}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-900",children:[M.value,M.unit?a.jsx("span",{className:"ml-0.5 text-xs text-gray-400",children:M.unit}):null]}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",pt(M.updatedAt)]}),M.flags?.length?a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:M.flags.map(B=>a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-semibold text-amber-700",children:B},`${M.label}-${B}`))}):null]},M.label))}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-2 md:grid-cols-3",children:[a.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-700",children:"/  "}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-900",children:[_??0,""]}),a.jsx("p",{className:"text-[10px] text-slate-500",children:" /   "})]}),a.jsxs("article",{className:"rounded-xl border border-amber-200 bg-amber-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-amber-800",children:"   "}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-amber-900",children:[A??0,""]}),a.jsx("p",{className:"text-[10px] text-amber-700",children:" 4(MMSE/CDR//) "})]}),a.jsxs("article",{className:"rounded-xl border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-indigo-900",children:"  "}),a.jsx("p",{className:"mt-1 text-lg font-bold text-indigo-900",children:E?"CONFIRMED":"UNCONFIRMED"}),a.jsx("p",{className:"text-[10px] text-indigo-700",children:"     "})]})]})]})}const G=L=>{if(D){if(L.includes(" "))return"Stage2   . //  .";if(L.includes("/ "))return"/    .";if(L.includes("  "))return" /  .";if(L.includes("  "))return"/MCI/   .";if(L.includes(" "))return" //   ."}return L.includes(" ")?"2  AD     .    .":L.includes(" ")?"/    .   .":L.includes(" ")?"    . /    .":L.includes(" ")?"   . /   .":L.includes(" ")?"//    .":"  ."};return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[a.jsx("div",{children:a.jsxs("h3",{className:"group relative inline-flex items-center gap-1 text-sm font-bold text-slate-900",children:[D?"Stage2   ":"AD  (2)",a.jsx(zn,{size:13,className:"text-slate-400"}),a.jsx("span",{className:"pointer-events-none absolute left-0 top-[calc(100%+8px)] z-20 w-80 rounded-md border border-slate-200 bg-white px-2 py-1.5 text-[10px] font-medium text-slate-600 opacity-0 shadow-md transition-opacity duration-150 group-hover:opacity-100 group-focus-within:opacity-100",children:D?"Stage2  /    . //    .":"/     2  AD     .      ."})]})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{className:"group relative rounded-full border border-blue-200 bg-blue-50 px-2.5 py-1 text-[11px] font-semibold text-blue-700",children:[D?"  ":"2 "," ",Gi(i.risk2y_now),"%",a.jsx("span",{className:"pointer-events-none absolute left-0 top-[calc(100%+6px)] z-20 w-56 rounded-md border border-slate-200 bg-white px-2 py-1 text-[10px] font-medium text-slate-600 opacity-0 shadow-md transition-opacity duration-150 group-hover:opacity-100",children:D?"  :    ":":    "})]}),a.jsxs("span",{className:"group relative rounded-full border border-indigo-200 bg-indigo-50 px-2.5 py-1 text-[11px] font-semibold text-indigo-700",children:[D?" ":""," ",Np(i.risk2y_now),a.jsx("span",{className:"pointer-events-none absolute left-0 top-[calc(100%+6px)] z-20 w-52 rounded-md border border-slate-200 bg-white px-2 py-1 text-[10px] font-medium text-slate-600 opacity-0 shadow-md transition-opacity duration-150 group-hover:opacity-100",children:D?"     ":" /    "})]}),a.jsxs("span",{className:ue("group relative rounded-full border px-2.5 py-1 text-[11px] font-semibold",n.tone),children:[D?"  ":" "," ",n.label,a.jsx("span",{className:"pointer-events-none absolute left-0 top-[calc(100%+6px)] z-20 w-52 rounded-md border border-slate-200 bg-white px-2 py-1 text-[10px] font-medium text-slate-600 opacity-0 shadow-md transition-opacity duration-150 group-hover:opacity-100",children:D?"  : // ":" :      "})]})]})]}),a.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2 xl:grid-cols-5",children:e.map(L=>a.jsxs("article",{className:"group relative rounded-xl border border-gray-200 bg-gradient-to-b from-white to-slate-50 p-3 shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md",children:[a.jsx("p",{className:"text-[11px] font-semibold text-gray-500",children:L.label}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-900",children:[L.value,L.unit?a.jsx("span",{className:"ml-0.5 text-xs text-gray-400",children:L.unit}):null]}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",pt(L.updatedAt)]}),L.flags?.length?a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:L.flags.map(M=>a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-semibold text-amber-700",children:M},`${L.label}-${M}`))}):a.jsx("span",{className:"mt-1 inline-flex rounded bg-emerald-100 px-1.5 py-0.5 text-[10px] font-semibold text-emerald-700",children:""}),a.jsx("span",{className:"pointer-events-none absolute left-3 top-[calc(100%+6px)] z-20 w-56 rounded-md border border-slate-200 bg-white px-2 py-1 text-[10px] font-medium text-slate-600 opacity-0 shadow-md transition-opacity duration-150 group-hover:opacity-100",children:G(L.label)})]},L.label))}),a.jsxs("div",{className:"mt-4 rounded-xl border border-indigo-200 bg-indigo-50 p-3",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-indigo-900",children:D?" / ":"  ( + 2 )"}),a.jsxs("p",{className:"text-[11px] text-indigo-700",children:[D?" ":""," ",i.trend,"   ",pt(i.updatedAt),"   ",i.modelVersion]})]}),a.jsx("button",{type:"button",onClick:d,className:"rounded-md border border-indigo-300 bg-white px-2.5 py-1 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100",children:l?D?"   ":"   ":D?"   ":"   "})]}),a.jsx("div",{className:"mt-2",children:a.jsx(az,{risk:i,stageBadge:o,stage2OpsView:D})}),a.jsx("p",{className:"mt-2 text-[11px] text-indigo-700",children:D?i.variabilityNote??" : //    .":i.variabilityNote??" :     //  ."})]}),a.jsxs("details",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[a.jsx("summary",{className:"cursor-pointer text-[11px] font-semibold text-slate-800",children:" () "}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-4 xl:grid-cols-[210px,1fr]",children:[a.jsxs("div",{className:"rounded-lg border border-white bg-white px-3 py-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-gray-500",children:"   /  "}),a.jsxs("p",{className:ue("mt-1 text-3xl font-black",U),children:[K," ",a.jsxs("span",{className:"text-lg font-bold text-slate-600",children:["/ ",s]})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsx("span",{className:ue("rounded-full border px-2 py-0.5 text-[10px] font-semibold",r.tone),children:$}),a.jsxs("span",{className:"text-[10px] font-semibold text-gray-500",children:[" ",H,"% "]})]})]}),a.jsx("div",{className:"rounded-lg border border-white bg-white px-3 py-3",children:a.jsx("div",{className:"grid grid-cols-2 gap-2 lg:grid-cols-4",children:P.map(L=>{const M=L.key===$;return a.jsxs("div",{className:ue("rounded-lg border px-2 py-2 transition-colors",M?L.tone:"border-gray-200 bg-gray-50 text-gray-500"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[11px] font-bold",children:L.key}),a.jsx("span",{className:ue("h-2 w-2 rounded-full",M?L.dot:"bg-gray-300")})]}),a.jsx("p",{className:"mt-0.5 text-[10px] font-semibold",children:L.range}),a.jsx("p",{className:"mt-1 text-[10px]",children:L.guide})]},L.key)})})})]})]})]})}return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:C?"2   ":"1  "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:ue("rounded-full border px-2.5 py-1 text-[11px] font-semibold",n.tone),children:[C?" ":" "," ",n.label]}),a.jsxs("span",{className:ue("rounded-full border px-2.5 py-1 text-[11px] font-semibold",r.tone),children:[C?"  ":"  "," ",r.label," ",t]})]})]}),a.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2 xl:grid-cols-4",children:e.map(G=>a.jsxs("article",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-gray-500",children:G.label}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-900",children:[G.value,G.unit?a.jsx("span",{className:"ml-0.5 text-xs text-gray-400",children:G.unit}):null]}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",pt(G.updatedAt)]})]},G.label))}),a.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-[11px] text-slate-700",children:[a.jsxs("span",{className:"relative inline-flex items-center gap-1 font-semibold group",children:[C?"   Bullet Chart":"  Bullet Chart",a.jsx(zn,{size:13,className:"text-slate-400"}),a.jsxs("span",{className:"pointer-events-none absolute left-0 top-[calc(100%+8px)] z-30 w-64 rounded-lg border border-slate-200 bg-white p-2 text-[11px] text-slate-600 opacity-0 shadow-md transition-opacity duration-150 group-hover:opacity-100 group-focus-within:opacity-100",children:[a.jsx("span",{className:"block font-semibold text-slate-900",children:"  "}),a.jsx("span",{className:"mt-1 block",children:"- //   ."}),a.jsx("span",{className:"block",children:"-     ."}),a.jsx("span",{className:"block",children:"-  (///)   ."})]})]}),a.jsx("span",{children:r.guide})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-4 xl:grid-cols-[210px,1fr]",children:[a.jsxs("div",{className:"rounded-lg border border-white bg-white px-3 py-2",children:[a.jsx("p",{className:"text-[10px] font-semibold text-gray-500",children:"   /  "}),a.jsxs("p",{className:ue("mt-1 text-3xl font-black",U),children:[K," ",a.jsxs("span",{className:"text-lg font-bold text-slate-600",children:["/ ",s]})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsx("span",{className:ue("rounded-full border px-2 py-0.5 text-[10px] font-semibold",r.tone),children:$}),a.jsxs("span",{className:"text-[10px] font-semibold text-gray-500",children:[" ",H,"% "]})]})]}),a.jsxs("div",{className:"rounded-lg border border-white bg-white px-3 py-3",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2 lg:grid-cols-4",children:P.map(G=>{const L=G.key===$;return a.jsxs("div",{className:ue("rounded-lg border px-2 py-2 transition-colors",L?G.tone:"border-gray-200 bg-gray-50 text-gray-500"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[11px] font-bold",children:G.key}),a.jsx("span",{className:ue("h-2 w-2 rounded-full",L?G.dot:"bg-gray-300")})]}),a.jsx("p",{className:"mt-0.5 text-[10px] font-semibold",children:G.range}),a.jsx("p",{className:"mt-1 text-[10px]",children:G.guide})]},G.key)})}),a.jsxs("div",{className:"mt-2 rounded-md border border-gray-100 bg-gray-50 px-2 py-1.5 text-[11px] text-gray-600",children:[" : ",a.jsx("span",{className:ue("font-bold",U),children:$}),"   ",K," / ",s]})]})]})]})]})}function zE({timeline:e,filter:t,onFilterChange:r,listClassName:n,mode:s="stage1",stage2OpsView:i=!1}){const o=s==="stage3",l=o&&i;return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Gn,{size:15,className:"text-slate-500"}),l?"// ":o?"/// ":"// "]}),a.jsx("div",{className:"flex items-center gap-1 rounded-lg border border-gray-200 bg-gray-50 p-1 text-[11px] font-semibold",children:[{key:"ALL",label:""},{key:"CALL",label:""},{key:"SMS",label:""},{key:"STATUS",label:""}].map(d=>a.jsx("button",{onClick:()=>r(d.key),className:ue("rounded-md px-2 py-1 transition-colors",t===d.key?"bg-white text-slate-900 shadow-sm":"text-gray-500 hover:bg-white"),children:d.label},d.key))})]}),a.jsx("div",{className:ue("mt-3 space-y-2",n),children:e.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:l?"    //    .":o?"           .":"   ."}):e.map((d,u)=>a.jsxs("div",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-800",children:VG(d)}),a.jsx("span",{className:"text-[11px] text-gray-500",children:pt(d.at)})]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:YG(d)}),a.jsxs("p",{className:"mt-1 text-[10px] text-gray-400",children:[": ",d.by]})]},`${d.type}-${d.at}-${u}`))}),a.jsx("p",{className:"mt-3 text-[11px] text-gray-500",children:l?"    : //     .":o?"    : ///       ":"    :  3    "})]})}function KE({level:e,statusLabel:t,guides:r,onChangeLevel:n,onHold:s,onExclude:i,mode:o="stage1"}){const l=o==="stage3";return a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Ff,{size:15,className:"text-slate-500"}),l?"  ( )":"  ( )"]}),a.jsx("div",{className:"mt-3 space-y-2",children:r.map(d=>a.jsxs("button",{onClick:()=>n(d.level),title:`${d.purpose} /  : ${d.whenToUse}`,className:ue("w-full rounded-lg border px-3 py-2 text-left transition-colors",d.level===e?d.tone:"border-gray-200 bg-gray-50 hover:bg-gray-100"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs font-semibold",children:[d.level,"  ",d.label]}),d.level===e?a.jsx(ws,{size:13}):null]}),a.jsx("p",{className:"mt-1 text-[11px] text-gray-600",children:d.purpose})]},d.level))}),a.jsx("div",{className:"mt-3 rounded-md border border-gray-100 bg-gray-50 p-2",children:a.jsxs("p",{className:"text-[11px] text-gray-600",children:[" : ",a.jsx("strong",{children:t})]})}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:s,className:"inline-flex items-center justify-center gap-1 rounded-md border border-orange-200 bg-orange-50 px-2 py-1.5 text-[11px] font-semibold text-orange-700",children:[a.jsx(tY,{size:12})," "]}),a.jsxs("button",{onClick:i,className:"inline-flex items-center justify-center gap-1 rounded-md border border-red-200 bg-red-50 px-2 py-1.5 text-[11px] font-semibold text-red-700",children:[a.jsx(SV,{size:12}),"  "]})]})]})}function Hje({draft:e,onClose:t,onChangeReason:r,onConfirm:n}){return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/35 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white p-4 shadow-2xl",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:e.title}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"     ."}),a.jsx("textarea",{value:e.reason,onChange:s=>r(s.target.value),className:"mt-3 h-24 w-full rounded-lg border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400",placeholder:"  "}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{onClick:t,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700",children:""}),a.jsx("button",{onClick:n,disabled:!e.reason.trim(),className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:e.confirmLabel})]})]})}):null}function Gje({draft:e,loading:t,onClose:r,onChangeResult:n,onChangeNote:s,onConfirm:i}){if(!e)return null;const o=[{value:"SUCCESS",label:" "},{value:"NO_ANSWER",label:""},{value:"REJECTED",label:""},{value:"WRONG_NUMBER",label:" "}],l=[{value:"DELIVERED",label:" "},{value:"FAILED",label:" "},{value:"PENDING",label:" "}];return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/35 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white p-4 shadow-2xl",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:e.title}),e.mode==="CALL"?a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" : ",String(Math.floor(e.durationSec/60)).padStart(2,"0"),":",String(e.durationSec%60).padStart(2,"0")]}):a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e.scheduled?"   ":"   "}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("select",{value:e.result,onChange:d=>n(d.target.value),className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-2 py-2 text-xs outline-none focus:border-blue-400",children:(e.mode==="CALL"?o:l).map(d=>a.jsx("option",{value:d.value,children:d.label},d.value))})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-[11px] font-semibold text-gray-600",children:""}),a.jsx("textarea",{value:e.note,onChange:d=>s(d.target.value),className:"mt-1 h-20 w-full rounded-md border border-gray-200 px-2 py-1.5 text-xs outline-none focus:border-blue-400",placeholder:"  "})]}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{onClick:r,disabled:t,className:"rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 disabled:opacity-50",children:""}),a.jsx("button",{onClick:i,disabled:t,className:"rounded-md bg-[#163b6f] px-3 py-1.5 text-xs font-semibold text-white disabled:bg-gray-300",children:t?" ...":""})]})]})})}function pi(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function zje(e){return e?e.contactMode==="MANUAL_OVERRIDE"?`  (${e.effectiveMode==="HUMAN_FIRST"?" ":" "})`:e.effectiveMode==="HUMAN_FIRST"?" ":" ":"-"}function Kje(e){return e?e.slaLevel==="OVERDUE"?"":e.slaLevel==="DUE_SOON"?"":"":"-"}function a7(e){return e?.status??""}function qje(e){return e?e==="TRACKING"?"":e==="REEVAL_DUE"?" ":e==="REEVAL_PENDING"?" ":e==="LINKAGE_PENDING"?" ":e==="PLAN_NEEDS_UPDATE"?"  ":e==="CHURN_RISK"?" ":"":"-"}function Wje(e){return e?e==="NONE"?"":e==="RECOMMENDED"?"":e==="REFERRED"?"":e==="SCHEDULED"?"":e==="COMPLETED"?"":e:"-"}function Vje(e){return e?e==="TRACKING"?"":e==="REEVAL_DUE"?"":e==="REEVAL_PENDING"?"":e==="LINKAGE_PENDING"?"":e==="PLAN_NEEDS_UPDATE"?"":e==="CHURN_RISK"?"()":"":"-"}function qE(e){return e?e==="NOT_STARTED"?"":e==="IN_PROGRESS"?"":e==="COMPLETED"?"":e:"-"}function sz({caseId:e,stage:t,onBack:r,forceMode:n}){const s=g.useMemo(()=>Kv(e),[e]),[i,o]=g.useState(null),l=t==="Stage 2",d=n??(l?"stage2":"stage3"),u=d==="stage3",m=l&&u,p=s?.profile.phone??"-",h=s?.profile.name??" ",b=s?.profile.age,v=u?h:e,N=s?u?` ${h}   ${b??"-"}   ${p}`:` ${N0(s.profile.age)}   ${l?p:Mo(s.profile.phone)}   ${s.id}`:u?"/  ":` ${e}`;return a.jsxs("div",{className:"flex h-full flex-col bg-[#f4f7fb]",children:[a.jsxs("div",{className:"sticky top-0 z-20 border-b border-slate-200 bg-white/95 px-6 py-4 shadow-sm backdrop-blur",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:r,className:"rounded-full border border-slate-200 bg-white p-2 transition-colors hover:bg-slate-50",children:a.jsx(Pf,{size:20})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:v}),a.jsx("span",{className:"rounded border border-blue-200 bg-blue-50 px-3.5 py-1.5 text-sm font-bold text-blue-700",children:t})]}),a.jsxs("p",{className:"mt-0.5 flex items-center gap-2 text-xs text-gray-500",children:[a.jsxs("span",{className:"font-bold text-gray-700",children:[": ",s?.manager??" "]}),a.jsx("span",{className:"h-2 w-px bg-gray-200"}),a.jsxs("span",{children:[" :"," ",a.jsx("span",{className:"font-bold text-blue-700",children:m?Vje(i?.stage3Meta?.opsStatus):u?i?.stage3Meta?qje(i.stage3Meta.opsStatus):a7(s):l?qE(i?.stage2Meta?.diagnosisStatus):a7(s)})]}),a.jsx("span",{className:"h-2 w-px bg-gray-200"}),a.jsx("span",{className:"text-gray-600",children:N})]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-xs font-bold text-slate-700 hover:bg-slate-50",children:[a.jsx(zy,{size:14}),"   "]})})]}),i?a.jsx("div",{className:"mt-3 rounded-xl border border-slate-700 bg-gradient-to-r from-slate-900 to-slate-800 px-3 py-2 text-white",children:m&&i.stage2Meta?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold",children:[a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"/MCI/   .",children:["  ",i.stage2Meta.classificationLabel,i.stage2Meta.classificationLabel==="MCI"&&i.stage2Meta.mciStage?`(${i.stage2Meta.mciStage===""?"":i.stage2Meta.mciStage})`:""]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"Stage2   .",children:["2   ",qE(i.stage2Meta.diagnosisStatus)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:" 4    .",children:["  ",i.stage2Meta.completionPct,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"     .",children:["  ",i.stage2Meta.requiredDataPct,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"      .",children:["   ",pi(i.stage2Meta.targetAt)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"     .",children:["  ",i.qualityScore,"%   ",i.missingCount,""]})]}),a.jsx("p",{className:"mt-1 text-[11px] text-slate-200",children:" :  /    //     ."}),a.jsxs("details",{className:"mt-1 text-[10px] text-slate-300",children:[a.jsx("summary",{className:"cursor-pointer",children:""}),a.jsxs("p",{className:"mt-1",children:["Stage2  ",pi(i.stage2Meta.enteredAt),"    ",pi(i.stage2Meta.targetAt),"   ",i.stage2Meta.delayDays,"    ",i.stage2Meta.nextActionLabel,"    ",pi(i.lastUpdatedAt)]})]})]}):u&&i.stage3Meta?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold",children:[a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"2  AD     .",children:["2  ",i.stage3Meta.risk2yNowPct,"% (",i.stage3Meta.risk2yLabel,")"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"  .",children:["  ",pi(i.stage3Meta.nextReevalAt)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"/  .",children:[" ",Wje(i.stage3Meta.diffPathStatus)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"  .",children:[" ",i.stage3Meta.planStatus]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:"   .",children:["  ",i.stage3Meta.churnRisk]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",title:" / .",children:[" ",i.qualityScore,"%   ",i.missingCount,""]})]}),a.jsx("p",{className:"mt-1 text-[11px] text-slate-200",children:" :     //     ."}),a.jsxs("details",{className:"mt-1 text-[10px] text-slate-300",children:[a.jsx("summary",{className:"cursor-pointer",children:""}),a.jsxs("p",{className:"mt-1",children:["  ",pi(i.lastUpdatedAt),"    ",pi(i.stage3Meta.riskUpdatedAt),"   ",i.stage3Meta.trend,"   ",i.stage3Meta.modelVersion,"   ",i.stage3Meta.trackingCycleDays,"    ",pi(i.stage3Meta.nextTrackingContactAt)]})]})]}):l&&i.stage2Meta?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold",children:[a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["Stage2   ",qE(i.stage2Meta.diagnosisStatus)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",i.stage2Meta.completedCount,"/4 (",i.stage2Meta.completionPct,"%)"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",i.stage2Meta.classificationLabel,i.stage2Meta.classificationLabel==="MCI"&&i.stage2Meta.mciStage?`(${i.stage2Meta.mciStage})`:""]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["MCI  ",i.stage2Meta.mciStage??"-"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["Stage3   ",i.stage2Meta.stage3EntryNeeded?"TRUE":"FALSE"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",i.qualityScore,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",i.missingCount,""]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",pi(i.lastUpdatedAt)]})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-200",children:["Stage2  ",pi(i.stage2Meta.enteredAt),"    ",pi(i.stage2Meta.targetAt),"   ",i.stage2Meta.delayDays,"    ",i.stage2Meta.nextActionLabel]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold",children:[a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[l?"/ ":" "," ",zje(i)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["SLA ",Kje(i)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[l?" ":" "," ",i.qualityScore,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",i.missingCount,""]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[l?" ":""," ",i.warningCount,""]})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-200",children:["  ",pi(i.lastUpdatedAt),"   : ",l?"//     .":"        ."]})]})}):null]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:a.jsx(nz,{caseRecord:s,onHeaderSummaryChange:o,mode:d,surfaceStage:t})})]})}function iz({caseId:e,onBack:t}){return a.jsx(sz,{caseId:e,stage:"Stage 2",forceMode:"stage3",onBack:t})}function oz({caseId:e,onBack:t}){return a.jsx(sz,{caseId:e,stage:"Stage 3",onBack:t})}function Yje(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function Xje(e){return e?e.contactMode==="MANUAL_OVERRIDE"?`  (${e.effectiveMode==="HUMAN_FIRST"?" ":" "})`:e.effectiveMode==="HUMAN_FIRST"?" ":" ":"-"}function Qje(e){return e?e.slaLevel==="OVERDUE"?"":e.slaLevel==="DUE_SOON"?"":"":"-"}function Zje({caseId:e,stage:t,onBack:r}){const n=g.useMemo(()=>Kv(e),[e]),[s,i]=g.useState(null),o=t==="Stage 1",l=o&&n?` ${N0(n.profile.age)}   ${Mo(n.profile.phone)}   ${n.id}`:null;return t==="Stage 2"?a.jsx(iz,{caseId:e,onBack:r}):t==="Stage 3"?a.jsx(oz,{caseId:e,onBack:r}):a.jsxs("div",{className:"flex h-full flex-col bg-[#f4f7fb]",children:[a.jsxs("div",{className:"sticky top-0 z-20 border-b border-slate-200 bg-white/95 px-6 py-4 shadow-sm backdrop-blur",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:r,className:"rounded-full border border-slate-200 bg-white p-2 transition-colors hover:bg-slate-50",children:a.jsx(Pf,{size:20})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e}),a.jsx("span",{className:"rounded border border-blue-200 bg-blue-50 px-3.5 py-1.5 text-sm font-bold text-blue-700",children:t})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 flex items-center gap-2",children:[a.jsxs("span",{className:"font-bold text-gray-700",children:[": ",n?.manager??" "]}),a.jsx("span",{className:"w-px h-2 bg-gray-200"}),a.jsxs("span",{children:[" : ",a.jsx("span",{className:"font-bold text-blue-700",children:n?.status??""})]}),l?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"w-px h-2 bg-gray-200"}),a.jsx("span",{className:"text-gray-600",children:l})]}):null]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-xs font-bold text-slate-700 hover:bg-slate-50",children:[a.jsx(zy,{size:14}),"   "]}),a.jsxs("button",{className:"flex items-center gap-2 rounded-lg bg-[#15386a] px-4 py-2 text-xs font-bold text-white shadow-sm transition-all hover:shadow-md",children:["  1  ",a.jsx(Df,{size:14})]})]})]}),o&&s?a.jsxs("div",{className:"mt-3 rounded-xl border border-slate-700 bg-gradient-to-r from-slate-900 to-slate-800 px-3 py-2 text-white",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold",children:[a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",Xje(s)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["SLA ",Qje(s)]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:["  ",s.qualityScore,"%"]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.missingCount,""]}),a.jsxs("span",{className:"rounded-md bg-white/15 px-2 py-1",children:[" ",s.warningCount,""]})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-200",children:["  ",Yje(s.lastUpdatedAt),"   :         ."]})]}):null]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:o?a.jsx(a.Fragment,{children:a.jsx(nz,{caseRecord:n,onHeaderSummaryChange:i})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(nY,{size:16,className:"text-gray-500"})," "]}),a.jsx("span",{className:"text-[10px] font-semibold text-gray-500 bg-gray-100 px-2 py-1 rounded",children:t==="Stage 1"?"Stage 1: ID  ":"Stage 2+:   "})]}),n?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-xs",children:[a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:" "}),a.jsx("p",{className:"mt-1 font-bold text-gray-800",children:t==="Stage 1"?n.id:`${DNe(n.profile.name)} (${n.id})`})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:""}),a.jsx("p",{className:"mt-1 font-bold text-gray-800",children:t==="Stage 1"?N0(n.profile.age):`${n.profile.age}`})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 px-3 py-2",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:""}),a.jsx("p",{className:"mt-1 font-bold text-gray-800",children:Mo(n.profile.phone)}),t==="Stage 1"&&n.profile.guardianPhone&&a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[": ",Mo(n.profile.guardianPhone)]})]})]}):a.jsx("p",{className:"text-xs text-gray-500",children:"       ."})]}),t==="Stage 2"&&a.jsx(Jje,{}),t==="Stage 3"&&a.jsx(ewe,{}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-100",children:[a.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Gn,{size:16,className:"text-gray-400"}),"    "]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded flex items-center gap-1",children:[a.jsx(Wo,{size:10}),"   "]}),a.jsx("button",{className:"text-[10px] font-bold text-gray-400 hover:text-gray-600",children:" "})]})]}),a.jsx("div",{className:"space-y-3",children:[{time:"2026-02-11 11:20",user:"",action:"  ",reason:"   (  15% )",logId:"LOG-9921"},{time:"2026-02-10 14:45",user:"",action:"  ",reason:"    ",logId:"LOG-8842"},{time:"2026-02-09 10:00",user:"System",action:"Stage ",reason:"2       ",logId:"LOG-7710"}].map((d,u)=>a.jsxs("div",{className:"flex gap-4 text-xs group",children:[a.jsx("div",{className:"w-32 shrink-0 font-mono text-gray-400",children:d.time}),a.jsx("div",{className:"shrink-0 font-bold text-gray-700 w-20",children:d.user}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("span",{className:"font-bold text-[#163b6f]",children:[d.action,": "]}),a.jsx("span",{className:"text-gray-600",children:d.reason})]}),a.jsxs("div",{className:"shrink-0 font-mono text-[10px] text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity",children:["#",d.logId]})]},u))})]})]})})]})}function Jje(){const[e,t]=g.useState(!1),r=()=>{t(!0),Le.info("      .",{description:": ,  : 2026-02-11 11:50"})};return a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-12",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm px-6 py-4 flex items-center justify-between border-l-8 border-[#163b6f]",children:[a.jsxs("div",{className:"flex items-center gap-12",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("span",{className:"text-xl font-bold text-[#163b6f]",children:"  "})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("span",{className:"text-sm font-bold text-orange-600",children:"2   ()"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:"   "})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:a.jsx(as,{size:16})}),a.jsx("button",{className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:a.jsx(Wi,{size:16})})]})]})}),a.jsxs("div",{className:"col-span-8 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsx("h3",{className:"font-bold text-gray-800 mb-6",children:"  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-white border border-gray-200 flex items-center justify-center font-bold text-[#163b6f] shadow-sm text-lg",children:"1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:"1   (CIST)"}),a.jsx("p",{className:"text-[11px] text-gray-500",children:"2026-01-15  |  "})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl font-bold text-orange-600",children:"18 / 30"}),a.jsx("p",{className:"text-[10px] text-gray-400",children:": "})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#163b6f]/5 rounded-xl border border-[#163b6f]/20 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-[#163b6f] flex items-center justify-center font-bold text-white shadow-lg text-lg",children:"2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-[#163b6f]",children:"2   (SNSB)"}),a.jsx("p",{className:"text-[11px] text-gray-500",children:"2026-02-10  |   "})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl font-bold text-[#163b6f]",children:"-2.1 SD"}),a.jsx("p",{className:"text-[10px] text-red-600 font-bold",children:" 1 ( )"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-100/80 px-6 py-3 border-b border-gray-200 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xs font-bold text-gray-600 uppercase flex items-center gap-2",children:[a.jsx(zc,{size:14,className:"text-orange-500"}),"   (  )"]}),!e&&a.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1 bg-white border border-[#163b6f] rounded text-[10px] font-bold text-[#163b6f] hover:bg-blue-50 transition-colors shadow-sm",children:[a.jsx(If,{size:12}),"   "]})]}),a.jsx("div",{className:"p-8 min-h-[140px] flex items-center justify-center bg-gray-50/30",children:e?a.jsxs("div",{className:"w-full grid grid-cols-2 gap-6 animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-5 border border-red-200 bg-red-50/50 rounded-2xl text-center shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 mb-1 uppercase",children:"  "}),a.jsx("p",{className:"text-2xl font-bold text-red-700",children:"MCI (High)"})]}),a.jsxs("div",{className:"p-5 border border-blue-200 bg-blue-50/50 rounded-2xl text-center shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 mb-1 uppercase",children:"    "}),a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:"82%"})]})]}):a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(zc,{size:24,className:"text-gray-300"}),a.jsx("p",{className:"text-sm text-gray-400 italic",children:"     ."})]})})]})]}),a.jsx("div",{className:"col-span-4 space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2",children:[a.jsx(Df,{size:18,className:"text-[#163b6f]"}),"   "]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[10px] font-bold text-[#163b6f] uppercase border-l-2 border-[#163b6f] pl-2",children:"  "}),a.jsxs("button",{className:"w-full py-3 bg-[#163b6f] text-white text-xs font-bold rounded-xl hover:bg-[#0f2a50] flex items-center justify-center gap-2 shadow-md",children:[a.jsx(Zd,{size:16}),"    "]}),a.jsx("button",{className:"w-full py-2 border border-gray-200 text-gray-700 text-xs font-bold rounded-lg hover:bg-gray-50",children:"   "})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase border-l-2 border-gray-200 pl-2",children:"MCI  "}),a.jsx("button",{className:"w-full py-2 border border-gray-200 text-gray-700 text-xs font-bold rounded-lg hover:bg-gray-50",children:"   (CRF)"}),a.jsx("button",{className:"w-full py-2 border border-gray-200 text-gray-700 text-xs font-bold rounded-lg hover:bg-gray-50",children:"/  "})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase border-l-2 border-gray-200 pl-2",children:"  "}),a.jsx("button",{className:"w-full py-2 border border-gray-200 text-gray-400 text-xs font-bold rounded-lg cursor-not-allowed",disabled:!0,children:"  ( )"})]})]})]})}),a.jsx("div",{className:"col-span-12",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 overflow-x-auto",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-8 flex items-center gap-2",children:[a.jsx(Gn,{size:16})," --- "]}),a.jsx("div",{className:"flex items-center min-w-[800px]",children:[{step:"",date:"01-15",status:"",color:"bg-emerald-500"},{step:"2",date:"02-10",status:"",color:"bg-emerald-500"},{step:"",date:"",status:"",color:"bg-orange-500"},{step:"",date:"",status:"",color:"bg-gray-200"},{step:"/",date:"",status:"",color:"bg-gray-200"}].map((n,s,i)=>a.jsxs(q.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[a.jsx("div",{className:ue("w-10 h-10 rounded-full flex items-center justify-center text-white shadow-lg",n.color),children:n.status===""?a.jsx(ws,{size:20}):a.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),a.jsx("p",{className:"text-[11px] font-bold text-gray-900 mt-2",children:n.step}),a.jsx("p",{className:"text-[10px] text-gray-400",children:n.date})]}),s<i.length-1&&a.jsx("div",{className:ue("flex-1 h-1 mx-2",n.status===""&&i[s+1].status===""?"bg-emerald-500":"bg-gray-100")})]},s))})]})})]})}function ewe(){const e=[{name:"24-Q3",score:85,trigger:!1},{name:"24-Q4",score:82,trigger:!1},{name:"25-Q1",score:75,trigger:!0},{name:"25-Q2",score:72,trigger:!0},{name:"26-Q1",score:68,trigger:!0}];return a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-12",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm px-6 py-4 flex items-center justify-between border-l-8 border-red-600",children:[a.jsxs("div",{className:"flex items-center gap-12",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"  "}),a.jsx("span",{className:"text-xl font-bold text-red-600",children:"  (Danger Zone)"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("span",{className:"text-sm font-bold text-[#163b6f]",children:"3  ()"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-bold text-red-600",children:"  "})]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-100 px-2 py-1 rounded",children:" : 95%"})})]})}),a.jsxs("div",{className:"col-span-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"2  ()"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:"-2.4 SD"}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"  15% "})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"MRI "}),a.jsx("p",{className:"text-sm font-bold text-orange-600",children:"  "}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"MTA Scale 3"})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"33%"}),a.jsx("p",{className:"text-[10px] text-red-600 font-bold mt-1",children:"3  "})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"font-bold text-gray-800",children:"  "}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-500",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-600"}),"  "]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-500",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-200"}),"  "]})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(Uv,{data:e,children:[a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx($n,{dataKey:"name",fontSize:10,axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),a.jsx(_n,{fontSize:10,axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),a.jsx(qr,{}),a.jsx(aa,{type:"monotone",dataKey:"score",stroke:"#dc2626",strokeWidth:3,dot:{r:4,fill:"#dc2626"}}),a.jsx(aa,{type:"monotone",dataKey:"threshold",stroke:"#e2e8f0",strokeDasharray:"5 5",dot:!1,strokeWidth:2})]})})})]})]}),a.jsxs("div",{className:"col-span-4 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2 text-sm",children:[a.jsx(Ka,{size:16,className:"text-red-600"}),"   "]}),a.jsx("div",{className:"space-y-4",children:[{label:"  (10% )",value:"15% ",status:"",color:"text-red-600 bg-red-50"},{label:"  (2 )",value:"1 ",status:"",color:"text-gray-400 bg-gray-50"},{label:"  (3 )",value:"4 ",status:"",color:"text-red-600 bg-red-50"}].map((t,r)=>a.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-gray-50 pb-3 last:border-0 last:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-gray-700",children:t.label}),a.jsx("span",{className:ue("text-[9px] font-bold px-1.5 py-0.5 rounded",t.color),children:t.status})]}),a.jsxs("p",{className:"text-[10px] text-gray-500",children:[" : ",t.value]})]},r))})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[a.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{className:"w-full py-3 bg-red-600 text-white text-xs font-bold rounded-xl flex flex-col items-center gap-1 shadow-lg hover:bg-red-700 transition-all",children:[a.jsx(Wi,{size:18}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{className:"py-2.5 border border-gray-200 rounded-lg text-[10px] font-bold text-gray-700 hover:bg-gray-50",children:"  "}),a.jsx("button",{className:"py-2.5 border border-gray-200 rounded-lg text-[10px] font-bold text-gray-700 hover:bg-gray-50",children:"/ "})]}),a.jsx("button",{className:"w-full py-2.5 border-2 border-orange-500 text-orange-600 text-[10px] font-bold rounded-lg hover:bg-orange-50",children:"  "})]})]})]}),a.jsx("div",{className:"col-span-12",children:a.jsx("div",{className:"bg-red-50 border border-red-100 rounded-xl p-3 text-[10px] text-red-700 font-bold italic text-center",children:"*       : 26-Q1            (  )"})})]})}function s7(e){const t=twe(e),r=g.forwardRef((n,s)=>{const{children:i,...o}=n,l=g.Children.toArray(i),d=l.find(nwe);if(d){const u=d.props.children,m=l.map(p=>p===d?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,m):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function twe(e){const t=g.forwardRef((r,n)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const o=swe(s),l=awe(i,s.props);return s.type!==g.Fragment&&(l.ref=n?uu(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rwe=Symbol("radix.slottable");function nwe(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rwe}function awe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function swe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function lz(e){const t=e+"CollectionProvider",[r,n]=Ai(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=N=>{const{scope:y,children:S}=N,w=q.useRef(null),_=q.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:_,collectionRef:w,children:S})};o.displayName=t;const l=e+"CollectionSlot",d=s7(l),u=q.forwardRef((N,y)=>{const{scope:S,children:w}=N,_=i(l,S),A=yr(y,_.collectionRef);return a.jsx(d,{ref:A,children:w})});u.displayName=l;const m=e+"CollectionItemSlot",p="data-radix-collection-item",h=s7(m),b=q.forwardRef((N,y)=>{const{scope:S,children:w,..._}=N,A=q.useRef(null),E=yr(y,A),C=i(m,S);return q.useEffect(()=>(C.itemMap.set(A,{ref:A,..._}),()=>void C.itemMap.delete(A))),a.jsx(h,{[p]:"",ref:E,children:w})});b.displayName=m;function v(N){const y=i(e+"CollectionConsumer",N);return q.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(y.itemMap.values()).sort((C,O)=>_.indexOf(C.ref.current)-_.indexOf(O.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:b},v,n]}const iwe=["top","right","bottom","left"],Zc=Math.min,Fs=Math.max,Iy=Math.round,jx=Math.floor,qo=e=>({x:e,y:e}),owe={left:"right",right:"left",bottom:"top",top:"bottom"},lwe={start:"end",end:"start"};function YC(e,t,r){return Fs(e,Zc(t,r))}function zl(e,t){return typeof e=="function"?e(t):e}function Kl(e){return e.split("-")[0]}function zp(e){return e.split("-")[1]}function S3(e){return e==="x"?"y":"x"}function j3(e){return e==="y"?"height":"width"}const cwe=new Set(["top","bottom"]);function Lo(e){return cwe.has(Kl(e))?"y":"x"}function w3(e){return S3(Lo(e))}function dwe(e,t,r){r===void 0&&(r=!1);const n=zp(e),s=w3(e),i=j3(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ly(o)),[o,Ly(o)]}function uwe(e){const t=Ly(e);return[XC(e),t,XC(t)]}function XC(e){return e.replace(/start|end/g,t=>lwe[t])}const i7=["left","right"],o7=["right","left"],fwe=["top","bottom"],pwe=["bottom","top"];function mwe(e,t,r){switch(e){case"top":case"bottom":return r?t?o7:i7:t?i7:o7;case"left":case"right":return t?fwe:pwe;default:return[]}}function hwe(e,t,r,n){const s=zp(e);let i=mwe(Kl(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(XC)))),i}function Ly(e){return e.replace(/left|right|bottom|top/g,t=>owe[t])}function gwe(e){return{top:0,right:0,bottom:0,left:0,...e}}function cz(e){return typeof e!="number"?gwe(e):{top:e,right:e,bottom:e,left:e}}function $y(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function l7(e,t,r){let{reference:n,floating:s}=e;const i=Lo(t),o=w3(t),l=j3(o),d=Kl(t),u=i==="y",m=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let b;switch(d){case"top":b={x:m,y:n.y-s.height};break;case"bottom":b={x:m,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:p};break;case"left":b={x:n.x-s.width,y:p};break;default:b={x:n.x,y:n.y}}switch(zp(t)){case"start":b[o]-=h*(r&&u?-1:1);break;case"end":b[o]+=h*(r&&u?-1:1);break}return b}async function xwe(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:h=!1,padding:b=0}=zl(t,e),v=cz(b),y=l[h?p==="floating"?"reference":"floating":p],S=$y(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:m,strategy:d})),w=p==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),A=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},E=$y(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:_,strategy:d}):w);return{top:(S.top-E.top+v.top)/A.y,bottom:(E.bottom-S.bottom+v.bottom)/A.y,left:(S.left-E.left+v.left)/A.x,right:(E.right-S.right+v.right)/A.x}}const bwe=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:p}=l7(u,n,d),h=n,b={},v=0;for(let y=0;y<l.length;y++){var N;const{name:S,fn:w}=l[y],{x:_,y:A,data:E,reset:C}=await w({x:m,y:p,initialPlacement:n,placement:h,strategy:s,middlewareData:b,rects:u,platform:{...o,detectOverflow:(N=o.detectOverflow)!=null?N:xwe},elements:{reference:e,floating:t}});m=_??m,p=A??p,b={...b,[S]:{...b[S],...E}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:m,y:p}=l7(u,h,d)),y=-1)}return{x:m,y:p,placement:h,strategy:s,middlewareData:b}},ywe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:d}=t,{element:u,padding:m=0}=zl(e,t)||{};if(u==null)return{};const p=cz(m),h={x:r,y:n},b=w3(s),v=j3(b),N=await o.getDimensions(u),y=b==="y",S=y?"top":"left",w=y?"bottom":"right",_=y?"clientHeight":"clientWidth",A=i.reference[v]+i.reference[b]-h[b]-i.floating[v],E=h[b]-i.reference[b],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=C?C[_]:0;(!O||!await(o.isElement==null?void 0:o.isElement(C)))&&(O=l.floating[_]||i.floating[v]);const D=A/2-E/2,R=O/2-N[v]/2-1,K=Zc(p[S],R),H=Zc(p[w],R),$=K,U=O-N[v]-H,P=O/2-N[v]/2+D,G=YC($,P,U),L=!d.arrow&&zp(s)!=null&&P!==G&&i.reference[v]/2-(P<$?K:H)-N[v]/2<0,M=L?P<$?P-$:P-U:0;return{[b]:h[b]+M,data:{[b]:G,centerOffset:P-G-M,...L&&{alignmentOffset:M}},reset:L}}}),vwe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:N=!0,...y}=zl(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const S=Kl(s),w=Lo(l),_=Kl(l)===l,A=await(d.isRTL==null?void 0:d.isRTL(u.floating)),E=h||(_||!N?[Ly(l)]:uwe(l)),C=v!=="none";!h&&C&&E.push(...hwe(l,N,v,A));const O=[l,...E],D=await d.detectOverflow(t,y),R=[];let K=((n=i.flip)==null?void 0:n.overflows)||[];if(m&&R.push(D[S]),p){const P=dwe(s,o,A);R.push(D[P[0]],D[P[1]])}if(K=[...K,{placement:s,overflows:R}],!R.every(P=>P<=0)){var H,$;const P=(((H=i.flip)==null?void 0:H.index)||0)+1,G=O[P];if(G&&(!(p==="alignment"?w!==Lo(G):!1)||K.every(B=>Lo(B.placement)===w?B.overflows[0]>0:!0)))return{data:{index:P,overflows:K},reset:{placement:G}};let L=($=K.filter(M=>M.overflows[0]<=0).sort((M,B)=>M.overflows[1]-B.overflows[1])[0])==null?void 0:$.placement;if(!L)switch(b){case"bestFit":{var U;const M=(U=K.filter(B=>{if(C){const J=Lo(B.placement);return J===w||J==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(J=>J>0).reduce((J,ee)=>J+ee,0)]).sort((B,J)=>B[1]-J[1])[0])==null?void 0:U[0];M&&(L=M);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function c7(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function d7(e){return iwe.some(t=>e[t]>=0)}const Nwe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=zl(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=c7(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:d7(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=c7(o,r.floating);return{data:{escapedOffsets:l,escaped:d7(l)}}}default:return{}}}}},dz=new Set(["left","top"]);async function Swe(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Kl(r),l=zp(r),d=Lo(r)==="y",u=dz.has(o)?-1:1,m=i&&d?-1:1,p=zl(t,e);let{mainAxis:h,crossAxis:b,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof v=="number"&&(b=l==="end"?v*-1:v),d?{x:b*m,y:h*u}:{x:h*u,y:b*m}}const jwe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,d=await Swe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:o}}}}},wwe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:d={fn:S=>{let{x:w,y:_}=S;return{x:w,y:_}}},...u}=zl(e,t),m={x:r,y:n},p=await i.detectOverflow(t,u),h=Lo(Kl(s)),b=S3(h);let v=m[b],N=m[h];if(o){const S=b==="y"?"top":"left",w=b==="y"?"bottom":"right",_=v+p[S],A=v-p[w];v=YC(_,v,A)}if(l){const S=h==="y"?"top":"left",w=h==="y"?"bottom":"right",_=N+p[S],A=N-p[w];N=YC(_,N,A)}const y=d.fn({...t,[b]:v,[h]:N});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[b]:o,[h]:l}}}}}},Ewe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=zl(e,t),m={x:r,y:n},p=Lo(s),h=S3(p);let b=m[h],v=m[p];const N=zl(l,t),y=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(d){const _=h==="y"?"height":"width",A=i.reference[h]-i.floating[_]+y.mainAxis,E=i.reference[h]+i.reference[_]-y.mainAxis;b<A?b=A:b>E&&(b=E)}if(u){var S,w;const _=h==="y"?"width":"height",A=dz.has(Kl(s)),E=i.reference[p]-i.floating[_]+(A&&((S=o.offset)==null?void 0:S[p])||0)+(A?0:y.crossAxis),C=i.reference[p]+i.reference[_]+(A?0:((w=o.offset)==null?void 0:w[p])||0)-(A?y.crossAxis:0);v<E?v=E:v>C&&(v=C)}return{[h]:b,[p]:v}}}},Awe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:d=()=>{},...u}=zl(e,t),m=await o.detectOverflow(t,u),p=Kl(s),h=zp(s),b=Lo(s)==="y",{width:v,height:N}=i.floating;let y,S;p==="top"||p==="bottom"?(y=p,S=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=p,y=h==="end"?"top":"bottom");const w=N-m.top-m.bottom,_=v-m.left-m.right,A=Zc(N-m[y],w),E=Zc(v-m[S],_),C=!t.middlewareData.shift;let O=A,D=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=w),C&&!h){const K=Fs(m.left,0),H=Fs(m.right,0),$=Fs(m.top,0),U=Fs(m.bottom,0);b?D=v-2*(K!==0||H!==0?K+H:Fs(m.left,m.right)):O=N-2*($!==0||U!==0?$+U:Fs(m.top,m.bottom))}await d({...t,availableWidth:D,availableHeight:O});const R=await o.getDimensions(l.floating);return v!==R.width||N!==R.height?{reset:{rects:!0}}:{}}}};function Wv(){return typeof window<"u"}function Kp(e){return uz(e)?(e.nodeName||"").toLowerCase():"#document"}function Us(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rl(e){var t;return(t=(uz(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uz(e){return Wv()?e instanceof Node||e instanceof Us(e).Node:!1}function Zi(e){return Wv()?e instanceof Element||e instanceof Us(e).Element:!1}function Xo(e){return Wv()?e instanceof HTMLElement||e instanceof Us(e).HTMLElement:!1}function u7(e){return!Wv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Us(e).ShadowRoot}const _we=new Set(["inline","contents"]);function H0(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ji(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!_we.has(s)}const Cwe=new Set(["table","td","th"]);function Twe(e){return Cwe.has(Kp(e))}const kwe=[":popover-open",":modal"];function Vv(e){return kwe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Owe=["transform","translate","scale","rotate","perspective"],Rwe=["transform","translate","scale","rotate","perspective","filter"],Pwe=["paint","layout","strict","content"];function E3(e){const t=A3(),r=Zi(e)?Ji(e):e;return Owe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Rwe.some(n=>(r.willChange||"").includes(n))||Pwe.some(n=>(r.contain||"").includes(n))}function Dwe(e){let t=Jc(e);for(;Xo(t)&&!Sp(t);){if(E3(t))return t;if(Vv(t))return null;t=Jc(t)}return null}function A3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mwe=new Set(["html","body","#document"]);function Sp(e){return Mwe.has(Kp(e))}function Ji(e){return Us(e).getComputedStyle(e)}function Yv(e){return Zi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jc(e){if(Kp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||u7(e)&&e.host||rl(e);return u7(t)?t.host:t}function fz(e){const t=Jc(e);return Sp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xo(t)&&H0(t)?t:fz(t)}function S0(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=fz(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Us(s);if(i){const l=QC(o);return t.concat(o,o.visualViewport||[],H0(s)?s:[],l&&r?S0(l):[])}return t.concat(s,S0(s,[],r))}function QC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pz(e){const t=Ji(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Xo(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Iy(r)!==i||Iy(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function _3(e){return Zi(e)?e:e.contextElement}function kf(e){const t=_3(e);if(!Xo(t))return qo(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=pz(t);let o=(i?Iy(r.width):r.width)/n,l=(i?Iy(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Iwe=qo(0);function mz(e){const t=Us(e);return!A3()||!t.visualViewport?Iwe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Lwe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Us(e)?!1:t}function lu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=_3(e);let o=qo(1);t&&(n?Zi(n)&&(o=kf(n)):o=kf(e));const l=Lwe(i,r,n)?mz(i):qo(0);let d=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,m=s.width/o.x,p=s.height/o.y;if(i){const h=Us(i),b=n&&Zi(n)?Us(n):n;let v=h,N=QC(v);for(;N&&n&&b!==v;){const y=kf(N),S=N.getBoundingClientRect(),w=Ji(N),_=S.left+(N.clientLeft+parseFloat(w.paddingLeft))*y.x,A=S.top+(N.clientTop+parseFloat(w.paddingTop))*y.y;d*=y.x,u*=y.y,m*=y.x,p*=y.y,d+=_,u+=A,v=Us(N),N=QC(v)}}return $y({width:m,height:p,x:d,y:u})}function Xv(e,t){const r=Yv(e).scrollLeft;return t?t.left+r:lu(rl(e)).left+r}function hz(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Xv(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function $we(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=rl(n),l=t?Vv(t.floating):!1;if(n===o||l&&i)return r;let d={scrollLeft:0,scrollTop:0},u=qo(1);const m=qo(0),p=Xo(n);if((p||!p&&!i)&&((Kp(n)!=="body"||H0(o))&&(d=Yv(n)),Xo(n))){const b=lu(n);u=kf(n),m.x=b.x+n.clientLeft,m.y=b.y+n.clientTop}const h=o&&!p&&!i?hz(o,d):qo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+m.x+h.x,y:r.y*u.y-d.scrollTop*u.y+m.y+h.y}}function Fwe(e){return Array.from(e.getClientRects())}function Bwe(e){const t=rl(e),r=Yv(e),n=e.ownerDocument.body,s=Fs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Fs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Xv(e);const l=-r.scrollTop;return Ji(n).direction==="rtl"&&(o+=Fs(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const f7=25;function Uwe(e,t){const r=Us(e),n=rl(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,d=0;if(s){i=s.width,o=s.height;const m=A3();(!m||m&&t==="fixed")&&(l=s.offsetLeft,d=s.offsetTop)}const u=Xv(n);if(u<=0){const m=n.ownerDocument,p=m.body,h=getComputedStyle(p),b=m.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-p.clientWidth-b);v<=f7&&(i-=v)}else u<=f7&&(i+=u);return{width:i,height:o,x:l,y:d}}const Hwe=new Set(["absolute","fixed"]);function Gwe(e,t){const r=lu(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Xo(e)?kf(e):qo(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=s*i.x,u=n*i.y;return{width:o,height:l,x:d,y:u}}function p7(e,t,r){let n;if(t==="viewport")n=Uwe(e,r);else if(t==="document")n=Bwe(rl(e));else if(Zi(t))n=Gwe(t,r);else{const s=mz(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return $y(n)}function gz(e,t){const r=Jc(e);return r===t||!Zi(r)||Sp(r)?!1:Ji(r).position==="fixed"||gz(r,t)}function zwe(e,t){const r=t.get(e);if(r)return r;let n=S0(e,[],!1).filter(l=>Zi(l)&&Kp(l)!=="body"),s=null;const i=Ji(e).position==="fixed";let o=i?Jc(e):e;for(;Zi(o)&&!Sp(o);){const l=Ji(o),d=E3(o);!d&&l.position==="fixed"&&(s=null),(i?!d&&!s:!d&&l.position==="static"&&!!s&&Hwe.has(s.position)||H0(o)&&!d&&gz(e,o))?n=n.filter(m=>m!==o):s=l,o=Jc(o)}return t.set(e,n),n}function Kwe(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Vv(t)?[]:zwe(t,this._c):[].concat(r),n],l=o[0],d=o.reduce((u,m)=>{const p=p7(t,m,s);return u.top=Fs(p.top,u.top),u.right=Zc(p.right,u.right),u.bottom=Zc(p.bottom,u.bottom),u.left=Fs(p.left,u.left),u},p7(t,l,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function qwe(e){const{width:t,height:r}=pz(e);return{width:t,height:r}}function Wwe(e,t,r){const n=Xo(t),s=rl(t),i=r==="fixed",o=lu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const d=qo(0);function u(){d.x=Xv(s)}if(n||!n&&!i)if((Kp(t)!=="body"||H0(s))&&(l=Yv(t)),n){const b=lu(t,!0,i,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else s&&u();i&&!n&&s&&u();const m=s&&!n&&!i?hz(s,l):qo(0),p=o.left+l.scrollLeft-d.x-m.x,h=o.top+l.scrollTop-d.y-m.y;return{x:p,y:h,width:o.width,height:o.height}}function WE(e){return Ji(e).position==="static"}function m7(e,t){if(!Xo(e)||Ji(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return rl(e)===r&&(r=r.ownerDocument.body),r}function xz(e,t){const r=Us(e);if(Vv(e))return r;if(!Xo(e)){let s=Jc(e);for(;s&&!Sp(s);){if(Zi(s)&&!WE(s))return s;s=Jc(s)}return r}let n=m7(e,t);for(;n&&Twe(n)&&WE(n);)n=m7(n,t);return n&&Sp(n)&&WE(n)&&!E3(n)?r:n||Dwe(e)||r}const Vwe=async function(e){const t=this.getOffsetParent||xz,r=this.getDimensions,n=await r(e.floating);return{reference:Wwe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ywe(e){return Ji(e).direction==="rtl"}const Xwe={convertOffsetParentRelativeRectToViewportRelativeRect:$we,getDocumentElement:rl,getClippingRect:Kwe,getOffsetParent:xz,getElementRects:Vwe,getClientRects:Fwe,getDimensions:qwe,getScale:kf,isElement:Zi,isRTL:Ywe};function bz(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Qwe(e,t){let r=null,n;const s=rl(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=e.getBoundingClientRect(),{left:m,top:p,width:h,height:b}=u;if(l||t(),!h||!b)return;const v=jx(p),N=jx(s.clientWidth-(m+h)),y=jx(s.clientHeight-(p+b)),S=jx(m),_={rootMargin:-v+"px "+-N+"px "+-y+"px "+-S+"px",threshold:Fs(0,Zc(1,d))||1};let A=!0;function E(C){const O=C[0].intersectionRatio;if(O!==d){if(!A)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!bz(u,e.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(E,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,_)}r.observe(e)}return o(!0),i}function Zwe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=_3(e),m=s||i?[...u?S0(u):[],...S0(t)]:[];m.forEach(S=>{s&&S.addEventListener("scroll",r,{passive:!0}),i&&S.addEventListener("resize",r)});const p=u&&l?Qwe(u,r):null;let h=-1,b=null;o&&(b=new ResizeObserver(S=>{let[w]=S;w&&w.target===u&&b&&(b.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=b)==null||_.observe(t)})),r()}),u&&!d&&b.observe(u),b.observe(t));let v,N=d?lu(e):null;d&&y();function y(){const S=lu(e);N&&!bz(N,S)&&r(),N=S,v=requestAnimationFrame(y)}return r(),()=>{var S;m.forEach(w=>{s&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),p?.(),(S=b)==null||S.disconnect(),b=null,d&&cancelAnimationFrame(v)}}const Jwe=jwe,eEe=wwe,tEe=vwe,rEe=Awe,nEe=Nwe,h7=ywe,aEe=Ewe,sEe=(e,t,r)=>{const n=new Map,s={platform:Xwe,...r},i={...s.platform,_c:n};return bwe(e,t,{...s,platform:i})};var iEe=typeof document<"u",oEe=function(){},eb=iEe?g.useLayoutEffect:oEe;function Fy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Fy(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Fy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function yz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function g7(e,t){const r=yz(e);return Math.round(t*r)/r}function VE(e){const t=g.useRef(e);return eb(()=>{t.current=e}),t}function lEe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=e,[m,p]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,b]=g.useState(n);Fy(h,n)||b(n);const[v,N]=g.useState(null),[y,S]=g.useState(null),w=g.useCallback(B=>{B!==C.current&&(C.current=B,N(B))},[]),_=g.useCallback(B=>{B!==O.current&&(O.current=B,S(B))},[]),A=i||v,E=o||y,C=g.useRef(null),O=g.useRef(null),D=g.useRef(m),R=d!=null,K=VE(d),H=VE(s),$=VE(u),U=g.useCallback(()=>{if(!C.current||!O.current)return;const B={placement:t,strategy:r,middleware:h};H.current&&(B.platform=H.current),sEe(C.current,O.current,B).then(J=>{const ee={...J,isPositioned:$.current!==!1};P.current&&!Fy(D.current,ee)&&(D.current=ee,kp.flushSync(()=>{p(ee)}))})},[h,t,r,H,$]);eb(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,p(B=>({...B,isPositioned:!1})))},[u]);const P=g.useRef(!1);eb(()=>(P.current=!0,()=>{P.current=!1}),[]),eb(()=>{if(A&&(C.current=A),E&&(O.current=E),A&&E){if(K.current)return K.current(A,E,U);U()}},[A,E,U,K,R]);const G=g.useMemo(()=>({reference:C,floating:O,setReference:w,setFloating:_}),[w,_]),L=g.useMemo(()=>({reference:A,floating:E}),[A,E]),M=g.useMemo(()=>{const B={position:r,left:0,top:0};if(!L.floating)return B;const J=g7(L.floating,m.x),ee=g7(L.floating,m.y);return l?{...B,transform:"translate("+J+"px, "+ee+"px)",...yz(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:ee}},[r,l,L.floating,m.x,m.y]);return g.useMemo(()=>({...m,update:U,refs:G,elements:L,floatingStyles:M}),[m,U,G,L,M])}const cEe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?h7({element:n.current,padding:s}).fn(r):{}:n?h7({element:n,padding:s}).fn(r):{}}}},dEe=(e,t)=>({...Jwe(e),options:[e,t]}),uEe=(e,t)=>({...eEe(e),options:[e,t]}),fEe=(e,t)=>({...aEe(e),options:[e,t]}),pEe=(e,t)=>({...tEe(e),options:[e,t]}),mEe=(e,t)=>({...rEe(e),options:[e,t]}),hEe=(e,t)=>({...nEe(e),options:[e,t]}),gEe=(e,t)=>({...cEe(e),options:[e,t]});var xEe="Arrow",vz=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(nr.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});vz.displayName=xEe;var bEe=vz,C3="Popper",[Nz,qp]=Ai(C3),[yEe,Sz]=Nz(C3),jz=e=>{const{__scopePopper:t,children:r}=e,[n,s]=g.useState(null);return a.jsx(yEe,{scope:t,anchor:n,onAnchorChange:s,children:r})};jz.displayName=C3;var wz="PopperAnchor",Ez=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=Sz(wz,r),o=g.useRef(null),l=yr(t,o),d=g.useRef(null);return g.useEffect(()=>{const u=d.current;d.current=n?.current||o.current,u!==d.current&&i.onAnchorChange(d.current)}),n?null:a.jsx(nr.div,{...s,ref:l})});Ez.displayName=wz;var T3="PopperContent",[vEe,NEe]=Nz(T3),Az=g.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:b="optimized",onPlaced:v,...N}=e,y=Sz(T3,r),[S,w]=g.useState(null),_=yr(t,ne=>w(ne)),[A,E]=g.useState(null),C=IT(A),O=C?.width??0,D=C?.height??0,R=n+(i!=="center"?"-"+i:""),K=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},H=Array.isArray(u)?u:[u],$=H.length>0,U={padding:K,boundary:H.filter(jEe),altBoundary:$},{refs:P,floatingStyles:G,placement:L,isPositioned:M,middlewareData:B}=lEe({strategy:"fixed",placement:R,whileElementsMounted:(...ne)=>Zwe(...ne,{animationFrame:b==="always"}),elements:{reference:y.anchor},middleware:[dEe({mainAxis:s+D,alignmentAxis:o}),d&&uEe({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?fEe():void 0,...U}),d&&pEe({...U}),mEe({...U,apply:({elements:ne,rects:ve,availableWidth:pe,availableHeight:Ce})=>{const{width:ge,height:se}=ve.reference,Ze=ne.floating.style;Ze.setProperty("--radix-popper-available-width",`${pe}px`),Ze.setProperty("--radix-popper-available-height",`${Ce}px`),Ze.setProperty("--radix-popper-anchor-width",`${ge}px`),Ze.setProperty("--radix-popper-anchor-height",`${se}px`)}}),A&&gEe({element:A,padding:l}),wEe({arrowWidth:O,arrowHeight:D}),h&&hEe({strategy:"referenceHidden",...U})]}),[J,ee]=Tz(L),I=Ga(v);qn(()=>{M&&I?.()},[M,I]);const Y=B.arrow?.x,ae=B.arrow?.y,le=B.arrow?.centerOffset!==0,[he,X]=g.useState();return qn(()=>{S&&X(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:M?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(vEe,{scope:r,placedSide:J,onArrowChange:E,arrowX:Y,arrowY:ae,shouldHideArrow:le,children:a.jsx(nr.div,{"data-side":J,"data-align":ee,...N,ref:_,style:{...N.style,animation:M?void 0:"none"}})})})});Az.displayName=T3;var _z="PopperArrow",SEe={top:"bottom",right:"left",bottom:"top",left:"right"},Cz=g.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=NEe(_z,n),o=SEe[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(bEe,{...s,ref:r,style:{...s.style,display:"block"}})})});Cz.displayName=_z;function jEe(e){return e!==null}var wEe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,o=s.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,m]=Tz(r),p={start:"0%",center:"50%",end:"100%"}[m],h=(s.arrow?.x??0)+l/2,b=(s.arrow?.y??0)+d/2;let v="",N="";return u==="bottom"?(v=o?p:`${h}px`,N=`${-d}px`):u==="top"?(v=o?p:`${h}px`,N=`${n.floating.height+d}px`):u==="right"?(v=`${-d}px`,N=o?p:`${b}px`):u==="left"&&(v=`${n.floating.width+d}px`,N=o?p:`${b}px`),{data:{x:v,y:N}}}});function Tz(e){const[t,r="center"]=e.split("-");return[t,r]}var k3=jz,Qv=Ez,O3=Az,R3=Cz;function EEe(e){const t=AEe(e),r=g.forwardRef((n,s)=>{const{children:i,...o}=n,l=g.Children.toArray(i),d=l.find(CEe);if(d){const u=d.props.children,m=l.map(p=>p===d?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,m):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function AEe(e){const t=g.forwardRef((r,n)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const o=kEe(s),l=TEe(i,s.props);return s.type!==g.Fragment&&(l.ref=n?uu(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _Ee=Symbol("radix.slottable");function CEe(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_Ee}function TEe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function kEe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kz=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OEe="VisuallyHidden",Oz=g.forwardRef((e,t)=>a.jsx(nr.span,{...e,ref:t,style:{...kz,...e.style}}));Oz.displayName=OEe;var REe=Oz,PEe=[" ","Enter","ArrowUp","ArrowDown"],DEe=[" ","Enter"],cu="Select",[Zv,Jv,MEe]=lz(cu),[Wp]=Ai(cu,[MEe,qp]),e1=qp(),[IEe,sd]=Wp(cu),[LEe,$Ee]=Wp(cu),Rz=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:m,autoComplete:p,disabled:h,required:b,form:v}=e,N=e1(t),[y,S]=g.useState(null),[w,_]=g.useState(null),[A,E]=g.useState(!1),C=O0(u),[O,D]=Fl({prop:n,defaultProp:s??!1,onChange:i,caller:cu}),[R,K]=Fl({prop:o,defaultProp:l,onChange:d,caller:cu}),H=g.useRef(null),$=y?v||!!y.closest("form"):!0,[U,P]=g.useState(new Set),G=Array.from(U).map(L=>L.props.value).join(";");return a.jsx(k3,{...N,children:a.jsxs(IEe,{required:b,scope:t,trigger:y,onTriggerChange:S,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:A,onValueNodeHasChildrenChange:E,contentId:Uo(),value:R,onValueChange:K,open:O,onOpenChange:D,dir:C,triggerPointerDownPosRef:H,disabled:h,children:[a.jsx(Zv.Provider,{scope:t,children:a.jsx(LEe,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(L=>{P(M=>new Set(M).add(L))},[]),onNativeOptionRemove:g.useCallback(L=>{P(M=>{const B=new Set(M);return B.delete(L),B})},[]),children:r})}),$?a.jsxs(eK,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:p,value:R,onChange:L=>K(L.target.value),disabled:h,form:v,children:[R===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},G):null]})})};Rz.displayName=cu;var Pz="SelectTrigger",Dz=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=e1(r),o=sd(Pz,r),l=o.disabled||n,d=yr(t,o.onTriggerChange),u=Jv(r),m=g.useRef("touch"),[p,h,b]=rK(N=>{const y=u().filter(_=>!_.disabled),S=y.find(_=>_.value===o.value),w=nK(y,N,S);w!==void 0&&o.onValueChange(w.value)}),v=N=>{l||(o.onOpenChange(!0),b()),N&&(o.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return a.jsx(Qv,{asChild:!0,...i,children:a.jsx(nr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":tK(o.value)?"":void 0,...s,ref:d,onClick:Ot(s.onClick,N=>{N.currentTarget.focus(),m.current!=="mouse"&&v(N)}),onPointerDown:Ot(s.onPointerDown,N=>{m.current=N.pointerType;const y=N.target;y.hasPointerCapture(N.pointerId)&&y.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(v(N),N.preventDefault())}),onKeyDown:Ot(s.onKeyDown,N=>{const y=p.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&h(N.key),!(y&&N.key===" ")&&PEe.includes(N.key)&&(v(),N.preventDefault())})})})});Dz.displayName=Pz;var Mz="SelectValue",Iz=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,d=sd(Mz,r),{onValueNodeHasChildrenChange:u}=d,m=i!==void 0,p=yr(t,d.onValueNodeChange);return qn(()=>{u(m)},[u,m]),a.jsx(nr.span,{...l,ref:p,style:{pointerEvents:"none"},children:tK(d.value)?a.jsx(a.Fragment,{children:o}):i})});Iz.displayName=Mz;var FEe="SelectIcon",Lz=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(nr.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Lz.displayName=FEe;var BEe="SelectPortal",$z=e=>a.jsx(k0,{asChild:!0,...e});$z.displayName=BEe;var du="SelectContent",Fz=g.forwardRef((e,t)=>{const r=sd(du,e.__scopeSelect),[n,s]=g.useState();if(qn(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?kp.createPortal(a.jsx(Bz,{scope:e.__scopeSelect,children:a.jsx(Zv.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(Uz,{...e,ref:t})});Fz.displayName=du;var Bi=10,[Bz,id]=Wp(du),UEe="SelectContentImpl",HEe=EEe("SelectContent.RemoveScroll"),Uz=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:h,collisionPadding:b,sticky:v,hideWhenDetached:N,avoidCollisions:y,...S}=e,w=sd(du,r),[_,A]=g.useState(null),[E,C]=g.useState(null),O=yr(t,ne=>A(ne)),[D,R]=g.useState(null),[K,H]=g.useState(null),$=Jv(r),[U,P]=g.useState(!1),G=g.useRef(!1);g.useEffect(()=>{if(_)return FT(_)},[_]),$T();const L=g.useCallback(ne=>{const[ve,...pe]=$().map(se=>se.ref.current),[Ce]=pe.slice(-1),ge=document.activeElement;for(const se of ne)if(se===ge||(se?.scrollIntoView({block:"nearest"}),se===ve&&E&&(E.scrollTop=0),se===Ce&&E&&(E.scrollTop=E.scrollHeight),se?.focus(),document.activeElement!==ge))return},[$,E]),M=g.useCallback(()=>L([D,_]),[L,D,_]);g.useEffect(()=>{U&&M()},[U,M]);const{onOpenChange:B,triggerPointerDownPosRef:J}=w;g.useEffect(()=>{if(_){let ne={x:0,y:0};const ve=Ce=>{ne={x:Math.abs(Math.round(Ce.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(Ce.pageY)-(J.current?.y??0))}},pe=Ce=>{ne.x<=10&&ne.y<=10?Ce.preventDefault():_.contains(Ce.target)||B(!1),document.removeEventListener("pointermove",ve),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",pe,{capture:!0})}}},[_,B,J]),g.useEffect(()=>{const ne=()=>B(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[B]);const[ee,I]=rK(ne=>{const ve=$().filter(ge=>!ge.disabled),pe=ve.find(ge=>ge.ref.current===document.activeElement),Ce=nK(ve,ne,pe);Ce&&setTimeout(()=>Ce.ref.current.focus())}),Y=g.useCallback((ne,ve,pe)=>{const Ce=!G.current&&!pe;(w.value!==void 0&&w.value===ve||Ce)&&(R(ne),Ce&&(G.current=!0))},[w.value]),ae=g.useCallback(()=>_?.focus(),[_]),le=g.useCallback((ne,ve,pe)=>{const Ce=!G.current&&!pe;(w.value!==void 0&&w.value===ve||Ce)&&H(ne)},[w.value]),he=n==="popper"?ZC:Hz,X=he===ZC?{side:l,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:h,collisionPadding:b,sticky:v,hideWhenDetached:N,avoidCollisions:y}:{};return a.jsx(Bz,{scope:r,content:_,viewport:E,onViewportChange:C,itemRefCallback:Y,selectedItem:D,onItemLeave:ae,itemTextRefCallback:le,focusSelectedItem:M,selectedItemText:K,position:n,isPositioned:U,searchRef:ee,children:a.jsx(Xy,{as:HEe,allowPinchZoom:!0,children:a.jsx(Vy,{asChild:!0,trapped:w.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ot(s,ne=>{w.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:a.jsx(T0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:a.jsx(he,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ne=>ne.preventDefault(),...S,...X,onPlaced:()=>P(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ot(S.onKeyDown,ne=>{const ve=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ve&&ne.key.length===1&&I(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let Ce=$().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const ge=ne.target,se=Ce.indexOf(ge);Ce=Ce.slice(se+1)}setTimeout(()=>L(Ce)),ne.preventDefault()}})})})})})})});Uz.displayName=UEe;var GEe="SelectItemAlignedPosition",Hz=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=sd(du,r),o=id(du,r),[l,d]=g.useState(null),[u,m]=g.useState(null),p=yr(t,O=>m(O)),h=Jv(r),b=g.useRef(!1),v=g.useRef(!0),{viewport:N,selectedItem:y,selectedItemText:S,focusSelectedItem:w}=o,_=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&N&&y&&S){const O=i.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),K=S.getBoundingClientRect();if(i.dir!=="rtl"){const ge=K.left-D.left,se=R.left-ge,Ze=O.left-se,V=O.width+Ze,de=Math.max(V,D.width),Ae=window.innerWidth-Bi,ce=WA(se,[Bi,Math.max(Bi,Ae-de)]);l.style.minWidth=V+"px",l.style.left=ce+"px"}else{const ge=D.right-K.right,se=window.innerWidth-R.right-ge,Ze=window.innerWidth-O.right-se,V=O.width+Ze,de=Math.max(V,D.width),Ae=window.innerWidth-Bi,ce=WA(se,[Bi,Math.max(Bi,Ae-de)]);l.style.minWidth=V+"px",l.style.right=ce+"px"}const H=h(),$=window.innerHeight-Bi*2,U=N.scrollHeight,P=window.getComputedStyle(u),G=parseInt(P.borderTopWidth,10),L=parseInt(P.paddingTop,10),M=parseInt(P.borderBottomWidth,10),B=parseInt(P.paddingBottom,10),J=G+L+U+B+M,ee=Math.min(y.offsetHeight*5,J),I=window.getComputedStyle(N),Y=parseInt(I.paddingTop,10),ae=parseInt(I.paddingBottom,10),le=O.top+O.height/2-Bi,he=$-le,X=y.offsetHeight/2,ne=y.offsetTop+X,ve=G+L+ne,pe=J-ve;if(ve<=le){const ge=H.length>0&&y===H[H.length-1].ref.current;l.style.bottom="0px";const se=u.clientHeight-N.offsetTop-N.offsetHeight,Ze=Math.max(he,X+(ge?ae:0)+se+M),V=ve+Ze;l.style.height=V+"px"}else{const ge=H.length>0&&y===H[0].ref.current;l.style.top="0px";const Ze=Math.max(le,G+N.offsetTop+(ge?Y:0)+X)+pe;l.style.height=Ze+"px",N.scrollTop=ve-le+N.offsetTop}l.style.margin=`${Bi}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=$+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[h,i.trigger,i.valueNode,l,u,N,y,S,i.dir,n]);qn(()=>_(),[_]);const[A,E]=g.useState();qn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const C=g.useCallback(O=>{O&&v.current===!0&&(_(),w?.(),v.current=!1)},[_,w]);return a.jsx(KEe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:C,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(nr.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Hz.displayName=GEe;var zEe="SelectPopperPosition",ZC=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Bi,...i}=e,o=e1(r);return a.jsx(O3,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ZC.displayName=zEe;var[KEe,P3]=Wp(du,{}),JC="SelectViewport",Gz=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=id(JC,r),o=P3(JC,r),l=yr(t,i.onViewportChange),d=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Zv.Slot,{scope:r,children:a.jsx(nr.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ot(s.onScroll,u=>{const m=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:h}=o;if(h?.current&&p){const b=Math.abs(d.current-m.scrollTop);if(b>0){const v=window.innerHeight-Bi*2,N=parseFloat(p.style.minHeight),y=parseFloat(p.style.height),S=Math.max(N,y);if(S<v){const w=S+b,_=Math.min(v,w),A=w-_;p.style.height=_+"px",p.style.bottom==="0px"&&(m.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});Gz.displayName=JC;var zz="SelectGroup",[qEe,WEe]=Wp(zz),VEe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Uo();return a.jsx(qEe,{scope:r,id:s,children:a.jsx(nr.div,{role:"group","aria-labelledby":s,...n,ref:t})})});VEe.displayName=zz;var Kz="SelectLabel",YEe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=WEe(Kz,r);return a.jsx(nr.div,{id:s.id,...n,ref:t})});YEe.displayName=Kz;var By="SelectItem",[XEe,qz]=Wp(By),Wz=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=sd(By,r),d=id(By,r),u=l.value===n,[m,p]=g.useState(i??""),[h,b]=g.useState(!1),v=yr(t,w=>d.itemRefCallback?.(w,n,s)),N=Uo(),y=g.useRef("touch"),S=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(XEe,{scope:r,value:n,disabled:s,textId:N,isSelected:u,onItemTextChange:g.useCallback(w=>{p(_=>_||(w?.textContent??"").trim())},[]),children:a.jsx(Zv.ItemSlot,{scope:r,value:n,disabled:s,textValue:m,children:a.jsx(nr.div,{role:"option","aria-labelledby":N,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Ot(o.onFocus,()=>b(!0)),onBlur:Ot(o.onBlur,()=>b(!1)),onClick:Ot(o.onClick,()=>{y.current!=="mouse"&&S()}),onPointerUp:Ot(o.onPointerUp,()=>{y.current==="mouse"&&S()}),onPointerDown:Ot(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Ot(o.onPointerMove,w=>{y.current=w.pointerType,s?d.onItemLeave?.():y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ot(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ot(o.onKeyDown,w=>{d.searchRef?.current!==""&&w.key===" "||(DEe.includes(w.key)&&S(),w.key===" "&&w.preventDefault())})})})})});Wz.displayName=By;var bh="SelectItemText",Vz=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=sd(bh,r),l=id(bh,r),d=qz(bh,r),u=$Ee(bh,r),[m,p]=g.useState(null),h=yr(t,S=>p(S),d.onItemTextChange,S=>l.itemTextRefCallback?.(S,d.value,d.disabled)),b=m?.textContent,v=g.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:N,onNativeOptionRemove:y}=u;return qn(()=>(N(v),()=>y(v)),[N,y,v]),a.jsxs(a.Fragment,{children:[a.jsx(nr.span,{id:d.textId,...i,ref:h}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?kp.createPortal(i.children,o.valueNode):null]})});Vz.displayName=bh;var Yz="SelectItemIndicator",Xz=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return qz(Yz,r).isSelected?a.jsx(nr.span,{"aria-hidden":!0,...n,ref:t}):null});Xz.displayName=Yz;var eT="SelectScrollUpButton",Qz=g.forwardRef((e,t)=>{const r=id(eT,e.__scopeSelect),n=P3(eT,e.__scopeSelect),[s,i]=g.useState(!1),o=yr(t,n.onScrollButtonChange);return qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(Jz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Qz.displayName=eT;var tT="SelectScrollDownButton",Zz=g.forwardRef((e,t)=>{const r=id(tT,e.__scopeSelect),n=P3(tT,e.__scopeSelect),[s,i]=g.useState(!1),o=yr(t,n.onScrollButtonChange);return qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<u;i(m)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(Jz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});Zz.displayName=tT;var Jz=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=id("SelectScrollButton",r),o=g.useRef(null),l=Jv(r),d=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>d(),[d]),qn(()=>{l().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(nr.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ot(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ot(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ot(s.onPointerLeave,()=>{d()})})}),QEe="SelectSeparator",ZEe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(nr.div,{"aria-hidden":!0,...n,ref:t})});ZEe.displayName=QEe;var rT="SelectArrow",JEe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=e1(r),i=sd(rT,r),o=id(rT,r);return i.open&&o.position==="popper"?a.jsx(R3,{...s,...n,ref:t}):null});JEe.displayName=rT;var eAe="SelectBubbleInput",eK=g.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=g.useRef(null),i=yr(n,s),o=MT(t);return g.useEffect(()=>{const l=s.current;if(!l)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&m){const p=new Event("change",{bubbles:!0});m.call(l,t),l.dispatchEvent(p)}},[o,t]),a.jsx(nr.select,{...r,style:{...kz,...r.style},ref:i,defaultValue:t})});eK.displayName=eAe;function tK(e){return e===""||e===void 0}function rK(e){const t=Ga(e),r=g.useRef(""),n=g.useRef(0),s=g.useCallback(o=>{const l=r.current+o;t(l),(function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(l)},[t]),i=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function nK(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=tAe(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function tAe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rAe=Rz,nAe=Dz,aAe=Iz,sAe=Lz,iAe=$z,oAe=Fz,lAe=Gz,cAe=Wz,dAe=Vz,uAe=Xz,fAe=Qz,pAe=Zz;function YE({...e}){return a.jsx(rAe,{"data-slot":"select",...e})}function XE({...e}){return a.jsx(aAe,{"data-slot":"select-value",...e})}function QE({className:e,size:t="default",children:r,...n}){return a.jsxs(nAe,{"data-slot":"select-trigger","data-size":t,className:ue("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,a.jsx(sAe,{asChild:!0,children:a.jsx(za,{className:"size-4 opacity-50"})})]})}function ZE({className:e,children:t,position:r="popper",...n}){return a.jsx(iAe,{children:a.jsxs(oAe,{"data-slot":"select-content",className:ue("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(mAe,{}),a.jsx(lAe,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(hAe,{})]})})}function kn({className:e,children:t,...r}){return a.jsxs(cAe,{"data-slot":"select-item",className:ue("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(uAe,{children:a.jsx(Qd,{className:"size-4"})})}),a.jsx(dAe,{children:t})]})}function mAe({className:e,...t}){return a.jsx(fAe,{"data-slot":"select-scroll-up-button",className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx($l,{className:"size-4"})})}function hAe({className:e,...t}){return a.jsx(pAe,{"data-slot":"select-scroll-down-button",className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(za,{className:"size-4"})})}var JE="rovingFocusGroup.onEntryFocus",gAe={bubbles:!1,cancelable:!0},G0="RovingFocusGroup",[nT,aK,xAe]=lz(G0),[bAe,t1]=Ai(G0,[xAe]),[yAe,vAe]=bAe(G0),sK=g.forwardRef((e,t)=>a.jsx(nT.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(nT.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(NAe,{...e,ref:t})})}));sK.displayName=G0;var NAe=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...p}=e,h=g.useRef(null),b=yr(t,h),v=O0(i),[N,y]=Fl({prop:o,defaultProp:l??null,onChange:d,caller:G0}),[S,w]=g.useState(!1),_=Ga(u),A=aK(r),E=g.useRef(!1),[C,O]=g.useState(0);return g.useEffect(()=>{const D=h.current;if(D)return D.addEventListener(JE,_),()=>D.removeEventListener(JE,_)},[_]),a.jsx(yAe,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:N,onItemFocus:g.useCallback(D=>y(D),[y]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:g.useCallback(()=>O(D=>D-1),[]),children:a.jsx(nr.div,{tabIndex:S||C===0?-1:0,"data-orientation":n,...p,ref:b,style:{outline:"none",...e.style},onMouseDown:Ot(e.onMouseDown,()=>{E.current=!0}),onFocus:Ot(e.onFocus,D=>{const R=!E.current;if(D.target===D.currentTarget&&R&&!S){const K=new CustomEvent(JE,gAe);if(D.currentTarget.dispatchEvent(K),!K.defaultPrevented){const H=A().filter(L=>L.focusable),$=H.find(L=>L.active),U=H.find(L=>L.id===N),G=[$,U,...H].filter(Boolean).map(L=>L.ref.current);lK(G,m)}}E.current=!1}),onBlur:Ot(e.onBlur,()=>w(!1))})})}),iK="RovingFocusGroupItem",oK=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,d=Uo(),u=i||d,m=vAe(iK,r),p=m.currentTabStopId===u,h=aK(r),{onFocusableItemAdd:b,onFocusableItemRemove:v,currentTabStopId:N}=m;return g.useEffect(()=>{if(n)return b(),()=>v()},[n,b,v]),a.jsx(nT.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(nr.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...l,ref:t,onMouseDown:Ot(e.onMouseDown,y=>{n?m.onItemFocus(u):y.preventDefault()}),onFocus:Ot(e.onFocus,()=>m.onItemFocus(u)),onKeyDown:Ot(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){m.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const S=wAe(y,m.orientation,m.dir);if(S!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let _=h().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")_.reverse();else if(S==="prev"||S==="next"){S==="prev"&&_.reverse();const A=_.indexOf(y.currentTarget);_=m.loop?EAe(_,A+1):_.slice(A+1)}setTimeout(()=>lK(_))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:N!=null}):o})})});oK.displayName=iK;var SAe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jAe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wAe(e,t,r){const n=jAe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return SAe[n]}function lK(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function EAe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var cK=sK,dK=oK,D3="Radio",[AAe,uK]=Ai(D3),[_Ae,CAe]=AAe(D3),fK=g.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:d,form:u,...m}=e,[p,h]=g.useState(null),b=yr(t,y=>h(y)),v=g.useRef(!1),N=p?u||!!p.closest("form"):!0;return a.jsxs(_Ae,{scope:r,checked:s,disabled:o,children:[a.jsx(nr.button,{type:"button",role:"radio","aria-checked":s,"data-state":gK(s),"data-disabled":o?"":void 0,disabled:o,value:l,...m,ref:b,onClick:Ot(e.onClick,y=>{s||d?.(),N&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})}),N&&a.jsx(hK,{control:p,bubbles:!v.current,name:n,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});fK.displayName=D3;var pK="RadioIndicator",mK=g.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=CAe(pK,r);return a.jsx(is,{present:n||i.checked,children:a.jsx(nr.span,{"data-state":gK(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});mK.displayName=pK;var TAe="RadioBubbleInput",hK=g.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=g.useRef(null),l=yr(o,i),d=MT(r),u=IT(t);return g.useEffect(()=>{const m=o.current;if(!m)return;const p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&b){const v=new Event("click",{bubbles:n});b.call(m,r),m.dispatchEvent(v)}},[d,r,n]),a.jsx(nr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hK.displayName=TAe;function gK(e){return e?"checked":"unchecked"}var kAe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],r1="RadioGroup",[OAe]=Ai(r1,[t1,uK]),xK=t1(),bK=uK(),[RAe,PAe]=OAe(r1),yK=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:m=!0,onValueChange:p,...h}=e,b=xK(r),v=O0(u),[N,y]=Fl({prop:i,defaultProp:s??null,onChange:p,caller:r1});return a.jsx(RAe,{scope:r,name:n,required:o,disabled:l,value:N,onValueChange:y,children:a.jsx(cK,{asChild:!0,...b,orientation:d,dir:v,loop:m,children:a.jsx(nr.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:v,...h,ref:t})})})});yK.displayName=r1;var vK="RadioGroupItem",NK=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=PAe(vK,r),o=i.disabled||n,l=xK(r),d=bK(r),u=g.useRef(null),m=yr(t,u),p=i.value===s.value,h=g.useRef(!1);return g.useEffect(()=>{const b=N=>{kAe.includes(N.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",v)}},[]),a.jsx(dK,{asChild:!0,...l,focusable:!o,active:p,children:a.jsx(fK,{disabled:o,required:i.required,checked:p,...d,...s,name:i.name,ref:m,onCheck:()=>i.onValueChange(s.value),onKeyDown:Ot(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Ot(s.onFocus,()=>{h.current&&u.current?.click()})})})});NK.displayName=vK;var DAe="RadioGroupIndicator",SK=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=bK(r);return a.jsx(mK,{...s,...n,ref:t})});SK.displayName=DAe;var MAe=yK,IAe=NK,LAe=SK;function x7({className:e,...t}){return a.jsx(MAe,{"data-slot":"radio-group",className:ue("grid gap-3",e),...t})}function Xu({className:e,...t}){return a.jsx(IAe,{"data-slot":"radio-group-item",className:ue("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(LAe,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:a.jsx(iY,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var $Ae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],FAe=$Ae.reduce((e,t)=>{const r=qy(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),BAe="Separator",b7="horizontal",UAe=["horizontal","vertical"],jK=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=b7,...s}=e,i=HAe(n)?n:b7,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(FAe.div,{"data-orientation":i,...l,...s,ref:t})});jK.displayName=BAe;function HAe(e){return UAe.includes(e)}var GAe=jK;function qm({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return a.jsx(GAe,{"data-slot":"separator-root",decorative:r,orientation:t,className:ue("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}var n1="Tabs",[zAe]=Ai(n1,[t1]),wK=t1(),[KAe,M3]=zAe(n1),EK=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=e,m=O0(l),[p,h]=Fl({prop:n,onChange:s,defaultProp:i??"",caller:n1});return a.jsx(KAe,{scope:r,baseId:Uo(),value:p,onValueChange:h,orientation:o,dir:m,activationMode:d,children:a.jsx(nr.div,{dir:m,"data-orientation":o,...u,ref:t})})});EK.displayName=n1;var AK="TabsList",_K=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=M3(AK,r),o=wK(r);return a.jsx(cK,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(nr.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});_K.displayName=AK;var CK="TabsTrigger",TK=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=M3(CK,r),l=wK(r),d=RK(o.baseId,n),u=PK(o.baseId,n),m=n===o.value;return a.jsx(dK,{asChild:!0,...l,focusable:!s,active:m,children:a.jsx(nr.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:Ot(e.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ot(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ot(e.onFocus,()=>{const p=o.activationMode!=="manual";!m&&!s&&p&&o.onValueChange(n)})})})});TK.displayName=CK;var kK="TabsContent",OK=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=M3(kK,r),d=RK(l.baseId,n),u=PK(l.baseId,n),m=n===l.value,p=g.useRef(m);return g.useEffect(()=>{const h=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(is,{present:s||m,children:({present:h})=>a.jsx(nr.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:h&&i})})});OK.displayName=kK;function RK(e,t){return`${e}-trigger-${t}`}function PK(e,t){return`${e}-content-${t}`}var qAe=EK,WAe=_K,VAe=TK,YAe=OK;function XAe({className:e,...t}){return a.jsx(qAe,{"data-slot":"tabs",className:ue("flex flex-col gap-2",e),...t})}function QAe({className:e,...t}){return a.jsx(WAe,{"data-slot":"tabs-list",className:ue("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function wx({className:e,...t}){return a.jsx(VAe,{"data-slot":"tabs-trigger",className:ue("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Ex({className:e,...t}){return a.jsx(YAe,{"data-slot":"tabs-content",className:ue("flex-1 outline-none",e),...t})}function ZAe(e){return e===""?"reconsultation":e===""||e===""?"dropout_recontact":e===""||e===""?"contacted":"new"}function JAe(e,t){return Math.max(1,Math.min(99,(t===""?92:t===""?78:t===""?58:38)+(e===""?6:e===""?-6:0)))}function e_e({caseId:e,patientName:t,initialTab:r="consultation",showReferralTab:n=!0,onComplete:s,onCancel:i,onBack:o}){const l=g.useMemo(()=>Kv(e),[e]),d=g.useMemo(()=>kG(l),[l]),[u,m]=g.useState(r),[p,h]=g.useState("new"),[b,v]=g.useState(null),[N,y]=g.useState(!0),[S,w]=g.useState("greeting"),[_,A]=g.useState(""),[E,C]=g.useState(""),[O,D]=g.useState(""),[R,K]=g.useState(""),[H,$]=g.useState(""),[U,P]=g.useState(""),[G,L]=g.useState(""),[M,B]=g.useState(""),[J,ee]=g.useState(""),[I,Y]=g.useState(""),[ae,le]=g.useState(""),[he,X]=g.useState(""),[ne,ve]=g.useState(""),[pe,Ce]=g.useState({}),[ge,se]=g.useState(!1),[Ze,V]=g.useState(""),[de,Ae]=g.useState([]),[ce,ye]=g.useState("citizen"),Ie=g.useMemo(()=>l?{id:l.id,patientId:l.id,patientName:l.profile.name,ageGroup:N0(l.profile.age),gender:"",phone:l.profile.phone,guardianPhone:l.profile.guardianPhone??"",address:"    ",riskLevel:l.risk===""?"high":l.risk===""?"medium":"low",riskScore:JAe(l.risk,d.label),contactPriorityLabel:d.label,status:ZAe(l.status),counselor:l.manager,registeredDate:l.updated.split(" ")[0],lastContact:l.updated.split(" ")[0]}:{id:e,patientId:e,patientName:t??"  ",ageGroup:" ",gender:"",phone:"010-0000-0000",guardianPhone:"",address:"  ",riskLevel:"medium",riskScore:60,contactPriorityLabel:"",status:"new",counselor:" ",registeredDate:new Date().toISOString().split("T")[0],lastContact:new Date().toISOString().split("T")[0]},[e,l,d.label,t]),[Ct]=g.useState([{id:"CONS-001",date:"2026-02-01",time:"10:30",counselor:"",duration:15,result:"completed",summary:"  .    .",actions:["   (2026-02-10)"]}]),Dt={new:{greeting:{step:"greeting",title:"1:    ",content:`,    ${Ie.counselor} .   ?

       ?`,tips:["   ","    ","    "],checkpoints:["  ","  ","  "]},purpose:{step:"purpose",title:"2:   ",content:`          .

             .    ,   .`,tips:["   ","    ","   "],checkpoints:["  "," ","  "]},assessment:{step:"assessment",title:"3:   ",content:`   ?

 :
-     ?
-   ?
-       ?
-    ?`,tips:["   ","  ","  "],checkpoints:["  ","  ","   "]},scheduling:{step:"scheduling",title:"4:     ",content:`      .  30  ,     .

  ${Ie.address} ,     .

    .   ?`,tips:["   ","   ","(,  ) "],checkpoints:["  ","  "," "]}},contacted:{greeting:{step:"greeting",title:"1:  ",content:`,   ${Ie.counselor} .     ?`,tips:[" ","   "],checkpoints:[" ","   "]},purpose:{step:"purpose",title:"2:  ",content:"     .     ?",tips:["  ","   "],checkpoints:["  ","  "]},assessment:{step:"assessment",title:"3:   ",content:"     ?    .",tips:["  ","  "],checkpoints:["  ","  "]},scheduling:{step:"scheduling",title:"4:  ",content:"     .       .",tips:["  "," "],checkpoints:[" ","SMS  "]}},reconsultation:{greeting:{step:"greeting",title:"1:   ",content:`, ${Ie.counselor} .      .`,tips:["   ","  "],checkpoints:[" ","   "]},purpose:{step:"purpose",title:"2:  ",content:"  ,      .",tips:["  "," "],checkpoints:["  "," "]},assessment:{step:"assessment",title:"3:    ",content:"          .  .",tips:["   "," "],checkpoints:["  "," "]},scheduling:{step:"scheduling",title:"4:   ",content:"    .  ?",tips:[" ","   "],checkpoints:[" ","  "]}},dropout_recontact:{greeting:{step:"greeting",title:"1:  ",content:",  .  .   ?",tips:["  ","   "],checkpoints:[" ","  "]},purpose:{step:"purpose",title:"2:  ",content:"      .",tips:["  ","  "],checkpoints:[" "," "]},assessment:{step:"assessment",title:"3:   ",content:"  ?    .",tips:["  ","  "],checkpoints:["  ","  "]},scheduling:{step:"scheduling",title:"4:  ",content:"     ?      .",tips:["  ","  "],checkpoints:["  ","  "]}}};g.useEffect(()=>{if(N&&_.trim()){const Ue=setInterval(()=>{$e()},3e4);return()=>clearInterval(Ue)}},[_,N]),g.useEffect(()=>{h(Ie.status)},[Ie.status]),g.useEffect(()=>{m(r)},[r]),g.useEffect(()=>{!n&&u==="referral"&&m("consultation")},[n,u]),g.useEffect(()=>{se(!1)},[S,p]),g.useEffect(()=>{if(H&&U&&G){const Qt=`[ ] ${new Date(U).toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"})} ${G} ${H==="screening"?"":H==="health_center"?" ":" "}  .

:    123-45
: 02-1234-5678

${M?": "+M:""}`;ee(Qt)}else ee("")},[H,U,G,M]);const ze=()=>{v(new Date),console.log("[AUDIT] Consultation Started:",{action:"CONSULTATION_START",caseId:Ie.id,counselor:Ie.counselor,timestamp:new Date().toISOString()})},$e=()=>{console.log("[AUTO-SAVE] Consultation Draft Saved:",{caseId:Ie.id,notes:_,timestamp:new Date().toISOString()})},or=()=>{const Ue=`${p}-${S}`,Mt=Dt[p][S].content;V(pe[Ue]??Mt),se(!0)},Vt=()=>{const Ue=`${p}-${S}`,Mt=Dt[p][S].content,ot=pe[Ue]??Mt;Ce(Qt=>({...Qt,[Ue]:Ze})),Ae(Qt=>[{id:`EDIT-${Date.now()}`,step:S,title:Dt[p][S].title,before:ot,after:Ze,ts:new Date().toISOString()},...Qt]),A(Qt=>Qt+(Qt?`

`:"")+`[${Dt[p][S].title} - ]
${Ze}`),se(!1)},hn=()=>{se(!1)},zr=()=>{console.log("[AUDIT] Temporary Save:",{action:"CONSULTATION_TEMP_SAVE",caseId:Ie.id,notes:_,result:E,timestamp:new Date().toISOString()}),alert(" .")},Rt=()=>{if(!E){alert("  .");return}if((E==="postponed"||E==="refused")&&!R){alert("  .");return}const Ue=b?Math.floor((new Date().getTime()-b.getTime())/6e4):0;console.log("[AUDIT] Consultation Completed:",{action:"CONSULTATION_COMPLETE",caseId:Ie.id,counselor:Ie.counselor,result:E,reasonCode:R,reason:O,notes:_,duration:Ue,referral:H?{type:H,date:U,time:G}:null,dropout:I?{reason:I,details:ae}:null,timestamp:new Date().toISOString()}),alert(` !

 : ${Ue}
: ${E==="completed"?"":E==="postponed"?"":""}

  .`),s&&s()},mr=()=>{if(!H||!U||!G){alert("   .");return}console.log("[AUDIT] Appointment Confirmed & SMS Sent:",{action:"APPOINTMENT_CREATE",caseId:Ie.id,counselor:Ie.counselor,referralType:H,appointmentDate:U,appointmentTime:G,preVisitNotes:M,smsContent:J,recipientPhone:Ie.phone,timestamp:new Date().toISOString()}),alert(`  !

SMS ${Ie.phone} .

 :
${J}`);const Ue=`

[/ ]
: ${H==="screening"?" ":H==="health_center"?" ":" "}
: ${U} ${G}
SMS : `;A(_+Ue),m("consultation")},ar=()=>{if(!I||!ae.trim()){alert("     .");return}console.log("[AUDIT] Case Dropout:",{action:"CASE_DROPOUT",caseId:Ie.id,counselor:Ie.counselor,dropoutReason:I,dropoutDetails:ae,recontactDate:he,recontactPlan:ne,timestamp:new Date().toISOString()}),alert(`   .

  '' .${he?`

 : ${he}`:""}`);const Ue=`

[  ]
: ${I}
: ${ae}
${he?" : "+he:""}`;A(_+Ue),m("consultation")},Fr=Dt[p],Mr=`${p}-${S}`,jr=Fr[S],Or={greeting:{content:`,    ${Ie.counselor} . ?

   .   ?`,tips:[" (,  ) ","   ","   "]},purpose:{content:`           .

    1    .      .`,tips:["   ","    "," "]},assessment:{content:`    ?

     ?     ,      ?`,tips:["     ","    ","  "]},scheduling:{content:`      .

     .     .

      .`,tips:["   ","   ","   "]}},ur=ce==="guardian"&&!!Ie.guardianPhone,ir=(()=>{const Ue={...jr,content:pe[Mr]??jr.content};if(ur&&!pe[Mr]){const Mt=Or[S];return{...Ue,content:Mt.content,tips:Mt.tips}}return Ue})(),xt=()=>{if(!b)return"00:00";const Ue=Math.floor((new Date().getTime()-b.getTime())/1e3),Mt=Math.floor(Ue/60),ot=Ue%60;return`${String(Mt).padStart(2,"0")}:${String(ot).padStart(2,"0")}`};return a.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(dt,{variant:"ghost",onClick:o||i,size:"sm",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),""]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),a.jsxs("p",{className:"text-sm text-gray-500",children:[" ID: ",Ie.patientId]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:b?a.jsxs(Gr,{variant:"destructive",className:"text-base px-4 py-2",children:[a.jsx(Fo,{className:"h-4 w-4 mr-2"}),"  ",xt()]}):a.jsxs(dt,{onClick:ze,variant:"default",children:[a.jsx(wi,{className:"h-4 w-4 mr-2"})," "]})})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-6 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsx("p",{className:"font-semibold text-sm",children:Ie.patientName}),a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[Ie.ageGroup," / ",Ie.gender]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("p",{className:"font-semibold text-sm flex items-center gap-1",children:[a.jsx(as,{className:"h-3 w-3 text-gray-400"}),Ie.phone]}),Ie.guardianPhone&&a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[a.jsx(Vo,{className:"h-3 w-3 text-blue-400"}),a.jsx("span",{className:"text-blue-600",children:""})," ",Ie.guardianPhone]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs("p",{className:"font-semibold text-sm flex items-center gap-1",children:[a.jsx(sb,{className:"h-3 w-3 text-gray-400"}),Ie.address]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsxs(Gr,{className:`text-xs ${Ie.contactPriorityLabel===""?"bg-red-50 text-red-700 border border-red-200":Ie.contactPriorityLabel===""?"bg-orange-50 text-orange-700 border border-orange-200":Ie.contactPriorityLabel===""?"bg-blue-50 text-blue-700 border border-blue-200":"bg-emerald-50 text-emerald-700 border border-emerald-200"}`,children:[Ie.contactPriorityLabel," (",Ie.riskScore,")"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),a.jsx(Gr,{variant:"outline",className:"text-xs",children:Ie.status==="contacted"?"":""})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),a.jsxs("p",{className:"font-semibold text-sm flex items-center gap-1",children:[a.jsx(Vo,{className:"h-3 w-3 text-gray-400"}),Ie.counselor]})]})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsxs(XAe,{value:u,onValueChange:Ue=>m(Ue),className:"h-full flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:a.jsxs(QAe,{className:"w-full justify-start bg-transparent",children:[a.jsxs(wx,{value:"consultation",className:"data-[state=active]:bg-blue-50 data-[state=active]:text-blue-900",children:[a.jsx(wi,{className:"h-4 w-4 mr-2"})," "]}),n&&a.jsxs(wx,{value:"referral",className:"data-[state=active]:bg-purple-50 data-[state=active]:text-purple-900",children:[a.jsx(FA,{className:"h-4 w-4 mr-2"}),"/"]}),a.jsxs(wx,{value:"dropout",className:"data-[state=active]:bg-orange-50 data-[state=active]:text-orange-900",children:[a.jsx(_N,{className:"h-4 w-4 mr-2"})," "]}),a.jsxs(wx,{value:"history",className:"data-[state=active]:bg-gray-50",children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"})," "]})]})}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[a.jsx(Ex,{value:"consultation",className:"h-full m-0 p-6",children:a.jsx("div",{className:"max-w-[1400px] mx-auto",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs(Nr,{className:"h-fit",children:[a.jsxs(pn,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b",children:[a.jsxs(mn,{className:"flex items-center gap-2 text-blue-900",children:[a.jsx(Mh,{className:"h-5 w-5"}),"AI   "]}),a.jsxs(Co,{children:[" : ",a.jsx(Gr,{variant:"outline",className:"ml-2",children:p==="new"?"":p==="contacted"?"":p==="reconsultation"?"":"  "})]})]}),a.jsxs(Sr,{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[a.jsx("p",{className:"text-[10px] font-semibold text-gray-500 mb-2",children:" "}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>ye("citizen"),className:`flex-1 flex items-center gap-2 px-3 py-2.5 rounded-lg border-2 transition-all text-left ${ce==="citizen"?"border-blue-500 bg-blue-50":"border-gray-200 bg-gray-50 hover:border-gray-300"}`,children:[a.jsx("div",{className:`w-3 h-3 rounded-full border-2 flex items-center justify-center ${ce==="citizen"?"border-blue-500":"border-gray-300"}`,children:ce==="citizen"&&a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-semibold text-gray-900",children:" "}),a.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[a.jsx(as,{className:"h-2.5 w-2.5"}),Ie.phone]})]})]}),Ie.guardianPhone?a.jsxs("button",{onClick:()=>ye("guardian"),className:`flex-1 flex items-center gap-2 px-3 py-2.5 rounded-lg border-2 transition-all text-left ${ce==="guardian"?"border-violet-500 bg-violet-50":"border-gray-200 bg-gray-50 hover:border-gray-300"}`,children:[a.jsx("div",{className:`w-3 h-3 rounded-full border-2 flex items-center justify-center ${ce==="guardian"?"border-violet-500":"border-gray-300"}`,children:ce==="guardian"&&a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-500"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-900 flex items-center gap-1",children:["",a.jsx("span",{className:"inline-flex px-1 py-0 rounded text-[8px] font-medium bg-blue-100 text-blue-700",children:""})]}),a.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[a.jsx(as,{className:"h-2.5 w-2.5"}),Ie.guardianPhone]})]})]}):a.jsxs("div",{className:"flex-1 flex items-center gap-2 px-3 py-2.5 rounded-lg border-2 border-dashed border-gray-200 bg-gray-50 opacity-50",children:[a.jsx("div",{className:"w-3 h-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-400",children:""}),a.jsx("div",{className:"text-[10px] text-gray-400",children:"  "})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["greeting","purpose","assessment","scheduling"].map((Ue,Mt)=>a.jsxs(dt,{variant:S===Ue?"default":"outline",size:"sm",onClick:()=>w(Ue),children:[Mt+1,""]},Ue))}),a.jsx(qm,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:ir.title}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:ge?a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ki,{value:Ze,onChange:Ue=>V(Ue.target.value),rows:6,className:"bg-white"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(dt,{size:"sm",onClick:Vt,children:""}),a.jsx(dt,{variant:"outline",size:"sm",onClick:hn,children:""})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-blue-900 whitespace-pre-line leading-relaxed",children:ir.content}),a.jsxs(dt,{variant:"ghost",size:"sm",className:"mt-3 text-blue-600 hover:text-blue-700 hover:bg-blue-100",onClick:or,children:[a.jsx(fY,{className:"h-4 w-4 mr-2"})," "]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(zn,{className:"h-4 w-4 text-orange-500"})," "]}),a.jsx("ul",{className:"space-y-1",children:ir.tips.map((Ue,Mt)=>a.jsxs("li",{className:"text-xs text-gray-600 flex items-start gap-2",children:[a.jsx("span",{className:"text-orange-500 font-bold",children:""}),a.jsx("span",{children:Ue})]},Mt))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(Vi,{className:"h-4 w-4 text-green-500"}),""]}),a.jsx("div",{className:"space-y-1",children:ir.checkpoints.map((Ue,Mt)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"rounded"}),a.jsx("span",{className:"text-xs text-gray-600",children:Ue})]},Mt))})]})]}),de.length>0&&a.jsxs("div",{className:"mt-4 border-t pt-3",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2",children:"  "}),a.jsx("div",{className:"space-y-2",children:de.slice(0,3).map(Ue=>a.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-500",children:[a.jsx("span",{children:Ue.title}),a.jsx("span",{children:new Date(Ue.ts).toLocaleString("ko-KR")})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-700 line-clamp-2",children:Ue.after})]},Ue.id))})]})]})]})]}),a.jsxs(Nr,{className:"h-fit",children:[a.jsxs(pn,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-b",children:[a.jsxs(mn,{className:"flex items-center gap-2 text-green-900",children:[a.jsx(Zd,{className:"h-5 w-5"}),"    "]}),a.jsx(Co,{className:"flex items-center gap-4",children:b&&a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Fo,{className:"h-3 w-3"}),": ",b.toLocaleTimeString("ko-KR")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[" : ",xt()]})]})})]}),a.jsxs(Sr,{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(At,{htmlFor:"consultation-notes",children:" "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"auto-save",checked:N,onChange:Ue=>y(Ue.target.checked),className:"rounded"}),a.jsx("label",{htmlFor:"auto-save",className:"text-xs text-gray-500",children:"30 "})]})]}),a.jsx(Ki,{id:"consultation-notes",value:_,onChange:Ue=>A(Ue.target.value),placeholder:" ,  ,    ...",rows:12,className:"font-mono text-sm"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_.length,"  / : ",N?"":""]})]}),a.jsx(qm,{}),a.jsxs("div",{children:[a.jsx(At,{children:"  *"}),a.jsxs(x7,{value:E,onValueChange:Ue=>C(Ue),className:"mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xu,{value:"completed",id:"completed"}),a.jsxs(At,{htmlFor:"completed",className:"font-normal flex items-center gap-2",children:[a.jsx(Vi,{className:"h-4 w-4 text-green-600"})," "]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xu,{value:"postponed",id:"postponed"}),a.jsxs(At,{htmlFor:"postponed",className:"font-normal flex items-center gap-2",children:[a.jsx(zn,{className:"h-4 w-4 text-yellow-600"}),""]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xu,{value:"refused",id:"refused"}),a.jsxs(At,{htmlFor:"refused",className:"font-normal flex items-center gap-2",children:[a.jsx(Mf,{className:"h-4 w-4 text-red-600"}),""]})]})]})]}),(E==="postponed"||E==="refused")&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(At,{htmlFor:"result-reason-code",children:"  *"}),a.jsxs(YE,{value:R,onValueChange:K,children:[a.jsx(QE,{id:"result-reason-code",className:"mt-2",children:a.jsx(XE,{placeholder:"  "})}),a.jsx(ZE,{children:E==="postponed"?a.jsxs(a.Fragment,{children:[a.jsx(kn,{value:"P001",children:"P001 -  "}),a.jsx(kn,{value:"P002",children:"P002 -   "}),a.jsx(kn,{value:"P003",children:"P003 -   "}),a.jsx(kn,{value:"P999",children:"P999 - "})]}):a.jsxs(a.Fragment,{children:[a.jsx(kn,{value:"R001",children:"R001 -   ( )"}),a.jsx(kn,{value:"R002",children:"R002 -  "}),a.jsx(kn,{value:"R003",children:"R003 -  "}),a.jsx(kn,{value:"R004",children:"R004 -  "}),a.jsx(kn,{value:"R999",children:"R999 - "})]})})]})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"result-reason",children:" "}),a.jsx(Cr,{id:"result-reason",value:O,onChange:Ue=>D(Ue.target.value),placeholder:"  ",className:"mt-2"})]})]}),a.jsx(qm,{}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n?a.jsxs(dt,{variant:"outline",onClick:()=>m("referral"),className:"w-full",children:[a.jsx(FA,{className:"h-4 w-4 mr-2"}),"/"]}):a.jsx("div",{className:"w-full rounded-md border border-gray-200 bg-gray-50 px-3 py-2 text-center text-xs text-gray-500",children:"/   "}),a.jsxs(dt,{variant:"outline",onClick:()=>m("dropout"),className:"w-full",children:[a.jsx(_N,{className:"h-4 w-4 mr-2"})," "]})]}),a.jsx(qm,{}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(dt,{variant:"outline",onClick:zr,className:"flex-1",children:[a.jsx(kT,{className:"h-4 w-4 mr-2"})," "]}),a.jsxs(dt,{onClick:Rt,className:"flex-1",disabled:!E,children:[a.jsx(Vi,{className:"h-4 w-4 mr-2"})," "]})]})]})]})]})})}),n&&a.jsx(Ex,{value:"referral",className:"h-full m-0 p-6",children:a.jsx("div",{className:"max-w-[1200px] mx-auto",children:a.jsxs(Nr,{children:[a.jsxs(pn,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b",children:[a.jsxs(mn,{className:"flex items-center gap-2 text-purple-900",children:[a.jsx(Wi,{className:"h-5 w-5"}),"  "]}),a.jsx(Co,{children:"  ,  ,    -      "})]}),a.jsx(Sr,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(At,{children:"  *"}),a.jsxs(x7,{value:H,onValueChange:Ue=>$(Ue),className:"mt-2 space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 border border-gray-200 rounded-lg p-3 hover:bg-gray-50",children:[a.jsx(Xu,{value:"screening",id:"screening"}),a.jsxs(At,{htmlFor:"screening",className:"font-normal flex items-center gap-2 cursor-pointer flex-1",children:[a.jsx(Mh,{className:"h-4 w-4 text-purple-600"}),"  "]})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-gray-200 rounded-lg p-3 hover:bg-gray-50",children:[a.jsx(Xu,{value:"health_center",id:"health_center"}),a.jsxs(At,{htmlFor:"health_center",className:"font-normal flex items-center gap-2 cursor-pointer flex-1",children:[a.jsx(bf,{className:"h-4 w-4 text-blue-600"})," "]})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-gray-200 rounded-lg p-3 hover:bg-gray-50",children:[a.jsx(Xu,{value:"medical",id:"medical"}),a.jsxs(At,{htmlFor:"medical",className:"font-normal flex items-center gap-2 cursor-pointer flex-1",children:[a.jsx(MY,{className:"h-4 w-4 text-red-600"})," "]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(At,{htmlFor:"appointment-date",children:"  *"}),a.jsx(Cr,{id:"appointment-date",type:"date",value:U,onChange:Ue=>P(Ue.target.value),className:"mt-2",min:new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"appointment-time",children:"  *"}),a.jsxs(YE,{value:G,onValueChange:L,children:[a.jsx(QE,{id:"appointment-time",className:"mt-2",children:a.jsx(XE,{placeholder:" "})}),a.jsxs(ZE,{children:[a.jsx(kn,{value:"09:00",children:" 09:00"}),a.jsx(kn,{value:"10:00",children:" 10:00"}),a.jsx(kn,{value:"11:00",children:" 11:00"}),a.jsx(kn,{value:"14:00",children:" 02:00"}),a.jsx(kn,{value:"15:00",children:" 03:00"}),a.jsx(kn,{value:"16:00",children:" 04:00"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"pre-visit",children:"  "}),a.jsx(Ki,{id:"pre-visit",value:M,onChange:Ue=>B(Ue.target.value),placeholder:":  ,   ,  ",rows:3,className:"mt-2"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(At,{children:"SMS  "}),a.jsx("div",{className:"mt-2 bg-gray-900 text-white p-4 rounded-lg min-h-[200px] font-mono text-sm whitespace-pre-line",children:J||"      SMS "})]}),a.jsxs(vf,{children:[a.jsx(Ih,{className:"h-4 w-4"}),a.jsxs(Nf,{className:"text-sm",children:[a.jsx("strong",{children:":"})," ",Ie.phone,a.jsx("br",{}),"    SMS ,    ."]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(dt,{variant:"outline",onClick:()=>m("consultation"),className:"flex-1",children:" "}),a.jsxs(dt,{onClick:mr,className:"flex-1",disabled:!H||!U||!G,children:[a.jsx(Ih,{className:"h-4 w-4 mr-2"})," "]})]})]})]})})]})})}),a.jsx(Ex,{value:"dropout",className:"h-full m-0 p-6",children:a.jsx("div",{className:"max-w-[1200px] mx-auto",children:a.jsxs(Nr,{className:"border-orange-200",children:[a.jsxs(pn,{className:"bg-gradient-to-r from-orange-50 to-red-50 border-b border-orange-200",children:[a.jsxs(mn,{className:"flex items-center gap-2 text-orange-900",children:[a.jsx(_N,{className:"h-5 w-5"}),"   "]}),a.jsx(Co,{children:"       -      "})]}),a.jsxs(Sr,{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Ka,{className:"h-4 w-4 text-orange-600"})," "]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"dropout-reason",children:"  *"}),a.jsxs(YE,{value:I,onValueChange:Y,children:[a.jsx(QE,{id:"dropout-reason",className:"mt-2",children:a.jsx(XE,{placeholder:" "})}),a.jsxs(ZE,{children:[a.jsx(kn,{value:"no_response",children:"D001 -   (3  )"}),a.jsx(kn,{value:"refused",children:"D002 -   "}),a.jsx(kn,{value:"family_refused",children:"D003 -  "}),a.jsx(kn,{value:"relocated",children:"D004 -  / "}),a.jsx(kn,{value:"deceased",children:"D005 - "}),a.jsx(kn,{value:"other_service",children:"D006 -   "}),a.jsx(kn,{value:"other",children:"D999 - "})]})]})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"dropout-details",children:"  *"}),a.jsx(Ki,{id:"dropout-details",value:ae,onChange:Ue=>le(Ue.target.value),placeholder:" ,   ,    ",rows:6,className:"mt-2"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(QO,{className:"h-4 w-4 text-blue-600"})," "]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"recontact-date",children:" "}),a.jsx(Cr,{id:"recontact-date",type:"date",value:he,onChange:Ue=>X(Ue.target.value),className:"mt-2",min:new Date().toISOString().split("T")[0]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:he&&" 1    "})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"recontact-plan",children:"   "}),a.jsx(Ki,{id:"recontact-plan",value:ne,onChange:Ue=>ve(Ue.target.value),placeholder:": 1     ,    ",rows:6,className:"mt-2"})]}),a.jsxs(vf,{className:"border-blue-200 bg-blue-50",children:[a.jsx(QO,{className:"h-4 w-4 text-blue-600"}),a.jsx(Nf,{className:"text-sm text-blue-900",children:"       ,   ."})]})]})]}),a.jsx(qm,{className:"my-6"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(dt,{variant:"outline",onClick:()=>m("consultation"),className:"flex-1",children:" "}),a.jsxs(dt,{variant:"destructive",onClick:ar,disabled:!I||!ae.trim(),className:"flex-1",children:[a.jsx(Mf,{className:"h-4 w-4 mr-2"}),"  "]})]})]})]})})}),a.jsx(Ex,{value:"history",className:"h-full m-0 p-6",children:a.jsx("div",{className:"max-w-[1200px] mx-auto",children:a.jsxs(Nr,{children:[a.jsxs(pn,{children:[a.jsxs(mn,{className:"flex items-center gap-2",children:[a.jsx(Fo,{className:"h-5 w-5"}),"  "]}),a.jsx(Co,{children:"      "})]}),a.jsx(Sr,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:Ct.map((Ue,Mt)=>a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 border-2 border-blue-600 flex items-center justify-center",children:a.jsx(wi,{className:"h-4 w-4 text-blue-600"})}),Mt<Ct.length-1&&a.jsx("div",{className:"w-0.5 h-full bg-gray-300 mt-2"})]}),a.jsxs("div",{className:"flex-1 pb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-gray-900",children:[" #",Ct.length-Mt]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Ue.date," ",Ue.time,"  ",Ue.counselor,"  ",Ue.duration,""]})]}),a.jsx(Gr,{variant:Ue.result==="completed"?"default":Ue.result==="postponed"?"secondary":"destructive",children:Ue.result==="completed"?"":Ue.result==="postponed"?"":""})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:Ue.summary}),Ue.actions.length>0&&a.jsx("div",{className:"space-y-1",children:Ue.actions.map((ot,Qt)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[a.jsx(Vi,{className:"h-3 w-3 text-green-600"}),ot]},Qt))})]})]},Ue.id))})})]})})})]})]})})]})}const eA=[{id:"CONTACT_PRIMARY",category:"CONTACT",label:"1  ",hint:"  ",build:({centerName:e,link:t,centerPhone:r})=>`[:${e}]    .      (/)   .      : ${t} / : ${r}`},{id:"CONTACT_GUARDIAN_OPTION",category:"CONTACT",label:"1   ( )",hint:"    ",build:({centerName:e,link:t,centerPhone:r})=>`[:${e}]        ()   .  / : ${t} / : ${r}`},{id:"BOOKING_PRIMARY",category:"BOOKING",label:"1 ",hint:"/  ",build:({centerName:e,bookingLink:t,centerPhone:r})=>`[:${e}]  /  .   . /: ${t} / : ${r}`},{id:"BOOKING_CHANNEL_OPTION",category:"BOOKING",label:"1  (/ )",hint:"   ",build:({centerName:e,bookingLink:t})=>`[:${e}] /      .    . ${t}`},{id:"REMINDER_FIRST",category:"REMINDER",label:"1 ",hint:"/ 1 ",build:({centerName:e,link:t,centerPhone:r})=>`[:${e}]        .    ,    . ${t} / : ${r}`},{id:"REMINDER_FINAL",category:"REMINDER",label:" ",hint:" ",build:({centerName:e,link:t,centerPhone:r})=>`[:${e}]    .     /  . ${t} / : ${r}`}],tA={CONTACT:{label:"1 ",tone:"border-blue-200 bg-blue-50 text-blue-800"},BOOKING:{label:"",tone:"border-emerald-200 bg-emerald-50 text-emerald-800"},REMINDER:{label:"",tone:"border-amber-200 bg-amber-50 text-amber-800"}};function t_e(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}async function r_e(e){const t=["/api/outreach/send-sms","http://localhost:4120/api/outreach/send-sms"];for(const r of t)try{if((await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}return!1}function n_e({caseId:e,onBack:t}){const r=g.useMemo(()=>Kv(e),[e]),[n,s]=g.useState("CONTACT_PRIMARY"),[i,o]=g.useState("citizen"),[l,d]=g.useState("NOW"),[u,m]=g.useState(""),[p,h]=g.useState(" "),[b,v]=g.useState("02-1234-5678"),[N,y]=g.useState("https://neuro-shield.local/check"),[S,w]=g.useState("https://neuro-shield.local/booking"),[_,A]=g.useState([]),[E,C]=g.useState(!1),O=eA.find(P=>P.id===n)??eA[0],D=O.build({centerName:p,link:N,bookingLink:S,centerPhone:b}),R=g.useMemo(()=>{const P={CONTACT:[],BOOKING:[],REMINDER:[]};for(const G of eA)P[G.category].push(G);return P},[]),K=i==="guardian"?r?.profile.guardianPhone:r?.profile.phone,H=i==="guardian"&&!r?.profile.guardianPhone,$=E||!K||l==="SCHEDULE"&&!u,U=async()=>{if(!K)return;C(!0);const P=new Date().toISOString();let G=l==="NOW"?"SENT":"SCHEDULED";l==="NOW"&&(G=await r_e({case_id:e,template_id:O.id,citizen_phone:K,message:D,channel:"sms",dedupe_key:`${e}-${O.id}-${i}-${Date.now()}`})?"SENT":"FAILED"),A(L=>[{id:`${Date.now()}`,at:l==="SCHEDULE"?new Date(u).toISOString():P,recipient:i,templateLabel:O.label,status:G},...L]),C(!1)};return a.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[a.jsx("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-white px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:t,className:"inline-flex items-center gap-1 rounded-md border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 hover:bg-gray-50",children:[a.jsx(Eo,{size:14})," "]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"/ "}),a.jsxs("p",{className:"text-xs text-gray-500",children:["CASE ID: ",e]})]})]}),a.jsx("span",{className:"rounded-full border border-blue-200 bg-blue-50 px-3 py-1 text-[11px] font-semibold text-blue-700",children:"Stage1   "})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsx("section",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("p",{className:"mt-1 text-sm font-bold text-gray-900",children:r?.id??e})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:""}),a.jsx("p",{className:"mt-1 text-sm font-bold text-gray-900",children:r?N0(r.profile.age):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("p",{className:"mt-1 text-sm font-bold text-gray-900",children:r?Mo(r.profile.phone):"-"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),a.jsx("p",{className:"mt-1 text-sm font-bold text-gray-900",children:r?.profile.guardianPhone?Mo(r.profile.guardianPhone):""})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-12",children:[a.jsxs("section",{className:"xl:col-span-8 space-y-4",children:[a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(wi,{size:15,className:"text-gray-500"})," "]}),a.jsx("div",{className:"mt-3 space-y-3",children:Object.keys(R).map(P=>a.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:[a.jsx("p",{className:"mb-2 text-xs font-bold text-gray-700",children:tA[P].label}),a.jsx("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:R[P].map(G=>a.jsxs("button",{onClick:()=>s(G.id),className:`rounded-lg border px-3 py-2 text-left transition-colors ${n===G.id?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:bg-gray-50"}`,children:[a.jsx("p",{className:"text-xs font-semibold text-gray-900",children:G.label}),a.jsx("p",{className:"mt-0.5 text-[11px] text-gray-500",children:G.hint})]},G.id))})]},P))})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(B8,{size:15,className:"text-gray-500"})," "]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:""}),a.jsx("input",{value:p,onChange:P=>h(P.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]}),a.jsxs("label",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:" "}),a.jsx("input",{value:b,onChange:P=>v(P.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]}),a.jsxs("label",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:" "}),a.jsx("input",{value:N,onChange:P=>y(P.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]}),a.jsxs("label",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:" "}),a.jsx("input",{value:S,onChange:P=>w(P.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]})]})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-900",children:" "}),a.jsx("span",{className:`rounded-full border px-2 py-0.5 text-[10px] font-semibold ${tA[O.category].tone}`,children:tA[O.category].label})]}),a.jsx("p",{className:"mt-3 whitespace-pre-wrap rounded-lg border border-gray-100 bg-gray-50 p-3 text-sm leading-relaxed text-gray-800",children:D}),a.jsxs("p",{className:"mt-2 text-[11px] text-gray-500",children:[" : ",D.length,""]})]})]}),a.jsxs("aside",{className:"xl:col-span-4 space-y-4",children:[a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Ih,{size:15,className:"text-gray-500"})," "]}),a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-xs",children:[a.jsx("input",{type:"radio",checked:i==="citizen",onChange:()=>o("citizen")}),a.jsx(Vo,{size:12,className:"text-gray-500"})," (",r?Mo(r.profile.phone):"-",")"]}),a.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-xs ${H?"border-dashed border-gray-200 bg-gray-50 text-gray-400":"border-gray-200 bg-gray-50"}`,children:[a.jsx("input",{type:"radio",checked:i==="guardian",onChange:()=>o("guardian"),disabled:H}),a.jsx(FX,{size:12,className:"text-gray-500"})," (",r?.profile.guardianPhone?Mo(r.profile.guardianPhone):"",")"]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-1 rounded-lg border border-gray-200 bg-gray-50 p-1 text-[11px] font-semibold",children:[a.jsx("button",{onClick:()=>d("NOW"),className:`rounded-md px-2 py-1 ${l==="NOW"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:" "}),a.jsx("button",{onClick:()=>d("SCHEDULE"),className:`rounded-md px-2 py-1 ${l==="SCHEDULE"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:" "})]}),l==="SCHEDULE"?a.jsxs("label",{className:"mt-3 block text-xs text-gray-500",children:[" ",a.jsx("input",{type:"datetime-local",value:u,onChange:P=>m(P.target.value),className:"mt-1 w-full rounded-md border border-gray-200 px-2 py-2 text-xs outline-none focus:border-blue-400"})]}):null,a.jsx("button",{onClick:U,disabled:$,className:"mt-3 inline-flex w-full items-center justify-center gap-2 rounded-md bg-[#163b6f] px-3 py-2 text-xs font-semibold text-white disabled:cursor-not-allowed disabled:bg-gray-300",children:E?" ...":l==="NOW"?" ":" "}),K?null:a.jsx("p",{className:"mt-2 text-[11px] text-red-600",children:"   ."})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Gn,{size:15,className:"text-gray-500"})," "]}),a.jsx("div",{className:"mt-3 space-y-2",children:_.length===0?a.jsx("p",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs text-gray-500",children:"  ."}):_.map(P=>a.jsxs("div",{className:"rounded-md border border-gray-100 bg-gray-50 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-semibold text-gray-800",children:P.templateLabel}),a.jsx("span",{className:`rounded px-1.5 py-0.5 text-[10px] font-semibold ${P.status==="SENT"?"bg-emerald-100 text-emerald-700":P.status==="SCHEDULED"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:P.status==="SENT"?"":P.status==="SCHEDULED"?"":""})]}),a.jsxs("p",{className:"mt-1 text-[11px] text-gray-500",children:[P.recipient==="citizen"?"":"","  ",t_e(P.at)]})]},P.id))})]}),a.jsxs("div",{className:"rounded-xl border border-blue-100 bg-blue-50 p-4",children:[a.jsxs("h4",{className:"text-xs font-bold text-blue-900 flex items-center gap-1",children:[a.jsx(wT,{size:13})," "]}),a.jsxs("ul",{className:"mt-2 space-y-1 text-[11px] text-blue-800",children:[a.jsx("li",{children:"1 :      "}),a.jsx("li",{children:": /  "}),a.jsx("li",{children:":  "})]})]})]})]})]})]})}function a_e({userRole:e="counselor",userName:t="",centerName:r="  ",onLogout:n}){const[s,i]=g.useState("main"),[o,l]=g.useState(null),[d,u]=g.useState("Stage 1"),[m,p]=g.useState(null),[h,b]=g.useState("detail"),v=(_,A)=>{l(_),u(A),b("detail"),i("cases")},N=_=>{p(_),l(null),b("detail"),i("cases")},y=()=>{l(null),b("detail")},S=()=>{if(o&&s==="cases")return h==="consultation"?a.jsx(e_e,{caseId:o,showReferralTab:!1,onComplete:y,onCancel:()=>b("detail"),onBack:()=>b("detail")}):h==="sms"?a.jsx(n_e,{caseId:o,onBack:()=>b("detail")}):h==="stage-workflow"&&d==="Stage 2"?a.jsx(iz,{caseId:o,onBack:y}):h==="stage-workflow"&&d==="Stage 3"?a.jsx(oz,{caseId:o,onBack:y}):a.jsx(Zje,{caseId:o,stage:d,onBack:y});switch(s){case"main":return a.jsx(w6,{onNavigateToCases:N,onSelectCase:v,centerName:r});case"cases":return a.jsx(c2e,{onSelectCase:v,initialFilter:m});case"calendar":return a.jsx(w2e,{});case"reports":return a.jsx(E2e,{});case"settings":return a.jsx(A2e,{});default:return a.jsx(w6,{onNavigateToCases:N,onSelectCase:v,centerName:r})}},w=s==="cases"&&o!==null;return a.jsxs("div",{className:"flex h-screen w-full bg-gray-50 overflow-hidden text-slate-900 font-sans",children:[a.jsx(_2e,{activeTab:s,setActiveTab:_=>{i(_),l(null),p(null),b("detail")},userName:t,centerName:r,userRole:e,onLogout:n}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[!w&&a.jsx(T2e,{activeTab:s}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:S()})]})]})}const s_e=["","","","","",""],i_e={:" ",:" ",:" ",:"  ",:"",:" "};function o_e(e){let t=e;return s_e.forEach(r=>{t=t.split(r).join(i_e[r])}),t}function it(e){return o_e(e)}const DK={11:[{code:"11010",label:""},{code:"11020",label:""},{code:"11030",label:""},{code:"11040",label:""}],26:[{code:"26010",label:""},{code:"26020",label:""},{code:"26030",label:""},{code:"26040",label:""}],27:[{code:"27010",label:""},{code:"27020",label:""},{code:"27030",label:""},{code:"27040",label:""}],29:[{code:"29010",label:""},{code:"29020",label:""},{code:"29030",label:""}],31:[{code:"31010",label:""},{code:"31020",label:""},{code:"31030",label:""},{code:"31040",label:""}],41:[{code:"41010",label:""},{code:"41020",label:""},{code:"41030",label:""},{code:"41040",label:""}],44:[{code:"44010",label:""},{code:"44020",label:""},{code:"44030",label:""},{code:"44040",label:""}],46:[{code:"46010",label:""},{code:"46020",label:""},{code:"46030",label:""},{code:"46040",label:""}],47:[{code:"47010",label:""},{code:"47020",label:""},{code:"47030",label:""},{code:"47040",label:""}],48:[{code:"48010",label:""},{code:"48020",label:""},{code:"48030",label:""},{code:"48040",label:""}],50:[{code:"50010",label:""},{code:"50020",label:""}]},l_e={slaBreachRate:.35,notReachedRate:.3,avgWaitTimeNorm:.2,longWaitRate:.15},y7={kpi:.6,volume:.4},MK=e=>Math.max(0,Math.min(1,e));function c_e(e,t,r,n){if(r<=t)return .5;const s=MK((e-t)/(r-t));return n==="higherWorse"?s:1-s}function d_e(e,t,r){return r<=t?.5:MK((e-t)/(r-t))}function u_e(e){const t=c_e(e.kpiValue,e.kpiMin,e.kpiMax,e.direction),r=d_e(e.volume,e.volumeMin,e.volumeMax);return Number((t*y7.kpi+r*y7.volume).toFixed(3))}const yh={thresholds:{longWaitDays:7,slaNearDays:3},weights:{...l_e},notifications:{slaBreachAlert:!0,slaImminentAlert:!0,longWaitSurge:!1,riskIncrease:!1}};function IK(e){try{const t=localStorage.getItem(`regional.settings.${e}.thresholds`),r=localStorage.getItem(`regional.settings.${e}.weights`),n=localStorage.getItem(`regional.settings.${e}.notifications`);return{thresholds:t?JSON.parse(t):yh.thresholds,weights:r?JSON.parse(r):yh.weights,notifications:n?JSON.parse(n):yh.notifications}}catch{return{...yh}}}function f_e(e,t){localStorage.setItem(`regional.settings.${e}.thresholds`,JSON.stringify(t.thresholds)),localStorage.setItem(`regional.settings.${e}.weights`,JSON.stringify(t.weights)),localStorage.setItem(`regional.settings.${e}.notifications`,JSON.stringify(t.notifications))}const p_e={regionalSla:"regional_sla_violation",regionalQueueRisk:"regional_queue_risk",regionalRecontact:"regional_recontact_rate",regionalDataReadiness:"regional_data_readiness",regionalGovernance:"regional_governance_missing",regionalAdTransitionHotspot:"regional_ad_transition_hotspot",regionalDxDelayHotspot:"regional_dx_delay_hotspot",regionalScreenToDxRate:"regional_screen_to_dx_rate"},v7={regionalSla:"blue",regionalQueueRisk:"orange",regionalRecontact:"red",regionalDataReadiness:"orange",regionalGovernance:"purple",regionalAdTransitionHotspot:"red",regionalDxDelayHotspot:"orange",regionalScreenToDxRate:"teal"},Ec="    ",aT=[{key:"regionalSla",label:" (/24h)",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"     ",scopeLine:Ec,clickAction:"   .",drilldownKind:"inflow",mapMetricLabel:"  ",trendGoal:280,color:"#2563eb",iconBg:"bg-blue-100 text-blue-700"},{key:"regionalQueueRisk",label:" ( )",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"  /   ",scopeLine:Ec,clickAction:"    .",drilldownKind:"queue",mapMetricLabel:"  ",trendGoal:160,color:"#ea580c",iconBg:"bg-orange-100 text-orange-700"},{key:"regionalRecontact",label:"SLA (/)",shortLabel:"SLA ",unit:"%",direction:"higherWorse",tooltip:" /     ",scopeLine:Ec,clickAction:"   .",drilldownKind:"sla",mapMetricLabel:" SLA  ",trendGoal:6,color:"#ef4444",iconBg:"bg-red-100 text-red-700"},{key:"regionalDataReadiness",label:" ",shortLabel:"",unit:"%",direction:"higherWorse",tooltip:"     ",scopeLine:Ec,clickAction:"   .",drilldownKind:"recontact",mapMetricLabel:"   ",trendGoal:9,color:"#d97706",iconBg:"bg-amber-100 text-amber-700"},{key:"regionalGovernance",label:" ( )",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"  SLA    ",scopeLine:Ec,clickAction:"   .",drilldownKind:"centerRisk",mapMetricLabel:"   ",trendGoal:40,color:"#7c3aed",iconBg:"bg-violet-100 text-violet-700"},{key:"regionalAdTransitionHotspot",label:"AD    ",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"      ",scopeLine:Ec,clickAction:"      .",drilldownKind:"centerRisk",mapMetricLabel:" AD   ",trendGoal:42,color:"#dc2626",iconBg:"bg-rose-100 text-rose-700"},{key:"regionalDxDelayHotspot",label:"  ",shortLabel:" ",unit:"",direction:"higherWorse",tooltip:"       ",scopeLine:Ec,clickAction:"      .",drilldownKind:"queue",mapMetricLabel:"   ",trendGoal:24,color:"#f97316",iconBg:"bg-orange-100 text-orange-700"},{key:"regionalScreenToDxRate",label:"  ",shortLabel:"",unit:"%",direction:"higherBetter",tooltip:"      ",scopeLine:Ec,clickAction:"      .",drilldownKind:"sla",mapMetricLabel:"  ",trendGoal:68,color:"#0f766e",iconBg:"bg-teal-100 text-teal-700"}],Of=aT.reduce((e,t)=>(e[t.key]=t,e),{}),m_e="drill",h_e="kpi",g_e="range",x_e="view",jp={REGION:0,SIGUNGU:1,EUPMYEONDONG:2,CUSTOM:3};function b_e(e){return e==="REGION"||e==="SIGUNGU"||e==="EUPMYEONDONG"||e==="CUSTOM"?e:null}function y_e(e){if(!e||typeof e!="object")return null;const t=e,r=b_e(t.l??t.level),n=t.i??t.id;if(!r||typeof n!="string"&&typeof n!="number")return null;const s=String(n),i=t.n??t.label??s,o=typeof i=="string"&&i.trim()?i:s;return{l:r,i:s,n:o}}function a1(e){const t=e.filter(Boolean).map(n=>({l:n.l,i:String(n.i),n:n.n})),r=[];return t.forEach(n=>{const s=jp[n.l];for(;r.length>0;){const i=r[r.length-1];if(jp[i.l]<s)break;r.pop()}r.push(n)}),r}function sT(e){const t=a1(e);return JSON.stringify(t.map(r=>({l:r.l,i:String(r.i),n:r.n})))}function N7(e){try{const t=JSON.parse(e);return Array.isArray(t)?a1(t.map(r=>y_e(r)).filter(r=>!!r)):[]}catch{return[]}}function LK(e){if(!e)return[];const t=N7(e);if(t.length>0)return t;try{const r=decodeURIComponent(e);if(r!==e)return N7(r)}catch{return[]}return[]}function iT(e){return e.map(t=>({l:t.level,i:String(t.id),n:t.label}))}function S7(e){const t=[];return e.forEach(r=>{const n=jp[r.level];for(;t.length>0;){const s=t[t.length-1];if(jp[s.level]<n)break;t.pop()}t.push({...r,id:String(r.id)})}),t}function Wm(e,t){return{level:e.level,id:String(e.id),label:e.label,filters:{...t},timestamp:Date.now()}}function $K(e,t){return e==="geomap"||e==="heatmap"?e:t}function FK(e,t){return e==="24h"||e==="7d"||e==="30d"||e==="90d"?e:e==="weekly"?"7d":e==="monthly"?"30d":e==="quarterly"?"90d":t}function rA(e,t,r,n,s){if(typeof window>"u")return[e];const i=new URLSearchParams(window.location.search),o=LK(i.get(t)),l={kpi:i.get(r)??e.filters.kpi,range:FK(i.get(n)??e.filters.range,e.filters.range),view:$K(i.get(s),e.filters.view)};if(!o.length)return[{...e,filters:{...l}}];const d={l:e.level,i:String(e.id),n:e.label};return a1([d,...o.filter(m=>!(m.l===d.l&&m.i===d.i))]).map((m,p)=>({level:m.l,id:m.i,label:p===0?e.label:m.n,filters:{...l},timestamp:Date.now()+p}))}function v_e(e,t){return e.kpi===t.kpi&&e.range===t.range&&e.view===t.view&&(e.overlay??"")===(t.overlay??"")}function Qu(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(e[r].level!==t[r].level||String(e[r].id)!==String(t[r].id)||e[r].label!==t[r].label||!v_e(e[r].filters,t[r].filters))return!1;return!0}function oT(e,t){return`${e}|${t.kpi}|${t.range}|${t.view}`}function j7(e){const{stack:t,mode:r,queryKey:n,kpiKey:s,rangeKey:i,viewKey:o,defaultFilters:l,lastAppliedQueryRef:d}=e;if(typeof window>"u"||!t.length)return!1;const u=new URL(window.location.href),m=new URL(window.location.href),p=t[t.length-1],h=sT(iT(t)),v=a1(iT(t)).length<=1,N=p.filters.kpi===l.kpi&&p.filters.range===l.range&&p.filters.view===l.view;if(v?m.searchParams.delete(n):m.searchParams.set(n,h),v&&N?(m.searchParams.delete(o),m.searchParams.delete(s),m.searchParams.delete(i)):(p.filters.view===l.view?m.searchParams.delete(o):m.searchParams.set(o,p.filters.view),p.filters.kpi===l.kpi?m.searchParams.delete(s):m.searchParams.set(s,p.filters.kpi),p.filters.range===l.range?m.searchParams.delete(i):m.searchParams.set(i,p.filters.range)),m.search===u.search)return!1;r==="replace"?window.history.replaceState({},"",m.toString()):window.history.pushState({},"",m.toString());const y=v?"":h;return d.current=oT(y,p.filters),!0}function N_e({root:e,initialFilters:t,queryKey:r=m_e,kpiKey:n=h_e,rangeKey:s=g_e,viewKey:i=x_e}){const o=g.useRef(t),l=g.useRef("");g.useEffect(()=>{o.current=t},[t.kpi,t.overlay,t.range,t.view]);const d=g.useMemo(()=>`${e.level}:${String(e.id)}:${e.label}`,[e.id,e.label,e.level]),u=g.useMemo(()=>Wm(e,t),[t.kpi,t.overlay,t.range,t.view,e.id,e.label,e.level,d]),[m,p]=g.useState(()=>rA(u,r,n,s,i)),h=m[m.length-1]??u,b=m.length>1,v=b;g.useEffect(()=>{l.current=oT(sT(iT(m)),h.filters)},[h.filters.kpi,h.filters.range,h.filters.view,m]);const N=g.useCallback((E,C)=>{const O=E.length?S7(E):[Wm({level:e.level,id:String(e.id),label:e.label},o.current)];return j7({stack:O,mode:C,queryKey:r,kpiKey:n,rangeKey:s,viewKey:i,defaultFilters:o.current,lastAppliedQueryRef:l}),O},[n,r,s,e.id,e.label,e.level,i]);g.useEffect(()=>{const E=Wm(e,o.current),C=rA(E,r,n,s,i);p(O=>Qu(O,C)?O:C),j7({stack:C,mode:"replace",queryKey:r,kpiKey:n,rangeKey:s,viewKey:i,defaultFilters:o.current,lastAppliedQueryRef:l})},[n,r,s,e.id,e.label,e.level,d,i]),g.useEffect(()=>{const E=()=>{const C=new URLSearchParams(window.location.search),O=sT(LK(C.get(r)));if(oT(O,{kpi:C.get(n)??o.current.kpi,range:FK(C.get(s)??o.current.range,o.current.range),view:$K(C.get(i),o.current.view)})===l.current)return;const R=Wm(e,o.current),K=rA(R,r,n,s,i);p(H=>Qu(H,K)?H:K)};return window.addEventListener("popstate",E),()=>window.removeEventListener("popstate",E)},[n,r,s,e.id,e.label,e.level,d,i]);const y=g.useCallback((E,C="replace")=>{p(O=>{const D=O.length?O:[u],R=D.map(K=>({...K,filters:{...K.filters,...E}}));return Qu(D,R)?D:N(R,C)})},[N,u]),S=g.useCallback((E,C="push")=>{p(O=>{const D=S7(O.length?O:[u]),R=D[D.length-1],K={...E,id:String(E.id),filters:{...R.filters,...E.filters},timestamp:Date.now()},H=jp[K.level],$=[...D.filter(U=>jp[U.level]<H),K];return Qu(D,$)?D:N($,C)})},[N,u]),w=g.useCallback(()=>{p(E=>{if(E.length<=1)return E;const C=E.slice(0,-1);return N(C,"push")})},[N]),_=g.useCallback(E=>{p(C=>{if(E<0||E>=C.length)return C;const O=C.slice(0,E+1);return Qu(C,O)?C:N(O,"push")})},[N]),A=g.useCallback(()=>{const E=[Wm({level:e.level,id:String(e.id),label:e.label},o.current)];p(C=>Qu(C,E)?C:N(E,"push"))},[N,e.id,e.label,e.level]);return{stack:m,current:h,canBack:v,canGoBack:b,push:S,back:w,jumpTo:_,reset:A,syncFilters:y}}const S_e={nation:"sido",sido:"sigungu",sigungu:"eupmyeondong",center:"case"};function w7(e,t,r){return r?e==="nation"?r.length===2:e==="sido"||e==="sigungu"?t?r.startsWith(t)&&r.length>t.length:!1:!0:!1}function BK({level:e,parentRegionCode:t,candidates:r}){const n=S_e[e],s=new Set,i=[];for(const d of r){const u=String(d.code??"").trim();u&&(s.has(u)||(s.add(u),i.push({code:u,name:String(d.name??"").trim()})))}let o=[];if(e==="nation")o=i.filter(d=>w7(e,t,d.code));else if(t){const d=i.filter(u=>u.code===t?!1:w7(e,t,u.code));d.length>0?o=d:(o=i.filter(u=>u.code!==t),o.length>0&&console.warn("[ChildrenScope] parent-child code prefix mismatch, fallback to candidate children",{level:e,parentRegionCode:t,sampleChildCode:o[0]?.code}))}else o=i;const l=o.reduce((d,u)=>(u.name&&(d[u.code]=u.name),d),{});return{childrenType:n,childrenCodes:o.map(d=>d.code),childrenNameMap:l,children:o}}function E7({height:e=220}){return a.jsx("div",{className:"animate-pulse rounded-lg bg-gray-200",style:{height:e}})}var j_e=Symbol("radix.slottable");function w_e(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=j_e,t}var[s1]=Ai("Tooltip",[qp]),i1=qp(),UK="TooltipProvider",E_e=700,lT="tooltip.open",[A_e,I3]=s1(UK),HK=e=>{const{__scopeTooltip:t,delayDuration:r=E_e,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=g.useRef(!0),l=g.useRef(!1),d=g.useRef(0);return g.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),a.jsx(A_e,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};HK.displayName=UK;var j0="Tooltip",[__e,z0]=s1(j0),GK=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,d=I3(j0,e.__scopeTooltip),u=i1(t),[m,p]=g.useState(null),h=Uo(),b=g.useRef(0),v=o??d.disableHoverableContent,N=l??d.delayDuration,y=g.useRef(!1),[S,w]=Fl({prop:n,defaultProp:s??!1,onChange:O=>{O?(d.onOpen(),document.dispatchEvent(new CustomEvent(lT))):d.onClose(),i?.(O)},caller:j0}),_=g.useMemo(()=>S?y.current?"delayed-open":"instant-open":"closed",[S]),A=g.useCallback(()=>{window.clearTimeout(b.current),b.current=0,y.current=!1,w(!0)},[w]),E=g.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w(!1)},[w]),C=g.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{y.current=!0,w(!0),b.current=0},N)},[N,w]);return g.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),a.jsx(k3,{...u,children:a.jsx(__e,{scope:t,contentId:h,open:S,stateAttribute:_,trigger:m,onTriggerChange:p,onTriggerEnter:g.useCallback(()=>{d.isOpenDelayedRef.current?C():A()},[d.isOpenDelayedRef,C,A]),onTriggerLeave:g.useCallback(()=>{v?E():(window.clearTimeout(b.current),b.current=0)},[E,v]),onOpen:A,onClose:E,disableHoverableContent:v,children:r})})};GK.displayName=j0;var cT="TooltipTrigger",zK=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=z0(cT,r),i=I3(cT,r),o=i1(r),l=g.useRef(null),d=yr(t,l,s.onTriggerChange),u=g.useRef(!1),m=g.useRef(!1),p=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.jsx(Qv,{asChild:!0,...o,children:a.jsx(nr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:d,onPointerMove:Ot(e.onPointerMove,h=>{h.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ot(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Ot(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ot(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ot(e.onBlur,s.onClose),onClick:Ot(e.onClick,s.onClose)})})});zK.displayName=cT;var L3="TooltipPortal",[C_e,T_e]=s1(L3,{forceMount:void 0}),KK=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:s}=e,i=z0(L3,t);return a.jsx(C_e,{scope:t,forceMount:r,children:a.jsx(is,{present:r||i.open,children:a.jsx(k0,{asChild:!0,container:s,children:n})})})};KK.displayName=L3;var wp="TooltipContent",qK=g.forwardRef((e,t)=>{const r=T_e(wp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=z0(wp,e.__scopeTooltip);return a.jsx(is,{present:n||o.open,children:o.disableHoverableContent?a.jsx(WK,{side:s,...i,ref:t}):a.jsx(k_e,{side:s,...i,ref:t})})}),k_e=g.forwardRef((e,t)=>{const r=z0(wp,e.__scopeTooltip),n=I3(wp,e.__scopeTooltip),s=g.useRef(null),i=yr(t,s),[o,l]=g.useState(null),{trigger:d,onClose:u}=r,m=s.current,{onPointerInTransitChange:p}=n,h=g.useCallback(()=>{l(null),p(!1)},[p]),b=g.useCallback((v,N)=>{const y=v.currentTarget,S={x:v.clientX,y:v.clientY},w=D_e(S,y.getBoundingClientRect()),_=M_e(S,w),A=I_e(N.getBoundingClientRect()),E=$_e([..._,...A]);l(E),p(!0)},[p]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(d&&m){const v=y=>b(y,m),N=y=>b(y,d);return d.addEventListener("pointerleave",v),m.addEventListener("pointerleave",N),()=>{d.removeEventListener("pointerleave",v),m.removeEventListener("pointerleave",N)}}},[d,m,b,h]),g.useEffect(()=>{if(o){const v=N=>{const y=N.target,S={x:N.clientX,y:N.clientY},w=d?.contains(y)||m?.contains(y),_=!L_e(S,o);w?h():_&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,m,o,u,h]),a.jsx(WK,{...e,ref:i})}),[O_e,R_e]=s1(j0,{isInside:!1}),P_e=w_e("TooltipContent"),WK=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,d=z0(wp,r),u=i1(r),{onClose:m}=d;return g.useEffect(()=>(document.addEventListener(lT,m),()=>document.removeEventListener(lT,m)),[m]),g.useEffect(()=>{if(d.trigger){const p=h=>{h.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,m]),a.jsx(T0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:a.jsxs(O3,{"data-state":d.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(P_e,{children:n}),a.jsx(O_e,{scope:r,isInside:!0,children:a.jsx(REe,{id:d.contentId,role:"tooltip",children:s||n})})]})})});qK.displayName=wp;var VK="TooltipArrow",YK=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=i1(r);return R_e(VK,r).isInside?null:a.jsx(R3,{...s,...n,ref:t})});YK.displayName=VK;function D_e(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function M_e(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function I_e(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function L_e(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],d=t[o],u=l.x,m=l.y,p=d.x,h=d.y;m>n!=h>n&&r<(p-u)*(n-m)/(h-m)+u&&(s=!s)}return s}function $_e(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),F_e(t)}function F_e(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var $3=HK,F3=GK,B3=zK,U3=KK,H3=qK,G3=YK;function B_e({delayDuration:e=0,...t}){return a.jsx($3,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function U_e({...e}){return a.jsx(B_e,{children:a.jsx(F3,{"data-slot":"tooltip",...e})})}function H_e({...e}){return a.jsx(B3,{"data-slot":"tooltip-trigger",...e})}function G_e({className:e,sideOffset:t=0,children:r,...n}){return a.jsx(U3,{children:a.jsxs(H3,{"data-slot":"tooltip-content",sideOffset:t,className:ue("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[r,a.jsx(G3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function Id({help:e,onActionClick:t,actionLabel:r="  "}){return a.jsxs(U_e,{children:[a.jsx(H_e,{asChild:!0,children:a.jsx("button",{type:"button",className:"inline-flex h-4 w-4 items-center justify-center rounded-full border border-gray-300 bg-white text-gray-500 hover:text-gray-700","aria-label":"  ",children:a.jsx($f,{className:"h-3 w-3"})})}),a.jsx(G_e,{sideOffset:8,className:"max-w-[300px] rounded-lg border border-gray-200 bg-white px-3 py-2 text-gray-800 shadow-lg",children:a.jsxs("div",{className:"space-y-1.5 text-[11px] leading-relaxed",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:":"})," ",e.definition]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:" :"})," ",e.scope]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:":"})," ",e.period]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:":"})," ",e.threshold]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:":"})," ",e.interpretation]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:" :"})," ",e.nextAction]}),t?a.jsx("button",{type:"button",onClick:t,className:"mt-1 inline-flex h-6 items-center rounded border border-blue-200 bg-blue-50 px-2 text-[10px] font-medium text-blue-700 hover:bg-blue-100",children:r}):null]})})]})}function z_e({label:e,help:t,onActionClick:r,className:n}){return a.jsxs("span",{className:`inline-flex items-center gap-1.5 ${n??""}`,children:[a.jsx("span",{children:e}),a.jsx(Id,{help:t,onActionClick:r})]})}function K_e(e,t){const r={scope:`${t.scopeLabel}  `,period:`${t.rangeLabel} `};switch(e){case"slaRisk":return{definition:"     ",scope:r.scope,period:r.period,threshold:` ${t.longWaitDays}   `,interpretation:"   ",nextAction:"      ",actionTab:"bottleneck"};case"unprocessedWork":return{definition:"     ",scope:r.scope,period:`${t.rangeLabel} `,threshold:` ${t.longWaitDays}   `,interpretation:"       ",nextAction:"/    ",actionTab:"actions"};case"examDelay":return{definition:"     ",scope:r.scope,period:r.period,threshold:`  ${t.longWaitDays}`,interpretation:"  ",nextAction:"      ",actionTab:"bottleneck"};case"followupDelay":return{definition:"    ",scope:r.scope,period:r.period,threshold:` ${t.longWaitDays}    `,interpretation:"    ",nextAction:"/    ",actionTab:"actions"};case"conversionGap":return{definition:"    (-)",scope:r.scope,period:r.period,threshold:"    ",interpretation:"    ",nextAction:"    ",actionTab:"reports"};case"top5Share":return{definition:" 5    ",scope:r.scope,period:r.period,threshold:"       ",interpretation:"     ",nextAction:"/     ",actionTab:"actions"};case"insightHeadline":default:return{definition:"      ",scope:r.scope,period:r.period,threshold:` ${t.longWaitDays}  `,interpretation:"      ",nextAction:"      ",actionTab:"bottleneck"}}}const Al={unprocessedWork:{user:" ( )",technical:"Queue backlog /    "},workQueue:{user:" ",technical:" Queue"},queuePressure:{user:"  ",technical:"Queue pressure"},deadlineOverdue:{user:"  ",technical:"Long-wait backlog"},sla:{user:" ( )",technical:"SLA (  )"},examDelay:{user:"  ()",technical:"Differential exam delay hotspot"},conversionGap:{user:"   ",technical:"Screening-to-diagnostic conversion gap"},followupDelay:{user:"  ",technical:"Recontact delay"},contactUnsuccessful:{user:" ",technical:"Contact failure"}},q_e=[[/ \( \)/g,Al.unprocessedWork.user],[//g,Al.workQueue.user],[/ /g," "],[/ /g,Al.queuePressure.user],[//g,Al.deadlineOverdue.user],[/\( \)/g,Al.examDelay.user],[/\(\)/g,Al.conversionGap.user],[/ /g,Al.followupDelay.user],[/ /g,Al.contactUnsuccessful.user]];function Zu(e){return Al[e]}function nA(e){return q_e.reduce((t,[r,n])=>t.replace(r,n),e)}const W_e={regionalSla:"LOAD",regionalQueueRisk:"BOTTLENECK",regionalRecontact:"BOTTLENECK",regionalDataReadiness:"LOAD",regionalGovernance:"LOAD",regionalAdTransitionHotspot:"RISK",regionalDxDelayHotspot:"BOTTLENECK",regionalScreenToDxRate:"GAP"},Ax={RISK:"regionalAdTransitionHotspot",BOTTLENECK:"regionalDxDelayHotspot",GAP:"regionalScreenToDxRate",LOAD:"regionalQueueRisk"},V_e={regionalSla:" ( )",regionalQueueRisk:" ( )",regionalRecontact:"  ",regionalDataReadiness:"  ",regionalGovernance:" ",regionalAdTransitionHotspot:"  ",regionalDxDelayHotspot:"  ()",regionalScreenToDxRate:"   "},Y_e={regionalSla:"slaRisk",regionalQueueRisk:"unprocessedWork",regionalRecontact:"followupDelay",regionalDataReadiness:"unprocessedWork",regionalGovernance:"unprocessedWork",regionalAdTransitionHotspot:"slaRisk",regionalDxDelayHotspot:"examDelay",regionalScreenToDxRate:"conversionGap"};function X_e(){const e=g.useRef(null),[t,r]=g.useState({width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080}),n=g.useRef(null);return g.useEffect(()=>{const s=e.current;if(!s)return;const i=()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{const l=s.getBoundingClientRect();r(d=>d.width===l.width&&d.height===l.height?d:{width:l.width,height:l.height})})},o=new ResizeObserver(i);return o.observe(s),window.addEventListener("resize",i,{passive:!0}),i(),()=>{o.disconnect(),window.removeEventListener("resize",i),n.current&&cancelAnimationFrame(n.current)}},[]),[e,t]}const Q_e=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t},Nt=(e,t,r)=>t+(r-t)*(Q_e(e)%1e3/1e3),dT={week:1,month:1.1,quarter:1.25},Z_e={"24h":"week","7d":"week","30d":"month","90d":"quarter"},Ju={"24h":"24h","7d":"7","30d":"30","90d":"90"},XK={"24h":.35,"7d":1,"30d":2.8,"90d":6.8},QK={"24h":.85,"7d":1,"30d":1.25,"90d":1.45},ZK={"24h":-.4,"7d":0,"30d":.5,"90d":.8},Lr={regionalSla:[35,260],regionalQueueRisk:[40,320],regionalRecontact:[3,21],regionalDataReadiness:[4,24],regionalGovernance:[22,78],regionalAdTransitionHotspot:[18,92],regionalDxDelayHotspot:[8,68],regionalScreenToDxRate:[34,91]},J_e={regionalSla:a.jsx(Ka,{className:"h-4 w-4"}),regionalQueueRisk:a.jsx(Rf,{className:"h-4 w-4"}),regionalRecontact:a.jsx(as,{className:"h-4 w-4"}),regionalDataReadiness:a.jsx(ql,{className:"h-4 w-4"}),regionalGovernance:a.jsx(Yi,{className:"h-4 w-4"}),regionalAdTransitionHotspot:a.jsx(Mh,{className:"h-4 w-4"}),regionalDxDelayHotspot:a.jsx(Ky,{className:"h-4 w-4"}),regionalScreenToDxRate:a.jsx(q8,{className:"h-4 w-4"})},aA={density:.45,transition:.35,delta:.2},sA={wait:.45,delayed:.3,backlog:.25},iA={gapRate:.45,deltaGap:.35,support:.2},A7={seoul:["","","","","","","","","","","","","","","","","","","","","","","","",""],busan:["","","","","","","","","","","","","","","",""],daegu:["","","","","","","",""],incheon:["","","","","","","","","",""],gwangju:["","","","",""],daejeon:["","","","",""],ulsan:["","","","",""],sejong:[""],gyeonggi:["","","","","","","","","","","","","","","","","","","",""],gangwon:["","","","","","","","","",""],chungbuk:["","","","","","","","","",""],chungnam:["","","","","","","","","",""],jeonbuk:["","","","","","","","","",""],jeonnam:["","","","","","","","","",""],gyeongbuk:["","","","","","","","","",""],gyeongnam:["","","","","","","","","",""],jeju:["",""]},eCe=["08-10","10-12","12-14","14-16","16-18","18-20"];function No(e){return String(e??"").trim().replace(/\s+/g,"").replace(/[()]/g,"")}function Vm(e){return e==="REGION"?"SIGUNGU":"EUPMYEONDONG"}function _x(e,t){const r=Of[e];return r.unit===""?`${Math.round(t).toLocaleString()}`:r.unit===""?`${Math.round(t)}`:r.unit===""?`${Math.round(t)}`:`${t.toFixed(1)}%`}function hi(e){const t=new Map;return e.forEach(r=>{r.forEach(n=>{t.set(n.name,(t.get(n.name)??0)+n.value)})}),[...t.entries()].map(([r,n])=>({name:r,value:Number(n.toFixed(1))})).sort((r,n)=>n.value-r.value)}function Sl(e,t,r){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(r)||r<=t)return .5;const n=(e-t)/(r-t);return Math.max(0,Math.min(1,n))}function of(e,t,r,n,s){const i=`${t}-${r}-${e}`,o=dT[r],l=XK[n]*o,d=QK[n]*o,u=ZK[n],m=Math.round(Nt(`${i}-volume`,120,1100)*l),p=Math.round(Nt(`${i}-inflow`,Lr.regionalSla[0],Lr.regionalSla[1])*l),h=Math.round(Nt(`${i}-queue`,Lr.regionalQueueRisk[0],Lr.regionalQueueRisk[1])*d),b=Number(Math.max(Lr.regionalRecontact[0],Math.min(Lr.regionalRecontact[1],Nt(`${i}-sla-risk`,Lr.regionalRecontact[0],Lr.regionalRecontact[1])+u)).toFixed(1)),v=Number(Math.max(Lr.regionalDataReadiness[0],Math.min(Lr.regionalDataReadiness[1],Nt(`${i}-recontact-need`,Lr.regionalDataReadiness[0],Lr.regionalDataReadiness[1])+u)).toFixed(1)),N=Number(Math.max(Lr.regionalGovernance[0],Math.min(Lr.regionalGovernance[1],Nt(`${i}-center-risk`,Lr.regionalGovernance[0],Lr.regionalGovernance[1])+u*4)).toFixed(1)),y=Number(Math.max(Lr.regionalAdTransitionHotspot[0],Math.min(Lr.regionalAdTransitionHotspot[1],Nt(`${i}-ad-density`,Lr.regionalAdTransitionHotspot[0],Lr.regionalAdTransitionHotspot[1])+u*3)).toFixed(1)),S=Math.round(Nt(`${i}-ad-highrisk`,28,240)*l),w=Math.round(Nt(`${i}-ad-tr30`,8,88)*l),_=Math.round(Nt(`${i}-ad-tr90`,22,210)*l),A=Number(Math.max(Lr.regionalDxDelayHotspot[0],Math.min(Lr.regionalDxDelayHotspot[1],Nt(`${i}-dx-wait`,Lr.regionalDxDelayHotspot[0],Lr.regionalDxDelayHotspot[1])+u*2.5)).toFixed(1)),E=Number(Math.max(.04,Math.min(.42,Nt(`${i}-dx-delayed-ratio`,.08,.36)+u*.01)).toFixed(3)),C=Math.round(Nt(`${i}-dx-backlog`,20,210)*d),O=Number(Math.max(Lr.regionalScreenToDxRate[0],Math.min(Lr.regionalScreenToDxRate[1],Nt(`${i}-screen-dx-rate`,Lr.regionalScreenToDxRate[0],Lr.regionalScreenToDxRate[1])-u)).toFixed(1)),D=Number(Nt(`${i}-screen-dx-recontact`,6,24).toFixed(1)),R=Number(Nt(`${i}-screen-dx-delay`,8,46).toFixed(1)),K={:Nt(`${i}-sla-contact`,12,34),:Nt(`${i}-sla-recontact`,10,26),L2:Nt(`${i}-sla-l2`,8,20),"2":Nt(`${i}-sla-s2`,10,24),"3":Nt(`${i}-sla-s3`,8,20)},H=Object.values(K).reduce((X,ne)=>X+ne,0),$=Object.entries(K).map(([X,ne])=>({name:X,value:Number((ne/H*100).toFixed(1))})),U=[{name:" ",value:Math.round(Nt(`${i}-qt-recontact`,18,165)*d)},{name:"L2 ",value:Math.round(Nt(`${i}-qt-l2`,14,132)*d)},{name:"2 ",value:Math.round(Nt(`${i}-qt-s2`,10,120)*d)},{name:"3 ",value:Math.round(Nt(`${i}-qt-s3`,8,95)*d)}],P=[{name:" ",value:Math.round(Nt(`${i}-cause-contact`,10,65)*d)},{name:"  ",value:Math.round(Nt(`${i}-cause-staff`,8,52)*d)},{name:" ",value:Math.round(Nt(`${i}-cause-data`,6,44)*d)},{name:"2/3 ",value:Math.round(Nt(`${i}-cause-stage`,7,48)*d)},{name:" ",value:Math.round(Nt(`${i}-cause-booking`,5,36)*d)}].sort((X,ne)=>ne.value-X.value),G=[{name:" ",value:Math.round(Nt(`${i}-rr-contact`,12,58)*d)},{name:"",value:Math.round(Nt(`${i}-rr-noanswer`,18,82)*d)},{name:" ",value:Math.round(Nt(`${i}-rr-time`,10,52)*d)}].sort((X,ne)=>ne.value-X.value),L=["D-6","D-5","D-4","D-3","D-2","D-1","D0"].map((X,ne)=>({day:X,value:Number(Nt(`${i}-rt-${ne}`,6,40).toFixed(1))})),M=eCe.map((X,ne)=>({slot:X,successRate:Number(Nt(`${i}-slot-rate-${ne}`,42,88).toFixed(1)),attempts:Math.round(Nt(`${i}-slot-attempt-${ne}`,18,120)*d)})),B=[{name:" ",value:Math.round(Nt(`${i}-mf-phone`,10,64)*d)},{name:" ",value:Math.round(Nt(`${i}-mf-guardian`,8,44)*d)},{name:" ",value:Math.round(Nt(`${i}-mf-condition`,7,40)*d)},{name:"  ",value:Math.round(Nt(`${i}-mf-history`,6,36)*d)}].sort((X,ne)=>ne.value-X.value),J=[{name:"0-1",value:Math.round(Nt(`${i}-lead-0`,22,96)*d)},{name:"2-3",value:Math.round(Nt(`${i}-lead-1`,16,76)*d)},{name:"4-7",value:Math.round(Nt(`${i}-lead-2`,10,58)*d)},{name:"8+",value:Math.round(Nt(`${i}-lead-3`,6,42)*d)}],ee=[{name:" ",value:Math.round(Nt(`${i}-gov-owner`,5,32)*d)},{name:"  ",value:Math.round(Nt(`${i}-gov-proof`,6,36)*d)},{name:"  ",value:Math.round(Nt(`${i}-gov-log`,7,40)*d)}].sort((X,ne)=>ne.value-X.value),I=[{status:"",value:Math.round(Nt(`${i}-gact-open`,8,48)*d)},{status:"",value:Math.round(Nt(`${i}-gact-progress`,6,36)*d)},{status:"",value:Math.round(Nt(`${i}-gact-done`,4,30)*d)}],Y=[{name:" ",value:S},{name:" 30  ",value:w},{name:"   ",value:Number((y-45).toFixed(1))}],ae=[{name:" ",value:A},{name:" ",value:Number((E*100).toFixed(1))},{name:" ",value:C}],le=[{name:" ",value:Number((100-O).toFixed(1))},{name:" ",value:D},{name:" ",value:R}],he={stage1SignalDelta:Number(Nt(`${i}-s1-signal`,-18,24).toFixed(1)),stage1QueueDelta:Math.round(Nt(`${i}-s1-queue`,-14,36)*d),stage2SignalDelta:Number(Nt(`${i}-s2-signal`,-16,22).toFixed(1)),stage2QueueDelta:Math.round(Nt(`${i}-s2-queue`,-12,32)*d),stage3SignalDelta:Number(Nt(`${i}-s3-signal`,-12,18).toFixed(1)),stage3QueueDelta:Math.round(Nt(`${i}-s3-queue`,-10,26)*d)};return{regionId:s??e,name:e,volume:m,kpi:{regionalSla:p,regionalQueueRisk:h,regionalRecontact:b,regionalDataReadiness:v,regionalGovernance:N,regionalAdTransitionHotspot:y,regionalDxDelayHotspot:A,regionalScreenToDxRate:O},mapMetric:{regionalSla:p,regionalQueueRisk:h,regionalRecontact:b,regionalDataReadiness:v,regionalGovernance:N,regionalAdTransitionHotspot:y,regionalDxDelayHotspot:A,regionalScreenToDxRate:O},adTransitionSignal:{regionId:`${t}-${e}`,regionName:e,highRiskCount:S,transition30d:w,transition90d:_,densityScore:y,deltaFromAvg:Number((y-45).toFixed(1))},differentialDelay:{regionId:`${t}-${e}`,regionName:e,avgWaitDays:A,delayedRatio:E,backlogCount:C,deltaFromAvg:Number((A-24).toFixed(1))},stageConversionRate:{regionId:`${t}-${e}`,regionName:e,conversionRate:Number((O/100).toFixed(3)),deltaFromRegional:Number((O-64).toFixed(1))},adTransitionDrivers:Y,dxDelayDrivers:ae,screenToDxDrivers:le,policyImpactLocal:Number(Nt(`${i}-policy-impact`,42,88).toFixed(1)),slaStageContribution:$,queueTypeBacklog:U,queueCauseTop:P,recontactReasons:G,recontactTrend:L,recontactSlots:M,missingFields:B,collectionLeadtime:J,governanceMissingTypes:ee,governanceActionStatus:I,stageImpact:he}}function tCe(e){if(!e.length)return of("","empty","week","7d","empty");const t=e.reduce((b,v)=>b+v.volume,0),r=b=>t>0?b.volume/t:1/e.length,n=b=>Number(e.reduce((v,N)=>v+N.kpi[b]*r(N),0).toFixed(1)),s=b=>Number(e.reduce((v,N)=>v+N.mapMetric[b]*r(N),0).toFixed(1)),i=new Map;e.forEach(b=>{b.recontactSlots.forEach(v=>{const N=i.get(v.slot)??{attempts:0,weightedSuccess:0};i.set(v.slot,{attempts:N.attempts+v.attempts,weightedSuccess:N.weightedSuccess+v.successRate*v.attempts})})});const o=[...i.entries()].map(([b,v])=>({slot:b,attempts:v.attempts,successRate:v.attempts>0?Number((v.weightedSuccess/v.attempts).toFixed(1)):0})),l=e[0].recontactTrend.length,d=Array.from({length:l},(b,v)=>{const N=e[0].recontactTrend[v].day,y=Number(e.reduce((S,w)=>S+w.recontactTrend[v].value*r(w),0).toFixed(1));return{day:N,value:y}}),u={stage1SignalDelta:Number(e.reduce((b,v)=>b+v.stageImpact.stage1SignalDelta*r(v),0).toFixed(1)),stage1QueueDelta:Math.round(e.reduce((b,v)=>b+v.stageImpact.stage1QueueDelta*r(v),0)),stage2SignalDelta:Number(e.reduce((b,v)=>b+v.stageImpact.stage2SignalDelta*r(v),0).toFixed(1)),stage2QueueDelta:Math.round(e.reduce((b,v)=>b+v.stageImpact.stage2QueueDelta*r(v),0)),stage3SignalDelta:Number(e.reduce((b,v)=>b+v.stageImpact.stage3SignalDelta*r(v),0).toFixed(1)),stage3QueueDelta:Math.round(e.reduce((b,v)=>b+v.stageImpact.stage3QueueDelta*r(v),0))},m=Number(e.reduce((b,v)=>b+v.adTransitionSignal.densityScore*r(v),0).toFixed(1)),p=Number(e.reduce((b,v)=>b+v.differentialDelay.avgWaitDays*r(v),0).toFixed(1)),h=Number(e.reduce((b,v)=>b+v.stageConversionRate.conversionRate*r(v),0).toFixed(3));return{regionId:"regional-avg",name:" ",volume:t,kpi:{regionalSla:n("regionalSla"),regionalQueueRisk:n("regionalQueueRisk"),regionalRecontact:n("regionalRecontact"),regionalDataReadiness:n("regionalDataReadiness"),regionalGovernance:n("regionalGovernance"),regionalAdTransitionHotspot:n("regionalAdTransitionHotspot"),regionalDxDelayHotspot:n("regionalDxDelayHotspot"),regionalScreenToDxRate:n("regionalScreenToDxRate")},mapMetric:{regionalSla:s("regionalSla"),regionalQueueRisk:s("regionalQueueRisk"),regionalRecontact:s("regionalRecontact"),regionalDataReadiness:s("regionalDataReadiness"),regionalGovernance:s("regionalGovernance"),regionalAdTransitionHotspot:s("regionalAdTransitionHotspot"),regionalDxDelayHotspot:s("regionalDxDelayHotspot"),regionalScreenToDxRate:s("regionalScreenToDxRate")},adTransitionSignal:{regionId:"regional-avg",regionName:" ",highRiskCount:Math.round(e.reduce((b,v)=>b+v.adTransitionSignal.highRiskCount,0)),transition30d:Math.round(e.reduce((b,v)=>b+v.adTransitionSignal.transition30d,0)),transition90d:Math.round(e.reduce((b,v)=>b+(v.adTransitionSignal.transition90d??0),0)),densityScore:m,deltaFromAvg:0},differentialDelay:{regionId:"regional-avg",regionName:" ",avgWaitDays:p,delayedRatio:Number(e.reduce((b,v)=>b+v.differentialDelay.delayedRatio*r(v),0).toFixed(3)),backlogCount:Math.round(e.reduce((b,v)=>b+v.differentialDelay.backlogCount,0)),deltaFromAvg:0},stageConversionRate:{regionId:"regional-avg",regionName:" ",conversionRate:h,bestRate:Number(Math.max(...e.map(b=>b.stageConversionRate.conversionRate)).toFixed(3)),worstRate:Number(Math.min(...e.map(b=>b.stageConversionRate.conversionRate)).toFixed(3)),deltaFromRegional:0},adTransitionDrivers:hi(e.map(b=>b.adTransitionDrivers)),dxDelayDrivers:hi(e.map(b=>b.dxDelayDrivers)),screenToDxDrivers:hi(e.map(b=>b.screenToDxDrivers)),policyImpactLocal:Number(e.reduce((b,v)=>b+v.policyImpactLocal*r(v),0).toFixed(1)),slaStageContribution:hi(e.map(b=>b.slaStageContribution)),queueTypeBacklog:hi(e.map(b=>b.queueTypeBacklog)),queueCauseTop:hi(e.map(b=>b.queueCauseTop)),recontactReasons:hi(e.map(b=>b.recontactReasons)),recontactTrend:d,recontactSlots:o,missingFields:hi(e.map(b=>b.missingFields)),collectionLeadtime:hi(e.map(b=>b.collectionLeadtime)),governanceMissingTypes:hi(e.map(b=>b.governanceMissingTypes)),governanceActionStatus:hi(e.map(b=>b.governanceActionStatus.map(v=>({name:v.status,value:v.value})))).map(b=>({status:b.name,value:b.value})),stageImpact:u}}function uT(e){return Of[e]?.direction??"higherWorse"}function rCe(e){return e==="REGION"?"sido":e==="SIGUNGU"?"sigungu":"center"}function oA(e,t){const r=Of[e];return r?.unit===""?`${t>0?"+":""}${Math.round(t)}`:r?.unit===""?`${t>0?"+":""}${Math.round(t)}`:r?.unit===""?`${t>0?"+":""}${Math.round(t)}`:`${t>0?"+":""}${t.toFixed(1)}%p`}function nCe(e,t){return t===""?`${Math.round(e).toLocaleString()}`:t===""?`${Math.round(e)}`:`${Math.round(e).toLocaleString()}`}function aCe(e,t){const r=e>0?"+":"";return t===""?`${r}${Math.round(e)}`:t===""?`${r}${Math.round(e)}`:`${r}${Math.round(e)}`}function sCe(e,t,r){if(!e.length)return[];const n=Math.min(...e),s=Math.max(...e),i=Math.max(1,e.length-1);return e.map((o,l)=>{const d=l/i*t,u=s===n?.5:(o-n)/(s-n),m=r-u*(r-6)-3;return{x:d,y:m}})}function iCe(e,t,r){if(!r)return"normal";const s=uT(e)==="higherBetter"?r-t:t-r;return s>=8?"warning":s>=3?"attention":"normal"}function oCe(e,t,r,n){return[`${e}: ${t}`,` : ${r}`,n]}function lCe({region:e,selectedKpiKey:t,selectedRegionSgg:r,selectedRange:n,onSelectedKpiKeyChange:s,onSelectedRegionSggChange:i,onSelectedRangeChange:o,onCreateIntervention:l,onNavigateModule:d}){const[u,m]=g.useState("week"),[p,h]=g.useState("7d"),[b,v]=g.useState("regionalSla"),[N,y]=g.useState("geomap"),[S,w]=X_e(),[_,A]=g.useState(null),[E,C]=g.useState(null),[O,D]=g.useState(void 0),[R,K]=g.useState(void 0),[H,$]=g.useState({}),[U,P]=g.useState(!1),[G,L]=g.useState(!1),[M,B]=g.useState(null),[J,ee]=g.useState(!1),[I,Y]=g.useState("STAFFING"),[ae,le]=g.useState(!1),[he,X]=g.useState("Initial"),ne=g.useRef(""),ve=g.useRef(null),pe=g.useRef(""),Ce=g.useRef(void 0),ge=g.useRef(r),se=g.useRef(i),Ze=g.useRef({}),V=he==="RegionChange";g.useEffect(()=>{ge.current=r,se.current=i},[i,r]);const de=g.useMemo(()=>IK(e.id),[e.id]),Ae=n??u,ce=Ae==="month"?"30d":Ae==="quarter"?"90d":p,ye=t??b,Ie=r??_,Ct=E,Dt=N_e({root:{level:"REGION",id:e.ctprvnCode,label:e.label},initialFilters:{kpi:ye,range:ce,view:N}}),{stack:ze,current:$e,canGoBack:or,push:Vt,back:hn,jumpTo:zr,reset:Rt,syncFilters:mr}=Dt,ar=g.useMemo(()=>ze.map(Q=>`${Q.level}:${Q.id}`).join(">"),[ze]),Fr=g.useMemo(()=>{const Q=H[ar],be=Q?.length?void 0:Object.entries(H).filter(([je,et])=>et.length>0&&ar.startsWith(je)).sort((je,et)=>et[0].length-je[0].length)[0]?.[1],De=Q?.length?Q:be??[];if(!De.length)return[];const Ne=new Map;return De.forEach(je=>{const et=Rn(je.code)||Rn(yl(je.regionId)),ht=String(je.name??"").trim();!et||!ht||Ne.has(et)||Ne.set(et,{...je,code:et,name:ht,regionKey:{...je.regionKey,code:et,name:ht},regionId:je.regionId||es({level:je.regionKey.level,code:et})})}),[...Ne.values()]},[H,ar]),Mr=g.useCallback(Q=>{t==null&&v(Q),s?.(Q)},[s,t]),jr=g.useCallback(Q=>{n==null&&m(Q),o?.(Q)},[o,n]),Or=g.useCallback(Q=>{h(Q),jr(Z_e[Q])},[jr]),ur=g.useCallback(Q=>{A(De=>De===Q?De:Q),(ge.current??null)!==Q&&se.current?.(Q)},[]),ir=g.useCallback(Q=>{C(Q)},[]);g.useEffect(()=>{A(null),ir(null),D(void 0),K(void 0),$({}),Ze.current={},L(!1),ee(!1)},[e.id,ir]),g.useEffect(()=>{Ae==="month"&&p!=="30d"&&h("30d"),Ae==="quarter"&&p!=="90d"&&h("90d")},[Ae,p]),g.useEffect(()=>{B(null)},[ye,Ie]),g.useEffect(()=>{le(!1),ee(!1)},[Ie,ye]),g.useEffect(()=>{const Q=`${ye}|${ce}|${N}`;if(Q!==ne.current)return ve.current&&window.clearTimeout(ve.current),ve.current=window.setTimeout(()=>{mr({kpi:ye,range:ce,view:N},"replace"),ne.current=Q},180),()=>{ve.current&&window.clearTimeout(ve.current)}},[ce,ye,mr,N]),g.useEffect(()=>{$e.filters.view!==N&&y($e.filters.view)},[$e.filters.view,N]);const xt=g.useMemo(()=>{const Q=w.width||(typeof window<"u"?window.innerWidth:1920);return Q>=1024?"desktop":Q>=768?"tablet":"mobile"},[w.width]),Ue=g.useMemo(()=>{const Q=w.height||(typeof window<"u"?window.innerHeight:900);return Math.max(360,Math.min(680,Math.round(Q-(xt==="desktop"?320:260))))},[w.height,xt]),Mt=g.useMemo(()=>A7[e.id]??A7.seoul,[e.id]),ot=g.useMemo(()=>{const Q=new Map;return Mt.forEach(be=>Q.set(No(be),be)),Q},[Mt]),Qt=g.useMemo(()=>Fr.filter(Q=>Q.regionKey.level==="SIGUNGU"),[Fr]),Ht=g.useMemo(()=>{const Q=new Map;return Qt.forEach(be=>Q.set(No(be.name),be)),Q},[Qt]),Ee=g.useMemo(()=>Mt.map(Q=>{const be=No(Q),De=Ht.get(be);return{name:Q,code:De?.code??""}}).filter(Q=>Q.code),[Mt,Ht]),Be=g.useMemo(()=>Fr.filter(Q=>Q.regionKey.level==="EUPMYEONDONG"),[Fr]),Qe=g.useMemo(()=>{const Q=new Map;return Qt.forEach(be=>Q.set(String(be.code),be.name)),Q},[Qt]),Ft=g.useMemo(()=>{const Q=new Map;return Be.forEach(be=>Q.set(String(be.code),{code:String(be.code),name:be.name})),Q},[Be]),hr=g.useMemo(()=>{for(let Q=ze.length-1;Q>=0;Q-=1){const be=ze[Q];if(be.level==="SIGUNGU")return Qe.get(String(be.id))??be.label;if(be.level==="EUPMYEONDONG"){const De=String(be.id).slice(0,5),Ne=Qe.get(De);if(Ne)return Ne}}return null},[ze,Qe]);g.useEffect(()=>{if($e.level==="REGION"){Ie!==null&&ur(null),Ct!==null&&ir(null),D("sig"),K(e.ctprvnCode);return}if(hr&&Ie!==hr&&ur(hr),$e.level==="SIGUNGU"){const be=es({level:"SIGUNGU",code:String($e.id),name:$e.label});Ct!==be&&ir(be),D("emd"),K($e.id);return}const Q=es({level:"EUPMYEONDONG",code:String($e.id),name:$e.label});Ct!==Q&&ir(Q),D("emd"),K($e.id)},[hr,$e.id,$e.label,$e.level,e.ctprvnCode,Ie,Ct,ur,ir]),g.useEffect(()=>{const Q=Ce.current!==r;if(Ce.current=r,!Q||!r||$e.level!=="REGION"||ze.some(je=>je.level==="SIGUNGU"&&No(je.label)===No(r)))return;const De=Ht.get(No(r));if(!De?.code)return;const Ne=ot.get(No(r))??r;ir(es({level:"SIGUNGU",code:De.code})),g.startTransition(()=>{Vt({level:"SIGUNGU",id:De.code,label:Ne,filters:{kpi:ye,range:ce,view:N}},"replace")})},[$e.level,ze,ot,Vt,ce,ye,r,Ht,ir,N]);const at=g.useMemo(()=>({level:$e.level==="REGION"||$e.level==="SIGUNGU"||$e.level==="EUPMYEONDONG"?$e.level:"REGION",id:String($e.id),name:$e.label}),[$e.id,$e.label,$e.level]),br=g.useMemo(()=>Vm(at.level),[at.level]),Ye=g.useMemo(()=>Fr.filter(Q=>Q.regionKey.level===br),[br,Fr]),Yr=g.useMemo(()=>{if(Qt.length>=3)return Qt.map(be=>({code:String(be.code),name:be.name}));const Q=DK[e.ctprvnCode]??[];return Q.length?Q.map(be=>({code:String(be.code),name:be.label})):Ee.map(be=>({code:String(be.code),name:be.name}))},[Ee,e.ctprvnCode,Qt]),Gt=g.useMemo(()=>Yr.map(Q=>of(Q.name,`${e.id}-${ce}`,Ae,ce,Q.code)),[Yr,e.id,Ae,ce]),Oe=g.useMemo(()=>Be.length?Be.map(Q=>of(Q.name,`${e.id}-${$e.level}-${$e.id}-${ce}`,Ae,ce,Q.code)):[],[Ae,$e.id,$e.level,Be,ce,e.id]),Te=g.useMemo(()=>{if($e.level!=="SIGUNGU")return[];if(!Ye.length)return[];const Q=Ye.filter(De=>{const Ne=String(De.code);return Ne.startsWith(String($e.id))&&Ne.length>String($e.id).length});return(Q.length>0?Q:Ye.filter(De=>String(De.code)!==String($e.id))).map(De=>of(De.name,`${e.id}-${$e.level}-${$e.id}-${ce}-map-fallback`,Ae,ce,De.code))},[Ae,$e.id,$e.level,ce,e.id,Ye]),rt=g.useMemo(()=>{if(at.level==="REGION")return Ye.length>0?Ye.map(Q=>({code:String(Q.code),name:Q.name})):Gt.map(Q=>({code:String(Q.regionId),name:Q.name}));if(at.level==="SIGUNGU"){const Q=Ye.filter(De=>{const Ne=String(De.code);return Ne.startsWith(String(at.id))&&Ne.length>String(at.id).length}).map(De=>({code:String(De.code),name:De.name})),be=Q.length>0?Q:Ye.filter(De=>String(De.code)!==String(at.id)).map(De=>({code:String(De.code),name:De.name}));return be.length>0?be:Oe.map(De=>({code:String(De.regionId),name:De.name}))}return[]},[at.id,at.level,Gt,Oe,Ye]),St=g.useMemo(()=>BK({level:rCe(at.level),parentRegionCode:String(at.id),candidates:rt}),[rt,at.id,at.level]),Bt=g.useMemo(()=>{const Q=new Map;return[...Gt,...Oe,...Te].forEach(be=>{Q.set(String(be.regionId),be)}),St.children.map(be=>{const De=Q.get(be.code);return De||of(be.name,`${e.id}-${at.level}-${at.id}-${ce}-scope-fill`,Ae,ce,be.code)})},[Ae,St.children,at.id,at.level,Gt,Oe,ce,e.id,Te]),Wt=g.useMemo(()=>{if(at.level==="EUPMYEONDONG"){const Q=Oe.find(be=>String(be.regionId)===String(at.id))??Te.find(be=>String(be.regionId)===String(at.id));return Q?[Q]:[of(at.name,`${e.id}-${at.level}-${at.id}-${ce}-leaf`,Ae,ce,at.id)]}return Bt.length>0?Bt:at.level==="REGION"?Gt:at.level==="SIGUNGU"?Te.length>0?Te:Oe.length>0?Oe:[]:[]},[Ae,at.id,at.level,at.name,Gt,Oe,ce,e.id,Bt,Te]),It=g.useRef({});g.useEffect(()=>{Wt.length&&(It.current[ar]=Wt)},[Wt,ar]);const lt=g.useMemo(()=>{if(Wt.length)return Wt;const Q=It.current[ar];return Q?.length?Q:at.level==="REGION"?Gt:at.level==="SIGUNGU"&&Te.length?Te:at.level==="SIGUNGU"&&Oe.length?Oe:[]},[Wt,at.level,Gt,Oe,ar,Te]),lr=lt.length>0,Jr=`${ar}|${ye}|${ce}|${N}`;g.useEffect(()=>{Jr!==pe.current&&(pe.current=Jr,he!=="Initial"&&X("RegionChange"))},[he,Jr]),g.useEffect(()=>{if(he!=="RegionChange")return;const Q=window.setTimeout(()=>{X(lr?"Ready":"PartialData")},140);return()=>window.clearTimeout(Q)},[lr,he]),g.useEffect(()=>{he==="Initial"&&X(lr?"Ready":"Empty")},[lr,he]),g.useEffect(()=>{lr&&(he==="Ready"||he==="RegionChange"||X("Ready"))},[lr,he]);const _a=he==="RegionChange"?"transition-[opacity,transform] duration-200 ease-out opacity-60 translate-y-[2px] pointer-events-none":"transition-[opacity,transform] duration-200 ease-out opacity-100 translate-y-0",zs=g.useMemo(()=>$e.level==="SIGUNGU"?String($e.id):$e.level==="EUPMYEONDONG"?String($e.id).slice(0,5):null,[$e.id,$e.level]),Ar=g.useMemo(()=>{if(zs){const Q=Gt.find(be=>String(be.regionId)===zs);if(Q)return Q}return Ie?Gt.find(Q=>No(Q.name)===No(Ie))??null:null},[Gt,Ie,zs]),Mn=g.useMemo(()=>tCe(lt.length?lt:Gt),[Gt,lt]),Lt=g.useMemo(()=>$e.level==="REGION"?Ar??Mn:$e.level==="SIGUNGU"?Mn:$e.level==="EUPMYEONDONG"?lt[0]??Mn:Ar??Mn,[Mn,$e.level,lt,Ar]),vr=g.useMemo(()=>Of[ye]??aT[0],[ye]),qa=W_e[ye],Ca=g.useMemo(()=>[{key:"RISK",label:"",kpi:Ax.RISK},{key:"BOTTLENECK",label:"",kpi:Ax.BOTTLENECK},{key:"GAP",label:"",kpi:Ax.GAP},{key:"LOAD",label:"",kpi:Ax.LOAD}],[]),Tr=g.useMemo(()=>aT.map(Q=>{const be=Q.key;return{...Q,key:be,value:Mn.kpi[be],mapColorScheme:v7[be]??"blue",tooltipLines:oCe(Q.label,Q.tooltip,Q.scopeLine,Q.clickAction)}}),[Mn]),io=p_e[ye]??"regional_sla_violation",Ir=v7[ye]??"blue";g.useMemo(()=>Rc[Ir]??Rc.blue,[Ir]);const Rr=ze,_s=$e.level==="REGION"?e.label:$e.label,ut=g.useCallback(Q=>{d&&(Q==="bottleneck"&&d("cause"),Q==="actions"&&d("interventions"),Q==="reports"&&d("reports"),Q==="settings"&&d("settings"))},[d]),_r=g.useCallback((Q,be,De)=>{const Ne=K_e(be,{scopeLabel:_s,rangeLabel:Ju[ce],longWaitDays:de.thresholds.longWaitDays});return a.jsx(z_e,{label:Q,help:Ne,className:De,onActionClick:()=>ut(Ne.actionTab)})},[_s,ut,ce,de.thresholds.longWaitDays]),Nn=`${Ju[ce]}  ${e.label}  ${nA(vr.shortLabel)}  `,Wr=g.useMemo(()=>lt.map(Q=>Q.mapMetric[ye]),[lt,ye]),Ta=g.useMemo(()=>Wr.length?Math.min(...Wr):0,[Wr]),en=g.useMemo(()=>Wr.length?Math.max(...Wr):0,[Wr]),Wa=g.useMemo(()=>Wr.length?Number((Wr.reduce((Q,be)=>Q+be,0)/Wr.length).toFixed(1)):0,[Wr]);g.useMemo(()=>{const Q=Rc[Ir]??Rc.blue,be=en-Ta||1;return lt.map(De=>{const Ne=De.mapMetric[ye],je=(Ne-Ta)/be,et=Math.max(0,Math.min(Q.length-1,Math.floor(je*Q.length))),ht=String(De.regionId);return{code:ht,name:De.name,regionId:es({level:Vm(at.level),code:ht,name:De.name}),size:Math.max(1,Ne),value:Ne,fill:Q[et]}})},[at.level,lt,ye,Ta,en,Ir]);const ka=Mn.kpi[ye],Fn=g.useMemo(()=>{const Q=uT(ye),be=lt.map(Tt=>Tt.kpi[ye]),De=lt.map(Tt=>Tt.volume),Ne=Math.min(...be),je=Math.max(...be),et=Math.min(...De),ht=Math.max(...De),gt=lt.map(Tt=>Tt.adTransitionSignal.densityScore),dr=lt.map(Tt=>Tt.adTransitionSignal.transition30d),gn=lt.map(Tt=>Tt.adTransitionSignal.deltaFromAvg),Vn=lt.map(Tt=>Tt.differentialDelay.avgWaitDays),Xr=lt.map(Tt=>Tt.differentialDelay.delayedRatio),ks=lt.map(Tt=>Tt.differentialDelay.backlogCount),Xs=lt.map(Tt=>1-Tt.stageConversionRate.conversionRate),In=lt.map(Tt=>-Tt.stageConversionRate.deltaFromRegional),Xa=lt.map(Tt=>Tt.screenToDxDrivers.reduce((Cn,oa)=>Cn+oa.value,0)/Math.max(1,Tt.screenToDxDrivers.length));return lt.map(Tt=>{const Cn=Tt.kpi[ye];let oa=u_e({kpiValue:Cn,kpiMin:Ne,kpiMax:je,volume:Tt.volume,volumeMin:et,volumeMax:ht,direction:Q});if(ye==="regionalAdTransitionHotspot"){const ba=Sl(Tt.adTransitionSignal.densityScore,Math.min(...gt),Math.max(...gt)),Qs=Sl(Tt.adTransitionSignal.transition30d,Math.min(...dr),Math.max(...dr)),co=Sl(Tt.adTransitionSignal.deltaFromAvg,Math.min(...gn),Math.max(...gn));oa=Number((ba*aA.density+Qs*aA.transition+co*aA.delta).toFixed(3))}else if(ye==="regionalDxDelayHotspot"){const ba=Sl(Tt.differentialDelay.avgWaitDays,Math.min(...Vn),Math.max(...Vn)),Qs=Sl(Tt.differentialDelay.delayedRatio,Math.min(...Xr),Math.max(...Xr)),co=Sl(Tt.differentialDelay.backlogCount,Math.min(...ks),Math.max(...ks));oa=Number((ba*sA.wait+Qs*sA.delayed+co*sA.backlog).toFixed(3))}else if(ye==="regionalScreenToDxRate"){const ba=Sl(1-Tt.stageConversionRate.conversionRate,Math.min(...Xs),Math.max(...Xs)),Qs=Sl(-Tt.stageConversionRate.deltaFromRegional,Math.min(...In),Math.max(...In)),co=Tt.screenToDxDrivers.reduce((Yp,Xp)=>Yp+Xp.value,0)/Math.max(1,Tt.screenToDxDrivers.length),Vp=Sl(co,Math.min(...Xa),Math.max(...Xa));oa=Number((ba*iA.gapRate+Qs*iA.deltaGap+Vp*iA.support).toFixed(3))}const Zl=Number(Nt(`national-${ye}-${ce}-${Ae}-${$e.level}-${$e.id}-${Tt.name}`,Lr[ye][0],Lr[ye][1]).toFixed(1)),ds=Rn(yl(Tt.regionId))||Rn(Tt.regionId);return{code:ds,regionId:es({level:Vm(at.level),code:ds,name:Tt.name}),name:Tt.name,kpiValue:Cn,volume:Tt.volume,priorityScore:oa,nationalDelta:Number((Cn-Zl).toFixed(1))}}).sort((Tt,Cn)=>{if(Cn.priorityScore!==Tt.priorityScore)return Cn.priorityScore-Tt.priorityScore;const oa=Tt.name.localeCompare(Cn.name,"ko-KR");return oa!==0?oa:Tt.code.localeCompare(Cn.code)})},[Ae,at.level,$e.id,$e.level,ce,lt,ye]),ls=g.useMemo(()=>new Set(St.childrenCodes.map(Q=>Rn(Q)).filter(Boolean)),[St.childrenCodes]),Sn=g.useMemo(()=>{const Q=Vm(at.level),be=Fn.filter(je=>{const et=Rn(je.code)||Rn(yl(je.code));return et?ls.size?ls.has(et):!0:!1}),De=(be.length>0?be:Fn).slice(0,5),Ne=[];return De.forEach(je=>{const et=Rn(je.code)||Rn(yl(je.regionId));et&&Ne.push({...je,code:et,regionKey:{level:Q,code:et,name:je.name},regionId:es({level:Q,code:et,name:je.name})})}),Ne},[ls,at.level,Fn]),Va=g.useMemo(()=>lt.reduce((Q,be)=>Q+be.volume,0),[lt]),Ya=g.useMemo(()=>{if(!Sn.length||Va<=0)return null;const Q=Sn.reduce((be,De)=>be+De.volume,0);return Number((Q/Va*100).toFixed(1))},[Sn,Va]),Ks=Ya==null?"":`${Ya.toFixed(1)}%`,Cs=g.useMemo(()=>{const Q=Sn.slice(0,2).map(be=>be.name);return Q.length?Q.join("/"):`${e.label} `},[e.label,Sn]),tn=V_e[ye]??nA(vr.shortLabel),qs=g.useMemo(()=>{const Q=Ca.find(De=>De.key===qa)?.label??qa,be=vr.direction==="higherWorse"?`${tn} `:`${tn}  `;return it(`${Ju[ce]}  ${Q}  ${be}   : ${Cs}`)},[qa,Ca,ce,vr.direction,tn,Cs]),Ws=g.useMemo(()=>{const Q=ce==="7d"?["D-6","D-5","D-4","D-3","D-2","D-1","D0"]:["T-7","T-6","T-5","T-4","T-3","T-2","T-1","T0"],be=lt.filter(et=>et.kpi.regionalRecontact>=10).length,De=lt.reduce((et,ht)=>et+(ht.recontactReasons.find(gt=>gt.name==="")?.value??0),0),Ne=lt.length>0?Number((lt.reduce((et,ht)=>et+ht.differentialDelay.avgWaitDays,0)/lt.length).toFixed(1)):0,je=(et,ht,gt,dr)=>{const gn=Nt(`${e.id}-${et}-${ce}-drift`,-1.2,1.2),Vn=gt===""?Math.max(6,dr*.08):gt===""?1.5:1,Xr=Q.map((In,Xa)=>{const Tt=Xa-(Q.length-1),Cn=dr+Tt*gn+Nt(`${e.id}-${et}-${ce}-${In}`,-Vn,Vn),oa=Math.max(0,gt===""?Number(Cn.toFixed(1)):Math.round(Cn));return{t:In,v:oa}});Xr.length&&(Xr[Xr.length-1]={...Xr[Xr.length-1],v:gt===""?Number(dr.toFixed(1)):Math.round(dr)});const ks=Xr[Xr.length-1]?.v??0,Xs=Xr[Math.max(0,Xr.length-2)]?.v??ks;return{key:et,label:ht,unit:gt,points:Xr,value:ks,delta:Number((ks-Xs).toFixed(1))}};return[je("slaRisk","SLA  ","",be),je("bottleneck"," ","",Ne),je("overdueFollowup"," ","",De)]},[ce,lt,e.id]),cn=g.useMemo(()=>{const Q=Math.round(Of.regionalDxDelayHotspot.target??24),be=Math.round(Of.regionalRecontact.target??12);return[{label:`SLA   ${de.thresholds.longWaitDays} `,tooltip:`SLA  : ${de.thresholds.longWaitDays}    `},{label:`   ${Q}`,tooltip:`   : ${Q}`},{label:`  ${be}%`,tooltip:`   : ${be}%`}]},[de.thresholds.longWaitDays]),dn=g.useMemo(()=>{const Q=lt.filter(je=>je.kpi.regionalRecontact>=10).length,be=lt.filter(je=>je.differentialDelay.avgWaitDays>=de.thresholds.longWaitDays).length,De=lt.reduce((je,et)=>je+(et.recontactReasons.find(ht=>ht.name==="")?.value??0),0),Ne=lt.filter(je=>je.stageImpact.stage1QueueDelta>=12).length;return{slaAtRiskRegions:Q,examDelayRegions:be,overdueFollowups:Math.round(De),surgeRegions:Ne}},[lt,de.thresholds.longWaitDays]),Vs=g.useMemo(()=>{const Q=lt.filter(gt=>gt.adTransitionSignal.densityScore>=70).length,be=lt.reduce((gt,dr)=>gt+dr.adTransitionSignal.highRiskCount,0),De=lt.length>0?Number((lt.reduce((gt,dr)=>gt+dr.differentialDelay.avgWaitDays,0)/lt.length).toFixed(1)):0,Ne=Math.round(lt.reduce((gt,dr)=>gt+(dr.queueTypeBacklog.find(gn=>gn.name==="2 ")?.value??0),0)),je=lt.map(gt=>gt.stageConversionRate.conversionRate*100),et=je.length>1?Number((Math.max(...je)-Math.min(...je)).toFixed(1)):0,ht=lt.length>1?Number((Math.max(...lt.map(gt=>gt.differentialDelay.avgWaitDays))-Math.min(...lt.map(gt=>gt.differentialDelay.avgWaitDays))).toFixed(1)):0;return[{id:"risk",title:"Risk",value:Q,unit:"",delta:{value:dn.slaAtRiskRegions,unit:"",direction:dn.slaAtRiskRegions>0?"up":"flat"},severity:dn.slaAtRiskRegions>4?"critical":dn.slaAtRiskRegions>2?"warn":"normal",bindLayer:"RISK"},{id:"bottleneck",title:"Bottleneck",value:De,unit:"",delta:{value:Ne,unit:"",direction:Ne>0?"up":"flat"},severity:De>de.thresholds.longWaitDays?"critical":De>de.thresholds.longWaitDays-1?"warn":"normal",bindLayer:"BOTTLENECK"},{id:"gap",title:"Gap",value:et,unit:"%p",delta:{value:ht,unit:"",direction:ht>0?"up":"flat"},severity:et>18?"critical":et>10?"warn":"normal",bindLayer:"GAP"},{id:"load",title:"Load",value:be,unit:"",delta:{value:dn.surgeRegions,unit:"",direction:dn.surgeRegions>0?"up":"flat"},severity:dn.surgeRegions>3?"warn":"normal",bindLayer:"LOAD"}]},[dn,lt,de.thresholds.longWaitDays]),Jt=g.useMemo(()=>{const Q=Vs.find(De=>De.id==="bottleneck"),be=Vs.find(De=>De.id==="gap");return[{id:"sla-risk",label:`${Zu("sla").user}  `,helpKey:"slaRisk",value:`${dn.slaAtRiskRegions.toLocaleString()}`,tone:dn.slaAtRiskRegions>3?"text-red-700 bg-red-50 border-red-100":"text-emerald-700 bg-emerald-50 border-emerald-100"},{id:"bottleneck",label:Zu("examDelay").user,helpKey:"examDelay",value:`${Math.round(Q?.value??0)}`,tone:(Q?.severity??"normal")==="critical"?"text-red-700 bg-red-50 border-red-100":"text-amber-700 bg-amber-50 border-amber-100"},{id:"gap",label:Zu("conversionGap").user,helpKey:"conversionGap",value:`${(be?.value??0).toFixed(1)}%p`,tone:(be?.severity??"normal")==="critical"?"text-red-700 bg-red-50 border-red-100":"text-indigo-700 bg-indigo-50 border-indigo-100"}]},[dn.slaAtRiskRegions,Vs]),Ts=g.useMemo(()=>Ar?Number((Ar.kpi[ye]-ka).toFixed(1)):null,[ka,Ar,ye]),Ys=g.useMemo(()=>{const Q=new Map;return lt.forEach(be=>{const De=String(be.regionId),Ne=Rn(yl(De));Q.set(De,be),Ne&&Q.set(Ne,be)}),Q},[lt]),fr=g.useCallback(({code:Q,name:be})=>{const De=Rn(Q)||Rn(yl(Q)),Ne=(De?Ys.get(De):void 0)??Ys.get(String(Q));if(!Ne)return[];const je=Number(Nt(`${e.id}-${be}-${ye}-delta7-${ce}-${Ae}`,-12,12).toFixed(1)),et=vr.unit===""?"":vr.unit===""?"":vr.unit===""?"":"%p";return[`: ${Ne.volume.toLocaleString()}`,` 7 : ${je>0?"+":""}${vr.unit===""||vr.unit===""?Math.round(je):je}${et}`]},[Ae,Ys,ce,e.id,vr.unit,ye]),W=g.useCallback(()=>{ur(null),ir(null),Rt(),L(!1)},[Rt,ur,ir]),ie=g.useCallback(()=>{or&&(ze.length<=2&&(ur(null),ir(null)),hn(),L(!1))},[hn,or,ze.length,ur,ir]),Re=g.useCallback(({level:Q,code:be,name:De,regionId:Ne})=>{if(Q==="ctprvn"){W();return}const je=Rn(be)||Rn(yl(Ne)),et=Q==="sig"||Q==="emd"&&je.length===5,ht=No(De);if(et&&je){const gt=Qe.get(je)??ot.get(ht)??De,dr=Ne??es({level:"SIGUNGU",code:je});ir(dr),ur(gt),g.startTransition(()=>{Vt({level:"SIGUNGU",id:je,label:gt,filters:{kpi:ye,range:ce,view:N}})});return}if(Q==="emd"){if(!je)return;const gt=Ft.get(je)?.name??De,dr=Ne??es({level:"EUPMYEONDONG",code:je});ir(dr),g.startTransition(()=>{Vt({level:"EUPMYEONDONG",id:je,label:gt,filters:{kpi:ye,range:ce,view:N}})})}},[Ft,W,ot,Vt,ce,ye,Qe,ur,ir,N]),Je=g.useCallback(Q=>{const be=Vm(at.level),Ne=Q.map(ht=>{const gt=Rn(ht.code)||Rn(yl(ht.regionId)),dr=String(ht.name??"").trim();return!gt||!dr?null:{...ht,code:gt,name:dr,regionKey:{...ht.regionKey,level:ht.regionKey.level,code:gt,name:dr},regionId:ht.regionId||es({level:ht.regionKey.level,code:gt})}}).filter(ht=>!!ht).filter((ht,gt,dr)=>dr.findIndex(gn=>gn.code===ht.code)===gt).filter(ht=>ht.regionKey.level===be).sort((ht,gt)=>ht.code.localeCompare(gt.code,"ko-KR"));if(!Ne.length)return;const je=`${be}|${Ne.map(ht=>`${ht.code}:${ht.name}`).join("|")}`;Ze.current[ar]!==je&&(Ze.current[ar]=je,$(ht=>{const gt=ht[ar]??[];return gt.length===Ne.length&&gt.every((dr,gn)=>dr.code===Ne[gn]?.code&&dr.name===Ne[gn]?.name&&dr.regionKey.level===Ne[gn]?.regionKey.level)?ht:{...ht,[ar]:Ne}}))},[at.level,ar]),We=g.useCallback((Q,be,De)=>{const Ne=Rn(Q)||Rn(yl(De));if(!Ne)return;const je=De?.startsWith("EUPMYEONDONG:")?"EUPMYEONDONG":De?.startsWith("SIGUNGU:")||$e.level==="REGION"?"SIGUNGU":"EUPMYEONDONG",et=es({level:je,code:Ne});if(ir(et),et!==Ct){if(je==="SIGUNGU"){ur(be),g.startTransition(()=>{Vt({level:"SIGUNGU",id:Ne,label:be,filters:{kpi:ye,range:ce,view:N}})});return}g.startTransition(()=>{Vt({level:"EUPMYEONDONG",id:Ne,label:be,filters:{kpi:ye,range:ce,view:N}},$e.level==="EUPMYEONDONG"?"replace":"push")})}},[$e.level,Vt,ce,Ct,ye,ur,ir,N]),Ke=g.useMemo(()=>{const Q=Ae==="week"?7:4,be=Ae==="week"?["","","","","","",""]:Ae==="month"?["1","2","3","4"]:["Q1","Q2","Q3","Q4"],[De,Ne]=Lr[ye],je=ye==="regionalSla"?XK[ce]*dT[Ae]:QK[ce]*dT[Ae],et=ZK[ce],ht=gt=>vr.unit===""?Number((gt*je).toFixed(1)):vr.unit===""?Number(Math.max(De,Math.min(Ne,gt+et*4)).toFixed(1)):vr.unit===""?Number(Math.max(De,Math.min(Ne,gt+et*2)).toFixed(1)):Number(Math.max(De,Math.min(Ne,gt+et)).toFixed(1));return Array.from({length:Q},(gt,dr)=>{const gn=ht(Nt(`${e.id}-${ye}-${Ae}-reg-${dr}`,De,Ne)),Vn=ht(Nt(`national-${ye}-${ce}-${Ae}-tr-${dr}`,De,Ne)),Xr=Ie?ht(Nt(`${e.id}-${Ie}-${ye}-${ce}-${Ae}-dist-${dr}`,De,Ne)):void 0;return{label:be[dr],regional:gn,national:Vn,district:Xr}})},[Ae,ce,e.id,Ie,vr.unit,ye]);g.useMemo(()=>{const Q=Number((Gt.reduce((be,De)=>be+De.mapMetric.regionalSla,0)/Math.max(1,Gt.length)).toFixed(1));return Gt.map(be=>({name:be.name,value:be.mapMetric.regionalSla,delta:Number((be.mapMetric.regionalSla-Q).toFixed(1))})).sort((be,De)=>De.value-be.value).slice(0,8)},[Gt]),g.useMemo(()=>Gt.map(be=>({name:be.name,missing:be.mapMetric.regionalGovernance,statuses:be.governanceActionStatus})).sort((be,De)=>De.missing-be.missing).slice(0,5).map(be=>{const De=be.statuses.find(et=>et.status==="")?.value??0,Ne=be.statuses.find(et=>et.status==="")?.value??0,je=be.statuses.find(et=>et.status==="")?.value??0;return{name:be.name,:De,:Ne,:je}}),[Gt]),g.useMemo(()=>{const Q=Lt.stageImpact;return[{stage:"Stage1 (ML)",signal:Q.stage1SignalDelta,queue:Q.stage1QueueDelta,desc:"       "},{stage:"Stage2 (ANN)",signal:Q.stage2SignalDelta,queue:Q.stage2QueueDelta,desc:"2    2   "},{stage:"Stage3 (CNN)",signal:Q.stage3SignalDelta,queue:Q.stage3QueueDelta,desc:"3    3    "}]},[Lt.stageImpact]);const $t=g.useMemo(()=>ye==="regionalSla"?[it("Stage        "),it("          ")]:ye==="regionalQueueRisk"?[it("        "),it("       ")]:ye==="regionalRecontact"?[it("SLA      "),it("SLA       ")]:ye==="regionalDataReadiness"?[it("       "),it("       ")]:ye==="regionalAdTransitionHotspot"?[it("     Stage3     "),it("        ")]:ye==="regionalDxDelayHotspot"?[it("        "),it("       ")]:ye==="regionalScreenToDxRate"?[it("         "),it("       ")]:[it("       "),it("       ")],[ye]),Zt=g.useMemo(()=>ye==="regionalSla"?Lt.queueTypeBacklog.slice(0,3):ye==="regionalQueueRisk"?Lt.queueCauseTop.slice(0,3):ye==="regionalRecontact"?Lt.slaStageContribution.slice(0,3):ye==="regionalDataReadiness"?Lt.recontactReasons.slice(0,3):ye==="regionalAdTransitionHotspot"?Lt.adTransitionDrivers.slice(0,3):ye==="regionalDxDelayHotspot"?Lt.dxDelayDrivers.slice(0,3):ye==="regionalScreenToDxRate"?Lt.screenToDxDrivers.slice(0,3):Lt.governanceMissingTypes.slice(0,3),[Lt,ye]),wr=g.useCallback(Q=>ye==="regionalRecontact"?`${Q.value.toFixed(1)}%`:ye==="regionalAdTransitionHotspot"?Q.name.includes("")?`${Q.value.toFixed(1)}`:`${Math.round(Q.value).toLocaleString()}`:ye==="regionalDxDelayHotspot"?Q.name.includes("")?`${Q.value.toFixed(1)}%`:Q.name.includes("")?`${Math.round(Q.value)}`:`${Math.round(Q.value).toLocaleString()}`:ye==="regionalScreenToDxRate"?Q.name.includes("")?`${Q.value.toFixed(1)}%p`:`${Q.value.toFixed(1)}`:`${Math.round(Q.value).toLocaleString()}`,[ye]);g.useMemo(()=>hi([Lt.missingFields]),[Lt.missingFields]);const cr=g.useMemo(()=>{if(ye==="regionalSla"){const be=[...Lt.queueTypeBacklog].sort((De,Ne)=>Ne.value-De.value)[0];return{stage:be?.name??" ",valueLabel:be?`${Math.round(be.value)}`:"",basis:it("    ")}}if(ye==="regionalQueueRisk"){const be=Lt.queueCauseTop[0];return{stage:be?.name??" ",valueLabel:be?`${Math.round(be.value)}`:"",basis:it("      ")}}if(ye==="regionalRecontact"){const be=Lt.slaStageContribution[0];return{stage:be?.name??"SLA ",valueLabel:be?`${be.value.toFixed(1)}%`:"",basis:it("SLA     ")}}if(ye==="regionalDataReadiness"){const be=Lt.recontactReasons[0];return{stage:be?.name??"",valueLabel:be?`${Math.round(be.value)}`:"",basis:it("      ")}}if(ye==="regionalAdTransitionHotspot")return{stage:" ",valueLabel:`${Math.round(Lt.adTransitionSignal.highRiskCount)}  ${Math.round(Lt.adTransitionSignal.densityScore)}`,basis:it("     ")};if(ye==="regionalDxDelayHotspot")return{stage:" ",valueLabel:`${Math.round(Lt.differentialDelay.avgWaitDays)}  ${(Lt.differentialDelay.delayedRatio*100).toFixed(1)}%`,basis:it("      ")};if(ye==="regionalScreenToDxRate")return{stage:" ",valueLabel:`${(Lt.stageConversionRate.conversionRate*100).toFixed(1)}%`,basis:it("      ")};const Q=Lt.governanceMissingTypes[0];return{stage:Q?.name??" ",valueLabel:Q?`${Math.round(Q.value)}`:"",basis:it("     ")}},[Lt.adTransitionSignal.densityScore,Lt.adTransitionSignal.highRiskCount,Lt.differentialDelay.avgWaitDays,Lt.differentialDelay.delayedRatio,Lt.governanceMissingTypes,Lt.queueCauseTop,Lt.queueTypeBacklog,Lt.recontactReasons,Lt.slaStageContribution,Lt.stageConversionRate.conversionRate,ye]),Br=g.useMemo(()=>({primaryDriverStage:cr.stage,alertLevel:iCe(ye,ka,vr.trendGoal)}),[cr.stage,ka,vr.trendGoal,ye]);g.useMemo(()=>it(ye==="regionalSla"?`${Br.primaryDriverStage}          `:ye==="regionalQueueRisk"?`${Br.primaryDriverStage}         `:ye==="regionalRecontact"?"SLA /       ":ye==="regionalDataReadiness"?"        ":ye==="regionalAdTransitionHotspot"?"          ":ye==="regionalDxDelayHotspot"?"         ":ye==="regionalScreenToDxRate"?"          ":"        "),[ye,Br.primaryDriverStage]);const jn=g.useMemo(()=>{const Q=Sn.slice(0,2).map(be=>be.name);return Q.length?Q.join(", "):`${e.label}  `},[e.label,Sn]),Ti=g.useMemo(()=>it(`${e.label}() ${tn} ${_x(ye,ka)} (  ${_x(ye,Wa)},  ${oA(ye,Number((ka-Wa).toFixed(1)))})`),[Wa,e.label,ka,ye,tn]),nl=g.useMemo(()=>it(`    ${de.thresholds.longWaitDays}    `),[de.thresholds.longWaitDays]),ld=g.useMemo(()=>it(ye==="regionalQueueRisk"?`   : ${jn}     `:ye==="regionalRecontact"?`   : ${jn} SLA    `:ye==="regionalDataReadiness"?`   : ${jn}     `:ye==="regionalGovernance"?`   : ${jn}     `:ye==="regionalAdTransitionHotspot"?`   : ${jn}      `:ye==="regionalDxDelayHotspot"?`   : ${jn}       `:ye==="regionalScreenToDxRate"?`   : ${jn}       `:`   : ${jn}     `),[ye,jn]),Xl=g.useMemo(()=>[{id:"risk",text:it(`${Zu("sla").user}   ${dn.slaAtRiskRegions}    2  `),onClick:()=>Mr("regionalSla")},{id:"bottleneck",text:it(`${Zu("examDelay").user}  ${Math.round(Lt.differentialDelay.avgWaitDays)}     `),onClick:()=>d?.("cause")},{id:"followup",text:it(`${Zu("followupDelay").user} ${dn.overdueFollowups.toLocaleString()}    `),onClick:()=>d?.("interventions")}],[dn.overdueFollowups,dn.slaAtRiskRegions,Lt.differentialDelay.avgWaitDays,d,Mr]),Ql=g.useMemo(()=>{const Q=Lt.queueTypeBacklog.reduce((Ne,je)=>Ne+je.value,0),be=Lt.recontactReasons.reduce((Ne,je)=>Ne+je.value,0),De=Math.max(0,Math.round(Lt.volume-Q));return[{label:"Stage  ",value:`${cr.stage}  ${cr.valueLabel}`},{label:"  ",value:` ${Math.round(Lt.differentialDelay.avgWaitDays)}   ${(Lt.differentialDelay.delayedRatio*100).toFixed(1)}%`},{label:"  ",value:`${Math.round(be).toLocaleString()}`},{label:"  ",value:`${De.toLocaleString()}`}]},[Lt.differentialDelay.avgWaitDays,Lt.differentialDelay.delayedRatio,Lt.queueTypeBacklog,Lt.recontactReasons,Lt.volume,cr.stage,cr.valueLabel]),Wn=g.useMemo(()=>{const Q=Ar?.name??`${e.label} `,De=Math.max(.8,Math.min(5.8,(Ya??20)/8));return[{id:"STAFFING",title:"   ",detail:it(`${Q} /    `),expected:`SLA   +${(De*1.05).toFixed(1)}%p`,stage:""},{id:"EXAM_SLOT",title:"   ",detail:it(`${Q}      `),expected:`SLA   +${(De*.85).toFixed(1)}%p`,stage:"2"},{id:"FOLLOWUP_AUTOMATION",title:"  ",detail:it(`${Q} /    `),expected:`SLA   +${(De*.72).toFixed(1)}%p`,stage:""},{id:"HOSPITAL_LINK",title:"  ",detail:it(`${Q}        `),expected:`SLA   +${(De*.66).toFixed(1)}%p`,stage:"3"}]},[e.label,Ar?.name,Ya]),oo=g.useMemo(()=>Wn.find(Q=>Q.id===I)??Wn[0]??null,[Wn,I]);g.useEffect(()=>{oo&&oo.id!==I&&Y(oo.id)},[oo,I]);const ki=g.useMemo(()=>Ar?ye==="regionalSla"?Ar.queueTypeBacklog[0]?.name??" ":ye==="regionalQueueRisk"?Ar.queueCauseTop[0]?.name??" ":ye==="regionalRecontact"?Ar.slaStageContribution[0]?.name??"SLA ":ye==="regionalDataReadiness"?Ar.recontactReasons[0]?.name??"":ye==="regionalAdTransitionHotspot"?Ar.adTransitionDrivers[0]?.name??" ":ye==="regionalDxDelayHotspot"?Ar.dxDelayDrivers[0]?.name??" ":ye==="regionalScreenToDxRate"?Ar.screenToDxDrivers[0]?.name??" ":Ar.governanceMissingTypes[0]?.name??" ":null,[Ar,ye]),lo=g.useMemo(()=>Ar&&Ts!=null?it(`${Ar.name}:    ${oA(ye,Ts)}   1: ${ki??""}`):it("       "),[Ar,Ts,ye,ki]);g.useMemo(()=>{const Q=Ar?Ar.name:`${e.label} `,be=Sn[0]?.name??Q,De=Zt.slice(0,2).map(Ne=>vr.unit==="%"?`${Ne.name} ${Ne.value.toFixed(1)}%`:vr.unit===""?`${Ne.name} ${Math.round(Ne.value)}`:vr.unit===""?`${Ne.name} ${Math.round(Ne.value)}`:`${Ne.name} ${Math.round(Ne.value)}`);return[{id:"scenario-a",target:Q,action:$t[0]??it("   "),effect:"  ",risk:it("    "),evidence:De[0]??it("  ")},{id:"scenario-b",target:be,action:$t[1]??it("   "),effect:"  ",risk:it("   "),evidence:De[1]??it("  ")}]},[$t,Zt,e.label,Ar,vr.unit,Sn]);const cs=g.useMemo(()=>Ke.length<3?null:Math.max(1,Math.floor(Ke.length/2)),[Ke]);return g.useMemo(()=>{if(!Ke.length)return it("  ");const Q=Math.max(1,Math.floor(Ke.length/2)),be=Ke.slice(0,Q).reduce((Vn,Xr)=>Vn+Xr.regional,0)/Q,De=Ke.slice(Q),Ne=De.reduce((Vn,Xr)=>Vn+Xr.regional,0)/Math.max(1,De.length),je=Number((Ne-be).toFixed(1)),et=uT(ye),ht=et==="higherBetter"&&je>.4||et==="higherWorse"&&je<-.4,gt=et==="higherBetter"&&je<-.4||et==="higherWorse"&&je>.4,dr=ht?" ":gt?"/ ":" ",gn=ce==="24h"?" 24":`${Ju[ce]} `;return it(`${gn}:    ${dr} (    )`)},[ce,ye,Ke]),g.useMemo(()=>{if(cs==null||cs>=Ke.length)return"";const Q=Ke.slice(0,cs).map(et=>et.regional),be=Ke.slice(cs).map(et=>et.regional);if(!Q.length||!be.length)return"";const De=Q.reduce((et,ht)=>et+ht,0)/Q.length,Ne=be.reduce((et,ht)=>et+ht,0)/be.length,je=Number((Ne-De).toFixed(1));return oA(ye,je)},[ye,Ke,cs]),a.jsxs("div",{ref:S,className:"flex h-full min-h-0 flex-col overflow-hidden bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-2 shrink-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-1.5 flex-1 min-w-0",children:Jt.map(Q=>a.jsxs("div",{role:"status",className:`rounded-md border px-2.5 py-2 ${Q.tone}`,children:[_r(Q.label,Q.helpKey,"text-[10px] font-semibold"),a.jsx("div",{className:"text-[14px] font-bold mt-0.5",children:Q.value})]},Q.id))}),a.jsxs("button",{onClick:()=>P(Q=>!Q),className:"h-8 px-2.5 rounded-md border border-gray-200 text-xs text-gray-600 hover:bg-gray-50 shrink-0",children:["  ",U?"":""]})]}),U&&a.jsx("div",{className:"mt-2 grid grid-cols-2 lg:grid-cols-4 gap-1.5",children:Tr.map(Q=>{const be=ye===Q.key;return a.jsxs("div",{className:`rounded-md border px-2.5 py-2 ${be?"border-blue-200 bg-blue-50":"border-gray-200 bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-semibold text-gray-600",children:[a.jsx("span",{className:`p-1 rounded ${Q.iconBg}`,children:J_e[Q.key]}),a.jsx("span",{className:"truncate",children:nA(Q.shortLabel)})]}),a.jsx("div",{className:"text-[13px] font-bold text-gray-800 mt-1",children:_x(Q.key,Q.value)})]},Q.key)})})]}),a.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:a.jsxs("div",{className:`p-2 gap-2 h-full min-h-0 ${xt==="desktop"?"grid overflow-hidden":"flex flex-col overflow-y-auto"}`,style:xt==="desktop"?{gridTemplateColumns:"3fr 6fr 3fr",minHeight:0,alignItems:"stretch"}:void 0,children:[a.jsxs("div",{className:`${xt==="desktop"?"min-w-0 min-h-0 overflow-hidden":xt==="tablet"?"hidden":"w-full shrink-0"} flex flex-col gap-2`,children:[a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-2 text-center",children:[a.jsx("span",{className:"text-xs text-indigo-700 font-medium",children:Ie?` ${Ie}`:` ${e.label}`}),a.jsxs("span",{className:"ml-2 text-[12px] text-indigo-500",children:["   ",Ju[ce]]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"  To-Do"}),a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-blue-200 bg-blue-50 text-blue-700",children:"3"})]}),a.jsx("div",{className:"space-y-1.5",children:Xl.map((Q,be)=>a.jsxs("button",{type:"button",onClick:Q.onClick,className:"w-full text-left rounded border border-gray-100 bg-gray-50 px-2 py-1.5 text-[11px] text-gray-700 hover:border-blue-200 hover:bg-blue-50",children:[be+1,". ",Q.text]},Q.id))})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"1.  (  )"}),a.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded bg-blue-50 text-blue-700",children:_r(tn,Y_e[ye])})]}),a.jsx("div",{className:"mb-2 text-[11px] text-gray-500",children:"    "}),a.jsxs("div",{className:"space-y-1.5 text-[12px] leading-relaxed",children:[a.jsx("div",{className:"p-2 rounded border border-gray-100 bg-gray-50 text-gray-800",children:Ti}),a.jsx("div",{className:"p-2 rounded border border-amber-100 bg-amber-50 text-amber-900",children:nl}),a.jsx("div",{className:"p-2 rounded border border-blue-100 bg-blue-50 text-blue-900",children:ld})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 min-h-0 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_r("Top  ","top5Share","text-sm font-semibold text-gray-700"),a.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded bg-rose-50 text-rose-700 border border-rose-200",children:" 5"})]}),a.jsx("div",{className:"mb-2 rounded border border-blue-100 bg-blue-50 px-2 py-1.5 text-[11px] text-blue-800",children:_r(`Top5  ${tn}  ${Ks} `,"top5Share","text-[11px] text-blue-800")}),a.jsxs("div",{className:"space-y-1.5 overflow-y-auto pr-1",children:[Sn.map((Q,be)=>a.jsx("button",{onClick:()=>We(Q.code,Q.name,Q.regionId),className:`w-full rounded-md border px-2 py-2 text-left ${Ct===Q.regionId?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[a.jsx("span",{className:"w-5 h-5 shrink-0 rounded-full bg-gray-100 text-gray-700 text-[11px] font-semibold flex items-center justify-center",children:be+1}),a.jsx("span",{className:"text-[12px] font-medium text-gray-800 truncate",children:Q.name})]}),a.jsx("span",{className:"text-[12px] font-semibold text-gray-900",children:_x(ye,Q.kpiValue)})]})},Q.regionId)),Sn.length===0&&a.jsx("div",{className:"rounded border border-dashed border-gray-200 bg-gray-50 px-2 py-3 text-[11px] text-gray-500",children:"     "})]})]})]}),a.jsx("div",{className:`${xt==="desktop"?"min-w-0 min-h-0 flex flex-col overflow-hidden":"w-full shrink-0"} ${_a}`,children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col flex-1",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-white rounded-t-lg",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:ie,disabled:!or,className:`flex items-center gap-1 h-8 px-3 text-sm rounded-lg transition-colors font-medium ${or?"text-blue-600 bg-blue-50 hover:bg-blue-100":"text-gray-400 bg-gray-100 cursor-not-allowed"}`,children:[a.jsx(Pf,{className:"h-4 w-4"}),a.jsx("span",{children:""})]}),a.jsx("button",{onClick:W,className:"h-8 px-3 text-xs rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("span",{className:"text-sm font-semibold text-gray-800",children:Nn})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"rounded-md border border-blue-200 bg-blue-50 px-3 py-1.5 text-xs font-semibold text-blue-700",children:""}),a.jsx("div",{className:"flex rounded-md border border-gray-200 overflow-hidden",children:Ca.map(Q=>a.jsx("button",{onClick:()=>Mr(Q.kpi),className:`px-2.5 py-1.5 text-[11px] font-medium transition border-l first:border-l-0 ${qa===Q.key?"bg-slate-700 text-white border-slate-700":"bg-white text-gray-600 border-gray-200 hover:bg-gray-100"}`,title:`${Q.label}  `,children:Q.label},Q.key))}),a.jsx("div",{className:"flex items-center gap-0.5",children:["7d","30d","90d"].map(Q=>a.jsx("button",{onClick:()=>Or(Q),className:`rounded-md px-3 py-1.5 text-xs font-medium transition ${ce===Q?"bg-blue-600 text-white":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:Ju[Q]},Q))})]})]})}),a.jsx("div",{className:"px-4 py-2 border-b border-gray-100 bg-gray-50",children:a.jsx("div",{className:"flex items-center gap-1.5 overflow-x-auto",children:Rr.map((Q,be)=>a.jsxs(q.Fragment,{children:[be>0&&a.jsx(Hs,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"}),a.jsx("button",{onClick:()=>zr(be),className:`text-[11px] whitespace-nowrap ${be===Rr.length-1?"font-semibold text-blue-700":"text-gray-600 hover:text-blue-700"}`,children:Q.label})]},`${Q.level}-${Q.id}-${be}`))})}),a.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 bg-white",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-700 truncate",children:_r(qs,"insightHeadline")}),a.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:cn.map(Q=>a.jsx("span",{title:Q.tooltip,className:"rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 text-[10px] text-gray-600",children:Q.label},Q.label))}),a.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-2",children:Ws.map(Q=>{const be=sCe(Q.points.map(et=>et.v),124,28),De=be.map((et,ht)=>`${ht===0?"M":"L"} ${et.x} ${et.y}`).join(" "),Ne=be[be.length-1],je=Q.delta>0?"text-red-600":Q.delta<0?"text-blue-600":"text-gray-500";return a.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 px-2 py-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"text-[10px] text-gray-500",children:Q.label}),a.jsx("span",{className:`text-[10px] font-semibold ${je}`,children:aCe(Q.delta,Q.unit)})]}),a.jsxs("div",{className:"flex items-end justify-between gap-2 mt-0.5",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-800",children:nCe(Q.value,Q.unit)}),a.jsxs("svg",{viewBox:"0 0 124 28",className:"h-7 w-[124px] shrink-0",children:[a.jsx("path",{d:De,fill:"none",stroke:vr.color,strokeWidth:"1.8",strokeLinecap:"round"}),Ne?a.jsx("circle",{cx:Ne.x,cy:Ne.y,r:"2.5",fill:vr.color}):null]})]})]},Q.key)})})]}),a.jsxs("div",{className:"relative p-2 min-h-0",children:[a.jsxs("div",{className:"absolute left-4 top-4 z-20 w-[min(420px,calc(100%-2rem))] rounded-lg border border-blue-200 bg-white/95 backdrop-blur px-3 py-2 shadow-sm",children:[a.jsx("div",{className:"text-[12px] font-semibold text-blue-800",children:" "}),a.jsx("div",{className:"text-[12px] text-gray-700 mt-1 leading-relaxed",children:lo})]}),a.jsx(u3,{title:"",indicatorId:io,year:2026,scope:{mode:"regional",ctprvnCodes:[e.ctprvnCode],label:e.label},variant:"portal",mapHeight:Ue,hideBreadcrumb:!0,onRegionSelect:Re,externalColorScheme:Ir,hideLegendPanel:!0,externalLevel:O,externalSelectedCode:R,onSubRegionsChange:Je,getTooltipExtraLines:fr})]}),a.jsxs("div",{className:"mx-2 mb-2 px-3 py-2 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100/80 border border-gray-200/60 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:vr.color}}),a.jsxs("span",{className:"text-[12px] font-bold text-gray-600 tracking-wide",children:[tn,"  "]}),a.jsx("span",{className:"text-[11px] text-gray-400",children:":  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-500 tabular-nums min-w-[42px] text-right",children:vr.unit===""?`${Math.round(Ta)}`:vr.unit===""?`${Math.round(Ta)}`:vr.unit===""?`${Math.round(Ta)}`:`${Ta.toFixed(1)}%`}),a.jsx("div",{className:"flex-1 h-3 rounded-md overflow-hidden flex shadow-inner",children:(Rc[Ir]||Rc.blue).map((Q,be)=>a.jsx("div",{className:"flex-1",style:{backgroundColor:Q}},be))}),a.jsx("span",{className:"text-[12px] font-semibold text-gray-500 tabular-nums min-w-[42px]",children:vr.unit===""?`${Math.round(en)}`:vr.unit===""?`${Math.round(en)}`:vr.unit===""?`${Math.round(en)}`:`${en.toFixed(1)}%`})]})]})]})}),a.jsxs("div",{className:`${xt==="desktop"?"min-w-0 min-h-0 overflow-hidden":xt==="tablet"?"hidden":"w-full shrink-0"} flex flex-col gap-2 ${_a}`,children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"2.  ( )"}),a.jsx("span",{className:"text-[11px] px-1.5 py-0.5 bg-indigo-50 text-indigo-600 rounded border border-indigo-200",children:_s})]}),a.jsx("div",{className:"text-[11px] text-gray-500 mb-1",children:"  /  3 "}),a.jsxs("div",{className:"text-[12px] text-gray-500",children:[" : ",a.jsx("span",{className:"font-medium text-gray-700",children:tn}),"  :  "]}),d?a.jsx("button",{type:"button",onClick:()=>d("cause"),className:"mt-2 text-[11px] text-blue-700 hover:text-blue-800 underline underline-offset-2",children:"     "}):null]}),a.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain pr-1 space-y-2",children:V?a.jsxs("div",{className:"space-y-2",children:[a.jsx(E7,{height:176}),a.jsx(E7,{height:176})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"grid grid-cols-1 gap-1.5",children:Ql.map(Q=>a.jsxs("div",{className:"rounded border border-gray-100 bg-gray-50 px-2 py-1.5",children:[a.jsx("div",{className:"text-[10px] text-gray-500",children:Q.label}),a.jsx("div",{className:"text-[12px] font-medium text-gray-800 mt-0.5",children:Q.value})]},Q.label))}),a.jsxs("div",{className:"mt-2 rounded border border-gray-100 bg-gray-50 px-2 py-2",children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-700 mb-1",children:" Top3"}),a.jsx("div",{className:"space-y-1",children:Zt.slice(0,3).map((Q,be)=>a.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[a.jsxs("span",{className:"text-gray-700",children:[be+1,". ",Q.name]}),a.jsx("span",{className:"font-semibold text-gray-900",children:wr(Q)})]},`${Q.name}-${be}`))})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"3.  ( )"}),a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-emerald-200 bg-emerald-50 text-emerald-700",children:" "})]}),a.jsx("div",{className:"text-[11px] text-gray-500 mb-1.5",children:"    "}),d?a.jsx("button",{type:"button",onClick:()=>d("interventions"),className:"mb-2 text-[11px] text-blue-700 hover:text-blue-800 underline underline-offset-2",children:"/   "}):null,a.jsx("div",{className:"space-y-1.5",children:Wn.map(Q=>a.jsxs("button",{onClick:()=>Y(Q.id),className:`w-full rounded border px-2 py-2 text-left ${I===Q.id?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:bg-gray-50"}`,children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-800",children:Q.title}),a.jsx("div",{className:"text-[11px] text-gray-600 mt-0.5",children:Q.detail}),a.jsx("div",{className:"text-[11px] text-blue-700 mt-1",children:Q.expected})]},Q.id))}),a.jsx("button",{onClick:()=>l?.({kpi:ye,sgg:Ie,range:Ae,source:"overview",primaryDriverStage:oo?.stage??Br.primaryDriverStage}),className:"mt-2.5 w-full h-9 rounded-md text-[12px] font-semibold text-white bg-blue-600 hover:bg-blue-700",children:" "})]})]})})]})]})})]})}function cCe({regionCode:e,regionLabel:t,userRole:r="center_director"}){const n=r==="center_director",[s,i]=g.useState(!1),[o,l]=g.useState(()=>IK(e)),d=g.useCallback((v,N)=>{l(y=>({...y,thresholds:{...y.thresholds,[v]:N}})),i(!1)},[]),u=g.useCallback((v,N)=>{l(y=>({...y,weights:{...y.weights,[v]:N}})),i(!1)},[]),m=g.useCallback(v=>{l(N=>({...N,notifications:{...N.notifications,[v]:!N.notifications[v]}})),i(!1)},[]),p=g.useCallback(()=>{f_e(e,o),i(!0),setTimeout(()=>i(!1),3e3)},[e,o]),h=g.useCallback(()=>{l({...yh}),i(!1)},[]),b=g.useMemo(()=>{const v=o.weights;return Number((v.slaBreachRate+v.notReachedRate+v.avgWaitTimeNorm+v.longWaitRate).toFixed(2))},[o.weights]);return a.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-gray-800",children:""}),a.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[t,"     "]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[s&&a.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-medium animate-pulse",children:[a.jsx(Vi,{className:"h-4 w-4"}),"  "]}),a.jsx("button",{onClick:h,disabled:!n,className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-not-allowed",children:" "}),a.jsxs("button",{onClick:p,disabled:!n,className:"flex items-center gap-1.5 px-4 py-1.5 text-xs font-semibold bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-40 disabled:cursor-not-allowed shadow-sm",children:[a.jsx(kT,{className:"h-3.5 w-3.5"}),""]})]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(_V,{className:"h-4.5 w-4.5 text-indigo-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:" "}),a.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full",children:" "})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[10px] text-indigo-500 font-medium mb-1",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-indigo-800",children:"case_id ( )"}),a.jsx("div",{className:"text-[10px] text-indigo-400 mt-1",children:"     1 "})]}),a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[10px] text-indigo-500 font-medium mb-1",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-indigo-800",children:"event_id/signal_id  "}),a.jsx("div",{className:"text-[10px] text-indigo-400 mt-1",children:"  signal   "})]}),a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[10px] text-indigo-500 font-medium mb-1",children:"  "}),a.jsx("div",{className:"text-sm font-semibold text-indigo-800",children:"   "}),a.jsx("div",{className:"text-[10px] text-indigo-400 mt-1",children:" KPI       "})]})]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(z8,{className:"h-4.5 w-4.5 text-orange-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:" / "}),!n&&a.jsx(zc,{className:"h-3.5 w-3.5 text-gray-400"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"   (thresholdDays)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:1,max:90,value:o.thresholds.longWaitDays,onChange:v=>d("longWaitDays",Number(v.target.value)),disabled:!n,className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed focus:ring-1 focus:ring-blue-500 focus:outline-none"}),a.jsx("span",{className:"text-xs text-gray-500",children:""}),a.jsxs("span",{className:"text-[10px] text-gray-400 ml-2",children:["  ",o.thresholds.longWaitDays,'    " "']})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"SLA   (slaNearDays)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:1,max:30,value:o.thresholds.slaNearDays,onChange:v=>d("slaNearDays",Number(v.target.value)),disabled:!n,className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed focus:ring-1 focus:ring-blue-500 focus:outline-none"}),a.jsx("span",{className:"text-xs text-gray-500",children:""}),a.jsxs("span",{className:"text-[10px] text-gray-400 ml-2",children:["SLA  ",o.thresholds.slaNearDays,'  ""']})]})]})]}),a.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Top5   (w1~w4)"}),a.jsxs("span",{className:`text-[10px] font-medium px-2 py-0.5 rounded-full ${b===1?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[": ",b," ",b===1?"":" 1.00"]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{key:"slaBreachRate",label:"w1  SLA ",color:"text-red-600"},{key:"notReachedRate",label:"w2  ",color:"text-orange-600"},{key:"avgWaitTimeNorm",label:"w3  ",color:"text-purple-600"},{key:"longWaitRate",label:"w4  ",color:"text-blue-600"}].map(({key:v,label:N,color:y})=>a.jsxs("div",{children:[a.jsx("label",{className:`text-[10px] font-medium ${y} block mb-1`,children:N}),a.jsx("input",{type:"number",min:0,max:1,step:.05,value:o.weights[v],onChange:S=>u(v,Number(S.target.value)),disabled:!n,className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed focus:ring-1 focus:ring-blue-500 focus:outline-none"})]},v))}),a.jsx("div",{className:"mt-2 text-[10px] text-gray-400",children:"risk_score = w1SLA + w2 + w3() + w4"})]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Ap,{className:"h-4.5 w-4.5 text-yellow-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:" "}),!n&&a.jsx(zc,{className:"h-3.5 w-3.5 text-gray-400"})]}),a.jsx("div",{className:"space-y-3",children:[{key:"slaBreachAlert",label:"SLA  ",desc:"SLA     ",ready:!0},{key:"slaImminentAlert",label:"SLA  ",desc:"SLA  N  ",ready:!0},{key:"longWaitSurge",label:"  ",desc:"    30%   ",ready:!1},{key:"riskIncrease",label:"  ",desc:"     ",ready:!1}].map(({key:v,label:N,desc:y,ready:S})=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ka,{className:`h-4 w-4 ${o.notifications[v]?"text-yellow-500":"text-gray-300"}`}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-gray-800 flex items-center gap-1.5",children:[N,!S&&a.jsx("span",{className:"text-[9px] bg-gray-100 text-gray-400 px-1.5 py-0.5 rounded-full",children:""})]}),a.jsx("div",{className:"text-[10px] text-gray-500",children:y})]})]}),a.jsx("button",{onClick:()=>m(v),disabled:!n,className:`relative w-10 h-5.5 rounded-full transition-colors disabled:opacity-40 disabled:cursor-not-allowed ${o.notifications[v]?"bg-blue-500":"bg-gray-300"}`,style:{height:"22px"},children:a.jsx("span",{className:"absolute top-0.5 w-4 h-4 rounded-full bg-white shadow transition-transform",style:{left:o.notifications[v]?"22px":"2px"}})})]},v))})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Wo,{className:"h-4.5 w-4.5 text-green-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:" / "})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-green-500 text-white flex items-center justify-center text-[10px] font-bold",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-green-800",children:""}),a.jsx("div",{className:"text-[10px] text-green-600",children:"   "})]})]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${n?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:n?" ":""})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-gray-400 text-white flex items-center justify-center text-[10px] font-bold",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-700",children:" "}),a.jsx("div",{className:"text-[10px] text-gray-500",children:"     "})]})]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${n?"":"bg-gray-100 text-gray-600"}`,children:n?"":" "})]})]}),a.jsxs("div",{className:"mt-3 text-[10px] text-gray-400",children:[" : localStorage  regional.settings.",e,".*    "]})]})]})}const fT={regionalSla:" SLA",regionalQueueRisk:" ( )",regionalRecontact:"  ",regionalDataReadiness:"  ",regionalGovernance:"  ",regionalAdTransitionHotspot:"AD  ",regionalDxDelayHotspot:" ",regionalScreenToDxRate:" "},z3={contact:"",recontact:"",L2:"L2","3rd":"3"},dCe=["contact","recontact","L2","3rd"],_7={week:"",month:"",quarter:""},C7={center:"",hospital:"",system:"",external:""},T7={high:"High",medium:"Med",low:"Low"},uCe={watch:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-red-50 text-red-700 border-red-200"},fCe={none:"bg-gray-50 text-gray-600 border-gray-200",watch:"bg-amber-50 text-amber-700 border-amber-200",critical:"bg-red-50 text-red-700 border-red-200"},JK=[{causeKey:"staff_shortage",causeLabel:"  ",owner:"center",actionable:!0,regionalNeed:"high"},{causeKey:"contact_failure",causeLabel:" ",owner:"center",actionable:!0,regionalNeed:"high"},{causeKey:"data_gap",causeLabel:" ",owner:"system",actionable:!0,regionalNeed:"medium"},{causeKey:"hospital_slot_delay",causeLabel:"  ",owner:"hospital",actionable:!1,regionalNeed:"high"},{causeKey:"external_dependency",causeLabel:"  ",owner:"external",actionable:!1,regionalNeed:"medium"}],pCe={contact:["contact_failure","staff_shortage","data_gap"],recontact:["contact_failure","staff_shortage","external_dependency"],L2:["data_gap","hospital_slot_delay","staff_shortage"],"3rd":["hospital_slot_delay","external_dependency","data_gap"]},mCe={staff_shortage:{contact:1.2,recontact:1.15,L2:.95,"3rd":.9},contact_failure:{contact:1.28,recontact:1.35,L2:.8,"3rd":.78},data_gap:{contact:.84,recontact:.88,L2:1.2,"3rd":1.16},hospital_slot_delay:{contact:.7,recontact:.76,L2:1.22,"3rd":1.32},external_dependency:{contact:.75,recontact:.83,L2:1.06,"3rd":1.24}},hCe={staff_shortage:["    "," 2    ","48   "],contact_failure:["     ","   ","    "],data_gap:["     ","     ","24   "],hospital_slot_delay:["     ","     ","    "],external_dependency:["    ","    ","     "]};function Vc(e){let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t}function ga(e,t,r){return t+(r-t)*(Vc(e)%1e3/1e3)}function gCe(e,t,r){return Math.max(t,Math.min(r,e))}function k7(e){return e==="contact"||e==="recontact"||e==="L2"||e==="3rd"?e:null}function xCe(e){return e==="week"||e==="month"||e==="quarter"?e:null}function bCe(e){return e?e in fT:!1}function jl(e){return`${Math.round(e).toLocaleString()}`}function wl(e){return`${e.toFixed(1)}%`}function O7(e){const t=dCe.map((n,s)=>{const i=Math.round(ga(`${e}-${n}-count`,82+s*12,360+s*20)),o=Math.round(ga(`${e}-${n}-dwell`,48+s*28,420+s*35)),l=Number(ga(`${e}-${n}-delta`,-18,22).toFixed(1)),d=pCe[n].slice(0,2).map((u,m)=>({causeKey:u,ratio:Number(ga(`${e}-${n}-${u}-top-${m}`,14,44-m*6).toFixed(1))}));return{stageKey:n,stageLabel:z3[n],count:i,avgDwellMinutes:o,deltaVsRegionalAvg:l,topCauses:d}}),r=t.reduce((n,s)=>n+s.count,0);return t.map(n=>({...n,ratio:r>0?Number((n.count/r*100).toFixed(1)):0}))}function R7(e,t,r){const n=JK.map(i=>{const o=t?mCe[i.causeKey]?.[t]??1:1,l=r?1+(Vc(`${r}-${i.causeKey}`)%120-60)/700:1,d=Math.max(8,Math.round(ga(`${e}-${i.causeKey}-count`,42,260)*o*l));return{...i,count:d}}).sort((i,o)=>o.count-i.count),s=n.reduce((i,o)=>i+o.count,0);return n.map(i=>({causeKey:i.causeKey,causeLabel:i.causeLabel,ratio:s>0?Number((i.count/s*100).toFixed(1)):0,count:i.count,meta:{owner:i.owner,actionable:i.actionable,regionalNeed:i.regionalNeed}}))}function P7(e,t,r,n){const s=t.slice(0,Math.min(10,t.length));if(!s.length)return[];const i=r?1+Vc(`${r}-weight`)%90/200:1,o=n?1+Vc(`${n}-weight`)%70/220:1,l=s.map(p=>{const h=Math.round(ga(`${e}-area-${p}-count`,36,220)*i*o);return{areaKey:p,areaLabel:p,count:h}}),d=l.reduce((p,h)=>p+h.count,0),u=l.map(p=>({...p,ratio:d>0?Number((p.count/d*100).toFixed(1)):0})),m=u.reduce((p,h)=>p+h.ratio,0)/Math.max(1,u.length);return u.map(p=>{const h=Number((p.ratio-m).toFixed(1)),b=Math.abs(h),v=b>=8?"critical":b>=4?"watch":"none";return{...p,deltaVsAvg:h,highlightLevel:v}}).sort((p,h)=>h.ratio-p.ratio)}function yCe(e,t,r,n,s){const i=t==="week"?7:t==="month"?8:12,o=Array.from({length:i},(v,N)=>t==="week"?`D-${i-1-N}`:t==="month"?`W-${i-1-N}`:`M-${i-1-N}`),l=s?Vc(`${s}-trend-bias`)%90/18:0,d=n?Vc(`${n}-trend-bias`)%60/20:0,u=r?Vc(`${r}-trend-bias`)%70/18:0,m=ga(`${e}-trend-base-count`,80,220)+l+d+u,p=ga(`${e}-trend-slope-count`,-6,9),h=ga(`${e}-trend-base-ratio`,10,36)+u/3,b=ga(`${e}-trend-slope-ratio`,-1.2,1.8);return o.map((v,N)=>{const y=ga(`${e}-${v}-count-noise`,-14,14),S=ga(`${e}-${v}-ratio-noise`,-1.8,1.8),w=Math.max(1,Math.round(m+p*N+y)),_=Number(gCe(h+b*N+S,0,100).toFixed(1));return{dateKey:v,count:w,ratio:_}})}function vCe(e){if(e.length<3)return[];const t=[];let r=1;for(let d=e.length-1;d>0&&e[d].ratio>e[d-1].ratio;d-=1)r+=1;r>=3&&t.push({type:"increasing_streak",days:r,severity:r>=5?"critical":"watch"});const n=e.slice(-Math.min(5,e.length));!n.some((d,u)=>u>0&&d.ratio<n[u-1].ratio)&&n.length>=4&&t.push({type:"no_decrease",days:n.length,severity:n.length>=5?"critical":"watch"});const i=Math.max(1,e.length-4),l=e.slice(i-1).map(d=>d.ratio);return l.length>=4&&l[1]<l[0]&&l[2]>l[1]&&l[3]>l[2]&&t.push({type:"rebound",days:2,severity:"watch"}),t}function NCe(e){return[{stage:"Stage1 (ML)",signal:Number(ga(`${e}-stage1-signal`,-16,20).toFixed(1)),queue:Math.round(ga(`${e}-stage1-queue`,-20,48)),desc:"       "},{stage:"Stage2 (ANN)",signal:Number(ga(`${e}-stage2-signal`,-14,18).toFixed(1)),queue:Math.round(ga(`${e}-stage2-queue`,-18,42)),desc:"   2    "},{stage:"Stage3 (CNN)",signal:Number(ga(`${e}-stage3-signal`,-12,16).toFixed(1)),queue:Math.round(ga(`${e}-stage3-queue`,-16,38)),desc:"   3     "}]}function SCe(e,t,r,n,s,i,o){const l=s?r.find(p=>p.stageKey===s)??r[0]:r[0],d=o?n.find(p=>p.areaKey===o)??n[0]:n[0];return(i?t.filter(p=>p.causeKey===i):t.slice(0,3)).filter(p=>!!(p&&typeof p.ratio=="number"&&typeof p.count=="number")).slice(0,3).map((p,h)=>{const b=Number((p.ratio*.62+(l?.ratio??0)*.22+Math.max(0,d?.deltaVsAvg??0)*.16).toFixed(1)),v=p.meta.owner,N=hCe[p.causeKey]??["    ","    ","   "];return{recId:`REC-${h+1}-${Vc(`${e}-${p.causeKey}`)}`,evidence:{causeKey:p.causeKey,causeLabel:p.causeLabel,stageKey:l?.stageKey??"contact",stageLabel:l?.stageLabel??z3.contact,areaKey:d?.areaKey??null,areaLabel:d?.areaLabel??" "},action:{title:it(`${p.causeLabel}    `),steps:N,ownerSuggested:v},expectedEffect:{qualitative:it("       ")},priorityScore:b}})}function jCe(e){return e>=8?"text-red-700":e>=4?"text-amber-700":e<=-6?"text-blue-700":"text-gray-700"}function wCe(e){return e.type==="increasing_streak"?`${e.days}  `:e.type==="no_decrease"?`${e.days}  `:"  "}function Ym(){return a.jsxs("div",{className:"animate-pulse space-y-2",children:[a.jsx("div",{className:"h-4 w-1/3 rounded bg-gray-200"}),a.jsx("div",{className:"h-40 rounded bg-gray-100"}),a.jsx("div",{className:"h-4 w-2/3 rounded bg-gray-200"})]})}function ECe({region:e,districtOptions:t,selectedKpiKey:r,selectedRegionSgg:n,selectedRange:s,onSelectedKpiKeyChange:i,onSelectedRegionSggChange:o,onSelectedRangeChange:l,onCreateIntervention:d}){const u=g.useMemo(()=>new URLSearchParams(window.location.search),[]),[m,p]=g.useState(u.get("stageImpact")!=="0"),[h,b]=g.useState(k7(u.get("stage"))),[v,N]=g.useState(u.get("cause")||null),[y,S]=g.useState(u.get("area")||null),w=g.useRef(null),_=g.useRef(null),A=g.useCallback(()=>{const X=new URLSearchParams(window.location.search),ne=X.get("kpi"),ve=X.get("sigungu"),pe=xCe(X.get("period"));bCe(ne)&&ne!==r&&i(ne),ve!==null&&ve!==(n??"")&&o(ve||null),pe&&pe!==s&&l(pe);const Ce=X.get("stageImpact")!=="0",ge=k7(X.get("stage")),se=X.get("cause")||null,Ze=X.get("area")||null;p(V=>V===Ce?V:Ce),b(V=>V===ge?V:ge),N(V=>V===se?V:se),S(V=>V===Ze?V:Ze)},[i,l,o,r,s,n]);g.useEffect(()=>{A()},[A]),g.useEffect(()=>{const X=()=>A();return window.addEventListener("popstate",X),()=>window.removeEventListener("popstate",X)},[A]),g.useEffect(()=>{y&&!t.includes(y)&&S(null)},[t,y]),g.useEffect(()=>(w.current&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>{const X=new URL(window.location.href),ne=X.searchParams;ne.set("kpi",r),ne.set("period",s),n?ne.set("sigungu",n):ne.delete("sigungu"),ne.set("stageImpact",m?"1":"0"),h?ne.set("stage",h):ne.delete("stage"),v?ne.set("cause",v):ne.delete("cause"),y?ne.set("area",y):ne.delete("area");const ve=ne.toString();`?${ve}`!==X.search&&window.history.replaceState({},"",`${X.pathname}?${ve}${X.hash}`)},180),()=>{w.current&&window.clearTimeout(w.current)}),[y,v,r,s,n,h,m]);const E=g.useMemo(()=>({kpiKey:r,sigungu:n??"",period:s,stageImpactOn:m,selectedStage:h,selectedCauseKey:v,selectedArea:y}),[y,v,r,s,n,h,m]),C=g.useMemo(()=>`${e.id}-${E.sigungu||"all"}-${E.kpiKey}-${E.period}`,[E.kpiKey,E.period,E.sigungu,e.id]),O=Ic({queryKey:["regional-cause","stage-breakdown",E.kpiKey,E.sigungu,E.period],queryFn:async()=>O7(`${C}-stage`),staleTime:3e4,placeholderData:X=>X}),D=Ic({queryKey:["regional-cause","cause-topn",E.kpiKey,E.sigungu,E.period,E.selectedStage??"all",E.selectedArea??"all"],queryFn:async()=>R7(`${C}-cause`,E.selectedStage,E.selectedArea),staleTime:3e4,placeholderData:X=>X}),R=Ic({queryKey:["regional-cause","area-comparison",E.kpiKey,E.sigungu,E.period,E.selectedStage??"all",E.selectedCauseKey??"all"],queryFn:async()=>P7(`${C}-area-${E.selectedCauseKey??"all"}`,t,E.selectedCauseKey,E.selectedStage),staleTime:3e4,placeholderData:X=>X}),K=Ic({queryKey:["regional-cause","cause-trend",E.kpiKey,E.sigungu,E.period,E.selectedStage??"all",E.selectedCauseKey??"all",E.selectedArea??"all"],queryFn:async()=>yCe(`${C}-trend`,E.period,E.selectedCauseKey,E.selectedStage,E.selectedArea),staleTime:3e4,placeholderData:X=>X}),H=Ic({queryKey:["regional-cause","recommendation",E.kpiKey,E.sigungu,E.period,E.selectedStage??"all",E.selectedCauseKey??"all",E.selectedArea??"all"],queryFn:async()=>SCe(`${C}-rec`,R7(`${C}-rec-cause`,E.selectedStage,E.selectedArea),O7(`${C}-rec-stage`),P7(`${C}-rec-area`,t,E.selectedCauseKey,E.selectedStage),E.selectedStage,E.selectedCauseKey,E.selectedArea),staleTime:3e4,placeholderData:X=>X}),$=g.useMemo(()=>NCe(`${C}-impact`),[C]),U=O.data??[],P=D.data??[],G=R.data??[],L=K.data??[],M=g.useMemo(()=>vCe(L),[L]),B=H.data??[];g.useEffect(()=>{P.length&&(v&&P.some(X=>X.causeKey===v)||N(P[0].causeKey))},[P,v]),g.useEffect(()=>{!G.length||!y||G.some(X=>X.areaKey===y)||S(null)},[G,y]);const J=g.useMemo(()=>P.find(X=>X.causeKey===v)??null,[P,v]),ee=g.useMemo(()=>G.find(X=>X.areaKey===y)??null,[G,y]),I=g.useCallback(X=>{const{x:ne=0,y:ve=0,width:pe=0,payload:Ce,index:ge,value:se}=X??{},Ze=Ce??(typeof ge=="number"?U[ge]:void 0),V=Ze?.ratio,de=Ze?.count??se;return typeof V!="number"||typeof de!="number"?null:a.jsxs("text",{x:ne+pe+8,y:ve+13,fill:"#374151",fontSize:11,children:[wl(V),"  ",jl(de)]})},[U]),Y=g.useCallback(X=>{const{x:ne=0,y:ve=0,width:pe=0,payload:Ce,index:ge,value:se}=X??{},Ze=Ce??(typeof ge=="number"?P[ge]:void 0),V=Ze?.ratio,de=Ze?.count??se;return typeof V!="number"||typeof de!="number"?null:a.jsxs("text",{x:ne+pe+8,y:ve+13,fill:"#1f2937",fontSize:11,children:[wl(V),"  ",jl(de)]})},[P]),ae=g.useMemo(()=>{if(!L.length)return it("  ");const X=L[L.length-1];return it(`${X.dateKey}  ${jl(X.count)}  ${wl(X.ratio)} (  )`)},[L]),le=g.useCallback(X=>{const ne=X?.stage??h,ve=X?.causeKey??v,pe=X?.area??y??n,Ce=ne?z3[ne]:null;d?.({region:pe??null,kpiKey:r,range:s,source:"cause",primaryDriverStage:Ce??void 0,selectedStage:ne??null,selectedCauseKey:ve??null,selectedArea:pe??null})},[d,v,r,s,n,h,y]),he=g.useCallback(X=>{b(X.evidence.stageKey),N(X.evidence.causeKey),S(X.evidence.areaKey),_.current?.scrollIntoView({behavior:"smooth",block:"start"})},[]);return a.jsxs("div",{className:"h-full overflow-auto bg-gray-50 p-4 space-y-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800",children:" "}),a.jsx("div",{className:"text-[12px] text-gray-500",children:"()  ()  () 2  "})]}),a.jsx("button",{onClick:()=>le(),className:"px-3 py-1.5 rounded-md bg-blue-600 text-white text-sm font-medium hover:bg-blue-700",children:" "})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-5 gap-2",children:[a.jsx("select",{value:r,onChange:X=>i(X.target.value),className:"px-2.5 py-1.5 border border-gray-300 rounded text-sm",children:Object.entries(fT).map(([X,ne])=>a.jsx("option",{value:X,children:ne},X))}),a.jsxs("select",{value:n??"",onChange:X=>o(X.target.value||null),className:"px-2.5 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsxs("option",{value:"",children:[e.label," "]}),t.map(X=>a.jsx("option",{value:X,children:X},X))]}),a.jsxs("select",{value:s,onChange:X=>l(X.target.value),className:"px-2.5 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"week",children:""}),a.jsx("option",{value:"month",children:""}),a.jsx("option",{value:"quarter",children:""})]}),a.jsxs("button",{onClick:()=>p(X=>!X),className:`px-2.5 py-1.5 border rounded text-sm flex items-center justify-center gap-1 ${m?"border-indigo-300 bg-indigo-50 text-indigo-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:["Stage  ",m?"ON":"OFF"," ",m?a.jsx($l,{className:"h-4 w-4"}):a.jsx(za,{className:"h-4 w-4"})]}),a.jsxs("div",{className:"px-2.5 py-1.5 border border-gray-200 rounded text-xs text-gray-600 flex items-center",children:["URL sync: ",n??" ","  ",_7[s]]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"  "}),a.jsx("div",{className:"text-[11px] text-gray-500",children:"Stage   /  "})]}),!U.length&&O.isPending?a.jsx(Ym,{}):a.jsx("div",{style:{height:260},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(zd,{data:U,margin:{top:8,right:112,left:0,bottom:8},children:[a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx($n,{dataKey:"stageLabel",tick:{fontSize:12}}),a.jsx(_n,{tick:{fontSize:12}}),a.jsx(qr,{cursor:{fill:"#eff6ff"},content:({active:X,payload:ne})=>{if(!X||!ne?.length)return null;const ve=ne[0].payload;return a.jsxs("div",{className:"rounded border border-gray-200 bg-white px-2 py-1.5 text-[11px] shadow-sm",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:ve.stageLabel}),a.jsxs("div",{className:"text-gray-700",children:[" ",wl(ve.ratio),"   ",jl(ve.count)]}),a.jsxs("div",{className:"text-gray-600",children:[" : ",Math.round(ve.avgDwellMinutes),""]}),a.jsxs("div",{className:jCe(ve.deltaVsRegionalAvg),children:["    ",ve.deltaVsRegionalAvg>0?"+":"",ve.deltaVsRegionalAvg.toFixed(1),"%p"]}),a.jsxs("div",{className:"text-gray-600",children:[" Top2:"," ",ve.topCauses.map(pe=>`${JK.find(ge=>ge.causeKey===pe.causeKey)?.causeLabel??pe.causeKey} ${wl(pe.ratio)}`).join("  ")]})]})}}),a.jsxs(Aa,{dataKey:"count",radius:[5,5,0,0],onClick:X=>{b(ne=>ne===X.stageKey?null:X.stageKey)},children:[U.map(X=>a.jsx(Ni,{fill:h===X.stageKey?"#dc2626":"#f97316"},X.stageKey)),a.jsx(Ea,{content:I})]})]})})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:U.map(X=>a.jsxs("button",{onClick:()=>b(ne=>ne===X.stageKey?null:X.stageKey),className:`px-2 py-1 rounded border text-[11px] ${h===X.stageKey?"border-red-300 bg-red-50 text-red-700":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[X.stageLabel," ",wl(X.ratio),"  ",jl(X.count)]},X.stageKey))}),O.isFetching&&U.length?a.jsx("div",{className:"absolute inset-0 rounded-lg bg-white/40 pointer-events-none"}):null]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"  TopN"}),a.jsx("div",{className:"text-[11px] text-gray-500",children:"   //  "})]}),!P.length&&D.isPending?a.jsx(Ym,{}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{height:260},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(zd,{data:P,layout:"vertical",margin:{top:8,right:110,left:20,bottom:8},children:[a.jsx(Ha,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f3f4f6"}),a.jsx($n,{type:"number",tick:{fontSize:12}}),a.jsx(_n,{dataKey:"causeLabel",type:"category",width:110,tick:{fontSize:12}}),a.jsx(qr,{cursor:{fill:"#fff7ed"},content:({active:X,payload:ne})=>{if(!X||!ne?.length)return null;const ve=ne[0].payload,pe=ve.meta.actionable?"   ":"   (/  )";return a.jsxs("div",{className:"rounded border border-gray-200 bg-white px-2 py-1.5 text-[11px] shadow-sm",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:ve.causeLabel}),a.jsxs("div",{className:"text-gray-700",children:[" ",wl(ve.ratio),"   ",jl(ve.count)]}),a.jsxs("div",{className:"text-gray-600",children:[" : ",C7[ve.meta.owner]]}),a.jsxs("div",{className:"text-gray-600",children:["  : ",T7[ve.meta.regionalNeed]]}),a.jsx("div",{className:ve.meta.actionable?"text-blue-700":"text-amber-700",children:pe})]})}}),a.jsxs(Aa,{dataKey:"count",radius:[0,5,5,0],onClick:X=>N(X.causeKey),children:[P.map(X=>a.jsx(Ni,{fill:v===X.causeKey?"#ea580c":"#f59e0b"},X.causeKey)),a.jsx(Ea,{content:Y})]})]})})}),a.jsx("div",{className:"mt-2 space-y-1.5",children:P.map(X=>a.jsxs("button",{onClick:()=>N(X.causeKey),className:`w-full rounded border px-2 py-1.5 text-left ${v===X.causeKey?"border-orange-300 bg-orange-50":"border-gray-200 bg-white hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-800",children:X.causeLabel}),a.jsxs("div",{className:"text-[11px] text-gray-600",children:[wl(X.ratio),"  ",jl(X.count)]})]}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[a.jsxs("span",{className:"rounded border border-gray-200 bg-gray-50 px-1.5 py-0.5 text-[10px] text-gray-600",children:[": ",C7[X.meta.owner]]}),a.jsxs("span",{className:`rounded border px-1.5 py-0.5 text-[10px] ${X.meta.actionable?"border-blue-200 bg-blue-50 text-blue-700":"border-amber-200 bg-amber-50 text-amber-700"}`,children:[" : ",X.meta.actionable?"Yes":"No"]}),a.jsxs("span",{className:`rounded border px-1.5 py-0.5 text-[10px] ${X.meta.regionalNeed==="high"?"border-red-200 bg-red-50 text-red-700":X.meta.regionalNeed==="medium"?"border-amber-200 bg-amber-50 text-amber-700":"border-emerald-200 bg-emerald-50 text-emerald-700"}`,children:[" : ",T7[X.meta.regionalNeed]]})]})]},X.causeKey))})]}),D.isFetching&&P.length?a.jsx("div",{className:"absolute inset-0 rounded-lg bg-white/40 pointer-events-none"}):null]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"  (   )"}),a.jsx("div",{className:"text-[11px] text-gray-500",children:"      "})]}),!G.length&&R.isPending?a.jsx(Ym,{}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{height:260},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(t3,{data:G,margin:{top:8,right:12,left:-8,bottom:52},children:[a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx($n,{dataKey:"areaLabel",tick:{fontSize:11},interval:0,angle:-30,textAnchor:"end",height:62}),a.jsx(_n,{yAxisId:"left",tick:{fontSize:12}}),a.jsx(_n,{yAxisId:"right",orientation:"right",tick:{fontSize:12}}),a.jsx(qr,{formatter:(X,ne)=>ne==="deltaVsAvg"?`${X>0?"+":""}${Number(X).toFixed(1)}%p`:`${Math.round(Number(X)).toLocaleString()}`}),a.jsx(Ho,{wrapperStyle:{fontSize:"12px"},formatter:X=>X==="count"?"":"   "}),a.jsxs(Aa,{yAxisId:"left",dataKey:"count",radius:[4,4,0,0],onClick:X=>S(ne=>ne===X.areaKey?null:X.areaKey),children:[G.map(X=>a.jsx(Ni,{fill:y===X.areaKey?"#1d4ed8":X.highlightLevel==="critical"?"#ef4444":X.highlightLevel==="watch"?"#f59e0b":"#93c5fd"},X.areaKey)),a.jsx(Ea,{dataKey:"count",position:"top",formatter:X=>`${Math.round(X)}`})]}),a.jsx(aa,{yAxisId:"right",dataKey:"deltaVsAvg",stroke:"#1d4ed8",strokeWidth:2.1,dot:{r:3},children:a.jsx(Ea,{dataKey:"deltaVsAvg",position:"top",formatter:X=>`${X>0?"+":""}${Number(X).toFixed(1)}`})})]})})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:G.slice(0,8).map(X=>a.jsxs("button",{onClick:()=>S(ne=>ne===X.areaKey?null:X.areaKey),className:`rounded border px-2 py-1 text-[11px] ${y===X.areaKey?"border-blue-300 bg-blue-50 text-blue-700":fCe[X.highlightLevel]}`,children:[X.areaLabel,"   ",X.deltaVsAvg>0?"+":"",X.deltaVsAvg.toFixed(1),"%p  ",jl(X.count)]},X.areaKey))}),y?a.jsx("div",{className:"mt-2",children:a.jsx("button",{onClick:()=>le(),className:"h-8 rounded-md border border-blue-200 bg-blue-50 px-3 text-[12px] font-medium text-blue-700 hover:bg-blue-100",children:"  "})}):null]}),R.isFetching&&G.length?a.jsx("div",{className:"absolute inset-0 rounded-lg bg-white/40 pointer-events-none"}):null]}),a.jsxs("div",{ref:_,className:"bg-white border border-gray-200 rounded-lg p-3 relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"  "}),a.jsx("div",{className:"text-[11px] text-gray-500",children:ae})]}),a.jsx("div",{className:"mb-2 flex flex-wrap gap-1.5",children:M.length?M.map(X=>a.jsx("span",{className:`rounded border px-2 py-0.5 text-[11px] ${uCe[X.severity]}`,children:wCe(X)},`${X.type}-${X.days}`)):a.jsx("span",{className:"rounded border border-gray-200 bg-gray-50 px-2 py-0.5 text-[11px] text-gray-600",children:"   "})}),!L.length&&K.isPending?a.jsx(Ym,{}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{height:250},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(Uv,{data:L,margin:{top:8,right:12,left:0,bottom:8},children:[a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx($n,{dataKey:"dateKey",tick:{fontSize:12}}),a.jsx(_n,{yAxisId:"left",tick:{fontSize:12}}),a.jsx(_n,{yAxisId:"right",orientation:"right",tick:{fontSize:12}}),a.jsx(qr,{content:({active:X,payload:ne,label:ve})=>{if(!X||!ne?.length)return null;const pe=ne[0].payload,Ce=M.some(ge=>ge.type==="increasing_streak");return a.jsxs("div",{className:"rounded border border-gray-200 bg-white px-2 py-1.5 text-[11px] shadow-sm",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:ve}),a.jsxs("div",{className:"text-gray-700",children:[" ",jl(pe.count)]}),a.jsxs("div",{className:"text-gray-700",children:[" ",wl(pe.ratio)]}),Ce?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-red-700",children:"n   "}),a.jsx("div",{className:"text-red-700",children:"   SLA   "})]}):null]})}}),a.jsx(Ho,{wrapperStyle:{fontSize:"12px"},formatter:X=>X==="count"?"":""}),a.jsx(aa,{yAxisId:"left",type:"monotone",dataKey:"count",stroke:"#ef4444",strokeWidth:2.2,dot:{r:3},children:a.jsx(Ea,{dataKey:"count",position:"top",formatter:X=>`${Math.round(X)}`})}),a.jsx(aa,{yAxisId:"right",type:"monotone",dataKey:"ratio",stroke:"#f59e0b",strokeWidth:2.2,dot:{r:3},children:a.jsx(Ea,{dataKey:"ratio",position:"bottom",formatter:X=>`${Number(X).toFixed(1)}%`})})]})})}),a.jsx("div",{className:"mt-2 text-[11px] text-gray-600",children:M.some(X=>X.type==="increasing_streak")?"   SLA   ":"       "})]}),K.isFetching&&L.length?a.jsx("div",{className:"absolute inset-0 rounded-lg bg-white/40 pointer-events-none"}):null]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[a.jsx(Ka,{className:"h-4 w-4 text-orange-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:" "})]}),!B.length&&H.isPending?a.jsx(Ym,{}):a.jsx("div",{className:"space-y-2",children:B.map(X=>a.jsxs("div",{className:"p-2 rounded border border-orange-100 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("div",{className:"text-[13px] font-medium text-orange-900",children:X.action.title}),a.jsxs("div",{className:"text-[11px] text-orange-700",children:[" ",X.priorityScore]})]}),a.jsxs("div",{className:"mt-1 text-[12px] text-orange-800",children:[" : ",X.evidence.causeLabel,"   Stage: ",X.evidence.stageLabel,"   : ",X.evidence.areaLabel]}),a.jsxs("div",{className:"mt-1 text-[12px] text-orange-900",children:[" : ",X.action.steps.join("  ")]}),a.jsxs("div",{className:"mt-1 text-[12px] text-orange-800",children:[" : ",X.expectedEffect.qualitative]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("button",{onClick:()=>le({stage:X.evidence.stageKey,causeKey:X.evidence.causeKey,area:X.evidence.areaKey}),className:"h-8 rounded-md bg-blue-600 px-3 text-[12px] font-medium text-white hover:bg-blue-700",children:"  "}),a.jsx("button",{onClick:()=>he(X),className:"h-8 rounded-md border border-orange-200 bg-white px-3 text-[12px] font-medium text-orange-700 hover:bg-orange-100",children:"  "})]})]},X.recId))})]}),m&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Stage  ( )"}),a.jsx("div",{className:"space-y-2",children:$.map(X=>a.jsxs("div",{className:"p-2 rounded border border-gray-100 bg-gray-50",children:[a.jsx("div",{className:"text-[13px] font-medium text-gray-800",children:X.stage}),a.jsxs("div",{className:"text-[12px] text-gray-600",children:["  ",X.signal>0?"":""," (",X.signal>0?"+":"",X.signal,"%)   ",X.queue>0?"":""," (",X.queue>0?"+":"",X.queue,")"]}),a.jsx("div",{className:"text-[11px] text-gray-500",children:X.desc})]},X.stage))})]}),a.jsxs("div",{className:"text-[12px] text-gray-500",children:[": ",e.label,"  ",n??" ","  ",fT[r],"  ",_7[s],J?`   : ${J.causeLabel}`:"",ee?`   : ${ee.areaLabel}`:""]})]})}const w0=1440*60*1e3,ACe=48,_Ce=3,Cx={regionalSla:" SLA",regionalQueueRisk:" ",regionalRecontact:" ",regionalDataReadiness:" ",regionalGovernance:"/ ",regionalAdTransitionHotspot:"AD  ",regionalDxDelayHotspot:" ",regionalScreenToDxRate:" "},lf={regionalSla:"%",regionalQueueRisk:"",regionalRecontact:"%",regionalDataReadiness:"%",regionalGovernance:"%",regionalAdTransitionHotspot:"",regionalDxDelayHotspot:"",regionalScreenToDxRate:"%"},pT={regionalSla:!0,regionalQueueRisk:!1,regionalRecontact:!1,regionalDataReadiness:!0,regionalGovernance:!0,regionalAdTransitionHotspot:!1,regionalDxDelayHotspot:!1,regionalScreenToDxRate:!0},mT={STAFFING:" ",RECONTACT_PUSH:" ",DATA_FIX:" ",PATHWAY_TUNE:" ",GOVERNANCE_FIX:" "},Xm={TODO:"",IN_PROGRESS:"",DONE:"",BLOCKED:""},D7={TODO:"bg-gray-100 text-gray-700 border-gray-200",IN_PROGRESS:"bg-blue-100 text-blue-700 border-blue-200",DONE:"bg-green-100 text-green-700 border-green-200",BLOCKED:"bg-amber-100 text-amber-700 border-amber-200"},CCe={instruction:"",adjustment:"",confirmation:"",completion:" "},tb={Stage1:"Stage1",Stage2:"Stage2",Stage3:"Stage3"},M7={contact:"Stage1",recontact:"Stage1",L2:"Stage2","3rd":"Stage3"},rb={staff_shortage:"  ",contact_failure:" ",data_gap:" ",hospital_slot_delay:"  ",governance_gap:"  ",external_dependency:"  "},$o=["","","",""],Qm=[{id:"RULE-SLA-15",label:"SLA  15% "},{id:"RULE-DX-7D",label:"  7 "},{id:"RULE-AD-HR-5",label:"AD    5 "}],TCe=["  ","  ","      "],hT=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t},wo=(e,t,r)=>t+(r-t)*(hT(e)%1e3/1e3),I7=e=>new Date(e).toLocaleString("ko-KR",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}),kCe=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}),OCe=e=>Math.max(0,Math.floor((Date.now()-Date.parse(e))/w0));function L7(e){return{regionalSla:Number(wo(`${e}-sla`,72,96).toFixed(1)),regionalQueueRisk:Math.round(wo(`${e}-queue`,110,540)),regionalRecontact:Number(wo(`${e}-recontact`,7,26).toFixed(1)),regionalDataReadiness:Number(wo(`${e}-readiness`,58,92).toFixed(1)),regionalGovernance:Number(wo(`${e}-gov`,68,98).toFixed(1)),regionalAdTransitionHotspot:Number(wo(`${e}-ad-risk`,22,81).toFixed(1)),regionalDxDelayHotspot:Number(wo(`${e}-dx-delay`,9,52).toFixed(1)),regionalScreenToDxRate:Number(wo(`${e}-conv`,34,84).toFixed(1))}}function $7(e,t){return e[t]}function nb(e,t){return t===""?`${Math.round(e).toLocaleString()}`:t===""?`${e.toFixed(1)}`:t===""?`${e.toFixed(1)}`:`${e.toFixed(1)}%`}function RCe(e){return e==="regionalGovernance"?"GOVERNANCE_FIX":e==="regionalDxDelayHotspot"?"STAFFING":e==="regionalAdTransitionHotspot"||e==="regionalScreenToDxRate"?"PATHWAY_TUNE":e==="regionalDataReadiness"?"DATA_FIX":e==="regionalQueueRisk"?"STAFFING":"RECONTACT_PUSH"}function PCe(e){if(e.selectedStage&&M7[e.selectedStage])return M7[e.selectedStage];const t=e.primaryDriverStage??"";return/3/.test(t)?"Stage3":/2|L2/i.test(t)?"Stage2":"Stage1"}function DCe(e){return e==="regionalDxDelayHotspot"?"hospital_slot_delay":e==="regionalGovernance"?"governance_gap":e==="regionalDataReadiness"?"data_gap":e==="regionalQueueRisk"?"staff_shortage":"contact_failure"}function MCe(e){return e==="regionalSla"?["SLA "," "]:e==="regionalQueueRisk"?[" ","SLA "]:e==="regionalDxDelayHotspot"?["  "," "]:e==="regionalAdTransitionHotspot"?["AD    ","SLA "]:e==="regionalScreenToDxRate"?["AD    ","SLA "]:e==="regionalDataReadiness"?[" ","SLA "]:["SLA "," "]}function ICe(e,t,r){const n=$7(t,e),s=t.regionalQueueRisk;if(!r)return{before:{value:n,backlog:s},after:void 0,delta:void 0};const i=$7(r,e),o=r.regionalQueueRisk;return{before:{value:n,backlog:s},after:{value:i,backlog:o},delta:{value:Number((i-n).toFixed(1)),backlog:Number((o-s).toFixed(1))}}}function LCe(e,t,r,n){const s=Date.parse(n),i=new Date(s).toISOString(),o=new Date(s+600*60*1e3).toISOString(),l=new Date(s+1320*60*1e3).toISOString(),d=new Date(s+2400*60*1e3).toISOString(),u=[{id:`${e}-log-instruction`,type:"instruction",actor:t,timestamp:i,referenceLink:"/regional/bottleneck",requiresFollowup:!0,note:it("       ")}];return r!=="TODO"&&u.push({id:`${e}-log-adjustment`,type:"adjustment",actor:$o[(hT(e)+1)%$o.length],timestamp:o,referenceLink:"/regional/ops",requiresFollowup:!0,followedUpAt:r==="BLOCKED"?void 0:l,note:it("      ")}),(r==="IN_PROGRESS"||r==="DONE")&&u.push({id:`${e}-log-confirm`,type:"confirmation",actor:$o[(hT(e)+2)%$o.length],timestamp:l,referenceLink:"https://hospital.example.local/sync",requiresFollowup:!1,note:it("      ")}),r==="DONE"&&u.push({id:`${e}-log-complete`,type:"completion",actor:t,timestamp:d,referenceLink:"/regional/reports",requiresFollowup:!1,note:it("      ")}),u}function lA(e){const t=OCe(e.createdAt),r=e.status!=="DONE"&&t>_Ce,n=e.kpiComparison,s=!!n.after,i=n.before.value,o=n.after?.value,l=pT[e.kpiKey];let d=!1,u=!1,m=!1;if(s&&o!=null){const b=o-i;Math.abs(b)<.01?m=!0:l?(d=b>0,u=b<0):(d=b<0,u=b>0)}const p=!s&&e.status!=="DONE";return{elapsedDays:t,delayed:r,improved:d,worsened:u,noImprovement:m,missingAfter:p,needsAttention:r||m||u||p}}function $Ce(e){return!e.requiresFollowup||e.followedUpAt?!1:Date.now()-Date.parse(e.timestamp)>ACe*60*60*1e3}function gT(e){const t=L7(`${e.seed}-before`),r=e.includeAfter?L7(`${e.seed}-after`):void 0,n=ICe(e.kpiKey,t,r),i=`[${rb[e.causeKey]??e.causeKey}] ${e.areaLabel} ${tb[e.stageKey]} `;return{id:e.id,title:i,stageKey:e.stageKey,areaKey:`${e.regionId}:${e.areaLabel}`,areaLabel:e.areaLabel,region:e.areaLabel,kpiKey:e.kpiKey,type:e.type,status:e.status,owner:e.owner,createdAt:e.createdAt,dueAt:e.dueAt,ruleId:e.ruleId,createdFrom:{causeKey:e.causeKey,kpiKey:e.kpiKey,snapshot:{kpiValue:n.before.value,backlogCount:n.before.backlog,avgDwell:Number(wo(`${e.seed}-dwell`,24,96).toFixed(1)),deltaVsRegional:Number(wo(`${e.seed}-delta`,-12,24).toFixed(1)),unit:lf[e.kpiKey]}},expectedEffectTags:MCe(e.kpiKey),logs:LCe(e.seed,e.owner,e.status,e.createdAt),kpiComparison:n,notes:e.notes??it(`${e.areaLabel}  ${mT[e.type]}  `),evidenceLinks:["/regional/bottleneck","https://hospital.example.local/sync"],beforeMetrics:t,afterMetrics:r,timeline:[{id:`${e.id}-timeline-created`,at:e.createdAt,actor:"",message:it("  ")}]}}function F7(e,t){const r=t.length?t:[" "],n=Date.now();return[{kpiKey:"regionalQueueRisk",status:"IN_PROGRESS",stageKey:"Stage2",causeKey:"staff_shortage",type:"STAFFING",includeAfter:!0},{kpiKey:"regionalDxDelayHotspot",status:"TODO",stageKey:"Stage2",causeKey:"hospital_slot_delay",type:"PATHWAY_TUNE",includeAfter:!1},{kpiKey:"regionalRecontact",status:"DONE",stageKey:"Stage1",causeKey:"contact_failure",type:"RECONTACT_PUSH",includeAfter:!0},{kpiKey:"regionalDataReadiness",status:"BLOCKED",stageKey:"Stage1",causeKey:"data_gap",type:"DATA_FIX",includeAfter:!1},{kpiKey:"regionalAdTransitionHotspot",status:"IN_PROGRESS",stageKey:"Stage3",causeKey:"external_dependency",type:"PATHWAY_TUNE",includeAfter:!0}].map((i,o)=>{const l=new Date(n-w0*(o+1.4)).toISOString(),d=new Date(Date.parse(l)+w0*(2+o%3)).toISOString(),u=r[o%r.length];return gT({id:`INT-${o+1}`,regionId:e,areaLabel:u,kpiKey:i.kpiKey,type:i.type,status:i.status,owner:$o[o%$o.length],stageKey:i.stageKey,causeKey:i.causeKey,createdAt:l,dueAt:d,includeAfter:i.includeAfter,seed:`${e}-${u}-${i.kpiKey}-${o}`})})}function B7({value:e,unit:t,className:r}){const[n,s]=g.useState(e);return g.useEffect(()=>{const i=n,o=e,l=performance.now(),d=260;let u=0;const m=p=>{const h=Math.min(1,(p-l)/d),b=1-Math.pow(1-h,3);s(i+(o-i)*b),h<1&&(u=window.requestAnimationFrame(m))};return u=window.requestAnimationFrame(m),()=>window.cancelAnimationFrame(u)},[e]),a.jsx("span",{className:r,children:nb(n,t)})}function FCe({region:e,districtOptions:t,selectedKpiKey:r,selectedRegionSgg:n,selectedRange:s,onSelectedKpiKeyChange:i,onSelectedRegionSggChange:o,onSelectedRangeChange:l,pendingDraft:d,onPendingDraftConsumed:u}){const[m,p]=g.useState(()=>F7(e.id,t)),[h,b]=g.useState(null),[v,N]=g.useState("ALL"),[y,S]=g.useState("ALL"),[w,_]=g.useState("ALL"),[A,E]=g.useState(!1),C=g.useRef(!1);g.useEffect(()=>{p(F7(e.id,t)),b(null)},[t,e.id]);const O=g.useCallback((M,B="manual")=>{const J=new Date().toISOString(),ee=M.region??n??t[0]??`${e.label} `,I=M.kpiKey,Y=M.type??RCe(I),ae=PCe(M),le=M.selectedCauseKey??DCe(I),he=`${e.id}-${ee}-${I}-${J}`,X=it(B==="url"?"      ":"   "),ne=gT({id:`INT-${Date.now()}`,regionId:e.id,areaLabel:ee,kpiKey:I,type:Y,status:"TODO",owner:$o[0],stageKey:ae,causeKey:le,createdAt:J,dueAt:new Date(Date.parse(J)+w0*3).toISOString(),includeAfter:!1,seed:he,notes:it(`${X}
[] ${rb[le]??le}
[] ${tb[ae]}
[] ${M.selectedArea??ee}`)});p(ve=>[ne,...ve]),b(ne.id)},[t,e.id,e.label,n]);g.useEffect(()=>{d&&(O(d,"manual"),u?.())},[O,u,d]),g.useEffect(()=>{if(d||C.current)return;const M=new URLSearchParams(window.location.search);if(M.get("create")!=="1"||M.get("source")!=="cause")return;const B=M.get("kpi");if(!B)return;const J=M.get("range"),ee=J==="monthly"?"month":J==="quarterly"?"quarter":"week",I={region:M.get("area")??n??null,kpiKey:B,range:ee,source:"cause",selectedStage:M.get("stage")??null,selectedCauseKey:M.get("cause"),selectedArea:M.get("area"),primaryDriverStage:M.get("stage")??void 0};O(I,"url"),C.current=!0},[O,d,n]);const D=g.useMemo(()=>m.filter(M=>!(n&&M.areaLabel!==n||r&&M.kpiKey!==r||v!=="ALL"&&M.status!==v||y!=="ALL"&&M.type!==y||w!=="ALL"&&M.owner!==w)),[m,w,r,n,v,y]),R=g.useMemo(()=>D.length?h?D.find(M=>M.id===h)??D[0]:D[0]:null,[D,h]),K=g.useMemo(()=>D.filter(M=>lA(M).needsAttention).length,[D]),H=g.useMemo(()=>n?1:Math.min(4,Math.max(1,t.length)),[t.length,n]),$=M=>{R&&p(B=>B.map(J=>{if(J.id!==R.id)return J;const ee=new Date().toISOString(),I={id:`${J.id}-status-${Date.now()}`,type:M==="DONE"?"completion":M==="IN_PROGRESS"?"adjustment":"confirmation",actor:" ",timestamp:ee,referenceLink:"/regional/actions",requiresFollowup:M!=="DONE",note:it(` ${Xm[M]} `)};return{...J,status:M,logs:[...J.logs,I],timeline:[...J.timeline,{id:`${J.id}-timeline-${Date.now()}`,at:ee,actor:" ",message:it(` : ${Xm[M]}`)}]}}))},U=()=>{const M=n?[n]:t.slice(0,Math.min(4,Math.max(1,t.length))),B=Date.now(),J=M.map((ee,I)=>gT({id:`INT-AUTO-${B+I}`,regionId:e.id,areaLabel:ee,kpiKey:I%2===0?"regionalRecontact":"regionalDxDelayHotspot",type:I%2===0?"RECONTACT_PUSH":"STAFFING",status:"TODO",owner:$o[I%$o.length],stageKey:I%3===0?"Stage1":I%3===1?"Stage2":"Stage3",causeKey:I%2===0?"contact_failure":"hospital_slot_delay",createdAt:new Date(B).toISOString(),dueAt:new Date(B+w0*3).toISOString(),includeAfter:!1,ruleId:Qm[I%Qm.length].id,seed:`${e.id}-${ee}-auto-${I}`,notes:it(`    : ${Qm[I%Qm.length].label}`)}));p(ee=>[...J,...ee]),b(J[0]?.id??null),E(!1)},P=R?lA(R):null,G=R?rb[R.createdFrom.causeKey]??R.createdFrom.causeKey:"-",L=g.useMemo(()=>{if(!R)return[];const M=R.logs.find(ee=>ee.type==="instruction"),B=R.logs.find(ee=>ee.type==="adjustment"),J=R.logs.find(ee=>ee.type==="completion");return[{key:"created",label:"",at:R.createdAt,actor:"",done:!0},{key:"instruction",label:" ",at:M?.timestamp,actor:M?.actor,done:!!M},{key:"progress",label:"",at:B?.timestamp,actor:B?.actor,done:R.status==="IN_PROGRESS"||R.status==="DONE"||R.status==="BLOCKED"},{key:"done",label:"",at:J?.timestamp,actor:J?.actor,done:R.status==="DONE"},{key:"blocked",label:"/",at:R.status==="BLOCKED"?R.logs[R.logs.length-1]?.timestamp:void 0,actor:R.status==="BLOCKED"?R.logs[R.logs.length-1]?.actor:void 0,done:R.status==="BLOCKED"||(P?.delayed??!1)}]},[R,P?.delayed]);return a.jsxs("div",{className:"h-full overflow-auto bg-gray-50 p-4 space-y-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800",children:" "}),a.jsx("div",{className:"text-[12px] text-gray-500",children:"         "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"px-2.5 py-1 rounded border border-amber-200 bg-amber-50 text-amber-700 text-xs font-semibold",children:["  ",K,""]}),a.jsx("button",{type:"button",onClick:()=>E(!0),className:"px-3 py-1.5 rounded-md border border-purple-200 bg-purple-50 text-purple-700 text-sm font-medium hover:bg-purple-100",children:"    "})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-6 gap-2",children:[a.jsxs("select",{value:s,onChange:M=>l(M.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"week",children:""}),a.jsx("option",{value:"month",children:""}),a.jsx("option",{value:"quarter",children:""})]}),a.jsxs("select",{value:n??"",onChange:M=>o(M.target.value||null),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsxs("option",{value:"",children:[e.label," "]}),t.map(M=>a.jsx("option",{value:M,children:M},M))]}),a.jsx("select",{value:r,onChange:M=>i(M.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:Object.entries(Cx).map(([M,B])=>a.jsx("option",{value:M,children:B},M))}),a.jsxs("select",{value:v,onChange:M=>N(M.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"ALL",children:" "}),Object.entries(Xm).map(([M,B])=>a.jsx("option",{value:M,children:B},M))]}),a.jsxs("select",{value:y,onChange:M=>S(M.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"ALL",children:" "}),Object.entries(mT).map(([M,B])=>a.jsx("option",{value:M,children:B},M))]}),a.jsxs("select",{value:w,onChange:M=>_(M.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"ALL",children:" "}),$o.map(M=>a.jsx("option",{value:M,children:M},M))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[420px_1fr] gap-3 min-h-[700px]",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 overflow-y-auto",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:" "}),a.jsxs("div",{className:"space-y-2",children:[D.map(M=>{const B=lA(M),J=rb[M.createdFrom.causeKey]??M.createdFrom.causeKey,ee=M.dueAt?Date.now()>Date.parse(M.dueAt)&&M.status!=="DONE":!1;return a.jsxs("button",{type:"button",onClick:()=>b(M.id),className:`w-full text-left rounded-lg border p-2.5 transition ${R?.id===M.id?"border-blue-300 bg-blue-50":B.needsAttention?"border-rose-300 bg-rose-50 hover:bg-rose-100":"border-gray-200 bg-white hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] font-semibold text-gray-900 truncate",children:M.title}),a.jsxs("div",{className:"mt-0.5 text-[11px] text-gray-600",children:[M.areaLabel,"  ",tb[M.stageKey],"  ",mT[M.type]]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1 shrink-0",children:[a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${D7[M.status]}`,children:Xm[M.status]}),(B.delayed||ee)&&a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-rose-300 bg-rose-100 text-rose-700",children:" "})]})]}),a.jsxs("div",{className:"mt-2 rounded border border-gray-200 bg-white px-2 py-1.5",children:[a.jsx("div",{className:"text-[10px] text-gray-500",children:" "}),a.jsxs("div",{className:"text-[11px] text-gray-700 mt-0.5",children:[J,"  ",Cx[M.createdFrom.kpiKey]]}),a.jsxs("div",{className:"text-[11px] text-gray-700",children:["  ",nb(M.createdFrom.snapshot.kpiValue,M.createdFrom.snapshot.unit??lf[M.kpiKey])]})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:M.expectedEffectTags.map(I=>a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-emerald-200 bg-emerald-50 text-emerald-700",children:I},`${M.id}-${I}`))}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px]",children:[a.jsxs("span",{className:"text-gray-500",children:["T+",B.elapsedDays,""]}),M.ruleId?a.jsx("span",{className:"text-violet-600 font-medium",children:M.ruleId}):a.jsx("span",{className:"text-gray-500",children:" "})]})]},M.id)}),!D.length&&a.jsx("div",{className:"rounded border border-dashed border-gray-300 bg-gray-50 px-3 py-4 text-sm text-gray-500",children:"    ."})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 overflow-y-auto",children:[!R&&a.jsx("div",{className:"text-sm text-gray-500",children:"   ."}),R&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800",children:R.title}),a.jsxs("div",{className:"text-[12px] text-gray-500",children:[" ",R.areaLabel,"   ",R.owner,"   ",kCe(R.createdAt)]})]}),a.jsx("div",{className:"flex items-center gap-1.5",children:["TODO","IN_PROGRESS","DONE","BLOCKED"].map(M=>a.jsx("button",{type:"button",onClick:()=>$(M),className:`px-2 py-1 rounded border text-[11px] font-medium ${R.status===M?D7[M]:"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:Xm[M]},M))})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"text-[13px] font-semibold text-gray-800",children:"1)  "}),(P?.delayed??!1)&&a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-rose-300 bg-rose-100 text-rose-700",children:" 3  "})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2",children:L.map(M=>a.jsxs("div",{className:`rounded border px-2 py-2 ${M.done?"border-blue-200 bg-blue-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-700",children:M.label}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-1",children:M.at?I7(M.at):""}),a.jsx("div",{className:"text-[10px] text-gray-500",children:M.actor??"-"})]},M.key))})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("div",{className:"text-[13px] font-semibold text-gray-800 mb-2",children:"2)  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-[12px]",children:[a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-2 py-2",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"mt-1 font-medium text-gray-800",children:G})]}),a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-2 py-2",children:[a.jsx("div",{className:"text-gray-500",children:" Stage"}),a.jsx("div",{className:"mt-1 font-medium text-gray-800",children:tb[R.stageKey]})]}),a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-2 py-2",children:[a.jsx("div",{className:"text-gray-500",children:" "}),a.jsx("div",{className:"mt-1 font-medium text-gray-800",children:R.areaLabel})]}),a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-2 py-2",children:[a.jsx("div",{className:"text-gray-500",children:"  KPI Snapshot"}),a.jsxs("div",{className:"mt-1 font-medium text-gray-800",children:[Cx[R.createdFrom.kpiKey]," ",nb(R.createdFrom.snapshot.kpiValue,R.createdFrom.snapshot.unit??lf[R.kpiKey])]}),a.jsxs("div",{className:"text-gray-600 mt-0.5",children:[" ",Math.round(R.createdFrom.snapshot.backlogCount).toLocaleString(),"    ",R.createdFrom.snapshot.avgDwell.toFixed(1),""]}),a.jsxs("div",{className:"text-gray-600",children:["   ",R.createdFrom.snapshot.deltaVsRegional!=null?`${R.createdFrom.snapshot.deltaVsRegional>0?"+":""}${R.createdFrom.snapshot.deltaVsRegional.toFixed(1)}`:"-"]})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"text-[13px] font-semibold text-gray-800",children:"3) KPI Before / After "}),a.jsx("span",{className:"text-[11px] text-gray-500",children:Cx[R.kpiKey]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-2 py-2",children:[a.jsx("div",{className:"text-[11px] text-gray-500",children:"Before (  )"}),a.jsx("div",{className:"mt-1 text-[14px] font-semibold text-gray-900",children:a.jsx(B7,{value:R.kpiComparison.before.value,unit:lf[R.kpiKey]})}),a.jsxs("div",{className:"text-[11px] text-gray-600 mt-0.5",children:[" ",Math.round(R.kpiComparison.before.backlog).toLocaleString(),""]})]}),a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-2 py-2",children:[a.jsx("div",{className:"text-[11px] text-gray-500",children:"After ()"}),R.kpiComparison.after?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-1 text-[14px] font-semibold text-gray-900",children:a.jsx(B7,{value:R.kpiComparison.after.value,unit:lf[R.kpiKey]})}),a.jsxs("div",{className:"text-[11px] text-gray-600 mt-0.5",children:[" ",Math.round(R.kpiComparison.after.backlog).toLocaleString(),""]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-1 text-[13px] font-semibold text-amber-700",children:" "}),a.jsxs("div",{className:"text-[11px] text-gray-600 mt-0.5",children:[" : ",R.owner," (  )"]})]})]})]}),R.kpiComparison.delta&&a.jsxs("div",{className:"mt-2 rounded border border-gray-200 bg-white px-2 py-2 text-[12px]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"  "}),a.jsxs("span",{className:`font-semibold ${R.kpiComparison.delta.value===0?"text-gray-700":R.kpiComparison.delta.value>0?pT[R.kpiKey]?"text-emerald-700":"text-rose-700":pT[R.kpiKey]?"text-rose-700":"text-emerald-700"}`,children:[R.kpiComparison.delta.value>0?"+":"",nb(R.kpiComparison.delta.value,lf[R.kpiKey])]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("span",{className:"text-gray-600",children:"  "}),a.jsxs("span",{className:`font-semibold ${R.kpiComparison.delta.backlog>0?"text-rose-700":"text-emerald-700"}`,children:[R.kpiComparison.delta.backlog>0?"+":"",Math.round(R.kpiComparison.delta.backlog).toLocaleString(),""]})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("div",{className:"text-[13px] font-semibold text-gray-800 mb-2",children:"4)   &  "}),a.jsx("div",{className:"space-y-2",children:R.logs.map(M=>{const B=$Ce(M);return a.jsxs("div",{className:`rounded border px-2 py-2 ${B?"border-rose-300 bg-rose-50":"border-gray-200 bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"text-[12px] font-medium text-gray-800",children:[CCe[M.type],"  ",M.actor]}),a.jsxs("div",{className:"flex items-center gap-1",children:[M.requiresFollowup&&a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${M.followedUpAt?"border-emerald-300 bg-emerald-100 text-emerald-700":"border-amber-300 bg-amber-100 text-amber-700"}`,children:M.followedUpAt?" ":" "}),B&&a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-rose-300 bg-rose-100 text-rose-700",children:" 48 "})]})]}),a.jsx("div",{className:"text-[11px] text-gray-500 mt-0.5",children:I7(M.timestamp)}),a.jsx("div",{className:"text-[12px] text-gray-700 mt-1",children:M.note}),a.jsx("div",{className:"mt-1 text-[11px]",children:M.referenceLink?a.jsx("a",{href:M.referenceLink,target:"_blank",rel:"noreferrer",className:"text-blue-700 underline underline-offset-2",children:" "}):a.jsx("span",{className:"text-gray-500",children:"  "})})]},M.id)})})]})]})]})]}),A&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/35",onClick:()=>E(!1)}),a.jsxs("div",{className:"relative w-full max-w-xl rounded-lg border border-gray-200 bg-white p-4 shadow-xl",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"    "}),a.jsx("div",{className:"text-[12px] text-gray-500 mt-1",children:"       ."}),a.jsxs("div",{className:"mt-3 rounded border border-gray-200 bg-gray-50 p-3",children:[a.jsx("div",{className:"text-[12px] font-semibold text-gray-700 mb-1.5",children:"  "}),a.jsx("div",{className:"space-y-1 text-[12px] text-gray-700",children:Qm.map(M=>a.jsxs("div",{children:["- ",M.label]},M.id))})]}),a.jsx("div",{className:"mt-2 rounded border border-violet-200 bg-violet-50 p-3",children:a.jsxs("div",{className:"text-[12px] font-semibold text-violet-800",children:["  : ",H,""]})}),a.jsxs("div",{className:"mt-2 rounded border border-gray-200 bg-gray-50 p-3",children:[a.jsx("div",{className:"text-[12px] font-semibold text-gray-700 mb-1.5",children:"   "}),a.jsx("div",{className:"space-y-1 text-[12px] text-gray-700",children:TCe.map(M=>a.jsxs("div",{children:["- ",M]},M))})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-3 py-1.5 rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50",children:""}),a.jsx("button",{type:"button",onClick:U,className:"px-3 py-1.5 rounded bg-purple-600 text-sm font-semibold text-white hover:bg-purple-700",children:"  "})]})]})]})]})}const U7={regionalSla:" SLA",regionalQueueRisk:" ",regionalRecontact:" ",regionalDataReadiness:" ",regionalGovernance:"/ ",regionalAdTransitionHotspot:"AD  ",regionalDxDelayHotspot:" ",regionalScreenToDxRate:" "},BCe={week:"",month:"",quarter:""},ef={queue:"  ",actions:"  ",pending:" ",bottleneckRelief:" ",effectRate:"   ",slaDelta:"SLA   "},UCe=e=>{let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t},La=(e,t,r)=>t+(r-t)*(UCe(e)%1e3/1e3);function cA(e){return`${e.toFixed(1)}%`}function Tx(e){return`${Math.round(e).toLocaleString()}`}function HCe(e,t){return`${e>0?"+":""}${e.toFixed(1)}%p`}function dA(e,t){return t==="%"?`${e.toFixed(1)}%`:`${Math.round(e).toLocaleString()}`}function GCe(){const t=window.location.pathname.indexOf("/regional/");return t<0?"":window.location.pathname.slice(0,t)}function kx(e,t){const r=new URLSearchParams(t).toString();return`${GCe()}${e}${r?`?${r}`:""}`}function tf(e,t,r){const n={scope:`${e} `,period:`${t} `},s={queue:{definition:"         ",threshold:" 7   ",interpretation:"    ",nextAction:"      "},actions:{definition:"      ",threshold:" 80%     ",interpretation:"    ",nextAction:"    "},pending:{definition:"       ",threshold:"T+3    ",interpretation:"    ",nextAction:"    "},bottleneckRelief:{definition:"     ",threshold:"(  -  )/   100",interpretation:"    ",nextAction:"     "},effectRate:{definition:"After         ",threshold:"   48  After ",interpretation:"    ",nextAction:"     "},slaDelta:{definition:"  SLA  (  )",threshold:"  ",interpretation:"   ,  ",nextAction:"     "}};return{definition:s[r].definition,scope:n.scope,period:n.period,threshold:s[r].threshold,interpretation:s[r].interpretation,nextAction:s[r].nextAction,actionTab:"reports"}}function zCe({region:e,districtOptions:t,selectedKpiKey:r,selectedRegionSgg:n,selectedRange:s}){const[i,o]=g.useState(n?"sigungu":"regional"),[l,d]=g.useState(n??t[0]??""),[u,m]=g.useState(r),[p,h]=g.useState(s),[b,v]=g.useState("pdf"),N=i==="sigungu"?l||t[0]||e.label:"",y=i==="sigungu"?N:`${e.label}  `,S=BCe[p],w=`${e.id}-${i}-${N||"all"}-${u}-${p}`,_=g.useMemo(()=>{const U=Math.round(La(`${w}-queue-before`,250,760)),P=Math.round(La(`${w}-queue-after`,140,620)),G=Math.round(La(`${w}-actions`,14,64)),L=Math.round(La(`${w}-pending`,4,28)),M=Math.max(0,Math.min(G,Math.round(G*La(`${w}-effect-ratio`,.42,.89)))),B=(U-P)/Math.max(U,1)*100,J=Number(La(`${w}-sla-prev`,11,24).toFixed(1)),ee=Number((J+La(`${w}-sla-delta`,-6.4,4.2)).toFixed(1)),I=Number((ee-J).toFixed(1));return{queueBefore:U,queueAfter:P,queue:P,actions:G,pending:L,bottleneckRelief:Number(Math.max(-20,Math.min(95,B)).toFixed(1)),effectRate:Number((M/Math.max(G,1)*100).toFixed(1)),slaPrev:J,slaNow:ee,slaDelta:I}},[w]),A=g.useMemo(()=>{const U=[{key:"contact_failure",label:" ",count:Math.round(La(`${w}-cause-contact`,80,280))},{key:"staff_shortage",label:"  ",count:Math.round(La(`${w}-cause-staff`,60,260))},{key:"hospital_slot_delay",label:"  ",count:Math.round(La(`${w}-cause-hospital`,50,220))},{key:"data_gap",label:" ",count:Math.round(La(`${w}-cause-data`,40,170))},{key:"external_dependency",label:"  ",count:Math.round(La(`${w}-cause-external`,20,130))}],P=U.reduce((G,L)=>G+L.count,0);return U.sort((G,L)=>L.count-G.count).slice(0,3).map(G=>({...G,ratio:Number((G.count/Math.max(P,1)*100).toFixed(1))}))},[w]),E=g.useMemo(()=>[{title:"  ",owner:" ",stage:"Stage1",count:Math.round(La(`${w}-itv-1`,2,8)),status:""},{title:"   ",owner:"  ",stage:"Stage2",count:Math.round(La(`${w}-itv-2`,1,6)),status:""},{title:"   ",owner:" ",stage:"Stage3",count:Math.round(La(`${w}-itv-3`,1,5)),status:""}],[w]),C=g.useMemo(()=>[{label:"SLA ",before:_.slaPrev,after:_.slaNow,unit:"%",higherBetter:!1},{label:"  ",before:_.queueBefore,after:_.queueAfter,unit:"",higherBetter:!1},{label:"   ",before:Number(Math.max(15,_.effectRate-La(`${w}-effect-before`,6,18)).toFixed(1)),after:_.effectRate,unit:"%",higherBetter:!0}].map(P=>({...P,delta:Number((P.after-P.before).toFixed(1))})),[_.effectRate,_.queueAfter,_.queueBefore,_.slaNow,_.slaPrev,w]),O=g.useMemo(()=>[{title:"Stage2      ",risk:"",recommendation:"    "},{title:"After     ",risk:"",recommendation:"     "},{title:"    ",risk:"",recommendation:"   "}],[]),D=g.useMemo(()=>{const U={kpi:u==="all"?r:u,range:p==="week"?"weekly":p==="month"?"monthly":"quarterly",...i==="sigungu"?{sgg:N}:{}};return{bottleneck:kx("/regional/bottleneck",U),actions:kx("/regional/actions",U),ops:kx("/regional/ops",U),reports:kx("/regional/reports",U)}},[N,u,p,i,r]),R=g.useMemo(()=>{const U=A[0],P=E.reduce((J,ee)=>J+ee.count,0),G=_.slaDelta>0?`${_.slaDelta.toFixed(1)}%p `:`${Math.abs(_.slaDelta).toFixed(1)}%p `,L=`${S} ${y} ${U?.label??" "}    ,    ${A.map(J=>J.label).join(", ")}  .`,M=`   ${P} ,  ${E[0].title}  .`,B=`SLA     ${G},   ${O.length}     .`;return{line1:L,line2:M,line3:B}},[A,E,_.slaDelta,S,y,O.length]),K=g.useMemo(()=>[{id:1,title:" ",evidence:D.ops},{id:2,title:"   Top3",evidence:D.bottleneck},{id:3,title:"   ",evidence:D.actions},{id:4,title:" / KPI ",evidence:D.actions},{id:5,title:"     ",evidence:D.reports}],[D.actions,D.bottleneck,D.ops,D.reports]),H={pdf:"PDF",ppt:"PPT",csv:"CSV"},$=`${H[b]}   ${y}  ${u==="all"?"KPI ":U7[u]}  ${S}`;return a.jsxs("div",{className:"h-full overflow-auto bg-gray-50 p-4 space-y-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800",children:""}),a.jsx("div",{className:"text-[12px] text-gray-500 mt-0.5",children:"  +      "})]}),a.jsx("div",{className:"flex items-center gap-2",children:["pdf","ppt","csv"].map(U=>a.jsx("button",{type:"button",onClick:()=>v(U),className:`px-3 py-1.5 rounded border text-sm ${b===U?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:H[U]},U))})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-4 gap-2",children:[a.jsxs("select",{value:i,onChange:U=>o(U.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"regional",children:" "}),a.jsx("option",{value:"sigungu",children:" "})]}),a.jsx("select",{value:N,onChange:U=>d(U.target.value),disabled:i!=="sigungu",className:"px-2 py-1.5 border border-gray-300 rounded text-sm disabled:bg-gray-100 disabled:text-gray-400",children:t.map(U=>a.jsx("option",{value:U,children:U},U))}),a.jsxs("select",{value:u,onChange:U=>m(U.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"all",children:"KPI "}),Object.entries(U7).map(([U,P])=>a.jsx("option",{value:U,children:P},U))]}),a.jsxs("select",{value:p,onChange:U=>h(U.target.value),className:"px-2 py-1.5 border border-gray-300 rounded text-sm",children:[a.jsx("option",{value:"week",children:""}),a.jsx("option",{value:"month",children:""}),a.jsx("option",{value:"quarter",children:""})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:ef.queue}),a.jsx(Id,{help:tf(y,S,"queue")})]}),a.jsx("div",{className:"text-xl font-bold text-gray-900 mt-1",children:Tx(_.queue)}),a.jsx("a",{className:"text-[11px] text-blue-700 underline underline-offset-2",href:D.bottleneck,children:"  "})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:ef.actions}),a.jsx(Id,{help:tf(y,S,"actions")})]}),a.jsx("div",{className:"text-xl font-bold text-gray-900 mt-1",children:Tx(_.actions)}),a.jsx("a",{className:"text-[11px] text-blue-700 underline underline-offset-2",href:D.actions,children:"  "})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:ef.pending}),a.jsx(Id,{help:tf(y,S,"pending")})]}),a.jsx("div",{className:"text-xl font-bold text-gray-900 mt-1",children:Tx(_.pending)}),a.jsx("a",{className:"text-[11px] text-blue-700 underline underline-offset-2",href:D.actions,children:"  "})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:ef.bottleneckRelief}),a.jsx(Id,{help:tf(y,S,"bottleneckRelief")})]}),a.jsx("div",{className:`text-xl font-bold mt-1 ${_.bottleneckRelief>=0?"text-emerald-700":"text-rose-700"}`,children:cA(_.bottleneckRelief)}),a.jsx("a",{className:"text-[11px] text-blue-700 underline underline-offset-2",href:D.bottleneck,children:"  "})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:ef.effectRate}),a.jsx(Id,{help:tf(y,S,"effectRate")})]}),a.jsx("div",{className:"text-xl font-bold text-gray-900 mt-1",children:cA(_.effectRate)}),a.jsx("a",{className:"text-[11px] text-blue-700 underline underline-offset-2",href:D.actions,children:"  "})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[12px] text-gray-500",children:ef.slaDelta}),a.jsx(Id,{help:tf(y,S,"slaDelta")})]}),a.jsx("div",{className:`text-xl font-bold mt-1 ${_.slaDelta<=0?"text-emerald-700":"text-rose-700"}`,children:HCe(_.slaDelta)}),a.jsx("a",{className:"text-[11px] text-blue-700 underline underline-offset-2",href:D.ops,children:"  "})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"  "}),a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-3 py-2 text-[13px] text-gray-800",children:[R.line1,a.jsx("a",{className:"ml-2 text-blue-700 underline underline-offset-2 text-[12px]",href:D.bottleneck,children:"[]"})]}),a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-3 py-2 text-[13px] text-gray-800",children:[R.line2,a.jsx("a",{className:"ml-2 text-blue-700 underline underline-offset-2 text-[12px]",href:D.actions,children:"[]"})]}),a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-3 py-2 text-[13px] text-gray-800",children:[R.line3,a.jsx("a",{className:"ml-2 text-blue-700 underline underline-offset-2 text-[12px]",href:D.reports,children:"[]"})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:$}),a.jsx("div",{className:"space-y-2",children:K.map(U=>a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-3 py-2 flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"text-[13px] text-gray-800",children:[U.id,". ",U.title]}),a.jsx("a",{href:U.evidence,className:"text-[11px] text-blue-700 underline underline-offset-2",children:" "})]},U.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"   Top3"}),a.jsx("div",{className:"space-y-2",children:A.map((U,P)=>a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-[13px] font-medium text-gray-800",children:[P+1,". ",U.label]}),a.jsxs("div",{className:"text-[12px] font-semibold text-gray-900",children:[Tx(U.count),"  ",cA(U.ratio)]})]}),a.jsx("a",{href:D.bottleneck,className:"text-[11px] text-blue-700 underline underline-offset-2",children:"  "})]},U.key))})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"   "}),a.jsx("div",{className:"space-y-2",children:E.map(U=>a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[13px] font-medium text-gray-800",children:U.title}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${U.status===""?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-blue-200 bg-blue-50 text-blue-700"}`,children:U.status})]}),a.jsxs("div",{className:"text-[12px] text-gray-600 mt-1",children:[U.stage,"  ",U.owner,"  ",U.count,""]}),a.jsx("a",{href:D.actions,className:"text-[11px] text-blue-700 underline underline-offset-2",children:"  "})]},U.title))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:" / KPI "}),a.jsxs("table",{className:"w-full text-[12px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:"Before"}),a.jsx("th",{className:"text-right py-1",children:"After"}),a.jsx("th",{className:"text-right py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:""})]})}),a.jsx("tbody",{children:C.map(U=>{const P=U.higherBetter?U.delta>0:U.delta<0;return a.jsxs("tr",{className:"border-b border-gray-100 last:border-b-0",children:[a.jsx("td",{className:"py-1 text-gray-700",children:U.label}),a.jsx("td",{className:"py-1 text-right text-gray-600",children:dA(U.before,U.unit)}),a.jsx("td",{className:"py-1 text-right text-gray-600",children:dA(U.after,U.unit)}),a.jsxs("td",{className:`py-1 text-right font-semibold ${P?"text-emerald-700":U.delta===0?"text-gray-700":"text-rose-700"}`,children:[U.delta>0?"+":"",dA(U.delta,U.unit)]}),a.jsx("td",{className:"py-1 text-right",children:a.jsx("a",{href:D.actions,className:"text-blue-700 underline underline-offset-2",children:""})})]},U.label)})})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"     "}),a.jsx("div",{className:"space-y-2",children:O.map(U=>a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[13px] font-medium text-gray-800",children:U.title}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${U.risk===""?"border-rose-300 bg-rose-100 text-rose-700":"border-amber-300 bg-amber-100 text-amber-700"}`,children:U.risk})]}),a.jsxs("div",{className:"text-[12px] text-gray-600 mt-1",children:[": ",U.recommendation]}),a.jsx("a",{href:D.actions,className:"text-[11px] text-blue-700 underline underline-offset-2",children:"  "})]},U.title))}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsxs("button",{className:"px-3 py-1.5 rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50",children:[S,"  PDF"]}),a.jsxs("button",{className:"px-3 py-1.5 rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50",children:[S,"  PPT"]}),a.jsx("button",{className:"px-3 py-1.5 rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50",children:"KPI CSV"})]})]})]})]})}const KCe={overview:"/regional/ops",cause:"/regional/bottleneck",interventions:"/regional/actions",reports:"/regional/reports",settings:"/regional/settings"};function qCe(e){if(!e.trim())return"/";let t=e.trim();return t.startsWith("/")||(t=`/${t}`),t.endsWith("/")||(t=`${t}/`),t}const gf=qCe("/neuro-shield/");function eq(e){if(gf==="/")return e;if(e===gf.slice(0,-1))return"/";if(!e.startsWith(gf))return e;const t=e.slice(gf.length);return t.startsWith("/")?t:`/${t}`}function WCe(e){if(gf==="/")return e;const t=e.startsWith("/")?e.slice(1):e;return`${gf}${t}`}const VCe={week:"weekly",month:"monthly",quarter:"quarterly"},H7={weekly:"week",monthly:"month",quarterly:"quarter"};function YCe(e){return VCe[e]}function XCe(e){return e&&e in H7?H7[e]:"week"}function QCe(e){const t=eq(e);if(t==="/"||t==="/regional/overview"||t==="/regional/ops")return"overview";const n=t.match(/^\/regional\/([^/?#]+)/)?.[1];return n?n==="bottleneck"||n==="cause"?"cause":n==="actions"||n==="interventions"?"interventions":n==="reports"?"reports":n==="settings"?"settings":"overview":"overview"}function ZCe(e){const t=eq(e);return t==="/"||t.startsWith("/regional/")}function Ox(e,t,r){const n=new URLSearchParams,s=WCe(KCe[e]);t.selectedKpiKey!=="regionalSla"&&n.set("kpi",t.selectedKpiKey),t.selectedRange!=="week"&&n.set("range",YCe(t.selectedRange)),t.selectedRegionSgg&&n.set("sgg",t.selectedRegionSgg),r&&Object.entries(r).forEach(([d,u])=>{u==null||u===""||n.set(d,u)});const i=!!(r&&Object.values(r).some(d=>d!=null&&d!==""));if(e==="overview"&&t.selectedKpiKey==="regionalSla"&&t.selectedRange==="week"&&!t.selectedRegionSgg&&!i)return s;const l=n.toString();return l?`${s}?${l}`:s}function JCe(e,t){const r=new URLSearchParams(e),n=r.get("kpi")??t;return{selectedKpiKey:n==="regionalSla"||n==="regionalQueueRisk"||n==="regionalRecontact"||n==="regionalDataReadiness"||n==="regionalGovernance"||n==="regionalAdTransitionHotspot"||n==="regionalDxDelayHotspot"||n==="regionalScreenToDxRate"?n:t,selectedRange:XCe(r.get("range")),selectedRegionSgg:r.get("sgg")}}const uA="regionalSla",G7=[{id:"overview",label:" ",icon:A0},{id:"cause",label:"  ",icon:Ka},{id:"interventions",label:" ",icon:AT},{id:"reports",label:"",icon:Zd},{id:"settings",label:"",icon:C0}],z7={seoul:["","","","","","","","","","","","","","","","","","","","","","","","",""],busan:["","","","","","","","","","","","","","","",""],daegu:["","","","","","","",""],incheon:["","","","","","","","","",""],gwangju:["","","","",""],daejeon:["","","","",""],ulsan:["","","","",""],sejong:[""],gyeonggi:["","","","","","","","","","","","","","","","","","","",""],gangwon:["","","","","","","","","",""],chungbuk:["","","","","","","","","",""],chungnam:["","","","","","","","","",""],jeonbuk:["","","","","","","","","",""],jeonnam:["","","","","","","","","",""],gyeongbuk:["","","","","","","","","",""],gyeongnam:["","","","","","","","","",""],jeju:["",""]};function eTe(e){return e==="month"?"month":e==="quarter"?"quarter":"week"}function K7(e,t){return e.selectedKpiKey===t.selectedKpiKey&&e.selectedRegionSgg===t.selectedRegionSgg&&e.selectedRange===t.selectedRange}function fA(e){const t=QCe(window.location.pathname),r=JCe(window.location.search,e);return{page:t,selection:r}}function tTe({userName:e="",centerName:t=" ",onLogout:r}){const n=wNe(t),[s,i]=g.useState(n.id),[o,l]=g.useState(!0),[d,u]=g.useState(!1),m=g.useMemo(()=>fA(uA),[]),[p,h]=g.useState(m.page),[b,v]=g.useState(m.selection),[N,y]=g.useState(null),S=Ll.find(R=>R.id===s)??Ll[0],w=z7[s]??z7.seoul,_=g.useCallback((R,K,H="push",$)=>{const U=Ox(R,K,$),P=new URL(U,window.location.origin),G=new URL(window.location.href);R==="overview"&&["drill","view"].forEach(M=>{if(!P.searchParams.has(M)&&G.searchParams.has(M)){const B=G.searchParams.get(M);B&&P.searchParams.set(M,B)}}),R==="cause"&&["stageImpact","stage","cause","area","period"].forEach(M=>{if(!P.searchParams.has(M)&&G.searchParams.has(M)){const B=G.searchParams.get(M);B&&P.searchParams.set(M,B)}}),!(P.pathname===G.pathname&&P.search===G.search&&P.hash===G.hash)&&(H==="replace"?window.history.replaceState({},"",`${P.pathname}${P.search}${P.hash}`):window.history.pushState({},"",`${P.pathname}${P.search}${P.hash}`))},[]);g.useEffect(()=>{const{page:R,selection:K}=fA(uA),H=window.location.pathname.replace(/\/+$/,""),$=/\/regional\/overview$/i.test(H);if(!ZCe(window.location.pathname)){const P={selectedKpiKey:K.selectedKpiKey,selectedRegionSgg:K.selectedRegionSgg,selectedRange:K.selectedRange};h("overview"),v(P),_("overview",P,"replace");return}if(R==="overview"&&$){const P=Ox("overview",K);window.history.replaceState({},"",P)}h(R),v(K);const U=()=>{const P=fA(uA),G=window.location.pathname.replace(/\/+$/,""),L=/\/regional\/overview$/i.test(G);if(P.page==="overview"&&L){const M=Ox("overview",P.selection);window.history.replaceState({},"",M)}h(P.page),v(P.selection)};return window.addEventListener("popstate",U),()=>window.removeEventListener("popstate",U)},[_]),g.useEffect(()=>{if(b.selectedRegionSgg&&!w.includes(b.selectedRegionSgg)){const R={...b,selectedRegionSgg:null};v(R),_(p,R,"replace")}},[p,w,b,_]);const A=g.useCallback((R,K,H)=>{h(R),v($=>{const U={...$,...K};return K7($,U)?(_(R,U,"replace",H),$):(_(R,U,"push",H),U)})},[_]),E=g.useCallback(R=>{v(K=>{const H={...K,...R};return K7(K,H)?K:(_(p,H,"replace"),H)})},[p,_]),C=g.useCallback(R=>{if(y(R),R.source==="top5")return;const K={selectedKpiKey:R.kpiKey,selectedRegionSgg:R.region,selectedRange:R.range},H={create:"1",source:R.source??"overview"};if(R.primaryDriverStage&&(H.primaryDriverStage=R.primaryDriverStage),R.selectedStage&&(H.stage=R.selectedStage),R.selectedCauseKey&&(H.cause=R.selectedCauseKey),R.selectedArea&&(H.area=R.selectedArea),R.source==="cause"){h("interventions"),v(K);const $=Ox("interventions",K,H),U=new URL($,window.location.origin);U.pathname=U.pathname.replace(/\/regional\/(?:actions|interventions)$/i,"/regional/interventions/new");const P=new URL(window.location.href);(U.pathname!==P.pathname||U.search!==P.search||U.hash!==P.hash)&&window.history.pushState({},"",`${U.pathname}${U.search}${U.hash}`);return}A("interventions",K,H)},[A]),O=()=>{switch(p){case"overview":return a.jsx(lCe,{region:S,selectedKpiKey:b.selectedKpiKey,selectedRegionSgg:b.selectedRegionSgg,selectedRange:eTe(b.selectedRange),onSelectedKpiKeyChange:R=>E({selectedKpiKey:R}),onSelectedRegionSggChange:R=>E({selectedRegionSgg:R}),onSelectedRangeChange:R=>E({selectedRange:R}),onCreateIntervention:({kpi:R,sgg:K,range:H,source:$,primaryDriverStage:U})=>C({kpiKey:R,region:K,range:H,source:$,primaryDriverStage:U}),onNavigateModule:R=>A(R)});case"cause":return a.jsx(ECe,{region:S,districtOptions:w,selectedKpiKey:b.selectedKpiKey,selectedRegionSgg:b.selectedRegionSgg,selectedRange:b.selectedRange,onSelectedKpiKeyChange:R=>E({selectedKpiKey:R}),onSelectedRegionSggChange:R=>E({selectedRegionSgg:R}),onSelectedRangeChange:R=>E({selectedRange:R}),onCreateIntervention:R=>C(R)});case"interventions":return a.jsx(FCe,{region:S,districtOptions:w,selectedKpiKey:b.selectedKpiKey,selectedRegionSgg:b.selectedRegionSgg,selectedRange:b.selectedRange,onSelectedKpiKeyChange:R=>E({selectedKpiKey:R}),onSelectedRegionSggChange:R=>E({selectedRegionSgg:R}),onSelectedRangeChange:R=>E({selectedRange:R}),pendingDraft:N,onPendingDraftConsumed:()=>y(null)});case"reports":return a.jsx(zCe,{region:S,districtOptions:w,selectedKpiKey:b.selectedKpiKey,selectedRegionSgg:b.selectedRegionSgg,selectedRange:b.selectedRange});case"settings":return a.jsx(cCe,{regionCode:S.id,regionLabel:S.label});default:return null}},D=()=>{window.confirm(" ?")&&r&&r()};return a.jsxs("div",{className:"flex h-[100dvh] min-h-0 overflow-hidden bg-gray-50",children:[a.jsxs("aside",{className:`${o?"w-64":"w-20"} bg-slate-800 border-r border-slate-700 transition-all duration-300 flex flex-col shrink-0`,children:[a.jsx("div",{className:"h-16 flex items-center justify-between px-4 border-b border-slate-700",children:o?a.jsxs(a.Fragment,{children:[a.jsx(RT,{size:36,showText:!0,subtitle:`${S.label}  `,variant:"dark"}),a.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"h-8 w-8 p-0 text-slate-400 hover:text-white hover:bg-slate-700 shrink-0",children:a.jsx(ed,{className:"h-4 w-4"})})]}):a.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"h-8 w-8 p-0 mx-auto text-slate-400 hover:text-white hover:bg-slate-700",children:a.jsx(CT,{className:"h-4 w-4"})})}),o&&a.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[a.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:" "}),a.jsx("select",{value:s,onChange:R=>{i(R.target.value),E({selectedRegionSgg:null})},className:"w-full bg-slate-700 border border-slate-600 text-slate-200 rounded px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",children:Ll.map(R=>a.jsx("option",{value:R.id,children:R.label},R.id))})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:G7.map(R=>{const K=R.icon,H=p===R.id;return a.jsxs("button",{onClick:()=>A(R.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${H?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,title:o?void 0:R.label,children:[a.jsx(K,{className:`h-5 w-5 ${o?"":"mx-auto"}`}),o&&a.jsx("span",{className:"text-sm font-medium",children:R.label})]},R.id)})}),o&&a.jsxs("div",{className:"p-4 border-t border-slate-700",children:[a.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:[S.label," "]}),a.jsx("div",{className:"text-sm font-medium text-white",children:e}),a.jsx("div",{className:"text-xs text-slate-400",children:" "})]})]}),a.jsxs("div",{className:"flex-1 flex min-h-0 flex-col overflow-hidden min-w-0",children:[a.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-4",children:(()=>{const R=G7.find($=>$.id===p),K=R?.icon||A0,H=f3[p];return a.jsx(p3,{title:H?.title??R?.label??"  ",subtitle:H?.subtitle??"Neuro-Shield   ",icon:a.jsx(K,{className:"h-4 w-4 text-white"})})})()}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(dt,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(Ap,{className:"h-5 w-5"}),a.jsx(Gr,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:"3"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs(dt,{variant:"ghost",className:"flex items-center gap-2",onClick:()=>u(!d),children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-semibold text-sm",children:e.charAt(0)}),a.jsx("span",{className:"text-sm font-medium",children:e}),a.jsx(za,{className:"h-4 w-4 text-gray-400"})]}),d&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:[a.jsxs("div",{className:"px-3 py-2 border-b border-gray-200",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e}),a.jsx("div",{className:"text-xs text-gray-500",children:" "})]}),a.jsx("div",{className:"border-t border-gray-200 py-1",children:a.jsxs("button",{onClick:()=>{u(!1),D()},className:"w-full flex items-center px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(_T,{className:"mr-2 h-4 w-4"}),""]})})]})]})]})]})]}),a.jsx("main",{className:"relative flex-1 min-h-0 w-full overflow-hidden",children:O()})]})]})}function rTe(e,t=[]){let r=[];function n(i,o){const l=g.createContext(o);l.displayName=i+"Context";const d=r.length;r=[...r,o];const u=p=>{const{scope:h,children:b,...v}=p,N=h?.[e]?.[d]||l,y=g.useMemo(()=>v,Object.values(v));return a.jsx(N.Provider,{value:y,children:b})};u.displayName=i+"Provider";function m(p,h){const b=h?.[e]?.[d]||l,v=g.useContext(b);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,m]}const s=()=>{const i=r.map(o=>g.createContext(o));return function(l){const d=l?.[e]||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return s.scopeName=e,[n,nTe(s,...t)]}function nTe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:d,scopeName:u})=>{const p=d(i)[`__scope${u}`];return{...l,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var aTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],K3=aTe.reduce((e,t)=>{const r=qy(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),pA={exports:{}},mA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q7;function sTe(){if(q7)return mA;q7=1;var e=Gy();function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(p,h){var b=h(),v=n({inst:{value:b,getSnapshot:h}}),N=v[0].inst,y=v[1];return i(function(){N.value=b,N.getSnapshot=h,d(N)&&y({inst:N})},[p,b,h]),s(function(){return d(N)&&y({inst:N}),p(function(){d(N)&&y({inst:N})})},[p]),o(b),b}function d(p){var h=p.getSnapshot;p=p.value;try{var b=h();return!r(p,b)}catch{return!0}}function u(p,h){return h()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return mA.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,mA}var W7;function iTe(){return W7||(W7=1,pA.exports=sTe()),pA.exports}var oTe=iTe();function lTe(){return oTe.useSyncExternalStore(cTe,()=>!0,()=>!1)}function cTe(){return()=>{}}var q3="Avatar",[dTe]=rTe(q3),[uTe,tq]=dTe(q3),rq=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=g.useState("idle");return a.jsx(uTe,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(K3.span,{...n,ref:t})})});rq.displayName=q3;var nq="AvatarImage",fTe=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=tq(nq,r),l=pTe(n,i),d=Ga(u=>{s(u),o.onImageLoadingStatusChange(u)});return qn(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?a.jsx(K3.img,{...i,ref:t,src:n}):null});fTe.displayName=nq;var aq="AvatarFallback",sq=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=tq(aq,r),[o,l]=g.useState(n===void 0);return g.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(K3.span,{...s,ref:t}):null});sq.displayName=aq;function V7(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function pTe(e,{referrerPolicy:t,crossOrigin:r}){const n=lTe(),s=g.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=g.useState(()=>V7(i,e));return qn(()=>{l(V7(i,e))},[i,e]),qn(()=>{const d=p=>()=>{l(p)};if(!i)return;const u=d("loaded"),m=d("error");return i.addEventListener("load",u),i.addEventListener("error",m),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",m)}},[i,r,t]),o}var mTe=rq,hTe=sq;function gTe({className:e,...t}){return a.jsx(mTe,{"data-slot":"avatar",className:ue("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function xTe({className:e,...t}){return a.jsx(hTe,{"data-slot":"avatar-fallback",className:ue("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const Y7=[{id:"national-dashboard",label:"  ",icon:_p,roles:["central_admin","policy_maker"]},{id:"model-apply",label:"  ",icon:Mh,roles:["central_admin","policy_maker"]},{id:"model-governance",label:"/  ",icon:Yi,roles:["central_admin"]},{id:"quality-monitoring",label:"& ",icon:ql,roles:["central_admin","policy_maker"]},{id:"compliance-audit",label:"   ",icon:ET,roles:["central_admin"]},{id:"kpi-dictionary",label:"KPI ",icon:Rf,roles:["central_admin","policy_maker"]},{id:"settings",label:"",icon:C0,roles:["central_admin","policy_maker"]}];function bTe({children:e,currentPage:t,userRole:r,userName:n,onPageChange:s,onLogout:i}){const[o,l]=g.useState(!0),[d]=g.useState(5),[u,m]=g.useState(!1),p=Y7.filter(v=>v.roles.includes(r)),h=v=>{switch(v){case"central_admin":return" ";case"policy_maker":return" ";default:return""}},b=()=>{window.confirm(" ?")&&i()};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsxs("aside",{className:`${o?"w-64":"w-20"} bg-slate-800 border-r border-slate-700 transition-all duration-300 flex flex-col`,children:[a.jsx("div",{className:"h-16 flex items-center justify-between px-4 border-b border-slate-700",children:o?a.jsxs(a.Fragment,{children:[a.jsx(RT,{size:36,showText:!0,subtitle:" ",variant:"dark"}),a.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"h-8 w-8 p-0 text-slate-400 hover:text-white hover:bg-slate-700",children:a.jsx(ed,{className:"h-4 w-4"})})]}):a.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"h-8 w-8 p-0 mx-auto text-slate-400 hover:text-white hover:bg-slate-700",children:a.jsx(CT,{className:"h-4 w-4"})})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:p.map(v=>{const N=v.icon,y=t===v.id;return a.jsxs("button",{onClick:()=>s(v.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${y?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[a.jsx(N,{className:`h-5 w-5 ${!o&&"mx-auto"}`}),o&&a.jsx("span",{className:"text-sm font-medium",children:v.label})]},v.id)})}),o&&a.jsxs("div",{className:"p-4 border-t border-slate-700",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),a.jsx("div",{className:"text-sm font-medium text-white",children:n}),a.jsx("div",{className:"text-xs text-slate-400",children:h(r)})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6",children:[a.jsx("div",{className:"flex items-center gap-3",children:(()=>{const v=Y7.find(S=>S.id===t),N=v?.icon||_p,y=f3[t];return a.jsx(p3,{title:y?.title??v?.label??"  ",subtitle:y?.subtitle??"Neuro-Shield  ",icon:a.jsx(N,{className:"h-4 w-4 text-white"})})})()}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(dt,{variant:"ghost",size:"sm",className:"relative",children:[a.jsx(Ap,{className:"h-5 w-5"}),d>0&&a.jsx(Gr,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:d})]}),a.jsxs("div",{className:"relative",children:[a.jsxs(dt,{variant:"ghost",className:"flex items-center gap-2",onClick:()=>m(!u),children:[a.jsx(gTe,{className:"h-8 w-8",children:a.jsx(xTe,{className:"bg-slate-100 text-slate-600",children:n.charAt(0)})}),a.jsx("span",{className:"text-sm font-medium",children:n}),a.jsx(za,{className:"h-4 w-4 text-gray-400"})]}),u&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:[a.jsxs("div",{className:"px-3 py-2 border-b border-gray-200",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:n}),a.jsx("div",{className:"text-xs text-gray-500",children:h(r)})]}),a.jsx("div",{className:"py-1",children:a.jsxs("button",{onClick:()=>{m(!1),s("settings")},className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(C0,{className:"mr-2 h-4 w-4"}),""]})}),a.jsx("div",{className:"border-t border-gray-200 py-1",children:a.jsxs("button",{onClick:()=>{m(!1),b()},className:"w-full flex items-center px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(_T,{className:"mr-2 h-4 w-4"}),""]})})]})]})]})]})]}),a.jsx("main",{className:"flex-1 w-full overflow-auto relative",children:e})]})]})}const hA={drillLevel:"nation",drillPath:[{level:"nation",code:"KR",name:""}],selectedRegion:null};function yTe(){const[e,t]=g.useState(hA),r=g.useCallback((d,u={})=>{const m=u.replace??!0;t(p=>{if(d.level==="nation")return Zm("nation","KR",m),hA;const h=p.drillPath[p.drillPath.length-1],b=p.drillPath.findIndex(N=>N.level===d.level&&N.code===d.code);let v;return b>=0?(v=p.drillPath.slice(0,b+1),v[v.length-1]={level:d.level,code:d.code,name:d.name}):h?.level===d.level?v=[...p.drillPath.slice(0,-1),d]:v=[...p.drillPath,d],Zm(d.level,d.code,m),{drillLevel:d.level,drillPath:v,selectedRegion:d}})},[]),n=g.useCallback(d=>{r(d,{replace:!0})},[r]),s=g.useCallback(()=>{t(d=>{if(d.drillPath.length<=1)return d;const u=d.drillPath.slice(0,-1),m=u[u.length-1];return Zm(m.level,m.code,!0),{drillLevel:m.level,drillPath:u,selectedRegion:m.level==="nation"?null:{code:m.code,name:m.name,level:m.level}}})},[]),i=g.useCallback(d=>{t(u=>{if(d<0||d>=u.drillPath.length)return u;const m=u.drillPath.slice(0,d+1),p=m[m.length-1];return Zm(p.level,p.code,!0),{drillLevel:p.level,drillPath:m,selectedRegion:p.level==="nation"?null:{code:p.code,name:p.name,level:p.level}}})},[]),o=g.useCallback(()=>{t(hA),Zm("nation","KR",!0)},[]),l=g.useCallback(d=>{t(u=>({...u,selectedRegion:d}))},[]);return{...e,drillDown:n,drillUp:s,drillTo:i,resetDrill:o,setSelectedRegion:l,setScope:r}}function Zm(e,t,r=!0){if(typeof window>"u")return;const n=new URL(window.location.href);if(n.searchParams.set("level",e),n.searchParams.set("region",t),r){window.history.replaceState({},"",n.toString());return}window.history.pushState({},"",n.toString())}function gA(e){return{nation:"",sido:"",sigungu:"",center:""}[e]||e}const o1=[{id:"sla-status",name:"SLA ",description:"SLA / ",domain:"sla",metric:{numerator:"sla_compliant_count",denominator:"total_count",aggregation:"rate",unit:"%"},visualization:{chartType:"donut",breakdown:"status",colorScheme:"sla",format:{decimals:2,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:1,isActive:!0},{id:"data-status",name:" ",description:" / ",domain:"data",metric:{numerator:"data_sufficient_count",denominator:"total_count",aggregation:"rate",unit:"%"},visualization:{chartType:"donut",breakdown:"status",colorScheme:"data",format:{decimals:2,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:2,isActive:!0},{id:"case-distribution",name:" ",description:"/  ",domain:"case",metric:{valueField:"case_count",aggregation:"sum",unit:""},visualization:{chartType:"bar",breakdown:"ageGroup",colorScheme:"age",format:{decimals:0}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:3,isActive:!0},{id:"center-load",name:"  ",description:"   ",domain:"case",metric:{valueField:"transfer_count",aggregation:"sum",unit:""},visualization:{chartType:"bar",breakdown:"centerType",colorScheme:"blue",format:{decimals:0}},filters:{allowedLevels:["nation","sido"],defaultTimeRange:"week"},priority:4,isActive:!0},{id:"trend-timeseries",name:"  ",description:"    ",domain:"case",metric:{valueField:"processed_count",aggregation:"sum",unit:""},visualization:{chartType:"line",breakdown:"month",colorScheme:"green",format:{decimals:0}},filters:{allowedLevels:["nation","sido","sigungu"],defaultTimeRange:"year"},priority:10,isActive:!0},{id:"kpi-summary-table",name:"KPI ",description:"KPI // ",domain:"case",metric:{valueField:"kpi_value",aggregation:"avg",unit:"%"},visualization:{chartType:"table",format:{decimals:1}},filters:{allowedLevels:["nation","sido"],defaultTimeRange:"week"},priority:5,isActive:!0,chartEnabled:!1},{id:"kpi-sla-rate",name:"SLA ",description:"   SLA   ",domain:"sla",metric:{numerator:"sla_compliant_count",denominator:"total_count",aggregation:"rate",unit:"%",baseline:92,target:95,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:100,isActive:!0,chartEnabled:!0},{id:"kpi-data-rate",name:" ",description:"      ",domain:"data",metric:{numerator:"data_sufficient_count",denominator:"total_count",aggregation:"rate",unit:"%",baseline:88,target:90,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:101,isActive:!0,chartEnabled:!0},{id:"kpi-completion-rate",name:" ",description:"      ",domain:"case",metric:{numerator:"completed_count",denominator:"total_count",aggregation:"rate",unit:"%",baseline:88,target:90,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:102,isActive:!0,chartEnabled:!0},{id:"kpi-response-rate",name:" ",description:"     ",domain:"response",metric:{numerator:"timely_response_count",denominator:"total_count",aggregation:"rate",unit:"%",baseline:82,target:85,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:"%"}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:103,isActive:!0,chartEnabled:!0},{id:"kpi-quality-score",name:" ",description:"    ",domain:"quality",metric:{valueField:"quality_score",aggregation:"avg",unit:"",baseline:85,target:88,higherBetter:!0},visualization:{chartType:"bullet",format:{decimals:1,suffix:""}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:104,isActive:!0,chartEnabled:!0},{id:"kpi-avg-processing-time",name:" ",description:"     ()",domain:"time",metric:{valueField:"processing_time_days",aggregation:"avg",unit:"",baseline:3,target:2.5,higherBetter:!1},visualization:{chartType:"bullet",format:{decimals:1,suffix:""}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:105,isActive:!0,chartEnabled:!0},{id:"total-cases",name:" ",description:"   ",domain:"case",metric:{valueField:"total_case_count",aggregation:"sum",unit:""},visualization:{chartType:"treemap",breakdown:"region",colorScheme:"blue",format:{decimals:0}},filters:{allowedLevels:["nation","sido","sigungu","center"],defaultTimeRange:"week"},priority:0,isActive:!0}];function X7(e){const t=o1.filter(r=>r.isActive);switch(e){case"left":return t.filter(r=>r.visualization.chartType==="treemap"||r.id==="total-cases").sort((r,n)=>r.priority-n.priority);case"right":return t.filter(r=>["donut","bar","table"].includes(r.visualization.chartType)&&r.id!=="total-cases").sort((r,n)=>r.priority-n.priority);case"bottom":return t.filter(r=>r.visualization.chartType==="line").sort((r,n)=>r.priority-n.priority);default:return[]}}function vTe(e){return o1.find(t=>t.id===e)}function NTe(e){return o1.filter(t=>t.isActive&&t.filters.allowedLevels.includes(e)).sort((t,r)=>t.priority-r.priority)}function STe(e){return o1.filter(t=>t.isActive&&t.chartEnabled===!0&&(!e||t.filters.allowedLevels.includes(e))).sort((t,r)=>t.priority-r.priority)}function jTe(e){let t=0;for(let r=0;r<e.length;r++)t=t*31+e.charCodeAt(r)>>>0;return t}function On(e,t,r){const n=jTe(e)%1e3/1e3;return t+(r-t)*n}function wTe(e,t,r,n){const s=vTe(e);if(!s)return null;const i=`${e}-${t}-${r}`;switch(s.visualization.chartType){case"donut":{if(e==="sla-status"){const o=100-On(`${i}-sla`,2,6);return[{name:"",value:Number(o.toFixed(2)),color:"#3b82f6"},{name:"",value:Number((100-o).toFixed(2)),color:"#ef4444"}]}if(e==="data-status"){const o=100-On(`${i}-data`,3,8);return[{name:"",value:Number(o.toFixed(2)),color:"#3b82f6"},{name:"",value:Number((100-o).toFixed(2)),color:"#f59e0b"}]}return[{name:"1",value:Math.round(On(`${i}-1`,40,60)),color:"#3b82f6"},{name:"2",value:Math.round(On(`${i}-2`,20,40)),color:"#22c55e"},{name:"3",value:Math.round(On(`${i}-3`,10,20)),color:"#f59e0b"}]}case"bar":{if(e==="case-distribution"){const o=["20~24","25~29","30~34","35~39","40~44","45~49","50~54","55~59","60~64","65~69","70~74","75~79","80~84","85~"],l=[1200,1800,2200,2300,2700,3400,3600,3300,3900,3800,4400,4200,4100,3500,2300,1700,1300,1e3];return o.map((d,u)=>({label:d,value:Math.round(l[u]*(.9+On(`${i}-age-${u}`,0,.2)))}))}return e==="center-load"?[{label:"",value:Math.round(On(`${i}-load-1`,35e3,45e3))},{label:" ",value:Math.round(On(`${i}-load-2`,4e3,6e3))},{label:" ",value:Math.round(On(`${i}-load-3`,1500,2500))},{label:" ",value:Math.round(On(`${i}-load-4`,1200,2e3))},{label:"",value:Math.round(On(`${i}-load-5`,1e3,1800))}]:[{label:"A",value:Math.round(On(`${i}-a`,1e3,5e3))},{label:"B",value:Math.round(On(`${i}-b`,1e3,5e3))},{label:"C",value:Math.round(On(`${i}-c`,1e3,5e3))}]}case"table":return{columns:[{key:"kpi",label:"KPI ",align:"left"},{key:"avg",label:"",align:"right",format:"percent"},{key:"min",label:"()",align:"right"},{key:"max",label:"()",align:"right"}],rows:[{kpi:"SLA ",avg:96.2,min:"91.3% ()",max:"99.1% ()"},{kpi:" ",avg:94.8,min:"88.5% ()",max:"98.2% ()"},{kpi:" ",avg:2.3,min:"1.8 ()",max:"3.5 ()"}]};case"line":return["2018","2019","2020","2021","2022","2023","2024","2025","2026"].map((l,d)=>({x:l,value:Math.round(On(`${i}-ts-${d}`,12e3,18e3))}));case"treemap":return[{name:"",value:Math.round(On(`${i}-tree-`,2500,3500))},{name:"",value:Math.round(On(`${i}-tree-`,1800,2500))},{name:"",value:Math.round(On(`${i}-tree-`,1500,2200))},{name:"",value:Math.round(On(`${i}-tree-`,1200,1800))},{name:"",value:Math.round(On(`${i}-tree-`,1e3,1500))}];case"bullet":{const o=s.metric,l=o.baseline??85,d=o.target??90,u=o.higherBetter!==!1,m=o.unit||"%",p=[],h=(v,N)=>{const y=N.match(/\d+/),S=y?Number(y[0]):0,w=On(`${i}-phase`,0,6.28),_=Math.sin(S*.9+w),A=On(`${i}-${v}-${N}`,-1,1);return v==="kpi-sla-rate"?92+_*4+A*2:v==="kpi-data-rate"?91+_*5+A*2:v==="kpi-completion-rate"?90+_*4.5+A*2:v==="kpi-response-rate"?85+_*5+A*3:v==="kpi-quality-score"?88+_*4+A*2:v==="kpi-avg-processing-time"?2.8+_*.8+A*.3:l+_*5+A*3};if(n==="week"){const v=new Date(2026,1,5);for(let N=6;N>=0;N--){const y=new Date(v);y.setDate(y.getDate()-N);const S=`${y.getMonth()+1}/${y.getDate()}`;p.push({date:S,value:Number(h(e,`d${N}`).toFixed(1))})}}else if(n==="month"){const v=["1","2","3","4","5","6","7","8","9","10","11","12"];for(let N=0;N<12;N++)p.push({date:v[N],value:Number(h(e,`m${N}`).toFixed(1))})}else{const v=["1","2","3","4"];for(let N=0;N<4;N++)p.push({date:v[N],value:Number(h(e,`q${N}`).toFixed(1))})}const b=p[p.length-1].value;return{dailyData:p,current:b,baseline:l,target:d,unit:m,higherBetter:u}}default:return null}}const Kd=[{id:"chg_20260124",title:"L2  6560  ",type:"rule_threshold",version:"v2.3.2 (draft)",deployedAt:"2026-01-24T14:00:00+09:00",deployedBy:"-",status:"reviewing",description:"   L2   . 60~64   24%     .",before:{slaRate:89.8,responseTimeliness:85.1,completionRate:92.7,dataFulfillment:94.3},after:{slaRate:89.8,responseTimeliness:85.1,completionRate:92.7,dataFulfillment:94.3},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:0,verdict:"insignificant"},{kpi:"RESP",label:" ",changePp:0,verdict:"insignificant"},{kpi:"COMP",label:" ",changePp:0,verdict:"insignificant"},{kpi:"DATA",label:" ",changePp:0,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"medium",requestedBy:" ()",approvedBy:null,currentRule:"  65  L2",proposedRule:"  60  L2",reason:" 3   , 60~64   ( 24%).      15%     ."},{id:"chg_20260120",title:"L2  6065  ",type:"rule_threshold",version:"v2.3.1",deployedAt:"2026-01-20T09:00:00+09:00",deployedBy:" ()",status:"deployed",description:"L2    60 65 .         .",before:{slaRate:87.2,responseTimeliness:82.5,completionRate:91.3,dataFulfillment:94.1},after:{slaRate:89.8,responseTimeliness:85.1,completionRate:92.7,dataFulfillment:94.3},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:2.6,verdict:"improved"},{kpi:"RESP",label:" ",changePp:2.6,verdict:"improved"},{kpi:"COMP",label:" ",changePp:1.4,verdict:"improved"},{kpi:"DATA",label:" ",changePp:.2,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"medium",requestedBy:" ()",approvedBy:" ()"},{id:"chg_20260115",title:"  75 ",type:"contact_rule",version:"v2.3.0",deployedAt:"2026-01-15T14:30:00+09:00",deployedBy:" ()",status:"deployed",description:"L3    7 5 .    .",before:{slaRate:85.8,responseTimeliness:80.1,completionRate:89.5,dataFulfillment:93.8},after:{slaRate:87.2,responseTimeliness:82.5,completionRate:91.3,dataFulfillment:94.1},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:1.4,verdict:"improved"},{kpi:"RESP",label:" ",changePp:2.4,verdict:"improved"},{kpi:"COMP",label:" ",changePp:1.8,verdict:"improved"},{kpi:"DATA",label:" ",changePp:.3,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"low",requestedBy:" ( )",approvedBy:" ()"},{id:"chg_20260110",title:"  v3.2 ",type:"model_version",version:"v3.2.0",deployedAt:"2026-01-10T11:00:00+09:00",deployedBy:" ()",status:"deployed",description:"   v3.2  .  +3.2%p,  +1.8%p .",before:{slaRate:84.1,responseTimeliness:78.9,completionRate:88.2,dataFulfillment:93.2},after:{slaRate:85.8,responseTimeliness:80.1,completionRate:89.5,dataFulfillment:93.8},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:1.7,verdict:"improved"},{kpi:"RESP",label:" ",changePp:1.2,verdict:"improved"},{kpi:"COMP",label:" ",changePp:1.3,verdict:"improved"},{kpi:"DATA",label:" ",changePp:.6,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"low",requestedBy:" ()",approvedBy:" ()"},{id:"chg_20260105",title:"  1.21.35 ",type:"ruleset",version:"v2.2.5",deployedAt:"2026-01-05T10:00:00+09:00",deployedBy:" ()",status:"rollback",description:"   1.2 1.35 .   1  .",before:{slaRate:84.5,responseTimeliness:79.2,completionRate:88.8,dataFulfillment:93.5},after:{slaRate:82.3,responseTimeliness:76.8,completionRate:86.1,dataFulfillment:93.4},impactSummary:[{kpi:"SLA",label:"SLA ",changePp:-2.2,verdict:"worsened"},{kpi:"RESP",label:" ",changePp:-2.4,verdict:"worsened"},{kpi:"COMP",label:" ",changePp:-2.7,verdict:"worsened"},{kpi:"DATA",label:" ",changePp:-.1,verdict:"insignificant"}],affectedRegions:[""],riskLevel:"high",requestedBy:" ()",approvedBy:" ()"}],xA=[{id:"qa_001",type:"sla_breach",severity:"critical",title:" SLA  ",description:"SLA  78.2% (85%) .  42 .",region:"",detectedAt:"2026-01-24T08:00:00+09:00",resolved:!1,relatedDriver:"ops_bottleneck"},{id:"qa_002",type:"update_delay",severity:"warning",title:"   ",description:"   48. (24) .",region:"",detectedAt:"2026-01-23T10:00:00+09:00",resolved:!1,relatedDriver:"data_quality"},{id:"qa_003",type:"model_drift",severity:"warning",title:"L3     ",description:"F1 89.2%    -2.4%p.  .",region:"",detectedAt:"2026-01-22T15:00:00+09:00",resolved:!1,relatedDriver:"model_fitness"},{id:"qa_004",type:"data_missing",severity:"info",title:"   ",description:"  12 .    .",region:"",detectedAt:"2026-01-21T09:00:00+09:00",resolved:!0,relatedDriver:"data_quality"}],vs=[{id:"ua_001",timestamp:"2026-01-24T09:15:00+09:00",type:"violation",severity:"high",status:"reviewing",title:"  PII  ",actor:" (CS-1042)",actorRole:"",center:" ",target:"  DB",violationType:"  ",violatedRegulation:" 29,  SEC-003",cause:"      . IP     .",requestor:" (CS-1042)",executor:" (CS-1042)",policyRef:" 29",internalStandardId:"SEC-003",approvalComment:"     .    .",rationale:"  PII    .    .",kpiSnapshot:{slaRate:89.8,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_002",timestamp:"2026-01-22T14:20:00+09:00",type:"violation",severity:"medium",status:"resolved",title:"   ",actor:"",actorRole:"  ",center:" ",target:"   #2847",violationType:"   ",violatedRegulation:" ACC-007 (   )",cause:"      .  .",relatedChangeId:"chg_20260120",requestor:"",approver:" ()",executor:"  ",policyRef:"     v2.1",internalStandardId:"ACC-007",approvalComment:"    .  .",rationale:"     .       .",kpiSnapshot:{slaRate:88.5,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_003",timestamp:"2026-01-20T16:00:00+09:00",type:"violation",severity:"low",status:"resolved",title:"SLA   (3)",actor:" ",actorRole:" ",center:" ",target:"SLA  (48   )",violationType:"SLA  ",violatedRegulation:" SLA-001 (  48)",cause:"     (+15).   .",requestor:" ",executor:"  ",approvalComment:"  1  . 3  72   .",policyRef:" SLA-001",internalStandardId:"SLA-001",rationale:"   48 SLA .     .",kpiSnapshot:{slaRate:87.2,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_004",timestamp:"2026-01-20T09:00:00+09:00",type:"policy_change",severity:"medium",status:"resolved",title:"L2  6065  ",actor:"",actorRole:" ",target:"L2   ()",cause:"        .",relatedChangeId:"chg_20260120",requestor:" ()",approver:" ()",executor:" ()",policyRef:"    v4.2",internalStandardId:"RULE-L2-001",approvalComment:"  . SLA +2.6%p  .   .",rationale:"       .   .",kpiSnapshot:{slaRate:87.2,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_005",timestamp:"2026-01-15T14:30:00+09:00",type:"policy_change",severity:"low",status:"resolved",title:"  75  ()",actor:"",actorRole:" ",target:"L3   ()",cause:"L3  7    2 . 5  .",relatedChangeId:"chg_20260115",requestor:" ()",approver:" ()",executor:"  ",policyRef:"   v3.0",internalStandardId:"RULE-CT-002",approvalComment:"   . 2    .",rationale:"L3  7    2 . 5     .",kpiSnapshot:{slaRate:86.1,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_006",timestamp:"2026-01-10T11:00:00+09:00",type:"model_deploy",severity:"medium",status:"resolved",title:"   v3.2  ",actor:"",actorRole:" ",target:"    ",cause:"v3.1   +3.2%p . A/B  2 .",relatedChangeId:"chg_20260110",requestor:" ()",approver:" ()",executor:" ()",policyRef:"    v1.3",internalStandardId:"MDL-DEP-001",approvalComment:"A/B   .  +3.2%p,  +1.8%p.   .",rationale:"v3.1   +3.2%p. A/B  2    .",kpiSnapshot:{slaRate:85.8,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_007",timestamp:"2026-01-24T17:00:00+09:00",type:"resolution",severity:"high",status:"resolved",title:"     ",actor:"",actorRole:" ",target:"  5 ",cause:"SLA  78.2%  .  42   .",requestor:" ",approver:" ()",executor:"",policyRef:"    v2.0",internalStandardId:"OPS-EMG-001",approvalComment:"5   2 10  . 48    50% .",rationale:"SLA  78.2%  .   42 .    .",kpiSnapshot:{slaRate:78.2,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_008",timestamp:"2026-01-18T11:30:00+09:00",type:"resolution",severity:"medium",status:"resolved",title:"    ",actor:"",actorRole:" ",target:"   ",cause:"        .",requestor:"  ",approver:" ()",executor:"  ",policyRef:"     v1.5",internalStandardId:"SEC-POST-001",approvalComment:"     .   .",rationale:"   48    .      .",kpiSnapshot:{slaRate:88.5,riskTop3:[" "," "," "],regionContext:""}},{id:"ua_009",timestamp:"2026-01-05T10:00:00+09:00",type:"policy_change",severity:"high",status:"resolved",title:"  1.21.35  ( )",actor:"",actorRole:" ",target:"   ",cause:"    .   .",relatedChangeId:"chg_20260105",requestor:" ()",approver:"",executor:"  ",policyRef:"   v2.0",internalStandardId:"RULE-WT-001",approvalComment:" +22%  1   . SLA -2.2%p  .",rationale:"     1  . SLA  .",kpiSnapshot:{slaRate:82.3,riskTop3:[" "," "," "],regionContext:""}}];function ETe(e){let t=0;for(let r=0;r<e.length;r++)t=t*31+e.charCodeAt(r)>>>0;return t}function ke(e,t,r){return t+ETe(e)%1e4/1e4*(r-t)}function ta(e,t,r){return Math.min(r,Math.max(t,e))}function cf(e,t,r){const n=Math.max(.1,r.spread),s=ta(r.volatility??.28,.12,.6),i=ta(r.trendBias??0,-1,1),o=ke(`${e}-slope`,-n*.24,n*.24)+i*n*.14,l=ke(`${e}-cycle`,n*.12,n*.42),d=ke(`${e}-phase`,0,Math.PI*2),u=n*s,m=Math.round(ke(`${e}-shock-day`,1,Math.max(1,t-2))),p=ke(`${e}-shock-amp`,n*.25,n*.85),h=ke(`${e}-shock-recovery`,.35,.72),b=ke(`${e}-pre-shock`,.15,.35);let v=ke(`${e}-shock-sign`,-1,1)>=0?1:-1;r.shockDirection==="up"&&(v=1),r.shockDirection==="down"&&(v=-1);const N=p*v,y=[],S=Math.max(1,t-1);for(let w=0;w<t;w+=1){const _=(w-S/2)*o,A=Math.sin(w/S*Math.PI*2+d)*l,E=Math.sin(w/S*Math.PI+d*.5)*(l*.35),C=ke(`${e}-noise-${w}`,-u,u);let O=0;w===m&&(O+=N),w===m-1&&(O+=N*b),w===m+1&&(O-=N*h),w===m+2&&(O-=N*h*.35);const D=r.base+_+A+E+C+O;y.push(Number(ta(D,r.min,r.max).toFixed(1)))}return y}function Ro(e,t=9){if(!e.length)return 0;const r=Math.max(0,e.length-3),n=e[e.length-1]-e[r];return Number(ta(n,-t,t).toFixed(1))}const iq=[{code:"11",name:""},{code:"26",name:""},{code:"27",name:""},{code:"28",name:""},{code:"29",name:""},{code:"30",name:""},{code:"31",name:""},{code:"36",name:""},{code:"41",name:""},{code:"43",name:""},{code:"44",name:""},{code:"45",name:""},{code:"46",name:""},{code:"47",name:""},{code:"48",name:""},{code:"50",name:""},{code:"51",name:""}],K0=e=>new Promise(t=>setTimeout(t,e));async function oq(e="LAST_7D",t="default"){await K0(200);const r=`central-kpis-${e}-${t}`,n=cf(`${r}-sq-sp`,7,{base:92.2,spread:3.4,min:84,max:99,volatility:.24,trendBias:.12,shockDirection:"down"}),s=cf(`${r}-pi-sp`,7,{base:27.5,spread:9.2,min:8,max:48,volatility:.34,trendBias:.08,shockDirection:"both"}),i=cf(`${r}-br-sp`,7,{base:38.5,spread:8.5,min:15,max:58,volatility:.33,trendBias:.16,shockDirection:"up"}),o=cf(`${r}-dr-sp`,7,{base:90.8,spread:4.8,min:78,max:99,volatility:.26,trendBias:.1,shockDirection:"down"}),l=cf(`${r}-gs-sp`,7,{base:95.1,spread:2.8,min:88,max:99,volatility:.2,trendBias:.06,shockDirection:"down"}),d=Number(ta(n[n.length-1]+ke(`${r}-sq-adjust`,-.6,.6),85,97).toFixed(1)),u=Number(ta(s[s.length-1]+ke(`${r}-pi-adjust`,-1.2,1.2),12,42).toFixed(1)),m=Number(ta(i[i.length-1]+ke(`${r}-br-adjust`,-1.5,1.5),18,55).toFixed(1)),p=Number(ta(o[o.length-1]+ke(`${r}-dr-adjust`,-.8,.8),80,98).toFixed(1)),h=Number(ta(l[l.length-1]+ke(`${r}-gs-adjust`,-.5,.5),88,99).toFixed(1)),b=Math.round(ke(`${r}-sq-d`,1e4,18e3)),v=Math.round(ke(`${r}-dr-d`,8e3,17e3)),N=Math.round(ke(`${r}-gs-d`,900,2e3)),y=[{kpiId:"SIGNAL_QUALITY",window:e,numerator:Math.round(ta(b*d/100+ke(`${r}-sq-n-jitter`,-120,120),0,b)),denominator:b,value:d,delta7d:Ro(n,3.5),sparkline:n},{kpiId:"POLICY_IMPACT",window:e,numerator:Math.round(ta(u+ke(`${r}-pi-n-jitter`,-2.5,2.5),0,100)),denominator:100,value:u,delta7d:Ro(s,8),auxiliary:{rollbackCount:Math.round(ke(`${r}-pi-rb`,0,3)),warningRegions:Math.round(ke(`${r}-pi-wr`,1,5))},sparkline:s},{kpiId:"BOTTLENECK_RISK",window:e,numerator:Math.round(ta(m+ke(`${r}-br-n-jitter`,-3,3),0,100)),denominator:100,value:m,delta7d:Ro(i,7),auxiliary:{slaViolationRate:Number(ke(`${r}-br-sla`,5,25).toFixed(1)),l2BacklogCount:Math.round(ke(`${r}-br-bc`,30,200))},sparkline:i},{kpiId:"DATA_READINESS",window:e,numerator:Math.round(ta(v*p/100+ke(`${r}-dr-n-jitter`,-140,140),0,v)),denominator:v,value:p,delta7d:Ro(o,4.5),auxiliary:{missingFieldRate:Number(ke(`${r}-dr-mf`,1,12).toFixed(1)),linkagePendingRate:Number(ke(`${r}-dr-lp`,2,15).toFixed(1))},sparkline:o},{kpiId:"GOVERNANCE_SAFETY",window:e,numerator:Math.round(ta(N*h/100+ke(`${r}-gs-n-jitter`,-20,20),0,N)),denominator:N,value:h,delta7d:Ro(l,3),auxiliary:{missingResponsible:Math.round(ke(`${r}-gs-mr`,0,8)),missingExplanation:Math.round(ke(`${r}-gs-me`,0,6))},sparkline:l}];return{window:e,timestamp:new Date().toISOString(),kpis:y}}async function ATe(e="LAST_7D",t="default"){await K0(150);const r=`central-funnel-${e}-${t}`,n=Math.round(ke(`${r}-reach`,5e4,12e4)),s=Math.round(n*ke(`${r}-s0r`,.25,.4)),i=Math.round(s*ke(`${r}-s1r`,.1,.2)),o=Math.round(i*ke(`${r}-cnr`,.5,.72)),l=Math.round(o*ke(`${r}-l0r`,.3,.45)),d=Math.round(o*ke(`${r}-l1r`,.25,.38)),u=Math.round(o*ke(`${r}-l2r`,.12,.25)),m=Math.round((d+u)*ke(`${r}-s2r`,.35,.55)),p=Math.round(m*ke(`${r}-s3r`,.15,.35)),h=[{stage:"Reach",label:"(Reach)",count:n},{stage:"Stage0",label:"0 ",count:s},{stage:"Stage1",label:"1  ",count:i},{stage:"Consent",label:" ",count:o},{stage:"L0",label:"L0 ",count:l},{stage:"L1",label:"L1 ",count:d},{stage:"L2",label:"L2 ",count:u},{stage:"Stage2",label:"2 ",count:m},{stage:"Stage3",label:"3 ",count:p}],b=h.map((v,N)=>({...v,conversionRate:N===0?100:Number((v.count/h[N-1].count*100).toFixed(1))}));return{window:e,stages:b}}async function _Te(e="LAST_7D",t="default"){await K0(150);const r=`central-bn-${e}-${t}`,n=[{key:"consent_pending_rate",label:" ",value:Number(ke(`${r}-cp`,15,45).toFixed(1)),unit:"%",threshold:30,status:ke(`${r}-cp`,15,45)>30?"red":ke(`${r}-cp`,15,45)>20?"yellow":"green",category:"consent"},{key:"consent_median_days",label:"  ",value:Number(ke(`${r}-cd`,1.5,6).toFixed(1)),unit:"",threshold:3,status:ke(`${r}-cd`,1.5,6)>3?"red":ke(`${r}-cd`,1.5,6)>2?"yellow":"green",category:"consent"},{key:"input_readiness_rate",label:" ",value:Number(ke(`${r}-ir`,70,98).toFixed(1)),unit:"%",threshold:90,status:ke(`${r}-ir`,70,98)<90?"red":"green",category:"readiness"},{key:"data_completeness",label:" ",value:Number(ke(`${r}-dc`,82,99).toFixed(1)),unit:"%",threshold:95,status:ke(`${r}-dc`,82,99)<95?"yellow":"green",category:"readiness"},{key:"stage2_blocked_rate",label:"2 ",value:Number(ke(`${r}-s2b`,5,25).toFixed(1)),unit:"%",threshold:15,status:ke(`${r}-s2b`,5,25)>15?"red":ke(`${r}-s2b`,5,25)>10?"yellow":"green",category:"blocked"},{key:"stage3_blocked_rate",label:"3 ",value:Number(ke(`${r}-s3b`,3,20).toFixed(1)),unit:"%",threshold:12,status:ke(`${r}-s3b`,3,20)>12?"red":ke(`${r}-s3b`,3,20)>8?"yellow":"green",category:"blocked"},{key:"api_p95_latency",label:"API P95 ",value:Math.round(ke(`${r}-api`,120,800)),unit:"ms",threshold:500,status:ke(`${r}-api`,120,800)>500?"red":ke(`${r}-api`,120,800)>300?"yellow":"green",category:"system"},{key:"queue_depth",label:"  ",value:Math.round(ke(`${r}-qd`,0,500)),unit:"",threshold:200,status:ke(`${r}-qd`,0,500)>200?"red":ke(`${r}-qd`,0,500)>100?"yellow":"green",category:"system"}];return{window:e,metrics:n}}async function CTe(e="LAST_7D",t="default"){await K0(150);const r=`central-link-${e}-${t}`,n=[{stage:"stage2",linkageRate:Number(ke(`${r}-s2lr`,55,82).toFixed(1)),medianLeadTimeDays:Number(ke(`${r}-s2lt`,3,12).toFixed(1)),blockedCount:Math.round(ke(`${r}-s2bc`,15,90)),blockedReasons:[{reason:" ",count:Math.round(ke(`${r}-s2r1`,5,30))},{reason:" ",count:Math.round(ke(`${r}-s2r2`,3,20))},{reason:" ",count:Math.round(ke(`${r}-s2r3`,2,15))},{reason:" ",count:Math.round(ke(`${r}-s2r4`,1,10))}]},{stage:"stage3",linkageRate:Number(ke(`${r}-s3lr`,40,70).toFixed(1)),medianLeadTimeDays:Number(ke(`${r}-s3lt`,7,28).toFixed(1)),blockedCount:Math.round(ke(`${r}-s3bc`,5,40)),blockedReasons:[{reason:"(dropout)",count:Math.round(ke(`${r}-s3r1`,3,15))},{reason:" ",count:Math.round(ke(`${r}-s3r2`,2,10))},{reason:" ",count:Math.round(ke(`${r}-s3r3`,1,8))}]}];return{window:e,metrics:n}}async function TTe(e="LAST_7D",t="default"){await K0(200);const r=`central-reg-${e}-${t}`,n=iq.map(s=>{const i=`${r}-${s.code}`;return{regionCode:s.code,regionName:s.name,signalQuality:Number(ke(`${i}-sq`,80,98).toFixed(1)),policyImpact:Number(ke(`${i}-pi`,10,45).toFixed(1)),bottleneckRisk:Number(ke(`${i}-br`,15,55).toFixed(1)),dataReadiness:Number(ke(`${i}-dr`,78,99).toFixed(1)),governanceSafety:Number(ke(`${i}-gs`,85,99).toFixed(1)),blockedPct:Number(ke(`${i}-blk`,5,30).toFixed(1)),consentPct:Number(ke(`${i}-cnp`,40,80).toFixed(1)),backlogCount:Math.round(ke(`${i}-bc`,5,120))}});return n.sort((s,i)=>i.blockedPct-s.blockedPct),{window:e,rows:n}}async function Q7(e="LAST_7D",t,r,n,s="default"){const i=n?`${r}-${n}`:"nation",o=`bundle-${e}-${s}-${i}`,l=t&&t.length>0?t:iq,d=(ee,I,Y)=>l.map(ae=>({regionCode:ae.code,regionName:ae.name,value:Number(ke(`${o}-${ee}-${ae.code}`,I,Y).toFixed(1))})),u=(ee,I)=>{const Y=I.length??7,ae=cf(`${o}-${ee}-tr`,Y,{base:I.base,spread:I.spread,min:I.min,max:I.max,volatility:I.volatility,trendBias:I.trendBias,shockDirection:I.shockDirection});return{values:ae,points:ae.map((le,he)=>({period:`D${he+1}`,value:le}))}},m=(ee,I)=>{const Y=[...ee].sort((ae,le)=>I?ae.value-le.value:le.value-ae.value);return{worst:Y.slice(0,5),best:Y.slice(-5).reverse()}},p=d("sq",80,98),h=m(p,!0),b=u("sq",{base:92,spread:3.2,min:84,max:99,volatility:.24,trendBias:.1,shockDirection:"down"}),N={national:{value:Number(ta(b.values[b.values.length-1]+ke(`${o}-sq-nat-j`,-.6,.6),85,97).toFixed(1)),deltaPP:Ro(b.values,3.5),target:95},regions:p,breakdown:[{name:" ",value:Math.round(ke(`${o}-sq-b1`,8500,16e3)),color:"#2563eb"},{name:"",value:Math.round(ke(`${o}-sq-b2`,200,800)),color:"#f59e0b"},{name:"",value:Math.round(ke(`${o}-sq-b3`,100,400)),color:"#ef4444"},{name:"",value:Math.round(ke(`${o}-sq-b4`,50,200)),color:"#6b7280"}],breakdownType:"donut",cause:[{name:" ",value:Math.round(ke(`${o}-sq-c1`,120,350))},{name:" ",value:Math.round(ke(`${o}-sq-c2`,80,250))},{name:" ",value:Math.round(ke(`${o}-sq-c3`,50,180))},{name:" ",value:Math.round(ke(`${o}-sq-c4`,30,120))},{name:"",value:Math.round(ke(`${o}-sq-c5`,10,60))}],causeType:"bar",trend:b.points,worstRegions:h.worst,bestRegions:h.best},y=d("pi",10,50),S=m(y,!1),w=u("pi",{base:27.8,spread:9.4,min:8,max:48,volatility:.34,trendBias:.08,shockDirection:"both"}),A={national:{value:Number(ta(w.values[w.values.length-1]+ke(`${o}-pi-nat-j`,-1.4,1.4),12,42).toFixed(1)),deltaPP:Ro(w.values,8),target:20},regions:y,breakdown:[{name:" ",value:Math.round(ke(`${o}-pi-b1`,3,12)),color:"#7c3aed"},{name:" ",value:Math.round(ke(`${o}-pi-b2`,1,5)),color:"#a855f7"},{name:" ",value:Math.round(ke(`${o}-pi-b3`,2,8)),color:"#c084fc"},{name:"",value:Math.round(ke(`${o}-pi-b4`,1,4)),color:"#e9d5ff"}],breakdownType:"bar",cause:[{name:"SLA ",value:Number(ke(`${o}-pi-c1`,1,8).toFixed(1))},{name:"  ",value:Number(ke(`${o}-pi-c2`,.5,5).toFixed(1))},{name:" ",value:Number(ke(`${o}-pi-c3`,.3,4).toFixed(1))},{name:"  ",value:Number(ke(`${o}-pi-c4`,.1,2).toFixed(1))}],causeType:"bar",trend:w.points,worstRegions:S.worst,bestRegions:S.best},E=d("br",15,60),C=m(E,!1),O=u("br",{base:38.6,spread:8.9,min:15,max:60,volatility:.35,trendBias:.16,shockDirection:"up"}),R={national:{value:Number(ta(O.values[O.values.length-1]+ke(`${o}-br-nat-j`,-1.8,1.8),18,55).toFixed(1)),deltaPP:Ro(O.values,7),target:30},regions:E,breakdown:[{name:"SLA ",value:Number(ke(`${o}-br-b1`,5,25).toFixed(1)),color:"#dc2626"},{name:"L2 ",value:Number(ke(`${o}-br-b2`,8,30).toFixed(1)),color:"#f87171"},{name:" ",value:Number(ke(`${o}-br-b3`,3,18).toFixed(1)),color:"#fca5a5"}],breakdownType:"stacked",cause:[{name:" ",value:Math.round(ke(`${o}-br-c1`,20,80))},{name:" ",value:Math.round(ke(`${o}-br-c2`,10,45))},{name:" ",value:Math.round(ke(`${o}-br-c3`,8,35))},{name:" ",value:Math.round(ke(`${o}-br-c4`,5,20))},{name:"",value:Math.round(ke(`${o}-br-c5`,3,15))}],causeType:"bar",trend:O.points,worstRegions:C.worst,bestRegions:C.best},K=d("dr",78,99),H=m(K,!0),$=u("dr",{base:90.8,spread:4.6,min:78,max:99,volatility:.26,trendBias:.1,shockDirection:"down"}),P={national:{value:Number(ta($.values[$.values.length-1]+ke(`${o}-dr-nat-j`,-.9,.9),80,98).toFixed(1)),deltaPP:Ro($.values,4.5),target:95},regions:K,breakdown:[{name:" ",value:Math.round(ke(`${o}-dr-b1`,7e3,15e3)),color:"#059669"},{name:" ",value:Math.round(ke(`${o}-dr-b2`,200,900)),color:"#f59e0b"},{name:" ",value:Math.round(ke(`${o}-dr-b3`,100,500)),color:"#ef4444"}],breakdownType:"donut",cause:[{name:" ",value:Math.round(ke(`${o}-dr-c1`,80,300))},{name:" ",value:Math.round(ke(`${o}-dr-c2`,60,250))},{name:" ",value:Math.round(ke(`${o}-dr-c3`,40,180))},{name:" ",value:Math.round(ke(`${o}-dr-c4`,20,120))}],causeType:"donut",trend:$.points,worstRegions:H.worst,bestRegions:H.best},G=d("gs",85,99),L=m(G,!0),M=u("gs",{base:95.1,spread:2.6,min:88,max:99,volatility:.2,trendBias:.06,shockDirection:"down"}),J={national:{value:Number(ta(M.values[M.values.length-1]+ke(`${o}-gs-nat-j`,-.5,.5),88,99).toFixed(1)),deltaPP:Ro(M.values,3),target:98},regions:G,breakdown:[{name:" ",value:Math.round(ke(`${o}-gs-b1`,30,150)),color:"#d97706"},{name:" ",value:Math.round(ke(`${o}-gs-b2`,20,100)),color:"#f59e0b"},{name:" ",value:Math.round(ke(`${o}-gs-b3`,10,60)),color:"#fbbf24"},{name:" ",value:Math.round(ke(`${o}-gs-b4`,5,40)),color:"#fcd34d"}],breakdownType:"donut",cause:[{name:"",value:Math.round(ke(`${o}-gs-c1`,8,25))},{name:"",value:Math.round(ke(`${o}-gs-c2`,6,20))},{name:"",value:Math.round(ke(`${o}-gs-c3`,4,18))},{name:"",value:Math.round(ke(`${o}-gs-c4`,3,15))},{name:"",value:Math.round(ke(`${o}-gs-c5`,2,12))}],causeType:"lineRank",trend:M.points,worstRegions:L.worst,bestRegions:L.best};return{signalQuality:N,policyImpact:A,bottleneckRisk:R,dataReadiness:P,governanceSafety:J}}const kTe={SIGNAL_QUALITY:{id:"SIGNAL_QUALITY",name:" ",shortName:" ",description:"  :      ( )",formula:"ValidSignals / TotalSignals  100",numeratorField:"validSignals",denominatorField:"totalSignals",unit:"%",higherBetter:!0,baseline:88,target:95,drillToken:"VALID_SIGNALS"},POLICY_IMPACT:{id:"POLICY_IMPACT",name:" ",shortName:" ",description:"/   KPI  (  0-100)",formula:"PolicyChangeImpactScore ()",numeratorField:"impactScore",denominatorField:"maxScore",unit:"%",higherBetter:!1,baseline:35,target:20,drillToken:"POLICY_IMPACT_SCORE",auxiliaryKeys:["rollbackCount","warningRegions"]},BOTTLENECK_RISK:{id:"BOTTLENECK_RISK",name:" ",shortName:" ",description:"SLA    (0-100 )",formula:"(SLAViolation0.4 + L2Backlog0.35 + RecontactNeed0.25)",numeratorField:"weightedRisk",denominatorField:"maxRisk",unit:"%",higherBetter:!1,baseline:45,target:30,drillToken:"BOTTLENECK_SCORE",auxiliaryKeys:["slaViolationRate","l2BacklogCount"]},DATA_READINESS:{id:"DATA_READINESS",name:" ",shortName:" ",description:"     ",formula:"ReadyCases / TotalCases  100",numeratorField:"readyCases",denominatorField:"totalCases",unit:"%",higherBetter:!0,baseline:85,target:95,drillToken:"DATA_READY_CASES",auxiliaryKeys:["missingFieldRate","linkagePendingRate"]},GOVERNANCE_SAFETY:{id:"GOVERNANCE_SAFETY",name:" ",shortName:"",description:"       ()",formula:"AuditReady / TotalAuditable  100",numeratorField:"auditReady",denominatorField:"totalAuditable",unit:"%",higherBetter:!0,baseline:90,target:98,drillToken:"AUDIT_READY",auxiliaryKeys:["missingResponsible","missingExplanation"]}};function lq(){return Object.values(kTe)}const OTe={SIGNAL_QUALITY:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-300",icon:"",hex:"#2563eb"},POLICY_IMPACT:{bg:"bg-violet-50",text:"text-violet-700",border:"border-violet-300",icon:"",hex:"#7c3aed"},BOTTLENECK_RISK:{bg:"bg-red-50",text:"text-red-700",border:"border-red-300",icon:"",hex:"#dc2626"},DATA_READINESS:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-300",icon:"",hex:"#059669"},GOVERNANCE_SAFETY:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-300",icon:"",hex:"#d97706"}},rf=e=>`${e.toFixed(1)}%`,Rx=e=>e.toFixed(1),bA={signalQuality:{key:"signalQuality",label:" ",shortLabel:"",unit:"%",description:"  :     ",tooltipLines:["       ",": ()  {period}"," ,  //  "],primaryColor:"#2563eb",softBg:"#dbeafe",palette:["#eff6ff","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8"],valueFormatter:rf,target:95,warnBelow:90,riskBelow:85,legend:{ticks:[0,20,40,60,80,100],format:rf,direction:"higherBetter"},analysisSummary:" , /    "},policyImpact:{key:"policyImpact",label:" ",shortLabel:"",unit:"",description:"/   KPI (  0-100)",tooltipLines:["/      ",": ()  {period}","  ,      "],primaryColor:"#7c3aed",softBg:"#ede9fe",palette:["#faf5ff","#e9d5ff","#d8b4fe","#c084fc","#a855f7","#7c3aed","#6d28d9"],valueFormatter:Rx,higherIsWorse:!0,legend:{ticks:[0,20,40,60,80,100],format:Rx,direction:"higherWorse"},analysisSummary:"/      "},bottleneckRisk:{key:"bottleneckRisk",label:" ",shortLabel:"",unit:"",description:"SLA    (0-100 )",tooltipLines:["    ",": ()  {period}"," ,  //  "],primaryColor:"#dc2626",softBg:"#fee2e2",palette:["#fef2f2","#fecaca","#fca5a5","#f87171","#ef4444","#dc2626","#b91c1c"],valueFormatter:Rx,higherIsWorse:!0,warnBelow:void 0,legend:{ticks:[0,20,40,60,80,100],format:Rx,direction:"higherWorse"},analysisSummary:"SLA //    "},dataReadiness:{key:"dataReadiness",label:" ",shortLabel:"",unit:"%",description:"    ",tooltipLines:["   /   ",": ()  {period}"," ,   /  "],primaryColor:"#059669",softBg:"#d1fae5",palette:["#ecfdf5","#d1fae5","#a7f3d0","#6ee7b7","#34d399","#059669","#047857"],valueFormatter:rf,target:95,warnBelow:90,riskBelow:85,legend:{ticks:[0,20,40,60,80,100],format:rf,direction:"higherBetter"},analysisSummary:"  /    "},governanceSafety:{key:"governanceSafety",label:" ",shortLabel:"",unit:"%",description:" /    ",tooltipLines:["    ",": ()  {period}"," ,   /  "],primaryColor:"#d97706",softBg:"#fef3c7",palette:["#fffbeb","#fef3c7","#fde68a","#fcd34d","#fbbf24","#d97706","#b45309"],valueFormatter:rf,target:98,warnBelow:95,riskBelow:90,legend:{ticks:[0,20,40,60,80,100],format:rf,direction:"higherBetter"},analysisSummary:"/  /  "}},yA={SIGNAL_QUALITY:"signalQuality",POLICY_IMPACT:"policyImpact",BOTTLENECK_RISK:"bottleneckRisk",DATA_READINESS:"dataReadiness",GOVERNANCE_SAFETY:"governanceSafety"},vA={signalQuality:"SIGNAL_QUALITY",policyImpact:"POLICY_IMPACT",bottleneckRisk:"BOTTLENECK_RISK",dataReadiness:"DATA_READINESS",governanceSafety:"GOVERNANCE_SAFETY"},RTe={neutral:"text-slate-600",good:"text-emerald-600",warn:"text-amber-600",bad:"text-rose-600"};function xT(e){return typeof e=="number"&&Number.isFinite(e)?e.toLocaleString("ko-KR"):String(e??"-")}function Uy(e){return typeof e!="number"||!Number.isFinite(e)?null:`${Math.max(0,Math.min(100,e)).toFixed(1)}%`}function Z7(e,t){const r=[`${t+1}`,e.title,` ${xT(e.value)}`],n=Uy(e.percentOfTotal);n&&r.push(`  ${n}`);const s=Uy(e.conversionFromPrev);return s&&r.push(` ${s}`),e.helperText&&r.push(e.helperText),r.join(", ")}function PTe({steps:e,ariaLabel:t="  ",density:r="comfortable",layout:n="scroll"}){const s=r==="compact",i=n==="scroll";return!e||e.length===0?a.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-4 text-center text-xs text-slate-500",children:"   ."}):a.jsx("div",{className:ue("rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",s?"p-2.5":"p-3"),children:a.jsx("div",{className:ue(i?"overflow-x-auto pb-1":"overflow-visible"),children:a.jsx("ol",{className:ue("items-stretch",i?"flex min-w-max gap-2":"flex flex-wrap gap-2"),"aria-label":t,children:e.map((o,l)=>{const d=Uy(o.percentOfTotal),u=Uy(o.conversionFromPrev),m=RTe[o.status??"neutral"],p=typeof o.onClick=="function";return a.jsxs(q.Fragment,{children:[a.jsx("li",{className:ue("rounded-xl border border-slate-200 bg-slate-50/70 transition-all",i?"w-[198px] shrink-0":"min-w-[180px] grow basis-[180px]",p&&"hover:border-slate-300 hover:shadow-md"),children:p?a.jsxs("button",{type:"button",onClick:o.onClick,className:ue("h-full w-full rounded-xl px-4 py-3 text-left outline-none focus-visible:ring-2 focus-visible:ring-blue-300",s?"px-3 py-2.5":"px-4 py-3"),"aria-label":Z7(o,l),title:o.helperText,children:[a.jsx("p",{className:ue("font-semibold text-slate-800",s?"text-[11px]":"text-xs"),children:o.title}),a.jsx("p",{className:ue("mt-1.5 font-bold leading-none text-slate-900",s?"text-2xl":"text-[30px]"),children:xT(o.value)}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px]",children:[a.jsx("span",{className:"text-slate-500",children:o.subLabel??" "}),d?a.jsx("span",{className:ue("font-semibold",m),children:d}):null]}),u?a.jsxs("div",{className:"mt-2 border-t border-slate-200 pt-1.5 text-[11px]",children:[a.jsx("span",{className:"text-slate-500",children:": "}),a.jsx("span",{className:ue("font-semibold",m),children:u})]}):null]}):a.jsxs("div",{className:ue("h-full rounded-xl px-4 py-3 text-left outline-none focus-visible:ring-2 focus-visible:ring-blue-300",s?"px-3 py-2.5":"px-4 py-3"),tabIndex:0,"aria-label":Z7(o,l),title:o.helperText,children:[a.jsx("p",{className:ue("font-semibold text-slate-800",s?"text-[11px]":"text-xs"),children:o.title}),a.jsx("p",{className:ue("mt-1.5 font-bold leading-none text-slate-900",s?"text-2xl":"text-[30px]"),children:xT(o.value)}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px]",children:[a.jsx("span",{className:"text-slate-500",children:o.subLabel??" "}),d?a.jsx("span",{className:ue("font-semibold",m),children:d}):null]}),u?a.jsxs("div",{className:"mt-2 border-t border-slate-200 pt-1.5 text-[11px]",children:[a.jsx("span",{className:"text-slate-500",children:": "}),a.jsx("span",{className:ue("font-semibold",m),children:u})]}):null]})}),l<e.length-1?a.jsx("li",{"aria-hidden":"true",className:"flex shrink-0 items-center justify-center px-0.5 text-slate-300",children:a.jsx(Hs,{size:18})}):null]},o.id)})})})})}const Px=6e4,Dx=30*6e4,DTe={funnelData:[],bottleneckData:[],linkageData:[],regionData:[]};function J7(e){if(e.level!=="nation"&&e.subRegions?.length)return e.subRegions.map(t=>({code:t.id,name:t.name}))}function e8(e,t,r,n){const s=e.subRegions?.length?e.subRegions.map(i=>i.id).join("|"):"none";return["dashboard",e.level,e.regionCode??"KR",s,t,n??"default",r]}function MTe(e,t,r,n={}){const s=R8(),i=g.useMemo(()=>J7(e),[e]),o=n.loadDrilldown??!1,l=n.periodVariant,d=g.useMemo(()=>e8(e,t,r,l),[e,t,l,r]),u=Ic({queryKey:[...d,"kpis"],queryFn:async()=>(await oq(t,l)).kpis,placeholderData:jN,staleTime:Px,gcTime:Dx,refetchOnWindowFocus:!1}),m=Ic({queryKey:[...d,"bundle"],queryFn:()=>Q7(t,i,e.level,e.regionCode,l),placeholderData:jN,staleTime:Px,gcTime:Dx,refetchOnWindowFocus:!1}),p=Ic({queryKey:[...d,"drilldown"],queryFn:async()=>{const[S,w,_,A]=await Promise.all([ATe(t,l),_Te(t,l),CTe(t,l),TTe(t,l)]);return{funnelData:S.stages,bottleneckData:w.metrics,linkageData:_.metrics,regionData:A.rows}},enabled:o,placeholderData:jN,staleTime:Px,gcTime:Dx,refetchOnWindowFocus:!1}),h=g.useCallback(S=>{const w=J7(S),_=e8(S,t,r,l);s.prefetchQuery({queryKey:[..._,"bundle"],queryFn:()=>Q7(t,w,S.level,S.regionCode,l),staleTime:Px,gcTime:Dx})},[t,l,s,r]),b=!!(m.data&&u.data),v=b&&(m.isFetching||o&&p.isFetching),N=b&&!v&&u.isFetching,y=b?v?"loadingScopeChange":N?"refreshing":"ready":"loadingInitial";return{centralKpis:u.data??[],dashData:m.data??null,drilldownData:p.data??DTe,loadingStage:y,isInitialLoading:y==="loadingInitial",isScopeChangeLoading:y==="loadingScopeChange",isRefreshing:y==="refreshing",prefetchScope:h}}function ITe({visible:e,stage:t="scopeChange",label:r,className:n}){if(!e)return null;const s=r??(t==="refreshing"?"   ":"  ");return a.jsxs("div",{className:ue("pointer-events-none absolute inset-0 z-30",n),children:[a.jsx("div",{className:ue("absolute inset-0 transition-opacity duration-300",t==="scopeChange"?"bg-white/35 backdrop-blur-[1px]":"bg-white/18")}),a.jsx("div",{className:"absolute inset-x-0 top-0 h-0.5 overflow-hidden bg-blue-100/90",children:a.jsx("div",{className:"ns-loading-overlay-bar h-full w-1/3 bg-blue-600"})}),a.jsx("div",{className:"absolute right-3 top-3 rounded-md border border-blue-100 bg-white/90 px-2 py-1 text-[11px] font-medium text-blue-700 shadow-sm",children:s})]})}function cq({value:e,className:t,decimals:r=0,duration:n=420,locale:s="ko-KR",formatter:i,prefix:o="",suffix:l=""}){const[d,u]=g.useState(e),m=g.useRef(e),p=g.useRef(null);g.useEffect(()=>{if(!Number.isFinite(e)){u(e),m.current=e;return}const b=performance.now(),v=m.current,N=e;if(!Number.isFinite(v)||n<=0){u(N),m.current=N;return}p.current&&cancelAnimationFrame(p.current);const y=S=>{const w=Math.min(1,(S-b)/n),_=1-Math.pow(1-w,3),A=v+(N-v)*_;u(A),w<1?p.current=requestAnimationFrame(y):(m.current=N,p.current=null)};return p.current=requestAnimationFrame(y),()=>{p.current&&cancelAnimationFrame(p.current),p.current=null}},[n,e]);const h=i?i(d):new Intl.NumberFormat(s,{minimumFractionDigits:r,maximumFractionDigits:r}).format(d);return a.jsx("span",{className:ue("tabular-nums",t),children:`${o}${h}${l}`})}function LTe({top5:e,childrenCodes:t,parentRegionCode:r}){const n=new Set(t),s=e.some(l=>!n.has(l.code)),i=r!=null&&e.some(l=>l.code===r),o=!s&&!i;return console.assert(o,"[Top5] invalid candidate detected",{top5Codes:e.map(l=>l.code),parentRegionCode:r,childrenCodes:t}),o}const W3="central.settings.v1",NA=(e,t,r)=>Math.min(r,Math.max(t,e)),ea={matrixThresholds:{slaCut:86,dataCut:86},headline:{maxItems:3,includePartialBadge:!0},drilldown:{keepPreviousData:!0,prefetchEnabled:!0,useScopeOverlay:!0},notifications:{batchDelayed:!0,qualityRisk:!0,governanceGap:!0,policyImpactSpike:!1},reports:{defaultPeriod:"weekly",includeFilterContext:!0}};function $Te(e){return e==="weekly"||e==="monthly"||e==="quarterly"||e==="yearly_cum"}function dq(e){return{matrixThresholds:{slaCut:NA(Number(e?.matrixThresholds?.slaCut??ea.matrixThresholds.slaCut),70,99),dataCut:NA(Number(e?.matrixThresholds?.dataCut??ea.matrixThresholds.dataCut),70,99)},headline:{maxItems:NA(Number(e?.headline?.maxItems??ea.headline.maxItems),1,5),includePartialBadge:!!(e?.headline?.includePartialBadge??ea.headline.includePartialBadge)},drilldown:{keepPreviousData:!!(e?.drilldown?.keepPreviousData??ea.drilldown.keepPreviousData),prefetchEnabled:!!(e?.drilldown?.prefetchEnabled??ea.drilldown.prefetchEnabled),useScopeOverlay:!!(e?.drilldown?.useScopeOverlay??ea.drilldown.useScopeOverlay)},notifications:{batchDelayed:!!(e?.notifications?.batchDelayed??ea.notifications.batchDelayed),qualityRisk:!!(e?.notifications?.qualityRisk??ea.notifications.qualityRisk),governanceGap:!!(e?.notifications?.governanceGap??ea.notifications.governanceGap),policyImpactSpike:!!(e?.notifications?.policyImpactSpike??ea.notifications.policyImpactSpike)},reports:{defaultPeriod:$Te(e?.reports?.defaultPeriod)?e.reports.defaultPeriod:ea.reports.defaultPeriod,includeFilterContext:!!(e?.reports?.includeFilterContext??ea.reports.includeFilterContext)}}}function uq(){try{if(typeof window>"u")return{...ea};const e=localStorage.getItem(W3);if(!e)return{...ea};const t=JSON.parse(e);return dq(t)}catch{return{...ea}}}function FTe(e){const t=dq(e);typeof window>"u"||localStorage.setItem(W3,JSON.stringify(t))}function BTe(){return typeof window<"u"&&localStorage.removeItem(W3),{...ea}}function UTe(){const e=g.useRef(null),[t,r]=g.useState({width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080}),n=g.useRef(null);return g.useEffect(()=>{const s=e.current;if(!s)return;const i=()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{const d=s.getBoundingClientRect();r(u=>u.width===d.width&&u.height===d.height?u:{width:d.width,height:d.height})})},o=new ResizeObserver(i);o.observe(s);const l=()=>i();return window.addEventListener("resize",l,{passive:!0}),i(),()=>{o.disconnect(),window.removeEventListener("resize",l),n.current&&cancelAnimationFrame(n.current)}},[]),[e,t]}const Jm={blue:"#3b82f6",red:"#ef4444",green:"#22c55e",orange:"#f59e0b",cyan:"#06b6d4"},t8=[{id:"total_cases",label:" ",unit:"",color:"blue",iconBg:"bg-blue-100 text-blue-600",getValue:e=>Math.round(yn(`${e}-new`,1200,2800))},{id:"completion",label:" ",unit:"",color:"green",iconBg:"bg-green-100 text-green-600",getValue:e=>Math.round(yn(`${e}-progress`,800,1500))},{id:"consultation_time",label:"SLA ",unit:"%",color:"red",iconBg:"bg-red-100 text-red-600",getValue:e=>Number(yn(`${e}-sla`,2.5,8.5).toFixed(1))},{id:"followup_dropout",label:" ",unit:"%",color:"orange",iconBg:"bg-amber-100 text-amber-600",getValue:e=>Number(yn(`${e}-data`,3,12).toFixed(1))},{id:"dropout",label:" ",unit:"%",color:"purple",iconBg:"bg-purple-100 text-purple-600",getValue:e=>Number(yn(`${e}-recontact`,5,15).toFixed(1))}],HTe=e=>{const{cx:t,cy:r,midAngle:n,innerRadius:s,outerRadius:i,percent:o,name:l}=e;if(o*100<5)return null;const d=Math.PI/180,u=s+(i-s)*.5,m=t+u*Math.cos(-n*d),p=r+u*Math.sin(-n*d);return a.jsx("text",{x:m,y:p,fill:"#fff",textAnchor:"middle",dominantBaseline:"central",fontSize:10,fontWeight:600,style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:`${(o*100).toFixed(1)}%`})},GTe=e=>{let t=0;for(let r=0;r<e.length;r++)t=t*31+e.charCodeAt(r)>>>0;return t},yn=(e,t,r)=>{const n=GTe(e)%1e3/1e3;return t+(r-t)*n},r8=["#3b82f6","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4"];function zTe({kpiDef:e,data:t,colorIndex:r,analyticsPeriod:n}){if(!t)return a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 h-[80px] flex items-center justify-center border border-gray-200 shadow-sm",children:a.jsx("div",{className:"w-full h-10 bg-gray-100 rounded animate-pulse"})});const{dailyData:s,current:i,baseline:o,target:l,unit:d,higherBetter:u}=t,m=r8[r%r8.length],p=u?i>=l:i<=l,h=n==="week"?0:n==="month"?2:n==="year"?3:0,b=["bg-blue-50/50","bg-green-50/50","bg-amber-50/50","bg-purple-50/50","bg-pink-50/50","bg-cyan-50/50"],v=b[r%b.length];return a.jsxs("div",{className:`${v} rounded-lg p-2 border border-gray-200 shadow-sm`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1 pb-1 border-b border-gray-200/60",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:m}}),a.jsx("span",{className:"text-[12px] font-semibold text-gray-700 truncate",children:e.name})]}),a.jsxs("span",{className:`text-[13px] font-bold flex-shrink-0 ${p?"text-green-600":"text-amber-600"}`,children:[i,d]})]}),a.jsx("div",{style:{height:"90px"},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(t3,{data:s,margin:{top:5,right:8,left:8,bottom:2},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`kpiGrad-${e.id}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:m,stopOpacity:.35}),a.jsx("stop",{offset:"100%",stopColor:m,stopOpacity:.05})]})}),a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx($n,{dataKey:"date",tick:{fontSize:14,fill:"#374151",fontWeight:500},tickLine:!1,axisLine:{stroke:"#d1d5db"},interval:h}),a.jsx(_n,{tick:{fontSize:13,fill:"#6b7280"},tickLine:!1,axisLine:!1,domain:["auto","auto"],width:44}),a.jsx(qr,{contentStyle:{fontSize:"14px",padding:"6px 10px",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},formatter:N=>[`${N}${d}`,e.name],labelFormatter:N=>`${N}`}),a.jsx(Ko,{y:l,stroke:"#ef4444",strokeDasharray:"4 2",strokeWidth:1.5,label:{value:"",fontSize:12,fill:"#ef4444",position:"right"}}),a.jsx(Ko,{y:o,stroke:"#9ca3af",strokeDasharray:"3 3",strokeWidth:1}),a.jsx(el,{type:"monotone",dataKey:"value",fill:`url(#kpiGrad-${e.id})`,stroke:"none",isAnimationActive:!0,animationDuration:500,animationEasing:"ease-out"}),a.jsx(aa,{type:"monotone",dataKey:"value",stroke:m,strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:500,animationEasing:"ease-out",activeDot:{r:4,fill:m,stroke:"#fff",strokeWidth:2}})]})})})]})}function eh({title:e,isOpen:t,onToggle:r,summary:n,children:s,className:i=""}){return a.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg overflow-hidden ${i}`,children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between px-3 py-2 hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-700",children:e}),a.jsxs("div",{className:"flex items-center gap-2",children:[!t&&n&&a.jsx("span",{className:"text-[11px] text-gray-400 truncate max-w-[120px]",children:n}),t?a.jsx($l,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"}):a.jsx(za,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"})]})]}),t&&a.jsx("div",{className:"border-t border-gray-100 px-3 py-2",children:s})]})}function n8({title:e,badge:t,height:r=280,children:n,className:s=""}){return a.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col ${s}`,style:{height:`${r}px`},children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 shrink-0",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-700",children:e}),t]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 min-h-0",children:n})]})}const KTe={SIGNAL_QUALITY:a.jsx(Ka,{className:"h-4 w-4"}),POLICY_IMPACT:a.jsx(AT,{className:"h-4 w-4"}),BOTTLENECK_RISK:a.jsx(Fo,{className:"h-4 w-4"}),DATA_READINESS:a.jsx(B8,{className:"h-4 w-4"}),GOVERNANCE_SAFETY:a.jsx(Bo,{className:"h-4 w-4"})},a8=["dualRisk","dataRisk","slaRisk","good"],s8={SIGNAL_QUALITY:"     ",POLICY_IMPACT:"/      ",BOTTLENECK_RISK:"SLA     ",DATA_READINESS:"      ",GOVERNANCE_SAFETY:"     "},qTe={SIGNAL_QUALITY:"         .",POLICY_IMPACT:"          .",BOTTLENECK_RISK:"          .",DATA_READINESS:"          .",GOVERNANCE_SAFETY:"            ."},i8={SIGNAL_QUALITY:"    /  .",POLICY_IMPACT:"         .",BOTTLENECK_RISK:"SLA ,  ,      .",DATA_READINESS:"         .",GOVERNANCE_SAFETY:"//      ."},WTe={SIGNAL_QUALITY:":   (   )",POLICY_IMPACT:":   (100  )",BOTTLENECK_RISK:":   (100  )",DATA_READINESS:":      ",GOVERNANCE_SAFETY:":     "},th={ok:"",warn:"",risk:" "},SA={ok:"bg-green-50 text-green-700 border-green-200",warn:"bg-amber-50 text-amber-700 border-amber-200",risk:"bg-red-50 text-red-700 border-red-200"},El={good:{label:"",guideLabel:"",description:" SLA   ",badgeClass:"bg-green-50 text-green-700 border-green-200",dotClass:"bg-green-500"},dataRisk:{label:"  ",guideLabel:" ",description:" SLA   ",badgeClass:"bg-amber-50 text-amber-700 border-amber-200",dotClass:"bg-amber-400"},slaRisk:{label:"  ",guideLabel:" ",description:" SLA   ",badgeClass:"bg-orange-50 text-orange-700 border-orange-200",dotClass:"bg-orange-500"},dualRisk:{label:"  ",guideLabel:" ",description:" SLA   ",badgeClass:"bg-red-50 text-red-700 border-red-200",dotClass:"bg-red-500"}};function VTe(e){return a8.reduce((t,r)=>e[r]>e[t]?r:t,a8[0])}function o8(e,t){const r=Number(e);return Number.isFinite(r)?Math.min(99,Math.max(70,r)):t}const l8=[" "," "," "," "];function So(e){return`${e>=0?"+":""}${e.toFixed(1)}pp`}function c8(e,t){return Number((t-e.target).toFixed(1))}function YTe(e,t){const r=e.higherBetter?-t:t;return Number(r.toFixed(1))}function XTe(e,t,r){const n=e+Math.max(0,t*.8)+(r?2.5:0);return n>=7?"risk":n>=3?"warn":"ok"}function rh(e,t,r,n){const s=e>=r,i=t>=n;return s&&i?"good":s&&!i?"dataRisk":!s&&i?"slaRisk":"dualRisk"}const QTe={weekly:"LAST_7D",monthly:"LAST_30D",quarterly:"LAST_90D",yearly_cum:"LAST_90D"},ZTe={weekly:"",monthly:"",quarterly:"",yearly_cum:"()"},d8=260,jA=420;function JTe({title:e,lines:t,color:r,anchorRef:n,visible:s}){const i=g.useRef(null),[o,l]=g.useState(null);return g.useEffect(()=>{if(!s||!n.current){l(null);return}const d=n.current.getBoundingClientRect(),u=340,m=34+t.length*19;let p=d.bottom+6,h=d.left+d.width/2-u/2;h<8&&(h=8),h+u>window.innerWidth-8&&(h=window.innerWidth-u-8),p+m>window.innerHeight-8&&(p=d.top-m-6),l({top:p,left:h})},[s,n,t.length]),!s||!o?null:kp.createPortal(a.jsxs("div",{ref:i,role:"tooltip",className:"fixed z-[9999] rounded-lg shadow-lg border border-gray-200 bg-white text-left pointer-events-none",style:{top:o.top,left:o.left,maxWidth:360,minWidth:300},children:[a.jsx("div",{className:"h-[3px] rounded-t-lg",style:{backgroundColor:r}}),a.jsxs("div",{className:"px-3 py-2.5 space-y-1",children:[a.jsx("p",{className:"text-[11px] leading-[1.45] font-semibold text-gray-800",children:e}),t.map((d,u)=>a.jsx("p",{className:`text-[11px] leading-[1.45] ${u===t.length-1?"text-gray-500":"text-gray-600"}`,children:d},u))]})]}),document.body)}function e5e({kpi:e,def:t,isActive:r,onClick:n,plainLine:s,tooltipTitle:i,tooltipLines:o,tooltipColor:l,severityLabel:d,severityClass:u}){const m=OTe[t.id],p=t.higherBetter?e.delta7d>=0?"text-green-600":"text-red-600":e.delta7d<=0?"text-green-600":"text-red-600",h=t.higherBetter?e.value>=t.target:e.value<=t.target,b=g.useRef(null),[v,N]=g.useState(!1),y=g.useRef(),S=g.useCallback(()=>{y.current=setTimeout(()=>N(!0),200)},[]),w=g.useCallback(()=>{clearTimeout(y.current),N(!1)},[]);return g.useEffect(()=>()=>clearTimeout(y.current),[]),a.jsxs(a.Fragment,{children:[a.jsxs("button",{ref:b,onClick:n,onMouseEnter:S,onMouseLeave:w,onFocus:S,onBlur:w,onKeyDown:_=>{_.key==="Escape"&&w()},"aria-describedby":v?`kpi-tip-${t.id}`:void 0,className:`relative flex flex-col gap-2 px-3.5 py-3 rounded-xl border-2 transition-all min-w-[196px] text-left ${r?`${m.border} ${m.bg} shadow-md ring-2 ring-offset-1 ring-${m.border.replace("border-","")}/30`:"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`p-1 rounded-md ${r?m.bg:"bg-gray-100"} ${r?m.text:"text-gray-500"}`,children:KTe[t.id]}),a.jsx("span",{className:`text-[11px] font-semibold truncate ${r?m.text:"text-gray-600"}`,children:t.shortName})]}),a.jsx("p",{className:"text-[10px] text-gray-500 leading-[1.4]",children:s}),a.jsx("span",{className:`inline-flex w-fit items-center rounded-full border px-1.5 py-0.5 text-[10px] font-semibold ${u}`,children:d}),a.jsxs("div",{className:"flex items-end gap-1.5",children:[a.jsxs("span",{className:`text-lg font-bold tabular-nums ${r?m.text:"text-gray-800"}`,children:[a.jsx(cq,{value:e.value,decimals:t.unit==="%"?1:0}),t.unit]}),a.jsxs("span",{className:`text-[11px] font-medium ${p}`,children:[e.delta7d>0?"+":"",e.delta7d,"pp"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-gray-200 overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${h?"bg-green-500":"bg-amber-400"}`,style:{width:`${Math.min(100,e.value/t.target*100)}%`}})}),a.jsxs("span",{className:"text-[10px] text-gray-400",children:[" ",t.target,t.unit]})]}),a.jsxs("div",{className:"text-[10px] text-gray-400",children:[e.numerator.toLocaleString()," / ",e.denominator.toLocaleString()]})]}),a.jsx(JTe,{title:i,lines:o,color:l,anchorRef:b,visible:v})]})}function t5e({stages:e}){const t=e[0]?.count??0,r=e.map((n,s)=>{const i=t>0?Number((n.count/t*100).toFixed(1)):0,o=s===0?void 0:n.conversionRate,l=o==null?"neutral":o>=80?"good":o>=55?"warn":"bad";return{id:`funnel-${n.stage}-${s}`,title:n.label,value:n.count,subLabel:" ",percentOfTotal:i,conversionFromPrev:o,status:l}});return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-3",children:"  "}),a.jsx(PTe,{steps:r,ariaLabel:"    ",density:"compact",layout:"scroll"})]})}function r5e({metrics:e}){const t=[{key:"consent",label:"",color:"#8b5cf6"},{key:"readiness",label:" Readiness",color:"#3b82f6"},{key:"blocked",label:" ",color:"#ef4444"},{key:"system",label:" ",color:"#06b6d4"}];return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-3",children:" "}),a.jsx("div",{className:"space-y-3",children:t.map(r=>{const n=e.filter(s=>s.category===r.key);return n.length===0?null:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),a.jsx("span",{className:"text-[11px] font-semibold text-gray-600",children:r.label})]}),a.jsx("div",{className:"space-y-1",children:n.map(s=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1 text-[11px] text-gray-600 truncate",children:s.label}),a.jsxs("span",{className:`text-[11px] font-bold ${s.status==="red"?"text-red-600":s.status==="yellow"?"text-amber-600":"text-green-600"}`,children:[s.value,s.unit]}),a.jsx("span",{className:`w-2 h-2 rounded-full ${s.status==="red"?"bg-red-500":s.status==="yellow"?"bg-amber-400":"bg-green-500"}`})]},s.key))})]},r.key)})})]})}function n5e({metrics:e}){return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-3",children:" & "}),a.jsx("div",{className:"space-y-3",children:e.map(t=>a.jsxs("div",{className:"border border-gray-100 rounded-lg p-2.5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-700",children:t.stage==="stage2"?"2 ":"3 "}),a.jsxs("span",{className:`text-sm font-bold ${t.linkageRate>=60?"text-green-600":t.linkageRate>=40?"text-amber-600":"text-red-600"}`,children:[t.linkageRate,"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px] mb-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"median "}),a.jsxs("div",{className:"font-semibold text-gray-800",children:[t.medianLeadTimeDays,""]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:" "}),a.jsxs("div",{className:"font-semibold text-red-600",children:[t.blockedCount,""]})]})]}),t.blockedReasons.length>0&&a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("span",{className:"text-[10px] text-gray-400",children:" "}),t.blockedReasons.map(r=>a.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[a.jsx("span",{className:"text-gray-600",children:r.reason}),a.jsxs("span",{className:"font-medium text-gray-800",children:[r.count,""]})]},r.reason))]})]},t.stage))})]})}function a5e({rows:e}){const t=r=>r.replace(/||||$/g,"").trim()||r.slice(0,2);return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-700 mb-2",children:["   ",a.jsx("span",{className:"text-[10px] text-gray-400 ml-1",children:"(worst-first)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-[11px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"px-1.5 py-1 text-left font-medium text-gray-600 sticky left-0 bg-gray-50 z-10",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:"%"}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""})]})}),a.jsx("tbody",{children:e.map((r,n)=>a.jsxs("tr",{className:`border-b border-gray-100 hover:bg-amber-50/30 ${n<3?"bg-red-50/30":""}`,children:[a.jsx("td",{className:"px-1.5 py-1 font-medium text-gray-800 sticky left-0 bg-inherit z-10",children:t(r.regionName)}),a.jsxs("td",{className:"px-1.5 py-1 text-right tabular-nums",children:[r.signalQuality,"%"]}),a.jsxs("td",{className:"px-1.5 py-1 text-right tabular-nums",children:[r.policyImpact,"%"]}),a.jsxs("td",{className:`px-1.5 py-1 text-right tabular-nums font-medium ${r.bottleneckRisk>40?"text-red-600":""}`,children:[r.bottleneckRisk,"%"]}),a.jsxs("td",{className:"px-1.5 py-1 text-right tabular-nums",children:[r.dataReadiness,"%"]}),a.jsxs("td",{className:"px-1.5 py-1 text-right tabular-nums",children:[r.governanceSafety,"%"]}),a.jsxs("td",{className:`px-1.5 py-1 text-right tabular-nums font-medium ${r.blockedPct>20?"text-red-600":r.blockedPct>15?"text-amber-600":"text-green-600"}`,children:[r.blockedPct,"%"]}),a.jsx("td",{className:"px-1.5 py-1 text-right tabular-nums",children:r.backlogCount})]},r.regionCode))})]})})]})}function u8({onNavigate:e}){const t="total_cases",[r,n]=g.useState("weekly"),s=g.useMemo(()=>QTe[r],[r]),i=ZTe[r],o=g.useMemo(()=>({weekly:"week",monthly:"month",quarterly:"quarter",yearly_cum:"year"})[r],[r]),[l,d]=g.useState("geomap"),[u,m]=g.useState(null),[p,h]=g.useState(!1),[b,v]=g.useState({opsSummary:!1,ageRisk:!1,kpiTable:!1}),N=g.useCallback(W=>{v(ie=>({...ie,[W]:!ie[W]}))},[]),[y,S]=g.useState(!1),[w,_]=g.useState(!1),[A,E]=g.useState({type:"none"}),[C,O]=g.useState(null),[D,R]=g.useState(null),[K,H]=g.useState({slaMatrix:!1,stageDistribution:!1}),$=g.useCallback(W=>{H(ie=>({...ie,[W]:!ie[W]}))},[]),U=t,[P,G]=UTe(),[L,M]=g.useState(null),[B,J]=g.useState([]),ee=g.useCallback(W=>{J(W.map(ie=>({id:ie.code,name:ie.name})))},[]),[I,Y]=g.useState("SIGNAL_QUALITY"),[ae,le]=g.useState(!1),[he,X]=g.useState(jA),[ne,ve]=g.useState(!1),pe=g.useRef({startY:0,startHeight:jA}),Ce=g.useMemo(()=>lq(),[]),ge=g.useMemo(()=>yA[I],[I]),se=g.useMemo(()=>bA[ge],[ge]),Ze=g.useMemo(()=>Ce.find(W=>W.id===I)??Ce[0],[Ce,I]),V=g.useMemo(()=>({SIGNAL_QUALITY:"blue",POLICY_IMPACT:"purple",BOTTLENECK_RISK:"red",DATA_READINESS:"green",GOVERNANCE_SAFETY:"orange"})[I],[I]),{drillLevel:de,drillPath:Ae,selectedRegion:ce,drillUp:ye,drillTo:Ie,resetDrill:Ct,setScope:Dt}=yTe(),[ze,$e]=g.useState(null),or=ze?.code??ce?.code??"national",Vt=g.useMemo(()=>{const W=G.width||(typeof window<"u"?window.innerWidth:1920);return W>=1024?"desktop":W>=768?"tablet":"mobile"},[G.width]),hn=g.useMemo(()=>{const W=G.height||(typeof window<"u"?window.innerHeight:900),ie=Vt==="mobile"?.55:.72;return Math.max(d8+40,Math.floor(W*ie))},[G.height,Vt]),zr=g.useCallback(W=>Math.min(hn,Math.max(d8,W)),[hn]);g.useEffect(()=>{X(W=>zr(W))},[zr]);const Rt=g.useCallback(W=>{Vt!=="mobile"&&(W.preventDefault(),pe.current={startY:W.clientY,startHeight:he},ve(!0))},[Vt,he]),mr=g.useCallback(()=>{X(zr(jA))},[zr]);g.useEffect(()=>{if(!ne)return;const W=Re=>{const Je=Re.clientY-pe.current.startY,We=zr(pe.current.startHeight+Je);X(We)},ie=()=>{ve(!1)};return window.addEventListener("mousemove",W),window.addEventListener("mouseup",ie),document.body.style.userSelect="none",document.body.style.cursor="ns-resize",()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",ie),document.body.style.userSelect="",document.body.style.cursor=""}},[ne,zr]),g.useMemo(()=>{const W=G.width;return W<768?{left:1,center:1,right:1}:W<1024?{left:1,center:1,right:1}:{left:1.35,center:2.35,right:2.3}},[G.width]);const ar=g.useMemo(()=>X7("left"),[]),Fr=g.useMemo(()=>NTe(de).filter(W=>["donut","bar","table"].includes(W.visualization.chartType)&&W.id!=="total-cases"&&W.id!=="center-load"&&W.id!=="case-distribution"&&W.id!=="kpi-summary-table"),[de]),Mr=g.useMemo(()=>X7("bottom"),[]),jr=g.useMemo(()=>STe(de),[de]),Or=g.useMemo(()=>{const W={};return[...ar,...Fr,...Mr,...jr].forEach(ie=>{W[ie.id]=wTe(ie.id,ce?.code||"KR",de,r)}),W},[ar,Fr,Mr,jr,ce,de,r]),ur=[{id:"11",name:""},{id:"21",name:""},{id:"22",name:""},{id:"23",name:""},{id:"24",name:""},{id:"25",name:""},{id:"26",name:""},{id:"29",name:""},{id:"31",name:""},{id:"33",name:""},{id:"34",name:""},{id:"35",name:""},{id:"36",name:""},{id:"37",name:""},{id:"38",name:""},{id:"39",name:""},{id:"32",name:""}],ir=g.useMemo(()=>{if(de==="nation")return ur.map(W=>({code:W.id,name:W.name}));if(B.length>0)return B.map(W=>({code:W.id,name:W.name}));if(de==="sido"&&ce?.code){const W=DK[ce.code]??[];if(W.length>0)return W.map(ie=>({code:ie.code,name:ie.label}))}return[]},[de,B,ce?.code]),xt=g.useMemo(()=>BK({level:de,parentRegionCode:ce?.code,candidates:ir}),[de,ce?.code,ir]),Ue=g.useMemo(()=>xt.children.map(W=>({id:W.code,name:W.name})),[xt]);g.useEffect(()=>{$e(null)},[de,ce?.code]),g.useEffect(()=>{ze&&(xt.childrenCodes.includes(ze.code)||$e(null))},[ze,xt.childrenCodes]);const Mt=g.useMemo(()=>({level:de,regionCode:ce?.code,regionName:ce?.name,subRegions:Ue}),[de,ce,Ue]),{centralKpis:ot,dashData:Qt,drilldownData:Ht,loadingStage:Ee,isScopeChangeLoading:Be,prefetchScope:Qe}=MTe(Mt,s,I,{loadDrilldown:ae,periodVariant:r}),{funnelData:Ft,bottleneckData:hr,linkageData:at,regionData:br}=Ht,Ye=g.useMemo(()=>Qt?Qt[ge]:null,[Qt,ge]),Yr=g.useMemo(()=>uq(),[]),Gt=g.useMemo(()=>Math.min(5,Math.max(1,Yr.headline.maxItems)),[Yr.headline.maxItems]),Oe=g.useMemo(()=>ot.find(W=>W.kpiId==="DATA_READINESS")?.value??null,[ot]),Te=g.useMemo(()=>{const W=new Map(Ce.map(ie=>[ie.id,ie]));return ot.map(ie=>{const Re=W.get(ie.kpiId);if(!Re)return null;const Je=Re.target,We=c8(Re,ie.value),Ke=Math.max(0,Re.higherBetter?Je-ie.value:ie.value-Je),$t=YTe(Re,ie.delta7d),Zt=ie.kpiId==="DATA_READINESS"?ie.value<Math.max(88,Je-3):Oe!=null&&Oe<90,wr=XTe(Ke,$t,Zt),cr=Number((Ke+Math.max(0,$t*.8)+(Zt?2.5:0)).toFixed(2));return{kpiKey:yA[ie.kpiId],actual:ie.value,target:Je,deltaPp:We,trendWorseningPp:$t,severity:wr,partialPossible:Zt,score:cr}}).filter(ie=>ie!=null)},[ot,Ce,Oe]),rt=g.useMemo(()=>Te.reduce((W,ie)=>(W[vA[ie.kpiKey]]=ie,W),{SIGNAL_QUALITY:void 0,POLICY_IMPACT:void 0,BOTTLENECK_RISK:void 0,DATA_READINESS:void 0,GOVERNANCE_SAFETY:void 0}),[Te]),St=g.useMemo(()=>{const W={risk:3,warn:2,ok:1};return[...Te].filter(ie=>ie.severity!=="ok"||ie.partialPossible).sort((ie,Re)=>{const Je=W[Re.severity]-W[ie.severity];if(Je!==0)return Je;const We=Re.score-ie.score;return We!==0?We:Re.actual-ie.actual}).slice(0,Gt)},[Te,Gt]),Bt=g.useMemo(()=>[...Kd].filter(W=>W.status==="deployed"||W.status==="reviewing").sort((W,ie)=>new Date(ie.deployedAt).getTime()-new Date(W.deployedAt).getTime()).slice(0,3).map(W=>({policyId:W.id,title:W.title,effectiveAt:W.deployedAt.slice(0,10),impactedKpis:W.impactSummary.map(ie=>({kpiKey:ie.label,deltaPp:ie.changePp})),impactedRegions:W.affectedRegions.includes("")?Math.max(Ue.length,17):W.affectedRegions.length,notes:`/   SLA ${W.before.slaRate}%${W.after.slaRate}%   ${W.before.responseTimeliness}%${W.after.responseTimeliness}%`})),[Ue.length]),Wt=g.useCallback((W,ie)=>{const Re=ie||ze?.name||ce?.name||"";return Array.from({length:4},(Je,We)=>{const Ke=We+1;return{orgName:`${Re.replace(/|||/g,"").trim()} ${Ke}`,regionName:Re,count:Math.round(yn(`${W}-${Re}-owner-count-${We}`,8,46)),lastOccurredAt:`2026-02-${String(Math.round(yn(`${W}-${Re}-owner-day-${We}`,4,12))).padStart(2,"0")}`,ownerRole:l8[We%l8.length]}})},[ze?.name,ce?.name]),It=g.useCallback(W=>W.includes("")?"       .":W.includes("")?"      .":W.includes("")?"      .":W.includes("")||W.includes("")?"       .":"       .",[]),lt=g.useCallback(W=>{if(W==="POLICY_IMPACT"){E({type:"policy",items:Bt});return}const ie=rt[W];ie&&E({type:"kpi",kpiId:W,severity:ie.severity,deltaPp:ie.deltaPp,trendWorseningPp:ie.trendWorseningPp,partialPossible:ie.partialPossible})},[rt,Bt]),lr=g.useMemo(()=>{if(!Ye)return[];const W=new Map(Ye.regions.map(Ke=>[Ke.regionCode,Ke])),ie=Ye.national.target??Ye.national.value,Re=se.target??ie,Je=new Set(ce?.code?[ce.code]:[]);return xt.childrenCodes.filter(Ke=>!Je.has(Ke)).map(Ke=>{const $t=W.get(Ke),Zt=$t?.value;if(Zt==null||!Number.isFinite(Zt))return null;const wr=$t?.regionName,cr=xt.childrenNameMap[Ke]||wr;cr||console.warn(`[Top5] missing nameMap for code: ${Ke}`);const Br=Number(yn(`${Ke}-${ge}-wdelta`,-3.8,3.8).toFixed(1)),jn=Number((se.higherIsWorse?Br:-Br).toFixed(1)),Ti=Number((Zt-Re).toFixed(1));return{code:Ke,name:cr||`: ${Ke}`,value:Zt,targetGapPp:Ti,gapAbs:Math.abs(Ti),weeklyDeltaPp:Br,worseningPp:jn}}).filter(Ke=>Ke!=null).sort((Ke,$t)=>{const Zt=$t.gapAbs-Ke.gapAbs;if(Zt!==0)return Zt;const wr=$t.worseningPp-Ke.worseningPp;if(wr!==0)return wr;const cr=$t.value-Ke.value;return cr!==0?cr:Ke.name.localeCompare($t.name,"ko-KR")}).slice(0,5).map((Ke,$t)=>({...Ke,rank:$t+1}))},[Ye,se.target,se.higherIsWorse,ge,xt.childrenCodes,xt.childrenNameMap,ce?.code]),Jr=g.useMemo(()=>Ye?ze?.code?Ye.cause.map((W,ie)=>({...W,value:Math.max(1,Math.round(W.value+yn(`${ze.code}-${ge}-cause-${ie}`,-12,14)))})):Ye.cause:[],[Ye,ze?.code,ge]),_a=g.useMemo(()=>Jr[0]?.name??" ",[Jr]),zs=g.useCallback(W=>{$e({code:W.code,name:W.name}),E({type:"top5",row:W,causeName:_a,owners:Wt(_a,W.name),actionText:It(_a)})},[It,Wt,_a]),Ar=g.useMemo(()=>!ze||!Ye?null:Ye.regions.find(W=>W.regionCode===ze.code)??null,[Ye,ze]),Mn=g.useMemo(()=>Ye?ze?.code?Ye.trend.map((W,ie)=>({...W,value:Number((W.value+yn(`${ze.code}-${ge}-trend-${ie}`,-2.8,2.8)).toFixed(1))})):Ye.trend:[],[Ye,ze?.code,ge]);g.useEffect(()=>{de==="sido"&&console.assert(xt.childrenType==="sigungu","[Top5] expected childrenType=sigungu when level=sido",{childrenType:xt.childrenType})},[de,xt.childrenType]),g.useEffect(()=>{lr.length&&LTe({top5:lr,childrenCodes:xt.childrenCodes,parentRegionCode:ce?.code})},[lr,xt.childrenCodes,ce?.code]),g.useEffect(()=>{A.type==="none"&&ot.length&&lt(I)},[A.type,ot.length,lt,I]);const Lt=g.useMemo(()=>{const W=o==="week"?1:o==="month"?4.2:o==="year"?52:13,ie=`${or}-${o}`,Re=Ue.map(Zt=>({name:Zt.name,size:Math.round(yn(`${ie}-tree-${Zt.id}`,250,3500)*W)})),Je=Math.max(...Re.map(Zt=>Zt.size)),We=Math.min(...Re.map(Zt=>Zt.size)),Ke=se.palette,$t=Zt=>{const wr=(Zt-We)/(Je-We||1);return wr<.14?Ke[0]:wr<.28?Ke[1]:wr<.42?Ke[2]:wr<.57?Ke[3]:wr<.71?Ke[4]:wr<.85?Ke[5]:Ke[6]};return Re.map(Zt=>({...Zt,fill:$t(Zt.size)}))},[or,o,se.palette,Ue]),vr=g.useMemo(()=>Lt.reduce((W,ie)=>W+ie.size,0),[Lt]),qa=o==="week"?"":o==="month"?"":o==="year"?"()":"",Ca=g.useMemo(()=>t8.find(W=>W.id===U)??t8[0],[U]),Tr=g.useMemo(()=>{const ie={total_cases:{min:300,max:2200},completion:{min:60,max:98},consultation_time:{min:1,max:15},followup_dropout:{min:2,max:20},dropout:{min:3,max:25}}[U]??{min:10,max:100},Re=`${or}-${U}-heat`,Je=Ue.map(cr=>({name:cr.name,value:yn(`${Re}-${cr.id}`,ie.min,ie.max)})),We=Math.max(...Je.map(cr=>cr.value)),Ke=Math.min(...Je.map(cr=>cr.value)),$t=se.palette,Zt=cr=>{const Br=(cr-Ke)/(We-Ke||1);return Br<.14?$t[0]:Br<.28?$t[1]:Br<.42?$t[2]:Br<.57?$t[3]:Br<.71?$t[4]:Br<.85?$t[5]:$t[6]},wr=new Set([$t[0],$t[1]]);return Je.map(cr=>{const Br=Zt(cr.value);return{name:cr.name,size:Math.round(cr.value),fill:Br,textColor:wr.has(Br)?"#1e293b":"#ffffff"}})},[or,U,se.palette,Ue]),io=g.useMemo(()=>({slaCut:o8(void 0,Yr.matrixThresholds.slaCut),dataCut:o8(void 0,Yr.matrixThresholds.dataCut)}),[Yr.matrixThresholds.dataCut,Yr.matrixThresholds.slaCut]),Ir=io.slaCut,Rr=io.dataCut,_s={:[{id:"11010",name:""},{id:"11020",name:""},{id:"11030",name:""},{id:"11040",name:""},{id:"11050",name:""},{id:"11060",name:""},{id:"11070",name:""},{id:"11080",name:""},{id:"11090",name:""},{id:"11100",name:""},{id:"11110",name:""},{id:"11120",name:""},{id:"11130",name:""},{id:"11140",name:""},{id:"11150",name:""},{id:"11160",name:""},{id:"11170",name:""},{id:"11180",name:""},{id:"11190",name:""},{id:"11200",name:""},{id:"11210",name:""},{id:"11220",name:""},{id:"11230",name:""},{id:"11240",name:""},{id:"11250",name:""}],:[{id:"21010",name:""},{id:"21020",name:""},{id:"21030",name:""},{id:"21040",name:""},{id:"21050",name:""},{id:"21060",name:""},{id:"21070",name:""},{id:"21080",name:""},{id:"21090",name:""},{id:"21100",name:""},{id:"21110",name:""},{id:"21120",name:""},{id:"21130",name:""},{id:"21140",name:""},{id:"21150",name:""},{id:"21310",name:""}],:[{id:"22010",name:""},{id:"22020",name:""},{id:"22030",name:""},{id:"22040",name:""},{id:"22050",name:""},{id:"22060",name:""},{id:"22070",name:""},{id:"22310",name:""}],:[{id:"23010",name:""},{id:"23020",name:""},{id:"23030",name:""},{id:"23040",name:""},{id:"23050",name:""},{id:"23060",name:""},{id:"23070",name:""},{id:"23080",name:""},{id:"23310",name:""},{id:"23320",name:""}],:[{id:"24010",name:""},{id:"24020",name:""},{id:"24030",name:""},{id:"24040",name:""},{id:"24050",name:""}],:[{id:"25010",name:""},{id:"25020",name:""},{id:"25030",name:""},{id:"25040",name:""},{id:"25050",name:""}],:[{id:"26010",name:""},{id:"26020",name:""},{id:"26030",name:""},{id:"26040",name:""},{id:"26310",name:""}],:[{id:"29010",name:""}],:[{id:"31011",name:""},{id:"31021",name:""},{id:"31030",name:""},{id:"31041",name:""},{id:"31050",name:""},{id:"31060",name:""},{id:"31070",name:""},{id:"31080",name:""},{id:"31091",name:""},{id:"31101",name:""},{id:"31110",name:""},{id:"31120",name:""},{id:"31130",name:""},{id:"31140",name:""},{id:"31150",name:""},{id:"31160",name:""},{id:"31170",name:""},{id:"31180",name:""},{id:"31191",name:""},{id:"31200",name:""},{id:"31210",name:""},{id:"31220",name:""},{id:"31230",name:""},{id:"31240",name:""},{id:"31250",name:""},{id:"31260",name:""},{id:"31270",name:""},{id:"31280",name:""},{id:"31350",name:""},{id:"31370",name:""},{id:"31380",name:""}],:[{id:"33041",name:""},{id:"33020",name:""},{id:"33030",name:""},{id:"33320",name:""},{id:"33330",name:""},{id:"33340",name:""},{id:"33390",name:""},{id:"33350",name:""},{id:"33360",name:""},{id:"33370",name:""},{id:"33380",name:""}],:[{id:"34011",name:""},{id:"34020",name:""},{id:"34030",name:""},{id:"34040",name:""},{id:"34050",name:""},{id:"34060",name:""},{id:"34070",name:""},{id:"34080",name:""},{id:"34310",name:""},{id:"34330",name:""},{id:"34340",name:""},{id:"34350",name:""},{id:"34360",name:""},{id:"34370",name:""},{id:"34380",name:""}],:[{id:"35011",name:""},{id:"35020",name:""},{id:"35030",name:""},{id:"35040",name:""},{id:"35050",name:""},{id:"35060",name:""},{id:"35310",name:""},{id:"35320",name:""},{id:"35330",name:""},{id:"35340",name:""},{id:"35350",name:""},{id:"35360",name:""},{id:"35370",name:""},{id:"35380",name:""}],:[{id:"36010",name:""},{id:"36020",name:""},{id:"36030",name:""},{id:"36040",name:""},{id:"36060",name:""},{id:"36310",name:""},{id:"36320",name:""},{id:"36330",name:""},{id:"36350",name:""},{id:"36360",name:""},{id:"36370",name:""},{id:"36380",name:""},{id:"36390",name:""},{id:"36400",name:""},{id:"36410",name:""},{id:"36420",name:""},{id:"36430",name:""},{id:"36440",name:""},{id:"36450",name:""},{id:"36460",name:""},{id:"36470",name:""},{id:"36480",name:""}],:[{id:"37011",name:""},{id:"37020",name:""},{id:"37030",name:""},{id:"37040",name:""},{id:"37050",name:""},{id:"37060",name:""},{id:"37070",name:""},{id:"37080",name:""},{id:"37090",name:""},{id:"37100",name:""},{id:"37310",name:""},{id:"37320",name:""},{id:"37330",name:""},{id:"37340",name:""},{id:"37350",name:""},{id:"37360",name:""},{id:"37370",name:""},{id:"37380",name:""},{id:"37390",name:""},{id:"37400",name:""},{id:"37410",name:""},{id:"37420",name:""},{id:"37430",name:""}],:[{id:"38111",name:""},{id:"38030",name:""},{id:"38050",name:""},{id:"38060",name:""},{id:"38070",name:""},{id:"38080",name:""},{id:"38090",name:""},{id:"38100",name:""},{id:"38310",name:""},{id:"38320",name:""},{id:"38330",name:""},{id:"38340",name:""},{id:"38350",name:""},{id:"38360",name:""},{id:"38370",name:""},{id:"38380",name:""},{id:"38390",name:""},{id:"38400",name:""}],:[{id:"39010",name:""},{id:"39020",name:""}],:[{id:"32010",name:""},{id:"32020",name:""},{id:"32030",name:""},{id:"32040",name:""},{id:"32050",name:""},{id:"32060",name:""},{id:"32070",name:""},{id:"32310",name:""},{id:"32320",name:""},{id:"32330",name:""},{id:"32340",name:""},{id:"32350",name:""},{id:"32360",name:""},{id:"32370",name:""},{id:"32380",name:""},{id:"32390",name:""},{id:"32400",name:""},{id:"32410",name:""}]},ut={11010:[{id:"1111051",name:""},{id:"1111053",name:""},{id:"1111055",name:""},{id:"1111057",name:""},{id:"1111060",name:""},{id:"1111064",name:""},{id:"1111068",name:""},{id:"1111070",name:""}],11020:[{id:"1114051",name:""},{id:"1114053",name:""},{id:"1114055",name:""},{id:"1114057",name:""},{id:"1114060",name:""},{id:"1114062",name:""},{id:"1114065",name:""},{id:"1114067",name:""}],11030:[{id:"1117051",name:""},{id:"1117053",name:"2"},{id:"1117055",name:""},{id:"1117057",name:""},{id:"1117060",name:"1"},{id:"1117062",name:"2"},{id:"1117065",name:"1"},{id:"1117067",name:"2"},{id:"1117070",name:""},{id:"1117072",name:""}],11040:[{id:"1120051",name:"2"},{id:"1120053",name:""},{id:"1120055",name:""},{id:"1120057",name:""},{id:"1120060",name:"1"},{id:"1120062",name:"2"},{id:"1120065",name:""},{id:"1120067",name:"1"},{id:"1120070",name:""},{id:"1120072",name:"11"},{id:"1120074",name:"12"},{id:"1120076",name:"21"},{id:"1120078",name:"23"},{id:"1120080",name:""}],11140:[{id:"1144051",name:""},{id:"1144053",name:""},{id:"1144055",name:""},{id:"1144057",name:""},{id:"1144060",name:""},{id:"1144062",name:""},{id:"1144065",name:""},{id:"1144067",name:"1"},{id:"1144070",name:"2"},{id:"1144072",name:""},{id:"1144074",name:"1"},{id:"1144076",name:"2"},{id:"1144078",name:""}],11190:[{id:"1156051",name:""},{id:"1156053",name:"1"},{id:"1156055",name:"2"},{id:"1156057",name:""},{id:"1156060",name:""},{id:"1156062",name:""},{id:"1156065",name:""},{id:"1156067",name:"1"},{id:"1156070",name:"3"},{id:"1156072",name:"4"},{id:"1156074",name:"5"},{id:"1156076",name:"1"},{id:"1156078",name:"2"},{id:"1156080",name:"3"}],11220:[{id:"1165051",name:"1"},{id:"1165053",name:"2"},{id:"1165055",name:"3"},{id:"1165057",name:"4"},{id:"1165060",name:""},{id:"1165062",name:"1"},{id:"1165065",name:"2"},{id:"1165067",name:"3"},{id:"1165070",name:"4"},{id:"1165072",name:""},{id:"1165074",name:"1"},{id:"1165076",name:"2"},{id:"1165078",name:"3"},{id:"1165080",name:"4"},{id:"1165082",name:""}],11230:[{id:"1168051",name:""},{id:"1168053",name:"1"},{id:"1168055",name:"2"},{id:"1168057",name:""},{id:"1168060",name:""},{id:"1168062",name:"1"},{id:"1168064",name:"2"},{id:"1168066",name:"1"},{id:"1168068",name:"2"},{id:"1168070",name:"4"},{id:"1168072",name:"1"},{id:"1168074",name:"2"},{id:"1168076",name:"1"},{id:"1168078",name:"2"},{id:"1168080",name:"1"},{id:"1168082",name:"4"},{id:"1168084",name:""},{id:"1168086",name:"1"},{id:"1168088",name:""},{id:"1168090",name:""}],11240:[{id:"1171051",name:""},{id:"1171053",name:"2"},{id:"1171055",name:"3"},{id:"1171057",name:"4"},{id:"1171060",name:"6"},{id:"1171062",name:"7"},{id:"1171064",name:"1"},{id:"1171066",name:"2"},{id:"1171068",name:""},{id:"1171070",name:"1"},{id:"1171072",name:"2"},{id:"1171074",name:"1"},{id:"1171076",name:"2"},{id:"1171078",name:"1"},{id:"1171080",name:"2"},{id:"1171082",name:"1"},{id:"1171084",name:"2"},{id:"1171086",name:""},{id:"1171088",name:"1"},{id:"1171090",name:"2"},{id:"1171092",name:""},{id:"1171094",name:""}],11250:[{id:"1174051",name:""},{id:"1174053",name:"1"},{id:"1174055",name:"2"},{id:"1174057",name:"1"},{id:"1174060",name:"2"},{id:"1174062",name:"1"},{id:"1174064",name:"2"},{id:"1174066",name:"1"},{id:"1174068",name:"2"},{id:"1174070",name:"3"},{id:"1174072",name:"1"},{id:"1174074",name:"2"},{id:"1174076",name:"3"},{id:"1174078",name:"1"},{id:"1174080",name:"2"},{id:"1174082",name:"3"},{id:"1174084",name:"1"},{id:"1174086",name:"2"}],21010:[{id:"2611051",name:""},{id:"2611053",name:""},{id:"2611055",name:""},{id:"2611057",name:""},{id:"2611060",name:""},{id:"2611062",name:""},{id:"2611064",name:""},{id:"2611066",name:""}],21050:[{id:"2623051",name:"1"},{id:"2623053",name:"2"},{id:"2623055",name:""},{id:"2623057",name:""},{id:"2623060",name:"1"},{id:"2623062",name:"2"},{id:"2623064",name:"1"},{id:"2623066",name:"2"},{id:"2623068",name:"1"},{id:"2623070",name:"3"},{id:"2623072",name:"1"},{id:"2623074",name:"4"},{id:"2623076",name:"1"},{id:"2623078",name:"2"},{id:"2623080",name:"1"},{id:"2623082",name:"2"},{id:"2623084",name:"3"},{id:"2623086",name:"1"},{id:"2623088",name:"2"}],21090:[{id:"2635051",name:"1"},{id:"2635053",name:"2"},{id:"2635055",name:"3"},{id:"2635057",name:"1"},{id:"2635060",name:"2"},{id:"2635062",name:"1"},{id:"2635064",name:"2"},{id:"2635066",name:"3"},{id:"2635068",name:"4"},{id:"2635070",name:""},{id:"2635072",name:"1"},{id:"2635074",name:"2"},{id:"2635076",name:"3"},{id:"2635078",name:"4"},{id:"2635080",name:"1"},{id:"2635082",name:"2"},{id:"2635084",name:"1"},{id:"2635086",name:"2"}],22010:[{id:"2711051",name:""},{id:"2711053",name:""},{id:"2711055",name:"1"},{id:"2711057",name:"2"},{id:"2711060",name:"3"},{id:"2711062",name:""},{id:"2711064",name:"1"},{id:"2711066",name:"2"},{id:"2711068",name:"3"},{id:"2711070",name:"4"},{id:"2711072",name:"1"},{id:"2711074",name:"2"}],22060:[{id:"2726051",name:"1"},{id:"2726053",name:"2"},{id:"2726055",name:"3"},{id:"2726057",name:"4"},{id:"2726060",name:"1"},{id:"2726062",name:"2"},{id:"2726064",name:"3"},{id:"2726066",name:"1"},{id:"2726068",name:"23"},{id:"2726070",name:"4"},{id:"2726072",name:"1"},{id:"2726074",name:"2"},{id:"2726076",name:""},{id:"2726078",name:""},{id:"2726080",name:""},{id:"2726082",name:""},{id:"2726084",name:""},{id:"2726086",name:"1"},{id:"2726088",name:"2"},{id:"2726090",name:"1"},{id:"2726092",name:"2"},{id:"2726094",name:"3"}],23040:[{id:"2818551",name:"1"},{id:"2818553",name:"2"},{id:"2818555",name:""},{id:"2818557",name:"1"},{id:"2818560",name:"2"},{id:"2818562",name:"3"},{id:"2818564",name:""},{id:"2818566",name:"1"},{id:"2818568",name:"2"},{id:"2818570",name:"3"},{id:"2818572",name:"1"},{id:"2818574",name:"2"},{id:"2818576",name:"3"}],23050:[{id:"2820051",name:"1"},{id:"2820053",name:"2"},{id:"2820055",name:"3"},{id:"2820057",name:"4"},{id:"2820060",name:"1"},{id:"2820062",name:"2"},{id:"2820064",name:"3"},{id:"2820066",name:"4"},{id:"2820068",name:"1"},{id:"2820070",name:"2"},{id:"2820072",name:"3"},{id:"2820074",name:"4"},{id:"2820076",name:"5"},{id:"2820078",name:"6"},{id:"2820080",name:""},{id:"2820082",name:"2"},{id:"2820084",name:""},{id:"2820086",name:"1"},{id:"2820088",name:"2"},{id:"2820090",name:""},{id:"2820092",name:"1"}],24010:[{id:"2911051",name:""},{id:"2911053",name:""},{id:"2911055",name:"1"},{id:"2911057",name:"2"},{id:"2911060",name:"1"},{id:"2911062",name:"2"},{id:"2911064",name:"1"},{id:"2911066",name:"2"},{id:"2911068",name:""},{id:"2911070",name:""}],24020:[{id:"2914051",name:""},{id:"2914053",name:"1"},{id:"2914055",name:"2"},{id:"2914057",name:""},{id:"2914060",name:""},{id:"2914062",name:""},{id:"2914064",name:"1"},{id:"2914066",name:"2"},{id:"2914068",name:"1"},{id:"2914070",name:"2"},{id:"2914072",name:""},{id:"2914074",name:"1"},{id:"2914076",name:"2"},{id:"2914078",name:""},{id:"2914080",name:""}],25030:[{id:"3017051",name:""},{id:"3017053",name:"1"},{id:"3017055",name:"2"},{id:"3017057",name:""},{id:"3017060",name:""},{id:"3017062",name:""},{id:"3017064",name:""},{id:"3017066",name:"1"},{id:"3017068",name:"2"},{id:"3017070",name:"3"},{id:"3017072",name:""},{id:"3017074",name:"1"},{id:"3017076",name:"2"},{id:"3017078",name:"1"},{id:"3017080",name:"2"},{id:"3017082",name:"3"},{id:"3017084",name:""},{id:"3017086",name:""},{id:"3017088",name:""},{id:"3017090",name:"1"},{id:"3017092",name:"2"}],25040:[{id:"3020051",name:""},{id:"3020053",name:""},{id:"3020055",name:"1"},{id:"3020057",name:"2"},{id:"3020060",name:"1"},{id:"3020062",name:"2"},{id:"3020064",name:"3"},{id:"3020066",name:""},{id:"3020068",name:""},{id:"3020070",name:""},{id:"3020072",name:""},{id:"3020074",name:""}],26010:[{id:"3111051",name:""},{id:"3111053",name:""},{id:"3111055",name:""},{id:"3111057",name:""},{id:"3111060",name:"1"},{id:"3111062",name:"2"},{id:"3111064",name:""},{id:"3111066",name:""},{id:"3111068",name:""},{id:"3111070",name:""},{id:"3111072",name:"1"},{id:"3111074",name:"2"},{id:"3111076",name:"3"},{id:"3111078",name:"4"},{id:"3111080",name:"5"}],26020:[{id:"3114051",name:""},{id:"3114053",name:""},{id:"3114055",name:""},{id:"3114057",name:""},{id:"3114060",name:""},{id:"3114062",name:""},{id:"3114064",name:""},{id:"3114066",name:""}],29010:[{id:"3611051",name:""},{id:"3611053",name:""},{id:"3611055",name:""},{id:"3611057",name:""},{id:"3611060",name:""},{id:"3611062",name:""},{id:"3611064",name:""},{id:"3611066",name:""},{id:"3611068",name:""},{id:"3611070",name:""},{id:"3611072",name:""},{id:"3611074",name:""},{id:"3611076",name:""},{id:"3611078",name:""},{id:"3611080",name:""},{id:"3611082",name:""}],31011:[{id:"4111051",name:""},{id:"4111053",name:""},{id:"4111055",name:""},{id:"4111057",name:""}],31021:[{id:"4113051",name:""},{id:"4113053",name:""},{id:"4113055",name:""}],31101:[{id:"4128051",name:""},{id:"4128053",name:""},{id:"4128055",name:""}],31191:[{id:"4146051",name:""},{id:"4146053",name:""},{id:"4146055",name:""}],33041:[{id:"4311051",name:""},{id:"4311053",name:""},{id:"4311055",name:""},{id:"4311057",name:""}],33020:[{id:"4313051",name:""},{id:"4313053",name:""},{id:"4313055",name:""},{id:"4313057",name:""},{id:"4313060",name:""},{id:"4313062",name:""},{id:"4313064",name:""},{id:"4313066",name:""},{id:"4313068",name:""},{id:"4313070",name:""},{id:"4313072",name:""},{id:"4313074",name:""},{id:"4313076",name:""},{id:"4313078",name:""}],33030:[{id:"4315051",name:""},{id:"4315053",name:""},{id:"4315055",name:""},{id:"4315057",name:""},{id:"4315060",name:""},{id:"4315062",name:""},{id:"4315064",name:""},{id:"4315066",name:""},{id:"4315068",name:""},{id:"4315070",name:""},{id:"4315072",name:""},{id:"4315074",name:""}],34011:[{id:"4413051",name:""},{id:"4413053",name:""}],34040:[{id:"4420051",name:"1"},{id:"4420053",name:"2"},{id:"4420055",name:"3"},{id:"4420057",name:"4"},{id:"4420060",name:"5"},{id:"4420062",name:"6"},{id:"4420064",name:""},{id:"4420066",name:""},{id:"4420068",name:""},{id:"4420070",name:""},{id:"4420072",name:""},{id:"4420074",name:""},{id:"4420076",name:""},{id:"4420078",name:""},{id:"4420080",name:""},{id:"4420082",name:""}],35011:[{id:"4511051",name:""},{id:"4511053",name:""}],35020:[{id:"4513051",name:""},{id:"4513053",name:""},{id:"4513055",name:""},{id:"4513057",name:"1"},{id:"4513060",name:"2"},{id:"4513062",name:""},{id:"4513064",name:""},{id:"4513066",name:""},{id:"4513068",name:""},{id:"4513070",name:""},{id:"4513072",name:""},{id:"4513074",name:""},{id:"4513076",name:""},{id:"4513078",name:""},{id:"4513080",name:""},{id:"4513082",name:""},{id:"4513084",name:""}],36010:[{id:"4611051",name:"1"},{id:"4611053",name:"2"},{id:"4611055",name:""},{id:"4611057",name:""},{id:"4611060",name:""},{id:"4611062",name:""},{id:"4611064",name:""},{id:"4611066",name:""},{id:"4611068",name:""},{id:"4611070",name:""},{id:"4611072",name:""},{id:"4611074",name:""},{id:"4611076",name:""},{id:"4611078",name:""},{id:"4611080",name:""},{id:"4611082",name:""}],36020:[{id:"4613051",name:""},{id:"4613053",name:""},{id:"4613055",name:""},{id:"4613057",name:""},{id:"4613060",name:""},{id:"4613062",name:""},{id:"4613064",name:""},{id:"4613066",name:""},{id:"4613068",name:""},{id:"4613070",name:""},{id:"4613072",name:""},{id:"4613074",name:""},{id:"4613076",name:""},{id:"4613078",name:""},{id:"4613080",name:""},{id:"4613082",name:""}],37011:[{id:"4711151",name:""},{id:"4711153",name:""},{id:"4711155",name:""},{id:"4711157",name:""},{id:"4711160",name:""},{id:"4711162",name:""},{id:"4711164",name:""},{id:"4711166",name:""}],37020:[{id:"4713051",name:""},{id:"4713053",name:""},{id:"4713055",name:""},{id:"4713057",name:""},{id:"4713060",name:""},{id:"4713062",name:""},{id:"4713064",name:""},{id:"4713066",name:""},{id:"4713068",name:""},{id:"4713070",name:""},{id:"4713072",name:""},{id:"4713074",name:""},{id:"4713076",name:""},{id:"4713078",name:""},{id:"4713080",name:""}],38111:[{id:"4812151",name:""},{id:"4812153",name:""},{id:"4812155",name:""},{id:"4812157",name:""},{id:"4812160",name:""}],38070:[{id:"4825051",name:""},{id:"4825053",name:""},{id:"4825055",name:""},{id:"4825057",name:""},{id:"4825060",name:""},{id:"4825062",name:""},{id:"4825064",name:""},{id:"4825066",name:""},{id:"4825068",name:"1"},{id:"4825070",name:"2"},{id:"4825072",name:"3"},{id:"4825074",name:""},{id:"4825076",name:""},{id:"4825078",name:""},{id:"4825080",name:""},{id:"4825082",name:""},{id:"4825084",name:""}],39010:[{id:"5011051",name:"1"},{id:"5011053",name:"2"},{id:"5011055",name:"1"},{id:"5011057",name:"2"},{id:"5011060",name:"1"},{id:"5011062",name:"2"},{id:"5011064",name:"1"},{id:"5011066",name:"2"},{id:"5011068",name:""},{id:"5011070",name:""},{id:"5011072",name:""},{id:"5011074",name:""},{id:"5011076",name:""},{id:"5011078",name:""},{id:"5011080",name:""},{id:"5011082",name:""},{id:"5011084",name:""},{id:"5011086",name:""},{id:"5011088",name:""},{id:"5011090",name:""},{id:"5011092",name:""},{id:"5011094",name:""},{id:"5011096",name:""},{id:"5011098",name:""},{id:"5011100",name:""}],39020:[{id:"5013051",name:""},{id:"5013053",name:""},{id:"5013055",name:""},{id:"5013057",name:""},{id:"5013060",name:""},{id:"5013062",name:""},{id:"5013064",name:""},{id:"5013066",name:""},{id:"5013068",name:""},{id:"5013070",name:""},{id:"5013072",name:""},{id:"5013074",name:""},{id:"5013076",name:""},{id:"5013078",name:""},{id:"5013080",name:""},{id:"5013082",name:""}],32010:[{id:"5111051",name:""},{id:"5111053",name:""},{id:"5111055",name:""},{id:"5111057",name:""},{id:"5111060",name:""},{id:"5111062",name:"1"},{id:"5111064",name:"2"},{id:"5111066",name:"3"},{id:"5111068",name:""},{id:"5111070",name:""},{id:"5111072",name:""},{id:"5111074",name:""},{id:"5111076",name:""},{id:"5111078",name:""},{id:"5111080",name:""},{id:"5111082",name:""},{id:"5111084",name:""},{id:"5111086",name:""},{id:"5111088",name:""}],32020:[{id:"5113051",name:""},{id:"5113053",name:""},{id:"5113055",name:""},{id:"5113057",name:"1"},{id:"5113060",name:"2"},{id:"5113062",name:""},{id:"5113064",name:""},{id:"5113066",name:""},{id:"5113068",name:""},{id:"5113070",name:""},{id:"5113072",name:"1"},{id:"5113074",name:"2"},{id:"5113076",name:""},{id:"5113078",name:""},{id:"5113080",name:""},{id:"5113082",name:""},{id:"5113084",name:""},{id:"5113086",name:""},{id:"5113088",name:""},{id:"5113090",name:""}],32030:[{id:"5115051",name:"1"},{id:"5115053",name:"2"},{id:"5115055",name:"1"},{id:"5115057",name:"2"},{id:"5115060",name:""},{id:"5115062",name:""},{id:"5115064",name:""},{id:"5115066",name:""},{id:"5115068",name:""},{id:"5115070",name:""},{id:"5115072",name:""},{id:"5115074",name:""},{id:"5115076",name:""},{id:"5115078",name:""},{id:"5115080",name:""},{id:"5115082",name:""}]},_r=g.useMemo(()=>{const W=[{id:"11",name:""},{id:"21",name:""},{id:"22",name:""},{id:"23",name:""},{id:"24",name:""},{id:"25",name:""},{id:"26",name:""},{id:"29",name:""},{id:"31",name:""},{id:"33",name:""},{id:"34",name:""},{id:"35",name:""},{id:"36",name:""},{id:"37",name:""},{id:"38",name:""},{id:"39",name:""},{id:"32",name:""}];let ie;if(de==="nation")ie=W;else if(B.length>0)ie=B;else if(de==="sido"){const Re={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Je=ce?.name||"",We=Re[Je]||Je.replace(/||||$/g,"").trim()||Je;ie=_s[We]||W}else{const Re=ce?.code||"00",Je=ut[Re];if(Je)ie=Je;else{const We=ce?.name||"";if(We.endsWith("")){const Ke=We.slice(0,-1);ie=[{id:`${Re}-E1`,name:`${Ke}`},{id:`${Re}-E2`,name:""},{id:`${Re}-E3`,name:""},{id:`${Re}-E4`,name:""},{id:`${Re}-E5`,name:""},{id:`${Re}-E6`,name:""},{id:`${Re}-E7`,name:""},{id:`${Re}-E8`,name:""},{id:`${Re}-E9`,name:""}]}else ie=[{id:`${Re}-E1`,name:""},{id:`${Re}-E2`,name:""},{id:`${Re}-E3`,name:""},{id:`${Re}-E4`,name:""},{id:`${Re}-E5`,name:""},{id:`${Re}-E6`,name:""},{id:`${Re}-E7`,name:""},{id:`${Re}-E8`,name:""}]}}return ie.map(Re=>{const Je=`${or}-${o}-risk-${Re.id}`,We=Number(yn(`${Je}-sla`,78,100).toFixed(1)),Ke=Number(yn(`${Je}-data`,75,100).toFixed(1)),$t=Math.round(yn(`${Je}-cases`,200,3e3));return{regionId:Re.id,regionName:Re.name,slaRate:We,dataRate:Ke,totalCases:$t}})},[or,o,de,ce,B]),Nn=["incoming","inProgress","needRecontact","slaBreach","completed"],Wr={incoming:"",inProgress:"",needRecontact:" ",slaBreach:"SLA ",completed:""},Ta={incoming:Jm.blue,inProgress:Jm.cyan,needRecontact:Jm.orange,slaBreach:Jm.red,completed:Jm.green},en=g.useMemo(()=>Ue.map(W=>{const ie=`${or}-${o}-stage-${W.id}`,Re=W.name.length>3?W.name.replace(/||||$/g,"").trim()||W.name.slice(0,2):W.name;return{regionName:Re.length>4?Re.slice(0,4):Re,incoming:Math.round(yn(`${ie}-inc`,50,300)),inProgress:Math.round(yn(`${ie}-inp`,100,500)),needRecontact:Math.round(yn(`${ie}-nrc`,20,150)),slaBreach:Math.round(yn(`${ie}-sla`,5,80)),completed:Math.round(yn(`${ie}-cmp`,200,800))}}),[or,o,Ue]),Wa=g.useMemo(()=>{const W=["20-39","40-59","60-69","70-79","80+"],ie=`${or}-${o}-agestat`;return W.map(Re=>{const Je=`${ie}-${Re}`;return{age:Re,normal:Math.round(yn(`${Je}-n`,120,450)),caution:Math.round(yn(`${Je}-c`,40,180)),highRisk:Math.round(yn(`${Je}-h`,15,90)),slaViolation:Math.round(yn(`${Je}-s`,5,40))}})},[or,o]),ka=W=>{const{x:ie,y:Re,width:Je,height:We,name:Ke,fill:$t,textColor:Zt}=W;if(!Ke||Je<25||We<18)return null;const wr=Ke.length>5?Ke.replace(/|||/g,"").trim()||Ke.slice(0,4):Ke,cr=Zt||"#fff";return a.jsxs("g",{children:[a.jsx("rect",{x:ie,y:Re,width:Je,height:We,fill:$t,stroke:"#fff",strokeWidth:1.5,rx:2,style:{filter:"brightness(1.0)",transition:"filter 0.2s"}}),Je>35&&We>25&&a.jsx("text",{x:ie+Je/2,y:Re+We/2,textAnchor:"middle",dominantBaseline:"middle",fill:cr,fontSize:Je>70?10:8,fontWeight:"600",style:{textShadow:cr==="#ffffff"?"0 1px 2px rgba(0,0,0,0.4)":"none"},children:wr})]})},Fn=g.useCallback(W=>W==="nation"?"sido":"sigungu",[]),ls=g.useCallback(({level:W,code:ie,name:Re})=>{const We={sig:"sido",emd:"sigungu"}[W];We&&(Qe({level:We,regionCode:ie,regionName:Re}),Dt({code:ie,name:Re,level:We},{replace:!0}))},[Qe,Dt]);g.useEffect(()=>{if(!Ye?.worstRegions?.length)return;const W=Fn(de);Ye.worstRegions.slice(0,3).forEach(ie=>{Qe({level:W,regionCode:ie.regionCode,regionName:ie.regionName})})},[Ye,de,Fn,Qe]);const Sn=g.useMemo(()=>Te.some(W=>W.partialPossible),[Te]),Va=g.useCallback((W,ie)=>{const Re=rt[W.id],Je=th[Re?.severity??"ok"],We=Re?.deltaPp??c8(W,ie.value);return[`: ${s8[W.id]}`,`: ${qTe[W.id]}`,` : ${Je}   (${i}) ${ie.value.toFixed(1)}${W.unit} (  ${So(We)})`,` : ${i8[W.id]}`,`/: ${W.target}${W.unit}    ${So(ie.delta7d)}`,`${WTe[W.id]}  ${ie.numerator.toLocaleString()} / ${ie.denominator.toLocaleString()}`]},[rt,i]),Ya=g.useCallback(W=>{const ie=vA[W.kpiKey];Y(ie),lt(ie)},[lt]),Ks=g.useMemo(()=>_r.reduce((W,ie)=>{const Re=rh(ie.slaRate,ie.dataRate,Ir,Rr);return W[Re]+=1,W},{good:0,dataRisk:0,slaRisk:0,dualRisk:0}),[_r,Ir,Rr]),Cs=g.useMemo(()=>{const W={good:[],dataRisk:[],slaRisk:[],dualRisk:[]};return _r.forEach(ie=>{const Re=rh(ie.slaRate,ie.dataRate,Ir,Rr);W[Re].push(ie)}),Object.keys(W).forEach(ie=>{W[ie].sort((Re,Je)=>Je.totalCases-Re.totalCases)}),W},[_r,Ir,Rr]),tn=g.useMemo(()=>VTe(Ks),[Ks]),qs=C??tn,Ws=g.useCallback(W=>Cs[W].slice(0,8).map(ie=>({regionName:ie.regionName,slaRate:ie.slaRate,dataRate:ie.dataRate,totalCases:ie.totalCases})),[Cs]),cn=g.useCallback((W,ie)=>{const Re=Ws(W);E({type:"matrix",quadrant:W,selectedRegionName:ie??Re[0]?.regionName??" ",items:Re})},[Ws]),dn=g.useCallback(W=>{const ie=C===W?null:W;O(ie),R(null),cn(ie??tn)},[C,tn,cn]),Vs=g.useCallback(W=>{if(!W?.regionId)return;const ie=rh(W.slaRate,W.dataRate,Ir,Rr);$e({code:W.regionId,name:W.regionName}),O(ie),R(null),cn(ie,W.regionName)},[Ir,Rr,cn]),Jt=g.useMemo(()=>C?Cs[C]:_r,[C,_r,Cs]),Ts=g.useMemo(()=>{const W=Math.min(96,Math.max(4,(Rr-70)/30*100)),ie=Math.min(96,Math.max(4,(1-(Ir-70)/30)*100));return{good:{left:(W+100)/2,top:ie/2},dataRisk:{left:W/2,top:ie/2},slaRisk:{left:(W+100)/2,top:(ie+100)/2},dualRisk:{left:W/2,top:(ie+100)/2}}},[Ir,Rr]);g.useEffect(()=>{!K.slaMatrix||_r.length===0||A.type!=="matrix"&&cn(qs)},[K.slaMatrix,_r.length,A.type,qs,cn]),g.useEffect(()=>{if(D===null)return;const W=Re=>{Re.target?.closest("[data-matrix-help-popover]")||R(null)},ie=Re=>{Re.key==="Escape"&&R(null)};return document.addEventListener("mousedown",W),document.addEventListener("keydown",ie),()=>{document.removeEventListener("mousedown",W),document.removeEventListener("keydown",ie)}},[D]);const Ys=g.useCallback(()=>{if(!Jt.length)return;const Re=["period,kpi,scope,quadrant,quadrantFilter,region,slaRate,dataRate,slaCut,dataCut,totalCases",...Jt.map(wr=>{const cr=rh(wr.slaRate,wr.dataRate,Ir,Rr);return[i,se.shortLabel,ce?.name??"",El[cr].label,C?El[C].label:"",wr.regionName,wr.slaRate.toFixed(1),wr.dataRate.toFixed(1),`${Ir.toFixed(1)}%`,`${Rr.toFixed(1)}%`,String(wr.totalCases)].join(",")})].join(`
`),Je=new Blob([`\uFEFF${Re}`],{type:"text/csv;charset=utf-8;"}),We=URL.createObjectURL(Je),Ke=document.createElement("a"),$t=(ce?.name??"").replace(/\s+/g,""),Zt=C?El[C].guideLabel:"all";Ke.href=We,Ke.download=`sla-data-matrix_${i}_${$t}_${Zt}.csv`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),URL.revokeObjectURL(We)},[Jt,i,se.shortLabel,ce?.name,Ir,Rr,C]),fr=Ee==="loadingScopeChange"||Ee==="refreshing";return a.jsxs("div",{ref:P,className:"flex flex-col bg-gray-50 h-full min-h-0",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-2 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto flex-1 min-w-0 pb-0.5",children:Ce.map(W=>{const ie=ot.find(We=>We.kpiId===W.id);if(!ie)return a.jsx("div",{className:"min-w-[196px] h-[124px] rounded-xl border border-gray-200 bg-gray-50 animate-pulse"},W.id);const Je=rt[W.id]?.severity??"ok";return a.jsx(e5e,{kpi:ie,def:W,isActive:I===W.id,onClick:()=>{Y(W.id),lt(W.id)},plainLine:s8[W.id],tooltipTitle:`${W.shortName}  ${th[Je]}`,tooltipLines:Va(W,ie),tooltipColor:bA[yA[W.id]].primaryColor,severityLabel:th[Je],severityClass:SA[Je]},W.id)})}),a.jsx("div",{className:"w-px h-10 bg-gray-200 shrink-0"}),a.jsxs("button",{onClick:()=>{const W=!ae;le(W),H({slaMatrix:W,stageDistribution:W}),v(ie=>({...ie,opsSummary:W,ageRisk:W,kpiTable:W}))},className:`px-3 py-1.5 text-[11px] font-medium rounded-md transition flex items-center gap-1.5 shrink-0 ${ae?"bg-violet-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(Rf,{className:"h-3.5 w-3.5"}),ae?" ":""]}),a.jsx("div",{className:"w-px h-8 bg-gray-200 shrink-0"}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[Ae.length>1&&a.jsxs("button",{onClick:ye,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 bg-blue-50 rounded hover:bg-blue-100 transition-colors",children:[a.jsx(Pf,{className:"h-3 w-3"}),a.jsx("span",{children:""})]}),a.jsx("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:Ae.map((W,ie)=>a.jsxs(q.Fragment,{children:[a.jsx("button",{onClick:()=>Ie(ie),className:`px-1.5 py-0.5 rounded transition-colors ${ie===Ae.length-1?"bg-blue-500 text-white font-medium":"hover:bg-gray-200 text-gray-600"}`,children:W.name}),ie<Ae.length-1&&a.jsx(Hs,{className:"h-3 w-3 text-gray-400"})]},`${W.level}-${W.code}`))}),Ae.length>1&&a.jsx("button",{onClick:Ct,className:"p-1 text-gray-500 hover:text-blue-600 hover:bg-gray-100 rounded transition-colors",title:" ",children:a.jsx(_p,{className:"h-3.5 w-3.5"})})]}),a.jsx("div",{className:"w-px h-8 bg-gray-200 shrink-0"}),a.jsxs("div",{className:"flex items-center gap-1 text-gray-500 shrink-0",children:[a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"",children:a.jsx(LA,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:" ",children:a.jsx(Rf,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"",children:a.jsx(yf,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"mt-2 border-t border-gray-100 pt-2",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[a.jsx("span",{className:"inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-700",children:"   "}),St.length>0?St.map(W=>{const ie=vA[W.kpiKey],Re=bA[W.kpiKey];return a.jsxs("button",{onClick:()=>Ya(W),className:"inline-flex items-center gap-1 rounded-md border border-slate-200 bg-white px-2 py-1 text-[11px] text-slate-700 hover:bg-slate-50",children:[a.jsx("span",{className:`inline-flex rounded-full border px-1.5 py-0.5 font-semibold ${SA[W.severity]}`,children:th[W.severity]}),a.jsx("span",{className:"font-semibold",children:Re.shortLabel}),a.jsxs("span",{className:"text-slate-500",children:["(  ",So(W.deltaPp),")"]}),I===ie&&a.jsx("span",{className:"text-blue-600",children:""})]},W.kpiKey)}):a.jsx("span",{className:"text-[11px] text-slate-500",children:"     ."}),Sn&&a.jsx("span",{className:"inline-flex items-center rounded-md border border-amber-200 bg-amber-50 px-2 py-1 text-[11px] font-medium text-amber-700",children:"  "})]})})]}),ae&&a.jsxs("div",{className:"bg-gradient-to-b from-slate-50 to-white border-b border-gray-200 px-4 py-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold text-gray-800",children:" "}),a.jsx("span",{className:"text-[11px] text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:i}),I&&a.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:`${se.primaryColor}15`,color:se.primaryColor},children:[se.shortLabel," "]})]}),a.jsx("button",{onClick:()=>le(!1),className:"text-[11px] text-gray-500 hover:text-gray-700 px-2 py-1 rounded hover:bg-gray-100",children:" "})]}),a.jsxs("div",{className:"overflow-y-auto pr-1",style:{height:`${he}px`},children:[a.jsx(t5e,{stages:Ft}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 mt-3",children:[a.jsx(r5e,{metrics:hr}),a.jsx(n5e,{metrics:at}),a.jsx(a5e,{rows:br})]})]}),Vt!=="mobile"&&a.jsx("button",{type:"button",onMouseDown:Rt,onDoubleClick:mr,"aria-label":"   ",title:"  ,   ",className:`mt-2 flex w-full cursor-ns-resize items-center justify-center rounded-md border py-1 transition-colors ${ne?"border-blue-300 bg-blue-50/70":"border-gray-200 bg-white/70 hover:bg-gray-50"}`,children:a.jsx("span",{className:`h-1.5 w-16 rounded-full ${ne?"bg-blue-400":"bg-gray-300"}`})})]}),a.jsxs("div",{className:"relative flex-1 overflow-y-auto min-h-0",children:[a.jsx("div",{className:`transition-opacity duration-300 ${fr?"opacity-60":"opacity-100"}`,children:a.jsxs("div",{className:`p-2 gap-2 ${Vt==="desktop"?"grid":"flex flex-col"}`,style:Vt==="desktop"?{gridTemplateColumns:"1.2fr 2.2fr 2.6fr",minHeight:"calc(100vh - 140px)",alignItems:"stretch"}:void 0,children:[a.jsxs("div",{className:`flex flex-col gap-2 ${Vt==="desktop"?"min-w-0":Vt==="tablet"?"hidden":"w-full shrink-0"}`,children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-1.5 text-center",children:[a.jsxs("span",{className:"text-[11px] text-blue-700 font-medium",children:[gA(de)," "]}),ce&&a.jsxs("span",{className:"ml-1.5 text-[11px] text-blue-600",children:["(",ce.name,")"]})]}),a.jsxs("div",{className:"bg-slate-50/70 border border-slate-200 rounded-lg p-3 shadow-[inset_0_1px_0_rgba(255,255,255,0.7)]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:" KPI "}),a.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:`${se.primaryColor}15`,color:se.primaryColor},children:se.shortLabel})]}),Ye?(()=>{const{national:W,worstRegions:ie,bestRegions:Re}=Ye,Je=Ar?.value??W.value,We=Ar?`${(ze?.name||Ar.regionName).replace(/|||/g,"").trim()} `:de==="nation"?" ":`${ce?.name?.replace(/|||/g,"").trim()||""} `,Ke=se.higherIsWorse?W.deltaPP<=0?"text-green-600":"text-red-600":W.deltaPP>=0?"text-green-600":"text-red-600";return a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[12px] text-gray-500",children:We}),a.jsx("span",{className:"text-sm font-bold",style:{color:se.primaryColor},children:a.jsx(cq,{value:Je,formatter:$t=>se.valueFormatter($t)})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[12px] text-gray-500",children:" "}),a.jsxs("span",{className:`text-sm font-bold ${Ke}`,children:[W.deltaPP>0?"+":"",W.deltaPP,"pp"]})]}),W.target!=null&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[12px] text-gray-500",children:""}),a.jsx("span",{className:"text-xs font-semibold text-gray-600",children:se.valueFormatter(W.target)})]}),Re[0]&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[12px] text-gray-500",children:[" (",Re[0].regionName.replace(/|||/g,"").trim(),")"]}),a.jsx("span",{className:"text-xs font-semibold text-green-600",children:se.valueFormatter(Re[0].value)})]}),ie[0]&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[12px] text-gray-500",children:[" (",ie[0].regionName.replace(/|||/g,"").trim(),")"]}),a.jsx("span",{className:"text-xs font-semibold text-red-600",children:se.valueFormatter(ie[0].value)})]})]})})():a.jsx("div",{className:"h-24 flex items-center justify-center text-xs text-gray-400 animate-pulse",children:" "})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[se.legend.direction==="higherWorse"?"":""," Top 5"]}),a.jsx("span",{className:"text-[11px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:`${se.primaryColor}15`,color:se.primaryColor},children:se.shortLabel})]}),a.jsx("p",{className:"text-[10px] text-gray-500 mb-1",children:" :         "}),a.jsxs("div",{className:"space-y-0.5",children:[(()=>{if(!lr.length)return null;const W=lr.map(We=>We.gapAbs),ie=Math.min(...W),Je=Math.max(...W)-ie||1;return lr.map((We,Ke)=>a.jsxs("div",{role:"button",tabIndex:0,onMouseEnter:()=>{Qe({level:Fn(de),regionCode:We.code,regionName:We.name})},onClick:()=>{zs(We)},onKeyDown:$t=>{($t.key==="Enter"||$t.key===" ")&&($t.preventDefault(),zs(We))},className:`w-full flex items-center gap-2 px-2 py-1.5 rounded transition-colors cursor-pointer select-none ${ze?.code===We.code?"bg-blue-50 ring-1 ring-blue-200":"hover:bg-gray-50"} ${Be?"animate-pulse":""}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full flex items-center justify-center text-[11px] font-bold text-white shrink-0",style:{backgroundColor:Ke===0?se.primaryColor:Ke===1?`${se.primaryColor}cc`:`${se.primaryColor}88`},children:We.rank}),a.jsx("div",{className:"min-w-[54px] shrink-0",children:a.jsx("span",{className:"text-[12px] text-gray-800 truncate block",children:We.name.replace(/|||/g,"").trim()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-[6px] bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Math.max(10,(We.gapAbs-ie)/Je*100)}%`,backgroundColor:se.primaryColor,opacity:.55+.35*(1-Ke/5)}})}),a.jsxs("div",{className:"mt-0.5 text-[10px] text-gray-500 tabular-nums",children:[" ",So(We.targetGapPp),"   ",So(We.weeklyDeltaPp)]})]}),a.jsx("span",{className:"text-[12px] font-bold tabular-nums text-right min-w-[58px] shrink-0",style:{color:se.primaryColor},children:se.valueFormatter(We.value)})]},We.code))})(),Ye&&lr.length===0&&a.jsx("div",{className:"text-xs text-gray-400 text-center py-4",children:"   ."}),!Ye&&a.jsx("div",{className:"text-xs text-gray-400 text-center py-4 animate-pulse",children:" "})]})]}),a.jsx(eh,{title:" ",isOpen:b.opsSummary,onToggle:()=>N("opsSummary"),summary:`${Kd.filter(W=>W.status==="deployed").length} `,children:a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("button",{onClick:()=>e?.("model-governance",{}),className:"w-full flex items-center gap-2 p-2 rounded-md hover:bg-blue-50 transition-colors text-left",children:[a.jsx(zy,{className:"h-4 w-4 text-blue-500 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-900",children:"  "}),a.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[Kd.filter(W=>W.status==="deployed").length,"   ",Kd.filter(W=>W.status==="pending").length," "]})]}),a.jsx(sa,{className:"h-3 w-3 text-gray-400 shrink-0"})]}),a.jsxs("button",{onClick:()=>e?.("compliance-audit",{}),className:"w-full flex items-center gap-2 p-2 rounded-md hover:bg-orange-50 transition-colors text-left",children:[a.jsx(Yi,{className:"h-4 w-4 text-orange-500 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-900",children:"  "}),a.jsx("div",{className:"text-[11px] text-gray-500",children:" 0   4/4 "})]}),a.jsx(sa,{className:"h-3 w-3 text-gray-400 shrink-0"})]}),a.jsxs("button",{onClick:()=>e?.("quality-monitoring",{}),className:"w-full flex items-center gap-2 p-2 rounded-md hover:bg-purple-50 transition-colors text-left",children:[a.jsx(ql,{className:"h-4 w-4 text-purple-500 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[12px] font-medium text-gray-900",children:" &  "}),a.jsxs("div",{className:"text-[11px] text-gray-500",children:[" ",xA.filter(W=>W.severity!=="info").length,"",xA.filter(W=>W.severity==="critical").length>0&&a.jsxs("span",{className:"ml-1 text-red-600 font-medium",children:["  ",xA.filter(W=>W.severity==="critical").length,""]})]})]}),a.jsx(sa,{className:"h-3 w-3 text-gray-400 shrink-0"})]})]})}),a.jsx(eh,{title:" / ",isOpen:b.ageRisk,onToggle:()=>N("ageRisk"),summary:"5  2",children:a.jsx("div",{style:{height:"190px"},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(zd,{data:Wa.map(W=>{const ie=W.normal+W.caution+W.highRisk+W.slaViolation;return{age:W.age,slaViolation:ie>0?Number((W.slaViolation/ie*100).toFixed(1)):0,recontactNeed:ie>0?Number(((W.highRisk+W.caution)/ie*100).toFixed(1)):0}}),margin:{top:8,right:6,left:6,bottom:4},children:[a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx($n,{dataKey:"age",tick:{fontSize:14,fill:"#4b5563"},tickLine:!1}),a.jsx(_n,{tick:{fontSize:13,fill:"#6b7280"},tickLine:!1,axisLine:!1,width:44,tickFormatter:W=>`${W}%`}),a.jsx(qr,{content:({active:W,payload:ie,label:Re})=>!W||!ie?.length?null:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 shadow-lg text-xs",children:[a.jsxs("div",{className:"font-semibold text-gray-800 mb-1",children:[Re,""]}),ie.map((Je,We)=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Je.color}}),a.jsxs("span",{children:[Je.dataKey==="slaViolation"?"SLA ":" ",": ",Number(Je.value).toFixed(1),"%"]})]},We))]})}),a.jsx(Ho,{formatter:W=>W==="slaViolation"?"SLA ":" ",wrapperStyle:{fontSize:"13px"}}),a.jsx(Aa,{dataKey:"slaViolation",fill:"#ef4444",radius:[3,3,0,0],isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out"}),a.jsx(Aa,{dataKey:"recontactNeed",fill:"#f59e0b",radius:[3,3,0,0],isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out"})]})})})}),a.jsx(eh,{title:"KPI  ",isOpen:b.kpiTable,onToggle:()=>N("kpiTable"),summary:`${jr.length} `,children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-[12px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"px-1.5 py-1 text-left font-medium text-gray-600",children:"KPI"}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""}),a.jsx("th",{className:"px-1.5 py-1 text-right font-medium text-gray-600",children:""})]})}),a.jsx("tbody",{children:jr.map(W=>{const ie=Or[W.id];return ie?a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50/30",children:[a.jsx("td",{className:"px-1.5 py-1 truncate max-w-[80px]",children:W.name}),a.jsxs("td",{className:"px-1.5 py-1 text-right whitespace-nowrap",children:[ie.current,ie.unit]}),a.jsxs("td",{className:"px-1.5 py-1 text-right text-red-600 whitespace-nowrap",children:[(ie.current*.95).toFixed(1),ie.unit]}),a.jsxs("td",{className:"px-1.5 py-1 text-right text-blue-600 whitespace-nowrap",children:[(ie.current*1.03).toFixed(1),ie.unit]})]},W.id):null})})]})})})]}),a.jsx("div",{className:`${Vt==="desktop"?"min-w-0 flex flex-col":"w-full shrink-0"}`,children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col flex-1",children:[a.jsxs("div",{className:"px-3 py-2 border-b border-gray-200 bg-white rounded-t-lg space-y-1.5",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[de!=="nation"&&a.jsxs("button",{onClick:ye,className:"flex items-center gap-0.5 px-2 py-1 text-xs text-blue-600 bg-blue-50 rounded hover:bg-blue-100 transition-colors font-medium shrink-0",children:[a.jsx(Pf,{className:"h-3.5 w-3.5"}),""]}),a.jsxs("span",{className:"text-[12px] text-gray-600",children:[qa,"  2026  ",a.jsx("span",{className:"font-semibold",style:{color:se.primaryColor},children:se.shortLabel}),"  ",gA(de),ce&&a.jsxs("span",{className:"text-gray-500",children:[" (",ce.name,")"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex rounded-md border border-gray-200 overflow-hidden",children:[a.jsx("button",{onClick:()=>d("geomap"),className:`px-2.5 py-1 text-[11px] font-medium transition ${l==="geomap"?"bg-blue-600 text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,children:""}),a.jsx("button",{onClick:()=>d("heatmap"),className:`px-2.5 py-1 text-[11px] font-medium transition border-l border-gray-200 ${l==="heatmap"?"bg-blue-600 text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,children:""})]}),a.jsx("div",{className:"flex items-center gap-0.5",children:["weekly","monthly","quarterly","yearly_cum"].map(W=>a.jsx("button",{onClick:()=>n(W),className:`rounded-md px-2.5 py-1 text-[11px] font-medium transition ${r===W?"bg-blue-600 text-white":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:W==="weekly"?"":W==="monthly"?"":W==="quarterly"?"":"()"},W))}),a.jsx("button",{className:"h-6 w-6 flex items-center justify-center hover:bg-gray-100 rounded transition-colors ml-auto shrink-0",children:a.jsx(yf,{className:"h-3 w-3 text-gray-500"})})]})]}),a.jsx("div",{className:"p-2 min-h-0",children:l==="geomap"?a.jsx(u3,{indicatorId:t,periodType:r,year:2026,scope:{mode:"national"},variant:"portal",mapHeight:670,hideBreadcrumb:!0,externalLevel:de==="nation"?"ctprvn":de==="sido"?"sig":"emd",externalSelectedCode:ze?.code??ce?.code,onRegionSelect:ls,onGoBack:ye,externalColorScheme:V,hideLegendPanel:!0,onSubRegionsChange:ee}):a.jsxs("div",{className:"relative w-full",style:{height:"clamp(320px, 44vh, 480px)"},children:[a.jsx(ra,{width:"100%",height:"100%",children:a.jsx(Ny,{data:Tr,dataKey:"size",stroke:"#fff",isAnimationActive:!0,animationDuration:520,animationEasing:"ease-out",content:ka})}),L&&(()=>{const ie=[...Tr].sort((We,Ke)=>Ke.size-We.size).findIndex(We=>We.name===L.name)+1,Re=Tr.reduce((We,Ke)=>We+Ke.size,0),Je=Re>0?(L.size/Re*100).toFixed(1):"0";return a.jsxs("div",{className:"absolute z-50 pointer-events-none bg-white border border-gray-200 rounded-lg p-2.5 shadow-xl text-xs min-w-[170px]",style:{left:Math.min(L.x+12,200),top:Math.max(L.y-60,0)},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1 pb-1 border-b border-gray-100",children:[a.jsx("span",{className:"font-semibold text-gray-800",children:L.name}),a.jsx("span",{className:"text-[11px] bg-orange-50 text-orange-600 px-1.5 py-0.5 rounded font-medium",children:r==="weekly"?"":r==="monthly"?"":r==="quarterly"?"":"()"})]}),a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-500",children:t}),a.jsx("span",{className:"font-bold text-blue-600",children:L.size.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("span",{className:"font-bold text-gray-700",children:[ie,"/",Tr.length]})]}),a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("span",{className:"font-bold text-gray-700",children:[Je,"%"]})]})]})})()]})}),a.jsxs("div",{className:"mx-2 mb-2 px-3 py-2 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100/80 border border-gray-200/60 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:se.primaryColor}}),a.jsx("span",{className:"text-[12px] font-bold text-gray-600 tracking-wide",children:se.shortLabel}),a.jsx("span",{className:"text-[11px] text-gray-400 ml-auto",children:se.unit})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-500 tabular-nums min-w-[36px] text-right",children:se.legend.format(se.legend.ticks[0])}),a.jsx("div",{className:"flex-1 h-3 rounded-md overflow-hidden flex shadow-inner",children:se.palette.map((W,ie)=>a.jsx("div",{className:"flex-1 transition-colors",style:{backgroundColor:W}},ie))}),a.jsx("span",{className:"text-[12px] font-semibold text-gray-500 tabular-nums min-w-[36px]",children:se.legend.format(se.legend.ticks[se.legend.ticks.length-1])})]}),a.jsx("div",{className:"flex items-center justify-center gap-1 mt-1",children:a.jsx("span",{className:"text-[10px] text-gray-400",children:se.legend.direction==="higherBetter"?"  ()   () ":"  ()   () "})})]})]})}),a.jsxs("div",{className:`flex flex-col gap-2 ${Vt==="desktop"?"min-w-0":Vt==="tablet"?"hidden":"w-full shrink-0"}`,children:[a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:se.primaryColor}}),a.jsx("span",{className:"text-[12px] font-semibold text-gray-700 shrink-0",children:se.shortLabel}),a.jsx("p",{className:"text-[11px] text-gray-500 truncate flex-1",title:se.analysisSummary,children:se.analysisSummary})]})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[a.jsx("span",{className:"text-[12px] font-semibold text-gray-700",children:" "}),A.type==="kpi"&&a.jsx("span",{className:`inline-flex items-center rounded-full border px-1.5 py-0.5 text-[10px] font-semibold ${SA[A.severity]}`,children:th[A.severity]}),A.type==="matrix"&&a.jsx("span",{className:`inline-flex items-center rounded-full border px-1.5 py-0.5 text-[10px] font-semibold ${El[A.quadrant].badgeClass}`,children:El[A.quadrant].label})]}),A.type==="none"&&a.jsx("p",{className:"text-[11px] text-gray-500",children:"Top5,  ,      ."}),A.type==="kpi"&&a.jsxs("div",{className:"space-y-1.5 text-[11px] text-gray-600",children:[a.jsxs("p",{className:"font-semibold text-gray-800",children:[Ze.shortName,"  "]}),a.jsxs("p",{children:["   ",So(A.deltaPp),"    ",So(A.trendWorseningPp)]}),a.jsxs("p",{children:[" : ",i8[A.kpiId]]}),A.partialPossible&&a.jsx("span",{className:"inline-flex items-center rounded-md border border-amber-200 bg-amber-50 px-1.5 py-0.5 text-[10px] font-medium text-amber-700",children:"  "})]}),A.type==="top5"&&a.jsxs("div",{className:"space-y-1.5 text-[11px]",children:[a.jsxs("p",{className:"font-semibold text-gray-800",children:[A.row.name,"  ",se.valueFormatter(A.row.value)]}),a.jsxs("p",{className:"text-gray-600",children:["  ",So(A.row.targetGapPp),"    ",So(A.row.weeklyDeltaPp)]}),a.jsxs("p",{className:"text-gray-600",children:[": ",A.causeName]}),a.jsx("p",{className:"text-gray-600",children:A.actionText}),a.jsx("div",{className:"space-y-1 pt-1 border-t border-gray-100",children:A.owners.slice(0,3).map(W=>a.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[a.jsx("span",{className:"truncate text-gray-600",children:W.orgName}),a.jsxs("span",{className:"font-semibold text-gray-800",children:[W.count,""]})]},`${W.orgName}-${W.lastOccurredAt}`))})]}),A.type==="cause"&&a.jsxs("div",{className:"space-y-1.5 text-[11px]",children:[a.jsxs("p",{className:"font-semibold text-gray-800",children:[": ",A.causeName]}),a.jsx("p",{className:"text-gray-600",children:A.actionText}),a.jsx("div",{className:"space-y-1 pt-1 border-t border-gray-100",children:A.owners.slice(0,4).map(W=>a.jsxs("div",{className:"rounded border border-gray-100 bg-gray-50 px-2 py-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] font-medium text-gray-700",children:W.orgName}),a.jsxs("span",{className:"text-[10px] font-semibold text-gray-800",children:[W.count,""]})]}),a.jsxs("div",{className:"text-[10px] text-gray-500",children:[W.regionName,"  ",W.lastOccurredAt]})]},`${W.orgName}-${W.lastOccurredAt}`))}),a.jsx("button",{onClick:()=>e?.("compliance-audit",{region:ze?.code??ce?.code??"KR",kpi:I}),className:"text-[10px] text-blue-600 hover:text-blue-700 font-semibold",children:" /   "})]}),A.type==="matrix"&&a.jsxs("div",{className:"space-y-1.5 text-[11px] text-gray-600",children:[a.jsxs("p",{className:"font-semibold text-gray-800",children:[A.selectedRegionName,"   ",El[A.quadrant].description]}),a.jsx("div",{className:"space-y-1 pt-1 border-t border-gray-100 max-h-[120px] overflow-y-auto",children:A.items.map(W=>a.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[a.jsx("span",{className:"truncate",children:W.regionName}),a.jsxs("span",{className:"tabular-nums text-gray-800",children:["SLA ",W.slaRate.toFixed(1),"%   ",W.dataRate.toFixed(1),"%"]})]},`${W.regionName}-${W.slaRate}`))})]}),A.type==="policy"&&a.jsxs("div",{className:"space-y-1.5 text-[11px] text-gray-600",children:[a.jsx("p",{className:"font-semibold text-gray-800",children:" /  Top 3"}),a.jsx("div",{className:"space-y-1 max-h-[132px] overflow-y-auto",children:A.items.map(W=>a.jsxs("div",{className:"rounded border border-gray-100 bg-gray-50 px-2 py-1",children:[a.jsx("div",{className:"text-[10px] font-semibold text-gray-800",children:W.title}),a.jsxs("div",{className:"text-[10px] text-gray-500",children:[W.effectiveAt,"    ",W.impactedRegions,""]}),a.jsx("div",{className:"text-[10px] text-gray-600 mt-0.5",children:W.impactedKpis.map(ie=>`${ie.kpiKey} ${So(ie.deltaPp)}`).join("  ")}),W.notes&&a.jsx("div",{className:"text-[10px] text-gray-500 mt-0.5",children:W.notes})]},W.policyId))})]})]}),Ye&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(n8,{title:" ",height:300,badge:a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:`${se.primaryColor}15`,color:se.primaryColor},children:Ye.breakdownType==="donut"?"":""}),children:[Ye.breakdownType==="donut"?a.jsxs("div",{className:"relative",style:{height:"160px"},children:[a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(KH,{children:[a.jsx(Jo,{data:Ye.breakdown,cx:"50%",cy:"50%",innerRadius:35,outerRadius:60,dataKey:"value",startAngle:90,endAngle:-270,paddingAngle:2,strokeWidth:0,label:HTe,labelLine:!1,isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out",children:Ye.breakdown.map((W,ie)=>a.jsx(Ni,{fill:W.color||se.palette[ie%se.palette.length]},ie))}),a.jsx(qr,{formatter:W=>[W.toLocaleString(),""],contentStyle:{fontSize:"11px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.12)"}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("div",{className:"text-[10px] text-gray-500",children:""}),a.jsx("div",{className:"text-[12px] font-bold text-gray-800",children:Ye.breakdown.reduce((W,ie)=>W+ie.value,0).toLocaleString()})]})]}):a.jsx("div",{style:{height:"160px"},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(zd,{data:Ye.breakdown,margin:{top:4,right:8,left:6,bottom:4},children:[a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx($n,{dataKey:"name",tick:{fontSize:10,fill:"#4b5563"},tickLine:!1}),a.jsx(_n,{tick:{fontSize:10,fill:"#6b7280"},tickLine:!1,axisLine:!1,width:40}),a.jsx(qr,{contentStyle:{fontSize:"11px",borderRadius:"8px"}}),a.jsx(Aa,{dataKey:"value",radius:[3,3,0,0],isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out",children:Ye.breakdown.map((W,ie)=>a.jsx(Ni,{fill:W.color||se.palette[ie%se.palette.length]},ie))})]})})}),a.jsxs("div",{className:"space-y-0.5 mt-1 pt-1 border-t border-gray-100",children:[Ye.breakdown.slice(0,y?Ye.breakdown.length:3).map((W,ie)=>a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-600",children:[a.jsx("span",{className:"w-2 h-2 rounded-sm shrink-0",style:{backgroundColor:W.color||se.palette[ie%se.palette.length]}}),a.jsx("span",{className:"truncate",children:W.name}),a.jsx("span",{className:"font-semibold text-gray-800 ml-auto tabular-nums",children:W.value.toLocaleString()})]},ie)),Ye.breakdown.length>3&&a.jsx("button",{onClick:()=>S(!y),title:y?"  ":` : ${Ye.breakdown.slice(3,6).map(W=>W.name).join(", ")}`,className:"text-[10px] text-blue-500 hover:text-blue-700 w-full text-center pt-0.5",children:y?"":`+${Ye.breakdown.length-3} `})]})]}),a.jsxs(n8,{title:" ",height:300,children:[a.jsx("div",{style:{height:"180px"},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(zd,{data:Jr.slice(0,w?Jr.length:3),layout:"vertical",margin:{top:4,right:24,left:4,bottom:4},children:[a.jsx(Ha,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e5e7eb"}),a.jsx($n,{type:"number",tick:{fontSize:10,fill:"#6b7280"}}),a.jsx(_n,{type:"category",dataKey:"name",tick:{fontSize:10,fill:"#4b5563"},width:60}),a.jsx(qr,{contentStyle:{fontSize:"11px",borderRadius:"8px"}}),a.jsx(Aa,{dataKey:"value",radius:[0,3,3,0],fill:se.primaryColor,isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out",onClick:W=>{const Re=(W?.payload??W)?.name;Re&&E({type:"cause",causeName:Re,owners:Wt(Re),actionText:It(Re)})},label:{position:"right",fontSize:10,fill:"#374151",formatter:W=>W.toLocaleString()},children:Jr.slice(0,w?Jr.length:3).map((W,ie)=>a.jsx(Ni,{fill:se.palette[Math.min(ie+1,se.palette.length-2)]},ie))})]})})}),Jr.length>3&&a.jsx("button",{onClick:()=>_(!w),title:w?"  ":` : ${Jr.slice(3,6).map(W=>W.name).join(", ")}`,className:"text-[10px] text-blue-500 hover:text-blue-700 w-full text-center pt-1",children:w?"":`+${Jr.length-3} `})]})]}),Ye&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:se.primaryColor}}),a.jsxs("span",{className:"text-[12px] font-semibold text-gray-700",children:[se.shortLabel," ",ze?.name?` (${ze.name})`:""]})]}),a.jsx("span",{className:"text-[10px] text-gray-400",children:qa})]}),a.jsx("div",{style:{height:"160px"},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(t3,{data:Mn,margin:{top:6,right:10,left:10,bottom:4},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"kpiTrendGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:se.primaryColor,stopOpacity:.25}),a.jsx("stop",{offset:"100%",stopColor:se.primaryColor,stopOpacity:.03})]})}),a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#f3f4f6"}),a.jsx($n,{dataKey:"period",tick:{fontSize:10,fill:"#6b7280"},tickLine:!1}),a.jsx(_n,{tick:{fontSize:10,fill:"#9ca3af"},tickLine:!1,axisLine:!1,tickMargin:4,width:se.unit==="%"?58:46,tickFormatter:W=>se.valueFormatter(W)}),a.jsx(qr,{contentStyle:{fontSize:"11px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.12)"},formatter:W=>[se.valueFormatter(W),se.shortLabel]}),se.target!=null&&a.jsx(Ko,{y:se.target,stroke:"#ef4444",strokeDasharray:"4 2",strokeWidth:1.5,label:{value:` ${se.valueFormatter(se.target)}`,fontSize:10,fill:"#ef4444",position:"right"}}),a.jsx(el,{type:"monotone",dataKey:"value",fill:"url(#kpiTrendGrad)",stroke:"none",isAnimationActive:!0,animationDuration:500,animationEasing:"ease-out"}),a.jsx(aa,{type:"monotone",dataKey:"value",stroke:se.primaryColor,strokeWidth:2,isAnimationActive:!0,animationDuration:500,animationEasing:"ease-out",dot:!1,activeDot:{r:4,fill:se.primaryColor,stroke:"#fff",strokeWidth:2}})]})})})]}),a.jsxs(eh,{title:"SLA    ",isOpen:K.slaMatrix,onToggle:()=>$("slaMatrix"),summary:` ${_r.filter(ie=>ie.slaRate<Ir&&ie.dataRate<Rr).length} `,children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 text-[10px] text-gray-500 mb-1",children:[a.jsx("span",{className:"text-[11px] text-gray-500",children:" (SLA)      "}),a.jsxs("button",{onClick:Ys,className:"inline-flex items-center gap-1 rounded border border-gray-200 bg-white px-2 py-0.5 text-[10px] font-medium text-gray-600 hover:bg-gray-50",children:[a.jsx(yf,{className:"h-3 w-3"}),""]})]}),a.jsxs("div",{className:"mb-1 flex items-center justify-between gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>dn(tn),className:"inline-flex items-center gap-1 rounded-md border border-blue-200 bg-blue-50/70 px-2 py-0.5 text-[10px] font-semibold text-blue-700 hover:bg-blue-100/80",children:["   :",a.jsx("span",{children:El[tn].guideLabel}),a.jsxs("span",{children:["(",Ks[tn]," )"]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 text-[10px] text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),""]}),a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400"}),""]}),a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),""]})]})]}),a.jsxs("div",{className:"mb-1 text-[10px] text-gray-500",children:[" : SLA ",Ir.toFixed(1),"% /  ",Rr.toFixed(1),"%"]}),_r.length>0?a.jsxs("div",{className:"relative",style:{height:"220px"},children:[a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(Rbe,{margin:{top:8,right:12,left:8,bottom:8},children:[a.jsx(Ha,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx($n,{type:"number",dataKey:"dataRate",name:" ",unit:"%",domain:[70,100],tick:{fontSize:11},label:{value:" (%)",position:"insideBottom",offset:-2,fontSize:11,fill:"#6b7280"}}),a.jsx(_n,{type:"number",dataKey:"slaRate",name:"SLA ",unit:"%",domain:[70,100],tick:{fontSize:11},width:46,label:{value:"SLA(%)",angle:-90,position:"insideLeft",offset:0,fontSize:11,fill:"#6b7280"}}),a.jsx(Hp,{type:"number",dataKey:"totalCases",range:[30,250],name:" "}),a.jsx(Ko,{x:Rr,stroke:"#9ca3af",strokeDasharray:"4 2"}),a.jsx(Ko,{y:Ir,stroke:"#9ca3af",strokeDasharray:"4 2"}),a.jsx(qr,{content:({active:W,payload:ie})=>{if(!W||!ie?.[0])return null;const Re=ie[0].payload;return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 shadow-lg text-xs",children:[a.jsx("div",{className:"font-semibold text-gray-800 mb-1",children:Re.regionName}),a.jsxs("div",{children:["SLA : ",a.jsxs("span",{className:"font-medium",children:[Re.slaRate,"%"]})]}),a.jsxs("div",{children:[" : ",a.jsxs("span",{className:"font-medium",children:[Re.dataRate,"%"]})]}),a.jsxs("div",{children:[": ",a.jsxs("span",{className:"font-medium",children:[Re.totalCases.toLocaleString(),""]})]})]})}}),a.jsx(Gp,{data:_r,isAnimationActive:!0,animationDuration:480,animationEasing:"ease-out",onClick:Vs,children:_r.map((W,ie)=>{const Re=rh(W.slaRate,W.dataRate,Ir,Rr),Je=Re==="good"?"#22c55e":Re==="dualRisk"?"#ef4444":"#f59e0b",We=C!==null&&C!==Re;return a.jsx(Ni,{fill:Je,fillOpacity:We?.2:.95,stroke:We?"#d1d5db":Je,strokeWidth:We?1:1.5,style:{cursor:"pointer"}},ie)})})]})}),a.jsx("div",{className:"pointer-events-none absolute inset-0",children:["good","dataRisk","slaRisk","dualRisk"].map(W=>{const ie=El[W],Re=Ts[W],Je=qs===W;return a.jsxs("button",{type:"button",onClick:()=>dn(W),className:`pointer-events-auto absolute -translate-x-1/2 -translate-y-1/2 rounded-md border px-1.5 py-0.5 text-[10px] font-semibold transition-colors ${Je?"border-blue-200 bg-white/95 text-blue-700 shadow-sm":"border-gray-200 bg-white/70 text-gray-500 hover:bg-white/90"}`,style:{left:`${Re.left}%`,top:`${Re.top}%`},children:[ie.guideLabel," (",Ks[W],")"]},`overlay-${W}`)})})]}):a.jsx("div",{className:"h-[160px] flex items-center justify-center text-xs text-gray-400",children:" "}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1.5",children:["good","dataRisk","slaRisk","dualRisk"].map(W=>{const ie=El[W],Re=C===W,Je=C===null&&tn===W;return a.jsxs("div",{role:"button",tabIndex:0,"aria-pressed":Re,title:ie.description,onClick:()=>dn(W),onKeyDown:We=>{(We.key==="Enter"||We.key===" ")&&(We.preventDefault(),dn(W))},className:`rounded-md border px-2 py-1 text-left transition-colors ${Re?"ring-1 ring-blue-300 border-blue-200 bg-blue-50/70":Je?"border-indigo-200 bg-indigo-50/60":"border-gray-200 bg-gray-50/70 hover:bg-gray-100"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-1",children:[a.jsx("span",{className:`inline-flex items-center rounded-full border px-1.5 py-0.5 text-[10px] font-semibold ${ie.badgeClass}`,children:ie.guideLabel}),a.jsxs("div",{className:"relative","data-matrix-help-popover":!0,children:[a.jsx("button",{type:"button","aria-label":`${ie.guideLabel}  `,className:"inline-flex items-center justify-center rounded text-gray-400 hover:text-gray-600",onClick:We=>{We.stopPropagation(),R(Ke=>Ke===W?null:W)},children:a.jsx(LA,{className:"h-3 w-3"})}),D===W&&a.jsx("div",{className:"absolute right-0 top-4 z-20 min-w-[130px] rounded border border-gray-200 bg-white px-2 py-1 text-[10px] text-gray-600 shadow-lg",children:ie.description})]})]}),a.jsxs("p",{className:"mt-1 text-[11px] font-semibold text-gray-700",children:["  ",Ks[W],""]})]},W)})})]}),a.jsx(eh,{title:"   ()",isOpen:K.stageDistribution,onToggle:()=>$("stageDistribution"),summary:`${en.length} `,children:en.length>0?a.jsx("div",{style:{height:"240px"},children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsxs(zd,{data:en,margin:{top:5,right:8,left:8,bottom:22},children:[a.jsx(Ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx($n,{dataKey:"regionName",tick:{fontSize:11,fill:"#4b5563"},interval:0,angle:-35,textAnchor:"end"}),a.jsx(_n,{tick:{fontSize:11,fill:"#6b7280"},width:46,tickFormatter:W=>W>=1e3?`${(W/1e3).toFixed(0)}K`:String(W)}),a.jsx(qr,{content:({active:W,payload:ie,label:Re})=>{if(!W||!ie?.length)return null;const Je=ie.reduce((We,Ke)=>We+(Number(Ke.value)||0),0);return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 shadow-lg text-xs",children:[a.jsx("div",{className:"font-semibold text-gray-800 mb-1",children:Re}),ie.map((We,Ke)=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:We.color}}),a.jsxs("span",{children:[Wr[We.dataKey]||We.dataKey,": ",Number(We.value).toLocaleString()," (",Je>0?(Number(We.value)/Je*100).toFixed(1):0,"%)"]})]},Ke)),a.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-100 font-medium",children:[": ",Je.toLocaleString(),""]})]})}}),a.jsx(Ho,{formatter:W=>Wr[W]||W,wrapperStyle:{fontSize:"11px"}}),Nn.map(W=>a.jsx(Aa,{dataKey:W,stackId:"stage",fill:Ta[W],isAnimationActive:!0,animationDuration:460,animationEasing:"ease-out"},W))]})})}):a.jsx("div",{className:"h-[180px] flex items-center justify-center text-xs text-gray-400",children:" "})})]}),Vt==="tablet"&&a.jsxs("div",{className:"flex gap-2 flex-1 min-h-0",children:[a.jsxs("div",{className:"flex-1 flex flex-col gap-2 overflow-y-auto",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 text-center",children:[a.jsxs("span",{className:"text-xs text-blue-700 font-medium",children:[gA(de)," "]}),ce&&a.jsxs("span",{className:"ml-2 text-xs text-blue-600",children:["(",ce.name,")"]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:[qa,"  "]}),a.jsx("div",{className:"text-[11px] text-blue-500 bg-blue-50 px-1.5 py-0.5 rounded",children:qa})]}),a.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:[vr.toLocaleString()," ",a.jsx("span",{className:"text-sm font-normal text-gray-500",children:""})]}),a.jsxs("div",{className:"text-[12px] text-gray-500 mb-2",children:[Ca.label," ()"]}),a.jsx("div",{className:"h-[140px]",children:a.jsx(ra,{width:"100%",height:"100%",children:a.jsx(Ny,{data:Tr,dataKey:"size",aspectRatio:4/3,stroke:"#fff",isAnimationActive:!0,animationDuration:520,animationEasing:"ease-out",content:a.jsx(ka,{})})})})]})]}),a.jsx("div",{className:"flex-1 flex flex-col gap-2 overflow-y-auto",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex-1",children:[a.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"KPI  "}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:jr.slice(0,4).map((W,ie)=>a.jsx(zTe,{kpiDef:W,data:Or[W.id],colorIndex:ie,analyticsPeriod:o},W.id))})]})})]})]})}),a.jsx(ITe,{visible:fr,stage:Ee==="refreshing"?"refreshing":"scopeChange"})]})]})}const s5e={"national-dashboard":"","model-governance":"/  ","quality-monitoring":"& ","compliance-audit":"   "},i5e=["SIGNAL_QUALITY","POLICY_IMPACT","BOTTLENECK_RISK","DATA_READINESS","GOVERNANCE_SAFETY"],fq={SIGNAL_QUALITY:{id:"SIGNAL_QUALITY",category:"",scope:"",definition:{what:"             .",why:"      ,      ."},calculation:{numeratorLabel:"   (validSignals)",denominatorLabel:"    (totalSignals)",includeRules:["Stage0    +      ","         ","       "],excludeRules:["  ,  ,    ","/   ","       "]},interpretation:{high:"   , Stage0/Stage1   .",low:"             ."},linkedModelStages:["Reach","Stage0","Stage1"],usageScreens:[{page:"national-dashboard",label:"",reason:" KPI    "},{page:"quality-monitoring",label:"& ",reason:"  Driver "},{page:"compliance-audit",label:"   ",reason:" /   "}],linkedTabs:[{page:"model-governance",label:"",reason:" /    "},{page:"quality-monitoring",label:"",reason:"  "},{page:"compliance-audit",label:"",reason:"      "}],changeHistory:[{version:"v2.4",changedAt:"2026-02-03",changedBy:" ",definitionChange:"        ",formulaChange:"          ",impactedScreens:["national-dashboard","quality-monitoring","compliance-audit"]},{version:"v2.3",changedAt:"2026-01-20",changedBy:" ",definitionChange:"       1  ",formulaChange:"   citizenId+eventDate  ",impactedScreens:["national-dashboard","quality-monitoring"]},{version:"v2.1",changedAt:"2025-11-18",changedBy:" TF",definitionChange:"     ",formulaChange:"    ",impactedScreens:["national-dashboard","compliance-audit"]}],whyChecklist:["  (window)  ","(validSignals) (totalSignals)    ","/     ","         "]},POLICY_IMPACT:{id:"POLICY_IMPACT",category:"",scope:"",definition:{what:"     KPI   (0~100) .",why:"    , /     ."},calculation:{numeratorLabel:"    (impactScore)",denominatorLabel:"   (maxScore=100)",includeRules:[" (deployed)  (rollback)   ","SLA,  , ,    ","     KPI  "],excludeRules:[" (reviewing)  (pending)  "," /     ","      "]},interpretation:{high:"      ,     .",low:"      ."},linkedModelStages:["Stage1","L1","L2","Stage2"],usageScreens:[{page:"national-dashboard",label:"",reason:"  KPI / "},{page:"model-governance",label:"/  ",reason:"     "},{page:"compliance-audit",label:"   ",reason:"   "}],linkedTabs:[{page:"model-governance",label:"",reason:"   "},{page:"quality-monitoring",label:"",reason:"   /   "},{page:"compliance-audit",label:"",reason:"       "}],changeHistory:[{version:"v3.0",changedAt:"2026-01-24",changedBy:"",definitionChange:"       ",formulaChange:"     (+0.2) ",impactedScreens:["national-dashboard","model-governance","compliance-audit"]},{version:"v2.6",changedAt:"2026-01-10",changedBy:" ",definitionChange:"  7  (window)   ",formulaChange:"      ",impactedScreens:["model-governance","compliance-audit"]},{version:"v2.2",changedAt:"2025-10-28",changedBy:"",definitionChange:"   ( )  ",formulaChange:"  maxScore 120100 ",impactedScreens:["national-dashboard"]}],whyChecklist:["   /   ","  KPI    ","      ","         "]},BOTTLENECK_RISK:{id:"BOTTLENECK_RISK",category:"",scope:"",definition:{what:"SLA , L2 ,        0~100 .",why:"     /     ."},calculation:{numeratorLabel:"   (weightedRisk)",denominatorLabel:"   (maxRisk=100)",includeRules:["SLA , L2 backlog,       ","       ","     "],excludeRules:["/    ","        ","   1 "]},interpretation:{high:"     (/ )  .",low:"        ."},linkedModelStages:["L1","L2","Stage2","Stage3"],usageScreens:[{page:"national-dashboard",label:"",reason:" Top5    "},{page:"quality-monitoring",label:"& ",reason:"  Driver  "},{page:"model-governance",label:"/  ",reason:"    "}],linkedTabs:[{page:"model-governance",label:"",reason:"L2 /   "},{page:"quality-monitoring",label:"",reason:"  Driver   "},{page:"compliance-audit",label:"",reason:"    "}],changeHistory:[{version:"v2.8",changedAt:"2026-01-22",changedBy:"",definitionChange:"      ",formulaChange:" SLA 0.450.40, L2Backlog 0.300.35 ",impactedScreens:["national-dashboard","quality-monitoring","model-governance"]},{version:"v2.4",changedAt:"2025-12-15",changedBy:" ",definitionChange:"    ",formulaChange:"      ",impactedScreens:["national-dashboard","quality-monitoring"]},{version:"v2.0",changedAt:"2025-09-30",changedBy:"  TF",definitionChange:"  KPI    ",formulaChange:"3    ",impactedScreens:["national-dashboard"]}],whyChecklist:["SLA /L2 /  3  ","       ","     ","   L2   "]},DATA_READINESS:{id:"DATA_READINESS",category:"",scope:"",definition:{what:"        .",why:"      ,      ."},calculation:{numeratorLabel:"    (readyCases)",denominatorLabel:"     (totalCases)",includeRules:[" ( )   ","      ","   /  "],excludeRules:["/  ","/   ","        "]},interpretation:{high:"          .",low:"       ."},linkedModelStages:["Stage0","Consent","L0","L1","L2"],usageScreens:[{page:"national-dashboard",label:"",reason:"  KPI / "},{page:"quality-monitoring",label:"& ",reason:"/   "},{page:"compliance-audit",label:"   ",reason:"    "}],linkedTabs:[{page:"model-governance",label:"",reason:" /    "},{page:"quality-monitoring",label:"",reason:" /  "},{page:"compliance-audit",label:"",reason:"      "}],changeHistory:[{version:"v2.5",changedAt:"2026-01-18",changedBy:"  ",definitionChange:"        ",formulaChange:"  linkagePending   ",impactedScreens:["national-dashboard","quality-monitoring","compliance-audit"]},{version:"v2.2",changedAt:"2025-12-03",changedBy:" ",definitionChange:"     ",formulaChange:"    ",impactedScreens:["national-dashboard","quality-monitoring"]},{version:"v1.9",changedAt:"2025-08-21",changedBy:"",definitionChange:"/     ",formulaChange:" /  ",impactedScreens:["national-dashboard"]}],whyChecklist:["  (readyCases)  (totalCases)   ","        ","//     ","       "]},GOVERNANCE_SAFETY:{id:"GOVERNANCE_SAFETY",category:"",scope:"",definition:{what:"   ()     .",why:"    ,       ."},calculation:{numeratorLabel:"    (auditReady)",denominatorLabel:"    (totalAuditable)",includeRules:[", , ,      "," / /   ","      "],excludeRules:[" heartbeat     ","     ","       "]},interpretation:{high:"      ,    .",low:"  /     ."},linkedModelStages:["Stage2","Stage3","PolicyChange"],usageScreens:[{page:"national-dashboard",label:"",reason:"  KPI  "},{page:"compliance-audit",label:"   ",reason:"//  "},{page:"model-governance",label:"/  ",reason:"/   "}],linkedTabs:[{page:"model-governance",label:"",reason:"    "},{page:"quality-monitoring",label:"",reason:" /   "},{page:"compliance-audit",label:"",reason:"    "}],changeHistory:[{version:"v3.1",changedAt:"2026-01-26",changedBy:" ",definitionChange:"     ",formulaChange:"  missingExplanation=0  ",impactedScreens:["national-dashboard","compliance-audit","model-governance"]},{version:"v2.9",changedAt:"2026-01-09",changedBy:"",definitionChange:"     ",formulaChange:"  missingResponsible>0  ",impactedScreens:["compliance-audit","national-dashboard"]},{version:"v2.4",changedAt:"2025-10-10",changedBy:"",definitionChange:"    30  ",formulaChange:"  30   ",impactedScreens:["national-dashboard","compliance-audit"]}],whyChecklist:["  (auditReady)   (totalAuditable) "," (missingExplanation)  (missingResponsible)  ","/    ","       "]}};function o5e(e){return fq[e]}function l5e(){return i5e.map(e=>fq[e])}const f8={LAST_24H:" 24",LAST_7D:" 7",LAST_30D:" 30",LAST_90D:" 90"},wA={:"bg-blue-50 text-blue-700 border-blue-200",:"bg-violet-50 text-violet-700 border-violet-200",:"bg-red-50 text-red-700 border-red-200",:"bg-emerald-50 text-emerald-700 border-emerald-200",:"bg-amber-50 text-amber-700 border-amber-200"},c5e={SIGNAL_QUALITY:{kpi:"SIGNAL_QUALITY",auditId:"ua_002",driver:"data_quality"},POLICY_IMPACT:{kpi:"POLICY_IMPACT",changeId:"chg_20260124",auditId:"ua_004",driver:"model_fitness"},BOTTLENECK_RISK:{kpi:"BOTTLENECK_RISK",changeId:"chg_20260120",auditId:"ua_001",driver:"ops_bottleneck"},DATA_READINESS:{kpi:"DATA_READINESS",auditId:"ua_003",driver:"data_quality"},GOVERNANCE_SAFETY:{kpi:"GOVERNANCE_SAFETY",changeId:"chg_20260110",auditId:"ua_001",driver:"contact_strategy"}},d5e=["national-dashboard","model-governance","quality-monitoring","compliance-audit"];function pq(e,t){const r=c5e[e],n={level:"nation",region:"KR",period:"WEEK",kpi:r.kpi};return t==="model-governance"&&r.changeId&&(n.changeId=r.changeId),t==="quality-monitoring"&&r.driver&&(n.driver=r.driver),t==="compliance-audit"&&r.auditId&&(n.auditId=r.auditId),n}function p8({screens:e,onNavigate:t,kpiId:r}){return a.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.map(n=>a.jsx("button",{type:"button",onClick:()=>t?.(n,pq(r,n)),className:"text-[11px] px-2 py-1 rounded border border-gray-200 bg-white hover:bg-gray-50",children:s5e[n]},n))})}function u5e({onNavigate:e}){const t=g.useMemo(()=>lq(),[]),r=g.useMemo(()=>l5e(),[]),n=g.useMemo(()=>Object.fromEntries(t.map(E=>[E.id,E])),[t]),[s,i]=g.useState(""),[o,l]=g.useState(r[0]?.id??"SIGNAL_QUALITY"),[d,u]=g.useState("LAST_7D"),[m,p]=g.useState([]),[h,b]=g.useState(!1);g.useEffect(()=>{let E=!1;return b(!0),oq(d).then(C=>{E||(p(C.kpis),b(!1))}).catch(()=>{E||(p([]),b(!1))}),()=>{E=!0}},[d]);const v=g.useMemo(()=>{const E=s.trim().toLowerCase();return E?r.filter(C=>{const O=n[C.id];return[O?.name,O?.shortName,C.category,C.scope,...C.usageScreens.map(R=>R.label)].join(" ").toLowerCase().includes(E)}):r},[s,r,n]);g.useEffect(()=>{if(v.length===0)return;v.some(C=>C.id===o)||l(v[0].id)},[v,o]);const N=o5e(o),y=n[o],S=m.find(E=>E.kpiId===o),w=g.useMemo(()=>!S||S.denominator===0?null:Number((S.numerator/S.denominator*100).toFixed(1)),[S]),_=g.useMemo(()=>r.flatMap(E=>{const C=n[E.id];return E.changeHistory.map(O=>({...O,id:E.id,kpiName:C?.name??E.id,category:E.category}))}).sort((E,C)=>new Date(C.changedAt).getTime()-new Date(E.changedAt).getTime()),[r,n]),A=(E,C)=>{e?.(E,pq(C,E))};return a.jsxs("div",{className:"space-y-4 p-1",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"KPI  (  )"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" KPI     ."})]}),a.jsx("div",{className:"flex items-center gap-1.5 rounded-lg border border-gray-200 bg-white p-1",children:["LAST_24H","LAST_7D","LAST_30D","LAST_90D"].map(E=>a.jsx("button",{type:"button",onClick:()=>u(E),className:`px-2.5 py-1.5 text-[11px] rounded-md font-medium transition ${d===E?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:f8[E]},E))})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 2xl:grid-cols-12",children:[a.jsxs(Nr,{className:"2xl:col-span-5",children:[a.jsxs(pn,{className:"pb-3",children:[a.jsx(mn,{className:"text-base",children:"KPI  "}),a.jsxs("div",{className:"relative",children:[a.jsx(_0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(Cr,{value:s,onChange:E=>i(E.target.value),placeholder:"KPI// ",className:"pl-10"})]})]}),a.jsx(Sr,{className:"pt-0",children:a.jsx("div",{className:"overflow-auto rounded-md border border-gray-200",children:a.jsxs("table",{className:"w-full min-w-[760px]",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"KPI"}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"KPI "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"  ()"})]})}),a.jsxs("tbody",{children:[v.map(E=>{const C=n[E.id],O=o===E.id;return a.jsxs("tr",{className:`border-b border-gray-100 cursor-pointer ${O?"bg-blue-50/50":"hover:bg-gray-50"}`,onClick:()=>l(E.id),children:[a.jsxs("td",{className:"px-3 py-2 align-top",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C?.name}),a.jsx("div",{className:"text-[11px] text-gray-500",children:E.id})]}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("span",{className:`inline-flex items-center rounded-md border px-2 py-1 text-[11px] font-medium ${wA[E.category]}`,children:E.category})}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 align-top",children:E.scope}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("div",{className:"flex flex-wrap gap-1.5",children:E.usageScreens.map(D=>a.jsxs("button",{type:"button",onClick:R=>{R.stopPropagation(),d5e.includes(D.page)&&A(D.page,E.id)},className:"inline-flex items-center gap-1 rounded-md border border-gray-200 bg-white px-2 py-1 text-[11px] text-gray-700 hover:bg-gray-50",title:D.reason,children:[D.label,a.jsx(sa,{className:"h-3 w-3"})]},`${E.id}-${D.page}`))})})]},E.id)}),v.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-3 py-10 text-center text-sm text-gray-500",children:"   KPI ."})})]})]})})})]}),a.jsxs(Nr,{className:"2xl:col-span-7",children:[a.jsx(pn,{children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx(mn,{className:"text-base",children:y?.name}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'KPI   ("  ")    '})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Gr,{variant:"outline",className:wA[N.category],children:N.category}),a.jsx(Gr,{variant:"outline",children:N.scope}),a.jsx(Gr,{variant:"outline",children:o})]})]})}),a.jsxs(Sr,{className:"space-y-4",children:[a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:""}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-md bg-gray-50 p-3 border border-gray-200",children:[a.jsx("div",{className:"text-[11px] font-medium text-gray-500 mb-1",children:" "}),a.jsx("div",{className:"text-sm text-gray-800 leading-relaxed",children:N.definition.what})]}),a.jsxs("div",{className:"rounded-md bg-gray-50 p-3 border border-gray-200",children:[a.jsx("div",{className:"text-[11px] font-medium text-gray-500 mb-1",children:" "}),a.jsx("div",{className:"text-sm text-gray-800 leading-relaxed",children:N.definition.why})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-gray-900 mb-2",children:[a.jsx(jX,{className:"h-4 w-4"}),""]}),a.jsx("div",{className:"rounded-md border border-gray-200 bg-gray-50 px-3 py-2 text-[13px] font-mono text-gray-900",children:y?.formula}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-3 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-md border border-blue-200 bg-blue-50 p-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-blue-700 mb-1",children:""}),a.jsx("div",{className:"text-sm text-blue-900",children:N.calculation.numeratorLabel}),a.jsxs("div",{className:"text-[11px] text-blue-700 mt-1",children:[": ",y?.numeratorField]})]}),a.jsxs("div",{className:"rounded-md border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-indigo-700 mb-1",children:""}),a.jsx("div",{className:"text-sm text-indigo-900",children:N.calculation.denominatorLabel}),a.jsxs("div",{className:"text-[11px] text-indigo-700 mt-1",children:[": ",y?.denominatorField]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-3 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-700 mb-1.5",children:" "}),a.jsx("ul",{className:"space-y-1",children:N.calculation.includeRules.map((E,C)=>a.jsx("li",{className:"text-xs text-gray-700 leading-relaxed list-disc list-inside",children:E},`${o}-in-${C}`))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-700 mb-1.5",children:" "}),a.jsx("ul",{className:"space-y-1",children:N.calculation.excludeRules.map((E,C)=>a.jsx("li",{className:"text-xs text-gray-700 leading-relaxed list-disc list-inside",children:E},`${o}-out-${C}`))})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-md border border-green-200 bg-green-50 p-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-green-700 mb-1",children:"   "}),a.jsx("div",{className:"text-sm text-green-900 leading-relaxed",children:N.interpretation.high})]}),a.jsxs("div",{className:"rounded-md border border-orange-200 bg-orange-50 p-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-orange-700 mb-1",children:"   "}),a.jsx("div",{className:"text-sm text-orange-900 leading-relaxed",children:N.interpretation.low})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-gray-900 mb-2",children:[a.jsx(Ff,{className:"h-4 w-4"})," "]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-600 mb-1.5",children:"   Stage"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:N.linkedModelStages.map(E=>a.jsx("span",{className:"text-[11px] px-2 py-1 rounded border border-gray-200 bg-gray-50 text-gray-700",children:E},`${o}-${E}`))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-600 mb-1.5",children:"   (//)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:N.linkedTabs.map(E=>a.jsxs(dt,{variant:"outline",size:"sm",onClick:()=>A(E.page,o),className:"h-7 text-[11px]",children:[E.label,a.jsx(sa,{className:"h-3 w-3 ml-1"})]},`${o}-tab-${E.page}`))}),a.jsx("div",{className:"space-y-1 mt-2",children:N.linkedTabs.map(E=>a.jsxs("div",{className:"text-[11px] text-gray-600",children:[a.jsx("span",{className:"font-medium",children:E.label}),": ",E.reason]},`${o}-tab-reason-${E.page}`))})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-gray-900 mb-2",children:[a.jsx(eX,{className:"h-4 w-4"}),"  KPI   ( )"]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[" : ",f8[d]]}),h&&a.jsx("div",{className:"text-sm text-gray-500",children:"    ..."}),!h&&!S&&a.jsx("div",{className:"text-sm text-gray-500",children:"    ."}),!h&&S&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 p-2.5",children:[a.jsx("div",{className:"text-[11px] text-gray-500 mb-0.5",children:""}),a.jsx("div",{className:"text-sm font-bold text-gray-900",children:S.numerator.toLocaleString()})]}),a.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 p-2.5",children:[a.jsx("div",{className:"text-[11px] text-gray-500 mb-0.5",children:""}),a.jsx("div",{className:"text-sm font-bold text-gray-900",children:S.denominator.toLocaleString()})]}),a.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 p-2.5",children:[a.jsx("div",{className:"text-[11px] text-gray-500 mb-0.5",children:" KPI "}),a.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[S.value,y?.unit]})]})]}),w!==null&&a.jsxs("div",{className:"rounded-md border border-blue-200 bg-blue-50 px-3 py-2 text-sm text-blue-900",children:[" : ",S.numerator.toLocaleString()," / ",S.denominator.toLocaleString(),"  100 = ",w,"%",a.jsxs("span",{className:"ml-2 text-[11px] text-blue-700",children:["( ",S.value,y?.unit,", 7d ",S.delta7d,"pp)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[11px] font-semibold text-gray-700 mb-1.5",children:" "}),a.jsx("ul",{className:"space-y-1",children:N.whyChecklist.map((E,C)=>a.jsx("li",{className:"text-xs text-gray-700 leading-relaxed list-disc list-inside",children:E},`${o}-why-${C}`))})]})]})]}),a.jsxs("section",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-gray-900 mb-2",children:[a.jsx(kY,{className:"h-4 w-4"}),"KPI  "]}),a.jsx("div",{className:"overflow-auto rounded-md border border-gray-200",children:a.jsxs("table",{className:"w-full min-w-[760px]",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:""}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:""}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"  "})]})}),a.jsx("tbody",{children:N.changeHistory.map(E=>a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-2 text-xs font-semibold text-gray-900",children:E.version}),a.jsxs("td",{className:"px-3 py-2 text-xs text-gray-700",children:[a.jsx("div",{children:E.changedAt}),a.jsx("div",{className:"text-[11px] text-gray-500",children:E.changedBy})]}),a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700 leading-relaxed",children:E.definitionChange}),a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700 leading-relaxed",children:E.formulaChange}),a.jsx("td",{className:"px-3 py-2",children:a.jsx(p8,{screens:E.impactedScreens,onNavigate:e,kpiId:o})})]},`${o}-${E.version}-${E.changedAt}`))})]})})]})]})]})]}),a.jsxs(Nr,{children:[a.jsx(pn,{children:a.jsx(mn,{className:"text-base",children:" KPI   ()"})}),a.jsx(Sr,{className:"pt-0",children:a.jsx("div",{className:"overflow-auto rounded-md border border-gray-200",children:a.jsxs("table",{className:"w-full min-w-[920px]",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:""}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:"KPI"}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:""}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-700",children:" "})]})}),a.jsx("tbody",{children:_.map(E=>a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:E.changedAt}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("button",{type:"button",onClick:()=>l(E.id),className:"text-xs font-semibold text-blue-700 hover:underline",children:E.kpiName})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:`inline-flex items-center rounded-md border px-2 py-1 text-[11px] font-medium ${wA[E.category]}`,children:E.category})}),a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700 leading-relaxed",children:E.definitionChange}),a.jsx("td",{className:"px-3 py-2 text-xs text-gray-700 leading-relaxed",children:E.formulaChange}),a.jsx("td",{className:"px-3 py-2",children:a.jsx(p8,{screens:E.impactedScreens,onNavigate:e,kpiId:E.id})})]},`${E.id}-${E.version}-${E.changedAt}`))})]})})})]})]})}function f5e(e){const t=p5e(e),r=g.forwardRef((n,s)=>{const{children:i,...o}=n,l=g.Children.toArray(i),d=l.find(h5e);if(d){const u=d.props.children,m=l.map(p=>p===d?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,m):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function p5e(e){const t=g.forwardRef((r,n)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const o=x5e(s),l=g5e(i,s.props);return s.type!==g.Fragment&&(l.ref=n?uu(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var m5e=Symbol("radix.slottable");function h5e(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===m5e}function g5e(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function x5e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var l1="Popover",[mq]=Ai(l1,[qp]),q0=qp(),[b5e,od]=mq(l1),hq=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=q0(t),d=g.useRef(null),[u,m]=g.useState(!1),[p,h]=Fl({prop:n,defaultProp:s??!1,onChange:i,caller:l1});return a.jsx(k3,{...l,children:a.jsx(b5e,{scope:t,contentId:Uo(),triggerRef:d,open:p,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(b=>!b),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>m(!0),[]),onCustomAnchorRemove:g.useCallback(()=>m(!1),[]),modal:o,children:r})})};hq.displayName=l1;var gq="PopoverAnchor",y5e=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=od(gq,r),i=q0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Qv,{...i,...n,ref:t})});y5e.displayName=gq;var xq="PopoverTrigger",bq=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=od(xq,r),i=q0(r),o=yr(t,s.triggerRef),l=a.jsx(nr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jq(s.open),...n,ref:o,onClick:Ot(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Qv,{asChild:!0,...i,children:l})});bq.displayName=xq;var V3="PopoverPortal",[v5e,N5e]=mq(V3,{forceMount:void 0}),yq=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=od(V3,t);return a.jsx(v5e,{scope:t,forceMount:r,children:a.jsx(is,{present:r||i.open,children:a.jsx(k0,{asChild:!0,container:s,children:n})})})};yq.displayName=V3;var Ep="PopoverContent",vq=g.forwardRef((e,t)=>{const r=N5e(Ep,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=od(Ep,e.__scopePopover);return a.jsx(is,{present:n||i.open,children:i.modal?a.jsx(j5e,{...s,ref:t}):a.jsx(w5e,{...s,ref:t})})});vq.displayName=Ep;var S5e=f5e("PopoverContent.RemoveScroll"),j5e=g.forwardRef((e,t)=>{const r=od(Ep,e.__scopePopover),n=g.useRef(null),s=yr(t,n),i=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(o)return FT(o)},[]),a.jsx(Xy,{as:S5e,allowPinchZoom:!0,children:a.jsx(Nq,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ot(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ot(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),w5e=g.forwardRef((e,t)=>{const r=od(Ep,e.__scopePopover),n=g.useRef(!1),s=g.useRef(!1);return a.jsx(Nq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Nq=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:m,...p}=e,h=od(Ep,r),b=q0(r);return $T(),a.jsx(Vy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(T0,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(O3,{"data-state":jq(h.open),role:"dialog",id:h.contentId,...b,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Sq="PopoverClose",E5e=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=od(Sq,r);return a.jsx(nr.button,{type:"button",...n,ref:t,onClick:Ot(e.onClick,()=>s.onOpenChange(!1))})});E5e.displayName=Sq;var A5e="PopoverArrow",_5e=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=q0(r);return a.jsx(R3,{...s,...n,ref:t})});_5e.displayName=A5e;function jq(e){return e?"open":"closed"}var wq=hq,Eq=bq,Aq=yq,_q=vq;const pa="2026-02-12",Ac=`: ${pa}  D-1`,vh={baseDate:pa,receiveDeadline:"08:30",modelWindow:"08:35-08:48",dispatchTime:"08:52",status:"partial",impactedStages:["S2","S3"],notes:" (7)   Stage2/3   .",receiveRate:76.4,missingInstitutionCount:7,expectedRetryAt:"2026-02-13 11:30"},kc={baseDate:pa,receivedN:157204,adPct:23.4,mciPct:62.1,normalPct:14.5},nf={baseDate:pa,stage2ReceivedN:157204,mciEnrollPct:78.6,adEnrollPct:64.2},xf=[{stage:"S1",destination:"",sentCount:38124,failedCount:18,retryCount:18,lastSentAt:"2026-02-13 08:53",slaStatus:"ok"},{stage:"S2",destination:"",sentCount:11832,failedCount:64,retryCount:41,lastSentAt:"2026-02-13 08:54",slaStatus:"delayed"},{stage:"S3",destination:"",sentCount:7405,failedCount:39,retryCount:27,lastSentAt:"2026-02-13 08:56",slaStatus:"delayed"}],C5e=[{key:"total-subjects",label:" ",value:1247653,unit:"",delta:1.2,baseDate:pa,scopeLine:Ac,status:"neutral",help:{title:" ",body:`(D-1): ${pa}
     ( )`}},{key:"s1-applied-rate",label:"1  ",value:87.3,unit:"%",delta:2.1,baseDate:pa,scopeLine:Ac,status:"good",help:{title:"1  ",body:`(D-1): ${pa}
/  1    `},jumpTo:"stage1",modeOverride:{quality:{label:"1  ",value:4.2,unit:"%",status:"warn"},audit:{label:"1   Top1",value:56.3,unit:"%",status:"warn"}}},{key:"s1-high-risk-rate",label:"1  ",value:12.3,unit:"%",delta:-.8,baseDate:pa,scopeLine:Ac,status:"warn",help:{title:"1  ",body:`(D-1): ${pa}
    ''   (  )`},jumpTo:"stage1"},{key:"s2-receive-rate",label:"2  ",value:76.4,unit:"%",delta:-1.7,baseDate:pa,partialStages:["S2","S3"],scopeLine:Ac,status:"warn",help:{title:"2  ",body:`(D-1): ${pa}
 2     
 80%    `},jumpTo:"stage2",modeOverride:{quality:{label:"2 ",value:6.8,unit:"%",status:"warn"},audit:{label:"2  ",value:18.3,unit:"",status:"risk"}}},{key:"s2-distribution",label:"2  (MCI/AD)",value:kc.adPct,valuePrefix:"AD",secondaryValueLine:`MCI ${kc.mciPct}%`,unit:"%",delta:1.1,baseDate:pa,partialStages:["S2"],scopeLine:Ac,status:"risk",help:{title:"2  (MCI/AD)",body:`(D-1): ${kc.baseDate}
: 2     ${kc.receivedN.toLocaleString()}
AD ${kc.adPct}%  MCI ${kc.mciPct}%   ${kc.normalPct}%
  `},jumpTo:"stage2"},{key:"s3-enrollment-rate",label:"MCI/AD ",value:nf.mciEnrollPct,valuePrefix:"MCI",secondaryValueLine:`AD ${nf.adEnrollPct}%`,unit:"%",delta:5.2,baseDate:pa,partialStages:["S3"],scopeLine:Ac,status:"good",help:{title:"MCI/AD ",body:`(D-1): ${nf.baseDate}
: Stage2   ${nf.stage2ReceivedN.toLocaleString()}
: MCI  ${nf.mciEnrollPct}% / AD    ${nf.adEnrollPct}%
: Stage2       (  )
:     `},jumpTo:"stage3",modeOverride:{quality:{label:" ",value:8.1,unit:"%",status:"warn"},audit:{label:"SLA ",value:12,unit:"",status:"risk"}}},{key:"s3-adherence-rate",label:"3  ",value:71.4,unit:"%",delta:-2.3,baseDate:pa,partialStages:["S3"],scopeLine:Ac,status:"warn",help:{title:" ",body:`(D-1): ${pa}
 //    `},jumpTo:"stage3"},{key:"sla-violation",label:"SLA /",value:12,unit:"",delta:-3,baseDate:pa,partialStages:["S2","S3"],scopeLine:Ac,status:"risk",help:{title:"SLA ",body:`(D-1): ${pa}
      `}}],EA=[{stageId:"stage1",examLabel:"1 ",title:"1 ",purposeLine:"   '  '     ",inputs:[{name:" ",desc:"  "},{name:"/",desc:"   "},{name:"",desc:", ,   "},{name:"  ",desc:"   "}],processing:[{name:"Stage1 Risk Scoring",desc:"  ",version:"v3.2.1"},{name:"Eligibility Rules",desc:"   ",version:"v1.4"}],outputs:[{name:"risk_score",desc:"   (0100)"},{name:"risk_band",desc:" /  / "},{name:"reason_codes",desc:" 35  "},{name:"data_quality_flags",desc:"  "}],transition:[{to:"stage2",ruleLine:"(risk_band=)  2  "},{to:"end",ruleLine:"/   (6)"}],metrics:{applied:1089353,appliedRate:87.3,conversionRate:14.4,avgLatencyDays:3.2,topIssues:[{code:"NA-01",label:" ",count:89234},{code:"NA-02",label:" ",count:45678},{code:"NA-03",label:"",count:23388}]}},{stageId:"stage2",examLabel:"2 ",title:"2  ",purposeLine:"/   ' ' ,     ",inputs:[{name:"1  ",desc:"Stage1 risk_score, risk_band, reason_codes"},{name:"2  ",desc:"PET/MRI/   "}],processing:[{name:"  ",desc:"   ",version:"v2.1"},{name:"Consistency Check",desc:"  vs    ()",version:"v1.2"}],outputs:[{name:"diagnosis_class",desc:"AD / MCI /  (  )"},{name:"model_support_signal",desc:"   (//)"},{name:"next_step_policy",desc:"3  /  /  "}],transition:[{to:"stage3",ruleLine:"MCI   3  "},{to:"end",ruleLine:"AD     /    "}],metrics:{applied:157204,appliedRate:91.1,conversionRate:38.4,avgLatencyDays:18.3,topIssues:[{code:"DL-01",label:"  (30+)",count:4128},{code:"DL-02",label:"( vs )",count:2347}]}},{stageId:"stage3",examLabel:"3 ",title:"3  ",purposeLine:"MCI/AD     ",inputs:[{name:"2  ",desc:"diagnosis_class=MCI/AD,  "},{name:"3  ",desc:"//  "}],processing:[{name:"MCI Follow-up Prioritizer",desc:"   ",version:"v2.0"},{name:"Transition Policy",desc:"//  ",version:"v1.3"}],outputs:[{name:"followup_priority",desc:"High / Med / Low"},{name:"recommended_actions",desc:"//  "},{name:"adherence_metrics",desc:" "},{name:"drop_off_reason",desc:"  "}],transition:[{to:"end",ruleLine:"  /  /    / AD   "}],metrics:{applied:60234,appliedRate:78.6,conversionRate:71.4,avgLatencyDays:14.7,topIssues:[{code:"FU-01",label:"  ",count:3891},{code:"FU-02",label:"()",count:1245},{code:"FU-03",label:" ",count:987}]}}],T5e=[{id:"in-health",group:"input",label:"",shortDesc:" ",stageTag:"stage1"},{id:"in-survey",group:"input",label:"/",shortDesc:"   ",stageTag:"stage1"},{id:"in-admin",group:"input",label:"",shortDesc:", , ",stageTag:"stage1"},{id:"in-history",group:"input",label:"",shortDesc:"   ",stageTag:"stage1"},{id:"in-cogtest",group:"input",label:" ",shortDesc:"MMSE/MoCA/CDR ",stageTag:"stage2"},{id:"in-biomarker",group:"input",label:"/",shortDesc:"A42, p-tau, NfL ",stageTag:"stage2"},{id:"in-survey2",group:"input",label:"2 ",shortDesc:"  +  ",stageTag:"stage2"},{id:"in-medhist",group:"input",label:"/",shortDesc:", / ",stageTag:"stage2"},{id:"in-mri",group:"input",label:"MRI ",shortDesc:" ,   ",stageTag:"stage3"},{id:"in-pet",group:"input",label:"PET ",shortDesc:"A/Tau SUVR, Centiloid",stageTag:"stage3"},{id:"in-imgderiv",group:"input",label:" ",shortDesc:"ROI ,  ",stageTag:"stage3"},{id:"in-followup",group:"input",label:"",shortDesc:"// ",stageTag:"stage3"},{id:"ft-builder",group:"feature",label:"S1 Feature Builder",shortDesc:"1  ",stageTag:"stage1"},{id:"ft-s2-vec",group:"feature",label:"S2 Vectorizer",shortDesc:"++ ",stageTag:"stage2"},{id:"ft-s3-enc",group:"feature",label:"S3 Encoder",shortDesc:"MRI/PET  ",stageTag:"stage3"},{id:"md-s1-risk",group:"model",label:"S1 Risk Scoring",shortDesc:"   v3.2.1",stageTag:"stage1"},{id:"md-s1-rule",group:"model",label:"Eligibility Rules",shortDesc:"    v1.4",stageTag:"stage1"},{id:"md-s2-ann",group:"model",label:"S2 ANN Classifier",shortDesc:"ANN    v1.0",stageTag:"stage2"},{id:"md-s2-consist",group:"model",label:"Consistency Check",shortDesc:"   v1.2",stageTag:"stage2"},{id:"md-s3-cnn",group:"model",label:"S3 CNN Classifier",shortDesc:"CNN    v1.0",stageTag:"stage3"},{id:"md-s3-prio",group:"model",label:"MCI Prioritizer",shortDesc:"   v2.0",stageTag:"stage3"},{id:"md-guardrail",group:"model",label:"Post-Model Guardrails",shortDesc:"  v1.0",stageTag:"common"},{id:"md-transition",group:"model",label:"Transition Policy",shortDesc:"    v1.3",stageTag:"common"},{id:"out-score",group:"output",label:"risk_score",shortDesc:"   0100",stageTag:"stage1"},{id:"out-band",group:"output",label:"risk_band",shortDesc:"//",stageTag:"stage1"},{id:"out-reason",group:"output",label:"reason_codes",shortDesc:" 35  ",stageTag:"stage1"},{id:"out-quality",group:"output",label:"data_quality_flags",shortDesc:"  ",stageTag:"stage1"},{id:"out-s2-class",group:"output",label:"s2_support_class",shortDesc:"   ()",stageTag:"stage2"},{id:"out-s2-conf",group:"output",label:"s2_support_confidence",shortDesc:"  ",stageTag:"stage2"},{id:"out-s2-reason",group:"output",label:"s2_reason_codes",shortDesc:"S2   ",stageTag:"stage2"},{id:"out-diag",group:"output",label:"diagnosis_class",shortDesc:"AD/MCI/ ( )",stageTag:"stage2",isExternal:!0},{id:"out-signal",group:"output",label:"model_support_signal",shortDesc:"// ()",stageTag:"stage2"},{id:"out-s3-class",group:"output",label:"s3_support_class",shortDesc:"   ()",stageTag:"stage3"},{id:"out-s3-conf",group:"output",label:"s3_support_confidence",shortDesc:"  ",stageTag:"stage3"},{id:"out-s3-reason",group:"output",label:"s3_reason_codes",shortDesc:"S3   ",stageTag:"stage3"},{id:"out-priority",group:"output",label:"followup_priority",shortDesc:"High/Med/Low",stageTag:"stage3"},{id:"out-actions",group:"output",label:"recommended_actions",shortDesc:"  ",stageTag:"stage3"},{id:"out-guardrail",group:"output",label:"guardrail_flags",shortDesc:"/  ",stageTag:"common"},{id:"dispatch-s1",group:"dispatch",label:"S1 Dispatch",shortDesc:"   /   ",stageTag:"stage1"},{id:"dispatch-s2",group:"dispatch",label:"S2 Dispatch",shortDesc:"    /  ",stageTag:"stage2"},{id:"dispatch-s3",group:"dispatch",label:"S3 Dispatch",shortDesc:"  High /  ",stageTag:"stage3"},{id:"ops-case",group:"ops",label:" ",shortDesc:"  ",stageTag:"stage1"},{id:"ops-booking",group:"ops",label:" ",shortDesc:"2   ",stageTag:"stage1"},{id:"ops-s2-prio",group:"ops",label:"2  ",shortDesc:"2   ",stageTag:"stage2"},{id:"ops-s3-route",group:"ops",label:" ",shortDesc:"3   ",stageTag:"stage3"},{id:"ops-s3-resched",group:"ops",label:"/ ",shortDesc:"  ",stageTag:"stage3"},{id:"ops-resource",group:"ops",label:" ",shortDesc:"  ",stageTag:"common"},{id:"ops-tracking",group:"ops",label:"MCI ",shortDesc:"  ",stageTag:"stage3"}],k5e=[{from:"in-health",to:"ft-builder",label:" "},{from:"in-survey",to:"ft-builder",label:" "},{from:"in-admin",to:"ft-builder",label:" "},{from:"in-history",to:"ft-builder",label:" "},{from:"ft-builder",to:"md-s1-risk",label:" "},{from:"ft-builder",to:"md-s1-rule",label:" "},{from:"md-s1-risk",to:"out-score",label:"risk_score"},{from:"md-s1-risk",to:"out-band",label:"risk_band"},{from:"md-s1-risk",to:"out-reason",label:"reason_codes"},{from:"md-s1-rule",to:"out-quality",label:"quality_flags"},{from:"out-score",to:"md-guardrail",label:"S1 "},{from:"out-score",to:"dispatch-s1",label:"  "},{from:"out-band",to:"dispatch-s1",label:"  "},{from:"dispatch-s1",to:"ops-case",label:"  "},{from:"dispatch-s1",to:"ops-booking",label:"  "},{from:"in-cogtest",to:"ft-s2-vec",label:" "},{from:"in-biomarker",to:"ft-s2-vec",label:""},{from:"in-survey2",to:"ft-s2-vec",label:"2 "},{from:"in-medhist",to:"ft-s2-vec",label:""},{from:"out-band",to:"ft-s2-vec",label:"1  ",style:"dashed"},{from:"ft-s2-vec",to:"md-s2-ann",label:"S2 "},{from:"md-s2-ann",to:"out-s2-class",label:" "},{from:"md-s2-ann",to:"out-s2-conf",label:""},{from:"md-s2-ann",to:"out-s2-reason",label:" "},{from:"out-s2-class",to:"md-guardrail",label:"S2 "},{from:"out-diag",to:"md-s2-consist",label:" ",style:"dashed"},{from:"out-s2-class",to:"md-s2-consist",label:"  "},{from:"md-s2-consist",to:"out-signal",label:" "},{from:"out-diag",to:"md-transition",style:"dashed"},{from:"out-diag",to:"dispatch-s2",label:"   "},{from:"out-signal",to:"dispatch-s2",label:" "},{from:"dispatch-s2",to:"ops-s2-prio",label:" "},{from:"in-mri",to:"ft-s3-enc",label:"MRI "},{from:"in-pet",to:"ft-s3-enc",label:"PET "},{from:"in-imgderiv",to:"ft-s3-enc",label:" "},{from:"in-followup",to:"md-s3-prio",label:" "},{from:"ft-s3-enc",to:"md-s3-cnn",label:"S3 "},{from:"md-s3-cnn",to:"out-s3-class",label:" "},{from:"md-s3-cnn",to:"out-s3-conf",label:""},{from:"md-s3-cnn",to:"out-s3-reason",label:" "},{from:"out-s3-class",to:"md-guardrail",label:"S3 "},{from:"md-s3-prio",to:"out-priority",label:""},{from:"md-s3-prio",to:"out-actions",label:" "},{from:"md-transition",to:"md-s3-prio",label:"MCI "},{from:"md-guardrail",to:"out-guardrail",label:" "},{from:"out-priority",to:"dispatch-s3",label:"High  "},{from:"out-actions",to:"dispatch-s3",label:"  "},{from:"out-guardrail",to:"dispatch-s3",label:"  "},{from:"dispatch-s3",to:"ops-tracking",label:" "},{from:"dispatch-s3",to:"ops-resource",label:"  "},{from:"dispatch-s3",to:"ops-s3-route",label:" "},{from:"dispatch-s3",to:"ops-s3-resched",label:" "}],Ut="  : /.     .",O5e={"batch-cycle":{id:"batch-cycle",definition:{what:"D-1     / /   .",why:"           .",whereUsed:["Batch Cycle Banner","  ","  "],responsibility:Ut},dataContract:{outputs:[{field:"baseDate",type:"date",nullable:!1,note:"D-1 "},{field:"receiveDeadline",type:"time",nullable:!1,note:"  "},{field:"modelWindow",type:"string",nullable:!1,note:"  "},{field:"dispatchTime",type:"time",nullable:!1,note:"  "}],refreshCadence:" 1 "},qualityAudit:{changeLog:[{version:"BATCH-2026-02-13",date:"2026-02-13",summary:"S2/S3      "}]},batchSummary:{impactedStages:vh.impactedStages,receiveRate:vh.receiveRate,missingInstitutionCount:vh.missingInstitutionCount,expectedRetryAt:vh.expectedRetryAt,impactedMetrics:["2  (MCI/AD)","MCI/AD ","3  "],dispatchLogs:xf}},stage1:{id:"stage1",definition:{what:"   '  '     .",why:" 2     ,     .",whereUsed:[" "," ","   "],responsibility:Ut},dataContract:{inputs:[{field:"health_exam_result",type:"object",nullable:!1,note:"  "},{field:"survey_responses",type:"array",nullable:!0,note:"/ "},{field:"admin_info",type:"object",nullable:!1,note:", "},{field:"prior_screening_history",type:"array",nullable:!0,note:"  "}],outputs:[{field:"risk_score",type:"number(0-100)",nullable:!1},{field:"risk_band",type:"enum(||)",nullable:!1},{field:"reason_codes",type:"string[]",nullable:!1,note:" 35 "},{field:"data_quality_flags",type:"string[]",nullable:!0},{field:"transition_eligible",type:"boolean",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:4.2,driftSignals:[{name:"risk_score  ",level:"low",note:" +1.3 ( )"}],biasAlerts:[{group:"75+ ",level:"mid",note:"     +8.1%p"}],changeLog:[{version:"v3.2.1",date:"2026-01-15",summary:"  ",impact:"75+  -2.3%p"},{version:"v3.2.0",date:"2025-12-01",summary:"BMI  ",impact:"  +1.1%p"},{version:"v3.1.0",date:"2025-09-20",summary:"   "}]}},stage2:{id:"stage2",definition:{what:"/   ' ' ,     .",why:" ( )  ()    ,  /   .",whereUsed:["2   "," ","3   "],responsibility:Ut},dataContract:{inputs:[{field:"stage1_result",type:"object",nullable:!1,note:"risk_score, risk_band"},{field:"exam_result",type:"object",nullable:!1,note:"PET/MRI/"}],outputs:[{field:"diagnosis_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"  =  "},{field:"model_support_signal",type:"enum(||)",nullable:!1,note:"  = ()"},{field:"next_step_policy",type:"enum(3||)",nullable:!1}],refreshCadence:" 1  (D-1  )"},qualityAudit:{missingRate:8.9,driftSignals:[{name:" ",level:"mid",note:"  +1.2%p "}],biasAlerts:[{group:" ",level:"mid",note:"    +5.2"}],changeLog:[{version:"v2.1",date:"2026-01-20",summary:"  ",impact:" +3.4%p"},{version:"v2.0",date:"2025-11-15",summary:"PET/MRI   "}]},batchSummary:{impactedStages:["S2","S3"],receiveRate:76.4,missingInstitutionCount:7,expectedRetryAt:"2026-02-13 11:30",impactedMetrics:["2  (MCI/AD)","MCI/AD ","3  "]}},stage3:{id:"stage3",definition:{what:"MCI/AD    // .",why:"MCI Track/AD           .",whereUsed:["MCI   ","AD   "," ","  "],responsibility:Ut},dataContract:{inputs:[{field:"diagnosis_class",type:"enum(MCI|AD)",nullable:!1,note:"2  "},{field:"followup_history",type:"array",nullable:!0,note:"// "}],outputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1},{field:"recommended_actions",type:"string[]",nullable:!1},{field:"adherence_metrics",type:"object",nullable:!1},{field:"drop_off_reason",type:"string",nullable:!0}],refreshCadence:" 1  (D-1  )"},qualityAudit:{missingRate:8.1,driftSignals:[{name:"  ",level:"mid",note:"3  -1.5%p/"}],biasAlerts:[{group:" ",level:"high",note:"   +12.3%p"}],changeLog:[{version:"v2.0",date:"2026-01-10",summary:"   ",impact:"High  +4.2%p"},{version:"v1.3",date:"2025-10-05",summary:"    "}]}},"md-s1-risk":{id:"md-s1-risk",definition:{what:"    (0100)    .",why:"     2     .",whereUsed:["1  risk_score ","  "],responsibility:Ut},dataContract:{inputs:[{field:"feature_vector",type:"number[48]",nullable:!1,note:"Feature Builder "}],outputs:[{field:"risk_score",type:"number(0-100)",nullable:!1},{field:"risk_band",type:"enum",nullable:!1},{field:"reason_codes",type:"string[3-5]",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:.3,driftSignals:[{name:"  ",level:"low",note:"PSI 0.02 ()"}],biasAlerts:[],changeLog:[{version:"v3.2.1",date:"2026-01-15",summary:"   "},{version:"v3.2.0",date:"2025-12-01",summary:"BMI  "}]}},"ft-builder":{id:"ft-builder",definition:{what:"1         .",why:"        .",whereUsed:["Stage1 Risk Scoring ","Eligibility Rules "],responsibility:Ut},dataContract:{inputs:[{field:"raw_health_exam",type:"object",nullable:!1},{field:"raw_survey",type:"array",nullable:!0},{field:"raw_admin",type:"object",nullable:!1}],outputs:[{field:"feature_vector",type:"number[48]",nullable:!1},{field:"missing_flags",type:"string[]",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:4.2,driftSignals:[],biasAlerts:[],changeLog:[{version:"v2.1",date:"2025-12-01",summary:"BMI   "}]}},"ft-s2-vec":{id:"ft-s2-vec",definition:{what:"  ANN    .",why:"  2      ANN   .",whereUsed:["S2 ANN Classifier "],responsibility:Ut},dataContract:{inputs:[{field:"cogtest_features",type:"number[6]",nullable:!1,note:" "},{field:"biomarker_features",type:"number[4]",nullable:!0,note:" "},{field:"survey2_features",type:"number[8]",nullable:!0,note:"2  "},{field:"medhist_features",type:"number[5]",nullable:!0,note:" "}],outputs:[{field:"s2_feature_vector",type:"number[64]",nullable:!1},{field:"missing_flags",type:"string[]",nullable:!0}],refreshCadence:"  "},qualityAudit:{missingRate:8.3,driftSignals:[{name:"  ",level:"low",note:"PSI 0.03 ()"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2026-01-15",summary:" "}]}},"ft-s3-enc":{id:"ft-s3-enc",definition:{what:"MRI/PET   CNN    .",why:"  3D    CNN       .",whereUsed:["S3 CNN Classifier "],responsibility:Ut},dataContract:{inputs:[{field:"mri_features",type:"number[128]",nullable:!1,note:"MRI  "},{field:"pet_features",type:"number[64]",nullable:!0,note:"PET  "},{field:"derived_metrics",type:"number[16]",nullable:!0,note:"  "}],outputs:[{field:"s3_tensor",type:"tensor[1,208]",nullable:!1},{field:"missing_flags",type:"string[]",nullable:!0}],refreshCadence:"  "},qualityAudit:{missingRate:18.7,driftSignals:[{name:"  ",level:"mid",note:"    4.2%"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2026-01-20",summary:" "}]}},"in-health":{id:"in-health",definition:{what:"    .",why:"1     , BMI    .",whereUsed:["Feature Builder ","1  risk_score "],responsibility:Ut},dataContract:{inputs:[{field:"exam_date",type:"date",nullable:!1,note:" "},{field:"bmi",type:"number",nullable:!0,note:""},{field:"blood_pressure",type:"object",nullable:!0,note:"/"},{field:"chronic_diseases",type:"string[]",nullable:!0,note:" "}],refreshCadence:" 1  "},qualityAudit:{missingRate:3.1,driftSignals:[{name:"   ",level:"low",note:" 2 "}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-06-01",summary:"  "}]}},"in-survey":{id:"in-survey",definition:{what:"        .",why:" ,           .",whereUsed:["Feature Builder "],responsibility:Ut},dataContract:{inputs:[{field:"survey_id",type:"string",nullable:!1},{field:"responses",type:"object[]",nullable:!1,note:" "}],refreshCadence:"  1"},qualityAudit:{missingRate:12.7,driftSignals:[],biasAlerts:[{group:"75+ ",level:"mid",note:"   +8%p"}],changeLog:[{version:"v1.2",date:"2025-11-01",summary:"  (1520)"}]}},"in-admin":{id:"in-admin",definition:{what:" (, ,  ).",why:"  ,         .",whereUsed:["Feature Builder ","    "],responsibility:Ut},dataContract:{inputs:[{field:"address",type:"object",nullable:!1},{field:"household_type",type:"enum",nullable:!0,note:"//"},{field:"contact_phone",type:"string",nullable:!0}],refreshCadence:"/ "},qualityAudit:{missingRate:5.4,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.1",date:"2025-08-15",summary:"  "}]}},"in-history":{id:"in-history",definition:{what:"  1      .",why:"            .",whereUsed:["Feature Builder "],responsibility:Ut},dataContract:{inputs:[{field:"prior_risk_scores",type:"number[]",nullable:!0},{field:"prior_risk_bands",type:"string[]",nullable:!0},{field:"last_screening_date",type:"date",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:18.3,driftSignals:[{name:"    ",level:"low",note:"22.1% ( )"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-06-01",summary:" "}]}},"in-exam":{id:"in-cogtest",definition:{what:"(MMSE, MoCA, CDR )   .",why:"2 ANN   ,      .",whereUsed:["S2 Vectorizer ","ANN Classifier "],responsibility:Ut},dataContract:{inputs:[{field:"mmse_score",type:"number(0-30)",nullable:!1,note:"MMSE "},{field:"moca_score",type:"number(0-30)",nullable:!0,note:"MoCA "},{field:"cdr_global",type:"number(0-3)",nullable:!0,note:"CDR  "},{field:"exam_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:6.4,driftSignals:[{name:"   ",level:"low",note:"MoCA v8.1  v7.1  2.1%"}],biasAlerts:[{group:" ",level:"mid",note:"MMSE    +6.2%p"}],changeLog:[{version:"v1.0",date:"2025-09-01",summary:"  "}]}},"in-cogtest":{id:"in-cogtest",definition:{what:"(MMSE, MoCA, CDR )   .",why:"2 ANN   ,      .",whereUsed:["S2 Vectorizer ","ANN Classifier "],responsibility:Ut},dataContract:{inputs:[{field:"mmse_score",type:"number(0-30)",nullable:!1,note:"MMSE "},{field:"moca_score",type:"number(0-30)",nullable:!0,note:"MoCA "},{field:"cdr_global",type:"number(0-3)",nullable:!0,note:"CDR  "},{field:"exam_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:6.4,driftSignals:[{name:"   ",level:"low",note:"MoCA v8.1  v7.1  2.1%"}],biasAlerts:[{group:" ",level:"mid",note:"MMSE    +6.2%p"}],changeLog:[{version:"v1.0",date:"2025-09-01",summary:"  "}]}},"in-biomarker":{id:"in-biomarker",definition:{what:"  (A42, p-tau181, NfL )  .",why:"ANN   ,     .",whereUsed:["S2 Vectorizer "],responsibility:Ut},dataContract:{inputs:[{field:"ab42_ratio",type:"number",nullable:!0,note:"A42/40 "},{field:"ptau181",type:"number",nullable:!0,note:"pg/mL"},{field:"nfl",type:"number",nullable:!0,note:"Neurofilament light"},{field:"sample_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:22.1,driftSignals:[{name:"  ",level:"mid",note:"Elecsys  Lumipulse   2.3% "}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-10-01",summary:" "}]}},"in-survey2":{id:"in-survey2",definition:{what:"2         .",why:"          .",whereUsed:["S2 Vectorizer "],responsibility:Ut},dataContract:{inputs:[{field:"adl_score",type:"number",nullable:!0,note:" "},{field:"iadl_score",type:"number",nullable:!0,note:" "},{field:"guardian_responses",type:"object[]",nullable:!0,note:"  "}],refreshCadence:"2   1"},qualityAudit:{missingRate:15.3,driftSignals:[],biasAlerts:[{group:" ",level:"high",note:"   42.1%"}],changeLog:[{version:"v1.0",date:"2025-11-01",summary:" "}]}},"in-medhist":{id:"in-medhist",definition:{what:"     () .",why:"           .",whereUsed:["S2 Vectorizer "],responsibility:Ut},dataContract:{inputs:[{field:"rx_codes",type:"string[]",nullable:!0,note:"  ATC "},{field:"visit_history",type:"object[]",nullable:!0,note:"/ "},{field:"comorbidity_index",type:"number",nullable:!0,note:"Charlson  "}],refreshCadence:" 1 "},qualityAudit:{missingRate:11.7,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-11-15",summary:"   "}]}},"in-mri":{id:"in-mri",definition:{what:" MRI   ,  ,     .",why:"3 CNN   ,      .",whereUsed:["S3 Encoder ","CNN Classifier "],responsibility:Ut},dataContract:{inputs:[{field:"hippocampal_volume",type:"number",nullable:!1,note:"  (mm)"},{field:"cortical_thickness",type:"number[]",nullable:!0,note:"ROI  "},{field:"ventricular_ratio",type:"number",nullable:!0,note:" "},{field:"scan_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:14.2,driftSignals:[{name:"  ",level:"mid",note:"3T/1.5T     3.1%"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2025-12-01",summary:"FreeSurfer  "}]}},"in-pet":{id:"in-pet",definition:{what:"/ PET  SUVR, Centiloid   .",why:"       CNN   .",whereUsed:["S3 Encoder "],responsibility:Ut},dataContract:{inputs:[{field:"amyloid_suvr",type:"number",nullable:!0,note:"A PET SUVR"},{field:"centiloid",type:"number",nullable:!0,note:"Centiloid "},{field:"tau_suvr",type:"number",nullable:!0,note:"Tau PET SUVR"},{field:"scan_date",type:"date",nullable:!1}],refreshCadence:"  1"},qualityAudit:{missingRate:31.4,driftSignals:[{name:"  ",level:"mid",note:"Florbetaben vs Flutemetamol "}],biasAlerts:[{group:" ",level:"high",note:"PET      +18%p"}],changeLog:[{version:"v1.0",date:"2025-12-15",summary:"PET   "}]}},"in-imgderiv":{id:"in-imgderiv",definition:{what:"MRI/PET     (ROI ,   ).",why:"          .",whereUsed:["S3 Encoder "],responsibility:Ut},dataContract:{inputs:[{field:"atrophy_index",type:"number",nullable:!0,note:"   "},{field:"roi_ratios",type:"number[]",nullable:!0,note:"ROI  "},{field:"asymmetry_score",type:"number",nullable:!0,note:"  "}],refreshCadence:"MRI/PET   "},qualityAudit:{missingRate:16.8,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.0",date:"2026-01-05",summary:"   "}]}},"in-followup":{id:"in-followup",definition:{what:"MCI   //   .",why:"  ,     .",whereUsed:["MCI Prioritizer "," "],responsibility:Ut},dataContract:{inputs:[{field:"visit_records",type:"object[]",nullable:!0},{field:"last_contact_date",type:"date",nullable:!0},{field:"program_participation",type:"string[]",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:8.1,driftSignals:[{name:" ",level:"mid",note:"3  -1.5%p/"}],biasAlerts:[{group:" ",level:"high",note:" +12.3%p"}],changeLog:[{version:"v1.0",date:"2025-06-01",summary:" "}]}},"md-s1-rule":{id:"md-s1-rule",definition:{what:"       .",why:",   ,         .",whereUsed:["1    ","   "],responsibility:Ut},dataContract:{inputs:[{field:"base_criteria",type:"object",nullable:!1,note:"//"}],outputs:[{field:"eligible",type:"boolean",nullable:!1},{field:"exclusion_reason",type:"string",nullable:!0},{field:"data_quality_flags",type:"string[]",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.4",date:"2025-12-15",summary:"75+  "},{version:"v1.3",date:"2025-09-01",summary:"   "}]}},"md-s2-ann":{id:"md-s2-ann",definition:{what:"   2     ANN .",why:"        ,     .",whereUsed:["S2    ","Consistency Check  "],responsibility:Ut},dataContract:{inputs:[{field:"s2_feature_vector",type:"number[64]",nullable:!1,note:"S2 Vectorizer "}],outputs:[{field:"s2_support_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"  ()"},{field:"s2_support_confidence",type:"number(0-1)",nullable:!1,note:" "},{field:"s2_reason_codes",type:"string[3-5]",nullable:!1,note:"  "}],refreshCadence:"  "},qualityAudit:{missingRate:.5,driftSignals:[{name:"  ",level:"low",note:"PSI 0.04 ()"}],biasAlerts:[{group:"75+ ",level:"mid",note:"AD    +5.4%p"}],changeLog:[{version:"v1.0",date:"2026-01-15",summary:"ANN Classifier  "}]}},"md-s2-consist":{id:"md-s2-consist",definition:{what:"  2   1       .",why:" (: 1   2 AD)    .",whereUsed:[" ","model_support_signal "],responsibility:Ut},dataContract:{inputs:[{field:"stage1_risk_band",type:"enum",nullable:!1},{field:"exam_diagnosis",type:"enum(AD|MCI|NORMAL)",nullable:!1}],outputs:[{field:"model_support_signal",type:"enum(||)",nullable:!1},{field:"inconsistency_score",type:"number",nullable:!1}],refreshCadence:""},qualityAudit:{missingRate:0,driftSignals:[{name:" ",level:"mid",note:"  +1.2%p"}],biasAlerts:[],changeLog:[{version:"v1.2",date:"2026-01-10",summary:"  "}]}},"md-transition":{id:"md-transition",definition:{what:"2     (3 //)   .",why:"         .",whereUsed:["3 MCI   ","/ "],responsibility:Ut},dataContract:{inputs:[{field:"diagnosis_class",type:"enum(AD|MCI|NORMAL)",nullable:!1}],outputs:[{field:"next_step_policy",type:"enum(3||)",nullable:!1}],refreshCadence:""},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[{version:"v1.3",date:"2026-01-10",summary:"MCI   "},{version:"v1.2",date:"2025-10-01",summary:"AD     "}]}},"md-s3-cnn":{id:"md-s3-cnn",definition:{what:"MRI/PET    3     CNN .",why:"     ,       .",whereUsed:["S3    ","Post-Model Guardrails "],responsibility:Ut},dataContract:{inputs:[{field:"s3_tensor",type:"tensor[1,208]",nullable:!1,note:"S3 Encoder "}],outputs:[{field:"s3_support_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"  ()"},{field:"s3_support_confidence",type:"number(0-1)",nullable:!1,note:" "},{field:"s3_reason_codes",type:"string[3-5]",nullable:!1,note:"  "}],refreshCadence:"  "},qualityAudit:{missingRate:.8,driftSignals:[{name:"  ",level:"low",note:"KL divergence 0.02 ()"}],biasAlerts:[{group:"1.5T ",level:"mid",note:"3T   -0.08 "}],changeLog:[{version:"v1.0",date:"2026-02-01",summary:"CNN Classifier  "}]}},"md-s3-prio":{id:"md-s3-prio",definition:{what:"MCI       .",why:"        .",whereUsed:["MCI   ","  "],responsibility:Ut},dataContract:{inputs:[{field:"diagnosis_class",type:"enum(MCI)",nullable:!1},{field:"followup_history",type:"array",nullable:!0}],outputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1},{field:"recommended_actions",type:"string[]",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:.5,driftSignals:[{name:"  ",level:"low",note:"High  +1.2%p"}],biasAlerts:[{group:" ",level:"high",note:"High  +12%p"}],changeLog:[{version:"v2.0",date:"2026-01-10",summary:"  ",impact:"High  +4.2%p"}]}},"out-score":{id:"out-score",definition:{what:"1    (0100).",why:"         .",whereUsed:["  ","  "],responsibility:Ut},dataContract:{outputs:[{field:"risk_score",type:"number(0-100)",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:.3,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-band":{id:"out-band",definition:{what:"  (//).",why:" 3     .",whereUsed:["  ","2   "],responsibility:Ut},dataContract:{outputs:[{field:"risk_band",type:"enum(||)",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-reason":{id:"out-reason",definition:{what:"   35  .",why:"      .",whereUsed:["   ","  "],responsibility:Ut},dataContract:{outputs:[{field:"reason_codes",type:"string[3-5]",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-diag":{id:"out-diag",definition:{what:"2   (AD/MCI/).   ,   .",why:"        .",whereUsed:["3  ","  "],responsibility:Ut},dataContract:{outputs:[{field:"diagnosis_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"  "}],refreshCadence:" (  )"},qualityAudit:{missingRate:8.9,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-signal":{id:"out-signal",definition:{what:"  (//).   1     .",why:"   ,     .",whereUsed:["  "," "],responsibility:Ut},dataContract:{outputs:[{field:"model_support_signal",type:"enum(||)",nullable:!1,note:"  "}],refreshCadence:""},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-priority":{id:"out-priority",definition:{what:"MCI  (High/Med/Low) .",why:"        .",whereUsed:["MCI   ","  "],responsibility:Ut},dataContract:{outputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:.5,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-actions":{id:"out-actions",definition:{what:"   (// ).",why:"       .",whereUsed:["   ","  "],responsibility:Ut},dataContract:{outputs:[{field:"recommended_actions",type:"string[]",nullable:!1}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-quality":{id:"out-quality",definition:{what:"   .",why:"        .",whereUsed:["  ","1   "],responsibility:Ut},dataContract:{outputs:[{field:"data_quality_flags",type:"string[]",nullable:!0}],refreshCadence:" 1 "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s2-class":{id:"out-s2-class",definition:{what:"ANN  2   (AD/MCI/NORMAL).      .",why:"   (Consistency Check)   .",whereUsed:["Consistency Check ","S2  "],responsibility:Ut},dataContract:{outputs:[{field:"s2_support_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"   ()"}],refreshCadence:"  "},qualityAudit:{missingRate:.5,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s2-conf":{id:"out-s2-conf",definition:{what:"ANN   (01).",why:"     ,      .",whereUsed:["2   "," "],responsibility:Ut},dataContract:{outputs:[{field:"s2_support_confidence",type:"number(0-1)",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s2-reason":{id:"out-s2-reason",definition:{what:"ANN   35   .",why:"       .",whereUsed:["Inspector "," "],responsibility:Ut},dataContract:{outputs:[{field:"s2_reason_codes",type:"string[3-5]",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s3-class":{id:"out-s3-class",definition:{what:"CNN  3   (AD/MCI/NORMAL).      .",why:"        .",whereUsed:["3  ","Guardrails "],responsibility:Ut},dataContract:{outputs:[{field:"s3_support_class",type:"enum(AD|MCI|NORMAL)",nullable:!1,note:"   ()"}],refreshCadence:"  "},qualityAudit:{missingRate:.8,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s3-conf":{id:"out-s3-conf",definition:{what:"CNN   (01).",why:"     .",whereUsed:["   "," "],responsibility:Ut},dataContract:{outputs:[{field:"s3_support_confidence",type:"number(0-1)",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"out-s3-reason":{id:"out-s3-reason",definition:{what:"CNN   35   .",why:"       ROI  .",whereUsed:["Inspector "," "],responsibility:Ut},dataContract:{outputs:[{field:"s3_reason_codes",type:"string[3-5]",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"md-guardrail":{id:"md-guardrail",definition:{what:"S1/S2/S3     ,  ,     .",why:"           .",whereUsed:["guardrail_flags ","/   "],responsibility:Ut},dataContract:{inputs:[{field:"risk_score",type:"number",nullable:!0,note:"S1 "},{field:"s2_support_class",type:"enum",nullable:!0,note:"S2 "},{field:"s3_support_class",type:"enum",nullable:!0,note:"S3 "}],outputs:[{field:"guardrail_flags",type:"string[]",nullable:!1,note:"/ "},{field:"confidence_adjusted",type:"boolean",nullable:!1}],refreshCadence:"   "},qualityAudit:{missingRate:0,driftSignals:[{name:" ",level:"low",note:"2.1% ( )"}],biasAlerts:[],changeLog:[{version:"v1.0",date:"2026-02-01",summary:"Guardrails  "}]}},"out-guardrail":{id:"out-guardrail",definition:{what:"Post-Model Guardrails  /  .",why:"        .",whereUsed:["/  "," "],responsibility:Ut},dataContract:{outputs:[{field:"guardrail_flags",type:"string[]",nullable:!1,note:"/ "}],refreshCadence:"   "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"dispatch-s1":{id:"dispatch-s1",definition:{what:"S1 (  /  )      .",why:"          .",whereUsed:["S1 Dispatch ","  "," "],responsibility:Ut},dataContract:{inputs:[{field:"risk_score",type:"number",nullable:!1},{field:"risk_band",type:"enum",nullable:!1}],outputs:[{field:"dispatch_payload",type:"object[]",nullable:!1,note:"  /   "}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]},batchSummary:{dispatchLogs:xf.filter(e=>e.stage==="S1")}},"dispatch-s2":{id:"dispatch-s2",definition:{what:"S2           .",why:"     /  .",whereUsed:["S2 Dispatch ","  ","2  "],responsibility:Ut},dataContract:{inputs:[{field:"diagnosis_class",type:"enum(AD|MCI|NORMAL)",nullable:!1},{field:"model_support_signal",type:"enum(||)",nullable:!1}],outputs:[{field:"dispatch_payload",type:"object[]",nullable:!1,note:"   /  "}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]},batchSummary:{impactedStages:["S2"],dispatchLogs:xf.filter(e=>e.stage==="S2")}},"dispatch-s3":{id:"dispatch-s3",definition:{what:"S3   High         .",why:"/     / .",whereUsed:["S3 Dispatch ","MCI/AD  "," "],responsibility:Ut},dataContract:{inputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1},{field:"recommended_actions",type:"string[]",nullable:!1}],outputs:[{field:"dispatch_payload",type:"object[]",nullable:!1,note:"High   /  "}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]},batchSummary:{impactedStages:["S3"],dispatchLogs:xf.filter(e=>e.stage==="S3")}},"ops-case":{id:"ops-case",definition:{what:"        .",why:"        .",whereUsed:["  "],responsibility:Ut},dataContract:{inputs:[{field:"risk_score",type:"number",nullable:!1},{field:"risk_band",type:"enum",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-booking":{id:"ops-booking",definition:{what:"  2     .",why:"    2     .",whereUsed:["SMS/ ","  "],responsibility:Ut},dataContract:{inputs:[{field:"risk_band",type:"enum",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-resource":{id:"ops-resource",definition:{what:"    (//)   .",why:"      .",whereUsed:["  "," "],responsibility:Ut},dataContract:{inputs:[{field:"recommended_actions",type:"string[]",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-tracking":{id:"ops-tracking",definition:{what:"MCI      .",why:"  //   .",whereUsed:["MCI   "," "],responsibility:Ut},dataContract:{inputs:[{field:"followup_priority",type:"enum(High|Med|Low)",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-s2-prio":{id:"ops-s2-prio",definition:{what:"    2     .",why:" 2        .",whereUsed:["2    "],responsibility:Ut},dataContract:{inputs:[{field:"s2_support_confidence",type:"number(0-1)",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-s3-route":{id:"ops-s3-route",definition:{what:"3    (PET/MRI/)   .",why:"CNN         .",whereUsed:["3   "],responsibility:Ut},dataContract:{inputs:[{field:"s3_support_confidence",type:"number(0-1)",nullable:!1}],refreshCadence:" 1  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}},"ops-s3-resched":{id:"ops-s3-resched",definition:{what:"Guardrails       .",why:"         .",whereUsed:["  ","  "],responsibility:Ut},dataContract:{inputs:[{field:"guardrail_flags",type:"string[]",nullable:!1}],refreshCadence:"  "},qualityAudit:{missingRate:0,driftSignals:[],biasAlerts:[],changeLog:[]}}},m8={ops:{label:"",icon:If,color:"bg-blue-600"},quality:{label:"",icon:zy,color:"bg-amber-500"},audit:{label:"",icon:Wo,color:"bg-purple-600"}};function R5e({mode:e,onChange:t}){return a.jsx("div",{className:"inline-flex items-center rounded-lg border border-slate-200 bg-white p-0.5 shadow-sm",children:Object.keys(m8).map(r=>{const n=m8[r],s=n.icon,i=e===r;return a.jsxs("button",{onClick:()=>t(r),className:`flex items-center gap-1.5 px-3.5 py-1.5 rounded-md text-xs font-semibold transition-all ${i?`${n.color} text-white shadow-sm`:"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[a.jsx(s,{className:"h-3.5 w-3.5"}),n.label]},r)})})}const P5e={completed:{label:"",chip:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:ws},running:{label:"",chip:"bg-blue-100 text-blue-700 border-blue-200",icon:Fo},partial:{label:"",chip:"bg-amber-100 text-amber-700 border-amber-200",icon:Ka},delayed:{label:"",chip:"bg-orange-100 text-orange-700 border-orange-200",icon:Ka},failed:{label:"",chip:"bg-red-100 text-red-700 border-red-200",icon:Mf}};function D5e({meta:e,onOpenDetail:t}){const r=P5e[e.status],n=r.icon,s=e.status==="partial"||e.status==="delayed"||e.status==="failed";return a.jsxs("div",{className:"bg-white border-b border-slate-200 px-5 py-2.5 flex items-center justify-between gap-3 flex-shrink-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-slate-600",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-slate-100 px-2 py-1 text-slate-700 font-semibold",children:["D-1 : ",e.baseDate]}),a.jsxs("span",{className:"rounded-md bg-slate-50 px-2 py-1 border border-slate-200",children:[" : ",e.receiveDeadline]}),a.jsxs("span",{className:"rounded-md bg-slate-50 px-2 py-1 border border-slate-200",children:[" : ",e.modelWindow]}),a.jsxs("span",{className:"rounded-md bg-slate-50 px-2 py-1 border border-slate-200",children:["  : ",e.dispatchTime]}),a.jsxs("span",{className:`inline-flex items-center gap-1 rounded-md border px-2 py-1 font-semibold ${r.chip}`,children:[a.jsx(n,{className:"h-3 w-3"}),": ",r.label]}),s&&e.impactedStages&&e.impactedStages.length>0&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"text-slate-400",children:" Stage"}),e.impactedStages.map(i=>a.jsx("span",{className:"rounded-md bg-amber-100 text-amber-700 border border-amber-200 px-1.5 py-0.5 font-semibold",children:i},i))]}),e.notes&&a.jsx("span",{className:"text-slate-500",children:e.notes})]}),a.jsx("button",{className:"text-[11px] text-blue-600 hover:text-blue-700 font-semibold whitespace-nowrap",onClick:t,children:"  "})]})}const M5e={good:"border-emerald-200 bg-gradient-to-br from-white to-emerald-50/80 shadow-sm",warn:"border-amber-200 bg-gradient-to-br from-white to-amber-50/80 shadow-sm",risk:"border-red-200 bg-gradient-to-br from-white to-red-50/80 shadow-sm",neutral:"border-slate-200 bg-gradient-to-br from-white to-slate-50/60 shadow-sm"},I5e={good:"bg-emerald-500",warn:"bg-amber-500",risk:"bg-red-500",neutral:"bg-slate-400"};function L5e({kpi:e,viewMode:t,onJump:r}){const[n,s]=g.useState(!1),i=e.modeOverride?.[t],o=i?.label??e.label,l=i?.value??e.value,d=i?.valuePrefix??e.valuePrefix,u=i?.secondaryValueLine??e.secondaryValueLine,m=i?.unit??e.unit,p=i?.status??e.status??"neutral",h=m===""?l.toLocaleString():`${l}`,b=e.delta==null?null:e.delta>0?a.jsx(L8,{className:"h-3 w-3 text-emerald-500"}):e.delta<0?a.jsx(I8,{className:"h-3 w-3 text-red-500"}):a.jsx(ZY,{className:"h-3 w-3 text-slate-400"});return a.jsxs("div",{className:`relative flex flex-col justify-between rounded-xl border p-3.5 transition-all duration-200 ease-out hover:shadow-lg hover:scale-[1.04] hover:-translate-y-0.5 ${M5e[p]} ${e.jumpTo?"cursor-pointer":""}`,onClick:()=>e.jumpTo&&r?.(e.jumpTo),children:[e.help&&a.jsx("button",{className:"absolute top-2 left-2 text-slate-300 hover:text-slate-500",onClick:v=>{v.stopPropagation(),s(!n)},children:a.jsx(LA,{className:"h-3.5 w-3.5"})}),a.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:[a.jsxs("span",{className:"rounded bg-slate-100 px-1.5 py-0.5 text-[9px] text-slate-500",children:[": ",e.baseDate,"  D-1"]}),e.partialStages&&e.partialStages.length>0&&a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[9px] text-amber-700",title:` : ${e.partialStages.join("/")}`,children:" "})]}),n&&e.help&&a.jsxs("div",{className:"absolute top-8 left-2 z-20 w-60 rounded-lg border border-slate-200 bg-white p-3 text-xs shadow-lg",children:[a.jsx("p",{className:"font-semibold text-slate-700 mb-1",children:e.help.title}),a.jsx("p",{className:"text-slate-500 leading-relaxed whitespace-pre-line",children:e.help.body})]}),a.jsxs("div",{className:"flex items-center gap-1.5 mb-2 mt-8",children:[a.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${I5e[p]}`}),a.jsx("span",{className:"text-[11px] font-medium text-slate-500 leading-tight truncate",children:o})]}),a.jsxs("div",{className:"flex items-end gap-1.5",children:[a.jsxs("span",{className:"text-xl font-bold text-slate-800 leading-none",children:[d?`${d} `:"",h]}),m&&a.jsx("span",{className:"text-xs text-slate-400 mb-0.5",children:m})]}),u&&a.jsx("p",{className:"mt-1 text-[10px] text-slate-500 font-medium",children:u}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-[10px] text-slate-400",children:e.scopeLine}),e.delta!=null&&a.jsxs("span",{className:"flex items-center gap-0.5 text-[10px] text-slate-500",children:[b,Math.abs(e.delta),m===""||m===""?"":"%p"]})]})]})}function $5e({kpis:e,viewMode:t,onJump:r}){return a.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-8 gap-3",children:e.map(n=>a.jsx(L5e,{kpi:n,viewMode:t,onJump:r},n.key))})}const F5e={stage1:{bg:"bg-blue-50/60",border:"border-blue-200",accent:"text-blue-700",headerBg:"bg-blue-600"},stage2:{bg:"bg-amber-50/60",border:"border-amber-200",accent:"text-amber-700",headerBg:"bg-amber-500"},stage3:{bg:"bg-emerald-50/60",border:"border-emerald-200",accent:"text-emerald-700",headerBg:"bg-emerald-600"}},Y3={stage1:"S1",stage2:"S2",stage3:"S3"},Hy={completed:{label:"",badgeClass:"bg-emerald-100 text-emerald-700 border-emerald-200"},partial:{label:" ",badgeClass:"bg-amber-100 text-amber-700 border-amber-200"},delayed:{label:"",badgeClass:"bg-orange-100 text-orange-700 border-orange-200"},failed:{label:"",badgeClass:"bg-red-100 text-red-700 border-red-200"}};function B5e(){const[e,t]=g.useState(!1);return g.useEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia("(hover: none), (pointer: coarse)"),n=()=>t(r.matches||navigator.maxTouchPoints>0);return n(),r.addEventListener?.("change",n),()=>r.removeEventListener?.("change",n)},[]),e}function Cq(e,t,r){const n=r.filter(i=>i.stage===e),s=!!t.impactedStages?.includes(e);return n.some(i=>i.slaStatus==="breached")||t.status==="failed"&&s?"failed":n.some(i=>i.slaStatus==="delayed")||t.status==="delayed"&&s?"delayed":n.some(i=>i.failedCount>0||i.retryCount>0)||t.status==="partial"&&s?"partial":"completed"}function U5e(e,t,r){const n=Y3[e.stageId],s=Cq(n,t,r),i=Hy[s].label,o=s==="partial"||s==="delayed"||s==="failed";return e.stageId==="stage1"?{dispatchState:s,meta:{stage:n,title:"Stage1  1 ",baseDate:t.baseDate,definition:"//      ",denominator:{label:"",n:e.metrics.applied},coverage:{receivedPct:e.metrics.appliedRate,partial:o,notes:t.notes},outputs:["   ","2()  / "," ( )"],caution:"   / ",modelChip:`ML ${e.processing[0]?.version??"v-"}`,dispatchChip:`: ${i}`}}:e.stageId==="stage2"?{dispatchState:s,meta:{stage:n,title:"Stage2  2 ",baseDate:t.baseDate,definition:"   ,     ",denominator:{label:"  ",n:kc.receivedN},coverage:{receivedPct:t.receiveRate,partial:o,notes:t.notes},outputs:["AD/MCI/  ","/ ","  "],caution:"      ()",modelChip:"ANN v1.0",dispatchChip:`: ${i}`}}:{dispatchState:s,meta:{stage:n,title:"Stage3  3 ",baseDate:t.baseDate,definition:"MCI    /   ",denominator:{label:" ",n:e.metrics.applied},coverage:{receivedPct:e.metrics.appliedRate,partial:o,notes:t.notes},outputs:[" High "," (//)"," / "],caution:"      ",modelChip:"CNN v1.0",dispatchChip:`: ${i}`}}}function h8({hoverMeta:e,dispatchState:t,onOpenDetail:r}){const n=e.coverage?.receivedPct!=null?`${e.coverage.receivedPct.toFixed(1)}%`:"-",s=e.coverage?.partial?" ":"",i=Hy[t];return a.jsxs("div",{className:"w-[340px] rounded-lg border border-slate-200 bg-white p-2.5 text-[11px] leading-4 shadow-xl",children:[a.jsxs("p",{className:"flex items-center justify-between gap-2 text-slate-800 font-semibold",children:[a.jsx("span",{className:"truncate",children:e.title}),a.jsx("span",{className:`shrink-0 rounded border px-1.5 py-0.5 text-[10px] font-semibold ${i.badgeClass}`,children:i.label})]}),a.jsxs("p",{className:"mt-1 truncate text-slate-500",children:["(D-1): ",e.baseDate,"  ",e.modelChip??" ","  ",e.dispatchChip??": -"]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",e.definition]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",e.denominator.label," ",e.denominator.n.toLocaleString(),"   ",n,"  ",s]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",e.outputs.slice(0,3).join(" / ")]}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsxs("p",{className:"min-w-0 flex-1 truncate text-slate-500",children:[": ",e.caution??"-"]}),a.jsxs("button",{className:"inline-flex items-center gap-1 text-[10px] font-semibold text-blue-600 hover:text-blue-700 shrink-0",onClick:o=>{o.stopPropagation(),r()},children:[" ",a.jsx(sa,{className:"h-3 w-3"})]})]})]})}function H5e({stage:e,viewMode:t,isSelected:r,isBatchImpacted:n,hoverMeta:s,dispatchState:i,isTouchDevice:o,onOpenDetail:l,onClick:d}){const u=F5e[e.stageId],[m,p]=g.useState(!1),[h,b]=g.useState(!1),[v,N]=g.useState(!1),y=g.useCallback(()=>{b(!1),N(!1),l()},[l]),S=a.jsxs("div",{className:`relative pt-2 rounded-xl border-2 transition-all cursor-pointer ${u.bg} ${r?`${u.border} shadow-lg ring-2 ring-offset-1 ring-blue-300`:`${u.border} hover:shadow-md`}`,onClick:d,role:"button",tabIndex:0,onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),d())},children:[a.jsx("span",{className:"absolute left-3 -top-2.5 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[10px] font-semibold text-slate-700 whitespace-nowrap",children:e.examLabel}),a.jsxs("div",{className:`${u.headerBg} rounded-t-[10px] px-4 py-2.5 flex items-center justify-between`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-white/80 text-xs font-mono",children:e.stageId.toUpperCase()}),a.jsx("span",{className:"text-white font-semibold text-sm",children:e.title})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[n&&a.jsx("span",{className:"rounded bg-amber-100/90 px-1.5 py-0.5 text-[9px] font-semibold text-amber-700",children:" "}),o&&a.jsxs(wq,{open:v,onOpenChange:N,children:[a.jsx(Eq,{asChild:!0,children:a.jsx("button",{className:"text-[11px] font-semibold text-white/90 hover:text-white rounded px-1",onClick:w=>w.stopPropagation(),"aria-label":`${s.title} `,children:""})}),a.jsx(Aq,{children:a.jsx(_q,{side:"top",align:"end",sideOffset:8,collisionPadding:12,className:"z-50 p-0 bg-transparent border-0 shadow-none",children:a.jsx(h8,{hoverMeta:s,dispatchState:i,onOpenDetail:y})})})]}),a.jsx("button",{className:"text-white/70 hover:text-white",onClick:w=>{w.stopPropagation(),p(!m)},children:m?a.jsx(za,{className:"h-4 w-4"}):a.jsx(Hs,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"px-4 py-2 border-b border-dashed border-slate-200/80",children:a.jsx("p",{className:"text-[11px] text-slate-500 italic",children:e.purposeLine})}),e.stageId==="stage2"&&a.jsx("div",{className:"mx-4 mt-2 rounded-md border border-amber-200 bg-amber-50 px-2.5 py-1.5 text-[10px] text-amber-700 font-semibold",children:"  =      = ()"}),a.jsxs("div",{className:"px-4 py-3 grid grid-cols-2 gap-x-4 gap-y-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsxs("span",{className:"ml-1.5 font-bold text-slate-700",children:[e.metrics.applied.toLocaleString(),""]})]}),e.metrics.appliedRate!=null&&a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsxs("span",{className:"ml-1.5 font-bold text-slate-700",children:[e.metrics.appliedRate,"%"]})]}),e.metrics.conversionRate!=null&&a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsxs("span",{className:"ml-1.5 font-bold text-slate-700",children:[e.metrics.conversionRate,"%"]})]}),e.metrics.avgLatencyDays!=null&&a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsxs("span",{className:"ml-1.5 font-bold text-slate-700",children:[e.metrics.avgLatencyDays,""]})]})]}),t==="quality"&&a.jsxs("div",{className:"mx-4 mb-2 px-2.5 py-1.5 bg-amber-100/80 rounded text-[10px] text-amber-700 flex items-center gap-1",children:[a.jsx(Ka,{className:"h-3 w-3"}),"   ",e.metrics.topIssues?.length??0,""]}),t==="audit"&&a.jsxs("div",{className:"mx-4 mb-2 px-2.5 py-1.5 bg-purple-100/80 rounded text-[10px] text-purple-700 flex items-center gap-1",children:[a.jsx(Wo,{className:"h-3 w-3"})," : ",e.processing[0]?.version??"-"]}),m&&a.jsxs("div",{className:"px-4 pb-3 space-y-2.5 border-t border-slate-200/60 mt-1 pt-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(ql,{className:"h-3 w-3"})," "]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.inputs.map(w=>a.jsx("span",{className:"inline-block bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded",children:w.name},w.name))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(F8,{className:"h-3 w-3"})," /"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.processing.map(w=>a.jsxs("span",{className:"inline-flex items-center gap-1 bg-slate-100 text-slate-600 text-[10px] px-1.5 py-0.5 rounded",children:[w.name,w.version&&a.jsx("span",{className:"text-slate-400 font-mono",children:w.version})]},w.name))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(Dh,{className:"h-3 w-3"})," "]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.outputs.map(w=>a.jsx("span",{className:"inline-block bg-emerald-100 text-emerald-700 text-[10px] px-1.5 py-0.5 rounded font-mono",children:w.name},w.name))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(OT,{className:"h-3 w-3"})," "]}),e.transition.map((w,_)=>a.jsxs("p",{className:"text-[10px] text-slate-500 ml-4",children:[" ",w.to==="end"?"":w.to.toUpperCase(),": ",w.ruleLine]},_))]}),e.metrics.topIssues&&e.metrics.topIssues.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1",children:[a.jsx(Ka,{className:"h-3 w-3"}),"  "]}),e.metrics.topIssues.map(w=>a.jsxs("div",{className:"flex items-center justify-between text-[10px] text-slate-500 ml-4",children:[a.jsx("span",{className:"font-mono text-slate-400",children:w.code}),a.jsx("span",{children:w.label}),a.jsx("span",{className:"font-bold text-slate-600",children:w.count.toLocaleString()})]},w.code))]})]})]});return o?S:a.jsxs(F3,{open:h,onOpenChange:b,delayDuration:180,children:[a.jsx(B3,{asChild:!0,children:S}),a.jsx(U3,{children:a.jsxs(H3,{side:"top",align:"end",sideOffset:8,collisionPadding:12,className:"z-50 p-0 bg-transparent border-0 shadow-none",children:[a.jsx(h8,{hoverMeta:s,dispatchState:i,onOpenDetail:y}),a.jsx(G3,{className:"fill-white"})]})})]})}function G5e({stages:e,viewMode:t,selectedStage:r,batchMeta:n,dispatchLogs:s,onSelectStage:i,onOpenStageDetail:o}){const l=B5e(),d=g.useMemo(()=>e.reduce((u,m)=>(u[m.stageId]=U5e(m,n,s),u),{}),[e,n,s]);return a.jsx($3,{delayDuration:180,children:a.jsx("div",{className:"flex items-stretch gap-3",children:e.map((u,m)=>{const p=d[u.stageId];return a.jsxs(q.Fragment,{children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx(H5e,{stage:u,viewMode:t,isSelected:r===u.stageId,isBatchImpacted:!!n.impactedStages?.includes(Y3[u.stageId]),hoverMeta:p.meta,dispatchState:p.dispatchState,isTouchDevice:l,onClick:()=>i(u.stageId),onOpenDetail:()=>o(u.stageId)})}),m<e.length-1&&a.jsx("div",{className:"flex items-center",children:a.jsx(Dh,{className:"h-5 w-5 text-slate-300"})})]},u.stageId)})})})}const Mx=[{key:"input",label:"INPUT SOURCES",labelKo:" ",color:"#3b82f6",bg:"#dbeafe",bgSoft:"bg-blue-50/40",borderColor:"border-blue-200",icon:ql},{key:"feature",label:"FEATURE BUILDER",labelKo:" ",color:"#8b5cf6",bg:"#ede9fe",bgSoft:"bg-violet-50/40",borderColor:"border-violet-200",icon:DV},{key:"model",label:"MODELS & RULES",labelKo:" / ",color:"#f59e0b",bg:"#fef3c7",bgSoft:"bg-amber-50/40",borderColor:"border-amber-200",icon:F8},{key:"output",label:"OUTPUTS",labelKo:"",color:"#10b981",bg:"#d1fae5",bgSoft:"bg-emerald-50/40",borderColor:"border-emerald-200",icon:Dh},{key:"dispatch",label:"DISPATCH",labelKo:"",color:"#2563eb",bg:"#dbeafe",bgSoft:"bg-blue-50/30",borderColor:"border-blue-200",icon:Bo},{key:"ops",label:"DOWNSTREAM OPS",labelKo:" ",color:"#ef4444",bg:"#fee2e2",bgSoft:"bg-red-50/40",borderColor:"border-red-200",icon:OT}],bT={stage1:{bg:"bg-blue-100",text:"text-blue-600",label:"S1"},stage2:{bg:"bg-amber-100",text:"text-amber-600",label:"S2"},stage3:{bg:"bg-emerald-100",text:"text-emerald-600",label:"S3"},common:{bg:"bg-slate-100",text:"text-slate-500",label:""}};function z5e({node:e,meta:t,isSelected:r,isHovered:n,isConnected:s,dimmed:i,onSelect:o,onHover:l,onLeave:d}){const u=e.stageTag?bT[e.stageTag]:null;return a.jsxs("button",{onClick:o,onMouseEnter:l,onMouseLeave:d,className:`
        group relative w-full text-left rounded-lg border px-3 py-2.5
        transition-all duration-150 ease-out
        ${e.isExternal?"border-dashed":""}
        ${r?"shadow-md ring-2 ring-offset-1 text-white":n||s?"shadow-sm -translate-y-0.5":i?"opacity-30":"hover:shadow-sm hover:-translate-y-0.5"}
      `,style:{background:r?t.color:n?t.bg:"#ffffff",borderColor:r||n||s?t.color:e.isExternal?"#f59e0b":"#e2e8f0",...s&&!r&&!n?{borderColor:t.color,borderWidth:2}:{}},children:[u&&a.jsx("span",{className:`absolute -top-1.5 -left-1 text-[7px] font-bold px-1 py-px rounded ${r?"bg-white/30 text-white":`${u.bg} ${u.text}`}`,children:u.label}),e.isExternal&&!r&&a.jsx("span",{className:"absolute -top-1.5 -right-1 text-[7px] font-bold px-1 py-px rounded bg-amber-100 text-amber-600",children:""}),a.jsx("p",{className:`text-[11px] font-semibold leading-tight truncate ${r?"text-white":"text-slate-700"}`,children:e.label}),a.jsx("p",{className:`text-[9px] mt-0.5 leading-tight truncate ${r?"text-white/70":"text-slate-400"}`,children:e.shortDesc}),s&&!r&&a.jsx("span",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full ring-2 ring-white",style:{background:t.color}})]})}function K5e({nodes:e,edges:t,selectedNode:r,onSelectNode:n,viewMode:s}){const[i,o]=g.useState(null),l=g.useMemo(()=>{const b={};for(const v of e)(b[v.group]??=[]).push(v);return b},[e]),d=["stage1","stage2","stage3","common",void 0],u={stage1:"Stage 1",stage2:"Stage 2",stage3:"Stage 3",common:""},m=g.useMemo(()=>{const b={};for(const v of Mx){const N=l[v.key]??[],y=[];for(const S of d){const w=N.filter(_=>(_.stageTag??void 0)===S);w.length>0&&y.push({tag:S??"etc",label:u[S??""]??"",nodes:w})}b[v.key]=y}return b},[l]),{connectedNodes:p}=g.useMemo(()=>{const b=i??r;if(!b)return{connectedNodes:new Set};const v=new Set;for(const N of t)(N.from===b||N.to===b)&&(v.add(N.from),v.add(N.to));return{connectedNodes:v}},[t,i,r]),h=i!=null||r!=null;return a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"grid grid-cols-6 border-b border-slate-100",children:Mx.map(b=>{const v=b.icon;return a.jsxs("div",{className:`flex flex-col items-center gap-0.5 py-3 ${b.bgSoft} border-r last:border-r-0 ${b.borderColor}`,children:[a.jsx(v,{className:"h-4 w-4",style:{color:b.color}}),a.jsx("span",{className:"text-[10px] font-bold tracking-wider",style:{color:b.color},children:b.label}),a.jsx("span",{className:"text-[9px] text-slate-400",children:b.labelKo})]},b.key)})}),a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",preserveAspectRatio:"none"}),a.jsx("div",{className:"grid grid-cols-6 min-h-[420px]",children:Mx.map((b,v)=>{const N=m[b.key]??[];return a.jsx("div",{className:`flex flex-col gap-1.5 p-3 ${b.bgSoft} ${v<Mx.length-1?`border-r ${b.borderColor}`:""}`,children:N.map((y,S)=>a.jsxs(q.Fragment,{children:[y.label&&a.jsx("div",{className:`flex items-center gap-1 ${S>0?"mt-2 pt-2 border-t border-dashed border-slate-200/60":""}`,children:a.jsx("span",{className:`text-[8px] font-bold px-1 py-px rounded ${bT[y.tag]?.bg??"bg-slate-100"} ${bT[y.tag]?.text??"text-slate-400"}`,children:y.label})}),y.nodes.map(w=>{const _=r===w.id,A=i===w.id,E=p.has(w.id);return a.jsx(z5e,{node:w,meta:b,isSelected:_,isHovered:A,isConnected:E&&!_&&!A,dimmed:h&&!E&&!_&&!A,onSelect:()=>n(w.id),onHover:()=>o(w.id),onLeave:()=>o(null)},w.id)})]},y.tag))},b.key)})})]}),(i||r)&&(()=>{const b=i??r,v=e.find(y=>y.id===b),N=t.filter(y=>y.from===b||y.to===b);return!v||N.length===0?null:a.jsxs("div",{className:"border-t border-slate-100 bg-slate-50/80 px-4 py-2.5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[a.jsx("span",{className:"text-[10px] font-bold text-slate-600",children:v.label}),a.jsx("span",{className:"text-[9px] text-slate-400",children:"  "})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:N.map(y=>{const S=y.from===b,w=S?y.to:y.from,_=e.find(A=>A.id===w);return a.jsxs("span",{className:"inline-flex items-center gap-1 text-[9px] bg-white border border-slate-200 rounded px-2 py-0.5 text-slate-500",children:[S?"":"",a.jsx("span",{className:"font-medium text-slate-700",children:_?.label??w}),y.label&&a.jsxs("span",{className:"text-slate-300",children:["(",y.label,")"]})]},`${y.from}-${y.to}`)})})]})})(),s==="quality"&&a.jsxs("div",{className:"border-t border-amber-200 bg-amber-50 px-4 py-2 text-[10px] text-amber-700 flex items-center gap-1.5",children:[a.jsx(Ka,{className:"h-3 w-3"})," :      "]}),s==="audit"&&a.jsxs("div",{className:"border-t border-purple-200 bg-purple-50 px-4 py-2 text-[10px] text-purple-700 flex items-center gap-1.5",children:[a.jsx(Wo,{className:"h-3 w-3"})," :    /   Inspector "]})]})}const q5e=[{id:"definition",label:"",icon:SY},{id:"contract",label:" ",icon:ql},{id:"quality",label:"/",icon:Wo}];function W5e({content:e,viewMode:t,selectedContext:r,stages:n,batchMeta:s,dispatchLogs:i,focusMode:o,focusNonce:l}){const[d,u]=g.useState("definition"),m=g.useRef(null),p=g.useMemo(()=>{const S={};for(const w of n)S[w.stageId]=w;return S},[n]),h=r?p[r]:null,b=h?Y3[h.stageId]:null,v=b?i.filter(S=>S.stage===b):[],N=b?Cq(b,s,i):null,y=!!h;return g.useEffect(()=>{o==="stage-detail"&&y&&(l<1||(u("quality"),requestAnimationFrame(()=>{m.current?.scrollTo({top:0,behavior:"smooth"})})))},[o,l,y]),e?a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"border-b border-slate-200 px-4 pt-3 pb-0",children:[a.jsxs("p",{className:"text-xs font-bold text-slate-700 mb-2 flex items-center gap-1.5",children:[a.jsx(ZV,{className:"h-3.5 w-3.5 text-blue-500"}),e.id]}),a.jsx("div",{className:"flex gap-1",children:q5e.map(S=>{const w=S.icon;return a.jsxs("button",{onClick:()=>u(S.id),className:`flex items-center gap-1 px-2.5 py-1.5 text-[11px] font-medium rounded-t-md transition ${d===S.id?"bg-white border border-b-0 border-slate-200 text-slate-800 -mb-px":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(w,{className:"h-3 w-3"}),S.label]},S.id)})})]}),a.jsxs("div",{ref:m,className:"flex-1 overflow-y-auto p-4 text-xs leading-relaxed space-y-3",children:[d==="definition"&&a.jsxs(a.Fragment,{children:[a.jsx(Sa,{title:" ",children:a.jsx("p",{className:"text-slate-600",children:e.definition.what})}),a.jsx(Sa,{title:" ",children:a.jsx("p",{className:"text-slate-600",children:e.definition.why})}),a.jsx(Sa,{title:" ",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:e.definition.whereUsed.map(S=>a.jsx("span",{className:"bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded text-[10px]",children:S},S))})}),a.jsx(Sa,{title:" ",children:a.jsxs("p",{className:"text-slate-600 font-medium bg-amber-50 px-2 py-1.5 rounded border border-amber-200",children:[" ",e.definition.responsibility]})}),e.batchSummary&&a.jsx(Sa,{title:"  ",children:a.jsxs("div",{className:"space-y-1.5",children:[e.batchSummary.impactedStages&&e.batchSummary.impactedStages.length>0&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-slate-400",children:" Stage"}),e.batchSummary.impactedStages.map(S=>a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-semibold text-amber-700",children:S},S))]}),e.batchSummary.receiveRate!=null&&a.jsxs("p",{className:"text-slate-600",children:["  : ",a.jsxs("span",{className:"font-semibold",children:[e.batchSummary.receiveRate,"%"]})]}),e.batchSummary.missingInstitutionCount!=null&&a.jsxs("p",{className:"text-slate-600",children:["  : ",a.jsxs("span",{className:"font-semibold",children:[e.batchSummary.missingInstitutionCount,""]})]}),e.batchSummary.expectedRetryAt&&a.jsxs("p",{className:"text-slate-600",children:["  : ",a.jsx("span",{className:"font-semibold",children:e.batchSummary.expectedRetryAt})]})]})})]}),d==="contract"&&a.jsxs(a.Fragment,{children:[e.dataContract.inputs&&a.jsx(Sa,{title:" ",children:a.jsxs("table",{className:"w-full text-[10px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-slate-400 border-b border-slate-100",children:[a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-center py-1",children:"null"}),a.jsx("th",{className:"text-left py-1",children:""})]})}),a.jsx("tbody",{children:e.dataContract.inputs.map(S=>a.jsxs("tr",{className:"border-b border-slate-50",children:[a.jsx("td",{className:"py-1 font-mono text-slate-700",children:S.field}),a.jsx("td",{className:"py-1 text-slate-500",children:S.type}),a.jsx("td",{className:"py-1 text-center",children:S.nullable?"":""}),a.jsx("td",{className:"py-1 text-slate-400",children:S.note??""})]},S.field))})]})}),e.dataContract.outputs&&a.jsx(Sa,{title:" ",children:a.jsxs("table",{className:"w-full text-[10px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-slate-400 border-b border-slate-100",children:[a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-center py-1",children:"null"}),a.jsx("th",{className:"text-left py-1",children:""})]})}),a.jsx("tbody",{children:e.dataContract.outputs.map(S=>a.jsxs("tr",{className:"border-b border-slate-50",children:[a.jsx("td",{className:"py-1 font-mono text-slate-700",children:S.field}),a.jsx("td",{className:"py-1 text-slate-500",children:S.type}),a.jsx("td",{className:"py-1 text-center",children:S.nullable?"":""}),a.jsx("td",{className:"py-1 text-slate-400",children:S.note??""})]},S.field))})]})}),e.dataContract.refreshCadence&&a.jsx(Sa,{title:" ",children:a.jsxs("span",{className:"inline-flex items-center gap-1 bg-slate-100 text-slate-600 px-2 py-1 rounded",children:[a.jsx(Fo,{className:"h-3 w-3"}),e.dataContract.refreshCadence]})})]}),d==="quality"&&a.jsxs(a.Fragment,{children:[y&&h&&N&&a.jsxs(a.Fragment,{children:[a.jsx(Sa,{title:"Daily Batch Timeline",children:a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-2.5 text-[11px] text-slate-600 space-y-1",children:[a.jsxs("p",{className:"flex items-center justify-between",children:[a.jsx("span",{children:h.examLabel}),a.jsx("span",{className:`rounded border px-1.5 py-0.5 text-[10px] font-semibold ${Hy[N].badgeClass}`,children:Hy[N].label})]}),a.jsxs("p",{children:["(D-1): ",s.baseDate]}),a.jsxs("p",{children:["  ",s.receiveDeadline,"   ",s.modelWindow,"   ",s.dispatchTime]}),s.impactedStages?.includes(b)&&a.jsxs("p",{className:"text-amber-700",children:["   Stage (",b,")"]})]})}),a.jsx(Sa,{title:"Model Meta",children:a.jsxs("div",{className:"rounded-md border border-slate-200 bg-white p-2.5 text-[11px] text-slate-600 space-y-1",children:[h.processing.map(S=>a.jsxs("p",{children:[S.name,S.version?a.jsx("span",{className:"ml-1 text-slate-400 font-mono",children:S.version}):null]},S.name)),a.jsx("p",{className:"text-slate-500",children:h.stageId==="stage2"?"  =   /   = ()":h.stageId==="stage3"?"      ":" /  "})]})}),a.jsx(Sa,{title:"Dispatch Log",children:a.jsxs("table",{className:"w-full text-[10px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-slate-400 border-b border-slate-100",children:[a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:"/"}),a.jsx("th",{className:"text-left py-1",children:"SLA"})]})}),a.jsxs("tbody",{children:[v.map(S=>a.jsxs("tr",{className:"border-b border-slate-50 text-slate-600",children:[a.jsx("td",{className:"py-1",children:S.destination}),a.jsx("td",{className:"py-1 text-right",children:S.sentCount.toLocaleString()}),a.jsxs("td",{className:"py-1 text-right",children:[S.failedCount,"/",S.retryCount]}),a.jsx("td",{className:"py-1",children:S.slaStatus})]},`${S.stage}-${S.destination}`)),v.length===0&&a.jsx("tr",{children:a.jsx("td",{className:"py-2 text-slate-400",colSpan:4,children:"  ."})})]})]})})]}),!y&&e.batchSummary?.impactedMetrics&&e.batchSummary.impactedMetrics.length>0&&a.jsx(Sa,{title:" ",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:e.batchSummary.impactedMetrics.map(S=>a.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-medium text-amber-700",children:S},S))})}),e.qualityAudit.missingRate!=null&&a.jsx(Sa,{title:" ",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-slate-100 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${e.qualityAudit.missingRate>5?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(e.qualityAudit.missingRate*5,100)}%`}})}),a.jsxs("span",{className:"text-slate-600 font-bold",children:[e.qualityAudit.missingRate,"%"]})]})}),e.qualityAudit.driftSignals&&e.qualityAudit.driftSignals.length>0&&a.jsx(Sa,{title:"Drift ",children:e.qualityAudit.driftSignals.map(S=>a.jsxs("div",{className:"flex items-start gap-2 bg-slate-50 p-2 rounded mb-1",children:[a.jsx(g8,{level:S.level}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-700",children:S.name}),a.jsx("p",{className:"text-slate-400",children:S.note})]})]},S.name))}),e.qualityAudit.biasAlerts&&e.qualityAudit.biasAlerts.length>0&&a.jsx(Sa,{title:" ",children:e.qualityAudit.biasAlerts.map(S=>a.jsxs("div",{className:"flex items-start gap-2 bg-slate-50 p-2 rounded mb-1",children:[a.jsx(g8,{level:S.level}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-700",children:S.group}),a.jsx("p",{className:"text-slate-400",children:S.note})]})]},S.group))}),e.qualityAudit.changeLog&&e.qualityAudit.changeLog.length>0&&a.jsx(Sa,{title:" ",children:a.jsx("div",{className:"space-y-1.5",children:e.qualityAudit.changeLog.map(S=>a.jsx("div",{className:"flex items-start gap-2 border-l-2 border-blue-300 pl-2.5",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono font-semibold text-blue-600",children:S.version}),a.jsx("span",{className:"text-slate-400",children:S.date})]}),a.jsx("p",{className:"text-slate-600",children:S.summary}),S.impact&&a.jsxs("p",{className:"text-slate-400 mt-0.5",children:[": ",S.impact]})]})},S.version+S.date))})}),!y&&e.batchSummary?.dispatchLogs&&e.batchSummary.dispatchLogs.length>0&&a.jsx(Sa,{title:"DISPATCH ",children:a.jsxs("table",{className:"w-full text-[10px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-slate-400 border-b border-slate-100",children:[a.jsx("th",{className:"text-left py-1",children:"Stage"}),a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:""}),a.jsx("th",{className:"text-right py-1",children:"/"}),a.jsx("th",{className:"text-left py-1",children:"SLA"})]})}),a.jsx("tbody",{children:e.batchSummary.dispatchLogs.map(S=>a.jsxs("tr",{className:"border-b border-slate-50 text-slate-600",children:[a.jsx("td",{className:"py-1 font-semibold",children:S.stage}),a.jsx("td",{className:"py-1",children:S.destination}),a.jsx("td",{className:"py-1 text-right",children:S.sentCount.toLocaleString()}),a.jsxs("td",{className:"py-1 text-right",children:[S.failedCount,"/",S.retryCount]}),a.jsx("td",{className:"py-1",children:S.slaStatus})]},`${S.stage}-${S.destination}`))})]})})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 text-xs p-6",children:[a.jsx(Ff,{className:"h-8 w-8 mb-2 text-slate-300"}),a.jsx("p",{children:"     "}),a.jsx("p",{children:"    ."})]})}function Sa({title:e,children:t}){return a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-1.5",children:e}),t]})}function g8({level:e}){const t={low:"bg-emerald-100 text-emerald-700",mid:"bg-amber-100 text-amber-700",high:"bg-red-100 text-red-700"};return a.jsx("span",{className:`inline-block text-[9px] font-bold px-1.5 py-0.5 rounded ${t[e]}`,children:e.toUpperCase()})}function V5e(){const[e,t]=g.useState("ops"),[r,n]=g.useState(null),[s,i]=g.useState("default"),[o,l]=g.useState(0),d=vh,u=g.useRef({}),m=g.useCallback(v=>{n(v),i("default"),u.current[v]?.scrollIntoView({behavior:"smooth",block:"center"})},[]),p=g.useCallback(v=>{n(v),i("default")},[]),h=g.useCallback(v=>{n(v),i("stage-detail"),l(N=>N+1),u.current[v]?.scrollIntoView({behavior:"smooth",block:"center"})},[]),b=r?O5e[r]??null:null;return a.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-slate-50",children:[a.jsxs("div",{className:"bg-slate-700 text-slate-300 text-[10px] text-center py-1.5 px-4 flex-shrink-0",children:[a.jsx($f,{className:"inline h-3 w-3 mr-1 -mt-0.5"}),"      ,     .        ."]}),a.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-white border-b border-slate-200 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-base font-bold text-slate-800",children:"  "}),a.jsx("span",{className:"text-[10px] text-slate-400 bg-slate-100 px-2 py-0.5 rounded",children:" : 2026-02-13 09:00"})]}),a.jsx(R5e,{mode:e,onChange:t})]}),a.jsx(D5e,{meta:d,onOpenDetail:()=>p("batch-cycle")}),a.jsxs("div",{className:"flex-1 flex min-h-0 overflow-hidden",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Pipeline KPI"}),a.jsx("span",{className:"text-[9px] bg-slate-100 text-slate-400 px-1.5 py-0.5 rounded",children:e==="ops"?" ":e==="quality"?" ":" "})]}),a.jsx($5e,{kpis:C5e,viewMode:e,onJump:m})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"3  "}),a.jsx("div",{ref:v=>{u.current.stage1=v}}),a.jsx(G5e,{stages:EA,viewMode:e,batchMeta:d,dispatchLogs:xf,selectedStage:r,onSelectStage:p,onOpenStageDetail:h}),EA.map(v=>a.jsx("div",{ref:N=>{u.current[v.stageId]=N}},v.stageId))]}),a.jsxs("section",{children:[a.jsxs("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:["Model Use Map    ",a.jsx("span",{className:"text-[9px] bg-slate-100 text-slate-400 px-1.5 py-0.5 rounded font-normal normal-case",children:"    Inspector "})]}),a.jsx(K5e,{nodes:T5e,edges:k5e,selectedNode:r,onSelectNode:p,viewMode:e})]}),a.jsxs("section",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[a.jsxs("h3",{className:"text-xs font-bold text-slate-700 mb-2 flex items-center gap-1.5",children:[a.jsx($f,{className:"h-3.5 w-3.5 text-amber-500"}),"Stage 2      "]}),a.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 mb-3 text-[11px] font-semibold text-amber-700",children:"  =      = ()"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-[11px]",children:[a.jsxs("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-200",children:[a.jsx("p",{className:"font-semibold text-amber-700 mb-1",children:"2   (  )"}),a.jsx("p",{className:"text-amber-600",children:"    (AD / MCI / )"}),a.jsx("p",{className:"text-amber-500 mt-1 italic",children:"  /  "})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[a.jsx("p",{className:"font-semibold text-blue-700 mb-1",children:"  "}),a.jsx("p",{className:"text-blue-600",children:" /  /  "}),a.jsx("p",{className:"text-blue-500 mt-1 italic",children:"   ,  "})]})]}),d.status==="partial"&&a.jsxs("p",{className:"mt-3 text-[11px] text-amber-700",children:["  :  ",d.receiveRate,"%    ",d.missingInstitutionCount,"    ",d.expectedRetryAt]})]}),a.jsxs("section",{className:"bg-slate-100/50 rounded-xl border border-slate-200 p-4",children:[a.jsxs("h3",{className:"text-xs font-bold text-slate-600 mb-2 flex items-center gap-1.5",children:[a.jsx(H8,{className:"h-3.5 w-3.5"}),"View Mode "]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-[10px]",children:[a.jsxs("div",{className:`p-2.5 rounded-lg border ${e==="ops"?"bg-blue-50 border-blue-300":"bg-white border-slate-200"}`,children:[a.jsx("p",{className:"font-semibold text-blue-700",children:" "}),a.jsx("p",{className:"text-slate-500 mt-0.5",children:", , , "})]}),a.jsxs("div",{className:`p-2.5 rounded-lg border ${e==="quality"?"bg-amber-50 border-amber-300":"bg-white border-slate-200"}`,children:[a.jsx("p",{className:"font-semibold text-amber-700",children:" "}),a.jsx("p",{className:"text-slate-500 mt-0.5",children:", drift,  "})]}),a.jsxs("div",{className:`p-2.5 rounded-lg border ${e==="audit"?"bg-purple-50 border-purple-300":"bg-white border-slate-200"}`,children:[a.jsx("p",{className:"font-semibold text-purple-700",children:" "}),a.jsx("p",{className:"text-slate-500 mt-0.5",children:"/ ,  , SLA"})]})]})]})]}),a.jsx("div",{className:"w-80 border-l border-slate-200 bg-white flex-shrink-0",children:a.jsx(W5e,{content:b,viewMode:e,selectedContext:r,stages:EA,batchMeta:d,dispatchLogs:xf,focusMode:s,focusNonce:o})})]})]})}function Y5e(){return a.jsx(V5e,{})}const X5e=720*60*60*1e3,Tq={Stage1:["signalQuality","bottleneckRisk"],Stage2:["dataReadiness","bottleneckRisk"],Stage3:["governanceSafety","dataQuality"]},AA={signalQuality:{label:"",chipClass:"bg-blue-50 text-blue-700 border-blue-200",stroke:"#2563eb"},policyImpact:{label:"",chipClass:"bg-violet-50 text-violet-700 border-violet-200",stroke:"#7c3aed"},bottleneckRisk:{label:"",chipClass:"bg-red-50 text-red-700 border-red-200",stroke:"#dc2626"},dataReadiness:{label:" ",chipClass:"bg-emerald-50 text-emerald-700 border-emerald-200",stroke:"#059669"},dataQuality:{label:" ",chipClass:"bg-cyan-50 text-cyan-700 border-cyan-200",stroke:"#0891b2"},governanceSafety:{label:"",chipClass:"bg-amber-50 text-amber-700 border-amber-200",stroke:"#d97706"}},Q5e={model_version_change:"  ",rule_parameter_change:"  ",guardrail_change:"Guardrail "},Z5e={none:{label:" ",className:"bg-slate-100 text-slate-600 border-slate-200"},watch:{label:"",className:"bg-amber-50 text-amber-700 border-amber-200"},warning:{label:"",className:"bg-red-50 text-red-700 border-red-200"}},J5e={rule_threshold:"Stage1",model_version:"Stage2",ruleset:"Stage2",contact_rule:"Stage3"},e3e={rule_threshold:"rule_parameter_change",model_version:"model_version_change",ruleset:"guardrail_change",contact_rule:"guardrail_change"},t3e={chg_20260124:{stage:"Stage1",changeType:"rule_parameter_change",targetName:"L2  ",summaryLine:"60~64        .",scope:"",scopeDetail:" 6 ",beforeLabel:"",beforeValue:"  65  L2",afterLabel:"",afterValue:"  60  L2 ()",reason:" 3  60~64          .",observedKpis:["policyImpact"],sparklineByKpi:{signalQuality:[89.8,89.7,89.8,89.8,89.9,89.8,89.8],bottleneckRisk:[41.5,41.7,41.8,41.9,41.8,41.8,41.9],policyImpact:[24,24.8,25.6,26.1,26.4,26.2,26]},deltaPpByKpi:{signalQuality:0,bottleneckRisk:.4,policyImpact:2},topRegions:[" "," "," "]},chg_20260120:{stage:"Stage1",changeType:"rule_parameter_change",targetName:"L2  ",summaryLine:"    Stage1    .",scope:"",scopeDetail:" 17 ",beforeLabel:"",beforeValue:"  60  L2",afterLabel:"",afterValue:"  65  L2",observedKpis:["policyImpact"],sparklineByKpi:{signalQuality:[88.9,89.1,89.3,89.5,89.7,89.8,89.8],bottleneckRisk:[44,43.4,42.9,42.3,41.9,41.5,41.1],policyImpact:[31.2,30.4,29.8,29.1,28.8,28.5,28.1]},deltaPpByKpi:{signalQuality:.9,bottleneckRisk:-2.9,policyImpact:-3.1},topRegions:[" "," "," "]},chg_20260115:{stage:"Stage3",changeType:"guardrail_change",targetName:"L3  ",summaryLine:"    /   .",scope:"",scopeDetail:"",beforeLabel:" ",beforeValue:" 7 ",afterLabel:" ",afterValue:" 5 ",observedKpis:["policyImpact"],sparklineByKpi:{governanceSafety:[95,95.1,95.3,95.6,95.8,95.9,96.1],dataQuality:[94.2,94.4,94.5,94.6,94.8,94.8,94.9],policyImpact:[27.5,27.2,27,26.8,26.6,26.4,26.3]},deltaPpByKpi:{governanceSafety:1.1,dataQuality:.7,policyImpact:-1.2},topRegions:[" "," "," "]},chg_20260110:{stage:"Stage2",changeType:"model_version_change",targetName:"  ",summaryLine:"    Stage2     .",scope:"",scopeDetail:" 17 ",beforeLabel:" ",beforeValue:"v3.1.4",afterLabel:" ",afterValue:"v3.2.0",observedKpis:["policyImpact"],sparklineByKpi:{dataReadiness:[93.2,93.3,93.5,93.6,93.7,93.8,93.8],bottleneckRisk:[45,44.3,43.8,43.4,43,42.7,42.4],policyImpact:[25.4,24.8,24.2,23.8,23.2,22.8,22.3]},deltaPpByKpi:{dataReadiness:.6,bottleneckRisk:-2.6,policyImpact:-3.1},topRegions:[" "," "," "]},chg_20260105:{stage:"Stage2",changeType:"rule_parameter_change",targetName:"  ",summaryLine:"       .",scope:"",scopeDetail:" 17 ",beforeLabel:"",beforeValue:"1.20",afterLabel:"",afterValue:"1.35 ( 1.20 )",observedKpis:["policyImpact"],sparklineByKpi:{dataReadiness:[93.5,93.3,93.1,92.9,93,93.2,93.4],bottleneckRisk:[40.2,43.6,46.8,48.1,47.4,44,41.4],policyImpact:[34,39.2,46.4,52.1,57.2,50.6,41.3]},deltaPpByKpi:{dataReadiness:-.1,bottleneckRisk:1.2,policyImpact:7.3},topRegions:[" "," "," "]}};function r3e(e){const t=new Date(e);return{date:t.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}),time:t.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1})}}function n3e(e){return Array.from(new Set(e))}function a3e(e){const t=Math.max(0,...e.impactSummary.map(r=>Math.abs(r.changePp)));return e.status==="rollback"||t>=2?"warning":t>=.5||e.status==="deployed"?"watch":"none"}function s3e(e){const t=J5e[e.type],r=Tq[t];return{stage:t,changeType:e3e[e.type],targetName:e.title,summaryLine:"KPI       .",scope:e.affectedRegions[0]===""?"":"",scopeDetail:e.affectedRegions.join(", "),beforeLabel:"",beforeValue:e.version,afterLabel:"",afterValue:e.version,reason:e.reason,observedKpis:["policyImpact"],sparklineByKpi:{[r[0]]:[0,0,0,0,0,0,0],[r[1]]:[0,0,0,0,0,0,0],policyImpact:[0,0,0,0,0,0,0]},deltaPpByKpi:{[r[0]]:0,[r[1]]:0,policyImpact:0},topRegions:e.affectedRegions.slice(0,3)}}function i3e(e,t){const r=e.replace("#",""),n=r.length===3?r.split("").map(l=>l+l).join(""):r.padEnd(6,"0").slice(0,6),s=parseInt(n.slice(0,2),16),i=parseInt(n.slice(2,4),16),o=parseInt(n.slice(4,6),16);return`rgba(${s}, ${i}, ${o}, ${t})`}function o3e(e){if(!e.length)return"";if(e.length===1)return`M ${e[0].x} ${e[0].y}`;const t=[`M ${e[0].x} ${e[0].y}`];for(let r=0;r<e.length-1;r+=1){const n=e[r],s=e[r+1],i=(n.x+s.x)/2;t.push(`C ${i} ${n.y}, ${i} ${s.y}, ${s.x} ${s.y}`)}return t.join(" ")}function l3e(e,t,r){if(!e||t.length<2)return"";const n=t[0],s=t[t.length-1];return`${e} L ${s.x} ${r} L ${n.x} ${r} Z`}function c3e({points:e,stroke:t,chartId:r}){if(e.length<2)return a.jsx("div",{className:"h-20 w-full rounded-lg border border-slate-100 bg-slate-50"});const n=r.replace(/[^a-zA-Z0-9_-]/g,""),s=4,i=32,o=31,l=Math.max(...e),d=Math.min(...e),u=l-d||1,m=100/(e.length-1),p=e.map((y,S)=>({x:Number((S*m).toFixed(2)),y:Number((i-(y-d)/u*(i-s)).toFixed(2))})),h=o3e(p),b=l3e(h,p,o),v=p[p.length-1],N=p[0];return a.jsxs("div",{className:"rounded-lg border border-slate-100 bg-white p-2",children:[a.jsxs("svg",{viewBox:"0 0 100 34",className:"h-16 w-full",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:`fill-${n}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:"0.32"}),a.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:"0.02"})]}),a.jsxs("radialGradient",{id:`halo-${n}`,cx:"50%",cy:"50%",r:"50%",children:[a.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:"0.42"}),a.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:"0"})]})]}),[6,14,22,30].map(y=>a.jsx("line",{x1:0,y1:y,x2:100,y2:y,stroke:"#e2e8f0",strokeDasharray:"2.5 2.5",strokeWidth:.6},`${n}-grid-${y}`)),a.jsx("path",{d:b,fill:`url(#fill-${n})`}),a.jsx("path",{d:h,fill:"none",stroke:t,strokeWidth:2.1,strokeLinecap:"round"}),a.jsx("circle",{cx:N.x,cy:N.y,r:1.6,fill:"#ffffff",stroke:t,strokeWidth:1.2}),a.jsx("circle",{cx:v.x,cy:v.y,r:4.6,fill:`url(#halo-${n})`}),a.jsx("circle",{cx:v.x,cy:v.y,r:2.1,fill:"#ffffff",stroke:t,strokeWidth:1.4})]}),a.jsxs("div",{className:"mt-1.5 flex items-center justify-between text-[10px] text-slate-500",children:[a.jsxs("span",{children:["D1 ",e[0].toFixed(1)]}),a.jsxs("span",{children:[d.toFixed(1)," ~ ",l.toFixed(1)]}),a.jsxs("span",{children:["D7 ",e[e.length-1].toFixed(1)]})]})]})}function d3e({context:e,onNavigate:t}){const[r,n]=g.useState(e?.changeId??""),[s,i]=g.useState({}),o=g.useMemo(()=>[...Kd].sort((u,m)=>new Date(m.deployedAt).getTime()-new Date(u.deployedAt).getTime()).map(u=>{const m=t3e[u.id]??s3e(u),p=Tq[m.stage],h=n3e([...p,...m.observedKpis]);return{event:u,extension:m,stageLinkedKpis:p,impactKpis:h,impactStatus:a3e(u),rollback:u.status==="rollback"}}),[]);g.useEffect(()=>{e?.changeId&&n(e.changeId)},[e?.changeId]),g.useEffect(()=>{if(!o.length)return;o.some(m=>m.event.id===r)||n(o[0].event.id)},[o,r]);const l=g.useMemo(()=>o.find(u=>u.event.id===r)??o[0]??null,[o,r]),d=g.useMemo(()=>{const u=Date.now(),m=o.filter(y=>u-new Date(y.event.deployedAt).getTime()<=X5e),p=m.length>0?m:o,h=p.filter(y=>y.impactStatus!=="none").length,b=p.filter(y=>y.rollback).length,v={Stage1:0,Stage2:0,Stage3:0};p.forEach(y=>{v[y.extension.stage]+=1});const N=p.length?Number((h/p.length*100).toFixed(1)):0;return{recentCount:p.length,impactRatio:N,rollbackCount:b,stageDistribution:v}},[o]);return l?a.jsxs("div",{className:"space-y-4 p-1",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"/   "}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:" ,    KPI  Stage1~3    ."})]}),a.jsx("div",{className:"sticky top-0 z-10 rounded-xl border border-slate-200 bg-white/95 px-4 py-3 backdrop-blur",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 text-xs text-slate-700",children:[a.jsxs("span",{children:[" 30   ",a.jsxs("strong",{className:"ml-1 text-slate-900",children:[d.recentCount,""]})]}),a.jsxs("span",{children:[" KPI   ",a.jsxs("strong",{className:"ml-1 text-slate-900",children:[d.impactRatio,"%"]})]}),a.jsxs("span",{children:["   ",a.jsxs("strong",{className:"ml-1 text-slate-900",children:[d.rollbackCount,""]})]}),a.jsxs("span",{children:["Stage  "," ",a.jsxs("strong",{className:"ml-1 text-slate-900",children:["Stage1 ",d.stageDistribution.Stage1,"  Stage2 ",d.stageDistribution.Stage2,"  Stage3 ",d.stageDistribution.Stage3]})]})]})}),a.jsxs(Nr,{children:[a.jsxs(pn,{className:"pb-2",children:[a.jsx(mn,{className:"text-sm",children:"  (KPI  )"}),a.jsx("p",{className:"text-[11px] text-slate-500",children:"       KPI   ."})]}),a.jsx(Sr,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-[1200px] w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-y border-slate-200 bg-slate-50 text-slate-600",children:[a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:""}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" "}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Stage"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" /"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" "}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" KPI"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" "}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:" "})]})}),a.jsx("tbody",{children:o.map(u=>{const m=l.event.id===u.event.id,{date:p,time:h}=r3e(u.event.deployedAt),b=!!s[u.event.id],v=Z5e[u.impactStatus];return a.jsxs(q.Fragment,{children:[a.jsxs("tr",{onClick:()=>n(u.event.id),className:`cursor-pointer border-b border-slate-100 transition-colors ${m?"bg-blue-50/40":"hover:bg-slate-50"}`,children:[a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("button",{onClick:N=>{N.stopPropagation(),i(y=>({...y,[u.event.id]:!y[u.event.id]}))},className:"mt-0.5 rounded p-0.5 text-slate-500 hover:bg-slate-100","aria-label":"  ",children:b?a.jsx(za,{className:"h-3.5 w-3.5"}):a.jsx(Hs,{className:"h-3.5 w-3.5"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-900",children:p}),a.jsx("div",{className:"text-[11px] text-slate-500",children:h})]})]})}),a.jsx("td",{className:"px-3 py-2 align-top text-slate-700",children:Q5e[u.extension.changeType]}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("span",{className:"inline-flex rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-700",children:u.extension.stage})}),a.jsx("td",{className:"px-3 py-2 align-top font-medium text-slate-900",children:u.extension.targetName}),a.jsx("td",{className:"px-3 py-2 align-top text-slate-700",children:u.extension.summaryLine}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:u.impactKpis.map(N=>{const y=AA[N];return a.jsx("span",{className:`inline-flex rounded border px-1.5 py-0.5 text-[10px] font-medium ${y.chipClass}`,children:y.label},`${u.event.id}-${N}`)})})}),a.jsx("td",{className:"px-3 py-2 align-top",children:a.jsx("span",{className:`inline-flex rounded border px-2 py-0.5 text-[11px] font-medium ${v.className}`,children:v.label})}),a.jsx("td",{className:"px-3 py-2 align-top",children:u.rollback?a.jsx("span",{className:"text-[11px] font-semibold text-red-600",children:""}):a.jsx("span",{className:"text-[11px] text-slate-400",children:""})})]}),b&&a.jsx("tr",{className:"border-b border-slate-100 bg-slate-50/70",children:a.jsxs("td",{colSpan:8,className:"px-4 py-3",children:[a.jsx("div",{className:"text-[11px] font-semibold text-slate-600",children:" "}),a.jsx("p",{className:"mt-1 text-xs leading-relaxed text-slate-700",children:u.extension.reason||u.event.reason||"  ."})]})})]},u.event.id)})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsx("div",{className:"col-span-12 lg:col-span-6",children:a.jsxs(Nr,{className:"h-full",children:[a.jsxs(pn,{className:"pb-2",children:[a.jsx(mn,{className:"text-sm",children:" "}),a.jsx("p",{className:"text-[11px] text-slate-500",children:" / ,  ,  Stage  ."})]}),a.jsxs(Sr,{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("div",{className:"text-[11px] text-slate-500",children:" /"}),a.jsx("div",{className:"mt-0.5 text-sm font-semibold text-slate-900",children:l.extension.targetName}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[a.jsxs("span",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:[" Stage: ",l.extension.stage]}),a.jsxs("span",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:[" : ",l.extension.scope]}),a.jsx("span",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:l.extension.scopeDetail})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("div",{className:"text-[11px] text-slate-500",children:" "}),a.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:l.extension.beforeValue}),a.jsx("div",{className:"mt-0.5 text-[11px] text-slate-500",children:l.extension.beforeLabel})]}),a.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50/40 p-3",children:[a.jsx("div",{className:"text-[11px] text-blue-600",children:" "}),a.jsx("div",{className:"mt-1 text-sm font-semibold text-blue-900",children:l.extension.afterValue}),a.jsx("div",{className:"mt-0.5 text-[11px] text-blue-700",children:l.extension.afterLabel})]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("div",{className:"text-[11px] text-slate-500",children:"Stage   KPI"}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:l.stageLinkedKpis.map(u=>{const m=AA[u];return a.jsx("span",{className:`inline-flex rounded border px-1.5 py-0.5 text-[10px] font-medium ${m.chipClass}`,children:m.label},`stage-link-${u}`)})})]})]})]})}),a.jsx("div",{className:"col-span-12 lg:col-span-6",children:a.jsxs(Nr,{className:"h-full",children:[a.jsxs(pn,{className:"pb-2",children:[a.jsx(mn,{className:"text-sm",children:"KPI "}),a.jsx("p",{className:"text-[11px] text-slate-500",children:"  7 KPI  "})]}),a.jsxs(Sr,{className:"space-y-3",children:[l.stageLinkedKpis.map(u=>{const m=AA[u],p=l.extension.sparklineByKpi[u]??[],h=l.extension.deltaPpByKpi[u]??0,b=p[0]??0,v=p[p.length-1]??0,N=v-b,y=N>.15?" ":N<-.15?" ":" ",S=N>.15?"text-emerald-700":N<-.15?"text-red-700":"text-slate-600";return a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 shadow-sm",style:{backgroundImage:`linear-gradient(135deg, ${i3e(m.stroke,.16)} 0%, #ffffff 52%, #f8fafc 100%)`},children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:`inline-flex rounded border px-1.5 py-0.5 text-[10px] font-medium ${m.chipClass}`,children:m.label}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-xs font-semibold ${h>=0?"text-emerald-600":"text-red-600"}`,children:[" ",h>=0?"+":"",h.toFixed(1),"pp"]}),a.jsx("div",{className:"text-[10px] text-slate-500",children:"7 "})]})]}),a.jsx("div",{className:"mt-2",children:a.jsx(c3e,{points:p,stroke:m.stroke,chartId:`${l.event.id}-${u}`})}),a.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[a.jsx("span",{className:`text-[10px] font-medium ${S}`,children:y}),a.jsxs("span",{className:"text-[10px] text-slate-500",children:[" ",b.toFixed(1),"   ",v.toFixed(1)]})]})]},`spark-${u}`)}),a.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("div",{className:"text-[11px] text-slate-500",children:"   Top3"}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1.5",children:l.extension.topRegions.slice(0,3).map(u=>a.jsx("span",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:u},`${l.event.id}-${u}`))})]}),a.jsx("p",{className:"text-[11px] text-slate-500",children:" KPI        ."}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-1",children:[a.jsxs("button",{onClick:()=>t?.("quality-monitoring",{changeId:l.event.id}),className:"inline-flex items-center gap-1 rounded border border-slate-200 px-2 py-1 text-[11px] font-medium text-slate-700 hover:bg-slate-50",children:["  ",a.jsx(sa,{className:"h-3 w-3"})]}),a.jsxs("button",{onClick:()=>t?.("compliance-audit",{changeId:l.event.id}),className:"inline-flex items-center gap-1 rounded border border-slate-200 px-2 py-1 text-[11px] font-medium text-slate-700 hover:bg-slate-50",children:["  ",a.jsx(sa,{className:"h-3 w-3"})]})]})]})]})})]})]}):a.jsx("div",{className:"p-4 text-sm text-slate-500",children:"/    ."})}function u3e({...e}){return a.jsx(KF,{"data-slot":"sheet",...e})}function f3e({...e}){return a.jsx(qF,{"data-slot":"sheet-portal",...e})}function p3e({className:e,...t}){return a.jsx(WF,{"data-slot":"sheet-overlay",className:ue("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function m3e({className:e,children:t,side:r="right",...n}){return a.jsxs(f3e,{children:[a.jsx(p3e,{}),a.jsxs(VF,{"data-slot":"sheet-content",className:ue("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,a.jsxs(QF,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(ed,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function h3e({className:e,...t}){return a.jsx("div",{"data-slot":"sheet-header",className:ue("flex flex-col gap-1.5 p-4",e),...t})}function g3e({className:e,...t}){return a.jsx(YF,{"data-slot":"sheet-title",className:ue("text-foreground font-semibold",e),...t})}function x3e({className:e,...t}){return a.jsx(XF,{"data-slot":"sheet-description",className:ue("text-muted-foreground text-sm",e),...t})}const _A=[{id:"stage1",name:"Stage1",title:"  &  ",responsibility:" / ",status:"caution",kpiLinks:[""," "],metrics:[{label:"  ",value:"96.8%",target:" 97% ",signal:"watch",note:"/    "},{label:"/ ",value:"4.9%",target:" 3% ",signal:"risk",note:"24    "},{label:"  ",value:"2  ",target:"0 ",signal:"watch",note:"     "}]},{id:"stage2",name:"Stage2",title:"ANN / ",responsibility:" /  ",status:"warning",kpiLinks:[""," "],metrics:[{label:"Feature   ",value:"JS Divergence 0.11",target:" 0.10 ",signal:"risk",note:" 7   "},{label:"Class  ",value:"  6.3%p",target:" 5.0%p ",signal:"watch",note:"L2     "},{label:"Confidence  ",value:"+17%",target:" 10% ",signal:"risk",note:"   "}]},{id:"stage3",name:"Stage3",title:"CNN / ",responsibility:" / ",status:"caution",kpiLinks:[""," "],metrics:[{label:"  ",value:"Drift Score 0.21",target:" 0.20 ",signal:"watch",note:"    "},{label:"Class   ",value:" +0.08",target:" +0.05 ",signal:"watch",note:"   "},{label:"Guardrail Flag ",value:"2.2%",target:" 2.0% ",signal:"risk",note:" fallback   "}]}],nh=[{id:"qa-stage1-20260211",occurredAt:"2026-02-11 08:55",stage:"stage1",causeType:"",impactKpi:" ",status:" "},{id:"qa-stage2-20260211",occurredAt:"2026-02-11 10:20",stage:"stage2",causeType:"",impactKpi:"",status:" "},{id:"qa-stage3-20260210",occurredAt:"2026-02-10 16:40",stage:"stage3",causeType:"",impactKpi:"",status:""},{id:"qa-link-20260210",occurredAt:"2026-02-10 11:05",stage:"stage2",causeType:"",impactKpi:" ",status:""},{id:"qa-stage1-20260209",occurredAt:"2026-02-09 09:30",stage:"stage1",causeType:"",impactKpi:"",status:" "}],b3e={normal:"bg-green-100 text-green-700",caution:"bg-amber-100 text-amber-700",warning:"bg-red-100 text-red-700"},Ix={normal:"",caution:"",warning:""},y3e={good:"bg-green-50 text-green-700 border-green-200",watch:"bg-amber-50 text-amber-700 border-amber-200",risk:"bg-red-50 text-red-700 border-red-200"},v3e={:"bg-blue-50 text-blue-700 border-blue-200"," ":"bg-red-50 text-red-700 border-red-200"," ":"bg-green-50 text-green-700 border-green-200"},N3e={:"bg-sky-50 text-sky-700 border-sky-200",:"bg-violet-50 text-violet-700 border-violet-200",:"bg-orange-50 text-orange-700 border-orange-200"},kq="2026-02-12",x8={good:"ok",watch:"warn",risk:"risk"},S3e={ok:{label:" ",className:"bg-green-50 text-green-700 border-green-200"},warn:{label:" ",className:"bg-amber-50 text-amber-700 border-amber-200"},risk:{label:" ",className:"bg-red-50 text-red-700 border-red-200"}},j3e={"  ":{key:"stage1-required-fields",title:"  ",subtitlePlain:"       .",whyItMatters:"           .",interpretTemplate:{ok:"       .",warn:" /       .",risk:"        ."},actionHint:{ok:"    .",warn:"  /   .",risk:"        ."},targetLine:" 97% "},"/ ":{key:"stage1-delay-missing-rate",title:"/ ",subtitlePlain:"       .",whyItMatters:"        .",interpretTemplate:{ok:"         .",warn:"       .",risk:"24         ."},actionHint:{ok:"     .",warn:"  /   .",risk:"     ."},targetLine:" 3% "},"  ":{key:"stage1-distribution-drift",title:"  ",subtitlePlain:"      .",whyItMatters:"         .",interpretTemplate:{ok:"       .",warn:"       .",risk:"       ."},actionHint:{ok:"    .",warn:"      .",risk:"      ."},targetLine:"0 "},"Feature   ":{key:"stage2-feature-jsd",title:"Feature    (JS Divergence)",subtitlePlain:"       .",whyItMatters:"       .",interpretTemplate:{ok:"       .",warn:"        .",risk:"        ."},actionHint:{ok:"   .",warn:"   /   .",risk:"       ."},targetLine:" 0.10 ",terms:["JS Divergence:   (0  )"]},"Class  ":{key:"stage2-class-bias",title:"Class  ",subtitlePlain:"        .",whyItMatters:"    /   .",interpretTemplate:{ok:"       .",warn:"        .",risk:"        ."},actionHint:{ok:"    .",warn:" /      .",risk:"      ."},targetLine:" 5.0%p "},"Confidence  ":{key:"stage2-confidence-variance",title:"Confidence  ",subtitlePlain:"      .",whyItMatters:"         .",interpretTemplate:{ok:"      .",warn:"     .",risk:"      ."},actionHint:{ok:"   .",warn:"      .",risk:" / /    ."},targetLine:" 10% "},"  ":{key:"stage3-embedding-drift",title:"   (Drift Score)",subtitlePlain:"       .",whyItMatters:"         .",interpretTemplate:{ok:"       .",warn:"     .",risk:"      ."},actionHint:{ok:"    .",warn:" (/)   .",risk:" /     ."},targetLine:" 0.20 "},"Class   ":{key:"stage3-entropy-shift",title:"Class    ()",subtitlePlain:"      .",whyItMatters:"         .",interpretTemplate:{ok:"      .",warn:"      .",risk:"        ."},actionHint:{ok:"    .",warn:"     .",risk:"/     ."},targetLine:" +0.05 ",terms:[":   ( )"]},"Guardrail Flag ":{key:"stage3-guardrail-rate",title:"Guardrail Flag ",subtitlePlain:"( )    .",whyItMatters:"/        .",interpretTemplate:{ok:"       .",warn:"     .",risk:"fallback       ."},actionHint:{ok:"   .",warn:"     .",risk:" / /     ."},targetLine:" 2.0% "}};function w3e(){const[e,t]=g.useState(!1);return g.useEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia("(hover: none), (pointer: coarse)"),n=()=>t(r.matches||navigator.maxTouchPoints>0);return n(),r.addEventListener?.("change",n),()=>r.removeEventListener?.("change",n)},[]),e}function b8(e){return j3e[e.label]??{key:e.label,title:e.label,subtitlePlain:"         .",whyItMatters:"         .",interpretTemplate:{ok:"     .",warn:"      .",risk:"        ."},actionHint:{ok:"   .",warn:"    .",risk:"      ."},targetLine:e.target}}function E3e(e){return e==="data_quality"?"stage1":e==="model_fitness"?"stage3":"stage2"}function A3e(e){return e==="stage1"?"Stage1":e==="stage2"?"Stage2":"Stage3"}function _3e(e,t){return t==="risk"?e.interpretTemplate.risk:t==="warn"?e.interpretTemplate.warn:e.interpretTemplate.ok}function C3e(e,t){return t==="risk"?e.actionHint.risk:t==="warn"?e.actionHint.warn:e.actionHint.ok}function T3e(e){return e==="risk"?" 7         .":e==="warn"?" 7        .":" 7        ."}function y8({stage:e,metric:t,explain:r,severity:n,onOpenDetail:s}){const i=S3e[n];return a.jsxs("div",{className:"w-[min(92vw,460px)] max-w-[460px] rounded-lg border border-slate-200 bg-white p-3 text-[11px] leading-[1.35] shadow-xl",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-500",children:e.name}),a.jsx("p",{className:"truncate text-slate-800 font-semibold",children:r.title})]}),a.jsx("span",{className:`inline-flex shrink-0 items-center whitespace-nowrap rounded-full border px-2 py-0.5 text-[10px] font-semibold leading-none ${i.className}`,children:i.label})]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",r.subtitlePlain]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[" : ",i.label,"  ",t.value]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[": ",_3e(r,n)]}),a.jsxs("p",{className:"mt-1 truncate text-slate-600",children:[" : ",C3e(r,n)]}),a.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"truncate text-slate-500",children:[": ",r.targetLine||t.target,"  D-1 ",kq]}),a.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 text-[10px] font-semibold text-blue-600 hover:text-blue-700 shrink-0",onClick:o=>{o.stopPropagation(),s()},children:["",a.jsx(sa,{className:"h-3 w-3"})]})]})]})}function k3e({context:e,onNavigate:t}){const r=g.useMemo(()=>E3e(e?.driver),[e?.driver]),[n,s]=g.useState([r]),[i,o]=g.useState(!1),[l,d]=g.useState(null),u=w3e(),m=g.useRef({}),p=95.1,h=nh.filter(A=>A.status!==" ").length,b=g.useMemo(()=>nh.reduce((A,E)=>(E.status!==" "&&(A[E.causeType]+=1),A),{:0,:0,:0}),[]),v=g.useMemo(()=>_A.reduce((A,E)=>(A[E.id]=E.status,A),{}),[]),N=A=>{s(E=>E.includes(A)?E.filter(C=>C!==A):[...E,A])},y=g.useCallback((A,E)=>`${A}::${E}`,[]),S=g.useCallback((A,E)=>{const C=b8(E);s(D=>D.includes(A.id)?D:[...D,A.id]),d({stage:A,metric:E,explain:C}),o(!0);const O=y(A.id,E.label);requestAnimationFrame(()=>{setTimeout(()=>{m.current[O]?.scrollIntoView({behavior:"smooth",block:"center"})},120)})},[y]),w=l?x8[l.metric.signal]:null,_=g.useMemo(()=>l?nh.filter(A=>A.stage===l.stage.id&&A.status!==" "):[],[l]);return a.jsx($3,{delayDuration:200,children:a.jsxs("div",{className:"space-y-5 p-1",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" &  "}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Stage     / /   ."})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[{label:"  ",value:`${p.toFixed(1)}%`,sub:" ",icon:a.jsx(ql,{className:"h-5 w-5"}),color:"text-amber-600",bg:"bg-amber-50"},{label:"Stage1 ",value:Ix[v.stage1],sub:"  & ",icon:a.jsx(OT,{className:"h-5 w-5"}),color:v.stage1==="warning"?"text-red-600":v.stage1==="caution"?"text-amber-600":"text-green-600",bg:v.stage1==="warning"?"bg-red-50":v.stage1==="caution"?"bg-amber-50":"bg-green-50"},{label:"Stage2 ",value:Ix[v.stage2],sub:"ANN /",icon:a.jsx(Mh,{className:"h-5 w-5"}),color:v.stage2==="warning"?"text-red-600":v.stage2==="caution"?"text-amber-600":"text-green-600",bg:v.stage2==="warning"?"bg-red-50":v.stage2==="caution"?"bg-amber-50":"bg-green-50"},{label:"Stage3 ",value:Ix[v.stage3],sub:"CNN /",icon:a.jsx(Wo,{className:"h-5 w-5"}),color:v.stage3==="warning"?"text-red-600":v.stage3==="caution"?"text-amber-600":"text-green-600",bg:v.stage3==="warning"?"bg-red-50":v.stage3==="caution"?"bg-amber-50":"bg-green-50"},{label:"  ",value:`${h}`,sub:"  ",icon:a.jsx(Ka,{className:"h-5 w-5"}),color:h>2?"text-red-600":"text-amber-600",bg:h>2?"bg-red-50":"bg-amber-50"}].map((A,E)=>a.jsx(Nr,{className:"border-0 shadow-sm",children:a.jsx(Sr,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${A.bg} ${A.color}`,children:A.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs text-gray-500",children:A.label}),a.jsx("div",{className:"text-xl font-bold text-gray-900",children:A.value}),a.jsx("div",{className:"text-[11px] text-gray-400 truncate",children:A.sub})]})]})})},E))}),a.jsxs(Nr,{children:[a.jsx(pn,{className:"pb-3",children:a.jsxs(mn,{className:"text-sm flex items-center gap-2",children:[a.jsx(gV,{className:"h-4 w-4 text-slate-600"}),"5  "]})}),a.jsx(Sr,{className:"pt-0",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{className:"inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium bg-sky-50 text-sky-700 border-sky-200",children:["  ",b.,""]}),a.jsxs("span",{className:"inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium bg-violet-50 text-violet-700 border-violet-200",children:["  ",b.,""]}),a.jsxs("span",{className:"inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium bg-orange-50 text-orange-700 border-orange-200",children:["  ",b.,""]}),a.jsxs("span",{className:"text-xs text-gray-500",children:[" Stage: ",_A.filter(A=>A.status==="warning").map(A=>A.name).join(", ")||""]})]})})]}),a.jsx("div",{className:"space-y-3",children:_A.map(A=>{const E=n.includes(A.id);return a.jsxs(Nr,{className:"border border-slate-200 overflow-hidden gap-0",children:[a.jsx("button",{type:"button",onClick:()=>N(A.id),className:"w-full px-5 py-4 bg-white hover:bg-slate-50 transition-colors text-left",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-800 min-w-16",children:A.name}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:A.title}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:A.responsibility})]}),a.jsx("span",{className:`ml-auto inline-flex items-center rounded-full px-2 py-1 text-[11px] font-medium ${b3e[A.status]}`,children:Ix[A.status]}),E?a.jsx($l,{className:"h-4 w-4 text-gray-400"}):a.jsx(za,{className:"h-4 w-4 text-gray-400"})]})}),E&&a.jsxs(Sr,{className:"pt-1 pb-5 px-5 space-y-4 border-t border-slate-100",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-[11px] text-slate-500",children:"KPI "}),A.kpiLinks.map(C=>a.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-700",children:C},C))]}),a.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:A.metrics.map(C=>{const O=x8[C.signal],D=b8(C),R=y(A.id,C.label),K=a.jsxs("div",{ref:H=>{m.current[R]=H},role:"button",tabIndex:0,onKeyDown:H=>{H.key==="Enter"&&(H.preventDefault(),S(A,C))},className:"relative rounded-lg border border-slate-200 bg-white p-3 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-200",children:[a.jsx("p",{className:"text-xs text-slate-500 pr-8",children:C.label}),a.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:C.value}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-[11px] text-slate-500",children:C.target}),a.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[10px] font-semibold ${y3e[C.signal]}`,children:C.signal==="risk"?"":C.signal==="watch"?"":""})]}),a.jsx("p",{className:"text-[11px] text-slate-500 mt-2",children:C.note}),u&&a.jsxs(wq,{children:[a.jsx(Eq,{asChild:!0,children:a.jsx("button",{type:"button","aria-label":`${C.label} `,className:"absolute right-2 top-2 inline-flex h-5 w-5 items-center justify-center rounded border border-slate-200 bg-slate-50 text-slate-500 hover:bg-slate-100",onClick:H=>H.stopPropagation(),children:a.jsx($f,{className:"h-3 w-3"})})}),a.jsx(Aq,{children:a.jsx(_q,{side:"top",align:"end",sideOffset:8,collisionPadding:12,className:"z-50 max-w-[92vw] p-0 border-0 bg-transparent shadow-none",children:a.jsx(y8,{stage:A,metric:C,explain:D,severity:O,onOpenDetail:()=>S(A,C)})})})]})]});return u?a.jsx(q.Fragment,{children:K},R):a.jsxs(F3,{delayDuration:200,children:[a.jsx(B3,{asChild:!0,children:K}),a.jsx(U3,{children:a.jsxs(H3,{side:"top",align:"end",sideOffset:8,collisionPadding:12,className:"z-50 max-w-[92vw] p-0 border-0 bg-transparent shadow-none",children:[a.jsx(y8,{stage:A,metric:C,explain:D,severity:O,onOpenDetail:()=>S(A,C)}),a.jsx(G3,{className:"fill-white"})]})})]},R)})})]})]},A.id)})}),a.jsxs(Nr,{children:[a.jsx(pn,{className:"pb-3",children:a.jsxs(mn,{className:"text-base flex items-center gap-2",children:[a.jsx(Ka,{className:"h-4 w-4 text-amber-500"})," "]})}),a.jsxs(Sr,{className:"pt-0",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[760px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50/70",children:[a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:""}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:"Stage"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:" "}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:" KPI"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs font-semibold text-gray-600",children:""})]})}),a.jsxs("tbody",{children:[nh.map(A=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50",children:[a.jsx("td",{className:"py-3 px-3 text-sm text-gray-700",children:A.occurredAt}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:A3e(A.stage)})}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-1 text-[11px] font-medium ${N3e[A.causeType]}`,children:A.causeType})}),a.jsx("td",{className:"py-3 px-3 text-sm text-gray-700",children:A.impactKpi}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-1 text-[11px] font-medium ${v3e[A.status]}`,children:A.status})})]},A.id)),nh.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-6 text-center text-sm text-gray-500",children:"   ."})})]})]})}),a.jsx("div",{className:"mt-3 text-[11px] text-gray-500",children:" : ( ),  (/  ),  (  )"})]})]}),a.jsx(u3e,{open:i,onOpenChange:o,children:a.jsx(m3e,{side:"right",className:"w-[420px] sm:max-w-[420px]",children:l?a.jsxs(a.Fragment,{children:[a.jsxs(h3e,{className:"border-b border-slate-200 pb-3",children:[a.jsxs(g3e,{className:"text-base text-slate-900",children:[l.stage.name,"  ",l.metric.label]}),a.jsxs(x3e,{className:"text-xs text-slate-500",children:[l.stage.title,"     ",kq," (D-1)"]})]}),a.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto px-4 pb-4 text-sm",children:[a.jsxs("section",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-600",children:" 7 "}),a.jsx("p",{className:"mt-1 text-sm text-slate-800",children:T3e(w??"ok")}),a.jsxs("p",{className:"mt-1 text-[11px] text-slate-500",children:[" : ",l.metric.value,"  ",l.explain.targetLine||l.metric.target]})]}),a.jsxs("section",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-600",children:" "}),a.jsx("p",{className:"mt-1 text-sm text-slate-700",children:l.metric.note})]}),a.jsxs("section",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-600",children:" "}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:l.stage.kpiLinks.map(A=>a.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] text-slate-700",children:A},A))})]}),a.jsxs("section",{className:"rounded-lg border border-slate-200 p-3",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-600",children:" "}),_.length>0?a.jsx("ul",{className:"mt-2 space-y-2",children:_.slice(0,4).map(A=>a.jsxs("li",{className:"rounded border border-slate-100 bg-slate-50 px-2 py-1.5",children:[a.jsx("p",{className:"text-[11px] text-slate-600",children:A.occurredAt}),a.jsxs("p",{className:"text-xs text-slate-800",children:[A.causeType,"  ",A.impactKpi,"  ",A.status]})]},A.id))}):a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"    ."})]})]})]}):a.jsx("div",{className:"flex h-full items-center justify-center text-sm text-slate-500",children:"KPI    ."})})})]})})}const Lx={regulation:{label:" ",dotClass:"bg-amber-500",badgeClass:"bg-amber-50 text-amber-700 border-amber-200",icon:a.jsx(Yi,{className:"h-3.5 w-3.5"})},model:{label:" ",dotClass:"bg-purple-500",badgeClass:"bg-purple-50 text-purple-700 border-purple-200",icon:a.jsx(uX,{className:"h-3.5 w-3.5"})},policy:{label:" ",dotClass:"bg-blue-500",badgeClass:"bg-blue-50 text-blue-700 border-blue-200",icon:a.jsx(ET,{className:"h-3.5 w-3.5"})}},O3e={:{cls:"bg-green-50 text-green-700 border-green-200"},:{cls:"bg-amber-50 text-amber-700 border-amber-200"},:{cls:"bg-red-50 text-red-700 border-red-200"}},R3e=[{question:"AI   ?",answer:"",detail:"Stage1~3         .",verdict:"no"},{question:"()   ?",answer:"",detail:"//        .",verdict:"yes"},{question:"     ?",answer:"",detail:"  /      .",verdict:"yes"}];function $x(e,t){return t<=0?100:Math.round(e/t*100)}function ah(e){return e===0?"":e===1?"":""}function v8(e){return new Date(e).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function P3e(e){const t=e.type==="model_version"?"model":"regulation",r=e.approvedBy||e.deployedBy||"",n=` ${e.requestedBy||"-"} /  ${e.approvedBy||""} /  ${e.deployedBy||"-"}`;return{id:`timeline-policy-${e.id}`,timestamp:e.deployedAt,category:t,title:e.title,owner:r,decisionLog:n,evidence:e.reason||e.description,changeId:e.id,statusLabel:e.status}}function D3e(e){return{id:`timeline-audit-${e.id}`,timestamp:e.timestamp,category:"policy",title:e.title,owner:e.approver||e.actor,decisionLog:` ${e.requestor||"-"} /  ${e.approver||""} /  ${e.executor||"-"}`,evidence:e.rationale,changeId:e.relatedChangeId,auditId:e.id,statusLabel:e.status}}function M3e({context:e,onNavigate:t}){const[r,n]=g.useState("all"),[s,i]=g.useState(null),[o,l]=g.useState(!1),d=g.useMemo(()=>{const y=Kd.map(P3e),S=vs.filter(w=>w.type==="policy_change").map(D3e);return[...y,...S].sort((w,_)=>new Date(_.timestamp).getTime()-new Date(w.timestamp).getTime())},[]),u=g.useMemo(()=>r==="all"?d:d.filter(y=>y.category===r),[d,r]);g.useEffect(()=>{if(d.length){if(e?.auditId){const y=d.find(S=>S.auditId===e.auditId);if(y){i(y.id);return}}if(e?.changeId){const y=d.find(S=>S.changeId===e.changeId);if(y){i(y.id);return}}i(y=>y||d[0].id)}},[d,e?.auditId,e?.changeId]),g.useEffect(()=>{if(!u.length){i(null);return}u.some(S=>S.id===s)||i(u[0].id)},[u,s]);const m=g.useMemo(()=>d.find(y=>y.id===s)||null,[d,s]),p=g.useMemo(()=>{const y=vs.length,S=vs.filter(C=>!!C.cause&&C.kpiSnapshot.riskTop3.length>0).length,w=vs.filter(C=>!!C.requestor&&!!C.approver&&!!C.rationale).length,_=vs.filter(C=>!!C.executor&&!!C.approvalComment).length,A=S+w+_,E=y*3;return{stage1:S,stage2:w,stage3:_,totalEvents:y,rate:$x(A,E)}},[]),h=g.useMemo(()=>{const y=vs.length,S=vs.filter(A=>!!A.approver).length,w=vs.filter(A=>!!A.rationale&&(!!A.policyRef||!!A.internalStandardId)).length,_=vs.filter(A=>/ai|  /i.test(A.approver||"")).length;return{totalEvents:y,ownerAssigned:S,rationaleAttached:w,aiFinalDecisionCount:_,humanDecisionCount:S}},[]),b=g.useMemo(()=>{const y=vs.filter(C=>!C.approver),S=vs.filter(C=>!C.rationale||!C.policyRef&&!C.internalStandardId),w=vs.filter(C=>!C.executor),_=vs.filter(C=>C.type==="violation"&&C.severity==="high"&&C.status!=="resolved"),A=vs.filter(C=>!C.cause||!C.requestor||!C.approver||!C.executor),E=Kd[0]?.id;return[{id:"owner",itemName:" () ",stage:"Stage2",nonComplianceCases:y.length,status:ah(y.length),linkLabel:"  ",navPage:"compliance-audit",navContext:y[0]?{auditId:y[0].id}:void 0},{id:"evidence",itemName:" (/) ",stage:"Stage2~3",nonComplianceCases:S.length,status:ah(S.length),linkLabel:"  ",navPage:"model-governance",navContext:{changeId:S[0]?.relatedChangeId||E}},{id:"executor",itemName:" (Executor)  ",stage:"Stage3",nonComplianceCases:w.length,status:ah(w.length),linkLabel:"  ",navPage:"compliance-audit",navContext:w[0]?{auditId:w[0].id}:void 0},{id:"high-risk",itemName:"    ",stage:"Stage3",nonComplianceCases:_.length,status:ah(_.length),linkLabel:"  ",navPage:"compliance-audit",navContext:_[0]?{auditId:_[0].id}:void 0},{id:"stage-chain",itemName:"Stage1~3   ",stage:"Stage1~3",nonComplianceCases:A.length,status:ah(A.length),linkLabel:"  ",navPage:"compliance-audit",navContext:A[0]?{auditId:A[0].id}:void 0}]},[]),v=g.useMemo(()=>{const y=b.filter(S=>S.status==="").length;return $x(y,b.length)},[b]),N=g.useMemo(()=>[{label:"  ",value:`${$x(h.ownerAssigned,h.totalEvents)}%`,detail:`${h.ownerAssigned}/${h.totalEvents}`},{label:"  ",value:`${$x(h.rationaleAttached,h.totalEvents)}%`,detail:`${h.rationaleAttached}/${h.totalEvents}`},{label:" ",value:`${v}%`,detail:`${b.filter(y=>y.status==="").length}/${b.length} `},{label:"Stage  ",value:`${p.rate}%`,detail:`S1 ${p.stage1}/${p.totalEvents}  S2 ${p.stage2}/${p.totalEvents}  S3 ${p.stage3}/${p.totalEvents}`}],[b,v,p,h]);return a.jsxs("div",{className:"space-y-5 p-1",children:[a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"   "}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"             ."})]}),a.jsxs(dt,{size:"sm",onClick:()=>alert("   (mock)"),children:[a.jsx(yf,{className:"h-4 w-4 mr-2"}),"  "]})]}),a.jsxs("div",{className:"rounded-xl border-2 border-blue-200 bg-gradient-to-r from-blue-50 via-white to-white p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Yi,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:"  "})]}),a.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:R3e.map(y=>a.jsx(I3e,{question:y.question,answer:y.answer,detail:y.detail,verdict:y.verdict},y.question))}),a.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:["AI  "," ",a.jsxs("span",{className:"font-semibold text-red-600",children:[h.aiFinalDecisionCount,""]})," /   "," ",a.jsxs("span",{className:"font-semibold text-blue-700",children:[h.humanDecisionCount,""]})]})]}),a.jsx("div",{className:"grid gap-3 md:grid-cols-4",children:N.map(y=>a.jsx(L3e,{label:y.label,value:y.value,detail:y.detail},y.label))}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Vo,{className:"h-4 w-4 text-indigo-600"}),a.jsx("h2",{className:"text-sm font-bold text-gray-900",children:"  "})]}),a.jsxs("div",{className:"grid gap-3 lg:grid-cols-[1fr_auto_1fr_auto_1fr] items-center",children:[a.jsx(CA,{title:"Stage1",subtitle:"  ",description:" /  .",badge:" ",badgeClass:"bg-gray-100 text-gray-700 border-gray-200"}),a.jsx(Dh,{className:"h-4 w-4 text-gray-400 justify-self-center hidden lg:block"}),a.jsx(CA,{title:"Stage2",subtitle:" ",description:"/      .",badge:" ",badgeClass:"bg-blue-50 text-blue-700 border-blue-200"}),a.jsx(Dh,{className:"h-4 w-4 text-gray-400 justify-self-center hidden lg:block"}),a.jsx(CA,{title:"Stage3",subtitle:" ",description:"       .",badge:" ",badgeClass:"bg-green-50 text-green-700 border-green-200"})]}),a.jsx("div",{className:"mt-3 rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:a.jsx("p",{className:"text-sm font-semibold text-indigo-900",children:"   (). AI/       ."})})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ET,{className:"h-4 w-4 text-gray-700"}),a.jsx("h2",{className:"text-sm font-bold text-gray-900",children:" "})]}),a.jsxs("button",{onClick:()=>l(y=>!y),className:"text-xs text-gray-500 inline-flex items-center gap-1 hover:text-gray-700",children:["Stage  ",o?a.jsx($l,{className:"h-4 w-4"}):a.jsx(za,{className:"h-4 w-4"})]})]}),o&&a.jsx("div",{className:"mb-3 rounded-lg border border-gray-200 bg-gray-50 p-3 text-xs text-gray-600",children:"Stage1:   (cause, riskTop3) / Stage2:  / Stage3:  "}),a.jsx("div",{className:"overflow-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-xs text-gray-500 border-b border-gray-200",children:[a.jsx("th",{className:"py-2 pr-3",children:" "}),a.jsx("th",{className:"py-2 pr-3",children:" Stage"}),a.jsx("th",{className:"py-2 pr-3",children:""}),a.jsx("th",{className:"py-2 pr-3",children:"  "}),a.jsx("th",{className:"py-2",children:"  "})]})}),a.jsx("tbody",{children:b.map(y=>a.jsxs("tr",{className:"border-b border-gray-100 last:border-b-0",children:[a.jsx("td",{className:"py-2.5 pr-3 font-medium text-gray-900",children:y.itemName}),a.jsx("td",{className:"py-2.5 pr-3 text-gray-600",children:y.stage}),a.jsx("td",{className:"py-2.5 pr-3",children:a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs rounded border ${O3e[y.status].cls}`,children:y.status})}),a.jsxs("td",{className:"py-2.5 pr-3 text-gray-700",children:[y.nonComplianceCases,""]}),a.jsx("td",{className:"py-2.5",children:a.jsxs("button",{onClick:()=>t?.(y.navPage,y.navContext),className:"text-xs inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:underline",children:[a.jsx(sa,{className:"h-3.5 w-3.5"}),y.linkLabel]})})]},y.id))})]})})]}),a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fo,{className:"h-4 w-4 text-gray-700"}),a.jsx("h2",{className:"text-sm font-bold text-gray-900",children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fx,{label:"",active:r==="all",onClick:()=>n("all")}),a.jsx(Fx,{label:" ",active:r==="regulation",onClick:()=>n("regulation")}),a.jsx(Fx,{label:" ",active:r==="model",onClick:()=>n("model")}),a.jsx(Fx,{label:" ",active:r==="policy",onClick:()=>n("policy")})]})]}),a.jsxs("div",{className:"grid gap-4 lg:grid-cols-[2fr_3fr]",children:[a.jsxs("div",{className:"relative max-h-[420px] overflow-y-auto pr-1",children:[a.jsx("div",{className:"absolute left-[11px] top-0 bottom-0 w-0.5 bg-gray-200"}),u.length===0?a.jsx("div",{className:"py-16 text-center text-sm text-gray-400",children:"   ."}):a.jsx("div",{className:"space-y-1.5",children:u.map(y=>{const S=y.id===s,w=Lx[y.category];return a.jsxs("button",{onClick:()=>i(y.id),className:`relative w-full text-left pl-8 pr-3 py-2.5 rounded-lg border transition-colors ${S?"border-blue-300 bg-blue-50":"border-transparent hover:bg-gray-50 hover:border-gray-200"}`,children:[a.jsx("div",{className:`absolute left-[5px] top-3.5 w-3 h-3 rounded-full ${w.dotClass}`}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-1.5 py-0.5 text-[10px] rounded border ${w.badgeClass}`,children:[w.icon,w.label]}),a.jsx("span",{className:"text-[10px] text-gray-400",children:v8(y.timestamp)})]}),a.jsx("div",{className:"mt-1 text-sm font-semibold text-gray-900 leading-snug",children:y.title}),a.jsxs("div",{className:"mt-1 text-[11px] text-gray-500",children:[": ",y.owner]})]},y.id)})})]}),a.jsx("div",{children:m?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded border ${Lx[m.category].badgeClass}`,children:[Lx[m.category].icon,Lx[m.category].label]}),a.jsx("span",{className:"text-xs text-gray-500",children:v8(m.timestamp)})]}),a.jsx("h3",{className:"mt-2 text-base font-bold text-gray-900",children:m.title}),a.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:[": ",m.statusLabel]})]}),a.jsx(TA,{icon:a.jsx(Vo,{className:"h-4 w-4 text-blue-600"}),title:" ",children:a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:m.owner})}),a.jsx(TA,{icon:a.jsx(Vi,{className:"h-4 w-4 text-green-600"}),title:" ",children:a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:m.decisionLog})}),a.jsx(TA,{icon:a.jsx(Zd,{className:"h-4 w-4 text-indigo-600"}),title:" ",children:a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:m.evidence})}),a.jsx("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3",children:a.jsx("p",{className:"text-xs font-semibold text-blue-900",children:" :       /    ."})}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[m.changeId&&a.jsxs(dt,{size:"sm",variant:"outline",className:"text-xs text-blue-700",onClick:()=>t?.("model-governance",{changeId:m.changeId}),children:[a.jsx(sa,{className:"h-3.5 w-3.5 mr-1"}),"  "]}),m.auditId&&a.jsxs(dt,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>t?.("compliance-audit",{auditId:m.auditId}),children:[a.jsx(sa,{className:"h-3.5 w-3.5 mr-1"}),"  "]})]})]}):a.jsx("div",{className:"h-[240px] rounded-lg border border-dashed border-gray-200 flex items-center justify-center text-sm text-gray-400",children:"       ."})})]})]})]})}function I3e({question:e,answer:t,detail:r,verdict:n}){return a.jsxs("div",{className:`rounded-lg border p-3 ${n==="yes"?"border-green-200 bg-green-50/50":"border-red-200 bg-red-50/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n==="yes"?a.jsx(Vi,{className:"h-4 w-4 text-green-600"}):a.jsx(Mf,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:e})]}),a.jsx("p",{className:`text-sm font-bold ${n==="yes"?"text-green-700":"text-red-700"}`,children:t}),a.jsx("p",{className:"mt-1 text-xs text-gray-600 leading-relaxed",children:r})]})}function L3e({label:e,value:t,detail:r}){return a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:e}),a.jsx("p",{className:"text-xl font-bold text-gray-900 mt-1",children:t}),a.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:r})]})}function CA({title:e,subtitle:t,description:r,badge:n,badgeClass:s}){return a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-gray-700",children:e}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${s}`,children:n})]}),a.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:t}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 leading-relaxed",children:r})]})}function Fx({label:e,active:t,onClick:r}){return a.jsx("button",{onClick:r,className:`text-xs px-2 py-1 rounded border transition-colors ${t?"bg-blue-50 text-blue-700 border-blue-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:e})}function TA({icon:e,title:t,children:r}){return a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e,a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:t})]}),r]})}const N8=(e,t,r)=>Math.min(r,Math.max(t,e));function $3e({userRole:e}){const t=e==="central_admin",[r,n]=g.useState(!1),[s,i]=g.useState(()=>uq()),o=g.useCallback((y,S)=>{i(w=>({...w,matrixThresholds:{...w.matrixThresholds,[y]:N8(S,70,99)}})),n(!1)},[]),l=g.useCallback((y,S)=>{i(w=>({...w,headline:{...w.headline,[y]:S}})),n(!1)},[]),d=g.useCallback(y=>{i(S=>({...S,drilldown:{...S.drilldown,[y]:!S.drilldown[y]}})),n(!1)},[]),u=g.useCallback(y=>{i(S=>({...S,notifications:{...S.notifications,[y]:!S.notifications[y]}})),n(!1)},[]),m=g.useCallback(y=>{i(S=>({...S,reports:{...S.reports,defaultPeriod:y}})),n(!1)},[]),p=g.useCallback(()=>{i(y=>({...y,reports:{...y.reports,includeFilterContext:!y.reports.includeFilterContext}})),n(!1)},[]),h=g.useCallback(()=>{FTe(s),n(!0),setTimeout(()=>n(!1),3e3)},[s]),b=g.useCallback(()=>{const y=BTe();i(y),n(!1)},[]),v=g.useMemo(()=>Math.abs(s.matrixThresholds.slaCut-s.matrixThresholds.dataCut)<=1?" ":s.matrixThresholds.slaCut>s.matrixThresholds.dataCut?"SLA   ":"   ",[s.matrixThresholds.dataCut,s.matrixThresholds.slaCut]),N=t?" ":" ";return a.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"     /  ."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[r&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-sm font-medium animate-pulse",children:[a.jsx(ws,{className:"h-4 w-4"})," "]}),a.jsxs("button",{type:"button",onClick:b,disabled:!t,className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(pX,{className:"h-3.5 w-3.5"})," "]}),a.jsxs("button",{type:"button",onClick:h,disabled:!t,className:"inline-flex items-center gap-1.5 px-4 py-1.5 text-xs font-semibold bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-40 disabled:cursor-not-allowed shadow-sm",children:[a.jsx(kT,{className:"h-3.5 w-3.5"}),""]})]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(UY,{className:"h-4.5 w-4.5 text-indigo-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:" "}),a.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full",children:" "})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[10px] text-indigo-500 font-medium mb-1",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-indigo-800",children:"D-1  "}),a.jsx("div",{className:"text-[10px] text-indigo-400 mt-1",children:"       ."})]}),a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[10px] text-indigo-500 font-medium mb-1",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-indigo-800",children:"  "}),a.jsx("div",{className:"text-[10px] text-indigo-400 mt-1",children:"       ."})]}),a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-[10px] text-indigo-500 font-medium mb-1",children:" "}),a.jsx("div",{className:"text-sm font-semibold text-indigo-800",children:"  "}),a.jsx("div",{className:"text-[10px] text-indigo-400 mt-1",children:"     ."})]})]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(CY,{className:"h-4.5 w-4.5 text-orange-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"SLA    "}),!t&&a.jsx(zc,{className:"h-3.5 w-3.5 text-gray-400"}),a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-orange-50 text-orange-700 border border-orange-200 ml-auto",children:v})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-2",children:"SLA  (%)"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:70,max:99,value:s.matrixThresholds.slaCut,onChange:y=>o("slaCut",Number(y.target.value)),disabled:!t,className:"w-full accent-blue-600 disabled:opacity-40"}),a.jsx("input",{type:"number",min:70,max:99,value:s.matrixThresholds.slaCut,onChange:y=>o("slaCut",Number(y.target.value)||s.matrixThresholds.slaCut),disabled:!t,className:"w-16 px-2 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-2",children:"  (%)"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:70,max:99,value:s.matrixThresholds.dataCut,onChange:y=>o("dataCut",Number(y.target.value)),disabled:!t,className:"w-full accent-emerald-600 disabled:opacity-40"}),a.jsx("input",{type:"number",min:70,max:99,value:s.matrixThresholds.dataCut,onChange:y=>o("dataCut",Number(y.target.value)||s.matrixThresholds.dataCut),disabled:!t,className:"w-16 px-2 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]})]}),a.jsx("div",{className:"mt-3 text-[11px] text-gray-500",children:"         ."})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(z8,{className:"h-4.5 w-4.5 text-blue-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"/ "}),!t&&a.jsx(zc,{className:"h-3.5 w-3.5 text-gray-400"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"rounded-lg border border-gray-100 p-3",children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-2",children:"   "}),a.jsx("input",{type:"number",min:1,max:5,value:s.headline.maxItems,onChange:y=>l("maxItems",N8(Number(y.target.value)||1,1,5)),disabled:!t,className:"w-20 px-3 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-1",children:"      "})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 p-3 space-y-2",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 text-xs text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:s.headline.includePartialBadge,onChange:y=>l("includePartialBadge",y.target.checked),disabled:!t,className:"accent-blue-600"}),"   "]}),a.jsx("div",{className:"text-[10px] text-gray-500",children:"        "})]}),[{key:"keepPreviousData",label:"  (keepPreviousData)",desc:"      "},{key:"prefetchEnabled",label:" ",desc:"     "},{key:"useScopeOverlay",label:"  ",desc:"      "}].map(y=>a.jsxs("button",{type:"button",onClick:()=>d(y.key),disabled:!t,className:`rounded-lg border px-3 py-2 text-left transition-colors disabled:opacity-40 disabled:cursor-not-allowed ${s.drilldown[y.key]?"border-blue-200 bg-blue-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("div",{className:"text-xs font-semibold text-gray-800",children:y.label}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-0.5",children:y.desc})]},y.key))]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Ap,{className:"h-4.5 w-4.5 text-amber-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"/ "}),!t&&a.jsx(zc,{className:"h-3.5 w-3.5 text-gray-400"})]}),a.jsx("div",{className:"space-y-3",children:[{key:"batchDelayed",label:"  ",desc:"D-1        "},{key:"qualityRisk",label:"  ",desc:"       "},{key:"governanceGap",label:"  ",desc:"       "},{key:"policyImpactSpike",label:"   ",desc:"      "}].map(y=>a.jsxs("button",{type:"button",onClick:()=>u(y.key),disabled:!t,className:`w-full rounded-lg border px-3 py-2 text-left transition-colors disabled:opacity-40 disabled:cursor-not-allowed ${s.notifications[y.key]?"border-amber-200 bg-amber-50/70":"border-gray-200 bg-gray-50"}`,children:[a.jsx("div",{className:"text-xs font-semibold text-gray-800",children:y.label}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-0.5",children:y.desc})]},y.key))}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"rounded-lg border border-gray-100 p-3",children:[a.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"  "}),a.jsxs("select",{value:s.reports.defaultPeriod,onChange:y=>m(y.target.value),disabled:!t,className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"weekly",children:""}),a.jsx("option",{value:"monthly",children:""}),a.jsx("option",{value:"quarterly",children:""}),a.jsx("option",{value:"yearly_cum",children:"()"})]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-100 p-3",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 text-xs text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:s.reports.includeFilterContext,onChange:p,disabled:!t,className:"accent-amber-600"}),"     "]}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-1",children:"KPI///  CSV  "})]})]})]}),a.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Wo,{className:"h-4.5 w-4.5 text-green-600"}),a.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"   "})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-green-800",children:" "}),a.jsx("div",{className:"text-[10px] text-green-700 mt-1",children:" /// "})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-800",children:" "}),a.jsx("div",{className:"text-[10px] text-gray-600 mt-1",children:"   ( )"})]})]}),a.jsxs("div",{className:"mt-3 text-[10px] text-gray-400 flex items-center gap-1.5",children:[a.jsx(ql,{className:"h-3.5 w-3.5"})," : central.settings.v1   : ",N,"  : SLA ",ea.matrixThresholds.slaCut,"% /  ",ea.matrixThresholds.dataCut,"%"]})]})]})}const F3e={level:"nation",region:"KR",kpi:"SLA",period:"WEEK"};function B3e(e,t){return{...e,...t}}function U3e({userRole:e,userName:t,onLogout:r}){const[n,s]=g.useState("national-dashboard"),[i,o]=g.useState(F3e),l=g.useCallback((u,m)=>{o(p=>B3e(p,m)),s(u)},[]),d=()=>{switch(n){case"national-dashboard":return a.jsx(u8,{onNavigate:l});case"kpi-dictionary":return a.jsx(u5e,{onNavigate:l});case"model-apply":return a.jsx(Y5e,{});case"model-governance":return a.jsx(d3e,{context:i,onNavigate:l});case"quality-monitoring":return a.jsx(k3e,{context:i,onNavigate:l});case"compliance-audit":return a.jsx(M3e,{context:i,onNavigate:l});case"settings":return a.jsx($3e,{userRole:e});default:return a.jsx(u8,{onNavigate:l})}};return a.jsx(bTe,{currentPage:n,userRole:e,userName:t,onPageChange:s,onLogout:r,children:d()})}var H3e=(e,t,r,n,s,i,o,l)=>{let d=document.documentElement,u=["light","dark"];function m(b){(Array.isArray(e)?e:[e]).forEach(v=>{let N=v==="class",y=N&&i?s.map(S=>i[S]||S):s;N?(d.classList.remove(...y),d.classList.add(i&&i[b]?i[b]:b)):d.setAttribute(v,b)}),p(b)}function p(b){l&&u.includes(b)&&(d.style.colorScheme=b)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)m(n);else try{let b=localStorage.getItem(t)||r,v=o&&b==="system"?h():b;m(v)}catch{}},G3e=g.createContext(void 0),z3e={setTheme:e=>{},themes:[]},K3e=()=>{var e;return(e=g.useContext(G3e))!=null?e:z3e};g.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,themes:l,nonce:d,scriptProps:u})=>{let m=JSON.stringify([r,t,i,e,l,o,n,s]).slice(1,-1);return g.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${H3e.toString()})(${m})`}})});const Bx=({...e})=>{const{theme:t="system"}=K3e();return a.jsx(BZ,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function q3e(e){if(!e.trim())return"/neuro-shield/";let t=e.trim();return t.startsWith("/")||(t=`/${t}`),t.endsWith("/")||(t=`${t}/`),t}function S8(e){if(e==="/p/sms"||e==="/p/sms/")return!0;const t=q3e("/neuro-shield/");if(!e.startsWith(t))return!1;const r=e.slice(t.length-1);return r==="/p/sms"||r==="/p/sms/"}function W3e(){const[e,t]=g.useState(()=>window.location.hash==="#citizen");return g.useEffect(()=>{const r=()=>t(window.location.hash==="#citizen");return window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]),e}function V3e(){const[e,t]=g.useState(()=>S8(window.location.pathname));return g.useEffect(()=>{const r=()=>t(S8(window.location.pathname));return window.addEventListener("popstate",r),window.addEventListener("hashchange",r),()=>{window.removeEventListener("popstate",r),window.removeEventListener("hashchange",r)}},[]),e}function Y3e(){const[e,t]=g.useState(null),r=W3e(),n=V3e(),s=o=>{t(o),console.log("[AUDIT] User Logged In:",{email:o.email,role:o.role,timestamp:new Date().toISOString()})},i=()=>{console.log("[AUDIT] User Logged Out:",{email:e?.email,timestamp:new Date().toISOString()}),t(null),window.location.hash==="#citizen"&&history.replaceState(null,"",window.location.pathname)};return n?a.jsxs(a.Fragment,{children:[a.jsx(Bx,{}),a.jsx(Ree,{})]}):r?a.jsxs(a.Fragment,{children:[a.jsx(Bx,{}),a.jsx(VA,{})]}):e?a.jsxs(a.Fragment,{children:[a.jsx(Bx,{}),e.role==="citizen"&&a.jsx(VA,{}),e.role==="local_center"&&a.jsx(a_e,{userRole:"counselor",userName:e.name,centerName:e.organization||"",onLogout:i}),e.role==="regional_center"&&a.jsx(tTe,{userRole:"counselor",userName:e.name,centerName:e.organization||"",onLogout:i}),e.role==="central_admin"&&a.jsx(U3e,{userRole:"central_admin",userName:e.name,onLogout:i})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bx,{}),a.jsx(UZ,{onLogin:s})]})}const X3e=new zW({defaultOptions:{queries:{staleTime:6e4,gcTime:30*6e4,refetchOnWindowFocus:!1}}});oV.createRoot(document.getElementById("root")).render(a.jsx(KW,{client:X3e,children:a.jsx(Y3e,{})}));
